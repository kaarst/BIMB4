//>>built
require({cache:{"dojo/behavior":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/connect ./query ./domReady".split(" "),function(l,k,h,f,a,c){l.deprecated("dojo.behavior","Use dojo/on with event delegation (on.selector())");l.behavior=new function(){function c(b,a){b[a]||(b[a]=[]);return b[a]}function m(b,a,c){var d={},e;for(e in b)"undefined"==typeof d[e]&&(c?c.call(a,b[e],e):a(b[e],e))}var d=0;this._behaviors={};this.add=function(b){m(b,this,function(b,a){var n=c(this._behaviors,
a);"number"!=typeof n.id&&(n.id=d++);var f=[];n.push(f);if(k.isString(b)||k.isFunction(b))b={found:b};m(b,function(b,a){c(f,a).push(b)})})};var b=function(b,a,c){k.isString(a)?"found"==c?f.publish(a,[b]):f.connect(b,c,function(){f.publish(a,arguments)}):k.isFunction(a)&&("found"==c?a(b):f.connect(b,c,a))};this.apply=function(){m(this._behaviors,function(c,d){a(d).forEach(function(a){var d=0,e="_dj_behavior_"+c.id;if("number"==typeof a[e]&&(d=a[e],d==c.length))return;for(var f;f=c[d];d++)m(f,function(c,
d){k.isArray(c)&&h.forEach(c,function(c){b(a,c,d)})});a[e]=c.length})})}};c(function(){l.behavior.apply()});return l.behavior})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){function w(b){return eval("("+b+")")}function v(b){var a=b._nameCaseMap,c=b.prototype;if(!a||a._extendCnt<x){var a=
b._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(a[d.toLowerCase()]=d);a._extendCnt=x}return a}function y(b,a){var c=b.join();if(!A[c]){for(var d=[],e=0,m=b.length;e<m;e++){var n=b[e];d[d.length]=A[n]=A[n]||h.getObject(n)||~n.indexOf("/")&&(a?a(n):l(n))}e=d.shift();A[c]=d.length?e.createSubclass?e.createSubclass(d):e.extend.apply(e,d):e}return A[c]}new Date("X");var x=0;d.after(h,"extend",function(){x++},!0);var A={},z={_clearCache:function(){x++;A={}},_functionFromScript:function(b,a){var c="",
d="",e=b.getAttribute(a+"args")||b.getAttribute("args"),m=b.getAttribute("with"),e=(e||"").split(/\s*,\s*/);m&&m.length&&f.forEach(m.split(/\s*,\s*/),function(b){c+="with("+b+"){";d+="}"});return new Function(e,c+b.innerHTML+d)},instantiate:function(b,a,c){a=a||{};c=c||{};var d=(c.scope||k._scopeName)+"Type",e="data-"+(c.scope||k._scopeName)+"-",m=e+"type",n=e+"mixins",h=[];f.forEach(b,function(b){var c=d in a?a[d]:b.getAttribute(m)||b.getAttribute(d);if(c){var e=b.getAttribute(n),c=e?[c].concat(e.split(/\s*,\s*/)):
[c];h.push({node:b,types:c})}});return this._instantiate(h,a,c)},_instantiate:function(a,c,d,e){function m(b){c._started||d.noStart||f.forEach(b,function(b){"function"!==typeof b.startup||b._started||b.startup()});return b}a=f.map(a,function(b){var a=b.ctor||y(b.types,d.contextRequire);if(!a)throw Error("Unable to resolve constructor for: '"+b.types.join()+"'");return this.construct(a,b.node,c,d,b.scripts,b.inherited)},this);return e?b(a).then(m):m(a)},construct:function(b,a,c,e,p,l){function u(b){X&&
h.setObject(X,b);for(M=0;M<S.length;M++)d[S[M].advice||"after"](b,S[M].method,h.hitch(b,S[M].func),!0);for(M=0;M<Y.length;M++)Y[M].call(b);for(M=0;M<O.length;M++)b.watch(O[M].prop,O[M].func);for(M=0;M<W.length;M++)t(b,W[M].event,W[M].func);return b}var z=b&&b.prototype;e=e||{};var x={};e.defaults&&h.mixin(x,e.defaults);l&&h.mixin(x,l);var y;q("dom-attributes-explicit")?y=a.attributes:q("dom-attributes-specified-flag")?y=f.filter(a.attributes,function(b){return b.specified}):(l=(/^input$|^img$/i.test(a.nodeName)?
a:a.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),y=f.map(l.split(/\s+/),function(b){var c=b.toLowerCase();return{name:b,value:"LI"==a.nodeName&&"value"==b||"enctype"==c?a.getAttribute(c):a.getAttributeNode(c).value}}));var A=e.scope||k._scopeName;l="data-"+A+"-";var K={};"dojo"!==A&&(K[l+"props"]="data-dojo-props",K[l+"type"]="data-dojo-type",K[l+"mixins"]="data-dojo-mixins",K[A+"type"]="dojoType",K[l+"id"]="data-dojo-id");
for(var M=0,H,A=[],X,R;H=y[M++];){var N=H.name,Q=N.toLowerCase();H=H.value;switch(K[Q]||Q){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":R=H;break;case "data-dojo-id":case "jsid":X=H;break;case "data-dojo-attach-point":case "dojoattachpoint":x.dojoAttachPoint=H;break;case "data-dojo-attach-event":case "dojoattachevent":x.dojoAttachEvent=H;break;case "class":x["class"]=a.className;break;case "style":x.style=a.style&&a.style.cssText;break;default:if(N in
z||(N=v(b)[Q]||N),N in z)switch(typeof z[N]){case "string":x[N]=H;break;case "number":x[N]=H.length?Number(H):NaN;break;case "boolean":x[N]="false"!=H.toLowerCase();break;case "function":""===H||-1!=H.search(/[^\w\.]+/i)?x[N]=new Function(H):x[N]=h.getObject(H,!1)||new Function(H);A.push(N);break;default:Q=z[N],x[N]=Q&&"length"in Q?H?H.split(/\s*,\s*/):[]:Q instanceof Date?""==H?new Date(""):"now"==H?new Date:n.fromISOString(H):Q instanceof m?k.baseUrl+H:w(H)}else x[N]=H}}for(y=0;y<A.length;y++)K=
A[y].toLowerCase(),a.removeAttribute(K),a[K]=null;if(R)try{R=w.call(e.propsThis,"{"+R+"}"),h.mixin(x,R)}catch(da){throw Error(da.toString()+" in data-dojo-props\x3d'"+R+"'");}h.mixin(x,c);p||(p=b&&(b._noScript||z._noScript)?[]:r("\x3e script[type^\x3d'dojo/']",a));var S=[],Y=[],O=[],W=[];if(p)for(M=0;M<p.length;M++)K=p[M],a.removeChild(K),c=K.getAttribute(l+"event")||K.getAttribute("event"),e=K.getAttribute(l+"prop"),R=K.getAttribute(l+"method"),A=K.getAttribute(l+"advice"),y=K.getAttribute("type"),
K=this._functionFromScript(K,l),c?"dojo/connect"==y?S.push({method:c,func:K}):"dojo/on"==y?W.push({event:c,func:K}):x[c]=K:"dojo/aspect"==y?S.push({method:R,advice:A,func:K}):"dojo/watch"==y?O.push({prop:e,func:K}):Y.push(K);b=(p=b.markupFactory||z.markupFactory)?p(x,a,b):new b(x,a);return b.then?b.then(u):u(b)},scan:function(b,a){function c(b){if(!b.inherited){b.inherited={};var a=b.node,d=c(b.parent),a={dir:a.getAttribute("dir")||d.dir,lang:a.getAttribute("lang")||d.lang,textDir:a.getAttribute(t)||
d.textDir},e;for(e in a)a[e]&&(b.inherited[e]=a[e])}return b.inherited}var d=[],e=[],m={},n=(a.scope||k._scopeName)+"Type",h="data-"+(a.scope||k._scopeName)+"-",r=h+"type",t=h+"textdir",h=h+"mixins",u=b.firstChild,v=a.inherited;if(!v){var w=function(b,a){return b.getAttribute&&b.getAttribute(a)||b.parentNode&&w(b.parentNode,a)},v={dir:w(b,"dir"),lang:w(b,"lang"),textDir:w(b,t)},z;for(z in v)v[z]||delete v[z]}for(var v={inherited:v},x,A;;)if(u)if(1!=u.nodeType)u=u.nextSibling;else if(x&&"script"==
u.nodeName.toLowerCase())(N=u.getAttribute("type"))&&/^dojo\/\w/i.test(N)&&x.push(u),u=u.nextSibling;else if(A)u=u.nextSibling;else{var N=u.getAttribute(r)||u.getAttribute(n);z=u.firstChild;if(N||z&&(3!=z.nodeType||z.nextSibling)){A=null;if(N){var Q=u.getAttribute(h);x=Q?[N].concat(Q.split(/\s*,\s*/)):[N];try{A=y(x,a.contextRequire)}catch(Y){}A||f.forEach(x,function(b){~b.indexOf("/")&&!m[b]&&(m[b]=!0,e[e.length]=b)});Q=A&&!A.prototype._noScript?[]:null;v={types:x,ctor:A,parent:v,node:u,scripts:Q};
v.inherited=c(v);d.push(v)}else v={node:u,scripts:x,parent:v};x=Q;A=u.stopParser||A&&A.prototype.stopParser&&!a.template;u=z}else u=u.nextSibling}else{if(!v||!v.node)break;u=v.node.nextSibling;A=!1;v=v.parent;x=v.scripts}var S=new p;e.length?(q("dojo-debug-messages"),(a.contextRequire||l)(e,function(){S.resolve(f.filter(d,function(b){if(!b.ctor)try{b.ctor=y(b.types,a.contextRequire)}catch(c){}for(var d=b.parent;d&&!d.types;)d=d.parent;var e=b.ctor&&b.ctor.prototype;b.instantiateChildren=!(e&&e.stopParser&&
!a.template);b.instantiate=!d||d.instantiate&&d.instantiateChildren;return b.instantiate}))})):S.resolve(d);return S.promise},_require:function(b,a){var c=w("{"+b.innerHTML+"}"),d=[],e=[],m=new p,n=a&&a.contextRequire||l,f;for(f in c)d.push(f),e.push(c[f]);n(e,function(){for(var b=0;b<d.length;b++)h.setObject(d[b],arguments[b]);m.resolve(arguments)});return m.promise},_scanAmd:function(b,a){var c=new p,d=c.promise;c.resolve(!0);var e=this;r("script[type\x3d'dojo/require']",b).forEach(function(b){d=
d.then(function(){return e._require(b,a)});b.parentNode.removeChild(b)});return d},parse:function(b,a){!b||"string"==typeof b||"nodeType"in b||(a=b,b=a.rootNode);var d=b?c.byId(b):e.body();a=a||{};var m=a.template?{template:!0}:{},n=[],f=this,p=this._scanAmd(d,a).then(function(){return f.scan(d,a)}).then(function(b){return f._instantiate(b,m,a,!0)}).then(function(b){return n=n.concat(b)}).otherwise(function(b){throw b;});h.mixin(n,p);return n}};k.parser=z;a.parseOnLoad&&u(100,z,"parse");return z})},
"dojo/_base/url":function(){define(["./kernel"],function(l){var k=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,h=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,f=function(){for(var a=arguments,c=[a[0]],e=1;e<a.length;e++)if(a[e]){var m=new f(a[e]+""),c=new f(c[0]+"");if(""==m.path&&!m.scheme&&!m.authority&&!m.query)null!=m.fragment&&(c.fragment=m.fragment),m=c;else if(!m.scheme&&(m.scheme=c.scheme,!m.authority&&(m.authority=c.authority,"/"!=m.path.charAt(0)))){for(var c=
(c.path.substring(0,c.path.lastIndexOf("/")+1)+m.path).split("/"),d=0;d<c.length;d++)"."==c[d]?d==c.length-1?c[d]="":(c.splice(d,1),d--):0<d&&(1!=d||""!=c[0])&&".."==c[d]&&".."!=c[d-1]&&(d==c.length-1?(c.splice(d,1),c[d-1]=""):(c.splice(d-1,2),d-=2));m.path=c.join("/")}c=[];m.scheme&&c.push(m.scheme,":");m.authority&&c.push("//",m.authority);c.push(m.path);m.query&&c.push("?",m.query);m.fragment&&c.push("#",m.fragment)}this.uri=c.join("");a=this.uri.match(k);this.scheme=a[2]||(a[1]?"":null);this.authority=
a[4]||(a[3]?"":null);this.path=a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(h),this.user=a[3]||null,this.password=a[4]||null,this.host=a[6]||a[7],this.port=a[9]||null)};f.prototype.toString=function(){return this.uri};return l._Url=f})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(l,k,h){var f=l.some;return function(a){var c,e;a instanceof Array?e=a:a&&"object"===typeof a&&(c=a);var m,
d=[];if(c){e=[];for(var b in c)Object.hasOwnProperty.call(c,b)&&(d.push(b),e.push(c[b]));m={}}else e&&(m=[]);if(!e||!e.length)return(new k).resolve(m);var n=new k;n.promise.always(function(){m=d=null});var p=e.length;f(e,function(b,a){c||d.push(a);h(b,function(b){n.isFulfilled()||(m[d[a]]=b,0===--p&&n.resolve(m))},n.reject);return n.isFulfilled()});return n.promise}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(l,k){var h={};l.setObject("dojo.date.stamp",h);h.fromISOString=
function(f,a){h._isoRegExp||(h._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var c=h._isoRegExp.exec(f),e=null;if(c){c.shift();c[1]&&c[1]--;c[6]&&(c[6]*=1E3);a&&(a=new Date(a),k.forEach(k.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(b){return a["get"+b]()}),function(b,a){c[a]=c[a]||b}));e=new Date(c[0]||1970,c[1]||0,c[2]||1,c[3]||0,c[4]||0,c[5]||0,c[6]||0);100>c[0]&&e.setFullYear(c[0]||
1970);var m=0,d=c[7]&&c[7].charAt(0);"Z"!=d&&(m=60*(c[8]||0)+(Number(c[9])||0),"-"!=d&&(m*=-1));d&&(m-=e.getTimezoneOffset());m&&e.setTime(e.getTime()+6E4*m)}return e};h.toISOString=function(f,a){var c=function(b){return 10>b?"0"+b:b};a=a||{};var e=[],m=a.zulu?"getUTC":"get",d="";"time"!=a.selector&&(d=f[m+"FullYear"](),d=["0000".substr((d+"").length)+d,c(f[m+"Month"]()+1),c(f[m+"Date"]())].join("-"));e.push(d);if("date"!=a.selector){d=[c(f[m+"Hours"]()),c(f[m+"Minutes"]()),c(f[m+"Seconds"]())].join(":");
m=f[m+"Milliseconds"]();a.milliseconds&&(d+="."+(100>m?"0":"")+c(m));if(a.zulu)d+="Z";else if("time"!=a.selector)var m=f.getTimezoneOffset(),b=Math.abs(m),d=d+((0<m?"-":"+")+c(Math.floor(b/60))+":"+c(b%60));e.push(d)}return e.join("T")};return h})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(l,k,h,f,a){var c={};l.setObject("dojo.number",c);c.format=function(a,d){d=l.mixin({},d||{});var b=k.normalizeLocale(d.locale),b=k.getLocalization("dojo.cldr",
"number",b);d.customs=b;b=d.pattern||b[(d.type||"decimal")+"Format"];return isNaN(a)||Infinity==Math.abs(a)?null:c._applyPattern(a,b,d)};c._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;c._applyPattern=function(a,d,b){b=b||{};var e=b.customs.group,f=b.customs.decimal;d=d.split(";");var h=d[0];d=d[0>a?1:0]||"-"+h;if(-1!=d.indexOf("%"))a*=100;else if(-1!=d.indexOf("\u2030"))a*=1E3;else if(-1!=d.indexOf("\u00a4"))e=b.customs.currencyGroup||e,f=b.customs.currencyDecimal||f,d=d.replace(/\u00a4{1,3}/,function(a){return b[["symbol",
"currency","displayName"][a.length-1]]||b.currency||""});else if(-1!=d.indexOf("E"))throw Error("exponential notation not supported");var k=c._numberPatternRE,h=h.match(k);if(!h)throw Error("unable to find a number expression in pattern: "+d);!1===b.fractional&&(b.places=0);return d.replace(k,c._formatAbsolute(a,h[0],{decimal:f,group:e,places:b.places,round:b.round}))};c.round=function(a,c,b){b=10/(b||10);return(b*+a).toFixed(c)/b};if(0==(.9).toFixed()){var e=c.round;c.round=function(a,c,b){var n=
Math.pow(10,-c||0),f=Math.abs(a);if(!a||f>=n)n=0;else if(f/=n,.5>f||.95<=f)n=0;return e(a,c,b)+(0<a?n:-n)}}c._formatAbsolute=function(a,d,b){b=b||{};!0===b.places&&(b.places=0);Infinity===b.places&&(b.places=6);d=d.split(".");var e="string"==typeof b.places&&b.places.indexOf(","),h=b.places;e?h=b.places.substring(e+1):0<=h||(h=(d[1]||[]).length);0>b.round||(a=c.round(a,h,b.round));a=String(Math.abs(a)).split(".");var k=a[1]||"";d[1]||b.places?(e&&(b.places=b.places.substring(0,e)),e=void 0!==b.places?
b.places:d[1]&&d[1].lastIndexOf("0")+1,e>k.length&&(a[1]=f.pad(k,e,"0",!0)),h<k.length&&(a[1]=k.substr(0,h))):a[1]&&a.pop();h=d[0].replace(",","");e=h.indexOf("0");-1!=e&&(e=h.length-e,e>a[0].length&&(a[0]=f.pad(a[0],e)),-1==h.indexOf("#")&&(a[0]=a[0].substr(a[0].length-e)));var h=d[0].lastIndexOf(","),l,t;-1!=h&&(l=d[0].length-h-1,d=d[0].substr(0,h),h=d.lastIndexOf(","),-1!=h&&(t=d.length-h-1));d=[];for(h=a[0];h;)e=h.length-l,d.push(0<e?h.substr(e):h),h=0<e?h.slice(0,e):"",t&&(l=t,delete t);a[0]=
d.reverse().join(b.group||",");return a.join(b.decimal||".")};c.regexp=function(a){return c._parseInfo(a).regexp};c._parseInfo=function(e){e=e||{};var d=k.normalizeLocale(e.locale),d=k.getLocalization("dojo.cldr","number",d),b=e.pattern||d[(e.type||"decimal")+"Format"],n=d.group,f=d.decimal,h=1;if(-1!=b.indexOf("%"))h/=100;else if(-1!=b.indexOf("\u2030"))h/=1E3;else{var l=-1!=b.indexOf("\u00a4");l&&(n=d.currencyGroup||n,f=d.currencyDecimal||f)}d=b.split(";");1==d.length&&d.push("-"+d[0]);d=a.buildGroupRE(d,
function(b){b="(?:"+a.escapeString(b,".")+")";return b.replace(c._numberPatternRE,function(b){var a={signed:!1,separator:e.strict?n:[n,""],fractional:e.fractional,decimal:f,exponent:!1};b=b.split(".");var d=e.places;1==b.length&&1!=h&&(b[1]="###");1==b.length||0===d?a.fractional=!1:(void 0===d&&(d=e.pattern?b[1].lastIndexOf("0")+1:Infinity),d&&void 0==e.fractional&&(a.fractional=!0),!e.places&&d<b[1].length&&(d+=","+b[1].length),a.places=d);b=b[0].split(",");1<b.length&&(a.groupSize=b.pop().length,
1<b.length&&(a.groupSize2=b.pop().length));return"("+c._realNumberRegexp(a)+")"})},!0);l&&(d=d.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(b,c,d,n){b=a.escapeString(e[["symbol","currency","displayName"][d.length-1]]||e.currency||"");c=c?"[\\s\\xa0]":"";n=n?"[\\s\\xa0]":"";return e.strict?c+b+n:(c&&(c+="*"),n&&(n+="*"),"(?:"+c+b+n+")?")}));return{regexp:d.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:n,decimal:f,factor:h}};c.parse=function(a,d){var b=c._parseInfo(d),e=(new RegExp("^"+b.regexp+
"$")).exec(a);if(!e)return NaN;var f=e[1];if(!e[1]){if(!e[2])return NaN;f=e[2];b.factor*=-1}f=f.replace(new RegExp("["+b.group+"\\s\\xa0]","g"),"").replace(b.decimal,".");return f*b.factor};c._realNumberRegexp=function(e){e=e||{};"places"in e||(e.places=Infinity);"string"!=typeof e.decimal&&(e.decimal=".");"fractional"in e&&!/^0/.test(e.places)||(e.fractional=[!0,!1]);"exponent"in e||(e.exponent=[!0,!1]);"eSigned"in e||(e.eSigned=[!0,!1]);var d=c._integerRegexp(e),b=a.buildGroupRE(e.fractional,function(b){var a=
"";b&&0!==e.places&&(a="\\"+e.decimal,a=Infinity==e.places?"(?:"+a+"\\d+)?":a+("\\d{"+e.places+"}"));return a},!0),n=a.buildGroupRE(e.exponent,function(b){return b?"([eE]"+c._integerRegexp({signed:e.eSigned})+")":""}),d=d+b;b&&(d="(?:(?:"+d+")|(?:"+b+"))");return d+n};c._integerRegexp=function(c){c=c||{};"signed"in c||(c.signed=[!0,!1]);"separator"in c?"groupSize"in c||(c.groupSize=3):c.separator="";var d=a.buildGroupRE(c.signed,function(b){return b?"[-+]":""},!0),b=a.buildGroupRE(c.separator,function(b){if(!b)return"(?:\\d+)";
b=a.escapeString(b);" "==b?b="\\s":"\u00a0"==b&&(b="\\s\\xa0");var d=c.groupSize,e=c.groupSize2;return e?(b="(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+b+"]\\d{"+e+"})*["+b+"]\\d{"+d+"})",0<d-e?"(?:"+b+"|(?:0|[1-9]\\d{0,"+(d-1)+"}))":b):"(?:0|[1-9]\\d{0,"+(d-1)+"}(?:["+b+"]\\d{"+d+"})*)"},!0);return d+b};return c})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(l,k,h,f,a,c,e,m,d){h.add("dojo-preload-i18n-Api",
1);var b=l.i18n={},n=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,p=function(b,a,c,d){var e=[c+d];a=a.split("-");for(var n="",m=0;m<a.length;m++)if(n+=(n?"-":"")+a[m],!b||b[n])e.push(c+n+"/"+d),e.specificity=n;return e},q={},r=function(b,a,c){c=c?c.toLowerCase():l.locale;b=b.replace(/\./g,"/");a=a.replace(/\./g,"/");return/root/i.test(c)?b+"/nls/"+a:b+"/nls/"+c+"/"+a},t=l.getL10nName=function(b,a,c){return d.id+"!"+r(b,a,c)},u=function(b,a,d,e,n,m){b([a],function(f){var h=c.clone(f.root||f.ROOT),k=p(!f._v1x&&
f,n,d,e);b(k,function(){for(var b=1;b<k.length;b++)h=c.mixin(c.clone(h),arguments[b]);q[a+"/"+n]=h;h.$locale=k.specificity;m()})})},w=function(b){var d=a.extraLocale||[],d=c.isArray(d)?d:[d];d.push(b);return d},v=function(b,a,d){if(h("dojo-preload-i18n-Api")){var e=b.split("*"),p="preload"==e[1];p&&(q[b]||(q[b]=1,B(e[2],m.parse(e[3]),1,a)),d(1));(e=p)||(A&&z.push([b,a,d]),e=A);if(e)return}b=n.exec(b);var k=b[1]+"/",r=b[5]||b[4],t=k+r,e=(b=b[5]&&b[4])||l.locale||"",v=t+"/"+e;b=b?[e]:w(e);var x=b.length,
y=function(){--x||d(c.delegate(q[v]))};f.forEach(b,function(b){var c=t+"/"+b;h("dojo-preload-i18n-Api")&&C(c);q[c]?y():u(a,t,k,r,b,y)})};if(h("dojo-unit-tests"))var y=b.unitTests=[];h("dojo-preload-i18n-Api");var x=b.normalizeLocale=function(b){b=b?b.toLowerCase():l.locale;return"root"==b?"ROOT":b},A=0,z=[],B=b._preloadLocalizations=function(b,a,d,e){function n(b,a){e.isXdUrl(k.toUrl(b+".js"))||d?e([b],a):G([b],a,e)}function m(b,a){for(var c=b.split("-");c.length;){if(a(c.join("-")))return;c.pop()}a("ROOT")}
function h(){for(--A;!A&&z.length;)v.apply(null,z.shift())}function p(d){d=x(d);m(d,function(p){if(0<=f.indexOf(a,p)){var l=b.replace(/\./g,"/")+"_"+p;A++;n(l,function(b){for(var a in b){var n=b[a],f=a.match(/(.+)\/([^\/]+)$/),l;if(f){l=f[2];f=f[1]+"/";n._localized=n._localized||{};var r;if("ROOT"===p){var t=r=n._localized;delete n._localized;t.root=n;q[k.toAbsMid(a)]=t}else r=n._localized,q[k.toAbsMid(f+l+"/"+p)]=n;p!==d&&function(b,a,n,f){var p=[],l=[];m(d,function(c){f[c]&&(p.push(k.toAbsMid(b+
c+"/"+a)),l.push(k.toAbsMid(b+a+"/"+c)))});p.length?(A++,e(p,function(){for(var e=0;e<p.length;e++)n=c.mixin(c.clone(n),arguments[e]),q[l[e]]=n;q[k.toAbsMid(b+a+"/"+d)]=c.clone(n);h()})):q[k.toAbsMid(b+a+"/"+d)]=n}(f,l,n,r)}}h()});return!0}return!1})}e=e||k;p();f.forEach(l.config.extraLocale,p)},C=function(){},D={},F=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
G=function(b,a,c){var d=[];f.forEach(b,function(b){function a(c){c=F(c,C,b,D);c===D?d.push(q[n]=D.result):(c instanceof Error&&(c={}),d.push(q[n]=/nls\/[^\/]+\/[^\/]+$/.test(n)?c:{root:c,_v1x:1}))}var n=c.toUrl(b+".js");if(q[n])d.push(q[n]);else{var m=c.syncLoadNls(b);if(m)d.push(m);else if(e)e.get({url:n,sync:!0,load:a,error:function(){d.push(q[n]={})}});else try{c.getText(n,!0,a)}catch(f){d.push(q[n]={})}}});a&&a.apply(null,d)},C=function(b){for(var a,c=b.split("/"),d=l.global[c[0]],e=1;d&&e<c.length-
1;d=d[c[e++]]);d&&((a=d[c[e]])||(a=d[c[e].replace(/-/g,"_")]),a&&(q[b]=a));return a};b.getLocalization=function(b,a,c){var d;b=r(b,a,c);v(b,k.isXdUrl(k.toUrl(b+".js"))?k:function(b,a){G(b,a,k)},function(b){d=b});return d};h("dojo-unit-tests")&&y.push(function(b){b.register("tests.i18n.unit",function(b){var a;a=F("{prop:1}",C,"nonsense",D);b.is({prop:1},a);b.is(void 0,a[1]);a=F("({prop:1})",C,"nonsense",D);b.is({prop:1},a);b.is(void 0,a[1]);a=F("{'prop-x':1}",C,"nonsense",D);b.is({"prop-x":1},a);b.is(void 0,
a[1]);a=F("({'prop-x':1})",C,"nonsense",D);b.is({"prop-x":1},a);b.is(void 0,a[1]);a=F("define({'prop-x':1})",C,"nonsense",D);b.is(D,a);b.is({"prop-x":1},D.result);a=F("define('some/module', {'prop-x':1})",C,"nonsense",D);b.is(D,a);b.is({"prop-x":1},D.result);a=F("this is total nonsense and should throw an error",C,"nonsense",D);b.is(a instanceof Error,!0)})});return c.mixin(b,{dynamic:!0,normalize:function(b,a){return/^\./.test(b)?a(b):b},load:v,cache:q,getL10nName:t})})},"dojo/string":function(){define(["./_base/kernel",
"./_base/lang"],function(l,k){var h=/[&<>'"\/]/g,f={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},a={};k.setObject("dojo.string",a);a.escape=function(a){return a?a.replace(h,function(a){return f[a]}):""};a.rep=function(a,e){if(0>=e||!a)return"";for(var m=[];;){e&1&&m.push(a);if(!(e>>=1))break;a+=a}return m.join("")};a.pad=function(c,e,m,d){m||(m="0");c=String(c);e=a.rep(m,Math.ceil((e-c.length)/m.length));return d?c+e:e+c};a.substitute=function(a,
e,m,d){d=d||l.global;m=m?k.hitch(d,m):function(b){return b};return a.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(b,a,c){b=k.getObject(a,!1,e);c&&(b=k.getObject(c,!1,d).call(d,b,a));return m(b,a).toString()})};a.trim=String.prototype.trim?k.trim:function(a){a=a.replace(/^\s+/,"");for(var e=a.length-1;0<=e;e--)if(/\S/.test(a.charAt(e))){a=a.substring(0,e+1);break}return a};return a})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(l,k){var h={};k.setObject("dojo.regexp",
h);h.escapeString=function(f,a){return f.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(c){return a&&-1!=a.indexOf(c)?c:"\\"+c})};h.buildGroupRE=function(f,a,c){if(!(f instanceof Array))return a(f);for(var e=[],m=0;m<f.length;m++)e.push(a(f[m]));return h.group(e.join("|"),c)};h.group=function(f,a){return"("+(a?"?:":"")+f+")"};return h})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){h.isAsync||m(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var q=k("dojo.dnd.Source",n,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(b,c){f.mixin(this,f.mixin({},c));var e=this.accept;if(e.length){this.accept={};for(var n=0;n<e.length;++n)this.accept[e[n]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;
this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&a.add(this.node,"dojoDndSource");this.targetState="";this.accept&&a.add(this.node,"dojoDndTarget");this.horizontal&&a.add(this.node,"dojoDndHorizontal");this.topics=[d.subscribe("/dnd/source/over",f.hitch(this,"onDndSourceOver")),d.subscribe("/dnd/start",f.hitch(this,"onDndStart")),d.subscribe("/dnd/drop",f.hitch(this,"onDndDrop")),d.subscribe("/dnd/cancel",f.hitch(this,"onDndCancel"))]},checkAcceptance:function(b,a){if(this==
b)return!this.copyOnly||this.selfAccept;for(var c=0;c<a.length;++c){for(var d=b.getItem(a[c].id).type,e=!1,n=0;n<d.length;++n)if(d[n]in this.accept){e=!0;break}if(!e)return!1}return!0},copyState:function(b,a){if(b)return!0;2>arguments.length&&(a=this==p.manager().target);if(a){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){q.superclass.destroy.call(this);l.forEach(this.topics,function(b){b.remove()});this.targetAnchor=null},onMouseMove:function(a){if(!this.isDragging||
"Disabled"!=this.targetState){q.superclass.onMouseMove.call(this,a);var d=p.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)){var e=this.getSelectedNodes();e.length&&d.startDrag(this,e,this.copyState(b.getCopyKeyState(a),!0))}this.isDragging&&(e=!1,this.current&&(this.targetBox&&this.targetAnchor==this.current||(this.targetBox=c.position(this.current,!0)),e=this.horizontal?a.pageX-this.targetBox.x<this.targetBox.w/
2==c.isBodyLtr(this.current.ownerDocument):a.pageY-this.targetBox.y<this.targetBox.h/2),this.current!=this.targetAnchor||e!=this.before)&&(this._markTargetAnchor(e),d.canDrop(!this.current||d.source!=this||!(this.current.id in this.selection)))}},onMouseDown:function(a){this.mouseDown||!this._legalMouseDown(a)||this.skipForm&&b.isFormElement(a)||(this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,q.superclass.onMouseDown.call(this,a))},onMouseUp:function(b){this.mouseDown&&(this.mouseDown=
!1,q.superclass.onMouseUp.call(this,b))},onDndSourceOver:function(b){this!==b?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(b=p.manager(),b.canDrop("Disabled"!=this.targetState&&(!this.current||b.source!=this||!(this.current.id in this.selection))))},onDndStart:function(b,a,c){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==b?c?"Copied":"Moved":"");a=this.accept&&this.checkAcceptance(b,a);this._changeState("Target",a?"":"Disabled");
this==b&&p.manager().overSource(this);this.isDragging=!0},onDndDrop:function(b,a,c,d){if(this==d)this.onDrop(b,a,c);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(b,a,c){if(this!=b)this.onDropExternal(b,a,c);else this.onDropInternal(a,c)},onDropExternal:function(a,c,d){var e=this._normalizedCreator;this._normalizedCreator=
this.creator?function(b,c){return e.call(this,a.getItem(b.id).data,c)}:d?function(c){var d=a.getItem(c.id);c=c.cloneNode(!0);c.id=b.getUniqueId();return{node:c,data:d.data,type:d.type}}:function(b){var c=a.getItem(b.id);a.delItem(b.id);return{node:b,data:c.data,type:c.type}};this.selectNone();d||this.creator||a.selectNone();this.insertNodes(!0,c,this.before,this.current);!d&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=e},onDropInternal:function(a,c){var d=this._normalizedCreator;
if(!(this.current&&this.current.id in this.selection)){if(c)this._normalizedCreator=this.creator?function(b,a){return d.call(this,this.getItem(b.id).data,a)}:function(a){var c=this.getItem(a.id);a=a.cloneNode(!0);a.id=b.getUniqueId();return{node:a,data:c.data,type:c.type}};else{if(!this.current)return;this._normalizedCreator=function(b){var a=this.getItem(b.id);return{node:b,data:a.data,type:a.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=d}},
onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){q.superclass.onOverEvent.call(this);p.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){q.superclass.onOutEvent.call(this);p.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(b){if(this.current!=this.targetAnchor||this.before!=b)this.targetAnchor&&this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=b,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After")},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(b){this._changeState("Source",b?"Copied":"Moved")},_legalMouseDown:function(b){if("touchstart"!=b.type&&!e.isLeft(b))return!1;
if(!this.withHandles)return!0;for(b=b.target;b&&b!==this.node;b=b.parentNode){if(a.contains(b,"dojoDndHandle"))return!0;if(a.contains(b,"dojoDndItem")||a.contains(b,"dojoDndIgnore"))break}return!1}});return q})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(l,k,h,f){var a=h.getObject("dojo.dnd",!0);a.getCopyKeyState=function(a){return a[l("mac")?"metaKey":"ctrlKey"]};a._uniqueId=0;a.getUniqueId=function(){var c;do c=k._scopeName+"Unique"+ ++a._uniqueId;
while(f.byId(c));return c};a._empty={};a.isFormElement=function(a){a=a.target;3==a.nodeType&&(a=a.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")};return a})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){var q=k("dojo.dnd.Selector",p,{constructor:function(a,
c){c||(c={});this.singular=c.singular;this.autoSync=c.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(d(this.node,b.press,f.hitch(this,"onMouseDown")),d(this.node,b.release,f.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var b=new m,c=n._empty,d;for(d in this.selection)d in c||b.push(a.byId(d));return b},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(b,c){this._addItemClass(a.byId(c),
"Selected");this.selection[c]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var b=n._empty,d;for(d in this.selection)if(!(d in b)){var e=a.byId(d);this.delItem(d);c.destroy(e)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(b,a){a=a||h.global;var c=this.selection,d=n._empty,e;for(e in c)e in d||b.call(a,this.getItem(e),e,this)},sync:function(){q.superclass.sync.call(this);this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var b=[],a=n._empty,
c;for(c in this.selection)c in a||this.getItem(c)||b.push(c);l.forEach(b,function(b){delete this.selection[b]},this);return this},insertNodes:function(b,a,c,d){var e=this._normalizedCreator;this._normalizedCreator=function(a,c){var d=e.call(this,a,c);b?(this.anchor?this.anchor!=d.node&&(this._removeItemClass(d.node,"Anchor"),this._addItemClass(d.node,"Selected")):(this.anchor=d.node,this._removeItemClass(d.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),this.selection[d.node.id]=1):(this._removeItemClass(d.node,
"Selected"),this._removeItemClass(d.node,"Anchor"));return d};q.superclass.insertNodes.call(this,a,c,d);this._normalizedCreator=e;return this},destroy:function(){q.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(b){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!n.getCopyKeyState(b)&&!b.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,e.isLeft(b)&&(b.stopPropagation(),b.preventDefault());else{if(!this.singular&&b.shiftKey){n.getCopyKeyState(b)||
this._removeSelection();var a=this.getAllNodes();if(a.length&&(this.anchor||(this.anchor=a[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var c=0,d;c<a.length&&(d=a[c],d!=this.anchor&&d!=this.current);++c);for(++c;c<a.length;++c){d=a[c];if(d==this.anchor||d==this.current)break;this._addItemClass(d,"Selected");this.selection[d.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==
this.current?n.getCopyKeyState(b)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):n.getCopyKeyState(b)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),
this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);b.stopPropagation();b.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},
onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=d(this.node,b.move,f.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var b=n._empty,c;for(c in this.selection)if(!(c in b)){var d=a.byId(c);d&&this._removeItemClass(d,"Selected")}this.selection={};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),
this.anchor=null);return this}});return q})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(l,k,h,f,a,c,e,m,d,b){function n(b,a,d){return t&&d?function(b,a){return c(b,d,a)}:w?function(d,e){var n=c(d,a,function(b){e.call(this,b);G=(new Date).getTime()}),m=c(d,b,function(b){(!G||(new Date).getTime()>G+1E3)&&e.call(this,b)});return{remove:function(){n.remove();m.remove()}}}:function(a,d){return c(a,
b,d)}}function p(b){do if(void 0!==b.dojoClick)return b;while(b=b.parentNode)}function q(a,d,e){if(!m.isRight(a)){var n=p(a.target);if(y=!a.target.disabled&&n&&n.dojoClick)if(A=(x="useTarget"==y)?n:a.target,x&&a.preventDefault(),z=a.changedTouches?a.changedTouches[0].pageX-b.global.pageXOffset:a.clientX,B=a.changedTouches?a.changedTouches[0].pageY-b.global.pageYOffset:a.clientY,C=("object"==typeof y?y.x:"number"==typeof y?y:0)||4,D=("object"==typeof y?y.y:"number"==typeof y?y:0)||4,!v){a=function(a){b.doc.addEventListener(a,
function(b){var c=b.target;if(y&&!b._dojo_click&&(new Date).getTime()<=F+1E3&&("INPUT"!=c.tagName||!f.contains(c,"dijitOffScreen"))&&(b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),"click"==a&&("INPUT"!=c.tagName||"radio"==c.type&&(f.contains(c,"dijitCheckBoxInput")||f.contains(c,"mblRadioButton"))||"checkbox"==c.type&&(f.contains(c,"dijitCheckBoxInput")||f.contains(c,"mblCheckBox")))&&"TEXTAREA"!=c.tagName&&"AUDIO"!=c.tagName&&"VIDEO"!=c.tagName)){var d=null;try{if("A"==
c.tagName){for(;(c=c.parentElement)&&!c.classList.contains("dijitMenu")&&!c.classList.contains("dijitButtonNode"););d=c}}catch(e){}d||b.preventDefault()}},!0)};var k=function(a){y=x?h.isDescendant(b.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-b.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-b.global.pageYOffset:a.clientY),A):y&&(a.changedTouches?a.changedTouches[0].target:a.target)==A&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-b.global.pageXOffset:
a.clientX)-z)<=C&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-b.global.pageYOffset:a.clientY)-B)<=D};v=!0;b.doc.addEventListener(d,function(b){m.isRight(b)||(k(b),x&&b.preventDefault())},!0);b.doc.addEventListener(e,function(b){if(!m.isRight(b)&&(k(b),y)){var a=function(a){var c=document.createEvent("MouseEvents");c._dojo_click=!0;c.initMouseEvent(a,!0,!0,b.view,b.detail,e.screenX,e.screenY,e.clientX,e.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null);return c};F=(new Date).getTime();
var d=x?A:b.target;"LABEL"===d.tagName&&(d=h.byId(d.getAttribute("for"))||d);var e=b.changedTouches?b.changedTouches[0]:b,n=a("mousedown"),f=a("mouseup"),p=a("click");setTimeout(function(){c.emit(d,"mousedown",n);c.emit(d,"mouseup",f);c.emit(d,"click",p);F=(new Date).getTime()},0)}},!0);a("click");a("mousedown");a("mouseup")}}}var r=5>e("ios"),t=e("pointer-events")||e("MSPointer"),u=function(){var b={},a;for(a in{down:1,move:1,up:1,cancel:1,over:1,out:1})b[a]=e("MSPointer")?"MSPointer"+a.charAt(0).toUpperCase()+
a.slice(1):"pointer"+a;return b}(),w=e("touch-events"),v,y,x=!1,A,z,B,C,D,F,G,I;e("touch")&&(t?d(function(){b.doc.addEventListener(u.down,function(b){q(b,u.move,u.up)},!0)}):d(function(){function d(b){var c=a.delegate(b,{bubbles:!0});6<=e("ios")&&(c.touches=b.touches,c.altKey=b.altKey,c.changedTouches=b.changedTouches,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.targetTouches=b.targetTouches);return c}I=b.body();b.doc.addEventListener("touchstart",function(b){G=(new Date).getTime();
var a=I;I=b.target;c.emit(a,"dojotouchout",{relatedTarget:I,bubbles:!0});c.emit(I,"dojotouchover",{relatedTarget:a,bubbles:!0});q(b,"touchmove","touchend")},!0);c(b.doc,"touchmove",function(a){G=(new Date).getTime();var e=b.doc.elementFromPoint(a.pageX-(r?0:b.global.pageXOffset),a.pageY-(r?0:b.global.pageYOffset));e&&(I!==e&&(c.emit(I,"dojotouchout",{relatedTarget:e,bubbles:!0}),c.emit(e,"dojotouchover",{relatedTarget:I,bubbles:!0}),I=e),c.emit(e,"dojotouchmove",d(a))||a.preventDefault())});c(b.doc,
"touchend",function(a){G=(new Date).getTime();var e=b.doc.elementFromPoint(a.pageX-(r?0:b.global.pageXOffset),a.pageY-(r?0:b.global.pageYOffset))||b.body();c.emit(e,"dojotouchend",d(a))})}));k={press:n("mousedown","touchstart",u.down),move:n("mousemove","dojotouchmove",u.move),release:n("mouseup","dojotouchend",u.up),cancel:n(m.leave,"touchcancel",t?u.cancel:null),over:n("mouseover","dojotouchover",u.over),out:n("mouseout","dojotouchout",u.out),enter:m._eventHandler(n("mouseover","dojotouchover",
u.over)),leave:m._eventHandler(n("mouseout","dojotouchout",u.out))};return l.touch=k})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){k=k("dojo.dnd.Container",d,{skipForm:!1,allowNested:!1,constructor:function(b,a){this.node=c.byId(b);a||(a={});this.creator=a.creator||null;this.skipForm=a.skipForm;
this.parent=a.dropParent&&c.byId(a.dropParent);this.map={};this.current=null;this.containerState="";e.add(this.node,"dojoDndContainer");a&&a._skipStartup||this.startup();this.events=[n(this.node,q.over,f.hitch(this,"onMouseOver")),n(this.node,q.out,f.hitch(this,"onMouseOut")),n(this.node,"dragstart",f.hitch(this,"onSelectStart")),n(this.node,"selectstart",f.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(b){return this.map[b]},setItem:function(b,a){this.map[b]=a},delItem:function(b){delete this.map[b]},
forInItems:function(b,a){a=a||h.global;var c=this.map,d=r._empty,e;for(e in c)e in d||b.call(a,c[e],e,this);return a},clearItems:function(){this.map={}},getAllNodes:function(){return p((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var b={};this.getAllNodes().forEach(function(a){if(a.id){var c=this.getItem(a.id);if(c){b[a.id]=c;return}}else a.id=r.getUniqueId();var c=a.getAttribute("dndType"),d=a.getAttribute("dndData");b[a.id]={data:d||a.innerHTML,type:c?c.split(/\s*,\s*/):
["text"]}},this);this.map=b;return this},insertNodes:function(b,a,c){this.parent.firstChild?a?c||(c=this.parent.firstChild):c&&(c=c.nextSibling):c=null;var d;if(c)for(a=0;a<b.length;++a)d=this._normalizedCreator(b[a]),this.setItem(d.node.id,{data:d.data,type:d.type}),c.parentNode.insertBefore(d.node,c);else for(a=0;a<b.length;++a)d=this._normalizedCreator(b[a]),this.setItem(d.node.id,{data:d.data,type:d.type}),this.parent.appendChild(d.node);return this},destroy:function(){l.forEach(this.events,function(b){b.remove()});
this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(b,a,c){b._skipStartup=!0;return new c(a,b)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var b=this.parent.getElementsByTagName("tbody");b&&b.length&&(this.parent=b[0])}this.defaultCreator=r._defaultCreator(this.parent);this.sync()},onMouseOver:function(b){for(var a=b.relatedTarget;a&&a!=this.node;)try{a=a.parentNode}catch(c){a=null}a||(this._changeState("Container",
"Over"),this.onOverEvent());a=this._getChildByEvent(b);this.current!=a&&(this.current&&this._removeItemClass(this.current,"Over"),a&&this._addItemClass(a,"Over"),this.current=a)},onMouseOut:function(b){for(b=b.relatedTarget;b;){if(b==this.node)return;try{b=b.parentNode}catch(a){b=null}}this.current&&(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(b){this.skipForm&&r.isFormElement(b)||(b.stopPropagation(),b.preventDefault())},
onOverEvent:function(){},onOutEvent:function(){},_changeState:function(b,a){var c="dojoDnd"+b,d=b.toLowerCase()+"State";e.replace(this.node,c+a,c+this[d]);this[d]=a},_addItemClass:function(b,a){e.add(b,"dojoDndItem"+a)},_removeItemClass:function(b,a){e.remove(b,"dojoDndItem"+a)},_getChildByEvent:function(b){if(b=b.target)for(var a=b.parentNode;a;b=a,a=b.parentNode)if((a==this.parent||this.allowNested)&&e.contains(b,"dojoDndItem"))return b;return null},_normalizedCreator:function(b,a){var c=(this.creator||
this.defaultCreator).call(this,b,a);f.isArray(c.type)||(c.type=["text"]);c.node.id||(c.node.id=r.getUniqueId());e.add(c.node,"dojoDndItem");return c}});r._createNode=function(b){return b?function(a){return m.create(b,{innerHTML:a})}:r._createSpan};r._createTrTd=function(b){var a=m.create("tr");m.create("td",{innerHTML:b},a);return a};r._createSpan=function(b){return m.create("span",{innerHTML:b})};r._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};r._defaultCreator=function(b){b=b.tagName.toLowerCase();
var a="tbody"==b||"thead"==b?r._createTrTd:r._createNode(r._defaultCreatorNodes[b]);return function(b,c){var d=b&&f.isObject(b),e,n;d&&b.tagName&&b.nodeType&&b.getAttribute?(e=b.getAttribute("dndData")||b.innerHTML,d=(d=b.getAttribute("dndType"))?d.split(/\s*,\s*/):["text"],n=b):(e=d&&b.data?b.data:b,d=d&&b.type?b.type:["text"],n=("avatar"==c?r._createSpan:a)(String(e)));n.id||(n.id=r.getUniqueId());return{node:n,data:e,type:d}}};return k})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){var t=k("dojo.dnd.Manager",[c],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:e("touch")?0:16,OFFSET_Y:e("touch")?-64:16,overSource:function(a){this.avatar&&(this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update());b.publish("/dnd/source/over",a)},outSource:function(a){this.avatar?this.target==a&&(this.target=null,this.canDropFlag=
!1,this.avatar.update(),b.publish("/dnd/source/over",null)):b.publish("/dnd/source/over",null)},startDrag:function(c,e,m){function p(b){b.preventDefault();b.stopPropagation()}q.autoScrollStart(f.doc);this.source=c;this.nodes=e;this.copy=Boolean(m);this.avatar=this.makeAvatar();f.body().appendChild(this.avatar.node);b.publish("/dnd/start",c,e,this.copy);this.events=[d(f.doc,n.move,h.hitch(this,"onMouseMove")),d(f.doc,n.release,h.hitch(this,"onMouseUp")),d(f.doc,"keydown",h.hitch(this,"onKeyDown")),
d(f.doc,"keyup",h.hitch(this,"onKeyUp")),d(f.doc,"dragstart",p),d(f.body(),"selectstart",p)];c="dojoDnd"+(m?"Copy":"Move");a.add(f.body(),c)},canDrop:function(b){b=Boolean(this.target&&b);this.canDropFlag!=b&&(this.canDropFlag=b,this.avatar.update())},stopDrag:function(){a.remove(f.body(),["dojoDndCopy","dojoDndMove"]);l.forEach(this.events,function(b){b.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new r(this)},
updateAvatar:function(){this.avatar.update()},onMouseMove:function(b){var a=this.avatar;a&&(q.autoScrollNodes(b),a=a.node.style,a.left=b.pageX+this.OFFSET_X+"px",a.top=b.pageY+this.OFFSET_Y+"px",a=Boolean(this.source.copyState(p.getCopyKeyState(b))),this.copy!=a&&this._setCopyStatus(a));e("touch")&&b.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var c=Boolean(this.source.copyState(p.getCopyKeyState(a)));b.publish("/dnd/drop/before",this.source,this.nodes,
c,this.target,a);b.publish("/dnd/drop",this.source,this.nodes,c,this.target,a)}else b.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case m.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case m.ESCAPE:b.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(b){this.avatar&&b.keyCode==m.CTRL&&(b=Boolean(this.source.copyState(!1)),this.copy!=b&&this._setCopyStatus(b))},_setCopyStatus:function(b){this.copy=b;this.source._markDndStatus(this.copy);
this.updateAvatar();a.replace(f.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});p._manager=null;t.manager=p.manager=function(){p._manager||(p._manager=new t);return p._manager};return t})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(l,k,h,f,a,c){var e={};l.setObject("dojo.dnd.autoscroll",e);e.getViewport=c.getBox;e.V_TRIGGER_AUTOSCROLL=32;e.H_TRIGGER_AUTOSCROLL=32;e.V_AUTOSCROLL_VALUE=
16;e.H_AUTOSCROLL_VALUE=16;var m,d=h.doc,b=Infinity,n=Infinity;e.autoScrollStart=function(a){d=a;m=c.getBox(d);a=h.body(d).parentNode;b=Math.max(a.scrollHeight-m.h,0);n=Math.max(a.scrollWidth-m.w,0)};e.autoScroll=function(a){var f=m||c.getBox(d),k=h.body(d).parentNode,l=0,u=0;a.clientX<e.H_TRIGGER_AUTOSCROLL?l=-e.H_AUTOSCROLL_VALUE:a.clientX>f.w-e.H_TRIGGER_AUTOSCROLL&&(l=Math.min(e.H_AUTOSCROLL_VALUE,n-k.scrollLeft));a.clientY<e.V_TRIGGER_AUTOSCROLL?u=-e.V_AUTOSCROLL_VALUE:a.clientY>f.h-e.V_TRIGGER_AUTOSCROLL&&
(u=Math.min(e.V_AUTOSCROLL_VALUE,b-k.scrollTop));window.scrollBy(l,u)};e._validNodes={div:1,p:1,td:1};e._validOverflow={auto:1,scroll:1};e.autoScrollNodes=function(b){for(var c,d,n,m,l,v,y=0,x=0,A=b.target;A;){if(1==A.nodeType&&A.tagName.toLowerCase()in e._validNodes){n=a.getComputedStyle(A);m=n.overflow.toLowerCase()in e._validOverflow;l=n.overflowX.toLowerCase()in e._validOverflow;v=n.overflowY.toLowerCase()in e._validOverflow;if(m||l||v)c=f.getContentBox(A,n),d=f.position(A,!0);if(m||l){n=Math.min(e.H_TRIGGER_AUTOSCROLL,
c.w/2);l=b.pageX-d.x;if(k("webkit")||k("opera"))l+=h.body().scrollLeft;y=0;0<l&&l<c.w&&(l<n?y=-n:l>c.w-n&&(y=n),A.scrollLeft+=y)}if(m||v){m=Math.min(e.V_TRIGGER_AUTOSCROLL,c.h/2);v=b.pageY-d.y;if(k("webkit")||k("opera"))v+=h.body().scrollTop;x=0;0<v&&v<c.h&&(v<m?x=-m:v>c.h-m&&(x=m),A.scrollTop+=x)}if(y||x)return}try{A=A.parentNode}catch(z){A=null}}e.autoScroll(b)};return e})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),
function(l,k,h,f,a,c,e){k.add("rtl-adjust-position-for-verticalScrollBar",function(c,b){var n=h.body(b),m=e.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},n,"last"),f=e.create("div",{style:{overflow:"hidden",direction:"ltr"}},m,"last"),k=0!=a.position(f).x;m.removeChild(f);n.removeChild(m);return k});k.add("position-fixed-support",function(c,b){var n=h.body(b),m=e.create("span",{style:{visibility:"hidden",
position:"fixed",left:"1px",top:"1px"}},n,"last"),f=e.create("span",{style:{position:"fixed",left:"0",top:"0"}},m,"last"),k=a.position(f).x!=a.position(m).x;m.removeChild(f);n.removeChild(m);return k});var m={getBox:function(c){c=c||h.doc;var b="BackCompat"==c.compatMode?h.body(c):c.documentElement,e=a.docScroll(c);if(k("touch")){var f=m.get(c);c=f.innerWidth||b.clientWidth;b=f.innerHeight||b.clientHeight}else c=b.clientWidth,b=b.clientHeight;return{l:e.x,t:e.y,w:c,h:b}},get:function(a){if(k("ie")&&
m!==document.parentWindow){a.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var b=a._parentWindow;a._parentWindow=null;return b}return a.parentWindow||a.defaultView},scrollIntoView:function(d,b){try{d=f.byId(d);var e=d.ownerDocument||h.doc,m=h.body(e),l=e.documentElement||m.parentNode,r=k("ie"),t=k("webkit");if(d!=m&&d!=l)if(!(k("mozilla")||r||t||k("opera")||k("trident"))&&"scrollIntoView"in d)d.scrollIntoView(!1);else{var u="BackCompat"==e.compatMode,w=Math.min(m.clientWidth||
l.clientWidth,l.clientWidth||m.clientWidth),v=Math.min(m.clientHeight||l.clientHeight,l.clientHeight||m.clientHeight),e=t||u?m:l,y=b||a.position(d),x=d.parentNode,t=function(b){return 6>=r||7==r&&u?!1:k("position-fixed-support")&&"fixed"==c.get(b,"position").toLowerCase()},A=this,z=function(b,a,c){"BODY"==b.tagName||"HTML"==b.tagName?A.get(b.ownerDocument).scrollBy(a,c):(a&&(b.scrollLeft+=a),c&&(b.scrollTop+=c))};if(!t(d))for(;x;){x==m&&(x=e);var B=a.position(x),C=t(x),D="rtl"==c.getComputedStyle(x).direction.toLowerCase();
if(x==e){B.w=w;B.h=v;e==l&&(r||k("trident"))&&D&&(B.x+=e.offsetWidth-B.w);if(0>B.x||!r||9<=r||k("trident"))B.x=0;if(0>B.y||!r||9<=r||k("trident"))B.y=0}else{var F=a.getPadBorderExtents(x);B.w-=F.w;B.h-=F.h;B.x+=F.l;B.y+=F.t;var G=x.clientWidth,I=B.w-G;0<G&&0<I&&(D&&k("rtl-adjust-position-for-verticalScrollBar")&&(B.x+=I),B.w=G);G=x.clientHeight;I=B.h-G;0<G&&0<I&&(B.h=G)}C&&(0>B.y&&(B.h+=B.y,B.y=0),0>B.x&&(B.w+=B.x,B.x=0),B.y+B.h>v&&(B.h=v-B.y),B.x+B.w>w&&(B.w=w-B.x));var L=y.x-B.x,J=y.y-B.y,T=L+y.w-
B.w,V=J+y.h-B.h,P,K;0<T*L&&(x.scrollLeft||x==e||x.scrollWidth>x.offsetHeight)&&(P=Math[0>L?"max":"min"](L,T),D&&(8==r&&!u||9<=r||k("trident"))&&(P=-P),K=x.scrollLeft,z(x,P,0),P=x.scrollLeft-K,y.x-=P);0<V*J&&(x.scrollTop||x==e||x.scrollHeight>x.offsetHeight)&&(P=Math.ceil(Math[0>J?"max":"min"](J,V)),K=x.scrollTop,z(x,0,P),P=x.scrollTop-K,y.y-=P);x=x!=e&&!C&&x.parentNode}}}catch(M){d.scrollIntoView(!1)}}};l.setObject("dojo.window",m);return m})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),
function(l,k,h,f,a,c,e,m){return l("dojo.dnd.Avatar",null,{constructor:function(a){this.manager=a;this.construct()},construct:function(){var a=c.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),b=this.manager.source,n,m=c.create("tbody",null,a),h=c.create("tr",null,m),k=c.create("td",null,h),l=Math.min(5,this.manager.nodes.length),u=0;e("highcontrast")&&c.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},k);c.create("span",{innerHTML:b.generateText?
this._generateText():""},k);for(f.set(h,{"class":"dojoDndAvatarHeader",style:{opacity:.9}});u<l;++u)b.creator?n=b._normalizedCreator(b.getItem(this.manager.nodes[u].id).data,"avatar").node:(n=this.manager.nodes[u].cloneNode(!0),"tr"==n.tagName.toLowerCase()&&(h=c.create("table"),c.create("tbody",null,h).appendChild(n),n=h)),n.id="",h=c.create("tr",null,m),k=c.create("td",null,h),k.appendChild(n),f.set(h,{"class":"dojoDndAvatarItem",style:{opacity:(9-u)/10}});this.node=a},destroy:function(){c.destroy(this.node);
this.node=!1},update:function(){a.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(e("highcontrast")){var c=h.byId("a11yIcon"),b="+";this.manager.canDropFlag&&!this.manager.copy?b="\x3c ":this.manager.canDropFlag||this.manager.copy?this.manager.canDropFlag||(b="x"):b="o";c.innerHTML=b}m("tr.dojoDndAvatarHeader td span"+(e("highcontrast")?" span":""),this.node).forEach(function(b){b.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(l,k,h,f,a,c,e){a.add("highcontrast",function(){var c=e.doc.createElement("div");c.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(k.blankGif||l.toUrl("./resources/blank.gif"))+'");';e.body().appendChild(c);var d=f.getComputedStyle(c),b=d.backgroundImage,d=d.borderTopColor==d.borderRightColor||
b&&("none"==b||"url(invalid-url:)"==b);8>=a("ie")?c.outerHTML="":e.body().removeChild(c);return d});c(function(){a("highcontrast")&&h.add(e.body(),"dj_a11y")});return a})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){h.isAsync||b(0,function(){n(["./fx/Toggler"])});h=h.fx={};b={_fire:function(b,a){this[b]&&this[b].apply(this,a||[]);return this}};var p=
function(b){this._index=-1;this._animations=b||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;f.forEach(this._animations,function(b){this.duration+=b.duration;b.delay&&(this.duration+=b.delay)},this)};p.prototype=new k;l.extend(p,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],
this._onAnimateCtx=a.after(this._current,"onAnimate",l.hitch(this,"_onAnimate"),!0),this._onEndCtx=a.after(this._current,"onEnd",l.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(b,c){this._current||(this._current=this._animations[this._index=0]);if(!c&&"playing"==this._current.status())return this;var d=a.after(this._current,"beforeBegin",l.hitch(this,function(){this._fire("beforeBegin")}),!0),e=a.after(this._current,"onBegin",l.hitch(this,function(b){this._fire("onBegin",arguments)}),
!0),n=a.after(this._current,"onPlay",l.hitch(this,function(b){this._fire("onPlay",arguments);d.remove();e.remove();n.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=a.after(this._current,"onAnimate",l.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=a.after(this._current,"onEnd",l.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var b=a.after(this._current,"onPause",
l.hitch(this,function(a){this._fire("onPause",arguments);b.remove()}),!0);this._current.pause()}return this},gotoPercent:function(b,a){this.pause();var c=this.duration*b;this._current=null;f.some(this._animations,function(b,a){if(c<=b.duration)return this._current=b,this._index=a,!0;c-=b.duration;return!1},this);this._current&&this._current.gotoPercent(c/this._current.duration);a&&this.play();return this},stop:function(b){if(this._current){if(b){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);
this._current=this._animations[this._index]}var c=a.after(this._current,"onStop",l.hitch(this,function(b){this._fire("onStop",arguments);c.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});l.extend(p,b);h.chain=function(b){return new p(b)};var q=function(b){this._animations=b||[];this._connects=[];this.duration=
this._finished=0;f.forEach(b,function(b){var c=b.duration;b.delay&&(c+=b.delay);this.duration<c&&(this.duration=c);this._connects.push(a.after(b,"onEnd",l.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new c.Animation({curve:[0,1],duration:this.duration});var d=this;f.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(b){d._connects.push(a.after(d._pseudoAnimation,b,function(){d._fire(b,arguments)},!0))})};l.extend(q,{_doAction:function(b,a){f.forEach(this._animations,
function(c){c[b].apply(c,a)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(b,a){var c=this._pseudoAnimation;c[b].apply(c,a)},play:function(b,a){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(b,a){var c=this.duration*b;f.forEach(this._animations,function(b){b.gotoPercent(b.duration<
c?1:c/b.duration,a)});this._call("gotoPercent",arguments);return this},stop:function(b){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();f.forEach(this._connects,function(b){b.remove()})}});l.extend(q,b);h.combine=function(b){return new q(b)};h.wipeIn=function(b){var d=b.node=e.byId(b.node),n=d.style,f;b=c.animateProperty(l.mixin({properties:{height:{start:function(){f=n.overflow;n.overflow=
"hidden";if("hidden"==n.visibility||"none"==n.display)return n.height="1px",n.display="",n.visibility="",1;var b=m.get(d,"height");return Math.max(b,1)},end:function(){return d.scrollHeight}}}},b));var h=function(){n.height="auto";n.overflow=f};a.after(b,"onStop",h,!0);a.after(b,"onEnd",h,!0);return b};h.wipeOut=function(b){var d=(b.node=e.byId(b.node)).style,n;b=c.animateProperty(l.mixin({properties:{height:{end:1}}},b));a.after(b,"beforeBegin",function(){n=d.overflow;d.overflow="hidden";d.display=
""},!0);var m=function(){d.overflow=n;d.height="auto";d.display="none"};a.after(b,"onStop",m,!0);a.after(b,"onEnd",m,!0);return b};h.slideTo=function(b){var n=null,f=null,h=function(b){return function(){var a=m.getComputedStyle(b),c=a.position;n="absolute"==c?b.offsetTop:parseInt(a.top)||0;f="absolute"==c?b.offsetLeft:parseInt(a.left)||0;"absolute"!=c&&"relative"!=c&&(a=d.position(b,!0),n=a.y,f=a.x,b.style.position="absolute",b.style.top=n+"px",b.style.left=f+"px")}}(b.node=e.byId(b.node));h();b=
c.animateProperty(l.mixin({properties:{top:b.top||0,left:b.left||0}},b));a.after(b,"beforeBegin",h,!0);return b};return h})},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(l,k,h,f){return k("dojo.fx.Toggler",null,{node:null,showFunc:h.fadeIn,hideFunc:h.fadeOut,showDuration:200,hideDuration:200,constructor:function(a){l.mixin(this,a);this.node=a.node;this._showArgs=l.mixin({},a);this._showArgs.node=this.node;this._showArgs.duration=this.showDuration;
this.showAnim=this.showFunc(this._showArgs);this._hideArgs=l.mixin({},a);this._hideArgs.node=this.node;this._hideArgs.duration=this.hideDuration;this.hideAnim=this.hideFunc(this._hideArgs);f.after(this.showAnim,"beforeBegin",l.hitch(this.hideAnim,"stop",!0),!0);f.after(this.hideAnim,"beforeBegin",l.hitch(this.showAnim,"stop",!0),!0)},show:function(a){return this.showAnim.play(a||0)},hide:function(a){return this.hideAnim.play(a||0)}})})},"dojo/io/iframe":function(){define("../_base/config ../_base/json ../_base/kernel ../_base/lang ../_base/xhr ../sniff ../_base/window ../dom ../dom-construct ../query require ../aspect ../request/iframe".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){h.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");c=q._iframeName;c=c.substring(0,c.lastIndexOf("_"));var r=f.delegate(q,{create:function(){return r._frame=q.create.apply(q,arguments)},get:null,post:null,send:function(b){var c,d=a._ioSetArgs(b,function(b){c&&c.cancel()},function(b){var a=null;b=b.ioArgs;try{var d=b.handleAs;"xml"===d||"html"===d?a=c.response.data:(a=c.response.text,"json"===d?a=k.fromJson(a):"javascript"===d&&(a=h.eval(a)))}catch(e){a=
e}return a},function(b,a){a.ioArgs._hasError=!0;return b}),e=d.ioArgs,n="GET",f=m.byId(b.form);b.method&&"POST"===b.method.toUpperCase()&&f&&(n="POST");b={method:n,handleAs:"json"===b.handleAs||"javascript"===b.handleAs?"text":b.handleAs,form:b.form,query:f?null:b.content,data:f?b.content:null,timeout:b.timeout,ioArgs:e};b.method&&(b.method=b.method.toUpperCase());if(l.ioPublish&&h.publish&&!1!==e.args.ioPublish)var r=p.after(q,"_notifyStart",function(b){b.options.ioArgs===e&&(r.remove(),a._ioNotifyStart(d))},
!0);c=q(e.url,b,!0);e._callNext=c._callNext;c.then(function(){d.resolve(d)}).otherwise(function(b){d.ioArgs.error=b;d.reject(b)});return d},_iframeOnload:e.global[c+"_onload"]});f.setObject("dojo.io.iframe",r);return r})},"dojo/request/iframe":function(){define("module require ./watch ./util ./handlers ../_base/lang ../io-query ../query ../has ../dom ../dom-construct ../_base/window ../NodeList-dom".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){function q(b){return!this.isFulfilled()}function r(b){return!!this._finished}
function t(b,d){if(!d)try{var e=b.options,n=w.doc(w._frame),f=e.handleAs;if("html"!==f){if("xml"===f)if("html"===n.documentElement.tagName.toLowerCase()){m("a",n.documentElement).orphan();var h=n.documentElement.innerText,h=h.replace(/>\s+</g,"\x3e\x3c");b.text=c.trim(h)}else b.data=n;else b.text=n.getElementsByTagName("textarea")[0].value;a(b)}else b.data=n}catch(p){d=p}d?this.reject(d):this._finished?this.resolve(b):this.reject(Error("Invalid dojo/request/iframe request state"))}function u(b){this._callNext()}
function w(b,a,c){var d=f.parseArgs(b,f.deepCreate(x,a),!0);b=d.url;a=d.options;if("GET"!==a.method&&"POST"!==a.method)throw Error(a.method+" not supported by dojo/request/iframe");w._frame||(w._frame=w.create(w._iframeName,y+"();"));b=f.deferred(d,null,q,r,t,u);b._callNext=function(){this._calledNext||(this._calledNext=!0,w._currentDfd=null,w._fireNextRequest())};b._legacy=c;w._dfdQueue.push(b);w._fireNextRequest();h(b);return c?b:b.promise}var v=l.id.replace(/[\/\.\-]/g,"_"),y=v+"_onload";p.global[y]||
(p.global[y]=function(){var a=w._currentDfd;if(a){var c=b.byId(a.response.options.form)||a._tmpForm;if(c){for(var d=a._contentToClean,e=0;e<d.length;e++)for(var m=d[e],f=0;f<c.childNodes.length;f++){var h=c.childNodes[f];if(h.name===m){n.destroy(h);break}}a._originalAction&&c.setAttribute("action",a._originalAction);a._originalMethod&&(c.setAttribute("method",a._originalMethod),c.method=a._originalMethod);a._originalTarget&&(c.setAttribute("target",a._originalTarget),c.target=a._originalTarget)}a._tmpForm&&
(n.destroy(a._tmpForm),delete a._tmpForm);a._finished=!0}else w._fireNextRequest()});var x={method:"POST"};w.create=function(b,a,c){if(p.global[b])return p.global[b];if(p.global.frames[b])return p.global.frames[b];c||(d("config-useXDomain")&&d("config-dojoBlankHtmlUrl"),c=d("config-dojoBlankHtmlUrl")||k.toUrl("dojo/resources/blank.html"));a=n.place('\x3ciframe id\x3d"'+b+'" name\x3d"'+b+'" src\x3d"'+c+'" onload\x3d"'+a+'" style\x3d"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden"\x3e',
p.body());return p.global[b]=a};w.doc=function(b){if(b.contentDocument)return b.contentDocument;var a=b.name;if(a){var c=p.doc.getElementsByTagName("iframe");if(b.document&&c[a].contentWindow&&c[a].contentWindow.document)return c[a].contentWindow.document;if(p.doc.frames[a]&&p.doc.frames[a].document)return p.doc.frames[a].document}return null};w.setSrc=function(b,a,c){b=p.global.frames[b.name];b.contentWindow&&(b=b.contentWindow);try{c?b.location.replace(a):b.location=a}catch(d){}};w._iframeName=
v+"_IoIframe";w._notifyStart=function(){};w._dfdQueue=[];w._currentDfd=null;w._fireNextRequest=function(){var a;try{if(!w._currentDfd&&w._dfdQueue.length){do a=w._currentDfd=w._dfdQueue.shift();while(a&&(a.canceled||a.isCanceled&&a.isCanceled())&&w._dfdQueue.length);if(!a||a.canceled||a.isCanceled&&a.isCanceled())w._currentDfd=null;else{var d=a.response,m=d.options,h=a._contentToClean=[],k=b.byId(m.form),l=f.notify,q=m.data||null,r;a._legacy||"POST"!==m.method||k?"GET"===m.method&&k&&-1<d.url.indexOf("?")&&
(r=d.url.slice(d.url.indexOf("?")+1),q=c.mixin(e.queryToObject(r),q)):k=a._tmpForm=n.create("form",{name:v+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},p.body());if(k){if(!a._legacy){var t=k;do t=t.parentNode;while(t&&t!==p.doc.documentElement);t||(k.style.position="absolute",k.style.left="-1000px",k.style.top="-1000px",p.body().appendChild(k));k.name||(k.name=v+"_form")}if(q){var t=function(b,a){n.create("input",{type:"hidden",name:b,value:a},k);h.push(b)},u;for(u in q){var x=
q[u];if(c.isArray(x)&&1<x.length)for(r=0;r<x.length;r++)t(u,x[r]);else k[u]?k[u].value=x:t(u,x)}}var y=k.getAttributeNode("action"),P=k.getAttributeNode("method"),K=k.getAttributeNode("target");d.url&&(a._originalAction=y?y.value:null,y?y.value=d.url:k.setAttribute("action",d.url));a._legacy?P&&P.value||(P?P.value=m.method:k.setAttribute("method",m.method)):(a._originalMethod=P?P.value:null,P?P.value=m.method:k.setAttribute("method",m.method));a._originalTarget=K?K.value:null;K?K.value=w._iframeName:
k.setAttribute("target",w._iframeName);k.target=w._iframeName;l&&l.emit("send",d,a.promise.cancel);w._notifyStart(d);k.submit()}else m="",d.options.data&&(m=d.options.data,"string"!==typeof m&&(m=e.objectToQuery(m))),t=d.url+(-1<d.url.indexOf("?")?"\x26":"?")+m,l&&l.emit("send",d,a.promise.cancel),w._notifyStart(d),w.setSrc(w._frame,t,!0)}}}catch(M){a.reject(M)}};f.addCommonMethods(w,["GET","POST"]);return w})},"dojo/data/ItemFileReadStore":function(){define("../_base/kernel ../_base/lang ../_base/declare ../_base/array ../_base/xhr ../Evented ./util/filter ./util/simpleFetch ../date/stamp".split(" "),
function(l,k,h,f,a,c,e,m,d){h=h("dojo.data.ItemFileReadStore",[c],{constructor:function(b){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=!1;this.url=this._ccUrl=this._jsonFileUrl=b.url;this._jsonData=b.data;this.data=null;this._datatypeMap=b.typeMap||{};this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,deserialize:function(b){return d.fromISOString(b)}});this._features={"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0};this._itemsByIdentity=null;this._storeRefPropName=
"_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=!1;this._queuedFetches=[];void 0!==b.urlPreventCache&&(this.urlPreventCache=b.urlPreventCache?!0:!1);void 0!==b.hierarchical&&(this.hierarchical=b.hierarchical?!0:!1);b.clearOnClose&&(this.clearOnClose=!0);"failOk"in b&&(this.failOk=b.failOk?!0:!1)},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,failOk:!1,hierarchical:!0,_assertIsItem:function(b){if(!this.isItem(b))throw Error(this.declaredClass+
": Invalid item argument.");},_assertIsAttribute:function(b){if("string"!==typeof b)throw Error(this.declaredClass+": Invalid attribute argument.");},getValue:function(b,a,c){b=this.getValues(b,a);return 0<b.length?b[0]:c},getValues:function(b,a){this._assertIsItem(b);this._assertIsAttribute(a);return(b[a]||[]).slice(0)},getAttributes:function(b){this._assertIsItem(b);var a=[],c;for(c in b)c!==this._storeRefPropName&&c!==this._itemNumPropName&&c!==this._rootItemPropName&&c!==this._reverseRefMap&&
a.push(c);return a},hasAttribute:function(b,a){this._assertIsItem(b);this._assertIsAttribute(a);return a in b},containsValue:function(b,a,c){var d=void 0;"string"===typeof c&&(d=e.patternToRegExp(c,!1));return this._containsValue(b,a,c,d)},_containsValue:function(b,a,c,d){return f.some(this.getValues(b,a),function(b){if(null!==b&&!k.isObject(b)&&d){if(b.toString().match(d))return!0}else if(c===b)return!0})},isItem:function(b){return b&&b[this._storeRefPropName]===this&&this._arrayOfAllItems[b[this._itemNumPropName]]===
b?!0:!1},isItemLoaded:function(b){return this.isItem(b)},loadItem:function(b){this._assertIsItem(b.item)},getFeatures:function(){return this._features},getLabel:function(b){if(this._labelAttr&&this.isItem(b))return this.getValue(b,this._labelAttr)},getLabelAttributes:function(b){return this._labelAttr?[this._labelAttr]:null},filter:function(b,a,c){var d=[],m,f;if(b.query){var h;m=b.queryOptions?b.queryOptions.ignoreCase:!1;var k={};for(f in b.query)h=b.query[f],"string"===typeof h?k[f]=e.patternToRegExp(h,
m):h instanceof RegExp&&(k[f]=h);for(m=0;m<a.length;++m){var l=!0,y=a[m];if(null===y)l=!1;else for(f in b.query)h=b.query[f],this._containsValue(y,f,h,k[f])||(l=!1);l&&d.push(y)}}else for(m=0;m<a.length;++m)f=a[m],null!==f&&d.push(f);c(d,b)},_fetchItems:function(b,c,d){var e=this;if(this._loadFinished)this.filter(b,this._getItemsArray(b.queryOptions),c);else if(this._jsonFileUrl!==this._ccUrl?(l.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url),null!=this.data&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:b,filter:k.hitch(e,"filter"),findCallback:k.hitch(e,c)});else{this._loadInProgress=!0;var m=a.get({url:e._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk});m.addCallback(function(a){try{e._getItemsFromLoadedData(a),
e._loadFinished=!0,e._loadInProgress=!1,e.filter(b,e._getItemsArray(b.queryOptions),c),e._handleQueuedFetches()}catch(m){e._loadFinished=!0,e._loadInProgress=!1,d(m,b)}});m.addErrback(function(a){e._loadInProgress=!1;d(a,b)});var f=null;b.abort&&(f=b.abort);b.abort=function(){m&&-1===m.fired&&m.cancel();f&&f.call(b)}}else if(this._jsonData)try{this._loadFinished=!0,this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,e.filter(b,this._getItemsArray(b.queryOptions),c)}catch(h){d(h,b)}else d(Error(this.declaredClass+
": No JSON source data was provided as either URL or a nested Javascript object."),b)},_handleQueuedFetches:function(){if(0<this._queuedFetches.length){for(var b=0;b<this._queuedFetches.length;b++){var a=this._queuedFetches[b],c=a.args,d=a.filter,a=a.findCallback;d?d(c,this._getItemsArray(c.queryOptions),a):this.fetchItemByIdentity(c)}this._queuedFetches=[]}},_getItemsArray:function(b){return b&&b.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},close:function(b){this.clearOnClose&&this._loadFinished&&
!this._loadInProgress&&(this._arrayOfAllItems=[],this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=null,this._loadInProgress=!1,this._queuedFetches=[])},_getItemsFromLoadedData:function(b){function a(b){return null!==b&&"object"===typeof b&&(!k.isArray(b)||d)&&!k.isFunction(b)&&(b.constructor==Object||k.isArray(b))&&"undefined"===typeof b._reference&&"undefined"===typeof b._type&&"undefined"===typeof b._value&&e.hierarchical}function c(b){e._arrayOfAllItems.push(b);for(var d in b){var m=
b[d];if(m)if(k.isArray(m))for(var f=0;f<m.length;++f){var h=m[f];a(h)&&c(h)}else a(m)&&c(m)}}var d=!1,e=this;this._labelAttr=b.label;var m,f;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=b.items;for(m=0;m<this._arrayOfTopLevelItems.length;++m)f=this._arrayOfTopLevelItems[m],k.isArray(f)&&(d=!0),c(f),f[this._rootItemPropName]=!0;var h={},l;for(m=0;m<this._arrayOfAllItems.length;++m)for(l in f=this._arrayOfAllItems[m],f){if(l!==this._rootItemPropName){var y=f[l];null!==y?k.isArray(y)||(f[l]=[y]):
f[l]=[null]}h[l]=l}for(;h[this._storeRefPropName];)this._storeRefPropName+="_";for(;h[this._itemNumPropName];)this._itemNumPropName+="_";for(;h[this._reverseRefMap];)this._reverseRefMap+="_";if(h=b.identifier)for(this._itemsByIdentity={},this._features["dojo.data.api.Identity"]=h,m=0;m<this._arrayOfAllItems.length;++m)if(f=this._arrayOfAllItems[m],b=f[h],b=b[0],Object.hasOwnProperty.call(this._itemsByIdentity,b)){if(this._jsonFileUrl)throw Error(this.declaredClass+":  The json data as specified by: ["+
this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+b+"]");if(this._jsonData)throw Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+h+"].  Value collided: ["+b+"]");}else this._itemsByIdentity[b]=f;else this._features["dojo.data.api.Identity"]=Number;for(m=0;m<this._arrayOfAllItems.length;++m)f=this._arrayOfAllItems[m],f[this._storeRefPropName]=this,f[this._itemNumPropName]=
m;for(m=0;m<this._arrayOfAllItems.length;++m)for(l in f=this._arrayOfAllItems[m],f)for(b=f[l],h=0;h<b.length;++h)if(y=b[h],null!==y&&"object"==typeof y){if("_type"in y&&"_value"in y){var x=y._type,A=this._datatypeMap[x];if(A)if(k.isFunction(A))b[h]=new A(y._value);else if(k.isFunction(A.deserialize))b[h]=A.deserialize(y._value);else throw Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");else throw Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+
x+"'");}if(y._reference){y=y._reference;if(k.isObject(y))for(x=0;x<this._arrayOfAllItems.length;++x){var A=this._arrayOfAllItems[x],z=!0,B;for(B in y)A[B]!=y[B]&&(z=!1);z&&(b[h]=A)}else b[h]=this._getItemByIdentity(y);this.referenceIntegrity&&(y=b[h],this.isItem(y)&&this._addReferenceToMap(y,f,l))}else this.isItem(y)&&this.referenceIntegrity&&this._addReferenceToMap(y,f,l)}},_addReferenceToMap:function(b,a,c){},getIdentity:function(b){var a=this._features["dojo.data.api.Identity"];return a===Number?
b[this._itemNumPropName]:(b=b[a])?b[0]:null},fetchItemByIdentity:function(b){var c,d;if(this._loadFinished)c=this._getItemByIdentity(b.identity),b.onItem&&(d=b.scope?b.scope:l.global,b.onItem.call(d,c));else{var e=this;this._jsonFileUrl!==this._ccUrl?(l.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=
this.url);null!=this.data&&null==this._jsonData&&(this._jsonData=this.data,this.data=null);this._jsonFileUrl?this._loadInProgress?this._queuedFetches.push({args:b}):(this._loadInProgress=!0,d=a.get({url:e._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk}),d.addCallback(function(a){var d=b.scope?b.scope:l.global;try{e._getItemsFromLoadedData(a),e._loadFinished=!0,e._loadInProgress=!1,c=e._getItemByIdentity(b.identity),b.onItem&&b.onItem.call(d,c),e._handleQueuedFetches()}catch(m){e._loadInProgress=
!1,b.onError&&b.onError.call(d,m)}}),d.addErrback(function(a){e._loadInProgress=!1;b.onError&&b.onError.call(b.scope?b.scope:l.global,a)})):this._jsonData&&(e._getItemsFromLoadedData(e._jsonData),e._jsonData=null,e._loadFinished=!0,c=e._getItemByIdentity(b.identity),b.onItem&&(d=b.scope?b.scope:l.global,b.onItem.call(d,c)))}},_getItemByIdentity:function(b){var a=null;this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,b)&&(a=this._itemsByIdentity[b]):Object.hasOwnProperty.call(this._arrayOfAllItems,
b)&&(a=this._arrayOfAllItems[b]);void 0===a&&(a=null);return a},getIdentityAttributes:function(b){b=this._features["dojo.data.api.Identity"];return b===Number?null:[b]},_forceLoad:function(){var b=this;this._jsonFileUrl!==this._ccUrl?(l.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),this.url=this._ccUrl=this._jsonFileUrl):this.url!==this._ccUrl&&(this._ccUrl=this._jsonFileUrl=this.url);null!=
this.data&&(this._jsonData=this.data,this.data=null);if(this._jsonFileUrl){var c=a.get({url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0});c.addCallback(function(a){try{if(!0!==b._loadInProgress&&!b._loadFinished)b._getItemsFromLoadedData(a),b._loadFinished=!0;else if(b._loadInProgress)throw Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");}catch(c){throw c;}});c.addErrback(function(b){throw b;
})}else this._jsonData&&(b._getItemsFromLoadedData(b._jsonData),b._jsonData=null,b._loadFinished=!0)}});k.extend(h,m);return h})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(l){var k={};l.setObject("dojo.data.util.filter",k);k.patternToRegExp=function(h,f){for(var a="^",c=null,e=0;e<h.length;e++)switch(c=h.charAt(e),c){case "\\":a+=c;e++;a+=h.charAt(e);break;case "*":a+=".*";break;case "?":a+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":a+=
"\\";default:a+=c}a+="$";return f?new RegExp(a,"mi"):new RegExp(a,"m")};return k})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(l,k,h){var f={};l.setObject("dojo.data.util.simpleFetch",f);f.errorHandler=function(a,c){c.onError&&c.onError.call(c.scope||k.global,a,c)};f.fetchHandler=function(a,c){var e=c.abort||null,m=!1,d=c.start?c.start:0,b=c.count&&Infinity!==c.count?d+c.count:a.length;c.abort=function(){m=!0;e&&e.call(c)};var f=c.scope||
k.global;c.store||(c.store=this);c.onBegin&&c.onBegin.call(f,a.length,c);c.sort&&a.sort(h.createSortFunction(c.sort,this));if(c.onItem)for(var p=d;p<a.length&&p<b;++p){var l=a[p];m||c.onItem.call(f,l,c)}c.onComplete&&!m&&(p=null,c.onItem||(p=a.slice(d,b)),c.onComplete.call(f,p,c))};f.fetch=function(a){a=a||{};a.store||(a.store=this);this._fetchItems(a,l.hitch(this,"fetchHandler"),l.hitch(this,"errorHandler"));return a};return f})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(l){var k=
{};l.setObject("dojo.data.util.sorter",k);k.basicComparator=function(h,f){var a=-1;null===h&&(h=void 0);null===f&&(f=void 0);if(h==f)a=0;else if(h>f||null==h)a=1;return a};k.createSortFunction=function(h,f){function a(b,a,c,d){return function(e,m){var f=d.getValue(e,b),n=d.getValue(m,b);return a*c(f,n)}}for(var c=[],e,m=f.comparatorMap,d=k.basicComparator,b=0;b<h.length;b++){e=h[b];var n=e.attribute;if(n){e=e.descending?-1:1;var p=d;m&&("string"!==typeof n&&"toString"in n&&(n=n.toString()),p=m[n]||
d);c.push(a(n,e,p,f))}}return function(b,a){for(var d=0;d<c.length;){var e=c[d++](b,a);if(0!==e)return e}return 0}};return k})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(l,k){l.cookie=function(h,f,a){var c=document.cookie,e;if(1==arguments.length)e=(e=c.match(new RegExp("(?:^|; )"+k.escapeString(h)+"\x3d([^;]*)")))?decodeURIComponent(e[1]):void 0;else{a=a||{};c=a.expires;if("number"==typeof c){var m=new Date;m.setTime(m.getTime()+864E5*c);c=a.expires=m}c&&c.toUTCString&&
(a.expires=c.toUTCString());f=encodeURIComponent(f);var c=h+"\x3d"+f,d;for(d in a)c+="; "+d,m=a[d],!0!==m&&(c+="\x3d"+m);document.cookie=c}return e};l.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return l.cookie})},"dojo/dnd/AutoSource":function(){define(["../_base/declare","./Source"],
function(l,k){return l("dojo.dnd.AutoSource",k,{constructor:function(){this.autoSync=!0}})})},"dojo/dnd/Target":function(){define(["../_base/declare","../dom-class","./Source"],function(l,k,h){return l("dojo.dnd.Target",h,{constructor:function(){this.isSource=!1;k.remove(this.node,"dojoDndSource")}})})},"dojo/NodeList-html":function(){define(["./query","./_base/lang","./html"],function(l,k,h){l=l.NodeList;k.extend(l,{html:function(f,a){var c=new h._ContentSetter(a||{});this.forEach(function(a){c.node=
a;c.set(f);c.tearDown()});return this}});return l})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(l,k,h,f,a,c,e){var m=0,d={_secureForInnerHtml:function(b){return b.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:c.empty,_setNodeContent:function(b,a){c.empty(b);if(a)if("string"==typeof a&&(a=c.toDom(a,b.ownerDocument)),!a.nodeType&&k.isArrayLike(a))for(var d=a.length,
e=0;e<a.length;e=d==a.length?e+1:0)c.place(a[e],b,"last");else c.place(a,b,"last");return b},_ContentSetter:f("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:l._scopeName,startup:!0,constructor:function(b,c){k.mixin(this,b||{});c=this.node=a.byId(this.node||c);this.id||(this.id=["Setter",c?c.id||c.tagName:"",m++].join("_"))},set:function(b,a){void 0!==b&&(this.content=b);a&&this._mixin(a);this.onBegin();this.setContent();var c=
this.onEnd();return c&&c.then?c:this.node},setContent:function(){var b=this.node;if(!b)throw Error(this.declaredClass+": setContent given no node");try{b=d._setNodeContent(b,this.content)}catch(a){var c=this.onContentError(a);try{b.innerHTML=c}catch(e){}}this.node=b},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(h.forEach(this.parseResults,function(b){b.destroy&&b.destroy()}),
delete this.parseResults);c.empty(this.node)},onBegin:function(){var b=this.content;if(k.isString(b)&&(this.cleanContent&&(b=d._secureForInnerHtml(b)),this.extractContent)){var a=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);a&&(b=a[1])}this.empty();this.content=b;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(b){return"Error occurred setting content: "+
b},onExecError:function(b){return"Error occurred executing scripts: "+b},_mixin:function(b){var a={},c;for(c in b)c in a||(this[c]=b[c])},_parse:function(){var b=this.node;try{var a={};h.forEach(["dir","lang","textDir"],function(b){this[b]&&(a[b]=this[b])},this);var c=this;this.parseDeferred=e.parse({rootNode:b,noStart:!this.startup,inherited:a,scope:this.parserScope}).then(function(b){return c.parseResults=b},function(b){c._onError("Content",b,"Error parsing in _ContentSetter#"+this.id)})}catch(d){this._onError("Content",
d,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(b,a,c){b=this["on"+b+"Error"].call(this,a);c||b&&d._setNodeContent(this.node,b,!0)}}),set:function(b,a,c){void 0==a&&(a="");return c?(new d._ContentSetter(k.mixin(c,{content:a,node:b}))).set():d._setNodeContent(b,a,!0)}};k.setObject("dojo.html",d);return d})},"dojo/NodeList-fx":function(){define(["./query","./_base/lang","./aspect","./_base/fx","./fx"],function(l,k,h,f,a){l=l.NodeList;k.extend(l,{_anim:function(c,e,m){m=m||{};var d=
a.combine(this.map(function(b){b={node:b};k.mixin(b,m);return c[e](b)}));return m.auto?d.play()&&this:d},wipeIn:function(c){return this._anim(a,"wipeIn",c)},wipeOut:function(c){return this._anim(a,"wipeOut",c)},slideTo:function(c){return this._anim(a,"slideTo",c)},fadeIn:function(a){return this._anim(f,"fadeIn",a)},fadeOut:function(a){return this._anim(f,"fadeOut",a)},animateProperty:function(a){return this._anim(f,"animateProperty",a)},anim:function(c,e,m,d,b){var n=a.combine(this.map(function(b){return f.animateProperty({node:b,
properties:c,duration:e||350,easing:m})}));d&&h.after(n,"onEnd",d,!0);return n.play(b||0)}});return l})},"dijit/_base":function(){define("./main ./a11y ./WidgetSet ./_base/focus ./_base/manager ./_base/place ./_base/popup ./_base/scroll ./_base/sniff ./_base/typematic ./_base/wai ./_base/window".split(" "),function(l){return l._base})},"dijit/main":function(){define(["dojo/_base/kernel"],function(l){return l.dijit})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(l,k,h,f,a,c,e){var m={_isElementShown:function(a){var b=f.get(a);return"hidden"!=b.visibility&&"collapsed"!=b.visibility&&"none"!=b.display&&"hidden"!=h.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return h.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;b=c.body}catch(e){try{b=a.contentWindow.document.body}catch(m){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}},effectiveTabIndex:function(a){return h.get(a,"disabled")?void 0:h.has(a,"tabIndex")?+h.get(a,"tabIndex"):m.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=m.effectiveTabIndex(a)},isFocusable:function(a){return-1<=m.effectiveTabIndex(a)},_getTabNavigable:function(a){function b(b){return b&&"input"==b.tagName.toLowerCase()&&b.type&&"radio"==b.type.toLowerCase()&&
b.name&&b.name.toLowerCase()}function e(a){return v[b(a)]||a}var f,k,l,t,u,w,v={},y=m._isElementShown,x=m.effectiveTabIndex,A=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||9>=c("ie")&&"HTML"!==a.scopeName)&&y(a)){var d=x(a);if(0<=d){if(0==d)f||(f=a),k=a;else if(0<d){if(!l||d<t)t=d,l=a;if(!u||d>=w)w=d,u=a}d=b(a);h.get(a,"checked")&&d&&(v[d]=a)}"SELECT"!=a.nodeName.toUpperCase()&&A(a)}};y(a)&&A(a);return{first:e(f),last:e(k),lowest:e(l),highest:e(u)}},getFirstInTabbingOrder:function(a,
b){var c=m._getTabNavigable(k.byId(a,b));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(a,b){var c=m._getTabNavigable(k.byId(a,b));return c.last?c.last:c.highest}};a.mixin(e,m);return m})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(l,k,h,f){var a=k("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0},add:function(a){if(this._hash[a.id])throw Error("Tried to register widget with id\x3d\x3d"+
a.id+" but that id is already registered");this._hash[a.id]=a;this.length++},remove:function(a){this._hash[a]&&(delete this._hash[a],this.length--)},forEach:function(a,e){e=e||h.global;var m=0,d;for(d in this._hash)a.call(e,this._hash[d],m++,this._hash);return this},filter:function(c,e){e=e||h.global;var m=new a,d=0,b;for(b in this._hash){var f=this._hash[b];c.call(e,f,d++,this._hash)&&m.add(f)}return m},byId:function(a){return this._hash[a]},byClass:function(c){var e=new a,m,d;for(m in this._hash)d=
this._hash[m],d.declaredClass==c&&e.add(d);return e},toArray:function(){var a=[],e;for(e in this._hash)a.push(this._hash[e]);return a},map:function(a,e){return l.map(this.toArray(),a,e)},every:function(a,e){e=e||h.global;var m=0,d;for(d in this._hash)if(!a.call(e,this._hash[d],m++,this._hash))return!1;return!0},some:function(a,e){e=e||h.global;var m=0,d;for(d in this._hash)if(a.call(e,this._hash[d],m++,this._hash))return!0;return!1}});l.forEach("forEach filter byClass map every some".split(" "),function(c){f[c]=
a.prototype[c]});return a})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(l,k,h){var f={},a={},c={length:0,add:function(c){if(a[c.id])throw Error("Tried to register widget with id\x3d\x3d"+c.id+" but that id is already registered");a[c.id]=c;this.length++},remove:function(c){a[c]&&(delete a[c],this.length--)},byId:function(c){return"string"==typeof c?a[c]:c},byNode:function(c){return a[c.getAttribute("widgetId")]},toArray:function(){var c=[],m;for(m in a)c.push(a[m]);
return c},getUniqueId:function(c){var m;do m=c+"_"+(c in f?++f[c]:f[c]=0);while(a[m]);return"dijit"==h._scopeName?m:h._scopeName+"_"+m},findWidgets:function(c,m){function d(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==c.nodeType){var e=c.getAttribute("widgetId");e?(e=a[e])&&b.push(e):c!==m&&d(c)}}var b=[];d(c);return b},_destroyAll:function(){h._curFocus=null;h._prevFocus=null;h._activeStack=[];l.forEach(c.findWidgets(k.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&
a.destroy())})},getEnclosingWidget:function(c){for(;c;){var m=1==c.nodeType&&c.getAttribute("widgetId");if(m)return a[m];c=c.parentNode}return null},_hash:a};return h.registry=c})},"dijit/_base/focus":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/topic dojo/_base/window ../focus ../selection ../main".split(" "),function(l,k,h,f,a,c,e,m){c.focus=function(d){if(d){var b="node"in d?d.node:d,e=d.bookmark;d=d.openedForWindow;var f=e?e.isCollapsed:!1;if(b){var h="iframe"==b.tagName.toLowerCase()?
b.contentWindow:b;if(h&&h.focus)try{h.focus()}catch(k){}c._onFocusNode(b)}if(e&&a.withGlobal(d||a.global,m.isCollapsed)&&!f){d&&d.focus();try{a.withGlobal(d||a.global,m.moveToBookmark,null,[e])}catch(k){}}}};c.watch("curNode",function(a,b,c){m._curFocus=c;m._prevFocus=b;c&&f.publish("focusNode",c)});c.watch("activeStack",function(a,b,c){m._activeStack=c});c.on("widget-blur",function(a,b){f.publish("widgetBlur",a,b)});c.on("widget-focus",function(a,b){f.publish("widgetFocus",a,b)});h.mixin(m,{_curFocus:null,
_prevFocus:null,isCollapsed:function(){return m.getBookmark().isCollapsed},getBookmark:function(){return(a.global==window?e:new e.SelectionManager(a.global)).getBookmark()},moveToBookmark:function(c){return(a.global==window?e:new e.SelectionManager(a.global)).moveToBookmark(c)},getFocus:function(d,b){var e=!c.curNode||d&&k.isDescendant(c.curNode,d.domNode)?m._prevFocus:c.curNode;return{node:e,bookmark:e&&e==c.curNode&&a.withGlobal(b||a.global,m.getBookmark),openedForWindow:b}},_activeStack:[],registerIframe:function(a){return c.registerIframe(a)},
unregisterIframe:function(a){a&&a.remove()},registerWin:function(a,b){return c.registerWin(a,b)},unregisterWin:function(a){a&&a.remove()}});return m})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){var v,y,x=new (k([p,e],{curNode:null,activeStack:[],
constructor:function(){var b=m.hitch(this,function(b){h.isDescendant(this.curNode,b)&&this.set("curNode",null);h.isDescendant(this.prevNode,b)&&this.set("prevNode",null)});l.before(c,"empty",b);l.before(c,"destroy",b)},registerIframe:function(b){return this.registerWin(b.contentWindow,b)},registerWin:function(b,a){var c=this,e=b.document&&b.document.body;if(e){var m=n("pointer-events")?"pointerdown":n("MSPointer")?"MSPointerDown":n("touch-events")?"mousedown, touchstart":"mousedown",f=d(b.document,
m,function(b){b&&b.target&&null==b.target.parentNode||c._onTouchNode(a||b.target,"mouse")}),h=d(e,"focusin",function(b){if(b.target.tagName){var d=b.target.tagName.toLowerCase();"#document"!=d&&"body"!=d&&(t.isFocusable(b.target)?c._onFocusNode(a||b.target):c._onTouchNode(a||b.target))}}),k=d(e,"focusout",function(b){c._onBlurNode(a||b.target)});return{remove:function(){f.remove();h.remove();k.remove();e=f=h=k=null}}}},_onBlurNode:function(b){b=(new Date).getTime();b<v+100||(this._clearFocusTimer&&
clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(m.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),b<y+100||(this._clearActiveWidgetsTimer=setTimeout(m.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(b,c){y=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);
a.contains(b,"dijitPopup")&&(b=b.firstChild);var d=[];try{for(;b;){var e=f.get(b,"dijitPopupParent");if(e)b=u.byId(e).domNode;else if(b.tagName&&"body"==b.tagName.toLowerCase()){if(b===q.body())break;b=r.get(b.ownerDocument).frameElement}else{var m=b.getAttribute&&b.getAttribute("widgetId"),h=m&&u.byId(m);!h||"mouse"==c&&h.get("disabled")||d.unshift(m);b=b.parentNode}}}catch(n){}this._setStack(d,c)},_onFocusNode:function(b){b&&9!=b.nodeType&&(v=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),
delete this._clearFocusTimer),this._onTouchNode(b),b!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",b)))},_setStack:function(b,a){var c=this.activeStack,d=c.length-1,e=b.length-1;if(b[e]!=c[d]){this.set("activeStack",b);var m;for(m=d;0<=m&&c[m]!=b[m];m--)if(d=u.byId(c[m]))d._hasBeenBlurred=!0,d.set("focused",!1),d._focusManager==this&&d._onBlur(a),this.emit("widget-blur",d,a);for(m++;m<=e;m++)if(d=u.byId(b[m]))d.set("focused",!0),d._focusManager==this&&d._onFocus(a),this.emit("widget-focus",
d,a)}},focus:function(b){if(b)try{b.focus()}catch(a){}}}));b(function(){var b=x.registerWin(r.get(document));n("ie")&&d(window,"unload",function(){b&&(b.remove(),b=null)})});w.focus=function(b){x.focus(b)};for(var A in x)/^_/.test(A)||(w.focus[A]="function"==typeof x[A]?m.hitch(x,A):x[A]);x.watch(function(b,a,c){w.focus[b]=c});return x})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(l,k,h,f){return l("dojo.Stateful",null,{_attrPairNames:{},
_getAttrNames:function(a){var c=this._attrPairNames;return c[a]?c[a]:c[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,c){return"function"===typeof this[c.g]?this[c.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,c){if("object"===typeof a){for(var e in a)a.hasOwnProperty(e)&&"_watchCallbacks"!=e&&this.set(e,a[e]);return this}e=this._getAttrNames(a);var m=this._get(a,e);e=this[e.s];var d;"function"===typeof e?d=
e.apply(this,Array.prototype.slice.call(arguments,1)):this[a]=c;if(this._watchCallbacks){var b=this;f(d,function(){b._watchCallbacks(a,m,c)})}return this},_changeAttrValue:function(a,c){var e=this.get(a);this[a]=c;this._watchCallbacks&&this._watchCallbacks(a,e,c);return this},watch:function(a,c){var e=this._watchCallbacks;if(!e)var m=this,e=this._watchCallbacks=function(b,a,c,d){var f=function(d){if(d){d=d.slice();for(var e=0,f=d.length;e<f;e++)d[e].call(m,b,a,c)}};f(e["_"+b]);d||f(e["*"])};c||"function"!==
typeof a?a="_"+a:(c=a,a="*");var d=e[a];"object"!==typeof d&&(d=e[a]=[]);d.push(c);var b={};b.unwatch=b.remove=function(){var b=h.indexOf(d,c);-1<b&&d.splice(b,1)};return b}})})},"dijit/selection":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/sniff dojo/_base/window dijit/focus".split(" "),function(l,k,h,f,a,c){var e=function(d){var b=d.document;this.getType=function(){if(b.getSelection){var a="text",c;try{c=d.getSelection()}catch(e){}c&&1==c.rangeCount&&(c=c.getRangeAt(0),c.startContainer==
c.endContainer&&1==c.endOffset-c.startOffset&&3!=c.startContainer.nodeType&&(a="control"));return a}return b.selection.type.toLowerCase()};this.getSelectedText=function(){if(b.getSelection){var a=d.getSelection();return a?a.toString():""}return"control"==this.getType()?null:b.selection.createRange().text};this.getSelectedHtml=function(){if(b.getSelection){var a=d.getSelection();if(a&&a.rangeCount){var c,e="";for(c=0;c<a.rangeCount;c++){var m=a.getRangeAt(c).cloneContents(),f=b.createElement("div");
f.appendChild(m);e+=f.innerHTML}return e}return null}return"control"==this.getType()?null:b.selection.createRange().htmlText};this.getSelectedElement=function(){if("control"==this.getType()){if(b.getSelection){var a=d.getSelection();return a.anchorNode.childNodes[a.anchorOffset]}if((a=b.selection.createRange())&&a.item)return b.selection.createRange().item(0)}return null};this.getParentElement=function(){if("control"==this.getType()){var a=this.getSelectedElement();if(a)return a.parentNode}else if(b.getSelection){if(a=
b.getSelection()){for(a=a.anchorNode;a&&1!=a.nodeType;)a=a.parentNode;return a}}else return a=b.selection.createRange(),a.collapse(!0),a.parentElement();return null};this.hasAncestorElement=function(b){return null!=this.getAncestorElement.apply(this,arguments)};this.getAncestorElement=function(b){var a=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(a,arguments)};this.isTag=function(b,a){if(b&&b.tagName)for(var c=b.tagName.toLowerCase(),d=0;d<a.length;d++){var e=String(a[d]).toLowerCase();
if(c==e)return e}return""};this.getParentOfType=function(b,a){for(;b;){if(this.isTag(b,a).length)return b;b=b.parentNode}return null};this.collapse=function(a){if(b.getSelection){var c=d.getSelection();c.removeAllRanges?a?c.collapseToStart():c.collapseToEnd():c.collapse(a)}else c=b.selection.createRange(),c.collapse(a),c.select()};this.remove=function(){var a=b.selection;b.getSelection?(a=d.getSelection(),a.deleteFromDocument()):"none"!=a.type.toLowerCase()&&a.clear();return a};this.selectElementChildren=
function(a,c){var e;a=k.byId(a);if(b.getSelection){var m=d.getSelection();f("opera")?(e=m.rangeCount?m.getRangeAt(0):b.createRange(),e.setStart(a,0),e.setEnd(a,3==a.nodeType?a.length:a.childNodes.length),m.addRange(e)):m.selectAllChildren(a)}else if(e=a.ownerDocument.body.createTextRange(),e.moveToElementText(a),!c)try{e.select()}catch(h){}};this.selectElement=function(c,d){var e;c=k.byId(c);if(b.getSelection){var m=b.getSelection();e=b.createRange();m.removeAllRanges&&(f("opera")&&m.getRangeAt(0)&&
(e=m.getRangeAt(0)),e.selectNode(c),m.removeAllRanges(),m.addRange(e))}else try{m=c.tagName?c.tagName.toLowerCase():"",e="img"===m||"table"===m?a.body(b).createControlRange():a.body(b).createRange(),e.addElement(c),d||e.select()}catch(h){this.selectElementChildren(c,d)}};this.inSelection=function(a){if(a){var c,e;if(b.getSelection){var m=d.getSelection();m&&0<m.rangeCount&&(e=m.getRangeAt(0));if(e&&e.compareBoundaryPoints&&b.createRange)try{if(c=b.createRange(),c.setStart(a,0),1===e.compareBoundaryPoints(e.START_TO_END,
c))return!0}catch(f){}}else{e=b.selection.createRange();try{c=a.ownerDocument.body.createTextRange(),c.moveToElementText(a)}catch(f){}if(e&&c&&1===e.compareEndPoints("EndToStart",c))return!0}}return!1};this.getBookmark=function(){var a,e,m=b.selection,f=c.curNode;if(b.getSelection){if(m=d.getSelection())if(m.isCollapsed){if(a=f?f.tagName:"")if(a=a.toLowerCase(),"textarea"==a||"input"==a&&(!f.type||"text"==f.type.toLowerCase()))return m={start:f.selectionStart,end:f.selectionEnd,node:f,pRange:!0},
{isCollapsed:m.end<=m.start,mark:m};a={isCollapsed:!0};m.rangeCount&&(a.mark=m.getRangeAt(0).cloneRange())}else e=m.getRangeAt(0),a={isCollapsed:!1,mark:e.cloneRange()}}else if(m){a=f?f.tagName:"";a=a.toLowerCase();if(f&&a&&("button"==a||"textarea"==a||"input"==a)){if(m.type&&"none"==m.type.toLowerCase())return{isCollapsed:!0,mark:null};e=m.createRange();return{isCollapsed:e.text&&e.text.length?!1:!0,mark:{range:e,pRange:!0}}}a={};try{e=m.createRange(),a.isCollapsed=!("Text"==m.type?e.htmlText.length:
e.length)}catch(h){return a.isCollapsed=!0,a}if("CONTROL"==m.type.toUpperCase())if(e.length)for(a.mark=[],m=0,f=e.length;m<f;)a.mark.push(e.item(m++));else a.isCollapsed=!0,a.mark=null;else a.mark=e.getBookmark()}return a};this.moveToBookmark=function(a){if(a=a.mark)if(b.getSelection){var c=d.getSelection();c&&c.removeAllRanges&&(a.pRange?(c=a.node,c.selectionStart=a.start,c.selectionEnd=a.end):(c.removeAllRanges(),c.addRange(a)))}else if(b.selection&&a){var e;a.pRange?e=a.range:h.isArray(a)?(e=b.body.createControlRange(),
l.forEach(a,function(b){e.addElement(b)})):(e=b.body.createTextRange(),e.moveToBookmark(a));e.select()}};this.isCollapsed=function(){return this.getBookmark().isCollapsed}},m=new e(window);m.SelectionManager=e;return m})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(l,k,h,f,a){var c={};l.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(a){c[a]=f[a]});h.mixin(c,{defaultDuration:k.defaultDuration||
200});h.mixin(a,c);return a})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(l,k,h,f,a){var c={getViewport:function(){return h.getBox()}};c.placeOnScreen=f.at;c.placeOnScreenAroundElement=function(a,c,d,b){var h;if(k.isArray(d))h=d;else{h=[];for(var l in d)h.push({aroundCorner:l,corner:d[l]})}return f.around(a,c,h,!0,b)};c.placeOnScreenAroundNode=c.placeOnScreenAroundElement;c.placeOnScreenAroundRectangle=c.placeOnScreenAroundElement;
c.getPopupAroundAlignment=function(a,c){var d={};l.forEach(a,function(b){var a=c;switch(b){case "after":d[c?"BR":"BL"]=c?"BL":"BR";break;case "before":d[c?"BL":"BR"]=c?"BR":"BL";break;case "below-alt":a=!a;case "below":d[a?"BL":"BR"]=a?"TL":"TR";d[a?"BR":"BL"]=a?"TR":"TL";break;case "above-alt":a=!a;default:d[a?"TL":"TR"]=a?"BL":"BR",d[a?"TR":"TL"]=a?"BR":"BL"}});return d};k.mixin(a,c);return a})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),
function(l,k,h,f,a,c,e){function m(b,d,e,m){var f=c.getEffectiveBox(b.ownerDocument);b.parentNode&&"body"==String(b.parentNode.tagName).toLowerCase()||a.body(b.ownerDocument).appendChild(b);var t=null;l.some(d,function(a){var c=a.corner,d=a.pos,h=0,n={w:{L:f.l+f.w-d.x,R:d.x-f.l,M:f.w}[c.charAt(1)],h:{T:f.t+f.h-d.y,B:d.y-f.t,M:f.h}[c.charAt(0)]},l=b.style;l.left=l.right="auto";e&&(h=e(b,a.aroundCorner,c,n,m),h="undefined"==typeof h?0:h);var u=b.style,w=u.display,F=u.visibility;"none"==u.display&&(u.visibility=
"hidden",u.display="");l=k.position(b);u.display=w;u.visibility=F;w={L:d.x,R:d.x-l.w,M:Math.max(f.l,Math.min(f.l+f.w,d.x+(l.w>>1))-l.w)}[c.charAt(1)];F={T:d.y,B:d.y-l.h,M:Math.max(f.t,Math.min(f.t+f.h,d.y+(l.h>>1))-l.h)}[c.charAt(0)];d=Math.max(f.l,w);u=Math.max(f.t,F);w=Math.min(f.l+f.w,w+l.w)-d;F=Math.min(f.t+f.h,F+l.h)-u;h+=l.w-w+(l.h-F);if(null==t||h<t.overflow)t={corner:c,aroundCorner:a.aroundCorner,x:d,y:u,w:w,h:F,overflow:h,spaceAvailable:n};return!h});t.overflow&&e&&e(b,t.aroundCorner,t.corner,
t.spaceAvailable,m);d=t.y;var u=t.x,w=a.body(b.ownerDocument);/relative|absolute/.test(h.get(w,"position"))&&(d-=h.get(w,"marginTop"),u-=h.get(w,"marginLeft"));w=b.style;w.top=d+"px";w.left=u+"px";w.right="auto";return t}var d={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return e.place={at:function(b,a,c,e,f){c=l.map(c,function(b){var c={corner:b,aroundCorner:d[b],pos:{x:a.x,y:a.y}};e&&(c.pos.x+="L"==b.charAt(1)?e.x:-e.x,c.pos.y+="T"==b.charAt(0)?e.y:-e.y);return c});return m(b,c,f)},around:function(b,a,c,d,
e){function t(a,b){F.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+C,M:z+(C>>1)}[a.charAt(1)],y:{T:B,B:B+D,M:B+(D>>1)}[a.charAt(0)]}})}var u;if("string"==typeof a||"offsetWidth"in a||"ownerSVGElement"in a){if(u=k.position(a,!0),/^(above|below)/.test(c[0])){var w=k.getBorderExtents(a),v=a.firstChild?k.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0},y=k.getBorderExtents(b),x=b.firstChild?k.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0};u.y+=Math.min(w.t+v.t,y.t+x.t);u.h-=Math.min(w.t+v.t,y.t+x.t)+
Math.min(w.b+v.b,y.b+x.b)}}else u=a;if(a.parentNode)for(w="absolute"==h.getComputedStyle(a).position,a=a.parentNode;a&&1==a.nodeType&&"BODY"!=a.nodeName;){v=k.position(a,!0);y=h.getComputedStyle(a);/relative|absolute/.test(y.position)&&(w=!1);if(!w&&/hidden|auto|scroll/.test(y.overflow)){var x=Math.min(u.y+u.h,v.y+v.h),A=Math.min(u.x+u.w,v.x+v.w);u.x=Math.max(u.x,v.x);u.y=Math.max(u.y,v.y);u.h=x-u.y;u.w=A-u.x}"absolute"==y.position&&(w=!0);a=a.parentNode}var z=u.x,B=u.y,C="w"in u?u.w:u.w=u.width,
D="h"in u?u.h:(f.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+B+", height:"+u.height+", width:"+C+" } has been deprecated.  Please use { x:"+z+", y:"+B+", h:"+u.height+", w:"+C+" }","","2.0"),u.h=u.height),F=[];l.forEach(c,function(a){var b=d;switch(a){case "above-centered":t("TM","BM");break;case "below-centered":t("BM","TM");break;case "after-centered":b=!b;case "before-centered":t(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":t(b?"TL":"TR",b?"TR":"TL");t(b?
"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":t(b?"BL":"BR",b?"TL":"TR");t(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":t(b?"TL":"TR",b?"BL":"BR");t(b?"TR":"TL",b?"BR":"BL");break;default:t(a.aroundCorner,a.corner)}});b=m(b,F,e,{w:C,h:D});b.aroundNodePos=u;return b}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(l,k,h,f,a){var c=new l,e;h(function(){var m=a.getBox();c._rlh=k(window,"resize",
function(){var b=a.getBox();if(m.h!=b.h||m.w!=b.w)m=b,c.emit("resize")});if(8==f("ie")){var d=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=d&&(d=screen.deviceXDPI,c.emit("resize"))},500)}f("ios")&&(k(document,"focusin",function(b){e=b.target}),k(document,"focusout",function(b){e=null}))});c.getEffectiveBox=function(c){c=a.getBox(c);var d=e&&e.tagName&&e.tagName.toLowerCase();f("ios")&&e&&!e.readOnly&&("textarea"==d||"input"==d&&/^(color|email|number|password|search|tel|text|url)$/.test(e.type))&&
(c.h*=0==orientation||180==orientation?.66:.4,d=e.getBoundingClientRect(),c.h=Math.max(c.h,d.top+d.height));return c};return c})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(l,k,h){var f=h._createWrapper;h._createWrapper=function(a){a.declaredClass||(a={_popupWrapper:a.parentNode&&l.contains(a.parentNode,"dijitPopup")?a.parentNode:null,domNode:a,destroy:function(){},ownerDocument:a.ownerDocument,ownerDocumentBody:k.body(a.ownerDocument)});
return f.call(this,a)};var a=h.open;h.open=function(c){if(c.orient&&"string"!=typeof c.orient&&!("length"in c.orient)){var e=[],m;for(m in c.orient)e.push({aroundCorner:m,corner:c.orient[m]});c.orient=e}return a.call(this,c)};return h})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),function(l,
k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){function w(){this._popupWrapper&&(c.destroy(this._popupWrapper),delete this._popupWrapper)}h=h(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=e.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a)for(this._firstAroundPosition=b,b=0;b<this._stack.length;b++){var d=this._stack[b].wrapper.style;d.top=parseFloat(d.top)+a+"px";"auto"==d.right?d.left=parseFloat(d.left)+c+"px":d.right=
parseFloat(d.right)-c+"px"}this._aroundMoveListener=setTimeout(n.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,d=a.domNode;b||(b=c.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(d),d=d.style,d.display="",d.visibility="",d.position="",d.top="0px",a._popupWrapper=b,k.after(a,"destroy",w,!0),"ontouchend"in document&&p(b,"touchend",function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||
a.preventDefault()}));return b},moveOffScreen:function(a){var b=this._createWrapper(a);a=e.isBodyLtr(a.ownerDocument);var c={visibility:"hidden",top:"-9999px",display:""};c[a?"left":"right"]="-9999px";c[a?"right":"left"]="auto";m.set(b,c);return b},hide:function(a){var b=this._createWrapper(a);m.set(b,{display:"none",height:"auto",overflow:"hidden",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===
a[b-1].widget;b--);return a[b]},open:function(c){for(var h=this._stack,k=c.popup,l=k.domNode,u=c.orient||["below","below-alt","above","above-alt"],w=c.parent?c.parent.isLeftToRight():e.isBodyLtr(k.ownerDocument),C=c.around,D=c.around&&c.around.id?c.around.id+"_dropdown":"popup_"+this._idGen++;h.length&&(!c.parent||!f.isDescendant(c.parent.domNode,h[h.length-1].widget.domNode));)this.close(h[h.length-1].widget);var F=this.moveOffScreen(k);k.startup&&!k._started&&k.startup();var G,I=e.position(l);if("maxHeight"in
c&&-1!=c.maxHeight)G=c.maxHeight||Infinity;else{G=t.getEffectiveBox(this.ownerDocument);var L=C?e.position(C,!1):{y:c.y-(c.padding||0),h:2*(c.padding||0)};G=Math.floor(Math.max(L.y,G.h-(L.y+L.h)))}I.h>G&&(I=m.getComputedStyle(l),m.set(F,{overflowY:"scroll",height:G+"px",border:I.borderLeftWidth+" "+I.borderLeftStyle+" "+I.borderLeftColor}),l._originalStyle=l.style.cssText,l.style.border="none");a.set(F,{id:D,style:{zIndex:this._beginZIndex+h.length},"class":"dijitPopup "+(k.baseClass||k["class"]||
"").split(" ")[0]+"Popup",dijitPopupParent:c.parent?c.parent.id:""});0==h.length&&C&&(this._firstAroundNode=C,this._firstAroundPosition=e.position(C,!0),this._aroundMoveListener=setTimeout(n.hitch(this,"_repositionAll"),50));d("config-bgIframe")&&!k.bgIframe&&(k.bgIframe=new r(F));D=k.orient?n.hitch(k,"orient"):null;u=C?q.around(F,C,u,w,D):q.at(F,c,"R"==u?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],c.padding,D);F.style.visibility="visible";l.style.visibility="visible";l=[];l.push(p(F,"keydown",n.hitch(this,
function(a){if(a.keyCode==b.ESCAPE&&c.onCancel)a.stopPropagation(),a.preventDefault(),c.onCancel();else if(a.keyCode==b.TAB&&(a.stopPropagation(),a.preventDefault(),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));k.onCancel&&c.onCancel&&l.push(k.on("cancel",c.onCancel));l.push(k.on(k.onExecute?"execute":"change",n.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));h.push({widget:k,wrapper:F,parent:c.parent,onExecute:c.onExecute,onCancel:c.onCancel,onClose:c.onClose,
handlers:l});if(k.onOpen)k.onOpen(u);return u},close:function(a){for(var b=this._stack;a&&l.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,e=c.onClose;d.bgIframe&&(d.bgIframe.destroy(),delete d.bgIframe);if(d.onClose)d.onClose();for(var m;m=c.handlers.pop();)m.remove();d&&d.domNode&&this.hide(d);e&&e()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return u.popup=
new h})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(l,k,h,f,a,c,e,m){m.add("config-bgIframe",m("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||m("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var d=new function(){var b=[];this.pop=function(){var c;b.length?(c=b.pop(),c.style.display=""):(9>m("ie")?(c="\x3ciframe src\x3d'"+(h.dojoBlankHtmlUrl||l.toUrl("dojo/resources/blank.html")||
'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",c=document.createElement(c)):(c=f.create("iframe"),c.src='javascript:""',c.className="dijitBackgroundIframe",c.setAttribute("role","presentation"),a.set(c,"opacity",.1)),c.tabIndex=-1);return c};this.push=function(a){a.style.display="none";b.push(a)}};k.BackgroundIframe=function(b){if(!b.id)throw Error("no id");if(m("config-bgIframe")){var f=this.iframe=d.pop();
b.appendChild(f);7>m("ie")||m("quirks")?(this.resize(b),this._conn=e(b,"resize",c.hitch(this,"resize",b))):a.set(f,{width:"100%",height:"100%"})}};c.extend(k.BackgroundIframe,{resize:function(b){this.iframe&&a.set(this.iframe,{width:b.offsetWidth+"px",height:b.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),d.push(this.iframe),delete this.iframe)}});return k.BackgroundIframe})},"dijit/_base/scroll":function(){define(["dojo/window",
"../main"],function(l,k){k.scrollIntoView=function(h,f){l.scrollIntoView(h,f)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(l,k,h,f,a){var c=a.doc.documentElement;a=f("ie");var e=f("opera"),m=Math.floor,d=f("ff"),b=l.boxModel.replace(/-/,""),e={dj_quirks:f("quirks"),dj_opera:e,dj_khtml:f("khtml"),dj_webkit:f("webkit"),dj_safari:f("safari"),dj_chrome:f("chrome"),
dj_gecko:f("mozilla"),dj_ios:f("ios"),dj_android:f("android")};a&&(e.dj_ie=!0,e["dj_ie"+m(a)]=!0,e.dj_iequirks=f("quirks"));d&&(e["dj_ff"+m(d)]=!0);e["dj_"+b]=!0;var n="",p;for(p in e)e[p]&&(n+=p+" ");c.className=k.trim(c.className+" "+n);h(function(){if(!l.isBodyLtr()){var a="dj_rtl dijitRtl "+n.replace(/ /g,"-rtl ");c.className=k.trim(c.className+" "+a+"dj_rtl dijitRtl "+n.replace(/ /g,"-rtl "))}});return f})},"dijit/_base/typematic":function(){define(["../typematic"],function(){})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),
function(l,k,h,f,a,c){var e=c.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(h.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,c,b,e,f,k,l,t){if(f!=this._obj){this.stop();this._initialDelay=l||500;this._subsequentDelay=
k||.9;this._minDelay=t||10;this._obj=f;this._node=b;this._count=this._currentTimeout=-1;this._callback=h.hitch(c,e);this._evt={faux:!0};for(var u in a)"layerX"!=u&&"layerY"!=u&&(c=a[u],"function"!=typeof c&&"undefined"!=typeof c&&(this._evt[u]=c));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(a,c,b,n,p,q,r){var t="keyCode"in c?"keyCode":"charCode"in
c?"charCode":"charOrCode",u=[f(a,"keyCode"in c?"keydown":"charCode"in c?"keypress":k._keypress,h.hitch(this,function(f){f[t]!=c[t]||void 0!==c.ctrlKey&&c.ctrlKey!=f.ctrlKey||void 0!==c.altKey&&c.altKey!=f.altKey||void 0!==c.metaKey&&c.metaKey!=(f.metaKey||!1)||void 0!==c.shiftKey&&c.shiftKey!=f.shiftKey?e._obj==c&&e.stop():(f.stopPropagation(),f.preventDefault(),e.trigger(f,b,a,n,c,p,q,r))})),f(a,"keyup",h.hitch(this,function(){e._obj==c&&e.stop()}))];return{remove:function(){l.forEach(u,function(a){a.remove()})}}},
addMouseListener:function(c,d,b,k,p,q){var r=[f(c,"mousedown",h.hitch(this,function(a){a.preventDefault();e.trigger(a,d,c,b,c,k,p,q)})),f(c,"mouseup",h.hitch(this,function(a){this._obj&&a.preventDefault();e.stop()})),f(c,"mouseout",h.hitch(this,function(a){this._obj&&a.preventDefault();e.stop()})),f(c,"dblclick",h.hitch(this,function(f){f.preventDefault();9>a("ie")&&(e.trigger(f,d,c,b,c,k,p,q),setTimeout(h.hitch(this,e.stop),50))}))];return{remove:function(){l.forEach(r,function(a){a.remove()})}}},
addListener:function(a,c,b,e,f,h,k,t){var u=[this.addKeyListener(c,b,e,f,h,k,t),this.addMouseListener(a,e,f,h,k,t)];return{remove:function(){l.forEach(u,function(a){a.remove()})}}}};return e})},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(l,k,h){k.mixin(h,{hasWaiRole:function(f,a){var c=this.getWaiRole(f);return a?-1<c.indexOf(a):0<c.length},getWaiRole:function(f){return k.trim((l.get(f,"role")||"").replace("wairole:",""))},setWaiRole:function(f,
a){l.set(f,"role",a)},removeWaiRole:function(f,a){var c=l.get(f,"role");c&&(a?(c=k.trim((" "+c+" ").replace(" "+a+" "," ")),l.set(f,"role",c)):f.removeAttribute("role"))},hasWaiState:function(f,a){return f.hasAttribute?f.hasAttribute("aria-"+a):!!f.getAttribute("aria-"+a)},getWaiState:function(f,a){return f.getAttribute("aria-"+a)||""},setWaiState:function(f,a,c){f.setAttribute("aria-"+a,c)},removeWaiState:function(f,a){f.removeAttribute("aria-"+a)}});return h})},"dijit/hccss":function(){define(["dojo/dom-class",
"dojo/hccss","dojo/domReady","dojo/_base/window"],function(l,k,h,f){h(function(){k("highcontrast")&&l.add(f.body(),"dijit_a11y")});return k})},"dijit/_base/window":function(){define(["dojo/window","../main"],function(l,k){k.getDocumentWindow=function(h){return l.get(h)}})},"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(l,k,h,f,a){return k("dijit.layout.TabContainer",h,{useMenu:!0,useSlider:!0,
controllerWidget:"",_makeController:function(a){var e=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?l.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":e,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?
this.baseClass+(this.tabStrip?"":"No")+"Strip":null},a)},postMixInProperties:function(){this.inherited(arguments);this.controllerWidget||(this.controllerWidget="top"!=this.tabPosition&&"bottom"!=this.tabPosition||this.nested?f:a)}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style ./StackContainer ./utils ../registry ../_TemplatedMixin dojo/text!./templates/TabContainer.html".split(" "),function(l,k,h,f,a,c,e,m,d){return l("dijit.layout._TabContainerBase",
[a,m],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:d,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&f.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||k.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(k.add(this.domNode,
"dijitTabContainerNested"),k.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),k.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),k.add(this.containerNode,"dijitTabPaneWrapperNested")):k.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(a){k.add(a.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var a=
this.selectedChildWidget;if(this.doLayout){var d=this.tabPosition.replace(/-h/,"");this.tablist.region=d;d=[this.tablist,{domNode:this.tablistSpacer,region:d},{domNode:this.containerNode,region:"center"}];c.layoutChildren(this.domNode,this._contentBox,d);this._containerContentBox=c.marginBox2contentBox(this.containerNode,d[2]);a&&a.resize&&a.resize(this._containerContentBox)}else{if(this.tablist.resize){d=this.tablist.domNode.style;d.width="0";var e=h.getContentBox(this.domNode).w;d.width="";this.tablist.resize({w:e})}a&&
a.resize&&a.resize()}}},destroy:function(a){this.tablist&&this.tablist.destroy(a);this.inherited(arguments)},selectChild:function(a,c){this._focused&&(a=e.byId(a),this.tablist.pane2button(a.id).focus());return this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(l,
k,h,f,a,c,e,m,d,b,n,p,q,r){c("dijit-legacy-requires")&&d(0,function(){require(["dijit/layout/StackController"])});h=h("dijit.layout.StackContainer",r,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(m(this.domNode,"keydown",e.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var a=this.getChildren();l.forEach(a,this._setupChild,
this);this.persist?this.selectedChildWidget=p.byId(k(this.id+"_selectedChild")):l.some(a,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var c=this.selectedChildWidget;!c&&a[0]&&(c=this.selectedChildWidget=a[0],c.selected=!0);b.publish(this.id+"-startup",{children:a,selected:c,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},
_setupChild:function(b){var c=b.domNode,d=a.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",b.domNode,"replace"),e=b["aria-label"]||b.title||b.label;e&&d.setAttribute("aria-label",e);a.place(c,d);b._wrapper=d;this.inherited(arguments);"none"==c.style.display&&(c.style.display="block");b.domNode.removeAttribute("title")},addChild:function(a,c){this.inherited(arguments);this._started&&(b.publish(this.id+"-addChild",a,c),this.layout(),this.selectedChildWidget||
this.selectChild(a))},removeChild:function(c){var d=l.indexOf(this.getChildren(),c);this.inherited(arguments);a.destroy(c._wrapper);delete c._wrapper;this._started&&b.publish(this.id+"-removeChild",c);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===c&&(this.selectedChildWidget=void 0,this._started)){var e=this.getChildren();e.length&&this.selectChild(e[Math.max(d-1,0)])}this._started&&this.layout()}},selectChild:function(a,c){var d;a=p.byId(a);this.selectedChildWidget!=a&&(d=this._transition(a,
this.selectedChildWidget,c),this._set("selectedChildWidget",a),b.publish(this.id+"-selectChild",a),this.persist&&k(this.id+"_selectedChild",this.selectedChildWidget.id));return n(d||!0)},_transition:function(a,b){b&&this._hideChild(b);var c=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return c},_adjacent:function(a){var b=this.getChildren(),c=l.indexOf(b,this.selectedChildWidget),c=c+(a?1:b.length-1);return b[c%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),
!0)},back:function(){return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(a){b.publish(this.id+"-containerKeyDown",{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);a._wrapper&&f.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||
!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&f.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose&&a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;l.forEach(this.getChildren(),function(b){a||this.removeChild(b);b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});h.ChildWidgetProperties={selected:!1,disabled:!1,
closable:!1,iconClass:"dijitNoIcon",showTitle:!0};e.extend(q,h.ChildWidgetProperties);return h})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),function(l,
k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B){function C(a){return function(b){m[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}q.add("dijit-legacy-requires",!r.isAsync);q.add("dojo-bidi",!1);q("dijit-legacy-requires")&&w(0,function(){l(["dijit/_base/manager"])});var D={};f=c("dijit._WidgetBase",[v,A],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:C("lang"),dir:"",_setDirAttr:C("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:f.blankGif||l.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var b=a.prototype,c=a._setterAttrs=[],a=a._onMap={},d;for(d in b.attributeMap)c.push(d);for(d in b)/^on/.test(d)&&(a[d.substring(2).toLowerCase()]=d),/^_set[A-Z](.*)Attr$/.test(d)&&(d=d.charAt(4).toLowerCase()+d.substr(5,d.length-
9),b.attributeMap&&d in b.attributeMap||c.push(d))}},postscript:function(a,b){this.create(a,b)},create:function(a,b){this._introspect();this.srcNodeRef=e.byId(b);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,t.mixin(this,a));this.postMixInProperties();this.id||(this.id=B.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?
this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=x.body(this.ownerDocument);B.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&d.parentNode&&this.domNode!==d&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},b;for(b in this.params||{})a[b]=this._get(b);k.forEach(this.constructor._setterAttrs,
function(b){if(!(b in a)){var c=this._get(b);c&&this.set(b,c)}},this);for(b in a)this.set(b,a[b])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(k.map(a,function(a){return a+"Rtl"})));d.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,k.forEach(this.getChildren(),function(a){a._started||
a._destroyed||!t.isFunction(a.startup)||(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function b(c){c.destroyRecursive?c.destroyRecursive(a):c.destroy&&c.destroy(a)}this._beingDestroyed=!0;this.uninitialize();k.forEach(this._connects,t.hitch(this,"disconnect"));k.forEach(this._supportingWidgets,b);this.domNode&&k.forEach(B.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);
B.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?m.remove(this.domNode,"widgetId"):b.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||b.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){k.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;t.isObject(a)?
p.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,c){c=3<=arguments.length?c:this.attributeMap[a];k.forEach(t.isArray(c)?c:[c],function(c){var e=this[c.node||c||"domNode"];switch(c.type||"attribute"){case "attribute":t.isFunction(b)&&(b=t.hitch(this,b));c=c.attribute?c.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;e.tagName?m.set(e,c,b):e.set(c,b);break;case "innerText":e.innerHTML="";e.appendChild(this.ownerDocument.createTextNode(b));
break;case "innerHTML":e.innerHTML=b;break;case "class":d.replace(e,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?this[b.g]():this._get(a)},set:function(a,b){if("object"===typeof a){for(var c in a)this.set(c,a[c]);return this}c=this._getAttrNames(a);var d=this[c.s];if(t.isFunction(d))var e=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!t.isFunction(this.focusNode)?"focusNode":"domNode",f=this[d]&&this[d].tagName,m;if((m=f)&&!(m=
D[f])){m=this[d];var h={},k;for(k in m)h[k.toLowerCase()]=!0;m=D[f]=h}k=m;c=a in this.attributeMap?this.attributeMap[a]:c.s in this?this[c.s]:k&&c.l in k&&"function"!=typeof b||/^aria-|^data-|^role$/.test(a)?d:null;null!=c&&this._attrToDom(a,b,c);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var c=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+c+"Attr",
g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(a,b){var c=this[a];this[a]=b;!this._created||c===b||c!==c&&b!==b||(this._watchCallbacks&&this._watchCallbacks(a,c,b),this.emit("attrmodified-"+a,{detail:{prevValue:c,newValue:b}}))},_get:function(a){return this[a]},emit:function(a,b,c){b=b||{};void 0===b.bubbles&&(b.bubbles=!0);void 0===b.cancelable&&(b.cancelable=!0);b.detail||(b.detail={});b.detail.widget=this;var d,e=this["on"+a];e&&(d=e.apply(this,c?c:[b]));this._started&&!this._beingDestroyed&&
u.emit(this.domNode,a.toLowerCase(),b);return d},on:function(a,b){var c=this._onMap(a);return c?h.after(this,c,b,!0):this.own(u(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,c=b._onMap;if(!c){var c=b._onMap={},d;for(d in b.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?B.findWidgets(this.containerNode):
[]},getParent:function(){return B.getEnclosingWidget(this.domNode.parentNode)},connect:function(b,c,d){return this.own(a.connect(b,c,this,d))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(y.subscribe(a,t.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():n.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=p.get(this.domNode,"display")},placeAt:function(a,c){var d=
!a.tagName&&B.byId(a);!d||!d.addChild||c&&"number"!==typeof c?(d=d&&"domNode"in d?d.containerNode&&!/after|before|replace/.test(c||"")?d.containerNode:d.domNode:e.byId(a,this.ownerDocument),b.place(this.domNode,d,c),!this._started&&(this.getParent()||{})._started&&this.startup()):d.addChild(this,c);return this},defer:function(a,b){var c=setTimeout(t.hitch(this,function(){c&&(c=null,this._destroyed||t.hitch(this,a)())}),b||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}});q("dojo-bidi")&&
f.extend(z);return f})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(l,k,h){return h("dijit.Destroyable",null,{destroy:function(f){this._destroyed=!0},own:function(){var f=["destroyRecursive","destroy","remove"];l.forEach(arguments,function(a){function c(){m.remove();l.forEach(d,function(a){a.remove()})}var e,m=k.before(this,"destroy",function(b){a[e](b)}),d=[];a.then?(e="cancel",a.then(c,c)):l.forEach(f,function(b){"function"===typeof a[b]&&
(e||(e=b),d.push(k.after(a,b,c,!0)))})},this);return arguments}})})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(l,k,h,f,a,c,e,m,d){return c("dijit.layout._LayoutWidget",[k,h,f],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"dijitContainer")},
startup:function(){if(!this._started){this.inherited(arguments);var b=this.getParent&&this.getParent();b&&b.isLayoutContainer||(this.resize(),this.own(a.on("resize",l.hitch(this,"resize"))))}},resize:function(a,c){var e=this.domNode;a&&m.setMarginBox(e,a);var f=c||{};l.mixin(f,a||{});"h"in f&&"w"in f||(f=l.mixin(m.getMarginBox(e),f));var h=d.getComputedStyle(e),k=m.getMarginExtents(e,h),u=m.getBorderExtents(e,h),f=this._borderBox={w:f.w-(k.w+u.w),h:f.h-(k.h+u.h)},k=m.getPadExtents(e,h);this._contentBox=
{l:d.toPixelValue(e,h.paddingLeft),t:d.toPixelValue(e,h.paddingTop),w:f.w-k.w,h:f.h-k.h};this.layout()},layout:function(){},_setupChild:function(a){e.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,c){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){e.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){function r(){}function t(a){return function(b,c,d,f){return b&&"string"==typeof c&&b[c]==r?b.on(c.substring(2).toLowerCase(),e.hitch(d,f)):a.apply(h,arguments)}}l.around(h,"connect",t);c.connect&&l.around(c,"connect",t);l=f("dijit._Widget",[n,p,q],{onClick:r,onDblClick:r,onKeyDown:r,onKeyPress:r,onKeyUp:r,onMouseDown:r,onMouseMove:r,onMouseOut:r,onMouseOver:r,onMouseLeave:r,onMouseEnter:r,onMouseUp:r,constructor:function(a){this._toConnect={};for(var b in a)this[b]===
r&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===r?h.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){c.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,b)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){c.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?m("[widgetId]",this.containerNode).map(b.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});a("dijit-legacy-requires")&&d(0,function(){require(["dijit/_base"])});
return l})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(l,k,h,f,a,c){l=f("dijit._OnDijitClickMixin",null,{connect:function(a,f,d){return this.inherited(arguments,[a,"ondijitclick"==f?c:f,d])}});l.a11yclick=c;return l})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(l,k,h,f){function a(a){if((a.keyCode===l.ENTER||a.keyCode===l.SPACE)&&!/input|button|textarea/i.test(a.target.nodeName))for(a=
a.target;a;a=a.parentNode)if(a.dojoClick)return!0}var c;h(document,"keydown",function(e){a(e)?(c=e.target,e.preventDefault()):c=null});h(document,"keyup",function(e){a(e)&&e.target==c&&(c=null,h.emit(e.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type}))});var e=function(a,c){a.dojoClick=!0;return h(a,"click",c)};e.click=e;e.press=function(a,c){var b=h(a,f.press,function(a){("mousedown"!=a.type||k.isLeft(a))&&c(a)}),e=
h(a,"keydown",function(a){a.keyCode!==l.ENTER&&a.keyCode!==l.SPACE||c(a)});return{remove:function(){b.remove();e.remove()}}};e.release=function(a,c){var b=h(a,f.release,function(a){("mouseup"!=a.type||k.isLeft(a))&&c(a)}),e=h(a,"keyup",function(a){a.keyCode!==l.ENTER&&a.keyCode!==l.SPACE||c(a)});return{remove:function(){b.remove();e.remove()}}};e.move=f.move;return e})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(l,k,h,f){f.extend(k,
{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return h("dijit._FocusMixin",null,{_focusManager:l})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(l,k,h,f){return k("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(a,c){var e=this.containerNode;
if(0<c){for(e=e.firstChild;0<c;)1==e.nodeType&&c--,e=e.nextSibling;e?c="before":(e=this.containerNode,c="last")}h.place(a.domNode,e,c);this._started&&!a._started&&a.startup()},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&(a=a.domNode)&&a.parentNode&&a.parentNode.removeChild(a)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(a,c){f.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.",
"","2.0");var e=this.getChildren(),m=l.indexOf(e,a);return e[m+c]},getIndexOfChild:function(a){return l.indexOf(this.getChildren(),a)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(l,k){return l("dijit._Contained",null,{_getSibling:function(h){var f=this.domNode;do f=f[h+"Sibling"];while(f&&1!=f.nodeType);return f&&k.byNode(f)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var h=
this.getParent();return h&&h.getIndexOfChild?h.getIndexOfChild(this):-1}})})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(l,k,h,f,a){function c(a){return a.substring(0,1).toUpperCase()+a.substring(1)}function e(c,b){var e=c.resize?c.resize(b):h.setMarginBox(c.domNode,b);e?a.mixin(c,e):(a.mixin(c,h.getMarginBox(c.domNode)),a.mixin(c,b))}var m={marginBox2contentBox:function(a,b){var c=f.getComputedStyle(a),
e=h.getMarginExtents(a,c),m=h.getPadBorderExtents(a,c);return{l:f.toPixelValue(a,c.paddingLeft),t:f.toPixelValue(a,c.paddingTop),w:b.w-(e.w+m.w),h:b.h-(e.h+m.h)}},layoutChildren:function(d,b,f,m,h){b=a.mixin({},b);k.add(d,"dijitLayoutContainer");f=l.filter(f,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(l.filter(f,function(a){return"center"==a.region||"client"==a.layoutAlign}));l.forEach(f,function(a){var d=a.domNode,f=a.region||a.layoutAlign;if(!f)throw Error("No region setting for "+
a.id);var n=d.style;n.left=b.l+"px";n.top=b.t+"px";n.position="absolute";k.add(d,"dijitAlign"+c(f));d={};m&&m==a.id&&(d["top"==a.region||"bottom"==a.region?"h":"w"]=h);"leading"==f&&(f=a.isLeftToRight()?"left":"right");"trailing"==f&&(f=a.isLeftToRight()?"right":"left");"top"==f||"bottom"==f?(d.w=b.w,e(a,d),b.h-=a.h,"top"==f?b.t+=a.h:n.top=b.t+b.h+"px"):"left"==f||"right"==f?(d.h=b.h,e(a,d),b.w-=a.w,"left"==f?b.l+=a.w:n.left=b.l+b.w+"px"):"client"!=f&&"center"!=f||e(a,b)})}};a.setObject("dijit.layout.utils",
m);return m})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(l,k,h,f,a,c,e,m){var d=k("dijit._TemplatedMixin",m,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var c=this.declaredClass,d=this;return e.substitute(a,this,function(a,b){"!"==b.charAt(0)&&(a=f.getObject(b.substr(1),!1,d));if("undefined"==typeof a)throw Error(c+
" template:"+b);return null==a?"":"!"==b.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=l(this.templatePath,{sanitize:!0}));var a=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),c;if(f.isString(a)){if(c=h.toDom(this._stringRepl(a),
this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+a);}else c=a.cloneNode(!0);this.domNode=c}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var c=this.containerNode;if(a&&c)for(;a.hasChildNodes();)c.appendChild(a.firstChild)}});d._templateCache={};d.getCachedTemplate=function(a,c,f){var m=d._templateCache,k=a,l=m[k];if(l){try{if(!l.ownerDocument||l.ownerDocument==(f||document))return l}catch(u){}h.destroy(l)}a=
e.trim(a);if(c||a.match(/\$\{([^\}]+)\}/g))return m[k]=a;c=h.toDom(a,f);if(1!=c.nodeType)throw Error("Invalid template: "+a);return m[k]=c};c("ie")&&a(window,"unload",function(){var a=d._templateCache,c;for(c in a){var e=a[c];"object"==typeof e&&h.destroy(e);delete a[c]}});return d})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(l){return l.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(l,k,h,f){var a;a=function(a,c,d){f(a,{sync:!!c,
headers:{"X-Requested-With":null}}).then(d)};var c={},e=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=c[1])}else a="";return a},m={},d={};l.cache=function(b,d,f){var m;"string"==typeof b?/\//.test(b)?(m=b,f=d):m=k.toUrl(b.replace(/\./g,"/")+(d?"/"+d:"")):(m=b+"",f=d);b=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof b)return c[m]=b,f?e(b):b;if(null===b)return delete c[m],
null;m in c||a(m,!0,function(a){c[m]=a});return f?e(c[m]):c[m]};return{dynamic:!0,normalize:function(a,c){var d=a.split("!"),e=d[0];return(/^\./.test(e)?c(e):e)+(d[1]?"!"+d[1]:"")},load:function(b,f,h){b=b.split("!");var k=1<b.length,l=b[0],t=f.toUrl(b[0]);b="url:"+t;var u=m,w=function(a){h(k?e(a):a)};l in c?u=c[l]:f.cache&&b in f.cache?u=f.cache[b]:t in c&&(u=c[t]);if(u===m)if(d[t])d[t].push(w);else{var v=d[t]=[w];a(t,!f.async,function(a){c[l]=c[t]=a;for(var b=0;b<v.length;)v[b++](a);delete d[t]})}else w(u)}}})},
"dojo/request":function(){define(["./request/default!"],function(l){return l})},"dojo/request/default":function(){define(["exports","require","../has"],function(l,k,h){var f=h("config-requestProvider");f||(f="./xhr");l.getPlatformDefaultId=function(){return"./xhr"};l.load=function(a,c,e,m){k(["platform"==a?"./xhr":f],function(a){e(a)})}})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(l,k,h,f,a,c,e,m,d){var b=a.delegate(m,{mouseenter:c.enter,mouseleave:c.leave,keypress:h._keypress}),n;h=f("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(b,c,d){var e=!0,f=this.attachScope||this,m=c(b,"dojoAttachPoint")||c(b,"data-dojo-attach-point");if(m)for(var h=m.split(/\s*,\s*/);m=h.shift();)a.isArray(f[m])?f[m].push(b):f[m]=b,e="containerNode"!=m,this._attachPoints.push(m);if(c=c(b,"dojoAttachEvent")||c(b,"data-dojo-attach-event"))for(m=c.split(/\s*,\s*/),h=a.trim;c=m.shift();)if(c){var k=
null;-1!=c.indexOf(":")?(k=c.split(":"),c=h(k[0]),k=h(k[1])):c=h(c);k||(k=c);this._attachEvents.push(d(b,c,a.hitch(f,k)))}return e},_attach:function(a,c,d){c=c.replace(/^on/,"").toLowerCase();c="dijitclick"==c?n||(n=l("./a11yclick")):b[c]||c;return e(a,c,d)},_detachTemplateNodes:function(){var a=this.attachScope||this;k.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];k.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});a.extend(d,{dojoAttachEvent:"",dojoAttachPoint:""});return h})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){p=l("dijit.layout._TabButton"+(a("dojo-bidi")?"_NoBidi":""),m.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},
templateString:p,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);k.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(a){this._set("closeButton",a);f.toggle(this.domNode,"dijitClosable",a);this.closeNode.style.display=a?"":"none";a&&(a=c.getLocalization("dijit","common"),this.closeNode&&h.set(this.closeNode,"title",a.itemClose))},
_setDisabledAttr:function(a){this.inherited(arguments);if(this.closeNode)if(a)h.remove(this.closeNode,"title");else{var b=c.getLocalization("dijit","common");h.set(this.closeNode,"title",b.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);this.showLabel||this.params.title||(this.iconNode.alt=e.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});a("dojo-bidi")&&(p=l("dijit.layout._TabButton",p,{_setLabelAttr:function(a){this.inherited(arguments);this.applyTextDir(this.iconNode,
this.iconNode.alt)}}));l=l("dijit.layout.TabController",m,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:p,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var a=new b({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return f.contains(a,
"dijitClosable")&&!f.contains(a,"dijitTabDisabled")}});this.own(a);var e=c.getLocalization("dijit","common"),m=this;a.addChild(new n({label:e.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=d.byNode(this.getParent().currentTarget);m.onCloseButtonClick(a.page)}}))}});l.TabButton=p;return l})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){f=k("dijit.layout._StackButton",r,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});k=k("dijit.layout.StackController",[n,p,q],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:f,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(a){return b.byId(this.id+
"_"+a)},postCreate:function(){this.inherited(arguments);this.own(m.subscribe(this.containerId+"-startup",c.hitch(this,"onStartup")),m.subscribe(this.containerId+"-addChild",c.hitch(this,"onAddChild")),m.subscribe(this.containerId+"-removeChild",c.hitch(this,"onRemoveChild")),m.subscribe(this.containerId+"-selectChild",c.hitch(this,"onSelectChild")),m.subscribe(this.containerId+"-containerKeyDown",c.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(e(this.containerNode,"click",
c.hitch(this,function(a){var c=b.getEnclosingWidget(a.target);if(c!=this.containerNode&&!c.disabled&&c.page)for(a=a.target;a!==this.containerNode;a=a.parentNode)if(h.contains(a,this.buttonWidgetCloseClass)){this.onCloseButtonClick(c.page);break}else if(a==c.domNode){this.onButtonClick(c.page);break}})))},onStartup:function(a){this.textDir=a.textDir;l.forEach(a.children,this.onAddChild,this);if(a.selected)this.onSelectChild(a.selected);var d=b.byId(this.containerId).containerNode,f=c.hitch(this,"pane2button");
a={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var m=function(a,b){return e(d,"attrmodified-"+a,function(a){var c=f(a.detail&&a.detail.widget&&a.detail.widget.id);c&&c.set(b,a.detail.newValue)})},h;for(h in a)this.own(m(h,a[h]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,b){var d=new (c.isString(this.buttonWidget)?c.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+
"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(d,b);a.controlButton=d;if(!this._currentChild)this.onSelectChild(a);d=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+d.id:d.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",
d)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(a){if(a){if(this._currentChild){var c=this.pane2button(this._currentChild.id);c.set("checked",!1);c.focusNode.setAttribute("tabIndex","-1")}c=this.pane2button(a.id);c.set("checked",!0);this._currentChild=a;c.focusNode.setAttribute("tabIndex","0");b.byId(this.containerId)}},onButtonClick:function(a){var c=this.pane2button(a.id);
d.focus(c.focusNode);this._currentChild&&this._currentChild.id===a.id&&c.set("checked",!0);b.byId(this.containerId).selectChild(a)},onCloseButtonClick:function(a){b.byId(this.containerId).closeChild(a);this._currentChild&&(a=this.pane2button(this._currentChild.id))&&d.focus(a.focusNode||a.domNode)},adjacent:function(a){this.isLeftToRight()||this.tabPosition&&!/top|bottom/.test(this.tabPosition)||(a=!a);var b=this.getChildren(),c=l.indexOf(b,this.pane2button(this._currentChild.id)),d=b[c],e;do c=(c+
(a?1:b.length-1))%b.length,e=b[c];while(e.disabled&&e!=d);return e},onkeydown:function(b,c){if(!this.disabled&&!b.altKey){var d=null;if(b.ctrlKey||!b._djpage){switch(b.keyCode){case a.LEFT_ARROW:case a.UP_ARROW:b._djpage||(d=!1);break;case a.PAGE_UP:b.ctrlKey&&(d=!1);break;case a.RIGHT_ARROW:case a.DOWN_ARROW:b._djpage||(d=!0);break;case a.PAGE_DOWN:b.ctrlKey&&(d=!0);break;case a.HOME:for(var e=this.getChildren(),f=0;f<e.length;f++){var m=e[f];if(!m.disabled){this.onButtonClick(m.page);break}}b.stopPropagation();
b.preventDefault();break;case a.END:e=this.getChildren();for(f=e.length-1;0<=f;f--)if(m=e[f],!m.disabled){this.onButtonClick(m.page);break}b.stopPropagation();b.preventDefault();break;case a.DELETE:case 87:this._currentChild.closable&&(b.keyCode==a.DELETE||b.ctrlKey)&&(this.onCloseButtonClick(this._currentChild),b.stopPropagation(),b.preventDefault());break;case a.TAB:b.ctrlKey&&(this.onButtonClick(this.adjacent(!b.shiftKey).page),b.stopPropagation(),b.preventDefault())}null!==d&&(this.onButtonClick(this.adjacent(d).page),
b.stopPropagation(),b.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});k.StackButton=f;return k})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(l,k,h,f){return l("dijit.form.ToggleButton",[h,f],{baseClass:"dijitToggleButton",setChecked:function(a){k.deprecated("setChecked("+a+") is deprecated. Use set('checked',"+a+") instead.","","2.0");this.set("checked",a)}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),
function(l,k,h,f,a,c,e,m,d,b){f("dijit-legacy-requires")&&e(0,function(){l(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});e=k("dijit.form.Button"+(f("dojo-bidi")?"_NoBidi":""),[m,d],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:b,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){!a||this.params&&"label"in
this.params||!(a=c.trim(a.innerHTML))||(this.label=a)},_setShowLabelAttr:function(a){this.containerNode&&h.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(b){a.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",b)},_setLabelAttr:function(a){this.inherited(arguments);this.showLabel||"title"in this.params||(this.titleNode.title=c.trim(this.containerNode.innerText||this.containerNode.textContent||
""))}});f("dojo-bidi")&&(e=k("dijit.form.Button",e,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return e})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(l,
k,h,f,a,c,e,m){k("dijit-legacy-requires")&&f(0,function(){require(["dijit/form/_FormValueWidget"])});return l("dijit.form._FormWidget",[a,e,c,m],{setDisabled:function(a){h.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",a)},setValue:function(a){h.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){h.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.",
"","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!k("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){k=k("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);
l.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,c.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);
break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(c){b=b.concat(l.map(b,function(a){return a+c}),"dijit"+c)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c=
"mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,d={};l.forEach(c.className.split(" "),function(a){d[a]=!0});"_stateClasses"in this&&l.forEach(this._stateClasses,function(a){delete d[a]});l.forEach(b,function(a){d[a]=!0});var e=
[],f;for(f in d)e.push(f);c.className=e.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,c){function d(c){f.toggle(a,b+"Active",c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":case "MSPointerOver":case "pointerover":f.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":f.toggle(a,b+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":d(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":d(!1);
break;case "focus":case "focusin":f.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":f.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});m(function(){function a(b,c,d){if(!d||!h.isDescendant(d,c))for(;c&&c!=d;c=c.parentNode)if(c._cssState){var e=p.getEnclosingWidget(c);e&&(c==e.domNode?e._cssMouseEvent(b):e._subnodeCssMouseEvent(c,c._cssState,b))}}var c=b.body(),f;e(c,d.over,function(b){a(b,b.target,b.relatedTarget)});e(c,d.out,function(b){a(b,b.target,b.relatedTarget)});
e(c,n.press,function(b){f=b.target;a(b,f)});e(c,n.release,function(b){a(b,f);f=null});e(c,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var c=p.getEnclosingWidget(b);c&&c._subnodeCssMouseEvent(b,b._cssState,a)}})});return k})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(l,k,h,f,a,c,e,m,d,b){return k("dijit.form._FormWidgetMixin",
null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(c){this._set("disabled",c);h.set(this.focusNode,"disabled",c);this.valueNode&&h.set(this.valueNode,"disabled",c);this.focusNode.setAttribute("aria-disabled",c?"true":"false");c?(this._set("hovering",!1),this._set("active",!1),c="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in
this?this._setTabIndexAttr:"focusNode",l.forEach(a.isArray(c)?c:[c],function(a){a=this[a];m("webkit")||b.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(b){if("mouse"==b&&this.isFocusable())var c=this.own(e(this.focusNode,"focus",function(){h.remove();c.remove()}))[0],f=m("pointer-events")?"pointerup":m("MSPointer")?"MSPointerUp":m("touch-events")?"touchend, mouseup":"mouseup",h=this.own(e(this.ownerDocumentBody,
f,a.hitch(this,function(a){h.remove();c.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){d.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=f.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?
0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){void 0!=this._lastValueReported||null!==b&&this._onChangeActive||(this._resetValue=this._lastValueReported=a);this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);(this.intermediateChanges||b||void 0===b)&&this._pendingOnChange&&(this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),
this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)})))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(l,k,h,f){var a=l("dijit.form._ButtonMixin"+(h("dojo-bidi")?"_NoBidi":""),null,{label:"",
type:"button",__onClick:function(a){a.stopPropagation();a.preventDefault();this.disabled||this.valueNode.click(a);return!1},_onClick:function(a){if(this.disabled)return a.stopPropagation(),a.preventDefault(),!1;!1===this.onClick(a)&&a.preventDefault();var e=a.defaultPrevented;if(!e&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var m=this.domNode;m.parentNode;m=m.parentNode){var d=f.byNode(m);if(d&&"function"==typeof d._onSubmit){d._onSubmit(a);a.preventDefault();e=!0;break}}return!e},
postCreate:function(){this.inherited(arguments);k.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(a){this._set("label",a);(this.containerNode||this.focusNode).innerHTML=a}});h("dojo-bidi")&&(a=l("dijit.form._ButtonMixin",a,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return a})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(l,k){return l("dijit.form._ToggleButtonMixin",
null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(h){var f=this.checked;this._set("checked",!f);var a=this.inherited(arguments);this.set("checked",a?this.checked:f);return a},_setCheckedAttr:function(h,f){this._set("checked",h);var a=this.focusNode||this.domNode;this._created&&k.get(a,"checked")!=!!h&&k.set(a,"checked",!!h);a.setAttribute(this._aria_attr,String(h));this._handleOnChange(h,f)},postCreate:function(){this.inherited(arguments);var h=this.focusNode||this.domNode;this.checked&&
h.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,
t,u){n("dijit-legacy-requires")&&u(0,function(){l(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return h("dijit.Menu",t,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):k.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return q.get(this._iframeContentDocument(a))||
this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(c){c=f.byId(c,this.ownerDocument);var e;if("iframe"==c.tagName.toLowerCase()){var h=c;e=this._iframeContentWindow(h);e=p.body(e.document)}else e=c==p.body(this.ownerDocument)?this.ownerDocument.documentElement:c;var k={node:c,
iframe:h};a.set(c,"_dijitMenu"+this.id,this._bindings.push(k));var l=d.hitch(this,function(a){var c=this.selector,d=c?function(a){return b.selector(c,a)}:function(a){return a},e=this;return[b(a,d(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<this._lastKeyDown+500||e._scheduleOpen(this,h,{x:a.pageX,y:a.pageY},a.target)}),b(a,d("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==m.F10||this.leftClickToOpen&&a.keyCode==
m.SPACE)a.stopPropagation(),a.preventDefault(),e._scheduleOpen(this,h,null,a.target),this._lastKeyDown=(new Date).getTime()})]});k.connects=e?l(e):[];h&&(k.onloadHandler=d.hitch(this,function(){var a=this._iframeContentWindow(h),a=p.body(a.document);k.connects=l(a)}),h.addEventListener?h.addEventListener("load",k.onloadHandler,!1):h.attachEvent("onload",k.onloadHandler))},unBindDomNode:function(b){var c;try{c=f.byId(b,this.ownerDocument)}catch(d){return}b="_dijitMenu"+this.id;if(c&&a.has(c,b)){for(var e=
a.get(c,b)-1,m=this._bindings[e],h;h=m.connects.pop();)h.remove();(h=m.iframe)&&(h.removeEventListener?h.removeEventListener("load",m.onloadHandler,!1):h.detachEvent("onload",m.onloadHandler));a.remove(c,b);delete this._bindings[e]}},_scheduleOpen:function(a,b,c,d){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:d,delegatedTarget:a,iframe:b,coords:c})},1))},_openMyself:function(a){function b(){t.refocus&&u&&u.focus();r.close(t)}var d=a.target,
m=a.iframe,h=a.coords,k=!h;this.currentTarget=a.delegatedTarget;if(h){if(m){a=c.position(m,!0);var d=this._iframeContentWindow(m),d=c.docScroll(d.document),l=e.getComputedStyle(m),p=e.toPixelValue,q=(n("ie")&&n("quirks")?0:p(m,l.paddingLeft))+(n("ie")&&n("quirks")?p(m,l.borderLeftWidth):0),m=(n("ie")&&n("quirks")?0:p(m,l.paddingTop))+(n("ie")&&n("quirks")?p(m,l.borderTopWidth):0);h.x+=a.x+q-d.x;h.y+=a.y+m-d.y}}else h=c.position(d,!0),h.x+=10,h.y+=10;var t=this,m=this._focusManager.get("prevNode");
a=this._focusManager.get("curNode");var u=!a||f.isDescendant(a,this.domNode)?m:a;r.open({popup:this,x:h.x,y:h.y,onExecute:b,onCancel:b,orient:this.isLeftToRight()?"L":"R"});this.focus();k||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);r.close(this)}},destroy:function(){k.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys",
"dojo/text!./templates/Menu.html","./_MenuBase"],function(l,k,h,f){return l("dijit.DropDownMenu",f,{templateString:h,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(a){this._moveToPopup(a);a.stopPropagation();a.preventDefault()},_onLeftArrow:function(a){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else a.stopPropagation(),a.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){return k("dijit._MenuBase",[p,t,r,q],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(b){a.toggle(this.domNode,"dijitMenuActive",b);a.toggle(this.domNode,"dijitMenuPassive",!b);this._set("activated",b)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,
childSelector:function(a){var b=n.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var a=this,d="string"==typeof this.childSelector?this.childSelector:c.hitch(this,"childSelector");this.own(m(this.containerNode,m.selector(d,e.enter),function(){a.onItemHover(n.byNode(this))}),m(this.containerNode,m.selector(d,e.leave),function(){a.onItemUnhover(n.byNode(this))}),m(this.containerNode,m.selector(d,b),function(b){a.onItemClick(n.byNode(this),b);b.stopPropagation()}),
m(this.containerNode,m.selector(d,"focusin"),function(){a._onItemFocus(n.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,b,c,d){this.inherited(arguments);if(a&&(-1==d||a.popup&&1==d))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),!a.popup||a.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,
{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",
!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var c=/^key/.test(b._origType||
b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,c)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(a,b){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());this._stopPopupTimer();var d=a.popup;d.parentMenu=this;this.own(this._mouseoverHandle=m.once(d.domNode,"mouseover",c.hitch(this,"_onPopupHover")));var e=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){b&&
e.focusChild(a);e._cleanUp()},onExecute:c.hitch(this,"_cleanUp",!0),onClose:function(){e._mouseoverHandle&&(e._mouseoverHandle.remove(),delete e._mouseoverHandle)}},b);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(f.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return k("dijit._KeyNavContainer",[d,b,m],{connectKeyNavHandlers:function(b,d){var e=this._keyNavCodes={},f=c.hitch(this,"focusPrev"),m=c.hitch(this,"focusNext");l.forEach(b,function(a){e[a]=f});l.forEach(d,function(a){e[a]=m});e[a.HOME]=c.hitch(this,"focusFirstChild");e[a.END]=c.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){f.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);l.forEach(this.getChildren(),
c.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=
e.byNode(a))&&a.getParent()==this}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(l,k,h,f,a,c,e,m){return k("dijit._KeyNavMixin",m,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);h.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var d=this._keyNavCodes={};d[f.HOME]=a.hitch(this,"focusFirstChild");d[f.END]=a.hitch(this,
"focusLastChild");d[this.isLeftToRight()?f.LEFT_ARROW:f.RIGHT_ARROW]=a.hitch(this,"_onLeftArrow");d[this.isLeftToRight()?f.RIGHT_ARROW:f.LEFT_ARROW]=a.hitch(this,"_onRightArrow");d[f.UP_ARROW]=a.hitch(this,"_onUpArrow");d[f.DOWN_ARROW]=a.hitch(this,"_onDownArrow")}var b=this,d="string"==typeof this.childSelector?this.childSelector:a.hitch(this,"childSelector");this.own(c(this.domNode,"keypress",a.hitch(this,"_onContainerKeypress")),c(this.domNode,"keydown",a.hitch(this,"_onContainerKeydown")),c(this.domNode,
"focus",a.hitch(this,"_onContainerFocus")),c(this.containerNode,c.selector(d,"focusin"),function(a){b._onChildFocus(e.getEnclosingWidget(this),a)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},
focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"))},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){h.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(a){h.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex",
"-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(a){a&&a!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),a.set("tabIndex",this.tabIndex),this.lastFocused=a,this._set("focusedChild",a))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(a,b,c,e){a&&this.focusChild(a)},_keyboardSearchCompare:function(a,b){var c=a.domNode,c=(a.label||(c.focusNode?
c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,b.length).toLowerCase();return b.length&&c==b?-1:0},_onContainerKeydown:function(a){var b=this._keyNavCodes[a.keyCode];b?(b(a,this.focusedChild),a.stopPropagation(),a.preventDefault(),this._searchString=""):a.keyCode!=f.SPACE||!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey||(a.stopImmediatePropagation(),a.preventDefault(),this._keyboardSearch(a," "))},_onContainerKeypress:function(a){a.charCode<=f.SPACE||a.ctrlKey||
a.altKey||a.metaKey||(a.preventDefault(),a.stopPropagation(),this._keyboardSearch(a,String.fromCharCode(a.charCode).toLowerCase()))},_keyboardSearch:function(c,b){var e=null,f,m=0;a.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=b;var a=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;f=this._searchString.substr(0,a);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var c=this.focusedChild||
null;if(1==a||!c)if(c=this._getNextFocusableChild(c,1),!c)return;a=c;do{var d=this._keyboardSearchCompare(c,f);d&&0==m++&&(e=c);if(-1==d){m=-1;break}c=this._getNextFocusableChild(c,1)}while(c!=a)})();this.onKeyboardSearch(e,c,f,m)},_onChildBlur:function(){},_getNextFocusableChild:function(a,b){var c=a;do{if(a)a=this._getNext(a,b);else if(a=this[0<b?"_getFirst":"_getLast"](),!a)break;if(null!=a&&a!=c&&a.isFocusable())return a}while(a!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},
_getNext:function(a,b){if(a)for(a=a.domNode;a;)if((a=a[0>b?"previousSibling":"nextSibling"])&&"getAttribute"in a){var c=e.byNode(a);if(c)return c}return null}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){e=l("dijit.MenuItem"+(c("dojo-bidi")?"_NoBidi":""),[m,d,b,n],
{templateString:p,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),d=a.substr(0,c);a=a.substr(c+3);c=d+b+a;a=d+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){!a||
"label"in this.params||this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);h.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&h.set(this.accelKeyNode,"id",this.id+"_accel");k.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==c("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){f.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(b){a.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.",
"","2.0");this.set("label",b)},setDisabled:function(b){a.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",b)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,h.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});c("dojo-bidi")&&
(e=l("dijit.MenuItem",e,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return e})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){p=k("dijit.layout.ScrollingTabController",[r,u],{baseClass:"dijitTabController dijitScrollingTabController",templateString:p,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+
this.tabPosition.substr(1).replace(/-.*/,"")+"None",h.add(a,"tabStrip-disabled"));h.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);a.set(this.domNode,"visibility","");this._postStartup=!0;this.own(m(this.containerNode,"attrmodified-label, attrmodified-iconclass",e.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(b,c){this.inherited(arguments);a.set(this.containerNode,"width",a.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(a,b){var c=this.pane2button(a.id);this._selectedTab===c.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=d("\x3e .tabStripButton",this.domNode).filter(function(b){if(this.useMenu&&b==this._menuBtn.domNode||this.useSlider&&(b==this._rightBtn.domNode||b==this._leftBtn.domNode))return this._btnWidth+=f.getMarginSize(b).w,!0;a.set(b,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();
if(a.length){var b=a[this.isLeftToRight()?0:a.length-1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(b){var c=this._getTabsWidth();b=b||a.get(this.scrollNode,"width");return 0<c&&b<c},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var b=this._contentBox=t.marginBox2contentBox(this.domNode,{h:0,w:a.w});b.h=this.scrollNode.offsetHeight;f.setContentSize(this.domNode,b);b=this._enableBtn(this._contentBox.w);
this._buttons.style("display",b?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";t.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());
this._postResize=!0;return{h:this._contentBox.h,w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>b("ie")||b("ie")&&b("quirks")||b("webkit")?this.scrollNode.scrollLeft:a.get(this.containerNode,"width")-a.get(this.scrollNode,"width")+(8<=b("ie")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(c){if(this.isLeftToRight()||8>b("ie")||b("ie")&&b("quirks")||b("webkit"))return c;var d=a.get(this.containerNode,"width")-a.get(this.scrollNode,"width");return(8<=b("ie")?-1:1)*(c-d)},
onSelectChild:function(b){var c=this.pane2button(b.id);if(c){c=c.domNode;if(c!=this._selectedTab&&(this._selectedTab=c,this._postResize)){var d=this._getScroll();(d>c.offsetLeft||d+a.get(this.scrollNode,"width")<c.offsetLeft+a.get(c,"width"))&&this.createSmoothScroll().play()}this.inherited(arguments)}},_getScrollBounds:function(){var b=this.getChildren(),c=a.get(this.scrollNode,"width"),d=a.get(this.containerNode,"width")-c,e=this._getTabsWidth();if(b.length&&e>c)return{min:this.isLeftToRight()?
0:b[b.length-1].domNode.offsetLeft,max:this.isLeftToRight()?b[b.length-1].domNode.offsetLeft+b[b.length-1].domNode.offsetWidth-c:d};b=this.isLeftToRight()?0:d;return{min:b,max:b}},_getScrollForSelectedTab:function(){var b=this._selectedTab,c=a.get(this.scrollNode,"width"),d=this._getScrollBounds(),b=b.offsetLeft+a.get(b,"width")/2-c/2;return b=Math.min(Math.max(b,d.min),d.max)},createSmoothScroll:function(a){if(0<arguments.length){var b=this._getScrollBounds();a=Math.min(Math.max(a,b.min),b.max)}else a=
this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var d=this,e=this.scrollNode,f=new c.Animation({beforeBegin:function(){this.curve&&delete this.curve;var b=e.scrollLeft,m=d._convertToScrollLeft(a);f.curve=new c._Line(b,m)},onAnimate:function(a){e.scrollLeft=a}});this._anim=f;this._setButtonClass(a);return f},_getBtnNode:function(a){for(a=a.target;a&&!h.contains(a,"tabStripButton");)a=a.parentNode;return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},
doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(b,c){if(!c||!h.contains(c,"dijitTabDisabled")){var d=.75*a.get(this.scrollNode,"width")*b,d=this._getScroll()+d;this._setButtonClass(d);this.createSmoothScroll(d).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}});q=k("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:q,
tabIndex:"",isFocusable:function(){return!1}});k("dijit.layout._ScrollingTabControllerButton",[y,q]);k("dijit.layout._ScrollingTabControllerMenuButton",[y,x,q],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new w({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=n.byId(this.containerId);l.forEach(b.getChildren(),function(a){var c=new v({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,
disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(c)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return p})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],
function(l,k,h,f,a){return h("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var c=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);a.parse(c,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(f.hitch(this,function(a){this._startupWidgets=
a;for(var c=0;c<a.length;c++)this._processTemplateNode(a[c],function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(a,
e,f){return e(a,"dojoType")||e(a,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){l.forEach(this._startupWidgets,function(a){a&&!a._started&&a.startup&&a.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),function(l,
k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l("dijit._HasDropDown",u,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){this.disabled||this.readOnly||("MSPointerDown"!=a.type&&"pointerdown"!=a.type&&a.preventDefault(),this.own(n.once(this.ownerDocument,p.release,b.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(b){var d=
this.dropDown,e=!1;if(b&&this._opened){var f=c.position(this._buttonNode,!0);if(!(b.pageX>=f.x&&b.pageX<=f.x+f.w&&b.pageY>=f.y&&b.pageY<=f.y+f.h)){for(f=b.target;f&&!e;)a.contains(f,"dijitPopup")?e=!0:f=f.parentNode;if(e){f=b.target;if(d.onItemClick){for(var m;f&&!(m=q.byNode(f));)f=f.parentNode;if(m&&m.onClick&&m.getParent)m.getParent().onItemClick(m,b)}return}}}this._opened?d.focus&&(!1!==d.autoFocus||"mouseup"==b.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){d.focus();
delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var b={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||
this.dropDownPosition[0]||"Down";a.add(this._arrowWrapperNode||this._buttonNode,"dijit"+b+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(n(this._buttonNode,p.press,b.hitch(this,"_onDropDownMouseDown")),n(this._buttonNode,"click",b.hitch(this,"_onDropDownClick")),n(a,"keydown",b.hitch(this,"_onKey")),n(a,"keyup",b.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),
delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var b=this.dropDown,c=a.target;b&&this._opened&&b.handleKey&&!1===b.handleKey(a)?(a.stopPropagation(),a.preventDefault()):b&&this._opened&&a.keyCode==d.ESCAPE?(this.closeDropDown(),a.stopPropagation(),a.preventDefault()):!this._opened&&(a.keyCode==d.DOWN_ARROW||(a.keyCode==d.ENTER||a.keyCode==d.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(c.tagName||"").toLowerCase()||
c.type&&"text"!==c.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault())}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(b.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new k,c=b.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});
this.isLoaded()?c():this.loadDropDown(c);return a},toggleDropDown:function(){this.disabled||this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var d=this.dropDown,e=d.domNode,m=this._aroundNode||this.domNode,h=this,k=t.open({parent:this,popup:d,around:m,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){h.closeDropDown(!0)},onCancel:function(){h.closeDropDown(!0)},onClose:function(){f.set(h._popupStateNode,"popupActive",
!1);a.remove(h._popupStateNode,"dijitHasDropDownOpen");h._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&m.offsetWidth>d._popupWrapper.offsetWidth){var m=m.offsetWidth-d._popupWrapper.offsetWidth,l={w:d.domNode.offsetWidth+m};b.isFunction(d.resize)?d.resize(l):c.setMarginBox(e,l);"R"==k.corner[1]&&(d._popupWrapper.style.left=d._popupWrapper.style.left.replace("px","")-m+"px")}f.set(this._popupStateNode,"popupActive","true");a.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",
!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",d.id);"presentation"===e.getAttribute("role")||e.getAttribute("aria-labelledby")||e.setAttribute("aria-labelledby",this.id);return k},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus&&this.focus(),t.close(this.dropDown),this._opened=!1)}})})},
"dijit/layout/BorderContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/touch ../_WidgetBase ../_Widget ../_TemplatedMixin ./LayoutContainer ./utils".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){var w=h("dijit.layout._Splitter",[q,r],{live:!0,templateString:'\x3cdiv class\x3d"dijitSplitter" data-dojo-attach-event\x3d"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex\x3d"0" role\x3d"separator"\x3e\x3cdiv class\x3d"dijitSplitterThumb"\x3e\x3c/div\x3e\x3c/div\x3e',
constructor:function(){this._handlers=[]},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var a=k(this._cookieName);a&&(this.child.domNode.style[this.horizontal?"height":"width"]=a)}},_computeMaxSize:function(){var a=
this.horizontal?"h":"w",b=c.getMarginBox(this.child.domNode)[a],d=l.filter(this.container.getChildren(),function(a){return"center"==a.region})[0],a=c.getContentBox(d.domNode)[a]-10;return Math.min(this.child.maxSize,b+a)},_startDrag:function(m){this.cover||(this.cover=a.place("\x3cdiv class\x3ddijitSplitterCover\x3e\x3c/div\x3e",this.child.domNode,"after"));f.add(this.cover,"dijitSplitterCoverActive");this.fake&&a.destroy(this.fake);(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),
f.add(this.domNode,"dijitSplitterShadow"),a.place(this.fake,this.domNode,"after"));f.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");this.fake&&f.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");var h=this._factor,k=this.horizontal,l=k?"pageY":"pageX",p=m[l],q=this.domNode.style,k=k?"h":"w",r=e.getComputedStyle(this.child.domNode),t=c.getMarginBox(this.child.domNode,r)[k],v=this._computeMaxSize(),u=Math.max(this.child.minSize,
c.getPadBorderExtents(this.child.domNode,r)[k]+10),k=this.region,w="top"==k||"bottom"==k?"top":"left",J=parseInt(q[w],10),T=this._resize,V=d.hitch(this.container,"_layoutChildren",this.child.id),k=this.ownerDocument;this._handlers=this._handlers.concat([b(k,n.move,this._drag=function(a,b){var c=a[l]-p,d=h*c+t,e=Math.max(Math.min(d,v),u);(T||b)&&V(e);q[w]=c+J+h*(e-d)+"px"}),b(k,"dragstart",function(a){a.stopPropagation();a.preventDefault()}),b(this.ownerDocumentBody,"selectstart",function(a){a.stopPropagation();
a.preventDefault()}),b(k,n.release,d.hitch(this,"_stopDrag"))]);m.stopPropagation();m.preventDefault()},_onMouse:function(a){a="mouseover"==a.type||"mouseenter"==a.type;f.toggle(this.domNode,"dijitSplitterHover",a);f.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",a)},_stopDrag:function(b){try{this.cover&&f.remove(this.cover,"dijitSplitterCoverActive"),this.fake&&a.destroy(this.fake),f.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),
this._drag(b),this._drag(b,!0)}finally{this._cleanupHandlers(),delete this._drag}this.container.persist&&k(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365})},_cleanupHandlers:function(){for(var a;a=this._handlers.pop();)a.remove()},_onKeyDown:function(a){this._resize=!0;var b=this.horizontal,d=1;switch(a.keyCode){case b?m.UP_ARROW:m.LEFT_ARROW:d*=-1;case b?m.DOWN_ARROW:m.RIGHT_ARROW:break;default:return}b=c.getMarginSize(this.child.domNode)[b?"h":"w"]+this._factor*
d;this.container._layoutChildren(this.child.id,Math.max(Math.min(b,this._computeMaxSize()),this.child.minSize));a.stopPropagation();a.preventDefault()},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments)}}),v=h("dijit.layout._Gutter",[q,r],{templateString:'\x3cdiv class\x3d"dijitGutter" role\x3d"presentation"\x3e\x3c/div\x3e',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region)},
buildRendering:function(){this.inherited(arguments);f.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))}});h=h("dijit.layout.BorderContainer",t,{gutters:!0,liveSplitters:!0,persist:!1,baseClass:"dijitBorderContainer",_splitterClass:w,postMixInProperties:function(){this.gutters||(this.baseClass+="NoGutter");this.inherited(arguments)},_setupChild:function(b){this.inherited(arguments);var c=b.region,e=b.isLeftToRight();"leading"==c&&(c=e?"left":"right");"trailing"==c&&(c=e?"right":"left");c&&
"center"!=c&&(b.splitter||this.gutters)&&!b._splitterWidget&&(e=b.splitter?this._splitterClass:v,d.isString(e)&&(e=d.getObject(e)),e=new e({id:b.id+"_splitter",container:this,child:b,region:c,live:this.liveSplitters}),e.isSplitter=!0,b._splitterWidget=e,c="bottom"==c||c==(this.isLeftToRight()?"right":"left"),a.place(e.domNode,b.domNode,c?"before":"after"),e.startup())},layout:function(){this._layoutChildren()},removeChild:function(a){var b=a._splitterWidget;b&&(b.destroy(),delete a._splitterWidget);
this.inherited(arguments)},getChildren:function(){return l.filter(this.inherited(arguments),function(a){return!a.isSplitter})},getSplitter:function(a){return l.filter(this.getChildren(),function(b){return b.region==a})[0]._splitterWidget},resize:function(a,b){if(!this.cs||!this.pe){var d=this.domNode;this.cs=e.getComputedStyle(d);this.pe=c.getPadExtents(d,this.cs);this.pe.r=e.toPixelValue(d,this.cs.paddingRight);this.pe.b=e.toPixelValue(d,this.cs.paddingBottom);e.set(d,"padding","0px")}this.inherited(arguments)},
_layoutChildren:function(a,b){if(this._borderBox&&this._borderBox.h){var c=[];l.forEach(this._getOrderedChildren(),function(a){c.push(a);a._splitterWidget&&c.push(a._splitterWidget)});u.layoutChildren(this.domNode,{l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h},c,a,b)}},destroyRecursive:function(){l.forEach(this.getChildren(),function(a){var b=a._splitterWidget;b&&b.destroy();delete a._splitterWidget});this.inherited(arguments)}});h.ChildWidgetProperties={splitter:!1,
minSize:0,maxSize:Infinity};d.mixin(h.ChildWidgetProperties,t.ChildWidgetProperties);d.extend(p,h.ChildWidgetProperties);h._Splitter=w;h._Gutter=v;return h})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(l,k,h,f,a,c,e,m){k=k("dijit.layout.LayoutContainer",e,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(l.forEach(this.getChildren(),
this._setupChild,this),this.inherited(arguments))},_setupChild:function(a){this.inherited(arguments);a.region&&h.add(a.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var a=l.map(this.getChildren(),function(a,c){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(a.region)?1:-1),c]}},this);a.sort(function(a,c){for(var d=a.weight,e=c.weight,f=0;f<d.length;f++)if(d[f]!=e[f])return d[f]-e[f];return 0});return l.map(a,function(a){return a.pane})},
layout:function(){m.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},addChild:function(a,b){this.inherited(arguments);this._started&&this.layout()},removeChild:function(a){this.inherited(arguments);this._started&&this.layout();h.remove(a.domNode,this.baseClass+"Pane");f.set(a.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});f.set(a.domNode,/top|bottom/.test(a.region)?"width":"height","auto")}});k.ChildWidgetProperties={region:"",layoutAlign:"",
layoutPriority:0};a.extend(c,k.ChildWidgetProperties);return k})},"dijit/layout/AccordionPane":function(){define(["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(l,k,h){return l("dijit.layout.AccordionPane",h,{constructor:function(){k.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0")},onSelected:function(){}})})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return b("dijit.layout.ContentPane",[h,f,a],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:l._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading lastUnit size1of1'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,c){var d=new c(a,b);return!d.href&&d._contentSetter&&d._contentSetter.parseDeferred&&!d._contentSetter.parseDeferred.isFulfilled()?d._contentSetter.parseDeferred.then(function(){return d}):d},create:function(a,b){if(!(a&&a.template||!b||"href"in a||"content"in a)){b=p.byId(b);for(var c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);
a=k.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=u.getLocalization("dijit","loading",this.lang);this.loadingMessage=c.substitute(this.loadingMessage,a);this.errorMessage=c.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&d.forEach(this._contentSetter.parseResults,
function(a){a._started||a._destroyed||!k.isFunction(a.startup)||(a.startup(),a._started=!0)},this)},_startChildren:function(){d.forEach(this.getChildren(),function(a){a._started||a._destroyed||!k.isFunction(a.startup)||(a.startup(),a._started=!0)});this._contentSetter&&d.forEach(this._contentSetter.parseResults,function(a){a._started||a._destroyed||!k.isFunction(a.startup)||(a.startup(),a._started=!0)},this)},setHref:function(a){l.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new n(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){l.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new n(k.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new n(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
k.isObject(this.ioArgs)&&k.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||t.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){}},_onUnloadHandler:function(){this._set("isLoaded",
!1);try{this.onUnload()}catch(a){}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;d.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(d.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||r.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();
var c=this._contentSetter;c&&c instanceof e._ContentSetter||(c=this._contentSetter=new e._ContentSetter({node:this.containerNode,_onError:k.hitch(this,this._onError),onContentError:k.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){}})}));var d=k.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||
{}),d=c.set(k.isObject(a)&&a.domNode?a.domNode:a,d),f=this;return w(d&&d.then?d:c.parseDeferred,function(){delete f._contentSetterParams;b||(f._started&&(f._startChildren(),f._scheduleLayout()),f._onLoadHandler(a))})},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c||a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},
onDownloadEnd:function(){}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(l,k,h,f,a,c,e,m,d,b){return k("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;
this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(d.on("resize",c.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;e("\x3e *",this.containerNode).some(function(c){var d=m.byNode(c);d&&d.resize?a.push(d):!/script|link|style/i.test(c.nodeName)&&c.offsetHeight&&(b=!0)});this._singleChild=1!=a.length||b?null:a[0];h.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=
!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,d){delete this._needLayout;this._wasShown||!1===this.open||this._onShow();a&&f.setMarginBox(this.domNode,a);var e=this.containerNode;if(e===this.domNode){var m=d||{};c.mixin(m,a||{});"h"in m&&"w"in m||(m=c.mixin(f.getMarginBox(e),m));this._contentBox=b.marginBox2contentBox(e,m)}else this._contentBox=f.getContentBox(e);this._layoutChildren()},
_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||f.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),b,c=0;b=a[c++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&
"hidden"!=a.style.visibility&&!h.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dojox/layout/ContentPane":function(){define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(l,k,h,f,a){return a("dojox.layout.ContentPane",h,{adjustPaths:!1,cleanContent:!1,renderStyles:!1,executeScripts:!0,
scriptHasHooks:!1,ioMethod:k.get,ioArgs:{},onExecError:function(a){},_setContent:function(a){var e=this._contentSetter;e&&e instanceof f._ContentSetter||(e=this._contentSetter=new f._ContentSetter({node:this.containerNode,_onError:l.hitch(this,this._onError),onContentError:l.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(c){}})}));this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,
renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments)},destroy:function(){var a=this._contentSetter;a&&a.tearDown();this.inherited(arguments)}})})},"dojox/html/_base":function(){define("dojo/_base/declare dojo/Deferred dojo/dom-construct dojo/html dojo/_base/kernel dojo/_base/lang dojo/ready dojo/_base/sniff dojo/_base/url dojo/_base/xhr dojo/when dojo/_base/window".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){var q=a.getObject("dojox.html",!0);if(m("ie"))var r=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var t=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,u=q._adjustCssPaths=function(a,b){if(b&&a)return r&&(b=b.replace(r,function(b,c,e,f,m){return c+(new d(a,"./"+f)).toString()+m})),b.replace(t,function(b,c,e,f,m,h){return e?'@import "'+(new d(a,"./"+e)).toString()+
'"'+h:"url("+(new d(a,"./"+m)).toString()+")"+h})},w=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,v=q._adjustHtmlPaths=function(a,b){var c=a||"./";return b.replace(w,function(a,b,e,f,m,h,k,l){return b+(e?e+"\x3d"+f+(new d(c,m)).toString()+f:"style\x3d"+h+u(c,k)+h)+l})},y=q._snarfStyles=function(a,b,c){c.attributes=[];b=b.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)style\b/ig,"\x26lt;$1Style").replace(/<(\/?)link\b/ig,"\x26lt;$1Link").replace(/@import "/ig,
'@ import "')});return b.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(b,d,e,f,m,h){b=(d||f||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");e?e=c.push(a?u(a,e):e):(e=c.push('@import "'+h+'";'),b=b.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(b){b=b.split(/\s+/);h={};f=0;for(m=b.length;f<m;f++)d=b[f].split("\x3d"),h[d[0]]=d[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");c.attributes[e-1]=h}return""})},x=q._snarfScripts=
function(a,c){function d(a){c.downloadRemote&&(a=a.replace(/&([a-z0-9#]+);/g,function(a,b){switch(b){case "amp":return"\x26";case "gt":return"\x3e";case "lt":return"\x3c";default:return"#"==b.charAt(0)?String.fromCharCode(b.substring(1)):"\x26"+b+";"}}),b.get({url:a,sync:!0,load:function(a){c.code+=a+";"},error:c.errBack}))}c.code="";a=a.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,"\x26lt;$1Script")});return a.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,
function(a,b,e,f){e?d(e):c.code+=f;return""})},A=q.evalInGlobal=function(a,b){b=b||p.doc.body;var c=b.ownerDocument.createElement("script");c.type="text/javascript";b.appendChild(c);c.text=a};q._ContentSetter=l(f._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=[];for(var b,c,d,e=this.node.ownerDocument,f=e.getElementsByTagName("head")[0],m=0,h=a.length;m<h;m++){d=a[m];c=a.attributes[m];
b=e.createElement("style");b.setAttribute("type","text/css");for(var k in c)b.setAttribute(k,c[k]);this._styleNodes.push(b);f.appendChild(b);b.styleSheet?b.styleSheet.cssText=d:b.appendChild(e.createTextNode(d))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var a=this.content,b=this._styles;if(c.isString(a)){this.adjustPaths&&this.referencePath&&(a=v(this.referencePath,a));if(this.renderStyles||this.cleanContent)a=y(this.referencePath,
a,b);if(this.executeScripts){var d=this,b={downloadRemote:!0,errBack:function(a){d._onError.call(d,"Exec",'Error downloading remote script in "'+d.id+'"',a)}},a=x(a,b);this._code=b.code}}this.content=a},onEnd:function(){var a=this._code,b=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)h.destroy(this._styleNodes.pop());this.renderStyles&&b&&b.length&&this._renderStyles(b);var d=new k,f=this.getInherited(arguments),m=arguments,b=c.hitch(this,function(){f.apply(this,
m);n(this.parseDeferred,function(){d.resolve()})});if(this.executeScripts&&a){this.cleanContent&&(a=a.replace(/(\x3c!--|(?:\/\/)?--\x3e|<!\[CDATA\[|\]\]>)/g,""));this.scriptHasHooks&&(a=a.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{A(a,this.node)}catch(l){this._onError("Exec","Error eval script in "+this.id+", "+l.message,l)}e(b)}else b();return d.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)h.destroy(this._styleNodes.pop());
delete this._styleNodes;c.mixin(this,q._ContentSetter.prototype)}});q.set=function(a,b,d){return d?(new q._ContentSetter(c.mixin(d,{content:b,node:a}))).set():f._setNodeContent(a,b,!0)};return q})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J){var T=new a;T.resolve(!0);A=f("dijit._DialogBase"+(u("dojo-bidi")?"_NoBidi":""),[B,D,F,C],{templateString:J,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:A.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:.9,closable:!0,_setClosableAttr:function(a){this.closeButtonNode.style.display=
a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=n.getLocalization("dijit","common");q.mixin(this,a);this.inherited(arguments)},postCreate:function(){d.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);h.after(this,"onExecute",q.hitch(this,"hide"),!0);h.after(this,"onCancel",q.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();this._position();this.autofocus&&P.isTop(this)&&
(this._getFocusItems(),x.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();x.focus(this._firstFocusItem)},_endDrag:function(){var a=m.position(this.domNode),b=w.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==u("ie")?y:v)(a,{handle:this.titleBar}),h.after(this._moveable,
"onMoveStop",q.hitch(this,"_endDrag"),!0)):e.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":k.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:q.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!e.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,b=w.getBox(this.ownerDocument),c=this._relativePosition,f=c?null:m.position(a);d.set(a,{left:Math.floor(b.l+(c?c.x:(b.w-
f.w)/2))+"px",top:Math.floor(b.t+(c?c.y:(b.h-f.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==p.TAB){this._getFocusItems();var b=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(x.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b!=this._lastFocusItem||a.shiftKey||(x.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&a.keyCode==p.ESCAPE&&(this.onCancel(),a.stopPropagation(),
a.preventDefault())},show:function(){if(this.open)return T.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),P.hide(this));var c=w.get(this.ownerDocument);this._modalconnects.push(r(c,"scroll",q.hitch(this,"resize",null)));this._modalconnects.push(r(this.domNode,"keydown",q.hitch(this,"_onKey")));d.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this.resize();
this._position();var f;this._fadeInDeferred=new a(q.hitch(this,function(){f.stop();delete this._fadeInDeferred}));c=this._fadeInDeferred.promise;f=b.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:q.hitch(this,function(){P.show(this,this.underlayAttrs)}),onEnd:q.hitch(this,function(){this.autofocus&&P.isTop(this)&&(this._getFocusItems(),x.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();e.add(document.body,"overflow-hidden");return c},
hide:function(){if(!this._alreadyInitialized||!this.open)return T.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var c;this._fadeOutDeferred=new a(q.hitch(this,function(){c.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(q.hitch(this,"onHide"));var d=this._fadeOutDeferred.promise;c=b.fadeOut({node:this.domNode,duration:this.duration,onEnd:q.hitch(this,function(){this.domNode.style.display="none";P.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();
this._scrollConnected&&(this._scrollConnected=!1);for(var f;f=this._modalconnects.pop();)f.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);e.remove(document.body,"overflow-hidden");return d},resize:function(a){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!a){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),
k.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(a){a&&d.set(a,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var b=w.getBox(this.ownerDocument);b.w*=this.maxRatio;b.h*=this.maxRatio;var c=m.position(this.domNode);c.w>=b.w||c.h>=b.h?(a={w:Math.min(c.w,b.w),h:Math.min(c.h,b.h)},this._shrunk=!0):this._shrunk=!1}if(a){m.setMarginBox(this.domNode,a);b=[];this.titleBar&&b.push({domNode:this.titleBar,region:"top"});this.actionBarNode&&
b.push({domNode:this.actionBarNode,region:"bottom"});c={domNode:this.containerNode,region:"center"};b.push(c);var e=L.marginBox2contentBox(this.domNode,a);L.layoutChildren(this.domNode,e,b);this._singleChild?(b=L.marginBox2contentBox(this.containerNode,c),this._singleChild.resize({w:b.w,h:b.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();u("touch")||a||this._position()}},_layoutChildren:function(){k.forEach(this.getChildren(),function(a){a.resize&&
a.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();P.hide(this);this.inherited(arguments)}});u("dojo-bidi")&&(A=f("dijit._DialogBase",A,{_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",
a),this.set("title",this.title))}}));var V=f("dijit.Dialog",[I,A],{});V._DialogBase=A;var P=V._DialogLevelManager={_beginZIndex:950,show:function(a,b){K[K.length-1].focus=x.curNode;var c=K[K.length-1].dialog?K[K.length-1].zIndex+2:V._DialogLevelManager._beginZIndex;d.set(a.domNode,"zIndex",c);G.show(b,c-1);K.push({dialog:a,underlayAttrs:b,zIndex:c})},hide:function(a){if(K[K.length-1].dialog==a){K.pop();var b=K[K.length-1];1==K.length?G.hide():G.show(b.underlayAttrs,b.zIndex-1);if(a.refocus&&(a=b.focus,
!b.dialog||a&&c.isDescendant(a,b.dialog.domNode)||(b.dialog._getFocusItems(),a=b.dialog._firstFocusItem),a))try{a.focus()}catch(d){}}else b=k.indexOf(k.map(K,function(a){return a.dialog}),a),-1!=b&&K.splice(b,1)},isTop:function(a){return K[K.length-1].dialog==a}},K=V._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];x.watch("curNode",function(a,b,c){a=K[K.length-1].dialog;if(c&&a&&!a._fadeOutDeferred&&c.ownerDocument==a.ownerDocument){do if(c==a.domNode||e.contains(c,"dijitPopup"))return;
while(c=c.parentNode);a.focus()}});u("dijit-legacy-requires")&&t(0,function(){l(["dijit/TooltipDialog"])});return V})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){return k("dojo.dnd.Moveable",[c],{handle:"",delay:0,skip:!1,constructor:function(a,b){this.node=f.byId(a);b||(b={});this.handle=b.handle?f.byId(b.handle):null;this.handle||
(this.handle=this.node);this.delay=0<b.delay?b.delay:0;this.skip=b.skip;this.mover=b.mover?b.mover:n;this.events=[e(this.handle,d.press,h.hitch(this,"onMouseDown")),e(this.handle,"dragstart",h.hitch(this,"onSelectStart")),e(this.handle,"selectstart",h.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,c){return new c(b,a)},destroy:function(){l.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(a){if(!this.skip||!b.isFormElement(a)){if(this.delay)this.events.push(e(this.handle,
d.move,h.hitch(this,"onMouseMove")),e(this.handle,d.release,h.hitch(this,"onMouseUp"))),this._lastX=a.pageX,this._lastY=a.pageY;else this.onDragDetected(a);a.stopPropagation();a.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(a){this.skip&&
b.isFormElement(a)||(a.stopPropagation(),a.preventDefault())},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(b){m.publish("/dnd/move/start",b);a.add(p.body(),"dojoMove");a.add(this.node,"dojoMoveItem")},onMoveStop:function(b){m.publish("/dnd/move/stop",b);a.remove(p.body(),"dojoMove");a.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var c=a.node.style;c.left=b.l+"px";c.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},
onMoved:function(){}})})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q){return k("dojo.dnd.Mover",[d],{constructor:function(a,d,e){function f(a){a.preventDefault();a.stopPropagation()}this.node=c.byId(a);this.marginBox={l:d.pageX,t:d.pageY};this.mouseButton=d.button;d=this.host=e;a=a.ownerDocument;this.events=
[b(a,n.move,h.hitch(this,"onFirstMove")),b(a,n.move,h.hitch(this,"onMouseMove")),b(a,n.release,h.hitch(this,"onMouseUp")),b(a,"dragstart",f),b(a.body,"selectstart",f)];q.autoScrollStart(a);if(d&&d.onMoveStart)d.onMoveStart(this)},onMouseMove:function(a){q.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(f("webkit")&&f("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();
a.preventDefault();a.stopPropagation()},onFirstMove:function(b){var c=this.node.style,d,f=this.host;switch(c.position){case "relative":case "absolute":d=Math.round(parseFloat(c.left))||0;c=Math.round(parseFloat(c.top))||0;break;default:c.position="absolute";c=e.getMarginBox(this.node);d=a.doc.body;var h=m.getComputedStyle(d),k=e.getMarginBox(d,h),h=e.getContentBox(d,h);d=c.l-(h.l-k.l);c=c.t-(h.t-k.t)}this.marginBox.l=d-this.marginBox.l;this.marginBox.t=c-this.marginBox.t;if(f&&f.onFirstMove)f.onFirstMove(this,
b);this.events.shift().remove()},destroy:function(){l.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(l,k){var h=k.prototype.onMove;return l("dojo.dnd.TimedMoveable",k,{timeout:40,constructor:function(f,a){a||(a={});a.timeout&&"number"==typeof a.timeout&&0<=a.timeout&&(this.timeout=a.timeout)},onMoveStop:function(f){f._timer&&
(clearTimeout(f._timer),h.call(this,f,f._leftTop));k.prototype.onMoveStop.apply(this,arguments)},onMove:function(f,a){f._leftTop=a;if(!f._timer){var c=this;f._timer=setTimeout(function(){f._timer=null;h.call(c,f,f._leftTop)},this.timeout)}}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(l,k,h,f,a,c){return k("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(a){var c=
[];l.forEach(a||this.getChildren(),function(a){"value"in a?c.push(a):c=c.concat(this._getDescendantFormWidgets(a.getChildren()))},this);return c},reset:function(){l.forEach(this._getDescendantFormWidgets(),function(a){a.reset&&a.reset()})},validate:function(){var a=!1;return l.every(l.map(this._getDescendantFormWidgets(),function(f){f._hasBeenBlurred=!0;var d=f.disabled||!f.validate||f.validate();d||a||(c.scrollIntoView(f.containerNode||f.domNode),f.focus(),a=!0);return d}),function(a){return a})},
setValues:function(a){h.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(a){var c={};l.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var d in c)if(c.hasOwnProperty(d)){var b=c[d],h=f.getObject(d,!1,a);void 0!==h&&(h=[].concat(h),"boolean"==typeof b[0].checked?l.forEach(b,function(a){a.set("value",-1!=l.indexOf(h,a._get("value")))}):b[0].multiple?
b[0].set("value",h):l.forEach(b,function(a,b){a.set("value",h[b])}))}},getValues:function(){h.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var a={};l.forEach(this._getDescendantFormWidgets(),function(c){var d=c.name;if(d&&!c.disabled){var b=c.get("value");"boolean"==typeof c.checked?/Radio/.test(c.declaredClass)?!1!==b?f.setObject(d,b,a):(b=f.getObject(d,!1,a),void 0===b&&f.setObject(d,null,a)):
(c=f.getObject(d,!1,a),c||(c=[],f.setObject(d,c,a)),!1!==b&&c.push(b)):(c=f.getObject(d,!1,a),"undefined"!=typeof c?f.isArray(c)?c.push(b):f.setObject(d,[c,b],a):f.setObject(d,b,a))}});return a},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var a=l.map(this._descendants,function(a){return a.get("state")||""});return 0<=l.indexOf(a,"Error")?"Error":0<=l.indexOf(a,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(a){this._descendants=
this._getDescendantFormWidgets();l.forEach(this._descendants,function(a){a._started||a.startup()});a||this._onChildChange()},_onChildChange:function(a){a&&"state"!=a&&"disabled"!=a||this._set("state",this._getState());a&&"value"!=a&&"disabled"!=a&&"checked"!=a||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10))},startup:function(){this.inherited(arguments);this._descendants=
this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var c=this;this.own(a(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(a){a.target!=c.domNode&&c._onChildChange(a.type.replace("attrmodified-",""))}));this.watch("state",function(a,c,b){this.onValidStateChange(""==b)})},destroy:function(){this.inherited(arguments)}})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(l,
k){return l("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var h=k._getTabNavigable(this.domNode);this._firstFocusItem=h.lowest||h.first||this.closeButtonNode||this.domNode;this._lastFocusItem=h.last||h.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){var q=l("dijit.DialogUnderlay",[m,d],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){f.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(c(this.domNode,"keydown",k.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var c=e.getBox(this.ownerDocument);b.top=c.t+"px";b.left=c.l+"px";a.width=c.w+"px";a.height=c.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new b(this.domNode);var a=e.get(this.ownerDocument);this._modalConnects=[n.on("resize",k.hitch(this,"layout")),c(a,"scroll",
k.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});q.show=function(b,c){var d=q._singleton;!d||d._destroyed?d=p._underlay=q._singleton=new q(b):b&&d.set(b);a.set(d.domNode,"zIndex",c);d.open||d.show()};q.hide=function(){var a=
q._singleton;a&&!a._destroyed&&a.hide()};return q})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){function y(){}var x=k("dijit._MasterTooltip",[r,t],{duration:p.defaultDuration,templateString:w,
postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new u(this.domNode);this.fadeIn=h.fadeIn({node:this.domNode,duration:this.duration,onEnd:m.hitch(this,"_onShow")});this.fadeOut=h.fadeOut({node:this.domNode,duration:this.duration,onEnd:m.hitch(this,"_onHide")})},show:function(a,b,c,d,f,h,k){if(!this.aroundNode||this.aroundNode!==b||this.containerNode.innerHTML!=a)if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;f&&this.set("textDir",
f);this.containerNode.align=d?"right":"left";var l=q.around(this.domNode,b,c&&c.length?c:A.defaultPosition,!d,m.hitch(this,"orient")),n=l.aroundNodePos;"M"==l.corner.charAt(0)&&"M"==l.aroundCorner.charAt(0)?(this.connectorNode.style.top=n.y+(n.h-this.connectorNode.offsetHeight>>1)-l.y+"px",this.connectorNode.style.left=""):"M"==l.corner.charAt(1)&&"M"==l.aroundCorner.charAt(1)?this.connectorNode.style.left=n.x+(n.w-this.connectorNode.offsetWidth>>1)-l.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top=
"");e.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b;this.onMouseEnter=h||y;this.onMouseLeave=k||y}},orient:function(a,b,d,e,f){this.connectorNode.style.top="";var m=e.h;e=e.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight",
"BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+d];this.domNode.style.width="auto";var h=c.position(this.domNode);if(n("ie")||n("trident"))h.w+=2;c.setMarginBox(this.domNode,{w:Math.min(Math.max(e,1),h.w)});"B"==d.charAt(0)&&"B"==b.charAt(0)?(a=c.position(a),b=this.connectorNode.offsetHeight,a.h>m?(this.connectorNode.style.top=m-(f.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(f.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top=
"")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,h.w-e)},_onShow:function(){n("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=y},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),
this._onDeck=null)}});n("dojo-bidi")&&x.extend({_setAutoTextDir:function(a){this.applyTextDir(a);l.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});v.showTooltip=function(a,b,c,d,e,f,m){c&&(c=l.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));A._masterTT||(v._masterTT=A._masterTT=new x);return A._masterTT.show(a,
b,c,d,e,f,m)};v.hideTooltip=function(a){return A._masterTT&&A._masterTT.hide(a)};var A=k("dijit.Tooltip",r,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(a){l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this._connectIds=l.filter(m.isArrayLike(a)?a:a?[a]:[],function(a){return f.byId(a,this.ownerDocument)},this);this._connections=l.map(this._connectIds,function(a){a=f.byId(a,this.ownerDocument);var c=this.selector,
e=c?function(a){return b.selector(c,a)}:function(a){return a},h=this;return[b(a,e(d.enter),function(){h._onHover(this)}),b(a,e("focusin"),function(){h._onHover(this)}),b(a,e(d.leave),m.hitch(h,"_onUnHover")),b(a,e("focusout"),m.hitch(h,"set","state","DORMANT"))]},this);this._set("connectId",a)},addTarget:function(a){a=a.id||a;-1==l.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=l.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,
1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);a.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;l.forEach(m.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),
delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(a){case "DORMANT":this._connectNode&&(A.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");return}A.show(b,this._connectNode,this.position,!this.isLeftToRight(),
this.textDir,m.hitch(this,"set","state","SHOWING"),m.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state","DORMANT");
this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");l.forEach(this._connections||[],function(a){l.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});A._MasterTooltip=x;A.show=v.showTooltip;A.hide=v.hideTooltip;A.defaultPosition=["after-centered","before-centered"];return A})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),
function(l,k,h,f,a,c,e,m,d){f("dijit-legacy-requires")&&c(0,function(){l(["dijit/form/RadioButton"])});return k("dijit.form.CheckBox",[e,m],{templateString:d,baseClass:"dijitCheckBox",_setValueAttr:function(a,c){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,c)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},
_fillContent:function(){},_onFocus:function(){this.id&&a("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&a("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(l,k){return l("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(h){this._set("readOnly",
h);k.set(this.focusNode,"readOnly",h)},_setLabelAttr:void 0,_getSubmitValue:function(h){return null==h||""===h?"on":h},_setValueAttr:function(h){h=this._getSubmitValue(h);this._set("value",h);k.set(this.focusNode,"value",h)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));k.set(this.focusNode,"value",this.value)},_onClick:function(h){return this.readOnly?(h.stopPropagation(),h.preventDefault(),!1):this.inherited(arguments)}})})},"dijit/form/Select":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormSelectWidget ../_HasDropDown ../DropDownMenu ../MenuItem ../MenuSeparator ../Tooltip ../_KeyNavMixin ../registry dojo/text!./templates/Select.html dojo/i18n!./nls/validate".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){function x(a){return function(b){this._isLoaded?this.inherited(a,arguments):this.loadDropDown(m.hitch(this,a,b))}}var A=k("dijit.form._SelectMenu",q,{autoFocus:!0,buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","listbox")},postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}))},focus:function(){var a=!1,b=this.parentWidget.value;
m.isArray(b)&&(b=b[b.length-1]);b&&l.forEach(this.parentWidget._getChildren(),function(c){c.option&&b===c.option.value&&(a=!0,this.focusChild(c,!1))},this);a||this.inherited(arguments);window.top&&window.top.app&&window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.setScreenState({state:"select",backAction:m.hitch(this,this._triggerExternalClose)})},_triggerExternalClose:function(){this.parentWidget.closeDropDown()},onClose:function(){window.top&&window.top.app&&window.top.app.nativeStateHandler&&
window.top.app.nativeStateHandler.removeStateQueue({state:"select"});this.inherited(arguments)}});a=k("dijit.form.Select"+(b("dojo-bidi")?"_NoBidi":""),[n,p,w],{baseClass:"dijitSelect dijitValidationTextBox",templateString:y,_buttonInputDisabled:b("ie")?"disabled":"",required:!1,state:"",message:"",tooltipPosition:[],emptyLabel:"\x26#160;",_isLoaded:!1,_childrenLoaded:!1,labelType:"html",_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var a=
this.srcNodeRef.selectedIndex||0;this._set("value",this.options[0<=a?a:0].value)}this.dropDown=new A({id:this.id+"_menu",parentWidget:this});f.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},_getMenuItemForOption:function(a){if(a.value||a.label){var b=m.hitch(this,"_setValueAttr",a);a=new r({option:a,label:("text"===this.labelType?(a.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a.label)||this.emptyLabel,onClick:b,ownerDocument:this.ownerDocument,dir:this.dir,
textDir:this.textDir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a}return new t({ownerDocument:this.ownerDocument})},_addOptionItem:function(a){this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(a))},_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},focusChild:function(a){a&&this.set("value",a.option)},_getFirst:function(){var a=this._getChildren();
return a.length?a[0]:null},_getLast:function(){var a=this._getChildren();return a.length?a[a.length-1]:null},childSelector:function(a){return(a=v.byNode(a))&&a.getParent()==this.dropDown},onKeyboardSearch:function(a,b,c,d){a&&this.focusChild(a)},_loadChildren:function(a){if(!0===a)if(this.dropDown&&(delete this.dropDown.focusedChild,this.focusedChild=null),this.options.length)this.inherited(arguments);else{l.forEach(this._getChildren(),function(a){a.destroyRecursive()});var b=new r({ownerDocument:this.ownerDocument,
label:this.emptyLabel});this.dropDown.addChild(b)}else this._updateSelection();this._isLoaded=!1;this._childrenLoaded=!0;this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){this._started&&this.validate(this.focused)},startup:function(){this.inherited(arguments);this._refreshState()},_setValueAttr:function(a){this.inherited(arguments);h.set(this.valueNode,"value",this.get("value"));this._refreshState()},_setNameAttr:"valueNode",_setDisabledAttr:function(a){this.inherited(arguments);
this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setOptionsAttr:function(a){this._isLoaded=!1;this._set("options",a)},_setDisplay:function(a){a=("text"===this.labelType?(a||"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a)||this.emptyLabel;this.containerNode.innerHTML='\x3cspan role\x3d"option" class\x3d"dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'"\x3e'+a+"\x3c/span\x3e"},
validate:function(a){a=this.disabled||this.isValid(a);this._set("state",a?"":this._hasBeenBlurred?"Error":"Incomplete");this.focusNode.setAttribute("aria-invalid",a?"false":"true");var b=a?"":this._missingMsg;b&&this.focused&&this._hasBeenBlurred?u.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):u.hide(this.domNode);this._set("message",b);return a},isValid:function(){return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},reset:function(){this.inherited(arguments);u.hide(this.domNode);
this._refreshState()},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=c.getLocalization("dijit.form","validate",this.lang).missingMessage},postCreate:function(){this.inherited(arguments);this.own(d(this.domNode,"selectstart",function(a){a.preventDefault();a.stopPropagation()}));this.domNode.setAttribute("aria-expanded","false");var a=this._keyNavCodes;delete a[e.LEFT_ARROW];delete a[e.RIGHT_ARROW]},_setStyleAttr:function(a){this.inherited(arguments);f.toggle(this.domNode,
this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)},isLoaded:function(){return this._isLoaded},loadDropDown:function(a){this._loadChildren(!0);this._isLoaded=!0;a()},destroy:function(a){this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(a),delete this.dropDown);u.hide(this.domNode);this.inherited(arguments)},_onFocus:function(){this.validate(!0)},_onBlur:function(){u.hide(this.domNode);this.inherited(arguments);this.validate(!1)}});b("dojo-bidi")&&(a=
k("dijit.form.Select",a,{_setDisplay:function(a){this.inherited(arguments);this.applyTextDir(this.containerNode)}}));a._Menu=A;a.prototype._onContainerKeydown=x("_onContainerKeydown");a.prototype._onContainerKeypress=x("_onContainerKeypress");return a})},"dijit/form/_FormSelectWidget":function(){define("dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/data/util/sorter dojo/_base/declare dojo/dom dojo/dom-class dojo/_base/kernel dojo/_base/lang dojo/query dojo/when dojo/store/util/QueryResults ./_FormValueWidget".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return a("dijit.form._FormSelectWidget",q,{multiple:!1,options:null,store:null,_setStoreAttr:function(a){this._created&&this._deprecatedSetStore(a)},query:null,_setQueryAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{query:a})},queryOptions:null,_setQueryOptionsAttr:function(a){this._created&&this._deprecatedSetStore(this.store,this.selectedValue,{queryOptions:a})},labelAttr:"",onFetch:null,sortByLabel:!0,loadChildrenOnOpen:!1,
onLoadDeferred:null,getOptions:function(a){var b=this.options||[];if(null==a)return b;if(d.isArray(a))return l.map(a,"return this.getOptions(item);",this);d.isString(a)&&(a={value:a});d.isObject(a)&&(l.some(b,function(b,c){for(var d in a)if(!(d in b)||b[d]!=a[d])return!1;a=c;return!0})||(a=-1));return 0<=a&&a<b.length?b[a]:null},addOption:function(a){l.forEach(d.isArray(a)?a:[a],function(a){a&&d.isObject(a)&&this.options.push(a)},this);this._loadChildren()},removeOption:function(a){a=this.getOptions(d.isArray(a)?
a:[a]);l.forEach(a,function(a){a&&(this.options=l.filter(this.options,function(b){return b.value!==a.value||b.label!==a.label}),this._removeOptionItem(a))},this);this._loadChildren()},updateOption:function(a){l.forEach(d.isArray(a)?a:[a],function(a){var b=this.getOptions({value:a.value}),c;if(b)for(c in a)b[c]=a[c]},this);this._loadChildren()},setStore:function(a,b,c){m.deprecated(this.declaredClass+"::setStore(store, selectedValue, fetchArgs) is deprecated. Use set('query', fetchArgs.query), set('queryOptions', fetchArgs.queryOptions), set('store', store), or set('value', selectedValue) instead.",
"","2.0");this._deprecatedSetStore(a,b,c)},_deprecatedSetStore:function(a,b,c){var e=this.store;c=c||{};if(e!==a){for(var m;m=this._notifyConnections.pop();)m.remove();a.get||(d.mixin(a,{_oldAPI:!0,get:function(a){var b=new k;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var c=new k(function(){e.abort&&e.abort()});c.total=new k;var e=this.fetch(d.mixin({query:a,onBegin:function(a){c.total.resolve(a)},
onComplete:function(a){c.resolve(a)},onError:function(a){c.reject(a)}},b));return new p(c)}}),a.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[h.after(a,"onNew",d.hitch(this,"_onNewItem"),!0),h.after(a,"onDelete",d.hitch(this,"_onDeleteItem"),!0),h.after(a,"onSet",d.hitch(this,"_onSetItem"),!0)]));this._set("store",a)}this.options&&this.options.length&&this.removeOption(this.options);this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&
(this._observeHandle.remove(),this._observeHandle=null);c.query&&this._set("query",c.query);c.queryOptions&&this._set("queryOptions",c.queryOptions);a&&a.query&&(this._loadingStore=!0,this.onLoadDeferred=new k,this._queryRes=a.query(this.query,this.queryOptions),n(this._queryRes,d.hitch(this,function(e){if(this.sortByLabel&&!c.sort&&e.length)if(a.getValue)e.sort(f.createSortFunction([{attribute:a.getLabelAttributes(e[0])[0]}],a));else{var m=this.labelAttr;e.sort(function(a,b){return a[m]>b[m]?1:b[m]>
a[m]?-1:0})}c.onFetch&&(e=c.onFetch.call(this,e,c));l.forEach(e,function(a){this._addOptionForItem(a)},this);this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(d.hitch(this,function(a,b,c){b==c?this._onSetItem(a):(-1!=b&&this._onDeleteItem(a),-1!=c&&this._onNewItem(a))}),!0));this._loadingStore=!1;this.set("value","_pendingValue"in this?this._pendingValue:b);delete this._pendingValue;this.loadChildrenOnOpen?this._pseudoLoadChildren(e):this._loadChildren();this.onLoadDeferred.resolve(!0);
this.onSetStore()}),function(a){this.onLoadDeferred.reject(a)}));return e},_setValueAttr:function(a,b){this._onChangeActive||(b=null);if(this._loadingStore)this._pendingValue=a;else if(null!=a){a=d.isArray(a)?l.map(a,function(a){return d.isObject(a)?a:{value:a}}):d.isObject(a)?[a]:[{value:a}];a=l.filter(this.getOptions(a),function(a){return a&&a.value});var c=this.getOptions()||[];this.multiple||a[0]&&a[0].value||!c.length||(a[0]=c[0]);l.forEach(c,function(b){b.selected=l.some(a,function(a){return a.value===
b.value})});c=l.map(a,function(a){return a.value});if("undefined"!=typeof c&&"undefined"!=typeof c[0]){var e=l.map(a,function(a){return a.label});this._setDisplay(this.multiple?e:e[0]);this.inherited(arguments,[this.multiple?c:c[0],b]);this._updateSelection()}}},_getDisplayedValueAttr:function(){var a=l.map([].concat(this.get("selectedOptions")),function(a){return a&&"label"in a?a.label:a?a.value:null},this);return this.multiple?a:a[0]},_setDisplayedValueAttr:function(a){this.set("value",this.getOptions("string"==
typeof a?{label:a}:a))},_loadChildren:function(){this._loadingStore||(l.forEach(this._getChildren(),function(a){a.destroyRecursive()}),l.forEach(this.options,this._addOptionItem,this),this._updateSelection())},_updateSelection:function(){this.focusedChild=null;this._set("value",this._getValueFromOpts());var a=[].concat(this.value);if(a&&(a[0]||""===a[0])){var b=this;l.forEach(this._getChildren(),function(c){var d=l.some(a,function(a){return c.option&&a===c.option.value});d&&!b.multiple&&(b.focusedChild=
c);e.toggle(c.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),d);c.domNode.setAttribute("aria-selected",d?"true":"false")},this)}},_getValueFromOpts:function(){var a=this.getOptions()||[];if(!this.multiple&&a.length){var b=l.filter(a,function(a){return a.selected})[0];if(b&&b.value)return b.value;a[0].selected=!0;return a[0].value}return this.multiple?l.map(l.filter(a,function(a){return a.selected}),function(a){return a.value})||[]:""},_onNewItem:function(a,b){b&&b.parent||this._addOptionForItem(a)},
_onDeleteItem:function(a){this.removeOption({value:this.store.getIdentity(a)})},_onSetItem:function(a){this.updateOption(this._getOptionObjForItem(a))},_getOptionObjForItem:function(a){var b=this.store,c=this.labelAttr&&this.labelAttr in a?a[this.labelAttr]:b.getLabel(a);return{value:c?b.getIdentity(a):null,label:c,item:a}},_addOptionForItem:function(a){var b=this.store;b.isItemLoaded&&!b.isItemLoaded(a)?b.loadItem({item:a,onItem:function(a){this._addOptionForItem(a)},scope:this}):(a=this._getOptionObjForItem(a),
this.addOption(a))},constructor:function(a){this._oValue=(a||{}).value||null;this._notifyConnections=[]},buildRendering:function(){this.inherited(arguments);c.setSelectable(this.focusNode,!1)},_fillContent:function(){this.options||(this.options=this.srcNodeRef?b("\x3e *",this.srcNodeRef).map(function(a){return"separator"===a.getAttribute("type")?{value:"",label:"",selected:!1,disabled:!1}:{value:a.getAttribute("data-"+m._scopeName+"-value")||a.getAttribute("value"),label:String(a.innerHTML),selected:a.getAttribute("selected")||
!1,disabled:a.getAttribute("disabled")||!1}},this):[]);this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())},postCreate:function(){this.inherited(arguments);h.after(this,"onChange",d.hitch(this,"_updateSelection"));var a=this.store;a&&(a.getIdentity||a.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,this._deprecatedSetStore(a,this._oValue,{query:this.query,queryOptions:this.queryOptions}));this._storeInitialized=
!0},startup:function(){this._loadChildren();this.inherited(arguments)},destroy:function(){for(var a;a=this._notifyConnections.pop();)a.remove();this._queryRes&&this._queryRes.close&&this._queryRes.close();this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),this._observeHandle=null);this.inherited(arguments)},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[]},_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},
_pseudoLoadChildren:function(){},onSetStore:function(){}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(l,k,h){var f=function(a){function c(c){a[c]=function(){var d=arguments,b=h(a,function(a){Array.prototype.unshift.call(d,a);return f(l[c].apply(l,d))});if("forEach"!==c||e)return b}}if(!a)return a;var e=!!a.then;e&&(a=k.delegate(a));c("forEach");c("filter");c("map");null==a.total&&(a.total=h(a,function(a){return a.length}));return a};
k.setObject("dojo.store.util.QueryResults",f);return f})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(l,k,h,f){return l("dijit.form._FormValueWidget",[h,f],{_layoutHackIE7:function(){if(7==k("ie"))for(var a=this.domNode,c=a.parentNode,e=a.firstChild||a,f=e.style.filter,d=this;c&&0==c.clientHeight;)(function(){var a=d.connect(c,"onscroll",function(){d.disconnect(a);e.style.filter=(new Date).getMilliseconds();d.defer(function(){e.style.filter=
f})})})(),c=c.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),function(l,k,h,f,a,c){return l("dijit.form._FormValueMixin",c,{readOnly:!1,_setReadOnlyAttr:function(a){k.set(this.focusNode,"readOnly",a);this._set("readOnly",a)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(a,c){this._handleOnChange(a,
c)},_handleOnChange:function(a,c){this._set("value",a);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)}})})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(l,k,h,f,a,c){return l("dijit.MenuSeparator",[h,f,a],{templateString:c,buildRendering:function(){this.inherited(arguments);
k.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"dijit/form/ComboButton":function(){define("dojo/_base/declare dojo/keys ../focus ./DropDownButton dojo/text!./templates/ComboButton.html ../a11yclick".split(" "),function(l,k,h,f,a){return l("dijit.form.ComboButton",f,{templateString:a,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",titleNode:"dijitButtonContents",
_popupStateNode:"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(a){a.keyCode==k[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]&&(h.focus(this._popupStateNode),a.stopPropagation(),a.preventDefault())},_onArrowKeyDown:function(a){a.keyCode==k[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]&&(h.focus(this.titleNode),a.stopPropagation(),a.preventDefault())},focus:function(a){this.disabled||h.focus("start"==a?this.titleNode:this._popupStateNode)}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),
function(l,k,h,f,a,c,e,m,d){return l("dijit.form.DropDownButton",[c,e,m],{baseClass:"dijitDropDownButton",templateString:d,_fillContent:function(){if(this.srcNodeRef){var a=h("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var b=h("[widgetId]",this.dropDownContainer)[0];b&&(this.dropDown=f.byNode(b));delete this.dropDownContainer}this.dropDown&&a.hide(this.dropDown);this.inherited(arguments)}},
isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var c=this.dropDown,d=c.on("load",k.hitch(this,function(){d.remove();a()}));c.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/form/RadioButton":function(){define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(l,k,h){return l("dijit.form.RadioButton",[k,h],{baseClass:"dijitRadio"})})},"dijit/form/_RadioButtonMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/lang dojo/query!css2 ../registry".split(" "),
function(l,k,h,f,a,c){return k("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var e=[];a("input[type\x3dradio]",this.focusNode.form||this.ownerDocument).forEach(f.hitch(this,function(a){a.name==this.name&&a.form==this.focusNode.form&&(a=c.getEnclosingWidget(a))&&e.push(a)}));return e},_setCheckedAttr:function(a){this.inherited(arguments);this._created&&a&&l.forEach(this._getRelatedWidgets(),f.hitch(this,function(a){a!=this&&a.checked&&a.set("checked",!1)}))},_getSubmitValue:function(a){return null==
a?"on":a},_onClick:function(a){return this.checked||this.disabled?(a.stopPropagation(),a.preventDefault(),!1):this.readOnly?(a.stopPropagation(),a.preventDefault(),l.forEach(this._getRelatedWidgets(),f.hitch(this,function(a){h.set(this.focusNode||this.domNode,"checked",a.checked)})),!1):this.inherited(arguments)}})})},"dijit/form/FilteringSelect":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(l,k,h,f,a){return l("dijit.form.FilteringSelect",
[f,a],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(a,e,f,d){e&&e[this.searchAttr]!==this._lastQuery||!e&&a.length&&this.store.getIdentity(a[0])!=this._lastQuery||(a.length?this.set("item",a[0],d):this.set("value","",d||void 0===d&&!this.focused,this.textbox.value,null))},_openResultList:function(a,
e,f){e[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(a,e,f,d){this._onChangeActive||(e=null);if(void 0===d){if(null===a||""===a)if(a="",!k.isString(f)){this._setDisplayedValueAttr(f||"",e);return}var b=this;this._lastQuery=a;h(this.store.get(a),function(a){b._callbackSetLabel(a?[a]:[],void 0,void 0,e)})}else this.valueNode.value=
a,this.inherited(arguments,[a,e,f,d])},_setItemAttr:function(a,e,f){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(a){return a.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(a,e){null==a&&(a="");if(!this._created){if(!("displayedValue"in this.params))return;e=!1}if(this.store){this.closeDropDown();var f=k.clone(this.query),d=this._getDisplayQueryString(a),b;this.store._oldAPI?b=d:(b=this._patternToRegExp(d),b.toString=function(){return d});
this._lastQuery=f[this.searchAttr]=b;this._lastDisplayedValue=this.textbox.value=a;this._set("displayedValue",a);var l=this,p={queryOptions:{ignoreCase:this.ignoreCase,deep:!0}};k.mixin(p,this.fetchProperties);this._fetchHandle=this.store.query(f,p);h(this._fetchHandle,function(a){l._fetchHandle=null;l._callbackSetLabel(a||[],f,p,e)},function(a){l._fetchHandle=null})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare",
"dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(l,k,h,f){return l("dijit.form.MappedTextBox",f,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:"valueNode",serialize:function(a){return a.toString?a.toString():""},toString:function(){var a=this.filter(this.get("value"));return null!=a?"string"==typeof a?a:this.serialize(a,this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},
buildRendering:function(){this.inherited(arguments);this.valueNode=h.place("\x3cinput type\x3d'hidden'"+(this.name&&!k("msapp")?' name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"")+"/\x3e",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),
function(l,k,h,f,a,c,e){var m;return m=l("dijit.form.ValidationTextBox",a,{templateString:e,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,b){b!=m.prototype[a]&&(k.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",
a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return(new RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$")).test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,
this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:a;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b=
"",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var e=this._isEmpty(this.textbox.value),f=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&e||f)&&(this._maskValidSubsetError||f&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&f,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=
!this._hasBeenBlurred||a):e&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&this.focused?c.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):c.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=h.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&
this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+=
"(?:"+a+"|$)"}});try{"".search(c)}catch(e){c=this.pattern}this._partialre="^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=f.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setMessageAttr:function(a){this._set("message",
a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){c.hide(this.domNode);this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(l,k,h,f,a,c,e,
m,d,b,n){m=l("dijit.form.TextBox"+(e("dojo-bidi")?"_NoBidi":""),[m,d],{templateString:b,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:e("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==
a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>e("ie")&&this.defer(function(){try{var a=h.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_setPlaceHolderAttr:function(b){this._set("placeHolder",b);this._phspan||(this._attachPoints.push("_phspan"),
this._phspan=k.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(c(this._phspan,"mousedown",function(a){a.preventDefault()}),c(this._phspan,"touchend, pointerup, MSPointerUp",a.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(b));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&
(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){f.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){f.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",
a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),e("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder())}});9>e("ie")&&(m.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},n._setSelectionRange=d._setSelectionRange=function(a,
b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});e("dojo-bidi")&&(m=l("dijit.form.TextBox",m,{_setPlaceHolderAttr:function(a){this.inherited(arguments);this.applyTextDir(this._phspan)}}));return m})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(l,k,h,f,a,c,e,m){var d=k("dijit.form._TextBoxMixin"+
(f("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,c,d){var e;void 0!==a&&(e=this.filter(a),"string"!=typeof d&&(d=null===e||"number"==typeof e&&isNaN(e)?"":this.filter(this.format(e,this.constraints)),0!=this.compare(e,this.filter(this.parse(d,this.constraints)))&&(d=null)));null==d||"number"==typeof d&&isNaN(d)||
this.textbox.value==d||(this.textbox.value=d,this._set("displayedValue",this.get("displayedValue")));this.inherited(arguments,[e,c])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},
_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(e(this.textbox,"keydown, keypress, paste, cut, input, compositionend",c.hitch(this,
function(b){var d;if("keydown"==b.type){d=b.keyCode;switch(d){case a.SHIFT:case a.ALT:case a.CTRL:case a.META:case a.CAPS_LOCK:case a.NUM_LOCK:case a.SCROLL_LOCK:return}if(!b.ctrlKey&&!b.metaKey&&!b.altKey){switch(d){case a.NUMPAD_0:case a.NUMPAD_1:case a.NUMPAD_2:case a.NUMPAD_3:case a.NUMPAD_4:case a.NUMPAD_5:case a.NUMPAD_6:case a.NUMPAD_7:case a.NUMPAD_8:case a.NUMPAD_9:case a.NUMPAD_MULTIPLY:case a.NUMPAD_PLUS:case a.NUMPAD_ENTER:case a.NUMPAD_MINUS:case a.NUMPAD_PERIOD:case a.NUMPAD_DIVIDE:return}if(65<=
d&&90>=d||48<=d&&57>=d||d==a.SPACE)return;d=!1;for(var e in a)if(a[e]===b.keyCode){d=!0;break}if(!d)return}}(d=32<=b.charCode?String.fromCharCode(b.charCode):b.charCode)||(d=65<=b.keyCode&&90>=b.keyCode||48<=b.keyCode&&57>=b.keyCode||b.keyCode==a.SPACE?String.fromCharCode(b.keyCode):b.keyCode);d||(d=229);if("keypress"==b.type){if("string"!=typeof d)return;if("a"<=d&&"z">=d||"A"<=d&&"Z">=d||"0"<=d&&"9">=d||" "===d)if(b.ctrlKey||b.metaKey||b.altKey)return}if("input"==b.type){if(this.__skipInputEvent){this.__skipInputEvent=
!1;return}}else this.__skipInputEvent=!0;var f={faux:!0},m;for(m in b)/^(layer[XY]|returnValue|keyLocation)$/.test(m)||(e=b[m],"function"!=typeof e&&"undefined"!=typeof e&&(f[m]=e));c.mixin(f,{charOrCode:d,_wasConsumed:!1,preventDefault:function(){f._wasConsumed=!0;b.preventDefault()},stopPropagation:function(){b.stopPropagation()}});!1===this.onInput(f)&&(f.preventDefault(),f.stopPropagation());f._wasConsumed||this.defer(function(){this._onInput(f)})})),e(this.domNode,"keypress",function(a){a.stopPropagation()}))},
_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=c.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=
this.textbox.selectionEnd},_onFocus:function(a){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=e.once(this.domNode,"mouseup, touchend",c.hitch(this,function(a){this._isTextSelected()||d.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value=
"";this.inherited(arguments)}});f("dojo-bidi")&&(d=k("dijit.form._TextBoxMixin",d,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));d._setSelectionRange=m._setSelectionRange=function(a,c,d){a.setSelectionRange&&a.setSelectionRange(c,d)};d.selectInputText=m.selectInputText=function(a,c,
e){a=h.byId(a);isNaN(c)&&(c=0);isNaN(e)&&(e=a.value?a.value.length:0);try{a.focus(),d._setSelectionRange(a,c,e)}catch(f){}};return d})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare dojo/Deferred dojo/_base/kernel dojo/_base/lang dojo/store/util/QueryResults ./_AutoCompleterMixin ./_ComboBoxMenu ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(l,k,h,f,a,c,e,m,d){return l("dijit.form.ComboBoxMixin",[m,c],{dropDownClass:e,hasDownArrow:!0,templateString:d,
baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(b){b.get||f.mixin(b,{_oldAPI:!0,get:function(a){var b=new k;this.fetchItemByIdentity({identity:a,onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(b,c){var d=
new k(function(){e.abort&&e.abort()});d.total=new k;var e=this.fetch(f.mixin({query:b,onBegin:function(a){d.total.resolve(a)},onComplete:function(a){d.resolve(a)},onError:function(a){d.reject(a)}},c));return a(d)}});this._set("store",b)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&this.store&&!this.store._oldAPI){var c=this.declaredClass;f.mixin(this.store,{getValue:function(a,b){h.deprecated(c+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly",
"","2.0");return a[b]},getLabel:function(a){h.deprecated(c+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){h.deprecated(c+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],f.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}},buildRendering:function(){this.inherited(arguments);this.focusNode.setAttribute("aria-autocomplete",this.autoComplete?"both":
"list")}})})},"dijit/form/_AutoCompleterMixin":function(){define("dojo/aspect dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/query dojo/regexp dojo/sniff ./DataList ./_TextBoxMixin ./_SearchMixin".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){k=k("dijit.form._AutoCompleterMixin",n,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==typeof a.selectionStart)b=a.selectionStart;else if(m("ie")){var c=
a.ownerDocument.selection.createRange().duplicate();a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=String(a.text).replace(/\r/g,"").length}catch(d){}}return b},_setCaretPos:function(a,c){c=parseInt(c);b.selectInputText(a,c,c)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=a.charCode||a.keyCode;if(b!=f.ALT&&b!=f.CTRL&&b!=f.META&&b!=
f.SHIFT){var c=this.dropDown,d=null;this._abortQuery();this.inherited(arguments);if(!(a.altKey||a.ctrlKey||a.metaKey))switch(this._opened&&(d=c.getHighlightedOption()),b){case f.PAGE_DOWN:case f.DOWN_ARROW:case f.PAGE_UP:case f.UP_ARROW:this._opened&&this._announceOption(d);a.stopPropagation();a.preventDefault();break;case f.ENTER:if(d){if(d==c.nextButton){this._nextSearch(1);a.stopPropagation();a.preventDefault();break}else if(d==c.previousButton){this._nextSearch(-1);a.stopPropagation();a.preventDefault();
break}a.stopPropagation();a.preventDefault()}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length);case f.TAB:b=this.get("displayedValue");if(c&&(b==c._messages.previousMessage||b==c._messages.nextMessage))break;d&&this._selectOption(d);case f.ESCAPE:this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},_autoCompleteText:function(a){var c=this.focusNode;b.selectInputText(c,c.value.length);var d=this.ignoreCase?"toLowerCase":"substr";0==a[d](0).indexOf(this.focusNode.value[d](0))?
(d=this.autoComplete?this._getCaretPos(c):c.value.length,d+1>c.value.length&&(c.value=a,b.selectInputText(c,d))):(c.value=a,b.selectInputText(c))},_openResultList:function(b,c,d){var e=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();b.length||0!=d.start?(this._nextSearch=this.dropDown.onPage=a.hitch(this,function(a){b.nextPage(-1!==a);this.focus()}),this.dropDown.createOptions(b,d,a.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in d?(d.direction?this.dropDown.highlightFirstOption():
d.direction||this.dropDown.highlightLastOption(),e&&this._announceOption(this.dropDown.getHighlightedOption())):!this.autoComplete||this._prev_key_backspace||/^[*]+$/.test(c[this.searchAttr].toString())||this._announceOption(this.dropDown.containerNode.firstChild.nextSibling)):this.closeDropDown()},_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();
this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;!b||a!=b._messages.previousMessage&&a!=b._messages.nextMessage?"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState()):this._setValueAttr(this._lastValueReported,!0);this.focusNode.removeAttribute("aria-activedescendant")},
_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();
this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",h.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0);this.focusNode.removeAttribute("aria-activedescendant")},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=
void 0;this.inherited(arguments)},_startSearch:function(b){if(!this.dropDown){var c=this.id+"_popup";this.dropDown=new (a.isString(this.dropDownClass)?a.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:a.hitch(this,this._selectOption),id:c,dir:this.dir,textDir:this.textDir})}this._lastInput=b;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&this.srcNodeRef&&(this.store=new d({},this.srcNodeRef),
!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var b=c('label[for\x3d"'+this.id+'"]');b.length&&(b[0].id||(b[0].id=this.id+"_label"),this.domNode.setAttribute("aria-labelledby",b[0].id));this.inherited(arguments);l.after(this,"onSearch",a.hitch(this,"_openResultList"),!0)},_getMenuLabelFromItem:function(a){a=this.labelFunc(a,this.store);var b=this.labelType;
"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}");b=e.escapeString(b);return this._escapeHtml(a.replace(new RegExp((0==d?"^":"")+"("+b+")"+(d==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'\x3cspan class\x3d"dijitComboBoxHighlightMatch"\x3e$1\x3c/span\x3e')},
_escapeHtml:function(a){return a=String(a).replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)}});m("dojo-bidi")&&k.extend({_setTextDirAttr:function(a){this.inherited(arguments);
this.dropDown&&this.dropDown._set("textDir",a)}});return k})},"dijit/form/DataList":function(){define("dojo/_base/declare dojo/dom dojo/_base/lang dojo/query dojo/store/Memory ../registry".split(" "),function(l,k,h,f,a,c){function e(a){return{id:a.value,value:a.value,name:h.trim(a.innerText||a.textContent||"")}}return l("dijit.form.DataList",a,{constructor:function(a,d){this.domNode=k.byId(d);h.mixin(this,a);this.id&&c.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:f("option",
this.domNode).map(e)}])},destroy:function(){c.remove(this.id)},fetchSelectedItem:function(){var a=f("\x3e option[selected]",this.domNode)[0]||f("\x3e option",this.domNode)[0];return a&&e(a)}})})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(l,k,h){return l("dojo.store.Memory",null,{constructor:function(f){for(var a in f)this[a]=f[a];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:h,get:function(f){return this.data[this.index[f]]},
getIdentity:function(f){return f[this.idProperty]},put:function(f,a){var c=this.data,e=this.index,m=this.idProperty,m=f[m]=a&&"id"in a?a.id:m in f?f[m]:Math.random();if(m in e){if(a&&!1===a.overwrite)throw Error("Object already exists");c[e[m]]=f}else e[m]=c.push(f)-1;return m},add:function(f,a){(a=a||{}).overwrite=!1;return this.put(f,a)},remove:function(f){var a=this.index,c=this.data;if(f in a)return c.splice(a[f],1),this.setData(c),!0},query:function(f,a){return k(this.queryEngine(f,a)(this.data))},
setData:function(f){f.items?(this.idProperty=f.identifier||this.idProperty,f=this.data=f.items):this.data=f;this.index={};for(var a=0,c=f.length;a<c;a++)this.index[f[a][this.idProperty]]=a}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(l){return function(k,h){function f(a){a=l.filter(a,k);var e=h&&h.sort;e&&a.sort("function"==typeof e?e:function(a,b){for(var c,f=0;c=e[f];f++){var m=a[c.attribute],h=b[c.attribute],m=null!=m?m.valueOf():m,h=null!=h?h.valueOf():
h;if(m!=h)return!!c.descending==(null==m||m>h)?-1:1}return 0});if(h&&(h.start||h.count)){var f=a.length;a=a.slice(h.start||0,(h.start||0)+(h.count||Infinity));a.total=f}return a}switch(typeof k){default:throw Error("Can not query with a "+typeof k);case "object":case "undefined":var a=k;k=function(c){for(var e in a){var f=a[e];if(f&&f.test){if(!f.test(c[e],c))return!1}else if(f!=c[e])return!1}return!0};break;case "string":if(!this[k])throw Error("No filter function "+k+" was found in store");k=this[k];
case "function":}f.matches=k;return f}})},"dijit/form/_SearchMixin":function(){define("dojo/_base/declare dojo/keys dojo/_base/lang dojo/query dojo/string dojo/when ../registry".split(" "),function(l,k,h,f,a,c,e){return l("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(a){this._set("list",a)},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_patternToRegExp:function(a){return new RegExp("^"+a.replace(/(\\.)|(\*)|(\?)|\W/g,
function(a,b,c,e){return c?".*":e?".":b?b:"\\"+a})+"$",this.ignoreCase?"mi":"m")},_abortQuery:function(){this.searchTimer&&(this.searchTimer=this.searchTimer.remove());this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove());this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},_processInput:function(a){if(!this.disabled&&
!this.readOnly){var c=a.charOrCode;if(!("type"in a&&"key"==a.type.substring(0,3)&&(a.altKey||(a.ctrlKey||a.metaKey)&&"x"!=c&&"v"!=c||c==k.SHIFT))){this._prev_key_backspace=a=!1;switch(c){case k.DELETE:case k.BACKSPACE:a=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:a="string"==typeof c||229==c}if(a)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value)},
_startSearch:function(e){this._abortQuery();var d=this,b=h.clone(this.query),f={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},k=a.substitute(this.queryExpr,[e.replace(/([\\\*\?])/g,"\\$1")]),l,r=function(){var a=d._fetchHandle=d.store.query(b,f);d.disabled||d.readOnly||l!==d._lastQuery||c(a,function(e){d._fetchHandle=null;d.disabled||d.readOnly||l!==d._lastQuery||c(a.total,function(a){e.total=a;var c=d.pageSize;if(isNaN(c)||c>e.total)c=e.total;e.nextPage=function(a){f.direction=
a=!1!==a;f.count=c;a?(f.start+=e.length,f.start>=e.total&&(f.count=0)):(f.start-=c,0>f.start&&(f.count=Math.max(c+f.start,0),f.start=0));0>=f.count?(e.length=0,d.onSearch(e,b,f)):r()};d.onSearch(e,b,f)})},function(a){d._fetchHandle=null})};h.mixin(f,this.fetchProperties);this.store._oldAPI?l=k:(l=this._patternToRegExp(k),l.toString=function(){return k});this._lastQuery=b[this.searchAttr]=l;this._queryDeferHandle=this.defer(r,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties=
{}},postMixInProperties:function(){if(!this.store){var a=this.list;a&&(this.store=e.byId(a))}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/keys ../_WidgetBase ../_TemplatedMixin ./_ComboBoxMenuMixin ./_ListMouseMixin".split(" "),function(l,k,h,f,a,c,e,m){return l("dijit.form._ComboBoxMenu",[a,c,m,e],{templateString:"\x3cdiv class\x3d'dijitReset dijitMenu' data-dojo-attach-point\x3d'containerNode' style\x3d'overflow: auto; overflow-x: hidden;' role\x3d'listbox'\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point\x3d'previousButton' role\x3d'option'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitMenuItem dijitMenuNextButton' data-dojo-attach-point\x3d'nextButton' role\x3d'option'\x3e\x3c/div\x3e\x3c/div\x3e",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(k.add(this.previousButton,"dijitMenuItemRtl"),k.add(this.nextButton,"dijitMenuItemRtl"));this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){var a=this.ownerDocument.createElement("div");a.className="dijitReset dijitMenuItem small-meta fwb cursor-default"+(this.isLeftToRight()?"":" dijitMenuItemRtl");a.setAttribute("role","option");return a},onHover:function(a){k.add(a,"dijitMenuItemHover")},
onUnhover:function(a){k.remove(a,"dijitMenuItemHover")},onSelect:function(a){k.add(a,"dijitMenuItemSelected")},onDeselect:function(a){k.remove(a,"dijitMenuItemSelected")},_page:function(a){var b=0,c=this.domNode.scrollTop,e=h.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();b<e;){var f=this.getHighlightedOption();if(a){if(!f.previousSibling||"none"==f.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!f.nextSibling||"none"==f.nextSibling.style.display)break;
this.selectNextNode()}f=this.domNode.scrollTop;b+=(f-c)*(a?-1:1);c=f}},handleKey:function(a){switch(a.keyCode){case f.DOWN_ARROW:return this.selectNextNode(),!1;case f.PAGE_DOWN:return this._page(!1),!1;case f.UP_ARROW:return this.selectPreviousNode(),!1;case f.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/has dojo/i18n dojo/i18n!./nls/ComboBox".split(" "),function(l,k,h,f,a){var c=
k("dijit.form._ComboBoxMenuMixin"+(f("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=a.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(a){this._set("value",a);this.onChange(a)},onClick:function(a){if(a==this.previousButton)this._setSelectedAttr(null),
this.onPage(-1);else if(a==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(a)},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null)},_createOption:function(a,c){var d=this._createMenuItem(),b=c(a);b.html?d.innerHTML=b.label:d.appendChild(d.ownerDocument.createTextNode(b.label));""==d.innerHTML&&(d.innerHTML="\x26#160;");return d},createOptions:function(a,c,d){this.items=a;this.previousButton.style.display=0==c.start?"none":"";h.set(this.previousButton,
"id",this.id+"_prev");l.forEach(a,function(a,b){var c=this._createOption(a,d);c.setAttribute("item",b);h.set(c,"id",this.id+b);this.nextButton.parentNode.insertBefore(c,this.nextButton)},this);var b=!1;a.total&&!a.total.then&&-1!=a.total?c.start+c.count<a.total?b=!0:c.start+c.count>a.total&&c.count==a.length&&(b=!0):c.count==a.length&&(b=!0);this.nextButton.style.display=b?"":"none";h.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var a=this.containerNode;2<a.childNodes.length;)a.removeChild(a.childNodes[a.childNodes.length-
2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}});f("dojo-bidi")&&(c=k("dijit.form._ComboBoxMenuMixin",
c,{_createOption:function(){var a=this.inherited(arguments);this.applyTextDir(a);return a}}));return c})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(l,k,h,f){return l("dijit.form._ListMouseMixin",f,{postCreate:function(){this.inherited(arguments);this.domNode.dojoClick=!0;this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover",
"_onMouseOver");this._listConnect("mouseout","_onMouseOut")},_onClick:function(a,c){this._setSelectedAttr(c,!1);this._deferredClick&&this._deferredClick.remove();this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(c)})},_onMouseDown:function(a,c){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging=!0;this._setSelectedAttr(c,!1)},_onMouseUp:function(a,c){this._isDragging=!1;var e=this.selected,f=this._hoveredNode;e&&c==e?this.defer(function(){this._onClick(a,
e)}):f&&this.defer(function(){this._onClick(a,f)})},_onMouseOut:function(a,c){this._hoveredNode&&(this.onUnhover(this._hoveredNode),this._hoveredNode=null);this._isDragging&&(this._cancelDrag=(new Date).getTime()+1E3)},_onMouseOver:function(a,c){this._cancelDrag&&((new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),this._cancelDrag=null);this._hoveredNode=c;this.onHover(c);this._isDragging&&this._setSelectedAttr(c,!1)}})})},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on",
"dojo/window"],function(l,k,h){return l("dijit.form._ListBase",null,{selected:null,_listConnect:function(f,a){var c=this;return c.own(k(c.containerNode,k.selector(function(a,c,d){return a.parentNode==d},f),function(e){c[a](e,this)}))},selectFirstNode:function(){for(var f=this.containerNode.firstChild;f&&"none"==f.style.display;)f=f.nextSibling;this._setSelectedAttr(f,!0)},selectLastNode:function(){for(var f=this.containerNode.lastChild;f&&"none"==f.style.display;)f=f.previousSibling;this._setSelectedAttr(f,
!0)},selectNextNode:function(){var f=this.selected;if(f){for(f=f.nextSibling;f&&"none"==f.style.display;)f=f.nextSibling;f?this._setSelectedAttr(f,!0):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var f=this.selected;if(f){for(f=f.previousSibling;f&&"none"==f.style.display;)f=f.previousSibling;f?this._setSelectedAttr(f,!0):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(f,a){if(this.selected!=f){var c=this.selected;if(c)this.onDeselect(c);
f&&(a&&h.scrollIntoView(f),this.onSelect(f));this._set("selected",f)}else if(f)this.onSelect(f)}})})},"dijit/form/NumberTextBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/i18n dojo/string dojo/number ./RangeBoundTextBox".split(" "),function(l,k,h,f,a,c){var e=function(a){a=a||{};var b=h.getLocalization("dojo.cldr","number",h.normalizeLocale(a.locale)),c=a.pattern?a.pattern:b[(a.type||"decimal")+"Format"];a="number"==typeof a.places?a.places:"string"===typeof a.places&&0<a.places.length?
a.places.replace(/.*,/,""):-1!=c.indexOf(".")?c.split(".")[1].replace(/[^#0]/g,"").length:0;return{sep:b.decimal,places:a}},m=l("dijit.form.NumberTextBoxMixin",null,{pattern:function(a){return"("+(this.focused&&this.editOptions?this._regExpGenerator(k.delegate(a,this.editOptions))+"|":"")+this._regExpGenerator(a)+")"},value:NaN,editOptions:{pattern:"#.######"},_formatter:a.format,_regExpGenerator:a.regexp,_decimalInfo:e(),postMixInProperties:function(){this.inherited(arguments);this._set("type","text")},
_setConstraintsAttr:function(a){var b="number"==typeof a.places?a.places:0;b&&b++;"number"!=typeof a.max&&(a.max=9*Math.pow(10,15-b));"number"!=typeof a.min&&(a.min=-9*Math.pow(10,15-b));this.inherited(arguments,[a]);this.focusNode&&this.focusNode.value&&!isNaN(this.value)&&this.set("value",this.value);this._decimalInfo=e(a)},_onFocus:function(){if(!this.disabled&&!this.readOnly){var a=this.get("value");"number"!=typeof a||isNaN(a)||(a=this.format(a,this.constraints),void 0!==a&&(this.textbox.value=
a));this.inherited(arguments)}},format:function(a,b){var c=String(a);if("number"!=typeof a)return c;if(isNaN(a))return"";if(!("rangeCheck"in this&&this.rangeCheck(a,b))&&!1!==b.exponent&&/\de[-+]?\d/i.test(c))return c;this.editOptions&&this.focused&&(b=k.mixin({},b,this.editOptions));return this._formatter(a,b)},_parser:a.parse,parse:function(a,b){var c=this._parser(a,k.mixin({},b,this.editOptions&&this.focused?this.editOptions:{}));this.editOptions&&this.focused&&isNaN(c)&&(c=this._parser(a,b));
return c},_getDisplayedValueAttr:function(){var a=this.inherited(arguments);return isNaN(a)?this.textbox.value:a},filter:function(c){if(null==c||"string"==typeof c&&""==c)return NaN;"number"!=typeof c||isNaN(c)||0==c||(c=a.round(c,this._decimalInfo.places));return this.inherited(arguments,[c])},serialize:function(a,b){return"number"!=typeof a||isNaN(a)?"":this.inherited(arguments)},_setBlurValue:function(){var a=k.hitch(k.delegate(this,{focused:!0}),"get")("value");this._setValueAttr(a,!0)},_setValueAttr:function(a,
b,c){if(void 0!==a&&void 0===c)if(c=String(a),"number"==typeof a)if(isNaN(a))c="";else{if("rangeCheck"in this&&this.rangeCheck(a,this.constraints)||!1===this.constraints.exponent||!/\de[-+]?\d/i.test(c))c=void 0}else a?a=void 0:(c="",a=NaN);this.inherited(arguments,[a,b,c])},_getValueAttr:function(){var c=this.inherited(arguments);if(isNaN(c)&&""!==this.textbox.value){if(!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+a._realNumberRegexp(k.delegate(this.constraints))+
"$")).test(this.textbox.value))return c=Number(this.textbox.value),isNaN(c)?void 0:c}else return c},isValid:function(a){if(!this.focused||this._isEmpty(this.textbox.value))return this.inherited(arguments);var b=this.get("value");return!isNaN(b)&&this.rangeCheck(b,this.constraints)?!1!==this.constraints.exponent&&/\de[-+]?\d/i.test(this.textbox.value)?!0:this.inherited(arguments):!1},_isValidSubset:function(){var a="number"==typeof this.constraints.min,b="number"==typeof this.constraints.max,c=this.get("value");
if(isNaN(c)||!a&&!b)return this.inherited(arguments);var e=c|0,h=0>c,m=-1!=this.textbox.value.indexOf(this._decimalInfo.sep),k=(this.maxLength||20)-this.textbox.value.length,l=m?this.textbox.value.split(this._decimalInfo.sep)[1].replace(/[^0-9]/g,""):"",e=m?e+"."+l:e+"",k=f.rep("9",k),m=c;h?m=Number(e+k):c=Number(e+k);return!(a&&c<this.constraints.min||b&&m>this.constraints.max)}});l=l("dijit.form.NumberTextBox",[c,m],{baseClass:"dijitTextBox dijitNumberTextBox"});l.Mixin=m;return l})},"dijit/form/RangeBoundTextBox":function(){define(["dojo/_base/declare",
"dojo/i18n","./MappedTextBox","dojo/i18n!./nls/validate"],function(l,k,h){return l("dijit.form.RangeBoundTextBox",h,{rangeMessage:"",rangeCheck:function(f,a){return("min"in a?0<=this.compare(f,a.min):!0)&&("max"in a?0>=this.compare(f,a.max):!0)},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints)},_isDefinitelyOutOfRange:function(){var f=this.get("value");if(null==f)return!1;var a=!1;"min"in this.constraints&&(a=this.constraints.min,a=0>this.compare(f,"number"==typeof a&&
0<=a&&0!=f?0:a));!a&&"max"in this.constraints&&(a=this.constraints.max,a=0<this.compare(f,"number"!=typeof a||0<a?a:0));return a},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},isValid:function(f){return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(f))},getErrorMessage:function(f){var a=this.get("value");return null==a||""===a||"number"==typeof a&&isNaN(a)||this.isInRange(f)?this.inherited(arguments):this.rangeMessage},
postMixInProperties:function(){this.inherited(arguments);this.rangeMessage||(this.messages=k.getLocalization("dijit.form","validate",this.lang),this.rangeMessage=this.messages.rangeMessage)}})})},"dijit/TitlePane":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/fx dojo/has dojo/_base/kernel dojo/keys ./_CssStateMixin ./_TemplatedMixin ./layout/ContentPane dojo/text!./templates/TitlePane.html ./_base/manager ./a11yclick".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){k=k("dijit.TitlePane",[q,p,n],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!0,toggleable:!0,tabIndex:"0",duration:t.defaultDuration,baseClass:"dijitTitlePane",templateString:r,doLayout:!1,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);h.setSelectable(this.titleNode,!1)},postCreate:function(){this.inherited(arguments);this.toggleable&&this._trackMouseState(this.titleBarNode,
this.baseClass+"Title");var a=this.hideNode,b=this.wipeNode;this._wipeIn=e.wipeIn({node:b,duration:this.duration,beforeBegin:function(){a.style.display=""}});this._wipeOut=e.wipeOut({node:b,duration:this.duration,onEnd:function(){a.style.display="none"}})},_setOpenAttr:function(a,b){l.forEach([this._wipeIn,this._wipeOut],function(a){a&&"playing"==a.status()&&a.stop()});b?this[a?"_wipeIn":"_wipeOut"].play():this.hideNode.style.display=this.wipeNode.style.display=a?"":"none";if(this._started)if(a)this._onShow();
else this.onHide();this.containerNode.setAttribute("aria-hidden",a?"false":"true");this.focusNode.setAttribute("aria-pressed",a?"true":"false");this._set("open",a);this._setCss()},_setToggleableAttr:function(a){this.focusNode.setAttribute("role",a?"button":"heading");a?(this.focusNode.setAttribute("aria-controls",this.id+"_pane"),this.focusNode.setAttribute("tabIndex",this.tabIndex),this.focusNode.setAttribute("aria-pressed",this.open)):(f.remove(this.focusNode,"aria-controls"),f.remove(this.focusNode,
"tabIndex"),f.remove(this.focusNode,"aria-pressed"));this._set("toggleable",a);this._setCss()},_setContentAttr:function(a){this.open&&this._wipeOut&&"playing"!=this._wipeOut.status()?(this._wipeIn&&"playing"==this._wipeIn.status()&&this._wipeIn.stop(),c.setMarginBox(this.wipeNode,{h:c.getMarginBox(this.wipeNode).h}),this.inherited(arguments),this._wipeIn?this._wipeIn.play():this.hideNode.style.display=""):this.inherited(arguments)},toggle:function(){this._setOpenAttr(!this.open,!0)},_setCss:function(){var b=
this.titleBarNode||this.focusNode,c=this._titleBarClass;this._titleBarClass=this.baseClass+"Title"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");a.replace(b,this._titleBarClass,c||"");a.replace(b,this._titleBarClass.replace("TitlePaneTitle",""),(c||"").replace("TitlePaneTitle",""));this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(a){a.keyCode==b.DOWN_ARROW&&this.open&&(this.containerNode.focus(),a.preventDefault())},_onTitleClick:function(){this.toggleable&&this.toggle()},
setTitle:function(a){d.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",a)}});m("dojo-bidi")&&k.extend({_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTooltipAttr:function(a){this._set("tooltip",a);this.textDir&&(a=this.enforceTextDirWithUcc(null,a));f.set(this.focusNode,"title",a)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this.set("title",
this.title),this.set("tooltip",this.tooltip))}});return k})},"dijit/form/DateTextBox":function(){define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(l,k,h){return l("dijit.form.DateTextBox",h,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:k,_selector:"date",maxHeight:Infinity,value:new Date("")})})},"dijit/Calendar":function(){define("dojo/_base/array dojo/date dojo/date/locale dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff ./CalendarLite ./_Widget ./_CssStateMixin ./_TemplatedMixin ./form/DropDownButton".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){var v=f("dijit.Calendar",[q,r,t],{baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(a){m.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",a)},_createMonthWidget:function(){return new v._MonthDropDownButton({id:this.id+"_mddb",
tabIndex:-1,onMonthSelect:b.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){this.inherited(arguments);this.own(n(this.domNode,"keydown",b.hitch(this,"_onKeyDown")),n(this.dateRowsNode,"mouseover",b.hitch(this,"_onDayMouseOver")),n(this.dateRowsNode,"mouseout",b.hitch(this,"_onDayMouseOut")),n(this.dateRowsNode,"mousedown",b.hitch(this,"_onDayMouseDown")),n(this.dateRowsNode,"mouseup",b.hitch(this,"_onDayMouseUp")))},_onMonthSelect:function(a){var b=
new this.dateClassObj(this.currentFocus);b.setDate(1);b.setMonth(a);a=this.dateModule.getDaysInMonth(b);var c=this.currentFocus.getDate();b.setDate(Math.min(c,a));this._setCurrentFocusAttr(b)},_onDayMouseOver:function(a){(a=c.contains(a.target,"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue&&!c.contains(a,"dijitCalendarDisabledDate")||a==this.previousYearLabelNode||a==this.nextYearLabelNode)&&(c.add(a,"dijitCalendarHoveredDate"),this._currentNode=a)},_onDayMouseOut:function(a){!this._currentNode||
a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode||(a="dijitCalendarHoveredDate",c.contains(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),c.remove(this._currentNode,a),this._currentNode=null)},_onDayMouseDown:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&!c.contains(a,"dijitCalendarDisabledDate")&&(c.add(a,"dijitCalendarActiveDate"),this._currentNode=a)},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&c.remove(a,"dijitCalendarActiveDate")},
handleKey:function(a){var b=-1,c,e=this.currentFocus;switch(a.keyCode){case d.RIGHT_ARROW:b=1;case d.LEFT_ARROW:c="day";this.isLeftToRight()||(b*=-1);break;case d.DOWN_ARROW:b=1;case d.UP_ARROW:c="week";break;case d.PAGE_DOWN:b=1;case d.PAGE_UP:c=a.ctrlKey||a.altKey?"year":"month";break;case d.END:e=this.dateModule.add(e,"month",1),c="day";case d.HOME:e=new this.dateClassObj(e);e.setDate(1);break;default:return!0}c&&(e=this.dateModule.add(e,c,b));this._setCurrentFocusAttr(e);return!1},_onKeyDown:function(a){this.handleKey(a)||
(a.stopPropagation(),a.preventDefault())},onValueSelected:function(){},onChange:function(a){this.onValueSelected(a)},getClassForDate:function(){}});v._MonthDropDownButton=f("dijit.Calendar._MonthDropDownButton",w,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new v._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect})},_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.dropDown.set("months",
b);this.containerNode.innerHTML=(6==p("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+this.dropDown.domNode.innerHTML+"\x3c/div\x3e")+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+b[a.getMonth()]+"\x3c/div\x3e"}});v._MonthDropDown=f("dijit.Calendar._MonthDropDown",[r,u,t],{months:[],baseClass:"dijitCalendarMonthMenu dijitMenu",templateString:"\x3cdiv data-dojo-attach-event\x3d'ondijitclick:_onClick'\x3e\x3c/div\x3e",_setMonthsAttr:function(a){this.domNode.innerHTML=
"";l.forEach(a,function(a,b){e.create("div",{className:"dijitCalendarMonthLabel",month:b,innerHTML:a},this.domNode)._cssState="dijitCalendarMonthLabel"},this)},_onClick:function(b){this.onChange(a.get(b.target,"month"))},onChange:function(){}});return v})},"dojo/date":function(){define(["./has","./_base/lang"],function(l,k){var h={getDaysInMonth:function(f){var a=f.getMonth();return 1==a&&h.isLeapYear(f)?29:[31,28,31,30,31,30,31,31,30,31,30,31][a]},isLeapYear:function(f){f=f.getFullYear();return!(f%
400)||!(f%4)&&!!(f%100)},getTimezoneName:function(f){var a=f.toString(),c="",e=a.indexOf("(");if(-1<e)c=a.substring(++e,a.indexOf(")"));else if(e=/([A-Z\/]+) \d{4}$/,a=a.match(e))c=a[1];else if(a=f.toLocaleString(),e=/ ([A-Z\/]+)$/,a=a.match(e))c=a[1];return"AM"==c||"PM"==c?"":c},compare:function(f,a,c){f=new Date(+f);a=new Date(+(a||new Date));"date"==c?(f.setHours(0,0,0,0),a.setHours(0,0,0,0)):"time"==c&&(f.setFullYear(0,0,0),a.setFullYear(0,0,0));return f>a?1:f<a?-1:0},add:function(f,a,c){var e=
new Date(+f),h=!1,d="Date";switch(a){case "day":break;case "weekday":var b;(a=c%5)?b=parseInt(c/5):(a=0<c?5:-5,b=0<c?(c-5)/5:(c+5)/5);var k=f.getDay(),l=0;6==k&&0<c?l=1:0==k&&0>c&&(l=-1);k+=a;if(0==k||6==k)l=0<c?2:-2;c=7*b+a+l;break;case "year":d="FullYear";h=!0;break;case "week":c*=7;break;case "quarter":c*=3;case "month":h=!0;d="Month";break;default:d="UTC"+a.charAt(0).toUpperCase()+a.substring(1)+"s"}if(d)e["set"+d](e["get"+d]()+c);h&&e.getDate()<f.getDate()&&e.setDate(0);return e},difference:function(f,
a,c){a=a||new Date;c=c||"day";var e=a.getFullYear()-f.getFullYear(),m=1;switch(c){case "quarter":f=f.getMonth();a=a.getMonth();f=Math.floor(f/3)+1;a=Math.floor(a/3)+1;m=a+4*e-f;break;case "weekday":e=Math.round(h.difference(f,a,"day"));c=parseInt(h.difference(f,a,"week"));m=e%7;if(0==m)e=5*c;else{var d=0,b=f.getDay();a=a.getDay();c=parseInt(e/7);m=e%7;f=new Date(f);f.setDate(f.getDate()+7*c);f=f.getDay();if(0<e)switch(!0){case 6==b:d=-1;break;case 0==b:d=0;break;case 6==a:d=-1;break;case 0==a:d=-2;
break;case 5<f+m:d=-2}else if(0>e)switch(!0){case 6==b:d=0;break;case 0==b:d=1;break;case 6==a:d=2;break;case 0==a:d=1;break;case 0>f+m:d=2}e=e+d-2*c}m=e;break;case "year":m=e;break;case "month":m=a.getMonth()-f.getMonth()+12*e;break;case "week":m=parseInt(h.difference(f,a,"day")/7);break;case "day":m/=24;case "hour":m/=60;case "minute":m/=60;case "second":m/=1E3;case "millisecond":m*=a.getTime()-f.getTime()}return Math.round(m)}};k.mixin(k.getObject("dojo.date",!0),h);return h})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),
function(l,k,h,f,a,c,e,m,d){function b(a,b,c,d){return d.replace(/([a-z])\1*/ig,function(h){var m,k,l=h.charAt(0);h=h.length;var n=["abbr","wide","narrow"];switch(l){case "G":m=b[4>h?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":m=a.getFullYear();switch(h){case 1:break;case 2:if(!c.fullYear){m=String(m);m=m.substr(m.length-2);break}default:k=!0}break;case "Q":case "q":m=Math.ceil((a.getMonth()+1)/3);k=!0;break;case "M":case "L":m=a.getMonth();3>h?(m+=1,k=!0):(l=["months","L"==l?"standAlone":
"format",n[h-3]].join("-"),m=b[l][m]);break;case "w":m=q._getWeekOfYear(a,0);k=!0;break;case "d":m=a.getDate();k=!0;break;case "D":m=q._getDayOfYear(a);k=!0;break;case "e":case "c":if(m=a.getDay(),2>h){m=(m-f.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":m=a.getDay();3>h?(m+=1,k=!0):(l=["days","c"==l?"standAlone":"format",n[h-3]].join("-"),m=b[l][m]);break;case "a":l=12>a.getHours()?"am":"pm";m=c[l]||b["dayPeriods-format-wide-"+l];break;case "h":case "H":case "K":case "k":k=a.getHours();switch(l){case "h":m=
k%12||12;break;case "H":m=k;break;case "K":m=k%12;break;case "k":m=k||24}k=!0;break;case "m":m=a.getMinutes();k=!0;break;case "s":m=a.getSeconds();k=!0;break;case "S":m=Math.round(a.getMilliseconds()*Math.pow(10,h-3));k=!0;break;case "v":case "z":if(m=q._getZone(a,!0,c))break;h=4;case "Z":l=q._getZone(a,!1,c);l=[0>=l?"+":"-",e.pad(Math.floor(Math.abs(l)/60),2),e.pad(Math.abs(l)%60,2)];4==h&&(l.splice(0,0,"GMT"),l.splice(3,0,":"));m=l.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
d);}k&&(m=e.pad(m,h));return m})}function n(a,b,c,d){var e=function(a){return a};b=b||e;c=c||e;d=d||e;var f=a.match(/(''|[^'])+/g),h="'"==a.charAt(0);k.forEach(f,function(a,d){a?(f[d]=(h?c:b)(a.replace(/''/g,"'")),h=!h):f[d]=""});return d(f.join(""))}function p(a,b,d,e){e=c.escapeString(e);d.strict||(e=e.replace(" a"," ?a"));return e.replace(/([a-z])\1*/ig,function(c){var e;e=c.charAt(0);var f=c.length,h="",m="";d.strict?(1<f&&(h="0{"+(f-1)+"}"),2<f&&(m="0{"+(f-2)+"}")):(h="0?",m="0{0,2}");switch(e){case "y":e=
"\\d{2,4}";break;case "M":case "L":e=2<f?"\\S+?":"1[0-2]|"+h+"[1-9]";break;case "D":e="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+h+"[1-9][0-9]|"+m+"[1-9]";break;case "d":e="3[01]|[12]\\d|"+h+"[1-9]";break;case "w":e="[1-4][0-9]|5[0-3]|"+h+"[1-9]";break;case "E":case "e":case "c":e=".+?";break;case "h":e="1[0-2]|"+h+"[1-9]";break;case "k":e="1[01]|"+h+"\\d";break;case "H":e="1\\d|2[0-3]|"+h+"\\d";break;case "K":e="1\\d|2[0-4]|"+h+"[1-9]";break;case "m":case "s":e="[0-5]\\d";break;case "S":e="\\d{"+f+"}";
break;case "a":f=d.am||b["dayPeriods-format-wide-am"];h=d.pm||b["dayPeriods-format-wide-pm"];e=f+"|"+h;d.strict||(f!=f.toLowerCase()&&(e+="|"+f.toLowerCase()),h!=h.toLowerCase()&&(e+="|"+h.toLowerCase()),-1!=e.indexOf(".")&&(e+="|"+e.replace(/\./g,"")));e=e.replace(/\./g,"\\.");break;default:e=".*"}a&&a.push(c);return"("+e+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var q={};l.setObject(d.id.replace(/\//g,"."),q);q._getZone=function(a,b,c){return b?h.getTimezoneName(a):a.getTimezoneOffset()};q.format=
function(c,d){d=d||{};var e=a.normalizeLocale(d.locale),f=d.formatLength||"short",e=q._getGregorianBundle(e),h=[],m=l.hitch(this,b,c,e,d);if("year"==d.selector)return n(e["dateFormatItem-yyyy"]||"yyyy",m);var k;"date"!=d.selector&&(k=d.timePattern||e["timeFormat-"+f])&&h.push(n(k,m));"time"!=d.selector&&(k=d.datePattern||e["dateFormat-"+f])&&h.push(n(k,m));return 1==h.length?h[0]:e["dateTimeFormat-"+f].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return h[b]})};q.regexp=function(a){return q._parseInfo(a).regexp};
q._parseInfo=function(b){b=b||{};var c=a.normalizeLocale(b.locale),c=q._getGregorianBundle(c),d=b.formatLength||"short",e=b.datePattern||c["dateFormat-"+d],f=b.timePattern||c["timeFormat-"+d],d="date"==b.selector?e:"time"==b.selector?f:c["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,b){return[f,e][b]}),h=[];return{regexp:n(d,l.hitch(this,p,h,c,b)),tokens:h,bundle:c}};q.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=q._parseInfo(b),e=d.tokens,f=d.bundle,c=(new RegExp("^"+d.regexp.replace(c,
"")+"$",d.strict?"":"i")).exec(a&&a.replace(c,""));if(!c)return null;var m=["abbr","wide","narrow"],l=[1970,0,1,0,0,0,0],n="",c=k.every(c,function(a,c){if(!c)return!0;var d=e[c-1],h=d.length,d=d.charAt(0);switch(d){case "y":if(2!=h&&b.strict)l[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),h=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),l[0]=a<d?h+a:h-100+a;else{if(b.strict)return!1;l[0]=a}break;case "M":case "L":if(2<h){if(h=f["months-"+("L"==d?"standAlone":"format")+
"-"+m[h-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),h=k.map(h,function(a){return a.replace(".","").toLowerCase()})),a=k.indexOf(h,a),-1==a)return!1}else a--;l[1]=a;break;case "E":case "e":case "c":h=f["days-"+("c"==d?"standAlone":"format")+"-"+m[h-3]].concat();b.strict||(a=a.toLowerCase(),h=k.map(h,function(a){return a.toLowerCase()}));a=k.indexOf(h,a);if(-1==a)return!1;break;case "D":l[1]=0;case "d":l[2]=a;break;case "a":h=b.am||f["dayPeriods-format-wide-am"];d=b.pm||f["dayPeriods-format-wide-pm"];
if(!b.strict){var p=/\./g;a=a.replace(p,"").toLowerCase();h=h.replace(p,"").toLowerCase();d=d.replace(p,"").toLowerCase()}if(b.strict&&a!=h&&a!=d)return!1;n=a==d?"p":a==h?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;l[3]=a;break;case "m":l[4]=a;break;case "s":l[5]=a;break;case "S":l[6]=a}return!0}),d=+l[3];"p"===n&&12>d?l[3]=d+12:"a"===n&&12==d&&(l[3]=0);d=new Date(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);b.strict&&d.setFullYear(l[0]);var p=e.join(""),r=-1!=p.indexOf("d"),
p=-1!=p.indexOf("M");if(!c||p&&d.getMonth()>l[1]||r&&d.getDate()>l[2])return null;if(p&&d.getMonth()<l[1]||r&&d.getDate()<l[2])d=h.add(d,"hour",1);return d};var r=[];q.addCustomFormats=function(a,b){r.push({pkg:a,name:b})};q._getGregorianBundle=function(b){var c={};k.forEach(r,function(d){d=a.getLocalization(d.pkg,d.name,b);c=l.mixin(c,d)},this);return c};q.addCustomFormats(d.id.replace(/\/date\/locale$/,".cldr"),"gregorian");q.getNames=function(a,b,c,d){var e;d=q._getGregorianBundle(d);a=[a,c,b];
"standAlone"==c&&(c=a.join("-"),e=d[c],1==e[0]&&(e=void 0));a[1]="format";return(e||d[a.join("-")]).concat()};q.isWeekend=function(a,b){var c=f.getWeekend(b),d=(a||new Date).getDay();c.end<c.start&&(c.end+=7,d<c.start&&(d+=7));return d>=c.start&&d<=c.end};q._getDayOfYear=function(a){return h.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};q._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=(c-b+7)%7,d=Math.floor((q._getDayOfYear(a)+
d-1)/7);c==b&&d++;return d};return q})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(l,k){var h={};l.setObject("dojo.cldr.supplemental",h);h.getFirstDayOfWeek=function(f){f={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,
nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[h._region(f)];return void 0===f?1:f};h._region=function(f){f=k.normalizeLocale(f);f=f.split("-");var a=f[1];a?4==a.length&&(a=f[2]):a={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",
es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",
mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",
ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",
cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",
kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",
nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",
tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[f[0]];return a};h.getWeekend=function(f){var a=h._region(f);f={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[a];a={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,
bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[a];void 0===f&&(f=6);void 0===a&&(a=0);return{start:f,end:a}};return h})},"dijit/CalendarLite":function(){define("dojo/_base/array dojo/_base/declare dojo/cldr/supplemental dojo/date dojo/date/locale dojo/date/stamp dojo/dom dojo/dom-class dojo/_base/lang dojo/on dojo/sniff dojo/string ./_WidgetBase ./_TemplatedMixin dojo/text!./templates/Calendar.html ./a11yclick ./hccss".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){var u=k("dijit.CalendarLite",
[q,r],{templateString:t,dowTemplateString:'\x3cth class\x3d"dijitReset dijitCalendarDayLabelTemplate" role\x3d"columnheader" scope\x3d"col"\x3e\x3cspan class\x3d"dijitCalendarDayLabel"\x3e${d}\x3c/span\x3e\x3c/th\x3e',dateTemplateString:'\x3ctd class\x3d"dijitReset" role\x3d"gridcell" data-dojo-attach-point\x3d"dateCells"\x3e\x3cspan class\x3d"dijitCalendarDateLabel" data-dojo-attach-point\x3d"dateLabels"\x3e\x3c/span\x3e\x3c/td\x3e',weekTemplateString:'\x3ctr class\x3d"dijitReset dijitCalendarWeekTemplate" role\x3d"row"\x3e${d}${d}${d}${d}${d}${d}${d}\x3c/tr\x3e',
value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar dijitCalendarLite",_isValidDate:function(a){return a&&!isNaN(a)&&"object"==typeof a&&a.toString()!=this.constructor.prototype.value.toString()},_getValueAttr:function(){var a=this._get("value");if(a&&!isNaN(a)){var b=new this.dateClassObj(a);b.setHours(0,0,0,0);b.getDate()<a.getDate()&&(b=this.dateModule.add(b,"hour",1));return b}return null},_setValueAttr:function(a,
b){"string"==typeof a&&(a=c.fromISOString(a));a=this._patchDate(a);if(this._isValidDate(a)&&!this.isDisabledDate(a,this.lang)){if(this._set("value",a),this.set("currentFocus",a),this._markSelectedDates([a]),this._created&&(b||"undefined"==typeof b))this.onChange(this.get("value"))}else this._set("value",null),this._markSelectedDates([])},_patchDate:function(a){a&&(a=new this.dateClassObj(a),a.setHours(1,0,0,0));return a},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))},
_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var a=this._patchDate(a),b=a.getDay(),c=this.dateModule.getDaysInMonth(a),d=this.dateModule.getDaysInMonth(this.dateModule.add(a,"month",-1)),e=new this.dateClassObj,f=h.getFirstDayOfWeek(this.lang);f>b&&(f-=7);if(!this.summary){var m=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.gridNode.setAttribute("summary",m[a.getMonth()])}this._date2cell={};l.forEach(this.dateCells,function(h,
m){var k=m+f,l=new this.dateClassObj(a),n="dijitCalendar",p=0;k<b?(k=d-b+k+1,p=-1,n+="Previous"):k>=b+c?(k=k-b-c+1,p=1,n+="Next"):(k=k-b+1,n+="Current");p&&(l=this.dateModule.add(l,"month",p));l.setDate(k);this.dateModule.compare(l,e,"date")||(n="dijitCalendarCurrentDate "+n);this.isDisabledDate(l,this.lang)?(n="dijitCalendarDisabledDate "+n,h.setAttribute("aria-disabled","true")):(n="dijitCalendarEnabledDate "+n,h.removeAttribute("aria-disabled"),h.setAttribute("aria-selected","false"));(p=this.getClassForDate(l,
this.lang))&&(n=p+" "+n);h.className=n+"Month dijitCalendarDateTemplate";n=l.valueOf();this._date2cell[n]=h;h.dijitDateValue=n;this._setText(this.dateLabels[m],l.getDateLocalized?l.getDateLocalized(this.lang):l.getDate())},this)},_populateControls:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);this.monthWidget.set("month",a);var b=a.getFullYear()-1,c=new this.dateClassObj;l.forEach(["previous","current","next"],function(a){c.setFullYear(b++);this._setText(this[a+"YearLabelNode"],
this.dateLocaleModule.format(c,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("value",new this.dateClassObj)},constructor:function(b){this.dateModule=b.datePackage?d.getObject(b.datePackage,!1):f;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=b.datePackage?d.getObject(b.datePackage+".locale",!1):a},_createMonthWidget:function(){return u._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},buildRendering:function(){var a=
this.dowTemplateString,b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),c=h.getFirstDayOfWeek(this.lang);this.dayCellsHtml=p.substitute([a,a,a,a,a,a,a].join(""),{d:""},function(){return b[c++%7]});a=p.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[a,a,a,a,a,a].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);e.setSelectable(this.domNode,!1);a=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();
this.set("currentFocus",a,!1)},postCreate:function(){this.inherited(arguments);this._connectControls()},_connectControls:function(){var a=d.hitch(this,function(a,c,e){this[a].dojoClick=!0;return b(this[a],"click",d.hitch(this,function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,c,e))}))});this.own(a("incrementMonth","month",1),a("decrementMonth","month",-1),a("nextYearLabelNode","year",1),a("previousYearLabelNode","year",-1))},_setCurrentFocusAttr:function(a,b){var c=this.currentFocus,
d=this._getNodeByDate(c);a=this._patchDate(a);this._set("currentFocus",a);this._date2cell&&0==this.dateModule.difference(c,a,"month")||(this._populateGrid(),this._populateControls(),this._markSelectedDates([this.value]));c=this._getNodeByDate(a);c.setAttribute("tabIndex",this.tabIndex);(this.focused||b)&&c.focus();d&&d!=c&&(n("webkit")?d.setAttribute("tabIndex","-1"):d.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onDayClick:function(a){a.stopPropagation();
a.preventDefault();for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);a&&!m.contains(a,"dijitCalendarDisabledDate")&&this.set("value",a.dijitDateValue)},_getNodeByDate:function(a){return(a=this._patchDate(a))&&this._date2cell?this._date2cell[a.valueOf()]:null},_markSelectedDates:function(a){function b(a,c){m.toggle(c,"dijitCalendarSelectedDate",a);c.setAttribute("aria-selected",a?"true":"false")}l.forEach(this._selectedCells||[],d.partial(b,!1));this._selectedCells=l.filter(l.map(a,this._getNodeByDate,
this),function(a){return a});l.forEach(this._selectedCells,d.partial(b,!0))},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});u._MonthWidget=k("dijit.CalendarLite._MonthWidget",q,{_setMonthAttr:function(a){var b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a),c=6==n("ie")?"":"\x3cdiv class\x3d'dijitSpacer'\x3e"+l.map(b,function(a){return"\x3cdiv\x3e"+a+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e";this.domNode.innerHTML=c+"\x3cdiv class\x3d'dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'\x3e"+
b[a.getMonth()]+"\x3c/div\x3e"}});return u})},"dijit/form/_DateTimeTextBox":function(){define("dojo/date dojo/date/locale dojo/date/stamp dojo/_base/declare dojo/_base/lang ./RangeBoundTextBox ../_HasDropDown dojo/text!./templates/DropDownBox.html".split(" "),function(l,k,h,f,a,c,e,m){new Date("X");return f("dijit.form._DateTimeTextBox",[c,e],{templateString:m,hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_unboundedConstraints:{},pattern:k.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);
this._set("type","text")},compare:function(a,b){var c=this._isInvalidDate(a),e=this._isInvalidDate(b);if(c||e)return c&&e?0:c?-1:1;var c=this.format(a,this._unboundedConstraints),e=this.format(b,this._unboundedConstraints),f=this.parse(c,this._unboundedConstraints),h=this.parse(e,this._unboundedConstraints);return c==e?0:l.compare(f,h,this._selector)},autoWidth:!0,format:function(a,b){return a?this.dateLocaleModule.format(a,b):""},parse:function(a,b){return this.dateLocaleModule.parse(a,b)||(this._isEmpty(a)?
null:void 0)},serialize:function(a,b){a.toGregorian&&(a=a.toGregorian());return h.toISOString(a,b)},dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(c){c=c||{};this.dateModule=c.datePackage?a.getObject(c.datePackage,!1):l;this.dateClassObj=this.dateModule.Date||Date;this.dateClassObj instanceof Date||(this.value=new this.dateClassObj(this.value));this.dateLocaleModule=c.datePackage?a.getObject(c.datePackage+".locale",!1):k;this._set("pattern",
this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString()},buildRendering:function(){this.inherited(arguments);this.hasDownArrow||(this._buttonNode.style.display="none");this.hasDownArrow||(this._buttonNode=this.domNode,this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(c){c.selector=this._selector;c.fullYear=!0;var b=h.fromISOString;"string"==typeof c.min&&(c.min=b(c.min),this.dateClassObj instanceof Date||(c.min=new this.dateClassObj(c.min)));
"string"==typeof c.max&&(c.max=b(c.max),this.dateClassObj instanceof Date||(c.max=new this.dateClassObj(c.max)));this.inherited(arguments);this._unboundedConstraints=a.mixin({},this.constraints,{min:null,max:null})},_isInvalidDate:function(a){return!a||isNaN(a)||"object"!=typeof a||a.toString()==this._invalidDate},_setValueAttr:function(a,b,c){void 0!==a&&("string"==typeof a&&(a=h.fromISOString(a)),this._isInvalidDate(a)&&(a=null),a instanceof Date&&!(this.dateClassObj instanceof Date)&&(a=new this.dateClassObj(a)));
this.inherited(arguments,[a,b,c]);this.value instanceof Date&&(this.filterString="");this.dropDown&&this.dropDown.set("value",a,!1)},_set:function(a,b){if("value"==a){b instanceof Date&&!(this.dateClassObj instanceof Date)&&(b=new this.dateClassObj(b));var c=this._get("value");if(c instanceof this.dateClassObj&&0==this.compare(b,c))return}this.inherited(arguments)},_setDropDownDefaultValueAttr:function(a){this._isInvalidDate(a)&&(a=new this.dateClassObj);this._set("dropDownDefaultValue",a)},openDropDown:function(c){this.dropDown&&
this.dropDown.destroy();var b=a.isString(this.popupClass)?a.getObject(this.popupClass,!1):this.popupClass,e=this,f=this.get("value");this.dropDown=new b({onChange:function(a){e.set("value",a,!0)},id:this.id+"_popup",dir:e.dir,lang:e.lang,value:f,textDir:e.textDir,currentFocus:this._isInvalidDate(f)?this.dropDownDefaultValue:f,constraints:e.constraints,filterString:e.filterString,datePackage:e.datePackage,isDisabledDate:function(a){return!e.rangeCheck(a,e.constraints)}});this.inherited(arguments)},
_getDisplayedValueAttr:function(){return this.textbox.value},_setDisplayedValueAttr:function(a,b){this._setValueAttr(this.parse(a,this.constraints),b,a)}})})},"dijit/ProgressBar":function(){define("require dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/number ./_Widget ./_TemplatedMixin dojo/text!./templates/ProgressBar.html".split(" "),function(l,k,h,f,a,c,e,m){return k("dijit.ProgressBar",[c,e],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:m,
_indeterminateHighContrastImagePath:l.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);this.params&&"value"in this.params||(this.value=this.indeterminate?Infinity:this.progress)},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update()},_setDirAttr:function(a){var b="rtl"==a.toLowerCase();h.toggle(this.domNode,"dijitProgressBarRtl",
b);h.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&b);this.inherited(arguments)},update:function(a){f.mixin(this,a||{});a=this.internalProgress;var b=this.domNode,c=1;this.indeterminate?b.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(c=Math.min(parseFloat(this.progress)/100,1),this.progress=c*this.maximum):(this.progress=Math.min(this.progress,this.maximum),c=this.maximum?this.progress/this.maximum:0),b.setAttribute("aria-valuenow",this.progress));
b.setAttribute("aria-labelledby",this.labelNode.id);b.setAttribute("aria-valuemin",0);b.setAttribute("aria-valuemax",this.maximum);this.labelNode.innerHTML=this.report(c);h.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);h.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());a.style.width=100*c+"%";this.onChange()},_setValueAttr:function(a){this._set("value",a);Infinity==a?this.update({indeterminate:!0}):this.update({indeterminate:!1,
progress:a})},_setLabelAttr:function(a){this._set("label",a);this.update()},_setIndeterminateAttr:function(a){this._set("indeterminate",a);this.update()},report:function(c){return this.label?this.label:this.indeterminate?"\x26#160;":a.format(c,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){l=l("dijit.TooltipDialog",[m,n,b,d],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:p,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(c(this.domNode,"keydown",a.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];k.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems();
e.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(a){if(a.keyCode==
f.ESCAPE)this.defer("onCancel"),a.stopPropagation(),a.preventDefault();else if(a.keyCode==f.TAB){var b=a.target;this._getFocusItems();this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(e.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b!=this._lastFocusItem||a.shiftKey?a.stopPropagation():(e.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}}});h("dojo-bidi")&&l.extend({_setTitleAttr:function(a){this.containerNode.title=
this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,a):a;this._set("title",a)},_setTextDirAttr:function(a){this._created&&this.textDir==a||(this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title)))}});return l})},"dijit/PopupMenuItem":function(){define("dojo/_base/declare dojo/dom-style dojo/_base/lang dojo/query ./popup ./registry ./MenuItem ./hccss".split(" "),function(l,k,h,f,a,c,e){return l("dijit.PopupMenuItem",
e,{baseClass:"dijitMenuItem dijitPopupMenuItem",_fillContent:function(){if(this.srcNodeRef){var a=f("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},_openPopup:function(c,d){var b=this.popup;a.open(h.delegate(c,{popup:this.popup,around:this.domNode}));d&&b.focus&&b.focus()},_closePopup:function(){a.close(this.popup);this.popup.parentMenu=null},startup:function(){if(!this._started){this.inherited(arguments);if(!this.popup){var a=f("[widgetId]",this.dropDownContainer)[0];
this.popup=c.byNode(a)}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id);this.popup.startup();this.popup.domNode.style.display="none";this.arrowWrapper&&k.set(this.arrowWrapper,"visibility","");this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(a){this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(a),delete this.popup);this.inherited(arguments)}})})},"dijit/CheckedMenuItem":function(){define(["dojo/_base/declare",
"dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(l,k,h,f){return l("dijit.CheckedMenuItem",h,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:f,checked:!1,_setCheckedAttr:function(a){this.domNode.setAttribute("aria-checked",a?"true":"false");this._set("checked",a)},iconClass:"",role:"menuitemcheckbox",checkedChar:"\x26#10003;",onChange:function(){},_onClick:function(a){this.disabled||(this.set("checked",!this.checked),this.onChange(this.checked));
this.onClick(a)}})})},"dojox/widget/Loader":function(){define(["dojo","dijit","dojox","dojo/require!dijit/_Widget,dijit/_Templated"],function(l,k,h){l.provide("dojox.widget.Loader");l.deprecated("dojox.widget.Loader","","2.0");l.require("dijit._Widget");l.require("dijit._Templated");l.declare("dojox.widget.Loader",[k._Widget,k._Templated],{loadIcon:l.moduleUrl("dojox.widget.Loader","icons/loading.gif"),loadMessage:"Loading ...",hasVisuals:!0,attachToPointer:!0,duration:125,_offset:16,_pointerConnect:null,
_xhrStart:null,_xhrEnd:null,templateString:'\x3cdiv dojoAttachPoint\x3d"loadNode" class\x3d"dojoxLoader"\x3e\x3cimg src\x3d"${loadIcon}" class\x3d"dojoxLoaderIcon"\x3e \x3cspan dojoAttachPoint\x3d"loadMessageNode" class\x3d"dojoxLoaderMessage"\x3e\x3c/span\x3e\x3c/div\x3e',postCreate:function(){this.hasVisuals?(this.attachToPointer&&(l.removeClass(this.loadNode,"dojoxLoader"),l.addClass(this.loadNode,"dojoxLoaderPointer")),this._hide()):this.loadNode.style.display="none";this._setMessage(this.loadMessage);
this._xhrStart=this.connect(l,"_ioSetArgs","_show");this._xhrEnd=this.connect(l.Deferred.prototype,"_fire","_hide")},_setMessage:function(f){this.loadMessageNode.innerHTML=f},_putLoader:function(f){k.placeOnScreen(this.loadNode,{x:f.clientX+this._offset,y:f.clientY+this._offset},["TL","BR"])},_show:function(){l.publish("Loader",[{message:"started"}]);this.hasVisuals&&(this.attachToPointer&&(this._pointerConnect=this.connect(document,"onmousemove","_putLoader")),l.style(this.loadNode,{opacity:0,display:""}),
l.fadeIn({node:this.loadNode,duration:this.duration}).play())},_hide:function(){l.publish("Loader",[{message:"ended"}]);this.hasVisuals&&(this.attachToPointer&&this.disconnect(this._pointerConnect),l.fadeOut({node:this.loadNode,duration:this.duration,onEnd:l.partial(l.style,this.loadNode,"display","none")}).play())}})})},"dojox/main":function(){define(["dojo/_base/kernel"],function(l){return l.dojox})},"dojo/require":function(){define(["./_base/loader"],function(l){return{dynamic:0,normalize:function(k){return k},
load:l.require}})},"dijit/_Templated":function(){define("./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/kernel".split(" "),function(l,k,h,f,a,c,e){c.extend(l,{waiRole:"",waiState:""});return a("dijit._Templated",[k,h],{widgetsInTemplate:!1,constructor:function(){e.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")},_processNode:function(a,
c){var b=this.inherited(arguments),e=c(a,"waiRole");e&&a.setAttribute("role",e);(e=c(a,"waiState"))&&f.forEach(e.split(/\s*,\s*/),function(b){-1!=b.indexOf("-")&&(b=b.split("-"),a.setAttribute("aria-"+b[0],b[1]))});return b}})})},"dojox/widget/Toaster":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/connect dojo/_base/fx dojo/dom-style dojo/dom-class dojo/dom-geometry dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/BackgroundIframe dojo/fx dojo/has dojo/_base/window velocity/velocity dojo/window".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){k.getObject("dojox.widget",!0);var w=function(a){return a.substring(0,1).toUpperCase()+a.substring(1)};return l("dojox.widget.Toaster",[d,b],{templateString:'\x3cdiv class\x3d"dijitToasterClip" dojoAttachPoint\x3d"clipNode"\x3e\x3cdiv class\x3d"dijitToasterContainer" dojoAttachPoint\x3d"containerNode" dojoAttachEvent\x3d"onclick:onSelect"\x3e\x3cdiv class\x3d"dijitToasterContent" dojoAttachPoint\x3d"contentNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',messageTopic:"",
messageTypes:{MESSAGE:"message",WARNING:"warning",ERROR:"error",FATAL:"fatal"},defaultType:"message",positionDirection:"tr-down",positionDirectionTypes:"br-up br-left bl-up bl-right tr-down tr-left tl-down tl-right".split(" "),duration:2E3,slideDuration:500,separator:"\x3chr\x3e\x3c/hr\x3e",postCreate:function(){this.inherited(arguments);this.hide();r.body().appendChild(this.domNode);this.messageTopic&&h.subscribe(this.messageTopic,this,"_handleMessage")},_handleMessage:function(a){k.isString(a)?
this.setContent(a):this.setContent(a.message,a.type,a.duration)},setContent:function(b,d,f){f=f||this.duration;for(var h in this.messageTypes)c.remove(this.containerNode,"dijitToaster"+w(this.messageTypes[h]));a.set(this.containerNode,"opacity",1);this._setContent(b);c.add(this.containerNode,"dijitToaster"+w(d||this.defaultType));this.show();e.getMarginBox(this.containerNode);this._cancelHideTimer();this.isVisible?(this._placeClip(),this._stickyMessage||this._setHideTimer(f)):(t(this.domNode,"stop"),
t(this.domNode,{opacity:[1,[.7,0,.175,1],0],bottom:["24px",[.7,0,.175,1.1],"10px"],translateZ:[0,[.7,0,.175,1],-1]},{duration:225,display:"block",complete:function(){k.hitch(this,function(){this.isVisible=!0})}}),t(this.domNode,{opacity:[0,[.7,0,.175,-.5],1],bottom:["-5px",[.7,0,.175,-.1],"-10px"],translateZ:[-1,[.7,0,.175,-.1],0]},{duration:125,delay:2500,display:"none",complete:function(){k.hitch(this,function(){this.isVisible=!1;this.hide()})}}))},_setContent:function(a){k.isFunction(a)?a(this):
(a&&this.isVisible&&(a=this.contentNode.innerHTML+this.separator+a),this.contentNode.innerHTML=a)},_cancelHideTimer:function(){this._hideTimer&&(clearTimeout(this._hideTimer),this._hideTimer=null)},_setHideTimer:function(a){this._cancelHideTimer();0<a?(this._cancelHideTimer(),this._hideTimer=setTimeout(k.hitch(this,function(a){this.bgIframe&&this.bgIframe.iframe&&(this.bgIframe.iframe.style.display="none");this._hideTimer=null;this._stickyMessage=!1;this.fadeAnim.play()}),a)):this._stickyMessage=
!0},_placeClip:function(){var a=u.getBox(),b=e.getMarginBox(this.containerNode),c=this.clipNode.style;c.height=b.h+"px";c.width=b.w+"px";var d=this.positionDirection;d.match(/^t/)?c.top=a.t+"px":d.match(/^b/)&&(c.top=a.h-b.h-2+a.t+"px");d.match(/^[tb]r-/)?c.left=a.w-b.w-1-a.l+"px":d.match(/^[tb]l-/)?c.left="0px":d.match(/^[tb]c-/)&&(c.left=Math.round((a.w-b.w-1-a.l)/2)+"px");c.clip="rect(0px, "+b.w+"px, "+b.h+"px, 0px)";q("ie")&&(this.bgIframe||(this.clipNode.id||(this.clipNode.id=m.getUniqueId("dojox_widget_Toaster_clipNode")),
this.bgIframe=new n(this.clipNode)),a=this.bgIframe.iframe)&&(a.style.display="block")},onSelect:function(a){},show:function(){a.set(this.domNode,"display","block");this._placeClip();this._scrollConnected||(this._scrollConnected=h.connect(u,"onscroll",this,this._placeClip))},hide:function(){a.set(this.domNode,"display","none");this._scrollConnected&&(h.disconnect(this._scrollConnected),this._scrollConnected=!1);a.set(this.containerNode,"opacity",1)}})})},"velocity/velocity":function(){(function(l){function k(a){var c=
a.length,d=h.type(a);return"function"===d||h.isWindow(a)?!1:1===a.nodeType&&c?!0:"array"===d||0===c||"number"===typeof c&&0<c&&c-1 in a}if(!l.jQuery){var h=function(a,c){return new h.fn.init(a,c)};h.isWindow=function(a){return null!=a&&a==a.window};h.type=function(b){return null==b?b+"":"object"===typeof b||"function"===typeof b?a[e.call(b)]||"object":typeof b};h.isArray=Array.isArray||function(a){return"array"===h.type(a)};h.isPlainObject=function(a){var d;if(!a||"object"!==h.type(a)||a.nodeType||
h.isWindow(a))return!1;try{if(a.constructor&&!c.call(a,"constructor")&&!c.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(d in a);return void 0===d||c.call(a,d)};h.each=function(a,c,d){var e,f=0,h=a.length;e=k(a);if(d)if(e)for(;f<h&&(e=c.apply(a[f],d),!1!==e);f++);else for(f in a){if(e=c.apply(a[f],d),!1===e)break}else if(e)for(;f<h&&(e=c.call(a[f],f,a[f]),!1!==e);f++);else for(f in a)if(e=c.call(a[f],f,a[f]),!1===e)break;return a};h.data=function(a,c,d){if(void 0===d){d=
(a=a[h.expando])&&f[a];if(void 0===c)return d;if(d&&c in d)return d[c]}else if(void 0!==c)return a=a[h.expando]||(a[h.expando]=++h.uuid),f[a]=f[a]||{},f[a][c]=d};h.removeData=function(a,c){var d=a[h.expando],e=d&&f[d];e&&h.each(c,function(a,b){delete e[b]})};h.extend=function(){var a,c,d,e,f,m=arguments[0]||{},k=1,l=arguments.length,v=!1;"boolean"===typeof m&&(v=m,m=arguments[k]||{},k++);"object"!==typeof m&&"function"!==h.type(m)&&(m={});k===l&&(m=this,k--);for(;k<l;k++)if(null!=(f=arguments[k]))for(e in f)a=
m[e],d=f[e],m!==d&&(v&&d&&(h.isPlainObject(d)||(c=h.isArray(d)))?(c?(c=!1,a=a&&h.isArray(a)?a:[]):a=a&&h.isPlainObject(a)?a:{},m[e]=h.extend(v,a,d)):void 0!==d&&(m[e]=d));return m};h.queue=function(a,c,d){function e(a,b){var c=b||[];if(null!=a)if(k(Object(a))){for(var d="string"===typeof a?[a]:a,f=+d.length,h=0,m=c.length;h<f;)c[m++]=d[h++];if(f!==f)for(;void 0!==d[h];)c[m++]=d[h++];c.length=m}else[].push.call(c,a);return c}if(a){c=(c||"fx")+"queue";var f=h.data(a,c);if(!d)return f||[];!f||h.isArray(d)?
f=h.data(a,c,e(d)):f.push(d);return f}};h.dequeue=function(a,c){h.each(a.nodeType?[a]:a,function(a,b){c=c||"fx";var d=h.queue(b,c),e=d.shift();"inprogress"===e&&(e=d.shift());e&&("fx"===c&&d.unshift("inprogress"),e.call(b,function(){h.dequeue(b,c)}))})};h.fn=h.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw Error("Not a DOM node.");},offset:function(){var a=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:a.top+(l.pageYOffset||document.scrollTop||
0)-(document.clientTop||0),left:a.left+(l.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(){for(var b=this.offsetParent||document;b&&"html"===!b.nodeType.toLowerCase&&"static"===b.style.position;)b=b.offsetParent;return b||document}var c=this[0],a=a.apply(c),d=this.offset(),e=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:h(a).offset();d.top-=parseFloat(c.style.marginTop)||0;d.left-=parseFloat(c.style.marginLeft)||0;a.style&&(e.top+=parseFloat(a.style.borderTopWidth)||
0,e.left+=parseFloat(a.style.borderLeftWidth)||0);return{top:d.top-e.top,left:d.left-e.left}}};var f={};h.expando="velocity"+(new Date).getTime();h.uuid=0;for(var a={},c=a.hasOwnProperty,e=a.toString,m="Boolean Number String Function Array Date RegExp Object Error".split(" "),d=0;d<m.length;d++)a["[object "+m[d]+"]"]=m[d].toLowerCase();h.fn.init.prototype=h.fn;l.Velocity={Utilities:h}}})(window);(function(l){"object"===typeof module&&"object"===typeof module.exports?module.exports=l():"function"===
typeof define&&define.amd?define(l):l()})(function(){return function(l,k,h,f){function a(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function c(a){t.isWrapped(a)?a=[].slice.call(a):t.isNode(a)&&(a=[a]);return a}function e(a){a=u.data(a,"velocity");return null===a?f:a}function m(a){return function(b){return 1/a*Math.round(b*a)}}function d(a,b,c,d){function e(a,b,c){return(((1-3*c+3*b)*a+(3*c-6*b))*a+3*b)*a}var f="Float32Array"in k;if(4!==arguments.length)return!1;for(var h=
0;4>h;++h)if("number"!==typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;a=Math.min(a,1);c=Math.min(c,1);a=Math.max(a,0);c=Math.max(c,0);var m=f?new Float32Array(11):Array(11),l=!1,f=function(f){if(!l&&(l=!0,a!=b||c!=d))for(var h=0;11>h;++h)m[h]=e(.1*h,a,c);if(a===b&&c===d)return f;if(0===f)return 0;if(1===f)return 1;for(var k=0,h=1;10!=h&&m[h]<=f;++h)k+=.1;--h;var h=k+(f-m[h])/(m[h+1]-m[h])*.1,n=3*(1-3*c+3*a)*h*h+2*(3*c-6*a)*h+3*a;if(.001<=n){for(k=0;4>k;++k){n=3*(1-3*c+
3*a)*h*h+2*(3*c-6*a)*h+3*a;if(0===n)break;var p=e(h,a,c)-f,h=h-p/n}f=h}else if(0==n)f=h;else{var h=k,k=k+.1,q=0;do p=h+(k-h)/2,n=e(p,a,c)-f,0<n?k=p:h=p;while(1E-7<Math.abs(n)&&10>++q);f=p}return e(f,b,d)};f.getControlPoints=function(){return[{x:a,y:b},{x:c,y:d}]};var n="generateBezier("+[a,b,c,d]+")";f.toString=function(){return n};return f}function b(a,b){var c=a;t.isString(a)?v.Easings[a]||(c=!1):c=t.isArray(a)&&1===a.length?m.apply(null,a):t.isArray(a)&&2===a.length?y.apply(null,a.concat([b])):
t.isArray(a)&&4===a.length?d.apply(null,a):!1;!1===c&&(c=v.Easings[v.defaults.easing]?v.defaults.easing:"swing");return c}function n(a){if(a){a=(new Date).getTime();for(var b=0,c=v.State.calls.length;b<c;b++)if(v.State.calls[b]){var d=v.State.calls[b],h=d[0],m=d[2],k=d[3],l=!!k;k||(k=v.State.calls[b][3]=a-16);for(var q=Math.min((a-k)/m.duration,1),r=0,w=h.length;r<w;r++){var y=h[r],A=y.element;if(e(A)){var H=!1;m.display!==f&&null!==m.display&&"none"!==m.display&&("flex"===m.display&&u.each(["-webkit-box",
"-moz-box","-ms-flexbox","-webkit-flex"],function(a,b){x.setPropertyValue(A,"display",b)}),x.setPropertyValue(A,"display",m.display));m.visibility!==f&&"hidden"!==m.visibility&&x.setPropertyValue(A,"visibility",m.visibility);for(var X in y)if("element"!==X){var R=y[X],N;N=t.isString(R.easing)?v.Easings[R.easing]:R.easing;if(1===q)N=R.endValue;else if(N=R.startValue+(R.endValue-R.startValue)*N(q),!l&&N===R.currentValue)continue;R.currentValue=N;if(x.Hooks.registered[X]){var Q=x.Hooks.getRoot(X),S=
e(A).rootPropertyValueCache[Q];S&&(R.rootPropertyValue=S)}R=x.setPropertyValue(A,X,R.currentValue+(0===parseFloat(N)?"":R.unitType),R.rootPropertyValue,R.scrollData);x.Hooks.registered[X]&&(x.Normalizations.registered[Q]?e(A).rootPropertyValueCache[Q]=x.Normalizations.registered[Q]("extract",null,R[1]):e(A).rootPropertyValueCache[Q]=R[1]);"transform"===R[0]&&(H=!0)}m.mobileHA&&e(A).transformCache.translate3d===f&&(e(A).transformCache.translate3d="(0px, 0px, 0px)",H=!0);H&&x.flushTransformCache(A)}}m.display!==
f&&"none"!==m.display&&(v.State.calls[b][2].display=!1);m.visibility!==f&&"hidden"!==m.visibility&&(v.State.calls[b][2].visibility=!1);m.progress&&m.progress.call(d[1],d[1],q,Math.max(0,k+m.duration-a),k);1===q&&p(b)}}v.State.isTicking&&z(n)}function p(a,b){if(!v.State.calls[a])return!1;for(var c=v.State.calls[a][0],d=v.State.calls[a][1],h=v.State.calls[a][2],m=v.State.calls[a][4],k=!1,l=0,n=c.length;l<n;l++){var p=c[l].element;b||h.loop||("none"===h.display&&x.setPropertyValue(p,"display",h.display),
"hidden"===h.visibility&&x.setPropertyValue(p,"visibility",h.visibility));if(!0!==h.loop&&(u.queue(p)[1]===f||!/\.velocityQueueEntryFlag/i.test(u.queue(p)[1]))&&e(p)){e(p).isAnimating=!1;e(p).rootPropertyValueCache={};var q=!1;u.each(x.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,d=e(p).transformCache[b];e(p).transformCache[b]!==f&&(new RegExp("^\\("+c+"[^.]")).test(d)&&(q=!0,delete e(p).transformCache[b])});h.mobileHA&&(q=!0,delete e(p).transformCache.translate3d);q&&x.flushTransformCache(p);
x.Values.removeClass(p,"velocity-animating")}if(!b&&h.complete&&!h.loop&&l===n-1)try{h.complete.call(d,d)}catch(r){setTimeout(function(){throw r;},1)}m&&!0!==h.loop&&m(d);!0!==h.loop||b||(u.each(e(p).tweensContainer,function(a,b){/^rotate/.test(a)&&360===parseFloat(b.endValue)&&(b.endValue=0,b.startValue=360)}),v(p,"reverse",{loop:!0,delay:h.delay}));!1!==h.queue&&u.dequeue(p,h.queue)}v.State.calls[a]=!1;c=0;for(d=v.State.calls.length;c<d;c++)if(!1!==v.State.calls[c]){k=!0;break}!1===k&&(v.State.isTicking=
!1,delete v.State.calls,v.State.calls=[])}var q=function(){if(h.documentMode)return h.documentMode;for(var a=7;4<a;a--){var b=h.createElement("div");b.innerHTML="\x3c!--[if IE "+a+"]\x3e\x3cspan\x3e\x3c/span\x3e\x3c![endif]--\x3e";if(b.getElementsByTagName("span").length)return a}return f}(),r=function(){var a=0;return k.webkitRequestAnimationFrame||k.mozRequestAnimationFrame||function(b){var c=(new Date).getTime(),d;d=Math.max(0,16-(c-a));a=c+d;return setTimeout(function(){b(c+d)},d)}}(),t={isString:function(a){return"string"===
typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"===typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==f&&(0===a.length||"object"===typeof a[0]&&0<a[0].nodeType)},isWrapped:function(a){return a&&(a.jquery||k.Zepto&&k.Zepto.zepto.isZ(a))},
isSVG:function(a){return k.SVGElement&&a instanceof k.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},u,w=!1;l.fn&&l.fn.jquery?(u=l,w=!0):u=k.Velocity.Utilities;if(8>=q&&!w)throw Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=q)jQuery.fn.velocity=jQuery.fn.animate;else{var v={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),
isChrome:k.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:h.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:u,Redirects:{},Easings:{},Promise:k.Promise,defaults:{queue:"",duration:400,easing:"swing",begin:f,complete:f,progress:f,display:f,visibility:f,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){u.data(a,"velocity",{isSVG:t.isSVG(a),isAnimating:!1,computedStyle:null,
tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:1,patch:0},debug:!1};k.pageYOffset!==f?(v.State.scrollAnchor=k,v.State.scrollPropertyLeft="pageXOffset",v.State.scrollPropertyTop="pageYOffset"):(v.State.scrollAnchor=h.documentElement||h.body.parentNode||h.body,v.State.scrollPropertyLeft="scrollLeft",v.State.scrollPropertyTop="scrollTop");var y=function(){function a(b,c,d){var e=b.v+d.dv*c;return{dx:e,dv:-b.tension*(b.x+d.dx*c)-b.friction*
e}}function b(c,d){var e={dx:c.v,dv:-c.tension*c.x-c.friction*c.v},f=a(c,.5*d,e),h=a(c,.5*d,f),m=a(c,d,h),k=1/6*(e.dv+2*(f.dv+h.dv)+m.dv);c.x+=1/6*(e.dx+2*(f.dx+h.dx)+m.dx)*d;c.v+=k*d;return c}return function F(a,c,d){var e={x:-1,v:0,tension:null,friction:null},f=[0],h=0,m,k;a=parseFloat(a)||500;c=parseFloat(c)||20;d=d||null;e.tension=a;e.friction=c;(m=null!==d)?(h=F(a,c),a=h/d*.016):a=.016;for(;k=b(k||e,a),f.push(1+k.x),h+=16,1E-4<Math.abs(k.x)&&1E-4<Math.abs(k.v););return m?function(a){return f[a*
(f.length-1)|0]}:h}}();v.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}};u.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],
["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,
.15,.86]]],function(a,b){v.Easings[b[0]]=d.apply(null,b[1])});var x=v.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/ig},Lists:{colors:"fill stroke stopColor color backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor outlineColor".split(" "),transformsBase:"translateX translateY scale scaleX scaleY skewX skewY rotateZ".split(" "),
transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<x.Lists.colors.length;a++)x.Hooks.templates[x.Lists.colors[a]]=["Red Green Blue Alpha",
"color"===x.Lists.colors[a]?"0 0 0 1":"255 255 255 1"];var b,c,d;if(q)for(b in x.Hooks.templates)c=x.Hooks.templates[b],d=c[0].split(" "),c=c[1].match(x.RegEx.valueSplit),"Color"===d[0]&&(d.push(d.shift()),c.push(c.shift()),x.Hooks.templates[b]=[d.join(" "),c.join(" ")]);for(b in x.Hooks.templates)for(a in c=x.Hooks.templates[b],d=c[0].split(" "),d)x.Hooks.registered[b+d[a]]=[b,a]},getRoot:function(a){var b=x.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){x.RegEx.valueUnwrap.test(b)&&
(b=b.match(x.RegEx.valueUnwrap)[1]);x.Values.isCSSNullValue(b)&&(b=x.Hooks.templates[a][1]);return b},extractValue:function(a,b){var c=x.Hooks.registered[a];if(c){var d=c[1];b=x.Hooks.cleanRootPropertyValue(c[0],b);return b.toString().match(x.RegEx.valueSplit)[d]}return b},injectValue:function(a,b,c){var d=x.Hooks.registered[a];return d?(a=d[1],c=x.Hooks.cleanRootPropertyValue(d[0],c),c=c.toString().match(x.RegEx.valueSplit),c[a]=b,c.join(" ")):c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case "name":return"clip";
case "extract":return a=x.RegEx.wrappedValueAlreadyExtracted.test(c)?c:(a=c.toString().match(x.RegEx.valueUnwrap))?a[1].replace(/,(\s+)?/g," "):c,a;case "inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case "name":return"-webkit-filter";case "extract":return a=parseFloat(c),a||0===a||(a=(c=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i))?c[1]:0),a;case "inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(a,b,c){if(8>=q)switch(a){case "name":return"filter";case "extract":return c=
(a=c.toString().match(/alpha\(opacity=(.*)\)/i))?a[1]/100:1;case "inject":return b.style.zoom=1,1<=parseFloat(c)?"":"alpha(opacity\x3d"+parseInt(100*parseFloat(c),10)+")"}else switch(a){case "name":return"opacity";case "extract":return c;case "inject":return c}}},register:function(){9>=q||v.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var a=0;a<x.Lists.transformsBase.length;a++)(function(){var b=x.Lists.transformsBase[a];x.Normalizations.registered[b]=
function(a,c,d){switch(a){case "name":return"transform";case "extract":return e(c)===f||e(c).transformCache[b]===f?/^scale/i.test(b)?1:0:e(c).transformCache[b].replace(/[()]/g,"");case "inject":a=!1;switch(b.substr(0,b.length-1)){case "translate":a=!/(%|px|em|rem|vw|vh|\d)$/i.test(d);break;case "scal":case "scale":v.State.isAndroid&&e(c).transformCache[b]===f&&1>d&&(d=1);a=!/(\d)$/i.test(d);break;case "skew":a=!/(deg|\d)$/i.test(d);break;case "rotate":a=!/(deg|\d)$/i.test(d)}a||(e(c).transformCache[b]=
"("+d+")");return e(c).transformCache[b]}}})();for(a=0;a<x.Lists.colors.length;a++)(function(){var b=x.Lists.colors[a];x.Normalizations.registered[b]=function(a,c,d){switch(a){case "name":return b;case "extract":if(!x.RegEx.wrappedValueAlreadyExtracted.test(d)){var e;a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(d)?e=a[d]!==f?a[d]:a.black:x.RegEx.isHex.test(d)?e="rgb("+x.Values.hexToRgb(d).join(" ")+
")":/^rgba?\(/i.test(d)||(e=a.black);d=(e||d).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}8>=q||3!==d.split(" ").length||(d+=" 1");return d;case "inject":return 8>=q?4===d.split(" ").length&&(d=d.split(/\s+/).slice(0,3).join(" ")):3===d.split(" ").length&&(d+=" 1"),(8>=q?"rgb":"rgba")+"("+d.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}})()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";
if(q||v.State.isAndroid&&!v.State.isChrome)b+="|transform";return(new RegExp("^("+b+")$","i")).test(a)},prefixCheck:function(a){if(v.State.prefixMatches[a])return[v.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;c<d;c++){var e;e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()});if(t.isString(v.State.prefixElement.style[e]))return v.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,
function(a,b,c,d){return b+b+c+c+d+d});return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){a=a&&a.tagName.toString().toLowerCase();
return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(a)?"inline":/^(li)$/i.test(a)?"list-item":/^(tr)$/i.test(a)?"table-row":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)",
"gi")," ")}},getPropertyValue:function(a,b,c,d){function h(a,b){var c=0;if(8>=q)c=u.css(a,b);else{var m=function(){l&&x.setPropertyValue(a,"display","none")},l=!1;/^(width|height)$/.test(b)&&0===x.getPropertyValue(a,"display")&&(l=!0,x.setPropertyValue(a,"display",x.Values.getDisplayType(a)));if(!d){if("height"===b&&"border-box"!==x.getPropertyValue(a,"boxSizing").toString().toLowerCase())return c=a.offsetHeight-(parseFloat(x.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(a,
"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(a,"paddingBottom"))||0),m(),c;if("width"===b&&"border-box"!==x.getPropertyValue(a,"boxSizing").toString().toLowerCase())return c=a.offsetWidth-(parseFloat(x.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(a,"paddingRight"))||0),m(),c}c=e(a)===f?k.getComputedStyle(a,
null):e(a).computedStyle?e(a).computedStyle:e(a).computedStyle=k.getComputedStyle(a,null);(q||v.State.isFirefox)&&"borderColor"===b&&(b="borderTopColor");c=9===q&&"filter"===b?c.getPropertyValue(b):c[b];if(""===c||null===c)c=a.style[b];m()}"auto"===c&&/^(top|right|bottom|left)$/i.test(b)&&(m=h(a,"position"),"fixed"===m||"absolute"===m&&/top|left/i.test(b))&&(c=u(a).position()[b]+"px");return c}var m;if(x.Hooks.registered[b]){var l=x.Hooks.getRoot(b);c===f&&(c=x.getPropertyValue(a,x.Names.prefixCheck(l)[0]));
x.Normalizations.registered[l]&&(c=x.Normalizations.registered[l]("extract",a,c));m=x.Hooks.extractValue(b,c)}else x.Normalizations.registered[b]&&(c=x.Normalizations.registered[b]("name",a),"transform"!==c&&(l=h(a,x.Names.prefixCheck(c)[0]),x.Values.isCSSNullValue(l)&&x.Hooks.templates[b]&&(l=x.Hooks.templates[b][1])),m=x.Normalizations.registered[b]("extract",a,l));/^[\d-]/.test(m)||(m=e(a)&&e(a).isSVG&&x.Names.SVGAttribute(b)?/^(height|width)$/i.test(b)?a.getBBox()[b]:a.getAttribute(b):h(a,x.Names.prefixCheck(b)[0]));
x.Values.isCSSNullValue(m)&&(m=0);return m},setPropertyValue:function(a,b,c,d,f){var h=b;if("scroll"===b)f.container?f.container["scroll"+f.direction]=c:"Left"===f.direction?k.scrollTo(c,f.alternateValue):k.scrollTo(f.alternateValue,c);else if(x.Normalizations.registered[b]&&"transform"===x.Normalizations.registered[b]("name",a))x.Normalizations.registered[b]("inject",a,c),h="transform",c=e(a).transformCache[b];else if(x.Hooks.registered[b]&&(f=b,b=x.Hooks.getRoot(b),d=d||x.getPropertyValue(a,b),
c=x.Hooks.injectValue(f,c,d)),x.Normalizations.registered[b]&&(c=x.Normalizations.registered[b]("inject",a,c),b=x.Normalizations.registered[b]("name",a)),h=x.Names.prefixCheck(b)[0],8>=q)try{a.style[h]=c}catch(m){}else e(a)&&e(a).isSVG&&x.Names.SVGAttribute(b)?a.setAttribute(b,c):a.style[h]=c;return[h,c]},flushTransformCache:function(a){var b="";if((q||v.State.isAndroid&&!v.State.isChrome)&&e(a).isSVG){var c=function(b){return parseFloat(x.getPropertyValue(a,b))},d={translate:[c("translateX"),c("translateY")],
skewX:[c("skewX")],skewY:[c("skewY")],scale:1!==c("scale")?[c("scale"),c("scale")]:[c("scaleX"),c("scaleY")],rotate:[c("rotateZ"),0,0]};u.each(e(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate");d[a]&&(b+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var f,h;u.each(e(a).transformCache,function(c){f=e(a).transformCache[c];if("transformPerspective"===c)return h=f,!0;9===q&&"rotateZ"===c&&(c="rotate");b+=c+f+" "});h&&(b="perspective"+
h+" "+b)}x.setPropertyValue(a,"transform",b)}};x.Hooks.register();x.Normalizations.register();v.hook=function(a,b,d){var h=f;a=c(a);u.each(a,function(a,c){e(c)===f&&v.init(c);if(d===f)h===f&&(h=v.CSS.getPropertyValue(c,b));else{var m=v.CSS.setPropertyValue(c,b,d);"transform"===m[0]&&v.CSS.flushTransformCache(c);h=m}});return h};var A=function(){function d(){function c(d){if(l.begin&&0===V)try{l.begin.call(z,z)}catch(r){setTimeout(function(){throw r;},1)}if("scroll"===K){var A=/^x$/i.test(l.axis)?
"Left":"Top",B=parseFloat(l.offset)||0,C,F,D;l.container?t.isWrapped(l.container)||t.isNode(l.container)?(l.container=l.container[0]||l.container,C=l.container["scroll"+A],D=C+u(m).position()[A.toLowerCase()]+B):l.container=null:(C=v.State.scrollAnchor[v.State["scrollProperty"+A]],F=v.State.scrollAnchor[v.State["scrollProperty"+("Left"===A?"Top":"Left")]],D=u(m).offset()[A.toLowerCase()]+B);p={scroll:{rootPropertyValue:!1,startValue:C,currentValue:C,endValue:D,unitType:"",easing:l.easing,scrollData:{container:l.container,
direction:A,alternateValue:F}},element:m}}else if("reverse"===K)if(e(m).tweensContainer){"none"===e(m).opts.display&&(e(m).opts.display="auto");"hidden"===e(m).opts.visibility&&(e(m).opts.visibility="visible");e(m).opts.loop=!1;e(m).opts.begin=null;e(m).opts.complete=null;y.easing||delete l.easing;y.duration||delete l.duration;l=u.extend({},e(m).opts,l);var A=u.extend(!0,{},e(m).tweensContainer),G;for(G in A)"element"!==G&&(B=A[G].startValue,A[G].startValue=A[G].currentValue=A[G].endValue,A[G].endValue=
B,t.isEmptyObject(y)||(A[G].easing=l.easing));p=A}else{u.dequeue(m,l.queue);return}else if("start"===K){var X=function(a,c){var d=f,e=f,h=f;if(t.isArray(a))if(d=a[0],!t.isArray(a[1])&&/^[\d-]/.test(a[1])||t.isFunction(a[1])||x.RegEx.isHex.test(a[1]))h=a[1];else{if(t.isString(a[1])&&!x.RegEx.isHex.test(a[1])||t.isArray(a[1]))e=c?a[1]:b(a[1],l.duration),a[2]!==f&&(h=a[2])}else d=a;c||(e=e||l.easing);t.isFunction(d)&&(d=d.call(m,V,T));t.isFunction(h)&&(h=h.call(m,V,T));return[d||0,e,h]};e(m).tweensContainer&&
!0===e(m).isAnimating&&(A=e(m).tweensContainer);u.each(w,function(a,b){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(a)){var c=X(b,!0),d=c[0],e=c[1],h=c[2];if(x.RegEx.isHex.test(d)){for(var c=["Red","Green","Blue"],d=x.Values.hexToRgb(d),h=h?x.Values.hexToRgb(h):f,m=0;m<c.length;m++){var k=[d[m]];e&&k.push(e);h!==f&&k.push(h[m]);w[a+c[m]]=k}delete w[a]}}});for(B in w){D=function(){var a=m.parentNode||h.body,b=x.getPropertyValue(m,"position"),c=x.getPropertyValue(m,"fontSize"),d=b===N.lastPosition&&
a===N.lastParent,f=c===N.lastFontSize;N.lastParent=a;N.lastPosition=b;N.lastFontSize=c;var l={};if(f&&d)l.emToPx=N.lastEmToPx,l.percentToPxWidth=N.lastPercentToPxWidth,l.percentToPxHeight=N.lastPercentToPxHeight;else{var n=e(m).isSVG?h.createElementNS("http://www.w3.org/2000/svg","rect"):h.createElement("div");v.init(n);a.appendChild(n);u.each(["overflow","overflowX","overflowY"],function(a,b){v.CSS.setPropertyValue(n,b,"hidden")});v.CSS.setPropertyValue(n,"position",b);v.CSS.setPropertyValue(n,"fontSize",
c);v.CSS.setPropertyValue(n,"boxSizing","content-box");u.each("minWidth maxWidth width minHeight maxHeight height".split(" "),function(a,b){v.CSS.setPropertyValue(n,b,"100%")});v.CSS.setPropertyValue(n,"paddingLeft","100em");l.percentToPxWidth=N.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(n,"width",null,!0))||1)/100;l.percentToPxHeight=N.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(n,"height",null,!0))||1)/100;l.emToPx=N.lastEmToPx=(parseFloat(x.getPropertyValue(n,"paddingLeft"))||
1)/100;a.removeChild(n)}null===N.remToPx&&(N.remToPx=parseFloat(x.getPropertyValue(h.body,"fontSize"))||16);null===N.vwToPx&&(N.vwToPx=parseFloat(k.innerWidth)/100,N.vhToPx=parseFloat(k.innerHeight)/100);l.remToPx=N.remToPx;l.vwToPx=N.vwToPx;l.vhToPx=N.vhToPx;return l};var H=function(a,b){var c,d;d=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){c=a;return""});c||(c=x.Values.getUnitType(a));return[d,c]};G=X(w[B]);C=G[0];F=G[1];G=G[2];var B=x.Names.camelCase(B),R=x.Hooks.getRoot(B);
d=!1;if(e(m).isSVG||!1!==x.Names.prefixCheck(R)[1]||x.Normalizations.registered[R]!==f){(l.display!==f&&null!==l.display&&"none"!==l.display||l.visibility!==f&&"hidden"!==l.visibility)&&/opacity|filter/.test(B)&&!G&&0!==C&&(G=0);l._cacheValues&&A&&A[B]?(G===f&&(G=A[B].endValue+A[B].unitType),d=e(m).rootPropertyValueCache[R]):x.Hooks.registered[B]?G===f?(d=x.getPropertyValue(m,R),G=x.getPropertyValue(m,B,d)):d=x.Hooks.templates[R][1]:G===f&&(G=x.getPropertyValue(m,B));var M,Y=!1;M=H(B,G);G=M[0];R=
M[1];M=H(B,C);C=M[0].replace(/^([+-\/*])=/,function(a,b){Y=b;return""});H=M[1];G=parseFloat(G)||0;C=parseFloat(C)||0;"%"===H&&(/^(fontSize|lineHeight)$/.test(B)?(C/=100,H="em"):/^scale/.test(B)?(C/=100,H=""):/(Red|Green|Blue)$/i.test(B)&&(C=C/100*255,H=""));if(/[\/*]/.test(Y))H=R;else if(R!==H&&0!==G)if(0===C)H=R;else{q=q||D();D=/margin|padding|left|right|width|text|word|letter/i.test(B)||/X$/.test(B)||"x"===B?"x":"y";switch(R){case "%":G*="x"===D?q.percentToPxWidth:q.percentToPxHeight;break;case "px":break;
default:G*=q[R+"ToPx"]}switch(H){case "%":G*=1/("x"===D?q.percentToPxWidth:q.percentToPxHeight);break;case "px":break;default:G*=1/q[H+"ToPx"]}}switch(Y){case "+":C=G+C;break;case "-":C=G-C;break;case "*":C*=G;break;case "/":C=G/C}p[B]={rootPropertyValue:d,startValue:G,currentValue:G,endValue:C,unitType:H,easing:F}}}p.element=m}p.element&&(x.Values.addClass(m,"velocity-animating"),Q.push(p),""===l.queue&&(e(m).tweensContainer=p,e(m).opts=l),e(m).isAnimating=!0,V===T-1?(1E4<v.State.calls.length&&(v.State.calls=
a(v.State.calls)),v.State.calls.push([Q,z,l,null,P.resolver]),!1===v.State.isTicking&&(v.State.isTicking=!0,n())):V++)}var m=this,l=u.extend({},v.defaults,y),p={},q;e(m)===f&&v.init(m);parseFloat(l.delay)&&!1!==l.queue&&u.queue(m,l.queue,function(a){v.velocityQueueEntryFlag=!0;e(m).delayTimer={setTimeout:setTimeout(a,parseFloat(l.delay)),next:a}});switch(l.duration.toString().toLowerCase()){case "fast":l.duration=200;break;case "normal":l.duration=400;break;case "slow":l.duration=600;break;default:l.duration=
parseFloat(l.duration)||1}!1!==v.mock&&(!0===v.mock?l.duration=l.delay=1:(l.duration*=parseFloat(v.mock)||1,l.delay*=parseFloat(v.mock)||1));l.easing=b(l.easing,l.duration);l.begin&&!t.isFunction(l.begin)&&(l.begin=null);l.progress&&!t.isFunction(l.progress)&&(l.progress=null);l.complete&&!t.isFunction(l.complete)&&(l.complete=null);l.display!==f&&null!==l.display&&(l.display=l.display.toString().toLowerCase(),"auto"===l.display&&(l.display=v.CSS.Values.getDisplayType(m)));l.visibility!==f&&null!==
l.visibility&&(l.visibility=l.visibility.toString().toLowerCase());l.mobileHA=l.mobileHA&&v.State.isMobile&&!v.State.isGingerbread;!1===l.queue?l.delay?setTimeout(c,l.delay):c():u.queue(m,l.queue,function(a,b){if(!0===b)return P.promise&&P.resolver(z),!0;v.velocityQueueEntryFlag=!0;c(a)});""!==l.queue&&"fx"!==l.queue||"inprogress"===u.queue(m)[0]||u.dequeue(m)}var m=arguments[0]&&(u.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||t.isString(arguments[0].properties)),l,q,r,
z,w,y;t.isWrapped(this)?(l=!1,r=0,z=this,q=this):(l=!0,r=1,z=m?arguments[0].elements:arguments[0]);if(z=c(z)){m?(w=arguments[0].properties,y=arguments[0].options):(w=arguments[r],y=arguments[r+1]);var T=z.length,V=0;if("stop"!==w&&!u.isPlainObject(y))for(y={},m=r+1;m<arguments.length;m++)t.isArray(arguments[m])||!/^(fast|normal|slow)$/i.test(arguments[m])&&!/^\d/.test(arguments[m])?t.isString(arguments[m])||t.isArray(arguments[m])?y.easing=arguments[m]:t.isFunction(arguments[m])&&(y.complete=arguments[m]):
y.duration=arguments[m];var P={promise:null,resolver:null,rejecter:null};l&&v.Promise&&(P.promise=new v.Promise(function(a,b){P.resolver=a;P.rejecter=b}));var K;switch(w){case "scroll":K="scroll";break;case "reverse":K="reverse";break;case "stop":u.each(z,function(a,b){e(b)&&e(b).delayTimer&&(clearTimeout(e(b).delayTimer.setTimeout),e(b).delayTimer.next&&e(b).delayTimer.next(),delete e(b).delayTimer)});var M=[];u.each(v.State.calls,function(a,b){b&&u.each(b[1],function(c,d){var h=t.isString(y)?y:
"";if(y!==f&&b[2].queue!==h)return!0;u.each(z,function(b,c){c===d&&(y!==f&&(u.each(u.queue(c,h),function(a,b){t.isFunction(b)&&b(null,!0)}),u.queue(c,h,[])),e(c)&&""===h&&u.each(e(c).tweensContainer,function(a,b){b.endValue=b.currentValue}),M.push(a))})})});u.each(M,function(a,b){p(b,!0)});P.promise&&P.resolver(z);return l?P.promise||null:q;default:if(u.isPlainObject(w)&&!t.isEmptyObject(w))K="start";else{if(t.isString(w)&&v.Redirects[w]){var H=u.extend({},y),X=H.duration,R=H.delay||0;!0===H.backwards&&
(z=u.extend(!0,[],z).reverse());u.each(z,function(a,b){parseFloat(H.stagger)?H.delay=R+parseFloat(H.stagger)*a:t.isFunction(H.stagger)&&(H.delay=R+H.stagger.call(b,a,T));H.drag&&(H.duration=parseFloat(X)||(/^(callout|transition)/.test(w)?1E3:400),H.duration=Math.max(H.duration*(H.backwards?1-a/T:(a+1)/T),.75*H.duration,200));v.Redirects[w].call(b,b,H||{},a,T,z,P.promise?P:f)})}else P.promise&&P.rejecter(Error("Velocity: First argument ("+w+") was not a property map, a known action, or a registered redirect. Aborting."));
return l?P.promise||null:q}}var N={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},Q=[];u.each(z,function(a,b){t.isNode(b)&&d.call(b)});H=u.extend({},v.defaults,y);H.loop=parseInt(H.loop);m=2*H.loop-1;if(H.loop)for(r=0;r<m;r++){var S={delay:H.delay,progress:H.progress};r===m-1&&(S.display=H.display,S.visibility=H.visibility,S.complete=H.complete);A(z,"reverse",S)}return l?P.promise||null:
q}},v=u.extend(A,v);v.animate=A;var z=k.requestAnimationFrame||r;v.State.isMobile||h.hidden===f||h.addEventListener("visibilitychange",function(){h.hidden?(z=function(a){return setTimeout(function(){a(!0)},16)},n()):z=k.requestAnimationFrame||r});l.Velocity=v;l!==k&&(l.fn.velocity=A,l.fn.velocity.defaults=v.defaults);u.each(["Down","Up"],function(a,b){v.Redirects["slide"+b]=function(a,c,d,e,h,m){c=u.extend({},c);var k=c.begin,l=c.complete,n={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},
p={};c.display===f&&(c.display="Down"===b?"inline"===v.CSS.Values.getDisplayType(a)?"inline-block":"block":"none");c.begin=function(){k&&k.call(h,h);for(var c in n){p[c]=a.style[c];var d=v.CSS.getPropertyValue(a,c);n[c]="Down"===b?[d,0]:[0,d]}p.overflow=a.style.overflow;a.style.overflow="hidden"};c.complete=function(){for(var b in p)a.style[b]=p[b];l&&l.call(h,h);m&&m.resolver(h)};v(a,n,c)}});u.each(["In","Out"],function(a,b){v.Redirects["fade"+b]=function(a,c,d,e,h,m){a=u.extend({},c);c={opacity:"In"===
b?1:0};var k=a.complete;a.complete=d!==e-1?a.begin=null:function(){k&&k.call(h,h);m&&m.resolver(h)};a.display===f&&(a.display="In"===b?"auto":"none");v(this,c,a)}});return v}}(window.jQuery||window.Zepto||window,window,document)})},"dojox/fx":function(){define(["./fx/_base"],function(l){return l})},"dojox/fx/_base":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/fx dojo/fx dojo/dom dojo/dom-style dojo/dom-geometry dojo/_base/connect dojo/_base/html".split(" "),function(l,k,h,f,a,c,
e,m,d){l=k.getObject("dojox.fx",!0);k.mixin(l,{anim:h.anim,animateProperty:h.animateProperty,fadeTo:h._fade,fadeIn:h.fadeIn,fadeOut:h.fadeOut,combine:f.combine,chain:f.chain,slideTo:f.slideTo,wipeIn:f.wipeIn,wipeOut:f.wipeOut});l.sizeTo=function(b){var d=b.node=a.byId(b.node),e=b.method||"chain";b.duration||(b.duration=500);"chain"==e&&(b.duration=Math.floor(b.duration/2));var m,l,t,u,w,v=null,y=function(a){return function(){var d=c.getComputedStyle(a),e=d.position,f=d.width,h=d.height;m="absolute"==
e?a.offsetTop:parseInt(d.top)||0;t="absolute"==e?a.offsetLeft:parseInt(d.left)||0;w="auto"==f?0:parseInt(f);v="auto"==h?0:parseInt(h);u=t-Math.floor((b.width-w)/2);l=m-Math.floor((b.height-v)/2);"absolute"!=e&&"relative"!=e&&(d=c.coords(a,!0),m=d.y,t=d.x,a.style.position="absolute",a.style.top=m+"px",a.style.left=t+"px")}}(d),d=h.animateProperty(k.mixin({properties:{height:function(){y();return{end:b.height||0,start:v}},top:function(){return{start:m,end:l}}}},b)),e=h.animateProperty(k.mixin({properties:{width:function(){return{start:w,
end:b.width||0}},left:function(){return{start:t,end:u}}}},b));return f["combine"==b.method?"combine":"chain"]([d,e])};l.slideBy=function(b){var d,f,l=function(a){return function(){var b=c.getComputedStyle(a),h=b.position;d="absolute"==h?a.offsetTop:parseInt(b.top)||0;f="absolute"==h?a.offsetLeft:parseInt(b.left)||0;"absolute"!=h&&"relative"!=h&&(b=e.coords(a,!0),d=b.y,f=b.x,a.style.position="absolute",a.style.top=d+"px",a.style.left=f+"px")}}(b.node=a.byId(b.node));l();b=h.animateProperty(k.mixin({properties:{top:d+
(b.top||0),left:f+(b.left||0)}},b));m.connect(b,"beforeBegin",b,l);return b};l.crossFade=function(b){var c=b.nodes[0]=a.byId(b.nodes[0]),e=d.style(c,"opacity"),m=b.nodes[1]=a.byId(b.nodes[1]);d.style(m,"opacity");return f.combine([h[0==e?"fadeIn":"fadeOut"](k.mixin({node:c},b)),h[0==e?"fadeOut":"fadeIn"](k.mixin({node:m},b))])};l.highlight=function(b){var c=b.node=a.byId(b.node);b.duration=b.duration||400;var e=b.color||"#ffff99",f=d.style(c,"backgroundColor");"rgba(0, 0, 0, 0)"==f&&(f="transparent");
b=h.animateProperty(k.mixin({properties:{backgroundColor:{start:e,end:f}}},b));"transparent"==f&&m.connect(b,"onEnd",b,function(){c.style.backgroundColor=f});return b};l.wipeTo=function(b){b.node=a.byId(b.node);var c=b.node,e=c.style,f=b.width?"width":"height",m={};m[f]={start:function(){e.overflow="hidden";if("hidden"==e.visibility||"none"==e.display)return e[f]="1px",e.display="",e.visibility="",1;var a=d.style(c,f);return Math.max(a,1)},end:b[f]};return h.animateProperty(k.mixin({properties:m},
b))};return l})},"dojox/fx/scroll":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/fx dojox/fx/_base dojox/fx/_core dojo/dom-geometry dojo/_base/sniff".split(" "),function(l,k,h,f,a,c,e){l.experimental("dojox.fx.scroll");l=k.getObject("dojox.fx",!0);f.smoothScroll=function(f){f.target||(f.target=c.position(f.node));var d=k[e("ie")?"isObject":"isFunction"](f.win.scrollTo),b=f.target.x,l=f.target.y;if(!d)var p=c.position(f.win),b=b-p.x,l=l-p.y;var q=new h.Animation(k.mixin({beforeBegin:function(){this.curve&&
delete this.curve;var c=d?dojo._docScroll():{x:f.win.scrollLeft,y:f.win.scrollTop};q.curve=new a([c.x,c.y],[c.x+b,c.y+l])},onAnimate:d?function(a){f.win.scrollTo(a[0],a[1])}:function(a){f.win.scrollLeft=a[0];f.win.scrollTop=a[1]}},f));return q};return l.smoothScroll=f.smoothScroll})},"dojox/fx/_core":function(){define(["dojo/_base/lang","dojo/_base/array","./_base"],function(l,k,h){var f=function(a,c){this.start=a;this.end=c;var e=l.isArray(a),f=e?[]:c-a;e?(k.forEach(this.start,function(a,b){f[b]=
this.end[b]-a},this),this.getValue=function(a){var b=[];k.forEach(this.start,function(c,e){b[e]=f[e]*a+c},this);return b}):this.getValue=function(a){return f*a+this.start}};return h._Line=f})},"dojox/fx/easing":function(){define(["dojo/_base/lang","dojo/_base/kernel","dojo/fx/easing"],function(l,k,h){k.deprecated("dojox.fx.easing","Upgraded to Core, use dojo.fx.easing instead","2.0");return l.getObject("dojox.fx",!0).easing=h})},"dojo/fx/easing":function(){define(["../_base/lang"],function(l){var k=
{linear:function(h){return h},quadIn:function(h){return Math.pow(h,2)},quadOut:function(h){return h*(h-2)*-1},quadInOut:function(h){h*=2;return 1>h?Math.pow(h,2)/2:-1*(--h*(h-2)-1)/2},cubicIn:function(h){return Math.pow(h,3)},cubicOut:function(h){return Math.pow(h-1,3)+1},cubicInOut:function(h){h*=2;return 1>h?Math.pow(h,3)/2:(Math.pow(h-2,3)+2)/2},quartIn:function(h){return Math.pow(h,4)},quartOut:function(h){return-1*(Math.pow(h-1,4)-1)},quartInOut:function(h){h*=2;return 1>h?Math.pow(h,4)/2:-.5*
(Math.pow(h-2,4)-2)},quintIn:function(h){return Math.pow(h,5)},quintOut:function(h){return Math.pow(h-1,5)+1},quintInOut:function(h){h*=2;return 1>h?Math.pow(h,5)/2:(Math.pow(h-2,5)+2)/2},sineIn:function(h){return-1*Math.cos(Math.PI/2*h)+1},sineOut:function(h){return Math.sin(Math.PI/2*h)},sineInOut:function(h){return-1*(Math.cos(Math.PI*h)-1)/2},expoIn:function(h){return 0==h?0:Math.pow(2,10*(h-1))},expoOut:function(h){return 1==h?1:-1*Math.pow(2,-10*h)+1},expoInOut:function(h){if(0==h)return 0;
if(1==h)return 1;h*=2;if(1>h)return Math.pow(2,10*(h-1))/2;--h;return(-1*Math.pow(2,-10*h)+2)/2},circIn:function(h){return-1*(Math.sqrt(1-Math.pow(h,2))-1)},circOut:function(h){return Math.sqrt(1-Math.pow(h-1,2))},circInOut:function(h){h*=2;return 1>h?-.5*(Math.sqrt(1-Math.pow(h,2))-1):.5*(Math.sqrt(1-Math.pow(h-2,2))+1)},backIn:function(h){return Math.pow(h,2)*(2.70158*h-1.70158)},backOut:function(h){--h;return Math.pow(h,2)*(2.70158*h+1.70158)+1},backInOut:function(h){h*=2;if(1>h)return Math.pow(h,
2)*(3.5949095*h-2.5949095)/2;h-=2;return(Math.pow(h,2)*(3.5949095*h+2.5949095)+2)/2},elasticIn:function(h){if(0==h||1==h)return h;--h;return-1*Math.pow(2,10*h)*Math.sin(2*(h-.075)*Math.PI/.3)},elasticOut:function(h){return 0==h||1==h?h:Math.pow(2,-10*h)*Math.sin(2*(h-.075)*Math.PI/.3)+1},elasticInOut:function(h){if(0==h)return 0;h*=2;if(2==h)return 1;var f=.3*1.5,a=f/4;if(1>h)return--h,-.5*Math.pow(2,10*h)*Math.sin(2*(h-a)*Math.PI/f);--h;return.5*Math.pow(2,-10*h)*Math.sin(2*(h-a)*Math.PI/f)+1},bounceIn:function(h){return 1-
k.bounceOut(1-h)},bounceOut:function(h){h<1/2.75?h=7.5625*Math.pow(h,2):h<2/2.75?h=7.5625*Math.pow(h-1.5/2.75,2)+.75:h<2.5/2.75?(h-=2.25/2.75,h=7.5625*Math.pow(h,2)+.9375):(h-=2.625/2.75,h=7.5625*Math.pow(h,2)+.984375);return h},bounceInOut:function(h){return.5>h?k.bounceIn(2*h)/2:k.bounceOut(2*h-1)/2+.5}};l.setObject("dojo.fx.easing",k);return k})},"dojox/form/Uploader":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/window dojo/dom-style dojo/dom-class dojo/dom-geometry dojo/dom-attr dojo/dom-construct dojo/dom-form dijit dijit/form/Button ./uploader/_Base ./uploader/_HTML5 ./uploader/_IFrame ./uploader/_Flash dojo/i18n!./nls/Uploader dojo/text!./resources/Uploader.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return k("dojox.form.Uploader",[t,r,u,w,v],{uploadOnSelect:!1,tabIndex:0,multiple:!1,label:y.label,url:"",name:"uploadedfile",flashFieldName:"",force:"",uploadType:"",showInput:"",focusedClass:"dijitButtonHover",_nameIndex:0,templateString:x,baseClass:"dijitUploader "+r.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.force=this.force.toLowerCase();this.supports("multiple")?this.uploadType="form"===this.force?"form":
"html5":this.uploadType="flash"===this.force?"flash":"iframe";this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);e.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();b.set(this.titleNode,"tabIndex",-1)},_buildDisplay:function(){this.showInput&&(this.displayInput=n.create("input",{"class":"dijitUploadDisplayInput",tabIndex:-1,autocomplete:"off",role:"presentation"},this.containerNode,this.showInput),this._attachPoints.push("displayInput"),this.connect(this,
"onChange",function(a){for(var b=0,c,d=[];c=a[b++];)c&&c.name&&d.push(c.name);this.displayInput.value=d.join(", ")}),this.connect(this,"reset",function(){this.displayInput.value=""}))},startup:function(){this._buildInitialized||(this._buildInitialized=!0,this._getButtonStyle(this.domNode),this._setButtonStyle(),this.inherited(arguments))},onChange:function(a){},onBegin:function(a){},onProgress:function(a){},onComplete:function(a){this.reset()},onCancel:function(){},onAbort:function(){},onError:function(a){},
upload:function(a){a=a||{};a.uploadType=this.uploadType;this.inherited(arguments)},submit:function(a){a=a?a.tagName?a:this.getForm():this.getForm();a=p.toObject(a);a.uploadType=this.uploadType;this.upload(a)},reset:function(){delete this._files;this._disconnectButton();f.forEach(this._inputs,n.destroy);this._inputs=[];this._nameIndex=0;this._createInput()},getFileList:function(){var a=[];this.supports("multiple")?f.forEach(this._files,function(b,c){a.push({index:c,name:b.name,size:b.size,type:b.type})},
this):f.forEach(this._inputs,function(b,c){b.value&&a.push({index:c,name:b.value.substring(b.value.lastIndexOf("\\")+1),size:0,type:b.value.substring(b.value.lastIndexOf(".")+1)})},this);return a},_getValueAttr:function(){return this.getFileList()},_setValueAttr:function(a){},_setDisabledAttr:function(a){this.disabled!=a&&this.inputNode&&(this.inherited(arguments),e.set(this.inputNode,"display",a?"none":""))},_getButtonStyle:function(a){this.btnSize={w:e.get(a,"width"),h:e.get(a,"height")}},_setButtonStyle:function(){this.inputNodeFontSize=
Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput()},_getFileFieldName:function(){return this.supports("multiple")&&this.multiple?this.name+"s[]":this.name+(this.multiple?this._nameIndex:"")},_createInput:function(){this._inputs.length&&(e.set(this.inputNode,{top:"500px"}),this._disconnectButton(),this._nameIndex++);var a=this._getFileFieldName();this.focusNode=this.inputNode=n.create("input",{type:"file",name:a,"aria-labelledby":this.id+"_label"},this.domNode,
"first");this.supports("multiple")&&this.multiple&&b.set(this.inputNode,"multiple",!0);this._inputs.push(this.inputNode);e.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton()},_connectButton:function(){this._cons.push(a.connect(this.inputNode,"change",this,function(a){this._files=this.inputNode.files;this.onChange(this.getFileList(a));!this.supports("multiple")&&this.multiple&&this._createInput()}));-1<this.tabIndex&&
(this.inputNode.tabIndex=this.tabIndex,this._cons.push(a.connect(this.inputNode,"focus",this,function(){m.add(this.domNode,this.focusedClass)})),this._cons.push(a.connect(this.inputNode,"blur",this,function(){m.remove(this.domNode,this.focusedClass)})))},_disconnectButton:function(){f.forEach(this._cons,a.disconnect);this._cons.splice(0,this._cons.length)}})})},"dojox/form/uploader/_Base":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/has dojo/_base/declare dojo/_base/event dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin".split(" "),
function(l,k,h,f,a,c,e,m,d,b){a.add("FormData",function(){return!!window.FormData});a.add("xhr-sendAsBinary",function(){var a=window.XMLHttpRequest&&new window.XMLHttpRequest;return a&&!!a.sendAsBinary});a.add("file-multiple",function(){return!!{"true":1,"false":1}[f.get(document.createElement("input",{type:"file"}),"multiple")]});return c("dojox.form.uploader._Base",[m,d,b],{getForm:function(){if(!this.form)for(var a=this.domNode;a&&a.tagName&&a!==document.body;){if("form"==a.tagName.toLowerCase()){this.form=
a;break}a=a.parentNode}return this.form},getUrl:function(){this.uploadUrl&&(this.url=this.uploadUrl);if(this.url)return this.url;this.getForm()&&(this.url=this.form.action);return this.url},connectForm:function(){this.url=this.getUrl();!this._fcon&&this.getForm()&&(this._fcon=!0,this.connect(this.form,"onsubmit",function(a){e.stop(a);this.submit(this.form)}))},supports:function(b){switch(b){case "multiple":if("flash"==this.force||"iframe"==this.force)break;return a("file-multiple");case "FormData":return a(b);
case "sendAsBinary":return a("xhr-sendAsBinary")}return!1},getMimeType:function(){return"application/octet-stream"},getFileType:function(a){return a.substring(a.lastIndexOf(".")+1).toUpperCase()},convertBytes:function(a){var b=Math.round(a/1024*1E5)/1E5,c=Math.round(a/1048576*1E5)/1E5,d=Math.round(a/1073741824*1E5)/1E5,e=a;1<b&&(e=b.toFixed(1)+" kb");1<c&&(e=c.toFixed(1)+" mb");1<d&&(e=d.toFixed(1)+" gb");return{kb:b,mb:c,gb:d,bytes:a,value:e}}})})},"dojox/form/uploader/_HTML5":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/_base/array","dojo"],function(l,k,h,f){return l("dojox.form.uploader._HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postMixInProperties:function(){this.inherited(arguments)},postCreate:function(){this.connectForm();this.inherited(arguments);this.uploadOnSelect&&this.connect(this,"onChange",function(a){this.upload(a[0])})},_drop:function(a){f.stopEvent(a);this._files=a.dataTransfer.files;this.onChange(this.getFileList())},upload:function(a){this.onBegin(this.getFileList());
this.uploadWithFormData(a)},addDropTarget:function(a,c){c||(this.connect(a,"dragenter",f.stopEvent),this.connect(a,"dragover",f.stopEvent),this.connect(a,"dragleave",f.stopEvent));this.connect(a,"drop","_drop")},uploadWithFormData:function(a){if(this.getUrl()){var c=new FormData,e=this._getFileFieldName();h.forEach(this._files,function(a,b){c.append(e,a)},this);if(a){a.uploadType=this.uploadType;for(var f in a)c.append(f,a[f])}this.createXhr().send(c)}},_xhrProgress:function(a){if(a.lengthComputable){var c=
{bytesLoaded:a.loaded,bytesTotal:a.total,type:a.type,timeStamp:a.timeStamp};"load"==a.type?(c.percent="100%",c.decimal=1):(c.decimal=a.loaded/a.total,c.percent=Math.ceil(a.loaded/a.total*100)+"%");this.onProgress(c)}},createXhr:function(){var a=new XMLHttpRequest,c;a.upload.addEventListener("progress",k.hitch(this,"_xhrProgress"),!1);a.addEventListener("load",k.hitch(this,"_xhrProgress"),!1);a.addEventListener("error",k.hitch(this,function(a){this.onError(a);clearInterval(c)}),!1);a.addEventListener("abort",
k.hitch(this,function(a){this.onAbort(a);clearInterval(c)}),!1);a.onreadystatechange=k.hitch(this,function(){if(4===a.readyState){clearInterval(c);try{this.onComplete(JSON.parse(a.responseText.replace(/^\{\}&&/,"")))}catch(e){this.onError("Error parsing server result:",e)}}});a.open("POST",this.getUrl());a.setRequestHeader("Accept","application/json");c=setInterval(k.hitch(this,function(){}),250);return a}})})},"dojox/form/uploader/_IFrame":function(){define("dojo/query dojo/dom-construct dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-form dojo/request/iframe".split(" "),
function(l,k,h,f,a,c,e){return h("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments);"iframe"===this.uploadType&&(this.uploadType="iframe",this.upload=this.uploadIFrame)},uploadIFrame:function(c){var d={},b;this.getForm();var f=this.getUrl(),h=this;c=c||{};c.uploadType=this.uploadType;b=k.place('\x3cform enctype\x3d"multipart/form-data" method\x3d"post"\x3e\x3c/form\x3e',this.domNode);a.forEach(this._inputs,function(a,c){""!==a.value&&(b.appendChild(a),d[a.name]=
a.value)},this);if(c)for(nm in c)void 0===d[nm]&&k.create("input",{name:nm,value:c[nm],type:"hidden"},b);e.post(f,{form:b,handleAs:"json",content:c}).then(function(a){k.destroy(b);if(a.ERROR||a.error)h.onError(a);else h.onComplete(a)},function(a){k.destroy(b);h.onError(a)})}})})},"dojox/form/uploader/_Flash":function(){define("dojo/dom-form dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/array dojox/embed/Flash".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return a("dojox.form.uploader._Flash",[],{swfPath:c.uploaderPath||require.toUrl("dojox/form/resources/uploader.swf"),preventCache:!0,skipServerCheck:!0,serverTimeout:2E3,isDebug:!1,devMode:!1,deferredUploading:0,postMixInProperties:function(){"flash"===this.uploadType&&(this._files=[],this._fileMap={},this._createInput=this._createFlashUploader,this.getFileList=this.getFlashFileList,this.reset=this.flashReset,this.upload=this.uploadFlash,this.fieldname="flashUploadFiles");
this.inherited(arguments)},onReady:function(a){},onLoad:function(a){},onFileChange:function(a){},onFileProgress:function(a){},getFlashFileList:function(){return this._files},flashReset:function(){this.flashMovie.reset();this._files=[];this._fileMap={}},uploadFlash:function(a){this.onBegin(this.getFileList());a=a||{};a.returnType="F";a.uploadType=this.uploadType;this.flashMovie.doUpload(a)},_change:function(a){this._files=this._files.concat(a);d.forEach(a,function(a){a.bytesLoaded=0;a.bytesTotal=a.size;
this._fileMap[a.name+"_"+a.size]=a},this);this.onChange(this._files);this.onFileChange(a)},_complete:function(a){this._getCustomEvent().type="load";this.onComplete(a)},_progress:function(a){this._fileMap[a.name+"_"+a.bytesTotal].bytesLoaded=a.bytesLoaded;var b=this._getCustomEvent();this.onFileProgress(a);this.onProgress(b)},_error:function(a){this.onError(a)},_onFlashBlur:function(a){},_getCustomEvent:function(){var a={bytesLoaded:0,bytesTotal:0,type:"progress",timeStamp:(new Date).getTime()},b;
for(b in this._fileMap)a.bytesTotal+=this._fileMap[b].bytesTotal,a.bytesLoaded+=this._fileMap[b].bytesLoaded;a.decimal=a.bytesLoaded/a.bytesTotal;a.percent=Math.ceil(a.bytesLoaded/a.bytesTotal*100)+"%";return a},_connectFlash:function(){this._subs=[];this._cons=[];var a=m.hitch(this,function(a,b){this._subs.push(e.subscribe(this.id+a,this,b))});a("/filesSelected","_change");a("/filesUploaded","_complete");a("/filesProgress","_progress");a("/filesError","_error");a("/filesCanceled","onCancel");a("/stageBlur",
"_onFlashBlur");this.connect(this.domNode,"focus",function(){this.flashMovie.focus();this.flashMovie.doFocus()});0<=this.tabIndex&&f.set(this.domNode,"tabIndex",this.tabIndex)},_createFlashUploader:function(){var a=this.btnSize.w,c=this.btnSize.h;if(a){var d=this.getUrl();if(d&&0>d.toLowerCase().indexOf("http")&&0!=d.indexOf("/")){var e=window.location.href.split("/");e.pop();e=e.join("/")+"/";d=e+d}this.inputNode=h.create("div",{className:"dojoxFlashNode"},this.domNode,"first");k.set(this.inputNode,
{position:"absolute",top:"-2px",width:a+"px",height:c+"px",opacity:0});a={expressInstall:!0,path:(this.swfPath.uri||this.swfPath)+(this.preventCache?"?cb_"+(new Date).getTime():""),width:a,height:c,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName||this.name+"Flash",uploadUrl:d,uploadOnSelect:this.uploadOnSelect,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.multiple,id:this.id,isDebug:this.isDebug,noReturnCheck:this.skipServerCheck,
serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};this.flashObject=new b(a,this.inputNode);this.flashObject.onError=m.hitch(function(a){});this.flashObject.onReady=m.hitch(this,function(){this.onReady(this)});this.flashObject.onLoad=m.hitch(this,function(a){this.flashMovie=a;this.flashReady=!0;this.onLoad(this)});this._connectFlash()}else setTimeout(dojo.hitch(this,function(){this._getButtonStyle(this.domNode);this._createFlashUploader()}),
200)}})})},"dojox/embed/Flash":function(){define("dojo/_base/lang dojo/_base/unload dojo/_base/array dojo/query dojo/has dojo/dom dojo/on dojo/window dojo/string".split(" "),function(l,k,h,f,a,c,e,m,d){function b(a){a=l.delegate(r,a);if(!("path"in a))return null;"id"in a||(a.id="dojox-embed-flash-"+q++);return a}var n,p,q=0,r={expressInstall:!1,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};a("ie")?(n=function(a){a=b(a);if(!a)return null;
var c,e=a.path;if(a.vars){var f=[];for(c in a.vars)f.push(encodeURIComponent(c)+"\x3d"+encodeURIComponent(a.vars[c]));a.params.FlashVars=f.join("\x26");delete a.vars}e='\x3cobject id\x3d"'+d.escape(String(a.id))+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"'+d.escape(String(a.width))+'" height\x3d"'+d.escape(String(a.height))+'"'+(a.style?' style\x3d"'+d.escape(String(a.style))+'"':"")+'\x3e\x3cparam name\x3d"movie" value\x3d"'+d.escape(String(e))+'" /\x3e';if(a.params)for(c in a.params)e+=
'\x3cparam name\x3d"'+d.escape(c)+'" value\x3d"'+d.escape(String(a.params[c]))+'" /\x3e';return{id:a.id,markup:e+"\x3c/object\x3e"}},p=function(){for(var a=10,b=null;!b&&7<a;)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a--)}catch(c){}return b?(a=b.GetVariable("$version").split(" ")[1].split(","),{major:null!=a[0]?parseInt(a[0]):0,minor:null!=a[1]?parseInt(a[1]):0,rev:null!=a[2]?parseInt(a[2]):0}):{major:0,minor:0,rev:0}}(),k.addOnWindowUnload(function(){var a=function(){};f("object").reverse().style("display",
"none").forEach(function(b){for(var c in b)if("FlashVars"!=c&&"function"==typeof b[c])try{b[c]=a}catch(d){}})})):(n=function(a){a=b(a);if(!a)return null;var c,e=a.path;if(a.vars){var f=[];for(c in a.vars)f.push(encodeURIComponent(c)+"\x3d"+encodeURIComponent(a.vars[c]));a.params.flashVars=f.join("\x26");delete a.vars}e='\x3cembed type\x3d"application/x-shockwave-flash" src\x3d"'+d.escape(String(e))+'" id\x3d"'+d.escape(String(a.id))+'" width\x3d"'+d.escape(String(a.width))+'" height\x3d"'+d.escape(String(a.height))+
'"'+(a.style?' style\x3d"'+d.escape(String(a.style))+'" ':"")+'pluginspage\x3d"'+window.location.protocol+'//www.adobe.com/go/getflashplayer" ';if(a.params)for(c in a.params)e+=" "+d.escape(c)+'\x3d"'+d.escape(String(a.params[c]))+'"';return{id:a.id,markup:e+" /\x3e"}},p=function(){var a=navigator.plugins["Shockwave Flash"];return a&&a.description?(a=a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."),{major:null!=a[0]?parseInt(a[0]):0,minor:null!=a[1]?parseInt(a[1]):
0,rev:null!=a[2]?parseInt(a[2]):0}):{major:0,minor:0,rev:0}}());var t=function(a,b){if(-1<location.href.toLowerCase().indexOf("file://"))throw Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");this.available=p.major;this.minimumVersion=a.minimumVersion||9;this.domNode=this.movie=this.id=null;b&&(b=c.byId(b));setTimeout(l.hitch(this,function(){if(a.expressInstall||this.available&&this.available>=this.minimumVersion)if(a&&
b)this.init(a,b);else this.onError("embed.Flash was not provided with the proper arguments.");else if(this.available)this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);else this.onError("Flash is not installed.")}),100)};l.extend(t,{onReady:function(a){},onLoad:function(a){},onError:function(a){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie)},init:function(a,
b){this.destroy();b=c.byId(b||this.domNode);if(!b)throw Error("dojox.embed.Flash: no domNode reference has been passed.");var d=0;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;t.initialized&&(this.id=t.place(a,b),this.domNode=b,setTimeout(l.hitch(this,function(){this.movie=this.byId(this.id,a.doc);this.onReady(this.movie);this._poller=setInterval(l.hitch(this,function(){try{d=this.movie.PercentLoaded()}catch(a){}if(100==d)this._onload();else if(0==d&&this._pollCount++>this._pollMax)throw clearInterval(this._poller),
Error("Building SWF failed.");}),this.pollTime)}),1))},_destroy:function(){try{this.domNode.removeChild(this.movie)}catch(a){}this.id=this.movie=this.domNode=null},destroy:function(){if(this.movie){var a=l.delegate({id:!0,movie:!0,domNode:!0,onReady:!0,onLoad:!0}),b;for(b in this)a[b]||delete this[b];this._poller?e(this,"Load",this,"_destroy"):this._destroy()}},byId:function(a,b){b=b||document;return b.embeds[a]?b.embeds[a]:b[a]?b[a]:window[a]?window[a]:document[a]?document[a]:null}});l.mixin(t,{minSupported:8,
available:p.major,supported:p.major>=p.required,minimumRequired:p.required,version:p,initialized:!1,onInitialize:function(){t.initialized=!0},__ie_markup__:function(a){return n(a)},proxy:function(a,b){h.forEach(b instanceof Array?b:[b],function(a){this[a]=l.hitch(this,function(){return function(){return eval(this.movie.CallFunction('\x3cinvoke name\x3d"'+a+'" returntype\x3d"javascript"\x3e\x3carguments\x3e'+h.map(arguments,function(a){return __flash__toXML(a)}).join("")+"\x3c/arguments\x3e\x3c/invoke\x3e"))}.apply(this,
arguments||[])})},a)}});t.place=function(a,b){var d=n(a);b=c.byId(b);b||(b=m.doc.createElement("div"),b.id=d.id+"-container",m.body().appendChild(b));return d?(b.innerHTML=d.markup,d.id):null};t.onInitialize();l.setObject("dojox.embed.Flash",t);return t})},"dojox/xmpp/util":function(){define(["dojo","dijit","dojox","dojo/require!dojox/string/Builder,dojox/encoding/base64"],function(l,k,h){l.provide("dojox.xmpp.util");l.require("dojox.string.Builder");l.require("dojox.encoding.base64");h.xmpp.util.xmlEncode=
function(f){f&&(f=f.replace("\x26","\x26amp;").replace("\x3e","\x26gt;").replace("\x3c","\x26lt;").replace("'","\x26apos;").replace('"',"\x26quot;"));return f};h.xmpp.util.encodeJid=function(f){for(var a=new h.string.Builder,c=0;c<f.length;c++){var e=f.charAt(c),m=e;switch(e){case " ":m="\\20";break;case '"':m="\\22";break;case "#":m="\\23";break;case "\x26":m="\\26";break;case "'":m="\\27";break;case "/":m="\\2f";break;case ":":m="\\3a";break;case "\x3c":m="\\3c";break;case "\x3e":m="\\3e"}a.append(m)}return a.toString()};
h.xmpp.util.decodeJid=function(f){return f=f.replace(/\\([23][02367acef])/g,function(a){switch(a){case "\\20":return" ";case "\\22":return'"';case "\\23":return"#";case "\\26":return"\x26";case "\\27":return"'";case "\\2f":return"/";case "\\3a":return":";case "\\3c":return"\x3c";case "\\3e":return"\x3e"}return"ARG"})};h.xmpp.util.createElement=function(f,a,c){var e=new h.string.Builder("\x3c");e.append(f+" ");for(var m in a)e.append(m+'\x3d"'),e.append(a[m]),e.append('" ');c?e.append("/\x3e"):e.append("\x3e");
return e.toString()};h.xmpp.util.stripHtml=function(f){for(var a=0;a<arguments.length;a++);return f.replace(/<[^>]*?>/gi,"")};h.xmpp.util.decodeHtmlEntities=function(f){var a=l.doc.createElement("textarea");a.innerHTML=f.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");return a.value};h.xmpp.util.htmlToPlain=function(f){f=h.xmpp.util.decodeHtmlEntities(f);f=f.replace(/<br\s*[i\/]{0,1}>/gi,"\n");return f=h.xmpp.util.stripHtml(f)};h.xmpp.util.Base64={};h.xmpp.util.Base64.encode=function(f){return h.encoding.base64.encode(function(a){for(var c=
[],e=0;e<a.length;++e)c.push(a.charCodeAt(e));return c}(f))};h.xmpp.util.Base64.decode=function(f){return function(a){var c=[];l.forEach(a,function(a){c.push(String.fromCharCode(a))});return c.join("")}(h.encoding.base64.decode(f))}})},"dojox/string/Builder":function(){define(["dojo/_base/lang"],function(l){return l.getObject("string",!0,dojox).Builder=function(k){var h="";this.length=0;this.append=function(f){if(1<arguments.length){var a="";switch(arguments.length){case 9:a=""+arguments[8]+a;case 8:a=
""+arguments[7]+a;case 7:a=""+arguments[6]+a;case 6:a=""+arguments[5]+a;case 5:a=""+arguments[4]+a;case 4:a=""+arguments[3]+a;case 3:a=""+arguments[2]+a;case 2:h+=""+arguments[0]+arguments[1]+a;break;default:for(var c=0;c<arguments.length;)a+=arguments[c++];h+=a}}else h+=f;this.length=h.length;return this};this.concat=function(f){return this.append.apply(this,arguments)};this.appendArray=function(f){return this.append.apply(this,f)};this.clear=function(){h="";this.length=0;return this};this.replace=
function(f,a){h=h.replace(f,a);this.length=h.length;return this};this.remove=function(f,a){void 0===a&&(a=h.length);if(0==a)return this;h=h.substr(0,f)+h.substr(f+a);this.length=h.length;return this};this.insert=function(f,a){h=0==f?a+h:h.slice(0,f)+a+h.slice(f);this.length=h.length;return this};this.toString=function(){return h};k&&this.append(k)}})},"dojox/encoding/base64":function(){define(["dojo/_base/lang"],function(l){l=l.getObject("dojox.encoding.base64",!0);l.encode=function(k){for(var h=
[],f=k.length,a=f%3,f=f-a,c=0;c<f;){var e=k[c++]<<16|k[c++]<<8|k[c++];h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>18&63));h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>12&63));h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>6&63));h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e&63))}switch(a){case 2:e=k[c++]<<16|k[c++]<<8;h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>
18&63));h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>12&63));h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>6&63));h.push("\x3d");break;case 1:e=k[c++]<<16,h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>18&63)),h.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>12&63)),h.push("\x3d"),h.push("\x3d")}return h.join("")};l.decode=function(k){k=k.split("");
for(var h=[],f=k.length;"\x3d"==k[--f];);for(var a=0;a<f;){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(k[a++])<<18;a<=f&&(c|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(k[a++])<<12);a<=f&&(c|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(k[a++])<<6);a<=f&&(c|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(k[a++]));h.push(c>>>16&255);h.push(c>>>8&255);h.push(c&255)}for(;0==h[h.length-
1];)h.pop();return h};return l})},"mojo/utils":function(){define("dojo/_base/lang dojo/_base/kernel dojo/query dojo/dom dojo/on dojo/_base/window dojo/_base/html dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/request dojo/request/xhr dojo/topic dojo/keys dojo/fx dojo/fx/Toggler dojo/date/locale dojo/_base/array dijit/registry dojo/dom-geometry dojo/ready dojox/xmpp/util velocity/velocity mojo/url dojox/html/entities d3/d3 mojo/user mojo/lib/flags dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L){var J={selectAll:function(a){a="string"==typeof a?document.getElementById(a):a;a.focus();a.select()},updateMergeBox:function(a,c){for(var d=k.coords(c,!0),e=document.body,f=a.parentNode;f!=e&&(!b.get(f,"position")||"static"==b.get(f,"position"));)f=f.parentNode;k.isIE||(a.style.bottom=k.coords(f).h-d.t+"px")},wipeToggle:function(a,b){require(["dojo/fx"],function(c){(a.checked?c.wipeIn({node:f.byId(b),duration:500}):c.wipeOut({node:f.byId(b),
duration:500})).play()})},toggleAccordion:function(a,b){require(["dojo/fx"],function(c){b="undefined"!==typeof b?b:500;var d=h(".accordion-switch").map(function(d){return d.id==a?c.wipeIn({node:d,duration:b}):c.wipeOut({node:d,duration:b})});if(f.byId("merges-list")){var e=f.byId("merges-list"),m=h(".merge-cheatsheet label")[0];y.forEach(d,function(a){k.connect(a,"onEnd",function(){J.updateMergeBox(e,m)})})}f.byId("accordion-active")&&(f.byId("accordion-active").value=a);c.combine(d).play()})},disclosureElement:function(a,
b,c,e,h){a=f.byId(a);var m=/show /gi,k=/hide /gi;"none"==a.style.display?(a.style.display="block","button"!==h&&(d.remove(b,"disclosure-closed"),d.add(b,"disclosure-open")),c&&(b.innerHTML=b.innerHTML.replace(m,"hide ")),"function"==typeof e&&e("open")):(a.style.display="none","button"!==h&&(d.remove(b,"disclosure-open"),d.add(b,"disclosure-closed")),c&&(b.innerHTML=b.innerHTML.replace(k,"show ")),"function"==typeof e&&e("close"))},showHelpVideo:function(a){require(["mojo/widgets/HelpDialog","dojo/_base/window"],
function(b,c){var d=dijit.byId("help-video-modal-"+a);if(!d){d=document.createElement("div");d.id="help-video-modal-"+a;var e=document.createElement("div");e.id="help-video-embed-"+a;e.style.height="427px";e.style.width="640px";d.appendChild(e);e=document.createElement("p");e.style.margin="0 0 0 0";e.style.textAlign="left";e.innerHTML='\x3ca href\x3d"http://mailchimp.com/support/online-training/" target\x3d"_blank" style\x3d"text-align:center;"\x3eWatch other helpful training videos.\x3c/a\x3e';d.appendChild(e);
c.body().appendChild(d);d=new b({title:"MailChimp Help Videos",id:"help-video-modal-"+a},d);pHtml='\x3ciframe width\x3d"640" height\x3d"427" src\x3d"https://fast.wistia.com/embed/medias/'+a+'?controlsVisibleOnLoad\x3dtrue\x26autoPlay\x3dtrue" frameborder\x3d"0"\x3e\x3c/iframe\x3e';document.getElementById("help-video-embed-"+a).innerHTML=pHtml}d.show();k.isMozilla&&-1!=navigator.userAgent.toLowerCase().indexOf("mac")&&(d._underlay.domNode.style.display="none")})},loadHelpVideo:function(a){try{isLoaded=
"undefined"==typeof brightcove?!1:!0}catch(b){isLoaded=!1}if(isLoaded){var c={id:"myExperience",bgcolor:"#FFFFFF",width:650,height:550,playerId:730557335001};c["@videoPlayer"]=a;c["@playlistTabs"]="1375780129,1375772162,1375780130,1485827977";c["@playlistTabs.featured"]=null;var d;d='\n\n\x3c!-- Start Brightcove Player --\x3e\n\x3cobject id\x3d"myExperience" class\x3d"BrightcoveExperience"\x3e'+('\n\x3cparam name\x3d"bgcolor" value\x3d"'+c.bgcolor+'" /\x3e');d+='\n\x3cparam name\x3d"width" value\x3d"'+
c.width+'" /\x3e';d+='\n\x3cparam name\x3d"height" value\x3d"'+c.height+'" /\x3e';d+='\n\x3cparam name\x3d"playerID" value\x3d"'+c.playerId+'" /\x3e';null!=c["@videoPlayer"]?d+='\n\x3cparam name\x3d"@videoPlayer" value\x3d"'+c["@videoPlayer"]+'" /\x3e':null!=c["@playlistTabs"]&&(d+='\n\x3cparam name\x3d"@playlistTabs" value\x3d"'+c["@playlistTabs"]+'" /\x3e',null!=c["@playlistTabs.featured"]&&(d+='\n\x3cparam name\x3d"@playlistTabs.featured" value\x3d"'+c["@playlistTabs.featured"]+'" /\x3e'),null!=
c["@videoList.featured"]&&(d+='\n\x3cparam name\x3d"@videoList.featured" value\x3d"'+c["@videoList.featured"]+'" /\x3e'));d+='\n\x3cparam name\x3d"isVid" value\x3d"true" /\x3e';d+='\n\x3cparam name\x3d"isUI" value\x3d"true" /\x3e';d+="\n\x3c/object\x3e";d+="\n\x3c!-- End Brightcove Player --\x3e\n\n";document.getElementById("help-video-embed-"+a).innerHTML=d;for(c=0;void 0==brightcove&&!(c++,1E4<c););brightcove.createExperiences("0","myExperience")}else c=document.getElementsByTagName("head")[0],
d=document.createElement("script"),d.type="text/javascript",d.src="http://admin.brightcove.com/js/BrightcoveExperiences.js",c.appendChild(d),setTimeout(function(){loadHelpVideo(a)},500)},onVisibility:function(b,c){var d=!1,e=window.innerHeight;a(window,"resize",function(){e=window.innerHeight});A.position(b).y<=e?d||(d=!0,"function"===typeof c&&c()):a(f.byId("wrap"),"scroll",function(){A.position(b).y<=e&&!d&&(d=!0,"function"===typeof c&&c())})},creditCardField:function(a,b,c){var d=f.byId(a),e=f.byId(b),
h="";k.connect(d,"onkeyup",function(a){4<=d.value.length&&d.value.substr(0,4)!=h&&(h=d.value.substr(0,4),k.xhrGet({url:c+"?num\x3d"+d.value.substr(0,4),handleAs:"text",load:function(a){e.innerHTML=a}}))})},countrySelectFieldSpecific:function(c,e,h,m,l,p,r,t){var v=f.byId(h),x=f.byId(m),z=f.byId(r),u=f.byId(l),w=f.byId(p),y=f.byId("vat-message-eu"),A=f.byId("vat-message-au"),B=f.byId("vat-id-label"),C=f.byId("abn-label");if(null===e||void 0===e)e=!1;var F=function(){k.xhrGet({url:t+"?id\x3d"+v.value,
handleAs:"text",load:function(a){"N"===a?(b.set(z,"display","none"),d.add(u,"hide"),n.set(w,"name",""),n.set(x,"name","")):"Y"===a&&"164"===v.value?(d.remove(u,"hide"),b.set(z,"display","none"),n.set(w,"name",c+"[state]"),n.set(x,"name","")):(d.add(u,"hide"),b.set(z,"display","block"),n.set(w,"name",""),n.set(x,"name",c+"[state]"))}})},G=function(){e&&q(D.toUrl("/account/country-is-taxed"),{handleAs:"text",query:{id:v.value}}).then(function(a){d.toggle(y,"hide","N"===a);d.toggle(B,"hide","8"===v.value);
A&&(d.toggle(y,"hide","N"===a||"8"===v.value),d.toggle(A,"hide","N"===a||"8"!==v.value),d.toggle(C,"hide","N"===a||"8"!==v.value))})};a(v,"change",function(a){F();G()});F();G()},countrySelectField:function(c,e,h){var m=f.byId(c);f.byId(e);var l=f.byId("state"),p=f.byId("state-container"),r=f.byId("us-state-container"),t=f.byId("us-state");f.byId(c);var v=f.byId("vat-message-eu"),x=f.byId("vat-message-au"),z=f.byId("vat-id-label"),u=f.byId("abn-label"),w=function(){k.xhrGet({url:h+"?id\x3d"+m.value,
handleAs:"text",load:function(a){"N"===a?(b.set(p,"display","none"),d.add(r,"hide"),n.set(t,"name",""),n.set(l,"name","")):"Y"===a&&"164"===m.value?(d.remove(r,"hide"),b.set(p,"display","none"),n.set(t,"name","billing[state]"),n.set(l,"name","")):(d.add(r,"hide"),b.set(p,"display","block"),n.set(t,"name",""),n.set(l,"name","billing[state]"))}})},y=function(){q(D.toUrl("/account/country-is-taxed"),{handleAs:"text",query:{id:m.value}}).then(function(a){d.toggle(v,"hide","N"===a);d.toggle(z,"hide","8"===
m.value);x&&(d.toggle(v,"hide","N"===a||"8"===m.value),d.toggle(x,"hide","N"===a||"8"!==m.value),d.toggle(u,"hide","N"===a||"8"!==m.value))})};a(m,"change",function(a){w();y()});w();y()},zipToStateFieldSpecific:function(a,b,c,d){var e=f.byId(a),h=f.byId(c);k.connect(e,"onkeyup",function(){var a=e.value;a&&5<=a.length&&k.xhrGet({url:d+"?zip\x3d"+e.value,handleAs:"text",load:function(a){a&&(h.value=a)}})})},zipToCityFieldSpecific:function(a,b,c,d){var e=f.byId(a),h=f.byId(b),m=f.byId(c);k.connect(e,
"onkeyup",function(){if(m&&"164"===m.value){var a=e.value;a&&5<=a.length&&k.xhrGet({url:d+"?zip\x3d"+e.value,handleAs:"text",load:function(a){a&&(h.value=a)}})}})},zipToStateField:function(a,b,c){var d=f.byId(a);f.byId(b);k.connect(d,"onkeyup",function(a){(a=d.value)&&5<=a.length&&k.xhrGet({url:c+"?zip\x3d"+d.value,handleAs:"text",load:function(a){a&&(f.byId("us-state").value=a)}})})},zipToCityField:function(a,b,c,d){var e=f.byId(a),h=f.byId(b),m=f.byId(c);k.connect(e,"onkeyup",function(a){m&&164==
m.value&&(a=e.value)&&5<=a.length&&k.xhrGet({url:d+"?zip\x3d"+e.value,handleAs:"text",load:function(a){a&&(h.value=a)}})})},validationError:function(a,b){J.clearValidation(a);var c=document.createElement("span");d.add(c,"invalid-error");c.appendChild(document.createTextNode(b));a.parentNode.insertBefore(c,a.nextSibling)},clearValidation:function(a){a=a.nextSibling;k.hasClass(a,"invalid-error")&&a.parentNode.removeChild(a)},log:function(a){},addOption:function(a,b,c){b=new Option(b,c);a.options[a.length]=
b},deleteOption:function(a,b){0<a.length&&(a.options[b]=null)},moveOptions:function(a,b){var c=[],d=[],e=0,f;for(f=a.length-1;0<=f;f--)a.options[f].selected&&(c[e]=a.options[f].text,d[e]=a.options[f].value,J.deleteOption(a,f),e++);for(f=e-1;0<=f;f--)J.addOption(b,c[f],d[f])},isValidEmailAddress:function(a){return/^[A-Z0-9._-]+@[A-Z0-9.-]+\.[A-Z0-9.-]+$/i.test(a)},moveAllOptions:function(a,b){var c=[],d=[],e=0,f;for(f=a.length-1;0<=f;f--)c[e]=a.options[f].text,d[e]=a.options[f].value,J.deleteOption(a,
f),e++;for(f=e-1;0<=f;f--)J.addOption(b,c[f],d[f])},copyAllOptions:function(a,b){J.removeAllOptions(b);for(var c=0;c<a.length;c++)J.addOption(b,a.options[c].text,a.options[c].value)},removeAllOptions:function(a){for(var b=a.length-1;0<=b;b--)J.deleteOption(a,b)},checkAll:function(a){h('input[type\x3d"checkbox"]',f.byId(a)).forEach(function(a){n.set(a,"checked","checked")})},uncheckAll:function(a){h('input[type\x3d"checkbox"]',f.byId(a)).forEach(function(a){n.remove(a,"checked")})},toggle:function(){y.forEach(arguments,
function(a){h(a).forEach(function(a){"none"==b.get(a,"display")?b.set(a,"display",""):b.set(a,"display","none")})})},checkPopupWin:function(a){!a||a.closed||"undefined"===typeof a.closed?dijit.byId("popup-win-blocked").show():a.focus();return!1},getCookie:function(a){var b=document.cookie.split(";"),c="",d="",e="";for(i=0;i<b.length;i++)if(c=b[i].split("\x3d"),d=c[0].replace(/^\s+|\s+$/g,""),d==a)return 1<c.length&&(e=unescape(c[1].replace(/^\s+|\s+$/g,""))),e;return null},getSymbolLength:function(a){var b=
/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return a?a.replace(b,"_").length:0},checkInputLength:function(a,b,c){a=J.getSymbolLength(a.value);c-=a;b=f.byId(b);b.innerHTML=c;10>c?n.set(b.parentNode,"class","error-text small-meta char-count float-right"):25>c?n.set(b.parentNode,"class","warning-text small-meta char-count float-right"):n.set(b.parentNode,"class","success-text small-meta char-count float-right")},setCleanFileName:function(a){var b=F.encode(a.value.replace("C:\\fakepath\\",""));a.parentNode.parentNode.children[1].innerHTML=
b},formatFileSize:function(a){return a=1073741824<=a?J.numberFormat(a/1073741824,2,".","")+" Gb":1048576<=a?J.numberFormat(a/1048576,2,".","")+" Mb":1024<=a?J.numberFormat(a/1024,0)+" Kb":J.numberFormat(a,0)+" bytes"},numberFormat:function(a,b,c,d){var e=isNaN(b=Math.abs(b))?2:b;b="undefined"==typeof c?",":c;d="undefined"==typeof d?".":d;c=0>a?"-":"";var f=parseInt(a=Math.abs(+a||0).toFixed(e))+"",h=3<(h=f.length)?h%3:0;return c+(h?f.substr(0,h)+d:"")+f.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+d)+
(e?b+Math.abs(a-f).toFixed(e).slice(2):"")},showTemplateActions:function(a,b){y.forEach(b,function(b,c){c===a?d.toggle(b.firstElementChild,"card-clicked"):d.remove(b.firstElementChild,"card-clicked")})},selectTemplate:function(a,b,c){y.forEach(b,function(b,e){e===a?d.toggle(b,"card-selected"):d.remove(b,"card-selected");d.contains(b,"card-selected")?c[e].innerHTML="Selected":c[e].innerHTML="Select"})},makeHeaderSticky:function(b,c){var d=k.byId(b),f=k.query("."+c)[0],h=e.coords(d),m;"tablet"!==J.getCurrentBreakpoint()&&
"xltablet"!==J.getCurrentBreakpoint()||a(window,"scroll",function(){m=window.scrollY;m>h.y?(d.style.position="fixed",d.style.boxShadow="0 3px 0 0 rgba(0, 0, 0, 0.03)",d.style.top="60px",f.style.position="fixed",f.style.right="30px",f.style.top="66px"):(d.style.position="absolute",d.style.boxShadow="none",d.style.top=0,f.style.position="absolute",f.style.right=0,f.style.top=0)})},show:function(a,c){"none"===b.get(a,"display")&&(C(h("#"+a),"stop"),C(h("#"+a),"fadeIn",{duration:c?+c:225}))},hide:function(a,
c){"none"!=b.get(a,"display")&&(C(h("#"+a),"stop"),C(h("#"+a),"fadeOut",{duration:c?+c:225}))},hideByClass:function(a){(a=h("."+a)[0])&&d.add(a,"hide")},toggleEl:function(a,c,d,e){var f;f="none"===b.get(c,"display")?"slideDown":"slideUp";C(h("#"+c),"stop");C(h("#"+c),f,{duration:225,complete:function(){d&&"slideUp"==f&&(a.innerHTML=d);e&&"slideDown"==f&&(a.innerHTML=e)}})},showHide:function(a){"none"===b.get(a,"display")?b.set(a,"display","block"):"block"===b.get(a,"display")&&b.set(a,"display","none")},
moveFlashBlock:function(a){m.place("av-flash-block",a,"first")},toast:function(a,b){b||(b="message");r.publish("show-toast",{message:a,type:b})},resetForm:function(a){a.reset();h(".invalid",a).forEach(function(a){d.remove(a,"invalid")});y.forEach(x.findWidgets(a),function(a){a.reset()})},showFormErrors:function(a,b){a=h(a)[0];h(".invalid-error",a).remove();h(".invalid",a).removeClass("invalid");for(var c in b)if(b.hasOwnProperty(c)){var d=h("[data-mc-name\x3d"+c+"]",a)[0]?h("[data-mc-name\x3d"+c+
"]",a)[0]:h("[name\x3d"+c+"]",a)[0];d&&J.addError(d,b[c])}},addError:function(a,b){J.removeErrors(a);h(a).addClass("invalid");m.place("\x3cspan class\x3d'invalid-error'\x3e"+b+"\x3c/span\x3e",a,"after")},removeErrors:function(a){h(a).removeClass("invalid");h(a).siblings(".invalid-error").remove();h(a).siblings(".field-help").remove()},removeAllErrors:function(a){a=h(".invalid",a);a.length&&a.forEach(l.hitch(this,"removeErrors"))},getTabletNaviHeight:function(){var a=h(".tablet-nav")[0];return a?A.position(a).h:
0},getAppScrollContainer:function(){var a=k.body();n.get(a,"id","popup")&&(a=c.body());return a},updateQueryStringParameter:function(a,b,c){var d=new RegExp("([?|\x26])"+b+"\x3d.*?(\x26|$)","i"),e=-1!==a.indexOf("?")?"\x26":"?";return a.match(d)?a.replace(d,"$1"+b+"\x3d"+c+"$2"):a+e+b+"\x3d"+c},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},uncapitalize:function(a){return a.charAt(0).toLowerCase()+a.slice(1)},plural:function(a,b){return 1===parseInt(a)?b:b+"s"},getDocScroll:function(){var a=
A.docScroll().y;1024>=window.innerWidth&&(a+=J.getTabletNaviHeight());return a},getAvailableBreakpoints:function(){return breakpointsArray=k.getStyle(k.query("head *")[0],"font-family").split("'").join("").split(",")},getCurrentBreakpoint:function(){return window.getComputedStyle(document.querySelector("body"),":after").getPropertyValue("font-family")},getUrlHostname:function(a){var b=document.createElement("a");b.href=a;return b.hostname},getUrlPath:function(a){var b=document.createElement("a");
b.href=a;return b.pathname},toggleButtonLoadingState:function(a,b,c){b||(b="Please wait...");c||(c="button-loading");setTimeout(function(){a instanceof Array?a.forEach(function(a){e(a,b)}):e(a,b)},0);var e=function(a,e){if(a)if(d.contains(a,"dijitButtonContents")&&(a=h(a).parents(".dijitButton")[0]),d.contains(a,c))setTimeout(function(){d.remove(a,c);d.remove(a,"loading");switch(a.tagName){case "BUTTON":case "A":f=n.get(a,"data-original-text");a.innerHTML=f;break;case "INPUT":f=n.get(a,"data-original-text");
n.set(a,"value",f);break;case "SPAN":f=n.get(a,"data-original-text"),h(".dijitButtonText",a)[0].innerHTML=f,d.remove(a,"disabled")}},1E3);else{d.add(a,c);var f;switch(a.tagName){case "BUTTON":case "A":f=a.innerHTML;a.innerHTML=b;break;case "INPUT":f=n.get(a,"value");n.set(a,"value",b);break;case "SPAN":var m;d.add(a,"disabled");m=h(".dijitButtonText",a)[0];f=m.innerHTML;m.innerHTML=b}n.set(a,"data-original-text",f)}}},docHeight:function(a){return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),
Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))},globalPublish:function(a,b){var c=document.location.protocol+"//"+document.location.host;window.self!==window.top&&window.top.mojo&&window.top.mojo.utils?window.top.location.href.slice(0,c.length)===c&&window.top.mojo.utils.globalPublish(a,b):(k.publish(a,b),h("iframe").forEach(function(d){d.src.slice(0,c.length)===c&&(d=d.contentWindow)&&d.dojo&&d.dojo.publish(a,b)}))},isVisible:function(a){return 0!=
a.offsetHeight},logEvent:function(a,b){require(["mojo/lib/logger"],function(c){c.pythia.logEvent(a,b)})},parseEmoji:function(a){require(["twemoji/twemoji"],function(b){b.parse(a,{callback:function(a){return J.emojiImgPath(a)}})})},emojiImgHtml:function(a){var b,c=J.emojiImgPath(a);require(["twemoji/twemoji"],function(c){b=c.convert.fromCodePoint(a)});return'\x3cimg class\x3d"emoji" draggable\x3d"false" alt\x3d"'+b+'" src\x3d"'+c+'"\x3e'},emojiImgPath:function(a){return"/images/emoji/36/"+a+".png"},
getTimePassed:function(a){a=(new Date-new Date(a))/1E3;var b=0,c=0,d=0;60<=a&&(b=Math.floor(a/60),a%=60,60<=b&&(c=Math.floor(b/60),b%=60,24<=c&&(d=Math.floor(c/24),c%=24)));return{seconds:a,minutes:b,hours:c,days:d}},formatRelativeDate:function(a){if(null!==a){var b=J.getTimePassed(a);a=v.format(new Date(a),{formatLength:"medium",timePattern:"h:mm a"});var c="";0<b.days&&(c+=b.days+" "+J.plural(b.days,"day")+" ");0<b.hours&&(c+=b.hours+" "+J.plural(b.hours,"hour")+" ");0<b.minutes&&(c+=b.minutes+
" "+J.plural(b.minutes,"minute")+" ");return(c=c.trim())?7<=b.days?a:c+" ago":"less than a minute ago"}return""},getDateString:function(a){var b=new Date;null===I.timezoneOffset||isNaN(I.timezoneOffset)||(a=new Date(a.getTime()- -6E4*a.getTimezoneOffset()+36E5*I.timezoneOffset));return v.format(a,{selector:"date",datePattern:"EEE"})+", "+v.format(a,{selector:"date",datePattern:"MMMM"})+" "+J.getDayWithOrdinal(a.getDate())+(b.getFullYear()!==a.getFullYear()?", "+a.getFullYear():"")+" "+v.format(a,
{selector:"date",datePattern:"h:mm a"})},getDateOnlyString:function(a,b){b&&(a=J.getTimezoneOffsetDate(a));var c=new Date;return v.format(a,{selector:"date",datePattern:"MMMM"})+" "+J.getDayWithOrdinal(a.getDate())+(c.getFullYear()!==a.getFullYear()?", "+a.getFullYear():"")},getTimeString:function(a,b){b&&(a=J.getTimezoneOffsetDate(a));return v.format(a,{selector:"date",datePattern:"h:mm a"})},getTimezoneOffsetDate:function(a){null===I.timezoneOffset||isNaN(I.timezoneOffset)||(a=new Date(a.getTime()-
-6E4*a.getTimezoneOffset()+36E5*I.timezoneOffset));return a},isUniqueArray:function(a){return a.every(function(a,b,c){return c.indexOf(a)==b||0>c.indexOf(a)})},arraysMatch:function(a,b){var c=!1;y.forEach(a,function(a,d){a!==b[d]&&(c=!0)});return c},scrollTo:function(a,b,c){var d=a.scrollTop,e=0<parseInt(d,10)?A.position(b).y+d:A.position(b).y,e=c?e-c:e;G.select(a).transition().duration(1E3).ease("cubic-in-out").tween("scroll",function(){var a=G.interpolateNumber(d,e);return function(b){this.scrollTop=
a(b)}})},clickOnEnter:function(a,b){(a.charCode||a.keyCode)===t.ENTER&&b.click()},checkIfBlocked:function(a){p("/images/ads/placeholder.svg").then(function(){a(!1)},function(){a(!0)})},compileTemplate:function(a,b){return m.toDom(l.replace(l.trim(a.innerHTML||a),function(a,c){return F.encode(String(b[c]))}))},entries:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push({key:c,value:a[c]});return b},getDayWithOrdinal:function(a){var b=["th","st","nd","rd"];return String(a)+((11>a||13<a)&&
b[a%10]?b[a%10]:b[0])},getThousandsString:function(a){return 1E3<=a?Math.floor(a/1E3)+"K":String(a)},getShortString:function(a){var b=Number.MAX_SAFE_INTEGER,c=function(a,b,c,d){return Math.floor(a/(b/d))/d+c};return 1E3>a?a:1E4>a?c(a,1E3,"K",10):1E6>a?c(a,1E3,"K",1):1E7>a?c(a,1E6,"M",10):1E9>a?c(a,1E6,"M",1):1E10>a?c(a,1E9,"B",10):1E12>a?c(a,1E9,"B",1):1E13>a?c(a,1E12,"T",10):a<b?c(a,1E12,"T",1):a.toExponential(1)},getCommaListFromArray:function(a){switch(a.length){case 0:return[];case 1:return a[0];
case 2:return a.join(" and ");default:return a.slice(0,-2).join(", ")+(a.slice(0,-2).length?", ":"")+a.slice(-2).join(", and ")}},trackEvent:function(a){a.eventCategory&&a.eventAction&&window.ga("send","event",a)},addAnalyticsEvents:function(){var b={selectors:["a[data-event-category]:click","button[data-event-category]:click"],nullValue:"not set",categoryAttribute:"data-event-category",actionAttribute:"data-event-action",labelAttribute:"data-event-label"};a(window.document,b.selectors,function(a){function c(a){var e=
n.get(d,b[a]),f=n.get(d,"href"),h=l.trim(d.textContent);return e?e:""===e?b.nullValue:h&&"actionAttribute"===a?"Clicked / "+h:f&&"labelAttribute"===a?f.split("?")[0]:null}var d=this;a={eventCategory:c("categoryAttribute"),eventAction:c("actionAttribute"),eventLabel:c("labelAttribute")};J.trackEvent(a)})},pushToDataLayer:function(a){window.dataLayer.push(a)},comparators:{LTE:function(a,b){return a<=b},EQ:function(a,b){return a===b},GTE:function(a,b){return a>=b},LT:function(a,b){return a<b},GT:function(a,
b){return a>b}}};J.addAnalyticsEvents();return J})},"mojo/url":function(){define(["mojo/context","dojo/dom-construct","dojo/_base/array","dojo/hash","dojo/io-query"],function(l,k,h,f,a){return{toUrl:function(c,e){if("undefined"==typeof c||null==c)c="";c&&"/"==c[0]&&(c=c.substr(1));e&&(c+=0>c.indexOf("?")?"?":"\x26",c+=a.objectToQuery(e));return l.rootUrl+c},inUrl:function(a){return-1<window.location.href.indexOf(a)},removeProxy:function(a){if(0<a.indexOf("_ssl/proxy.php")){var e=0<=a.indexOf("_ssl/proxy.php/https/")?
"https":"http",f=("_ssl/proxy.php/"+e+"/").length;a=e+"://"+a.substring(a.indexOf("_ssl/proxy.php/")+f)}return a},addProxy:function(a){var e=k.create("a",{href:a}),f=e.protocol.replace(":","");if("https"==f)return a;if("prod"==l.avestaEnvironment&&e.hostname==l.galleryDomain||e.hostname==l.cdnImagesDomain)return a.replace(/^http:/i,"https:");a=f+"/"+e.hostname;"/"!=e.pathname[0]&&(a+="/");a+=e.pathname;e.search&&(a+="?"+encodeURIComponent(e.search));return l.proxyBaseUrl+"/"+a},getHashParams:function(){var a=
f(),e={};a&&(a=a.split(";"))&&a.length&&h.forEach(a,function(a){a=a.split(":");a[0]&&(e[a[0]]=a[1])});return e},setHashParams:function(a){var e=[],h;for(h in a)e.push(h+":"+a[h]);f(e.join(";"),!0)}}})},"mojo/context":function(){define([],function(){return{rootUrl:"/",proxyBaseUrl:null,listManageDomain:null,pusherKey:null,cdnImagesDomain:null,galleryDomain:null,avestaEnvironment:null,imageEditorUrl:null,imageEditorKey:null,solvvyUrl:null}})},"dojo/hash":function(){define("./_base/kernel require ./_base/config ./aspect ./_base/lang ./topic ./domReady ./sniff".split(" "),
function(l,k,h,f,a,c,e,m){function d(a,b){var c=a.indexOf(b);return 0<=c?a.substring(c+1):""}function b(){return d(location.href,"#")}function n(){c.publish("/dojo/hashchange",b())}function p(){b()!==t&&(t=b(),n())}function q(b){if(u)if(u.isTransitioning())setTimeout(a.hitch(null,q,b),v);else{var c=u.iframe.location.href,d=c.indexOf("?");u.iframe.location.replace(c.substring(0,d)+"?"+b)}else location.replace("#"+b),!w&&p()}function r(){function c(){t=b();m=u?t:d(w.href,"?");p=!1;q=null}var e=document.createElement("iframe"),
f=h.dojoBlankHtmlUrl||k.toUrl("./resources/blank.html");e.id="dojo-hash-iframe";e.src=f+"?"+b();e.style.display="none";document.body.appendChild(e);this.iframe=l.global["dojo-hash-iframe"];var m,p,q,r,u,w=this.iframe.location;this.isTransitioning=function(){return p};this.pollLocation=function(){if(!u)try{var h=d(w.href,"?");document.title!=r&&(r=this.iframe.document.title=document.title)}catch(k){u=!0}var l=b();if(p&&t===l)if(u||h===q)c(),n();else{setTimeout(a.hitch(this,this.pollLocation),0);return}else if(t!==
l||!u&&m!==h){if(t!==l){t=l;p=!0;q=l;e.src=f+"?"+q;u=!1;setTimeout(a.hitch(this,this.pollLocation),0);return}u||(location.href="#"+w.search.substring(1),c(),n())}setTimeout(a.hitch(this,this.pollLocation),v)};c();setTimeout(a.hitch(this,this.pollLocation),v)}l.hash=function(a,c){if(!arguments.length)return b();"#"==a.charAt(0)&&(a=a.substring(1));c?q(a):location.href="#"+a;return a};var t,u,w,v=h.hashPollFrequency||100;e(function(){"onhashchange"in l.global&&(!m("ie")||8<=m("ie")&&"BackCompat"!=document.compatMode)?
w=f.after(l.global,"onhashchange",n,!0):document.addEventListener?(t=b(),setInterval(p,v)):document.attachEvent&&(u=new r)});return l.hash})},"dojox/html/entities":function(){define(["dojo/_base/lang"],function(l){var k=l.getObject("dojox.html.entities",!0),h=function(a,c){var e,f;if(c._encCache&&c._encCache.regexp&&c._encCache.mapper&&c.length==c._encCache.length)e=c._encCache.mapper,f=c._encCache.regexp;else{e={};f=["["];var d;for(d=0;d<c.length;d++)e[c[d][0]]="\x26"+c[d][1]+";",f.push(c[d][0]);
f.push("]");f=new RegExp(f.join(""),"g");c._encCache={mapper:e,regexp:f,length:c.length}}return a=a.replace(f,function(a){return e[a]})},f=function(a,c){var e,f;if(c._decCache&&c._decCache.regexp&&c._decCache.mapper&&c.length==c._decCache.length)e=c._decCache.mapper,f=c._decCache.regexp;else{e={};f=["("];var d;for(d=0;d<c.length;d++){var b="\x26"+c[d][1]+";";d&&f.push("|");e[b]=c[d][0];f.push(b)}f.push(")");f=new RegExp(f.join(""),"g");c._decCache={mapper:e,regexp:f,length:c.length}}return a=a.replace(f,
function(a){return e[a]})};k.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];k.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],
["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],
["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],
["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393",
"Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],
["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044",
"frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],
["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309",
"rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019",
"rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];k.encode=function(a,c){a&&(c?a=h(a,c):(a=h(a,k.html),a=h(a,k.latin)));return a};k.decode=function(a,c){a&&(c?a=f(a,c):(a=f(a,k.html),a=f(a,k.latin)));return a};return k})},"d3/d3":function(){!function(){function l(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function k(a,
b){return a<b?-1:a>b?1:a>=b?0:NaN}function h(a){return null===a?NaN:+a}function f(a){return!isNaN(a)}function a(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},right:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var f=d+e>>>1;0<a(b[f],c)?e=f:d=f+1}return d}}}function c(a){return a.length}function e(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],
enumerable:!1})}function m(){this._=Object.create(null)}function d(a){return"__proto__"===(a+="")||"\x00"===a[0]?"\x00"+a:a}function b(a){return"\x00"===(a+="")[0]?a.slice(1):a}function n(a){return d(a)in this._}function p(a){return(a=d(a))in this._&&delete this._[a]}function q(){var a=[],c;for(c in this._)a.push(b(c));return a}function r(){var a=0,b;for(b in this._)++a;return a}function t(){for(var a in this._)return!1;return!0}function u(){this._=Object.create(null)}function w(a){return a}function v(a,
b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function y(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=Qe.length;c<d;++c){var e=Qe[c]+b;if(e in a)return e}}function x(){}function A(){}function z(a){function b(){for(var d=c,e=-1,f=d.length,h;++e<f;)(h=d[e].on)&&h.apply(this,arguments);return a}var c=[],d=new m;b.on=function(b,e){var f=d.get(b),h;if(2>arguments.length)return f&&f.on;f&&(f.on=null,c=c.slice(0,h=c.indexOf(f)).concat(c.slice(h+1)),d.remove(b));
e&&c.push(d.set(b,{on:e}));return a};return b}function B(){E.event.preventDefault()}function C(){for(var a=E.event,b;b=a.sourceEvent;)a=b;return a}function D(a){for(var b=new A,c=0,d=arguments.length;++c<d;)b[arguments[c]]=z(b);b.of=function(c,d){return function(e){try{var f=e.sourceEvent=E.event;e.target=a;E.event=e;b[e.type].apply(c,d)}finally{E.event=f}}};return b}function F(a){kc(a,ra);return a}function G(a){return"function"===typeof a?a:function(){return sd(a,this)}}function I(a){return"function"===
typeof a?a:function(){return td(a,this)}}function L(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function m(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}a=E.ns.qualify(a);return null==b?a.local?
d:c:"function"===typeof b?a.local?m:h:a.local?f:e}function J(a){return a.trim().replace(/\s+/g," ")}function T(a){return new RegExp("(?:^|\\s+)"+E.requote(a)+"(?:\\s+|$)","g")}function V(a,b){function c(){for(var d=-1;++d<e;)a[d](this,b)}function d(){for(var c=-1,f=b.apply(this,arguments);++c<e;)a[c](this,f)}a=(a+"").trim().split(/^|\s+/).map(P);var e=a.length;return"function"===typeof b?d:c}function P(a){var b=T(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||
"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",J(e+" "+a))):c.setAttribute("class",J(e.replace(b," ")))}}function K(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"===typeof b?f:e}function M(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:
this[a]=c}return null==b?c:"function"===typeof b?e:d}function H(a){function b(){var c=this.ownerDocument,d=this.namespaceURI;return d?c.createElementNS(d,a):c.createElement(a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"===typeof a?a:(a=E.ns.qualify(a)).local?c:b}function X(){var a=this.parentNode;a&&a.removeChild(this)}function R(a){return function(){return Kb(this,a)}}function N(a){arguments.length||(a=k);return function(b,c){return b&&c?a(b.__data__,
c.__data__):!b-!c}}function Q(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],f=0,h=e.length,m;f<h;f++)(m=e[f])&&b(m,f,c);return a}function S(a){kc(a,ub);return a}function Y(a){var b,c;return function(d,e,f){d=a[f].update;var h=d.length;f!=c&&(c=f,b=0);for(e>=b&&(b=e+1);!(e=d[b])&&++b<h;);return e}}function O(a,b,c){function d(){var b=this[h];b&&(this.removeEventListener(a,b,b.$),delete this[h])}function e(){var f=k(b,Lb(arguments));d.call(this);this.addEventListener(a,this[h]=f,f.$=c);f._=b}function f(){var b=
new RegExp("^__on([^.]+)"+E.requote(a)+"$"),c,d;for(d in this)if(c=d.match(b)){var e=this[d];this.removeEventListener(c[1],e,e.$);delete this[d]}}var h="__on"+a,m=a.indexOf("."),k=W;0<m&&(a=a.slice(0,m));var l=Mb.get(a);l&&(a=l,k=da);return m?b?e:d:b?x:f}function W(a,b){return function(c){var d=E.event;E.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{E.event=d}}}function da(a,b){var c=W(a,b);return function(a){var b=a.relatedTarget;b&&(b===this||b.compareDocumentPosition(this)&8)||c.call(this,
a)}}function ca(a){var b=".dragsuppress-"+ ++Sg,c="click"+b,d=E.select(l(a)).on("touchmove"+b,B).on("dragstart"+b,B).on("selectstart"+b,B);null==vb&&(vb="onselectstart"in a?!1:y(a.style,"userSelect"));if(vb){var e=(a&&(a.ownerDocument||a.document||a).documentElement).style,f=e[vb];e[vb]="none"}return function(a){d.on(b,null);vb&&(e[vb]=f);if(a){var h=function(){d.on(c,null)};d.on(c,function(){B();h()},!0);setTimeout(h,0)}}}function Da(a,b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||
a;if(c.createSVGPoint){var d=c.createSVGPoint();if(0>U&&(c=l(a),c.scrollX||c.scrollY)){var c=E.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),e=c[0][0].getScreenCTM();U=!(e.f||e.e);c.remove()}U?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY);d=d.matrixTransform(a.getScreenCTM().inverse());return[d.x,d.y]}d=a.getBoundingClientRect();return[b.clientX-d.left-a.clientLeft,b.clientY-d.top-a.clientTop]}function ua(){return E.event.changedTouches[0].identifier}
function eb(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function fb(a){return 1<a?0:-1>a?Z:Math.acos(a)}function La(a){return 1<a?Ea:-1>a?-Ea:Math.asin(a)}function ja(a){return((a=Math.exp(a))+1/a)/2}function ob(a){return(a=Math.sin(a/2))*a}function ta(){}function Aa(a,b,c){return this instanceof Aa?void(this.h=+a,this.s=+b,this.l=+c):2>arguments.length?a instanceof Aa?new Aa(a.h,a.s,a.l):kb(""+a,lb,Aa):new Aa(a,b,c)}function Ua(a,b,c){function d(a){360<a?a-=360:0>a&&(a+=360);return 60>
a?e+(f-e)*a/60:180>a?f:240>a?e+(f-e)*(240-a)/60:e}var e,f;a=isNaN(a)?0:0>(a%=360)?a+360:a;b=isNaN(b)?0:0>b?0:1<b?1:b;c=0>c?0:1<c?1:c;f=.5>=c?c*(1+b):c+b-c*b;e=2*c-f;return new va(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function Ca(a,b,c){return this instanceof Ca?void(this.h=+a,this.c=+b,this.l=+c):2>arguments.length?a instanceof Ca?new Ca(a.h,a.c,a.l):a instanceof sa?Ta(a.l,a.a,a.b):Ta((a=Yb((a=E.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new Ca(a,b,c)}function hb(a,b,c){isNaN(a)&&
(a=0);isNaN(b)&&(b=0);return new sa(c,Math.cos(a*=ka)*b,Math.sin(a)*b)}function sa(a,b,c){return this instanceof sa?void(this.l=+a,this.a=+b,this.b=+c):2>arguments.length?a instanceof sa?new sa(a.l,a.a,a.b):a instanceof Ca?hb(a.h,a.c,a.l):Yb((a=va(a)).r,a.g,a.b):new sa(a,b,c)}function Xb(a,b,c){a=(a+16)/116;c=a-c/200;b=jb(a+b/500)*mh;a=jb(a)*nh;c=jb(c)*oh;return new va(Za(3.2404542*b-1.5371385*a-.4985314*c),Za(-.969266*b+1.8760108*a+.041556*c),Za(.0556434*b-.2040259*a+1.0572252*c))}function Ta(a,
b,c){return 0<a?new Ca(Math.atan2(c,b)*ya,Math.sqrt(b*b+c*c),a):new Ca(NaN,NaN,a)}function jb(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function Dc(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Za(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function va(a,b,c){return this instanceof va?void(this.r=~~a,this.g=~~b,this.b=~~c):2>arguments.length?a instanceof va?new va(a.r,a.g,a.b):kb(""+a,va,Ua):new va(a,b,c)}function gb(a){return new va(a>>16,a>>8&255,
a&255)+""}function tb(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function kb(a,b,c){a=a.toLowerCase();var d=0,e=0,f=0,h,m;if(h=/([a-z]+)\((.*)\)/.exec(a))switch(m=h[2].split(","),h[1]){case "hsl":return c(parseFloat(m[0]),parseFloat(m[1])/100,parseFloat(m[2])/100);case "rgb":return b(Zb(m[0]),Zb(m[1]),Zb(m[2]))}if(c=Sf.get(a))return b(c.r,c.g,c.b);null==a||"#"!==a.charAt(0)||isNaN(c=parseInt(a.slice(1),16))||(4===a.length?(d=(c&3840)>>4,d|=d>>4,e=c&240,e|=e>>4,f=c&
15,f|=f<<4):7===a.length&&(d=(c&16711680)>>16,e=(c&65280)>>8,f=c&255));return b(d,e,f)}function lb(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,h=(e+d)/2;f?(d=.5>h?f/(e+d):f/(2-e-d),a=60*(a==e?(b-c)/f+(b<c?6:0):b==e?(c-a)/f+2:(a-b)/f+4)):(a=NaN,d=0<h&&1>h?0:a);return new Aa(a,d,h)}function Yb(a,b,c){a=lc(a);b=lc(b);c=lc(c);var d=Dc((.4124564*a+.3575761*b+.1804375*c)/mh),e=Dc((.2126729*a+.7151522*b+.072175*c)/nh);a=Dc((.0193339*a+.119192*b+.9503041*c)/oh);return sa(116*e-16,
500*(d-e),200*(e-a))}function lc(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Zb(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function pa(a){return"function"===typeof a?a:function(){return a}}function Uc(a){return function(b,c,d){2===arguments.length&&"function"===typeof c&&(d=c,c=null);return wb(b,c,a,d)}}function wb(a,b,c,d){function e(){var a=k.status,b,d;if(d=!a)d=(d=k.responseType)&&"text"!==d?k.response:k.responseText;if(d||200<=a&&
300>a||304===a){try{b=c.call(f,k)}catch(m){h.error.call(f,m);return}h.load.call(f,b)}else h.error.call(f,k)}var f={},h=E.dispatch("beforesend","progress","load","error"),m={},k=new XMLHttpRequest,l=null;!this.XDomainRequest||"withCredentials"in k||!/^(http(s)?:)?\/\//.test(a)||(k=new XDomainRequest);"onload"in k?k.onload=k.onerror=e:k.onreadystatechange=function(){3<k.readyState&&e()};k.onprogress=function(a){var b=E.event;E.event=a;try{h.progress.call(f,k)}finally{E.event=b}};f.header=function(a,
b){a=(a+"").toLowerCase();if(2>arguments.length)return m[a];null==b?delete m[a]:m[a]=b+"";return f};f.mimeType=function(a){if(!arguments.length)return b;b=null==a?null:a+"";return f};f.responseType=function(a){if(!arguments.length)return l;l=a;return f};f.response=function(a){c=a;return f};["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(Lb(arguments)))}});f.send=function(c,d,e){2===arguments.length&&"function"===typeof d&&(e=d,d=null);k.open(c,a,!0);null==b||"accept"in
m||(m.accept=b+",*/*");if(k.setRequestHeader)for(var n in m)k.setRequestHeader(n,m[n]);null!=b&&k.overrideMimeType&&k.overrideMimeType(b);null!=l&&(k.responseType=l);if(null!=e)f.on("error",e).on("load",function(a){e(null,a)});h.beforesend.call(f,k);k.send(null==d?null:d);return f};f.abort=function(){k.abort();return f};E.rebind(f,h,"on");return null==d?f:f.get(Nb(d))}function Nb(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Ec(){var a=fa(),a=Fc()-a;24<a?(isFinite(a)&&(clearTimeout(Tf),
Tf=setTimeout(Ec,a)),Uf=0):(Uf=1,ph(Ec))}function fa(){var a=Date.now();for(Gc=Vf;Gc;)a>=Gc.t&&(Gc.f=Gc.c(a-Gc.t)),Gc=Gc.n;return a}function Fc(){for(var a,b=Vf,c=Infinity;b;)b.f?b=a?a.n=b.n:Vf=b.n:(b.t<c&&(c=b.t),b=(a=b).n);Wf=a;return c}function xb(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function yb(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],h=0,m=d[0],k=0;0<e&&0<m;){k+m+1>b&&(m=Math.max(1,b-k));f.push(a.substring(e-=m,e+
m));if((k+=m+1)>b)break;m=d[h=(h+1)%d.length]}return f.reverse().join(c)}:w;return function(a){a=qh.exec(a);var c=a[1]||" ",d=a[2]||"\x3e",h=a[3]||"-",m=a[4]||"",k=a[5],l=+a[6],n=a[7],p=a[8],q=a[9],r=1,t="",v="",x=!1,U=!0;p&&(p=+p.substring(1));if(k||"0"===c&&"\x3d"===d)k=c="0",d="\x3d";switch(q){case "n":n=!0;q="g";break;case "%":r=100;v="%";q="f";break;case "p":r=100;v="%";q="r";break;case "b":case "o":case "x":case "X":"#"===m&&(t="0"+q.toLowerCase());case "c":U=!1;case "d":x=!0;p=0;break;case "s":r=
-1,q="r"}"$"===m&&(t=e[0],v=e[1]);"r"!=q||p||(q="g");if(null!=p)if("g"==q)p=Math.max(1,Math.min(21,p));else if("e"==q||"f"==q)p=Math.max(0,Math.min(20,p));var q=Rh.get(q)||mb,u=k&&n;return function(a){var e=v;if(x&&a%1)return"";var m=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===h?"":h;0>r?(e=E.formatPrefix(a,p),a=e.scale(a),e=e.symbol+v):a*=r;a=q(a,p);var z=a.lastIndexOf("."),w;0>z?(z=U?a.lastIndexOf("e"):-1,0>z?(w=a,a=""):(w=a.substring(0,z),a=a.substring(z))):(w=a.substring(0,z),a=b+a.substring(z+1));!k&&
n&&(w=f(w,Infinity));var z=t.length+w.length+a.length+(u?0:m.length),y=z<l?Array(z=l-z+1).join(c):"";u&&(w=f(y+w,y.length?l-a.length:Infinity));m+=t;a=w+a;return("\x3c"===d?m+a+y:"\x3e"===d?y+m+a:"^"===d?y.substring(0,z>>=1)+m+a+y.substring(z):m+(u?a:y+a))+e}}}function mb(a){return a+""}function Ha(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function $a(a,b,c){function d(b){var c=a(b),e=f(c,1);return b-c<e-b?c:e}function e(c){b(c=a(new bb(c-1)),1);return c}function f(a,
c){b(a=new bb(+a),c);return a}function h(a,d,f){a=e(a);var m=[];if(1<f)for(;a<d;)c(a)%f||m.push(new Date(+a)),b(a,1);else for(;a<d;)m.push(new Date(+a)),b(a,1);return m}a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=h;var m=a.utc=Ma(a);m.floor=m;m.round=Ma(d);m.ceil=Ma(e);m.offset=Ma(f);m.range=function(a,b,c){try{bb=Ha;var d=new Ha;d._=a;return h(d,b,c)}finally{bb=Date}};return a}function Ma(a){return function(b,c){try{bb=Ha;var d=new Ha;d._=b;return a(d,c)._}finally{bb=Date}}}function Ob(a){function b(a){function d(b){for(var c=
[],f=-1,h=0,m,k;++f<e;)if(37===a.charCodeAt(f)){c.push(a.slice(h,f));null!=(m=rh[h=a.charAt(++f)])&&(h=a.charAt(++f));if(k=w[h])h=k(b,null==m?"e"===h?" ":"0":m);c.push(h);h=f+1}c.push(a.slice(h,f));return c.join("")}var e=a.length;d.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(d,a,b,0)!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);b=null!=d.Z&&bb!==Ha;var e=new (b?Ha:bb);"j"in d?e.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(e.setFullYear(d.y,0,1),e.setFullYear(d.y,
0,"W"in d?(d.w+6)%7+7*d.W-(e.getDay()+5)%7:d.w+7*d.U-(e.getDay()+6)%7)):e.setFullYear(d.y,d.m,d.d);e.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L);return b?e._:e};d.toString=function(){return a};return d}function c(a,b,d,e){for(var f,h=0,m=b.length,k=d.length;h<m;){if(e>=k)return-1;f=b.charCodeAt(h++);if(37===f){if(f=b.charAt(h++),f=y[f in rh?b.charAt(h++):f],!f||0>(e=f(a,d,e)))return-1}else if(f!=d.charCodeAt(e++))return-1}return e}var d=a.dateTime,e=a.date,f=a.time,h=a.periods,m=a.days,k=a.shortDays,
l=a.months,n=a.shortMonths;b.utc=function(a){function c(a){try{bb=Ha;var b=new bb;b._=a;return d(b)}finally{bb=Date}}var d=b(a);c.parse=function(a){try{bb=Ha;var b=d.parse(a);return b&&b._}finally{bb=Date}};c.toString=d.toString;return c};b.multi=b.utc.multi=nb;var p=E.map(),q=Pa(m),r=Va(m),t=Pa(k),v=Va(k),x=Pa(l),U=Va(l),z=Pa(n),u=Va(n);h.forEach(function(a,b){p.set(a.toLowerCase(),b)});var w={a:function(a){return k[a.getDay()]},A:function(a){return m[a.getDay()]},b:function(a){return n[a.getMonth()]},
B:function(a){return l[a.getMonth()]},c:b(d),d:function(a,b){return za(a.getDate(),b,2)},e:function(a,b){return za(a.getDate(),b,2)},H:function(a,b){return za(a.getHours(),b,2)},I:function(a,b){return za(a.getHours()%12||12,b,2)},j:function(a,b){return za(1+ba.dayOfYear(a),b,3)},L:function(a,b){return za(a.getMilliseconds(),b,3)},m:function(a,b){return za(a.getMonth()+1,b,2)},M:function(a,b){return za(a.getMinutes(),b,2)},p:function(a){return h[+(12<=a.getHours())]},S:function(a,b){return za(a.getSeconds(),
b,2)},U:function(a,b){return za(ba.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return za(ba.mondayOfYear(a),b,2)},x:b(e),X:b(f),y:function(a,b){return za(a.getFullYear()%100,b,2)},Y:function(a,b){return za(a.getFullYear()%1E4,b,4)},Z:Re,"%":function(){return"%"}},y={a:function(a,b,c){t.lastIndex=0;return(b=t.exec(b.slice(c)))?(a.w=v.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){q.lastIndex=0;return(b=q.exec(b.slice(c)))?(a.w=r.get(b[0].toLowerCase()),c+b[0].length):
-1},b:function(a,b,c){z.lastIndex=0;return(b=z.exec(b.slice(c)))?(a.m=u.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){x.lastIndex=0;return(b=x.exec(b.slice(c)))?(a.m=U.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,b,d){return c(a,w.c.toString(),b,d)},d:$b,e:$b,H:ud,I:ud,j:vd,L:wd,m:ac,M:Xf,p:function(a,b,c){b=p.get(b.slice(c,c+=2).toLowerCase());return null==b?-1:(a.p=b,c)},S:be,U:Wa,w:Qa,W:cb,x:function(a,b,d){return c(a,w.x.toString(),b,d)},X:function(a,b,d){return c(a,
w.X.toString(),b,d)},y:ce,Y:Yf,Z:pb,"%":Pb};return b}function za(a,b,c){var d=0>a?"-":"";a=(d?-a:a)+"";var e=a.length;return d+(e<c?Array(c-e+1).join(b)+a:a)}function Pa(a){return new RegExp("^(?:"+a.map(E.requote).join("|")+")","i")}function Va(a){for(var b=new m,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Qa(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Wa(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c)))?(a.U=+b[0],c+b[0].length):
-1}function cb(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c)))?(a.W=+b[0],c+b[0].length):-1}function Yf(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function ce(a,b,c){Fa.lastIndex=0;if(b=Fa.exec(b.slice(c,c+2))){var d=+b[0];a=(a.y=d+(68<d?1900:2E3),c+b[0].length)}else a=-1;return a}function pb(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function ac(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):
-1}function $b(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function vd(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function ud(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function Xf(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function be(a,b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function wd(a,
b,c){Fa.lastIndex=0;return(b=Fa.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function Re(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=ha(b)/60|0,b=ha(b)%60;return a+za(c,"0",2)+za(b,"0",2)}function Pb(a,b,c){sh.lastIndex=0;return(a=sh.exec(b.slice(c,c+1)))?c+a[0].length:-1}function nb(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function xd(){}function yd(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-(d-e)+(b-e)}function de(a,
b){if(a&&th.hasOwnProperty(a.type))th[a.type](a,b)}function Se(a,b,c){var d=-1;c=a.length-c;var e;for(b.lineStart();++d<c;)e=a[d],b.point(e[0],e[1],e[2]);b.lineEnd()}function mc(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Se(a[c],b,1);b.polygonEnd()}function Vc(){function a(b,c){b*=ka;c=c*ka/2+Z/4;var h=b-d,m=0<=h?1:-1,h=m*h,k=Math.cos(c),l=Math.sin(c),n=f*l;zd.add(Math.atan2(n*m*Math.sin(h),e*k+n*Math.cos(h)));d=b;e=k;f=l}var b,c,d,e,f;zb.point=function(h,m){zb.point=a;d=(b=h)*ka;e=Math.cos(m=
(c=m)*ka/2+Z/4);f=Math.sin(m)};zb.lineEnd=function(){a(b,c)}}function nc(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function ee(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Wc(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Te(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Xc(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function fe(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function oc(a){return[Math.atan2(a[1],
a[0]),La(a[2])]}function bc(a,b){return 1E-6>ha(a[0]-b[0])&&1E-6>ha(a[1]-b[1])}function ge(a,b){a*=ka;var c=Math.cos(b*=ka);pc(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function pc(a,b,c){++Ue;Hc+=(a-Hc)/Ue;Ic+=(b-Ic)/Ue;qc+=(c-qc)/Ue}function Ve(){function a(e,f){e*=ka;var h=Math.cos(f*=ka),m=h*Math.cos(e),h=h*Math.sin(e),k=Math.sin(f),l=Math.atan2(Math.sqrt((l=c*k-d*h)*l+(l=d*m-b*k)*l+(l=b*h-c*m)*l),b*m+c*h+d*k);he+=l;Qb+=l*(b+(b=m));Rb+=l*(c+(c=h));qb+=l*(d+(d=k));pc(b,c,d)}var b,c,d;cc.point=function(e,
f){e*=ka;var h=Math.cos(f*=ka);b=h*Math.cos(e);c=h*Math.sin(e);d=Math.sin(f);cc.point=a;pc(b,c,d)}}function We(){cc.point=ge}function Tg(){function a(b,c){b*=ka;var h=Math.cos(c*=ka),m=h*Math.cos(b),h=h*Math.sin(b),k=Math.sin(c),l=e*k-f*h,n=f*m-d*k,p=d*h-e*m,q=Math.sqrt(l*l+n*n+p*p),r=d*m+e*h+f*k,t=q&&-fb(r)/q,q=Math.atan2(q,r);Yc+=t*l;Zc+=t*n;rc+=t*p;he+=q;Qb+=q*(d+(d=m));Rb+=q*(e+(e=h));qb+=q*(f+(f=k));pc(d,e,f)}var b,c,d,e,f;cc.point=function(h,m){b=h;c=m;cc.point=a;h*=ka;var k=Math.cos(m*=ka);
d=k*Math.cos(h);e=k*Math.sin(h);f=Math.sin(m);pc(d,e,f)};cc.lineEnd=function(){a(b,c);cc.lineEnd=We;cc.point=ge}}function Xe(a,b){function c(d,e){return d=a(d,e),b(d[0],d[1])}a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])});return c}function $c(){return!0}function Ye(a,b,c,d,e){var f=[],h=[];a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,c=a[0],d=a[b];if(bc(c,d)){e.lineStart();for(d=0;d<b;++d)e.point((c=a[d])[0],c[1]);e.lineEnd()}else b=new ad(c,a,
null,!0),c=new ad(c,null,b,!1),b.o=c,f.push(b),h.push(c),b=new ad(d,a,null,!1),c=new ad(d,null,b,!0),b.o=c,f.push(b),h.push(c)}});h.sort(b);Ze(f);Ze(h);if(f.length){a=0;b=c;for(c=h.length;a<c;++a)h[a].e=b=!b;b=f[0];for(var m,k;;){for(var l=b,n=!0;l.v;)if((l=l.n)===b)return;m=l.z;e.lineStart();do{l.v=l.o.v=!0;if(l.e){if(n)for(a=0,c=m.length;a<c;++a)e.point((k=m[a])[0],k[1]);else d(l.x,l.n.x,1,e);l=l.n}else{if(n)for(m=l.p.z,a=m.length-1;0<=a;--a)e.point((k=m[a])[0],k[1]);else d(l.x,l.p.x,-1,e);l=l.p}l=
l.o;m=l.z;n=!n}while(!l.v);e.lineEnd()}}}function Ze(a){if(b=a.length){for(var b,c=0,d=a[0],e;++c<b;)d.n=e=a[c],e.p=d,d=e;d.n=e=a[0];e.p=d}}function ad(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=!1;this.n=this.p=null}function Ad(a,b,c,d){return function(e,f){function h(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function m(a,b){var c=e(a,b);r.point(c[0],c[1])}function k(){v.point=m;r.lineStart()}function l(){v.point=h;r.lineEnd()}function n(a,b){y.push([a,b]);var c=e(a,b);U.point(c[0],
c[1])}function p(){U.lineStart();y=[]}function q(){n(y[0][0],y[0][1]);U.lineEnd();var a=U.clean(),b=z.buffer(),c=b.length;y.pop();w.push(y);y=null;if(c)if(a&1){var a=b[0],c=a.length-1,b=-1,d;if(0<c){u||(f.polygonStart(),u=!0);for(f.lineStart();++b<c;)f.point((d=a[b])[0],d[1]);f.lineEnd()}}else 1<c&&a&2&&b.push(b.pop().concat(b.shift())),x.push(b.filter(Zf))}var r=b(f),t=e.invert(d[0],d[1]),v={point:h,lineStart:k,lineEnd:l,polygonStart:function(){v.point=n;v.lineStart=p;v.lineEnd=q;x=[];w=[]},polygonEnd:function(){v.point=
h;v.lineStart=k;v.lineEnd=l;x=E.merge(x);var a,b=t;a=w;var d=b[0],e=b[1],m=[Math.sin(d),-Math.cos(d),0],n=0,p=0;zd.reset();for(var q=0,r=a.length;q<r;++q){var U=a[q],z=U.length;if(z)for(var y=U[0],A=y[0],b=y[1]/2+Z/4,rd=Math.sin(b),B=Math.cos(b),C=1;;){C===z&&(C=0);var b=U[C],F=b[0],D=b[1]/2+Z/4,Pe=Math.sin(D),D=Math.cos(D),G=F-A,J=0<=G?1:-1,X=J*G,L=X>Z,rd=rd*Pe;zd.add(Math.atan2(rd*J*Math.sin(X),B*D+rd*Math.cos(X)));n+=L?G+J*la:G;L^A>=d^F>=d&&(y=Wc(nc(y),nc(b)),fe(y),A=Wc(m,y),fe(A),A=(L^0<=G?-1:
1)*La(A[2]),e>A||e===A&&(y[0]||y[1]))&&(p+=L^0<=G?1:-1);if(!C++)break;A=F;rd=Pe;B=D;y=b}}a=(-1E-6>n||1E-6>n&&0>zd)^p&1;x.length?(u||(f.polygonStart(),u=!0),Ye(x,$f,a,c,f)):a&&(u||(f.polygonStart(),u=!0),f.lineStart(),c(null,null,1,f),f.lineEnd());u&&(f.polygonEnd(),u=!1);x=w=null},sphere:function(){f.polygonStart();f.lineStart();c(null,null,1,f);f.lineEnd();f.polygonEnd()}},x,z=ag(),U=b(z),u=!1,w,y;return v}}function Zf(a){return 1<a.length}function ag(){var a=[],b;return{lineStart:function(){a.push(b=
[])},point:function(a,c){b.push([a,c])},lineEnd:x,buffer:function(){var c=a;a=[];b=null;return c},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}function $f(a,b){return(0>(a=a.x)[0]?a[1]-Ea-1E-6:Ea-a[1])-(0>(b=b.x)[0]?b[1]-Ea-1E-6:Ea-b[1])}function $e(a){function b(a,c){return Math.cos(a)*Math.cos(c)>e}function c(a,b,d){var f=nc(a),h=nc(b),m=[1,0,0],h=Wc(f,h),k=ee(h,h),f=h[0],l=k-f*f;if(!l)return!d&&a;k=e*k/l;l=-e*f/l;f=Wc(m,h);m=Xc(m,k);h=Xc(h,l);Te(m,h);h=ee(m,f);k=ee(f,f);l=
h*h-k*(ee(m,m)-1);if(!(0>l)){var n=Math.sqrt(l),l=Xc(f,(-h-n)/k);Te(l,m);l=oc(l);if(!d)return l;d=a[0];var p=b[0];a=a[1];b=b[1];var q;p<d&&(q=d,d=p,p=q);var r=p-d,t=1E-6>ha(r-Z);!t&&b<a&&(q=a,a=b,b=q);if(t||1E-6>r?t?0<a+b^l[1]<(1E-6>ha(l[0]-d)?a:b):a<=l[1]&&l[1]<=b:r>Z^(d<=l[0]&&l[0]<=p))return b=Xc(f,(-h+n)/k),Te(b,m),[l,oc(b)]}}function d(b,c){var e=f?a:Z-a,h=0;b<-e?h|=1:b>e&&(h|=2);c<-e?h|=4:c>e&&(h|=8);return h}var e=Math.cos(a),f=0<e,h=1E-6<ha(e),m=bd(a,6*ka);return Ad(b,function(a){var e,m,
k,l,n;return{lineStart:function(){l=k=!1;n=1},point:function(p,q){var r=[p,q],t,v=b(p,q),x=f?v?0:d(p,q):v?d(p+(0>p?Z:-Z),q):0;!e&&(l=k=v)&&a.lineStart();v!==k&&(t=c(e,r),bc(e,t)||bc(r,t))&&(r[0]+=1E-6,r[1]+=1E-6,v=b(r[0],r[1]));if(v!==k)n=0,v?(a.lineStart(),t=c(r,e),a.point(t[0],t[1])):(t=c(e,r),a.point(t[0],t[1]),a.lineEnd()),e=t;else if(h&&e&&f^v){var U;x&m||!(U=c(r,e,!0))||(n=0,f?(a.lineStart(),a.point(U[0][0],U[0][1]),a.point(U[1][0],U[1][1]),a.lineEnd()):(a.point(U[1][0],U[1][1]),a.lineEnd(),
a.lineStart(),a.point(U[0][0],U[0][1])))}!v||e&&bc(e,r)||a.point(r[0],r[1]);e=r;k=v;m=x},lineEnd:function(){k&&a.lineEnd();e=null},clean:function(){return n|(l&&k)<<1}}},m,f?[0,-a]:[-Z,a-Z])}function af(a,b,c,d){return function(e){var f=e.a,h=e.b,m=f.x,f=f.y,k=0,l=1,n=h.x-m,h=h.y-f,p;p=a-m;if(n||!(0<p)){p/=n;if(0>n){if(p<k)return;p<l&&(l=p)}else if(0<n){if(p>l)return;p>k&&(k=p)}p=c-m;if(n||!(0>p)){p/=n;if(0>n){if(p>l)return;p>k&&(k=p)}else if(0<n){if(p<k)return;p<l&&(l=p)}p=b-f;if(h||!(0<p)){p/=h;
if(0>h){if(p<k)return;p<l&&(l=p)}else if(0<h){if(p>l)return;p>k&&(k=p)}p=d-f;if(h||!(0>p)){p/=h;if(0>h){if(p>l)return;p>k&&(k=p)}else if(0<h){if(p<k)return;p<l&&(l=p)}0<k&&(e.a={x:m+k*n,y:f+k*h});1>l&&(e.b={x:m+l*n,y:f+l*h});return e}}}}}}function bf(a,b,c,d){function e(d,f){return 1E-6>ha(d[0]-a)?0<f?0:3:1E-6>ha(d[0]-c)?0<f?2:1:1E-6>ha(d[1]-b)?0<f?1:0:0<f?3:2}function f(a,b){return h(a.x,b.x)}function h(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-
a[0]}return function(m){function k(f,m,l,n){var p=0,q=0;if(null==f||(p=e(f,l))!==(q=e(m,l))||0>h(f,m)^0<l){do n.point(0===p||3===p?a:c,1<p?d:b);while((p=(p+l+4)%4)!==q)}else n.point(m[0],m[1])}function l(e,f){a<=e&&e<=c&&b<=f&&f<=d&&m.point(e,f)}function n(e,f){e=Math.max(-1E9,Math.min(1E9,e));f=Math.max(-1E9,Math.min(1E9,f));var h=a<=e&&e<=c&&b<=f&&f<=d;v&&x.push([e,f]);if(Z)u=e,z=f,w=h,Z=!1,h&&(m.lineStart(),m.point(e,f));else if(h&&B)m.point(e,f);else{var k={a:{x:y,y:A},b:{x:e,y:f}};r(k)?(B||(m.lineStart(),
m.point(k.a.x,k.a.y)),m.point(k.b.x,k.b.y),h||m.lineEnd(),C=!1):h&&(m.lineStart(),m.point(e,f),C=!1)}y=e;A=f;B=h}var p=m,q=ag(),r=af(a,b,c,d),t,v,x,U={point:l,lineStart:function(){U.point=n;v&&v.push(x=[]);Z=!0;B=!1;y=A=NaN},lineEnd:function(){t&&(n(u,z),w&&B&&q.rejoin(),t.push(q.buffer()));U.point=l;B&&m.lineEnd()},polygonStart:function(){m=q;t=[];v=[];C=!0},polygonEnd:function(){m=p;t=E.merge(t);var b;b=[a,d];for(var c=0,e=v.length,h=b[1],l=0;l<e;++l)for(var n=1,q=v[l],r=q.length,U=q[0],u;n<r;++n)u=
q[n],U[1]<=h?u[1]>h&&0<eb(U,u,b)&&++c:u[1]<=h&&0>eb(U,u,b)&&--c,U=u;b=0!==c;c=C&&b;e=t.length;if(c||e)m.polygonStart(),c&&(m.lineStart(),k(null,null,1,m),m.lineEnd()),e&&Ye(t,f,b,k,m),m.polygonEnd();t=v=x=null}},u,z,w,y,A,B,Z,C;return U}}function sc(a){var b=0,c=Z/3,d=ie(a);a=d(b,c);a.parallels=function(a){return arguments.length?d(b=a[0]*Z/180,c=a[1]*Z/180):[b/Z*180,c/Z*180]};return a}function cf(a,b){function c(a,b){var d=Math.sqrt(f-2*e*Math.sin(b))/e;return[d*Math.sin(a*=e),h-d*Math.cos(a)]}var d=
Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),h=Math.sqrt(f)/e;c.invert=function(a,b){var c=h-b;return[Math.atan2(a,c)/e,La((f-(a*a+c*c)*e*e)/(2*e))]};return c}function je(){function a(b,c){bg+=e*b-d*c;d=b;e=c}var b,c,d,e;cd.point=function(f,h){cd.point=a;b=d=f;c=e=h};cd.lineEnd=function(){a(b,c)}}function cg(){function a(b,c){h.push("M",b,",",c,f)}function b(a,d){h.push("M",a,",",d);m.point=c}function c(a,b){h.push("L",a,",",b)}function d(){m.point=a}function e(){h.push("Z")}var f=dd(4.5),h=[],m=
{point:a,lineStart:function(){m.point=b},lineEnd:d,polygonStart:function(){m.lineEnd=e},polygonEnd:function(){m.lineEnd=d;m.point=a},pointRadius:function(a){f=dd(a);return m},result:function(){if(h.length){var a=h.join("");h=[];return a}}};return m}function dd(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Jc(a,b){Hc+=a;Ic+=b;++qc}function Bd(){function a(d,e){var f=d-b,h=e-c,f=Math.sqrt(f*f+h*h);Qb+=f*(b+d)/2;Rb+=f*(c+e)/2;qb+=f;Jc(b=d,c=e)}var b,c;dc.point=
function(d,e){dc.point=a;Jc(b=d,c=e)}}function Cd(){dc.point=Jc}function ke(){function a(b,c){var f=b-d,h=c-e,f=Math.sqrt(f*f+h*h);Qb+=f*(d+b)/2;Rb+=f*(e+c)/2;qb+=f;f=e*b-d*c;Yc+=f*(d+b);Zc+=f*(e+c);rc+=3*f;Jc(d=b,e=c)}var b,c,d,e;dc.point=function(f,h){dc.point=a;Jc(b=d=f,c=e=h)};dc.lineEnd=function(){a(b,c)}}function ed(a){function b(c,d){a.moveTo(c+h,d);a.arc(c,d,h,0,la)}function c(b,e){a.moveTo(b,e);m.point=d}function d(b,c){a.lineTo(b,c)}function e(){m.point=b}function f(){a.closePath()}var h=
4.5,m={point:b,lineStart:function(){m.point=c},lineEnd:e,polygonStart:function(){m.lineEnd=f},polygonEnd:function(){m.lineEnd=e;m.point=b},pointRadius:function(a){h=a;return m},result:x};return m}function Dd(a){function b(a){return(m?d:c)(a)}function c(b){return Kc(b,function(c,d){c=a(c,d);b.point(c[0],c[1])})}function d(b){function c(d,e){d=a(d,e);b.point(d[0],d[1])}function f(){z=NaN;Z.point=h;b.lineStart()}function h(c,d){var f=nc([c,d]),k=a(c,d);e(z,w,u,y,A,B,z=k[0],w=k[1],u=c,y=f[0],A=f[1],B=
f[2],m,b);b.point(z,w)}function k(){Z.point=c;b.lineEnd()}function l(){f();Z.point=n;Z.lineEnd=p}function n(a,b){h(q=a,b);r=z;t=w;v=y;x=A;U=B;Z.point=h}function p(){e(z,w,u,y,A,B,r,t,q,v,x,U,m,b);Z.lineEnd=k;k()}var q,r,t,v,x,U,u,z,w,y,A,B,Z={point:c,lineStart:f,lineEnd:k,polygonStart:function(){b.polygonStart();Z.lineStart=l},polygonEnd:function(){b.polygonEnd();Z.lineStart=f}};return Z}function e(b,c,d,m,k,l,n,p,q,r,t,v,x,U){var u=n-b,z=p-c,w=u*u+z*z;if(w>4*f&&x--){var y=m+r,A=k+t,B=l+v,Z=Math.sqrt(y*
y+A*A+B*B),C=Math.asin(B/=Z),la=1E-6>ha(ha(B)-1)||1E-6>ha(d-q)?(d+q)/2:Math.atan2(A,y),D=a(la,C),C=D[0],D=D[1],F=C-b,Pe=D-c,G=z*F-u*Pe;if(G*G/w>f||.3<ha((u*F+z*Pe)/w-.5)||m*r+k*t+l*v<h)e(b,c,d,m,k,l,C,D,la,y/=Z,A/=Z,B,x,U),U.point(C,D),e(C,D,la,y,A,B,n,p,q,r,t,v,x,U)}}var f=.5,h=Math.cos(30*ka),m=16;b.precision=function(a){if(!arguments.length)return Math.sqrt(f);m=0<(f=a*a)&&16;return b};return b}function Ed(a){var b=Dd(function(b,c){return a([b*ya,c*ya])});return function(a){return le(b(a))}}function Fd(a){this.stream=
a}function Kc(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function Sb(a){return ie(function(){return a})()}function ie(a){function b(a){a=m(a[0]*ka,a[1]*ka);return[a[0]*l+U,u-a[1]*l]}function c(a){return(a=m.invert((a[0]-U)/l,(u-a[1])/l))&&[a[0]*ya,a[1]*ya]}function d(){m=Xe(h=tc(t,v,x),f);var a=f(q,r);U=n-a[0]*l;u=p+a[1]*l;return e()}function e(){Z&&
(Z.valid=!1,Z=null);return b}var f,h,m,k=Dd(function(a,b){a=f(a,b);return[a[0]*l+U,u-a[1]*l]}),l=150,n=480,p=250,q=0,r=0,t=0,v=0,x=0,U,u,z=uh,y=w,A=null,B=null,Z;b.stream=function(a){Z&&(Z.valid=!1);Z=le(z(h,k(y(a))));Z.valid=!0;return Z};b.clipAngle=function(a){if(!arguments.length)return A;z=null==a?(A=a,uh):$e((A=+a)*ka);return e()};b.clipExtent=function(a){if(!arguments.length)return B;y=(B=a)?bf(a[0][0],a[0][1],a[1][0],a[1][1]):w;return e()};b.scale=function(a){if(!arguments.length)return l;
l=+a;return d()};b.translate=function(a){if(!arguments.length)return[n,p];n=+a[0];p=+a[1];return d()};b.center=function(a){if(!arguments.length)return[q*ya,r*ya];q=a[0]%360*ka;r=a[1]%360*ka;return d()};b.rotate=function(a){if(!arguments.length)return[t*ya,v*ya,x*ya];t=a[0]%360*ka;v=a[1]%360*ka;x=2<a.length?a[2]%360*ka:0;return d()};E.rebind(b,k,"precision");return function(){f=a.apply(this,arguments);b.invert=f.invert&&c;return d()}}function le(a){return Kc(a,function(b,c){a.point(b*ka,c*ka)})}function ma(a,
b){return[a,b]}function me(a,b){return[a>Z?a-la:a<-Z?a+la:a,b]}function tc(a,b,c){return a?b||c?Xe(df(a),dg(b,c)):df(a):b||c?dg(b,c):me}function eg(a){return function(b,c){return b+=a,[b>Z?b-la:b<-Z?b+la:b,c]}}function df(a){var b=eg(a);b.invert=eg(-a);return b}function dg(a,b){function c(a,b){var m=Math.cos(b),k=Math.cos(a)*m,m=Math.sin(a)*m,l=Math.sin(b),n=l*d+k*e;return[Math.atan2(m*f-n*h,k*d-l*e),La(n*f+m*h)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),h=Math.sin(b);c.invert=function(a,b){var c=
Math.cos(b),m=Math.cos(a)*c,c=Math.sin(a)*c,k=Math.sin(b),l=k*f-c*h;return[Math.atan2(c*f+k*h,m*d+l*e),La(l*d-m*e)]};return c}function bd(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,h,m){var k=h*b;if(null!=e){if(e=fd(c,e),f=fd(c,f),0<h?e<f:e>f)e+=h*la}else e=a+h*la,f=a-.5*k;for(var l;0<h?e>f:e<f;e-=k)m.point((l=oc([c,-d*Math.cos(e),-d*Math.sin(e)]))[0],l[1])}}function fd(a,b){var c=nc(b);c[0]-=a;fe(c);var d=fb(-c[1]);return((0>-c[2]?-d:d)+2*Math.PI-1E-6)%(2*Math.PI)}function ne(a,b,c){var d=
E.range(a,b-1E-6,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function ef(a,b,c){var d=E.range(a,b-1E-6,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function oe(a){return a.source}function ff(a){return a.target}function fg(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),h=Math.cos(d),m=Math.sin(d),k=e*Math.cos(a),l=e*Math.sin(a),n=h*Math.cos(c),p=h*Math.sin(c),q=2*Math.asin(Math.sqrt(ob(d-b)+e*h*ob(c-a))),r=1/Math.sin(q);c=q?function(a){var b=Math.sin(a*=
q)*r;a=Math.sin(q-a)*r;var c=a*k+b*n,d=a*l+b*p;return[Math.atan2(d,c)*ya,Math.atan2(a*f+b*m,Math.sqrt(c*c+d*d))*ya]}:function(){return[a*ya,b*ya]};c.distance=q;return c}function gd(a,b){function c(b,d){var e=Math.cos(d),f=a(Math.cos(b)*e);return[f*e*Math.sin(b),f*Math.sin(d)]}c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e);return[Math.atan2(a*f,d*Math.cos(e)),Math.asin(d&&c*f/d)]};return c}function gf(a,b){function c(a,b){0<f?b<-Ea+1E-6&&(b=-Ea+1E-6):b>Ea-1E-6&&(b=Ea-1E-6);var d=
f/Math.pow(Math.tan(Z/4+b/2),e);return[d*Math.sin(e*a),f-d*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(Z/4+b/2)/Math.tan(Z/4+a/2)),f=d*Math.pow(Math.tan(Z/4+a/2),e)/e;if(!e)return Gd;c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/((0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)),1/e))-Ea]};return c}function uc(a,b){function c(a,b){var d=f-b;return[d*Math.sin(e*a),f-d*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/
(b-a),f=d/e+a;if(1E-6>ha(e))return ma;c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)]};return c}function Gd(a,b){return[a,Math.log(Math.tan(Z/4+b/2))]}function Ab(a){var b=Sb(a),c=b.scale,d=b.translate,e=b.clipExtent,f;b.scale=function(){var a=c.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.translate=function(){var a=d.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a};b.clipExtent=function(a){var h=e.apply(b,arguments);if(h===
b){if(f=null==a){var m=Z*c(),k=d();e([[k[0]-m,k[1]-m],[k[0]+m,k[1]+m]])}}else f&&(h=null);return h};return b.clipExtent(null)}function Hd(a,b){return[Math.log(Math.tan(Z/4+b/2)),-a]}function Lc(a){return a[0]}function Bb(a){return a[1]}function pe(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;1<d&&0>=eb(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function Id(a,b){return a[0]-b[0]||a[1]-b[1]}function hf(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function qe(a,
b,c,d){var e=a[0],f=c[0],h=b[0]-e,m=d[0]-f;a=a[1];c=c[1];b=b[1]-a;d=d[1]-c;f=(m*(a-c)-d*(e-f))/(d*h-m*b);return[e+f*h,a+f*b]}function jf(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function kf(){Jd(this);this.edge=this.site=this.circle=null}function lf(a){var b=vh.pop()||new kf;b.site=a;return b}function re(a){hd(a);se.remove(a);vh.push(a);Jd(a)}function mf(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var h=a.P;if(!h)return-Infinity;var c=h.site,h=c.x,c=c.y,m=c-b;if(!m)return h;
var k=h-d,l=1/f-1/m,n=k/m;return l?(-n+Math.sqrt(n*n-2*l*(k*k/(-2*m)-c+m/2+e-f/2)))/l+d:(d+h)/2}function te(a){this.site=a;this.edges=[]}function nf(a,b){return b.angle-a.angle}function gg(){Jd(this);this.x=this.y=this.arc=this.site=this.cy=null}function jd(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,b=a.site,e=c.site;if(d!==e){var c=b.x,f=b.y,h=d.x-c,m=d.y-f,d=e.x-c,e=e.y-f,k=2*(h*e-m*d);if(!(-1E-12<=k)){var l=h*h+m*m,n=d*d+e*e,m=(e*l-m*n)/k,h=(h*n-d*l)/k,e=h+f,f=wh.pop()||new gg;f.arc=a;f.site=b;f.x=
m+c;f.y=e+Math.sqrt(m*m+h*h);f.cy=e;a.circle=f;a=null;for(b=of._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x)if(b.L)b=b.L;else{a=b.P;break}else if(b.R)b=b.R;else{a=b;break}of.insert(a,f);a||(Ug=f)}}}}function hd(a){var b=a.circle;b&&(b.P||(Ug=b.N),of.remove(b),wh.push(b),Jd(b),a.circle=null)}function Vg(a,b){var c=a.b;if(c)return!0;var d=a.a,c=b[0][0],e=b[1][0],f=b[0][1],h=b[1][1],m=a.l,k=a.r,l=m.x,m=m.y,n=k.x,k=k.y,p=(l+n)/2,q;if(k===m){if(p<c||p>=e)return;if(l>n){if(!d)d={x:p,y:f};else if(d.y>=h)return;
c={x:p,y:h}}else{if(!d)d={x:p,y:h};else if(d.y<f)return;c={x:p,y:f}}}else if(q=(l-n)/(k-m),p=(m+k)/2-q*p,-1>q||1<q)if(l>n){if(!d)d={x:(f-p)/q,y:f};else if(d.y>=h)return;c={x:(h-p)/q,y:h}}else{if(!d)d={x:(h-p)/q,y:h};else if(d.y<f)return;c={x:(f-p)/q,y:f}}else if(m<k){if(!d)d={x:c,y:q*c+p};else if(d.x>=e)return;c={x:e,y:q*e+p}}else{if(!d)d={x:e,y:q*e+p};else if(d.x<c)return;c={x:c,y:q*c+p}}a.a=d;a.b=c;return!0}function pf(a,b){this.l=a;this.r=b;this.a=this.b=null}function kd(a,b,c,d){var e=new pf(a,
b);ue.push(e);c&&vc(e,a,b,c);d&&vc(e,b,a,d);Kd[a.i].edges.push(new wc(e,a,b));Kd[b.i].edges.push(new wc(e,b,a));return e}function qf(a,b,c){a=new pf(a,null);a.a=b;a.b=c;ue.push(a);return a}function vc(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function wc(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function ec(){this._=null}function Jd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function ia(a,
b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function fc(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function ve(a){for(;a.L;)a=a.L;return a}function rb(a,b){var c=a.sort(Ga).pop(),d,e,f;ue=[];Kd=Array(a.length);se=new ec;for(of=new ec;;)if(f=Ug,c&&(!f||c.y<f.y||c.y===f.y&&c.x<f.x)){if(c.x!==d||c.y!==e){Kd[c.i]=new te(c);d=c;for(var h=d.x,m=d.y,k=f=e=void 0,l=void 0,n=se._;n;)if(k=mf(n,m)-h,1E-6<k)n=n.L;else{var p=
n,l=m,q=p.N;q?l=mf(q,l):(p=p.site,l=p.y===l?p.x:Infinity);l=h-l;if(1E-6<l){if(!n.R){e=n;break}n=n.R}else{-1E-6<k?(e=n.P,f=n):-1E-6<l?(e=n,f=n.N):e=f=n;break}}h=lf(d);se.insert(e,h);if(e||f)if(e===f)hd(e),f=lf(e.site),se.insert(h,f),h.edge=f.edge=kd(e.site,h.site),jd(e),jd(f);else if(f){hd(e);hd(f);var m=e.site,n=m.x,l=m.y,p=d.x-n,q=d.y-l,k=f.site,r=k.x-n,t=k.y-l,v=2*(p*t-q*r),x=p*p+q*q,U=r*r+t*t,n={x:(t*x-q*U)/v+n,y:(p*U-r*x)/v+l};vc(f.edge,m,k,n);h.edge=kd(m,d,null,n);f.edge=kd(d,k,null,n);jd(e);
jd(f)}else h.edge=kd(e.site,h.site);d=c.x;e=c.y}c=a.pop()}else if(f){k=f.arc;f=k.circle;m=f.x;n=f.cy;f={x:m,y:n};p=k.P;l=k.N;h=[k];re(k);for(k=p;k.circle&&1E-6>ha(m-k.circle.x)&&1E-6>ha(n-k.circle.cy);)p=k.P,h.unshift(k),re(k),k=p;h.unshift(k);hd(k);for(p=l;p.circle&&1E-6>ha(m-p.circle.x)&&1E-6>ha(n-p.circle.cy);)l=p.N,h.push(p),re(p),p=l;h.push(p);hd(p);m=h.length;n=void 0;for(n=1;n<m;++n)p=h[n],k=h[n-1],vc(p.edge,k.site,p.site,f);k=h[0];p=h[m-1];p.edge=kd(k.site,p.site,null,f);jd(k);jd(p)}else break;
if(b){c=ue;d=af(b[0][0],b[0][1],b[1][0],b[1][1]);for(e=c.length;e--;)if(f=c[e],!Vg(f,b)||!d(f)||1E-6>ha(f.a.x-f.b.x)&&1E-6>ha(f.a.y-f.b.y))f.a=f.b=null,c.splice(e,1);c=b[0][0];d=b[1][0];e=b[0][1];f=b[1][1];n=Kd;for(l=n.length;l--;)if((p=n[l])&&p.prepare())for(r=p.edges,t=r.length,q=0;q<t;)if(v=r[q].end(),m=v.x,k=v.y,x=r[++q%t].start(),h=x.x,x=x.y,1E-6<ha(m-h)||1E-6<ha(k-x))r.splice(q,0,new wc(qf(p.site,v,1E-6>ha(m-c)&&1E-6<f-k?{x:c,y:1E-6>ha(h-c)?x:f}:1E-6>ha(k-f)&&1E-6<d-m?{x:1E-6>ha(x-f)?h:d,y:f}:
1E-6>ha(m-d)&&1E-6<k-e?{x:d,y:1E-6>ha(h-d)?x:e}:1E-6>ha(k-e)&&1E-6<m-c?{x:1E-6>ha(x-e)?h:c,y:e}:null),p.site,null)),++t}c={cells:Kd,edges:ue};se=of=ue=Kd=null;return c}function Ga(a,b){return b.y-a.y||b.x-a.x}function Mc(a){return a.x}function Tb(a){return a.y}function Cb(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function xc(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var h=.5*(c+e),m=.5*(d+f);b=b.nodes;b[0]&&xc(a,b[0],c,d,h,m);b[1]&&xc(a,b[1],h,d,e,m);b[2]&&xc(a,b[2],c,m,h,f);b[3]&&xc(a,b[3],h,m,e,
f)}}function rf(a,b,c,d,e,f,h){var m=Infinity,k;(function Rf(a,l,n,p,q){if(!(l>f||n>h||p<d||q<e)){if(r=a.point){var r,t=b-a.x,v=c-a.y,t=t*t+v*v;t<m&&(t=Math.sqrt(m=t),d=b-t,e=c-t,f=b+t,h=c+t,k=r)}r=a.nodes;for(var t=.5*(l+p),v=.5*(n+q),x=(c>=v)<<1|b>=t,U=x+4;x<U;++x)if(a=r[x&3])switch(x&3){case 0:Rf(a,l,n,t,v);break;case 1:Rf(a,t,n,p,v);break;case 2:Rf(a,l,v,t,q);break;case 3:Rf(a,t,v,p,q)}}})(a,d,e,f,h);return k}function we(a,b){a=E.rgb(a);b=E.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,h=b.g-d,m=b.b-e;
return function(a){return"#"+tb(Math.round(c+f*a))+tb(Math.round(d+h*a))+tb(Math.round(e+m*a))}}function sf(a,b){var c={},d={},e;for(e in a)e in b?c[e]=Nc(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}}function sb(a,b){a=+a;b=+b;return function(c){return a*(1-c)+b*c}}function tf(a,b){var c=Wg.lastIndex=Xg.lastIndex=0,d,e,f,h=-1,m=[],k=[];a+="";for(b+="";(d=Wg.exec(a))&&(e=Xg.exec(b));)(f=e.index)>c&&(f=b.slice(c,f),m[h]?m[h]+=f:m[++h]=f),(d=
d[0])===(e=e[0])?m[h]?m[h]+=e:m[++h]=e:(m[++h]=null,k.push({i:h,x:sb(d,e)})),c=Xg.lastIndex;c<b.length&&(f=b.slice(c),m[h]?m[h]+=f:m[++h]=f);return 2>m.length?k[0]?(b=k[0].x,function(a){return b(a)+""}):function(){return b}:(b=k.length,function(a){for(var c=0,d;c<b;++c)m[(d=k[c]).i]=d.x(a);return m.join("")})}function Nc(a,b){for(var c=E.interpolators.length,d;0<=--c&&!(d=E.interpolators[c](a,b)););return d}function gc(a,b){var c=[],d=[],e=a.length,f=b.length,h=Math.min(a.length,b.length),m;for(m=
0;m<h;++m)c.push(Nc(a[m],b[m]));for(;m<e;++m)d[m]=a[m];for(;m<f;++m)d[m]=b[m];return function(a){for(m=0;m<h;++m)d[m]=c[m](a);return d}}function hg(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function uf(a){return function(b){return 1-a(1-b)}}function vf(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function wf(a){return a*a}function ig(a){return a*a*a}function Ra(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function Yg(a){return 1-Math.cos(a*
Ea)}function Ub(a){return Math.pow(2,10*(a-1))}function jg(a){return 1-Math.sqrt(1-a*a)}function Db(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Oc(a,b){b-=a;return function(c){return Math.round(a+b*c)}}function xe(a){var b=[a.a,a.b],c=[a.c,a.d],d=xf(b),e=b[0]*c[0]+b[1]*c[1],f=-e;c[0]+=f*b[0];c[1]+=f*b[1];f=xf(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],
b[0]):Math.atan2(-c[0],c[1]))*ya;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*ya:0}function xf(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function yf(a,b){var c=[],d=[],e,f=E.transform(a),h=E.transform(b),m=f.translate,k=h.translate,l=f.rotate,n=h.rotate,p=f.skew,q=h.skew,f=f.scale,h=h.scale;m[0]!=k[0]||m[1]!=k[1]?(c.push("translate(",null,",",null,")"),d.push({i:1,x:sb(m[0],k[0])},{i:3,x:sb(m[1],k[1])})):k[0]||k[1]?c.push("translate("+k+")"):c.push("");
l!=n?(180<l-n?n+=360:180<n-l&&(l+=360),d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:sb(l,n)})):n&&c.push(c.pop()+"rotate("+n+")");p!=q?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:sb(p,q)}):q&&c.push(c.pop()+"skewX("+q+")");f[0]!=h[0]||f[1]!=h[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({i:e-4,x:sb(f[0],h[0])},{i:e-2,x:sb(f[1],h[1])})):1==h[0]&&1==h[1]||c.push(c.pop()+"scale("+h+")");e=d.length;return function(a){for(var b=-1,f;++b<e;)c[(f=d[b]).i]=f.x(a);return c.join("")}}function xa(a,
b){b=(b-=a=+a)||1/b;return function(c){return(c-a)/b}}function Xa(a,b){b=(b-=a=+a)||1/b;return function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Ld(a){var b=a.source;a=a.target;var c;var d=a;if(b===d)c=b;else{c=zf(b);for(var d=zf(d),e=c.pop(),f=d.pop(),h=null;e===f;)h=e,e=c.pop(),f=d.pop();c=h}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d}function zf(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);return b}function Md(a){a.fixed|=
2}function Vb(a){a.fixed&=-7}function ye(a){a.fixed|=4;a.px=a.x;a.py=a.y}function kg(a){a.fixed&=-5}function ld(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf)for(var f=a.nodes,h=f.length,m=-1,k;++m<h;)k=f[m],null!=k&&(ld(k,b,c),a.charge+=k.charge,d+=k.charge*k.cx,e+=k.charge*k.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function ea(a,b){E.rebind(a,b,"sort","children",
"value");a.nodes=a;a.links=ze;return a}function Eb(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function Ia(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(h=a.children)&&(f=h.length))for(var e=-1,f,h;++e<f;)c.push(h[e]);for(;null!=(a=d.pop());)b(a)}function yc(a){return a.children}function Af(a){return a.value}function Ae(a,b){return b.value-a.value}function ze(a){return E.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,
target:b}})}))}function Bf(a){return a.x}function lg(a){return a.y}function Zg(a,b,c){a.y0=b;a.y=c}function Cf(a){return E.range(a.length)}function Df(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function $g(a){for(var b=1,c=0,d=a[0][1],e,f=a.length;b<f;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function Ef(a){return a.reduce(Ff,0)}function Ff(a,b){return a+b[1]}function Be(a,b){return Nd(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Nd(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=
[];++c<=b;)f[c]=e*c+d;return f}function mg(a){return[E.min(a),E.max(a)]}function ng(a,b){return a.value-b.value}function Od(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function Ce(a,b){a._pack_next=b;b._pack_prev=a}function De(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function Gf(a){function b(a){d=Math.min(a.x-a.r,d);e=Math.max(a.x+a.r,e);f=Math.min(a.y-a.r,f);h=Math.max(a.y+a.r,h)}if((c=a.children)&&(r=c.length)){var c,d=Infinity,e=-Infinity,
f=Infinity,h=-Infinity,m,k,l,n,p,q,r;c.forEach(Pd);m=c[0];m.x=-m.r;m.y=0;b(m);if(1<r&&(k=c[1],k.x=k.r,k.y=0,b(k),2<r))for(l=c[2],qa(m,k,l),b(l),Od(m,l),m._pack_prev=l,Od(l,k),k=m._pack_next,n=3;n<r;n++){qa(m,k,l=c[n]);var t=0,v=1,x=1;for(p=k._pack_next;p!==k;p=p._pack_next,v++)if(De(p,l)){t=1;break}if(1==t)for(q=m._pack_prev;q!==p._pack_prev&&!De(q,l);q=q._pack_prev,x++);t?(v<x||v==x&&k.r<m.r?Ce(m,k=p):Ce(m=q,k),n--):(Od(m,l),k=l,b(l))}m=(d+e)/2;k=(f+h)/2;for(n=p=0;n<r;n++)l=c[n],l.x-=m,l.y-=k,p=
Math.max(p,l.r+Math.sqrt(l.x*l.x+l.y*l.y));a.r=p;c.forEach(og)}}function Pd(a){a._pack_next=a._pack_prev=a}function og(a){delete a._pack_next;delete a._pack_prev}function Hf(a,b,c,d){var e=a.children;a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=d;if(e){a=-1;for(var f=e.length;++a<f;)Hf(e[a],b,c,d)}}function qa(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var h=b.r+c.r,m=e*e+f*f,h=h*h,d=d*d;b=.5+(d-h)/(2*m);h=Math.sqrt(Math.max(0,2*h*(d+m)-(d-=m)*d-h*h))/(2*m);c.x=a.x+b*e+h*f;c.y=a.y+b*f-h*e}else c.x=
a.x+d,c.y=a.y}function wa(a,b){return a.parent==b.parent?1:2}function Na(a){var b=a.children;return b.length?b[0]:a.t}function If(a){var b=a.children,c;return(c=b.length)?b[c-1]:a.t}function ah(a){return 1+E.max(a,function(a){return a.y})}function Fb(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Jf(a){var b=a.children;return b&&b.length?Jf(b[0]):a}function Ee(a){var b=a.children,c;return b&&(c=b.length)?Ee(b[c-1]):a}function Kf(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function pg(a,
b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];0>e&&(c+=e/2,e=0);0>f&&(d+=f/2,f=0);return{x:c,y:d,dx:e,dy:f}}function Wb(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function md(a){return a.rangeExtent?a.rangeExtent():Wb(a.range())}function Gb(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Fe(a,b){var c=0,d=a.length-1,e=a[c],f=a[d],h;f<e&&(h=c,c=d,d=h,h=e,e=f,f=h);a[c]=b.floor(e);a[d]=b.ceil(f);return a}function zc(a){return a?{floor:function(b){return Math.floor(b/
a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Sh}function qg(a,b,c,d){var e=[],f=[],h=0,m=Math.min(a.length,b.length)-1;a[m]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++h<=m;)e.push(c(a[h-1],a[h])),f.push(d(b[h-1],b[h]));return function(b){var c=E.bisect(a,b,1,m)-1;return f[c](e[c](b))}}function Ge(a,b,c,d){function e(){var k=2<Math.min(a.length,b.length)?qg:Gb,l=d?Xa:xa;h=k(a,b,l,c);m=k(b,a,l,Nc);return f}function f(a){return h(a)}var h,m;f.invert=function(a){return m(a)};f.domain=
function(b){if(!arguments.length)return a;a=b.map(Number);return e()};f.range=function(a){if(!arguments.length)return b;b=a;return e()};f.rangeRound=function(a){return f.range(a).interpolate(Oc)};f.clamp=function(a){if(!arguments.length)return d;d=a;return e()};f.interpolate=function(a){if(!arguments.length)return c;c=a;return e()};f.ticks=function(b){return E.range.apply(E,db(a,b))};f.tickFormat=function(b,c){return aa(a,b,c)};f.nice=function(b){Fe(a,zc(db(a,b)[2]));return e()};f.copy=function(){return Ge(a,
b,c,d)};return e()}function He(a,b){return E.rebind(a,b,"range","rangeRound","interpolate","clamp")}function db(a,b){null==b&&(b=10);var c=Wb(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),d=b/d*e;.15>=d?e*=10:.35>=d?e*=5:.75>=d&&(e*=2);c[0]=Math.ceil(c[0]/e)*e;c[1]=Math.floor(c[1]/e)*e+.5*e;c[2]=e;return c}function aa(a,b,c){a=db(a,b);if(c){b=qh.exec(c);b.shift();if("s"===b[8]){var d=E.formatPrefix(Math.max(ha(a[0]),ha(a[1])));b[7]||(b[7]="."+oa(d.scale(a[2])));b[8]="f";c=E.format(b.join(""));
return function(a){return c(d.scale(a))+d.symbol}}b[7]||(b[7]="."+Lf(b[8],a));c=b.join("")}else c=",."+oa(a[2])+"f";return E.format(c)}function oa(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Lf(a,b){var c=oa(b[2]);return a in Th?Math.abs(c-oa(Math.max(ha(b[0]),ha(b[1]))))+ +("e"!==a):c-2*("%"===a)}function Ac(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function h(b){return a(e(b))}h.invert=function(b){return f(a.invert(b))};
h.domain=function(b){if(!arguments.length)return d;c=0<=b[0];a.domain((d=b.map(Number)).map(e));return h};h.base=function(c){if(!arguments.length)return b;b=+c;a.domain(d.map(e));return h};h.nice=function(){var b=Fe(d.map(e),c?Math:Uh);a.domain(b);d=b.map(f);return h};h.ticks=function(){var a=Wb(d),h=[],m=a[0],a=a[1],k=Math.floor(e(m)),l=Math.ceil(e(a)),n=b%1?2:b;if(isFinite(l-k)){if(c){for(;k<l;k++)for(var p=1;p<n;p++)h.push(f(k)*p);h.push(f(k))}else for(h.push(f(k));k++<l;)for(p=n-1;0<p;p--)h.push(f(k)*
p);for(k=0;h[k]<m;k++);for(l=h.length;h[l-1]>a;l--);h=h.slice(k,l)}return h};h.tickFormat=function(a,b){if(!arguments.length)return xh;2>arguments.length?b=xh:"function"!==typeof b&&(b=E.format(b));var d=Math.max(.1,a/h.ticks().length),m=c?(k=1E-12,Math.ceil):(k=-1E-12,Math.floor),k;return function(a){return a/f(m(e(a)+k))<=d?b(a):""}};h.copy=function(){return Ac(a.copy(),b,c,d)};return He(h,a)}function Pc(a,b,c){function d(b){return a(e(b))}var e=Ie(b),f=Ie(1/b);d.invert=function(b){return f(a.invert(b))};
d.domain=function(b){if(!arguments.length)return c;a.domain((c=b.map(Number)).map(e));return d};d.ticks=function(a){return E.range.apply(E,db(c,a))};d.tickFormat=function(a,b){return aa(c,a,b)};d.nice=function(a){return d.domain(Fe(c,zc(db(c,a)[2])))};d.exponent=function(h){if(!arguments.length)return b;e=Ie(b=h);f=Ie(1/b);a.domain(c.map(e));return d};d.copy=function(){return Pc(a.copy(),b,c)};return He(d,a)}function Ie(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function Bc(a,
b){function c(d){return f[((e.get(d)||("range"===b.t?e.set(d,a.push(d)):NaN))-1)%f.length]}function d(b,c){return E.range(a.length).map(function(a){return b+c*a})}var e,f,h;c.domain=function(d){if(!arguments.length)return a;a=[];e=new m;for(var f=-1,h=d.length,k;++f<h;)e.has(k=d[f])||e.set(k,a.push(k));return c[b.t].apply(c,b.a)};c.range=function(a){if(!arguments.length)return f;f=a;h=0;b={t:"range",a:arguments};return c};c.rangePoints=function(e,m){2>arguments.length&&(m=0);var k=e[0],l=e[1],l=2>
a.length?(k=(k+l)/2,0):(l-k)/(a.length-1+m);f=d(k+l*m/2,l);h=0;b={t:"rangePoints",a:arguments};return c};c.rangeRoundPoints=function(e,m){2>arguments.length&&(m=0);var k=e[0],l=e[1],n=2>a.length?(k=l=Math.round((k+l)/2),0):(l-k)/(a.length-1+m)|0;f=d(k+Math.round(n*m/2+(l-k-(a.length-1+m)*n)/2),n);h=0;b={t:"rangeRoundPoints",a:arguments};return c};c.rangeBands=function(e,m,k){2>arguments.length&&(m=0);3>arguments.length&&(k=m);var l=e[1]<e[0],n=e[l-0],p=(e[1-l]-n)/(a.length-m+2*k);f=d(n+p*k,p);l&&
f.reverse();h=p*(1-m);b={t:"rangeBands",a:arguments};return c};c.rangeRoundBands=function(e,m,k){2>arguments.length&&(m=0);3>arguments.length&&(k=m);var l=e[1]<e[0],n=e[l-0],p=e[1-l],q=Math.floor((p-n)/(a.length-m+2*k));f=d(n+Math.round((p-n-(a.length-m)*q)/2),q);l&&f.reverse();h=Math.round(q*(1-m));b={t:"rangeRoundBands",a:arguments};return c};c.rangeBand=function(){return h};c.rangeExtent=function(){return Wb(b.a[0])};c.copy=function(){return Bc(a,b)};return c.domain(a)}function Qd(a,b){function c(){var f=
0,h=b.length;for(e=[];++f<h;)e[f-1]=E.quantile(a,f/h);return d}function d(a){if(!isNaN(a=+a))return b[E.bisect(e,a)]}var e;d.domain=function(b){if(!arguments.length)return a;a=b.map(h).filter(f).sort(k);return c()};d.range=function(a){if(!arguments.length)return b;b=a;return c()};d.quantiles=function(){return e};d.invertExtent=function(c){c=b.indexOf(c);return 0>c?[NaN,NaN]:[0<c?e[c-1]:a[0],c<e.length?e[c]:a[a.length-1]]};d.copy=function(){return Qd(a,b)};return c()}function Rd(a,b,c){function d(b){return c[Math.max(0,
Math.min(h,Math.floor(f*(b-a))))]}function e(){f=c.length/(b-a);h=c.length-1;return d}var f,h;d.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=+c[c.length-1];return e()};d.range=function(a){if(!arguments.length)return c;c=a;return e()};d.invertExtent=function(b){b=c.indexOf(b);b=0>b?NaN:b/f+a;return[b,b+1/f]};d.copy=function(){return Rd(a,b,c)};return e()}function Mf(a,b){function c(d){if(d<=d)return b[E.bisect(a,d)]}c.domain=function(b){if(!arguments.length)return a;a=b;return c};
c.range=function(a){if(!arguments.length)return b;b=a;return c};c.invertExtent=function(c){c=b.indexOf(c);return[a[c-1],a[c]]};c.copy=function(){return Mf(a,b)};return c}function Sd(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};b.ticks=function(b){return E.range.apply(E,db(a,b))};b.tickFormat=function(b,c){return aa(a,b,c)};b.copy=function(){return Sd(a)};return b}function Hb(){return 0}function rg(a){return a.innerRadius}function Nf(a){return a.outerRadius}
function hc(a){return a.startAngle}function sg(a){return a.endAngle}function nd(a){return a&&a.padAngle}function Td(a,b,c,d){return 0<(a-c)*b-(b-d)*a?0:1}function Ud(a,b,c,d,e){var f=a[0]-b[0],h=a[1]-b[1];e=(e?d:-d)/Math.sqrt(f*f+h*h);var h=e*h,f=-e*f,m=a[0]+h,k=a[1]+f,l=b[0]+h,n=b[1]+f;a=(m+l)/2;b=(k+n)/2;e=l-m;var p=n-k,q=e*e+p*p;d=c-d;var n=m*n-l*k,r=(0>p?-1:1)*Math.sqrt(d*d*q-n*n),m=(n*p-e*r)/q,k=(-n*e-p*r)/q,l=(n*p+e*r)/q;e=(-n*e+p*r)/q;p=m-a;q=k-b;a=l-a;b=e-b;p*p+q*q>a*a+b*b&&(m=l,k=e);return[[m-
h,k-f],[m*c/d,k*c/d]]}function od(a){function b(h){function k(){l.push("M",f(a(n),m))}for(var l=[],n=[],p=-1,q=h.length,r,t=pa(c),v=pa(d);++p<q;)e.call(this,r=h[p],p)?n.push([+t.call(this,r,p),+v.call(this,r,p)]):n.length&&(k(),n=[]);n.length&&k();return l.length?l.join(""):null}var c=Lc,d=Bb,e=$c,f=Ya,h=f.key,m=.7;b.x=function(a){if(!arguments.length)return c;c=a;return b};b.y=function(a){if(!arguments.length)return d;d=a;return b};b.defined=function(a){if(!arguments.length)return e;e=a;return b};
b.interpolate=function(a){if(!arguments.length)return h;h="function"===typeof a?f=a:(f=bh.get(a)||Ya).key;return b};b.tension=function(a){if(!arguments.length)return m;m=a;return b};return b}function Ya(a){return a.join("L")}function Vd(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function ic(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Cc(a,b){if(1>b.length||a.length!=
b.length&&a.length!=b.length+2)return Ya(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],h=b[0],m=h,k=1;c&&(d+="Q"+(f[0]-2*h[0]/3)+","+(f[1]-2*h[1]/3)+","+f[0]+","+f[1],e=a[1],k=2);if(1<b.length)for(m=b[1],f=a[k],k++,d+="C"+(e[0]+h[0])+","+(e[1]+h[1])+","+(f[0]-m[0])+","+(f[1]-m[1])+","+f[0]+","+f[1],e=2;e<b.length;e++,k++)f=a[k],m=b[e],d+="S"+(f[0]-m[0])+","+(f[1]-m[1])+","+f[0]+","+f[1];c&&(c=a[k],d+="Q"+(f[0]+2*m[0]/3)+","+(f[1]+2*m[1]/3)+","+c[0]+","+c[1]);return d}function Of(a,b){for(var c=[],
d=(1-b)/2,e,f=a[0],h=a[1],m=1,k=a.length;++m<k;)e=f,f=h,h=a[m],c.push([d*(h[0]-e[0]),d*(h[1]-e[1])]);return c}function Wd(a){if(3>a.length)return Ya(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],h=[e,e,e,(d=a[1])[0]],m=[f,f,f,d[1]],e=[e,",",f,"L",Ja(pd,h),",",Ja(pd,m)];for(a.push(a[c-1]);++b<=c;)d=a[b],h.shift(),h.push(d[0]),m.shift(),m.push(d[1]),qd(e,h,m);a.pop();e.push("L",d);return e.join("")}function Ja(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function qd(a,b,c){a.push("C",Ja(yh,b),",",
Ja(yh,c),",",Ja(zh,b),",",Ja(zh,c),",",Ja(pd,b),",",Ja(pd,c))}function Pf(a,b){return(b[1]-a[1])/(b[0]-a[0])}function tg(a){for(var b,c=-1,d=a.length,e,f;++c<d;)b=a[c],e=b[0],f=b[1]-Ea,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function Xd(a){function b(k){function q(){r.push("M",m(a(v),p),n,l(a(t.reverse()),p),"Z")}for(var r=[],t=[],v=[],x=-1,U=k.length,u,z=pa(c),w=pa(e),y=c===d?function(){return B}:pa(d),A=e===f?function(){return Z}:pa(f),B,Z;++x<U;)h.call(this,u=k[x],x)?(t.push([B=+z.call(this,
u,x),Z=+w.call(this,u,x)]),v.push([+y.call(this,u,x),+A.call(this,u,x)])):t.length&&(q(),t=[],v=[]);t.length&&q();return r.length?r.join(""):null}var c=Lc,d=Lc,e=0,f=Bb,h=$c,m=Ya,k=m.key,l=m,n="L",p=.7;b.x=function(a){if(!arguments.length)return d;c=d=a;return b};b.x0=function(a){if(!arguments.length)return c;c=a;return b};b.x1=function(a){if(!arguments.length)return d;d=a;return b};b.y=function(a){if(!arguments.length)return f;e=f=a;return b};b.y0=function(a){if(!arguments.length)return e;e=a;return b};
b.y1=function(a){if(!arguments.length)return f;f=a;return b};b.defined=function(a){if(!arguments.length)return h;h=a;return b};b.interpolate=function(a){if(!arguments.length)return k;k="function"===typeof a?m=a:(m=bh.get(a)||Ya).key;l=m.reverse||m;n=m.closed?"M":"L";return b};b.tension=function(a){if(!arguments.length)return p;p=a;return b};return b}function Qc(a){return a.radius}function ug(a){return[a.x,a.y]}function Je(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]-Ea;return[c*
Math.cos(b),c*Math.sin(b)]}}function Ke(){return 64}function Rc(){return"circle"}function vg(a){a=Math.sqrt(a/Z);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function wg(a){return function(){var b,c;(b=this[a])&&(c=b[b.active])&&(--b.count?delete b[b.active]:delete this[a],b.active+=.5,c.event&&c.event.interrupt.call(this,this.__data__,c.index))}}function Yd(a,b,c){kc(a,Oa);a.namespace=b;a.id=c;return a}function ab(a,b,c,d){var e=a.id,f=a.namespace;return Q(a,"function"===
typeof c?function(a,h,m){a[f][e].tween.set(b,d(c.call(a,a.__data__,h,m)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function ch(a){null==a&&(a="");return function(){this.textContent=a}}function Sc(a){return null==a?"__transition__":"__transition_"+a+"__"}function Sa(a,b,c,d,e){var f=a[c]||(a[c]={active:0,count:0}),h=f[d];if(!h){var k=e.time,h=f[d]={tween:new m,time:k,delay:e.delay,duration:e.duration,ease:e.ease,index:b};e=null;++f.count;E.timer(function(e){function m(c){if(f.active>d)return n();
var e=f[f.active];e&&(--f.count,delete f[f.active],e.event&&e.event.interrupt.call(a,a.__data__,e.index));f.active=d;h.event&&h.event.start.call(a,a.__data__,b);h.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&v.push(d)});r=h.ease;q=h.duration;E.timer(function(){t.c=l(c||1)?$c:l;return 1},0,k)}function l(c){if(f.active!==d)return 1;c/=q;for(var e=r(c),m=v.length;0<m;)v[--m].call(a,e);if(1<=c)return h.event&&h.event.end.call(a,a.__data__,b),n()}function n(){--f.count?delete f[d]:delete a[c];
return 1}var p=h.delay,q,r,t=Gc,v=[];t.t=p+k;if(p<=e)return m(e-p);t.c=m},0,k)}}function dh(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function Qf(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function na(a){return a.toISOString()}function Ib(a,b,c){function d(b){return a(b)}function e(a,c){var d=(a[1]-a[0])/c,f=E.bisect(xg,d);return f==xg.length?[b.year,db(a.map(function(a){return a/31536E6}),
c)[2]]:f?b[d/xg[f-1]<xg[f]/d?f-1:f]:[Vh,db(a,c)[2]]}d.invert=function(b){return Ba(a.invert(b))};d.domain=function(b){if(!arguments.length)return a.domain().map(Ba);a.domain(b);return d};d.nice=function(a,b){function c(d){return!isNaN(d)&&!a.range(d,Ba(+d+1),b).length}var f=d.domain(),h=Wb(f);if(h=null==a?e(h,10):"number"===typeof a&&e(h,a))a=h[0],b=h[1];return d.domain(Fe(f,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=Ba(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=Ba(+b+1);return b}}:
a))};d.ticks=function(a,b){var c=Wb(d.domain()),f=null==a?e(c,10):"number"===typeof a?e(c,a):!a.range&&[{range:a},b];f&&(a=f[0],b=f[1]);return a.range(c[0],Ba(+c[1]+1),1>b?1:b)};d.tickFormat=function(){return c};d.copy=function(){return Ib(a.copy(),b,c)};return He(d,a)}function Ba(a){return new Date(a)}function Zd(a){return JSON.parse(a.responseText)}function Jb(a){var b=Ka.createRange();b.selectNode(Ka.body);return b.createContextualFragment(a.responseText)}var E={version:"3.5.6"},jc=[].slice,Lb=
function(a){return jc.call(a)},Ka=this.document;if(Ka)try{Lb(Ka.documentElement.childNodes)[0].nodeType}catch(rd){Lb=function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}Date.now||(Date.now=function(){return+new Date});if(Ka)try{Ka.createElement("DIV").style.setProperty("opacity",0,"")}catch(rd){var ib=this.Element.prototype,Le=ib.setAttribute,$d=ib.setAttributeNS,yg=this.CSSStyleDeclaration.prototype,zg=yg.setProperty;ib.setAttribute=function(a,b){Le.call(this,a,b+"")};ib.setAttributeNS=
function(a,b,c){$d.call(this,a,b,c+"")};yg.setProperty=function(a,b,c){zg.call(this,a,b+"",c)}}E.ascending=k;E.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};E.min=function(a,b){var c=-1,d=a.length,e,f;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=f;break}for(;++c<d;)null!=(f=a[c])&&e>f&&(e=f)}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=f;break}for(;++c<d;)null!=(f=b.call(a,a[c],c))&&e>f&&(e=f)}return e};E.max=function(a,b){var c=-1,d=a.length,e,f;if(1===arguments.length){for(;++c<
d;)if(null!=(f=a[c])&&f>=f){e=f;break}for(;++c<d;)null!=(f=a[c])&&f>e&&(e=f)}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=f;break}for(;++c<d;)null!=(f=b.call(a,a[c],c))&&f>e&&(e=f)}return e};E.extent=function(a,b){var c=-1,d=a.length,e,f,h;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=h=f;break}for(;++c<d;)null!=(f=a[c])&&(e>f&&(e=f),h<f&&(h=f))}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=h=f;break}for(;++c<d;)null!=(f=b.call(a,a[c],c))&&(e>f&&(e=f),h<f&&(h=
f))}return[e,h]};E.sum=function(a,b){var c=0,d=a.length,e,h=-1;if(1===arguments.length)for(;++h<d;)f(e=+a[h])&&(c+=e);else for(;++h<d;)f(e=+b.call(a,a[h],h))&&(c+=e);return c};E.mean=function(a,b){var c=0,d=a.length,e,m=-1,k=d;if(1===arguments.length)for(;++m<d;)f(e=h(a[m]))?c+=e:--k;else for(;++m<d;)f(e=h(b.call(a,a[m],m)))?c+=e:--k;if(k)return c/k};E.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1];return(c-=d)?e+c*(a[d]-e):e};E.median=function(a,b){var c=[],d=a.length,e,
m=-1;if(1===arguments.length)for(;++m<d;)f(e=h(a[m]))&&c.push(e);else for(;++m<d;)f(e=h(b.call(a,a[m],m)))&&c.push(e);if(c.length)return E.quantile(c.sort(k),.5)};E.variance=function(a,b){var c=a.length,d=0,e,m,k=0,l=-1,n=0;if(1===arguments.length)for(;++l<c;)f(e=h(a[l]))&&(m=e-d,d+=m/++n,k+=m*(e-d));else for(;++l<c;)f(e=h(b.call(a,a[l],l)))&&(m=e-d,d+=m/++n,k+=m*(e-d));if(1<n)return k/(n-1)};E.deviation=function(){var a=E.variance.apply(this,arguments);return a?Math.sqrt(a):a};var Ag=a(k);E.bisectLeft=
Ag.left;E.bisect=E.bisectRight=Ag.right;E.bisector=function(b){return a(1===b.length?function(a,c){return k(b(a),c)}:b)};E.shuffle=function(a,b,c){3>(d=arguments.length)&&(c=a.length,2>d&&(b=0));for(var d=c-b,e,f;d;)f=Math.random()*d--|0,e=a[d+b],a[d+b]=a[f+b],a[f+b]=e;return a};E.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};E.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(0>c?0:c);b<c;)e[b]=[d,d=a[++b]];return e};E.zip=function(){if(!(f=arguments.length))return[];
for(var a=-1,b=E.min(arguments,c),d=Array(b);++a<b;)for(var e=-1,f,h=d[a]=Array(f);++e<f;)h[e]=arguments[e][a];return d};E.transpose=function(a){return E.zip.apply(E,a)};E.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};E.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};E.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};E.merge=function(a){var b=a.length,c;c=-1;for(var d=0,e,f;++c<b;)d+=a[c].length;for(e=Array(d);0<=--b;)for(f=a[b],c=f.length;0<=
--c;)e[--d]=f[c];return e};var ha=Math.abs;E.range=function(a,b,c){3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0));if(Infinity===(b-a)/c)throw Error("infinite range");var d=[],e;e=ha(c);for(var f=1;e*f%1;)f*=10;e=f;var f=-1,h;a*=e;b*=e;c*=e;if(0>c)for(;(h=a+c*++f)>b;)d.push(h/e);else for(;(h=a+c*++f)<b;)d.push(h/e);return d};E.map=function(a,b){var c=new m;if(a instanceof m)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d=-1,e=a.length,f;if(1===arguments.length)for(;++d<
e;)c.set(d,a[d]);else for(;++d<e;)c.set(b.call(a,f=a[d],d),f)}else for(d in a)c.set(d,a[d]);return c};e(m,{has:n,get:function(a){return this._[d(a)]},set:function(a,b){return this._[d(a)]=b},remove:p,keys:q,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var a=[],c;for(c in this._)a.push({key:b(c),value:this._[c]});return a},size:r,empty:t,forEach:function(a){for(var c in this._)a.call(this,b(c),this._[c])}});E.nest=function(){function a(b,e,k){if(k>=d.length)return h?
h.call(c,e):f?e.sort(f):e;for(var l=-1,n=e.length,p=d[k++],q,r,t=new m,v;++l<n;)(v=t.get(q=p(r=e[l])))?v.push(r):t.set(q,[r]);b?(r=b(),e=function(c,d){r.set(c,a(b,d,k))}):(r={},e=function(c,d){r[c]=a(b,d,k)});t.forEach(e);return r}function b(a,c){if(c>=d.length)return a;var f=[],h=e[c++];a.forEach(function(a,d){f.push({key:a,values:b(d,c)})});return h?f.sort(function(a,b){return h(a.key,b.key)}):f}var c={},d=[],e=[],f,h;c.map=function(b,c){return a(c,b,0)};c.entries=function(c){return b(a(E.map,c,
0),0)};c.key=function(a){d.push(a);return c};c.sortKeys=function(a){e[d.length-1]=a;return c};c.sortValues=function(a){f=a;return c};c.rollup=function(a){h=a;return c};return c};E.set=function(a){var b=new u;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b};e(u,{has:n,add:function(a){this._[d(a+="")]=!0;return a},remove:p,values:q,size:r,empty:t,forEach:function(a){for(var c in this._)a.call(this,b(c))}});E.behavior={};E.rebind=function(a,b){for(var c=1,d=arguments.length,e;++c<d;)a[e=arguments[c]]=
v(a,b,b[e]);return a};var Qe="webkit ms moz Moz o O".split(" ");E.dispatch=function(){for(var a=new A,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=z(a);return a};A.prototype.on=function(a,b){var c=a.indexOf("."),d="";0<=c&&(d=a.slice(c+1),a=a.slice(0,c));if(a)return 2>arguments.length?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)if(this.hasOwnProperty(a))this[a].on(d,null);return this}};E.event=null;E.requote=function(a){return a.replace(eh,"\\$\x26")};var eh=
/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,kc={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},sd=function(a,b){return b.querySelector(a)},td=function(a,b){return b.querySelectorAll(a)},Kb=function(a,b){var c=a.matches||a[y(a,"matchesSelector")];Kb=function(a,b){return c.call(a,b)};return Kb(a,b)};"function"===typeof Sizzle&&(sd=function(a,b){return Sizzle(a,b)[0]||null},td=Sizzle,Kb=Sizzle.matchesSelector);E.selection=function(){return E.select(Ka.documentElement)};var ra=
E.selection.prototype=[];ra.select=function(a){var b=[],c,d,e,f;a=G(a);for(var h=-1,m=this.length;++h<m;){b.push(c=[]);c.parentNode=(e=this[h]).parentNode;for(var k=-1,l=e.length;++k<l;)(f=e[k])?(c.push(d=a.call(f,f.__data__,k,h)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null)}return F(b)};ra.selectAll=function(a){var b=[],c,d;a=I(a);for(var e=-1,f=this.length;++e<f;)for(var h=this[e],m=-1,k=h.length;++m<k;)if(d=h[m])b.push(c=Lb(a.call(d,d.__data__,m,e))),c.parentNode=d;return F(b)};var Me=
{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};E.ns={prefix:Me,qualify:function(a){var b=a.indexOf(":"),c=a;0<=b&&(c=a.slice(0,b),a=a.slice(b+1));return Me.hasOwnProperty(c)?{space:Me[c],local:a}:a}};ra.attr=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node();a=E.ns.qualify(a);return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(L(b,
a[b]));return this}return this.each(L(a,b))};ra.classed=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node(),d=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!T(a[e]).test(b))return!1;return!0}for(b in a)this.each(V(b,a[b]));return this}return this.each(V(a,b))};ra.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b="");for(c in a)this.each(K(c,
a[c],b));return this}if(2>d)return d=this.node(),l(d).getComputedStyle(d,null).getPropertyValue(a);c=""}return this.each(K(a,b,c))};ra.property=function(a,b){if(2>arguments.length){if("string"===typeof a)return this.node()[a];for(b in a)this.each(M(b,a[b]));return this}return this.each(M(a,b))};ra.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=
a}):this.node().textContent};ra.html=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};ra.append=function(a){a=H(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};ra.insert=function(a,b){a=H(a);b=G(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,
arguments)||null)})};ra.remove=function(){return this.each(X)};ra.data=function(a,b){function c(a,d){var e,f=a.length,h=d.length,p=Math.min(f,h),q=Array(h),r=Array(h),t=Array(f),v,x;if(b){var p=new m,U=Array(f),u;for(e=-1;++e<f;)p.has(u=b.call(v=a[e],v.__data__,e))?t[e]=v:p.set(u,v),U[e]=u;for(e=-1;++e<h;)(v=p.get(u=b.call(d,x=d[e],e)))?!0!==v&&(q[e]=v,v.__data__=x):r[e]={__data__:x},p.set(u,!0);for(e=-1;++e<f;)!0!==p.get(U[e])&&(t[e]=a[e])}else{for(e=-1;++e<p;)v=a[e],x=d[e],v?(v.__data__=x,q[e]=
v):r[e]={__data__:x};for(;e<h;++e)r[e]={__data__:d[e]};for(;e<f;++e)t[e]=a[e]}r.update=q;r.parentNode=q.parentNode=t.parentNode=a.parentNode;k.push(r);l.push(q);n.push(t)}var d=-1,e=this.length,f,h;if(!arguments.length){for(a=Array(e=(f=this[0]).length);++d<e;)if(h=f[d])a[d]=h.__data__;return a}var k=S([]),l=F([]),n=F([]);if("function"===typeof a)for(;++d<e;)c(f=this[d],a.call(f,f.parentNode.__data__,d));else for(;++d<e;)c(f=this[d],a);l.enter=function(){return k};l.exit=function(){return n};return l};
ra.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};ra.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=R(a));for(var f=0,h=this.length;f<h;f++){b.push(c=[]);c.parentNode=(d=this[f]).parentNode;for(var m=0,k=d.length;m<k;m++)(e=d[m])&&a.call(e,e.__data__,m,f)&&c.push(e)}return F(b)};ra.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],f;0<=--d;)if(f=c[d])e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,
e),e=f;return this};ra.sort=function(a){a=N.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};ra.each=function(a){return Q(this,function(b,c,d){a.call(b,b.__data__,c,d)})};ra.call=function(a){var b=Lb(arguments);a.apply(b[0]=this,b);return this};ra.empty=function(){return!this.node()};ra.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null};ra.size=function(){var a=0;Q(this,function(){++a});
return a};var ub=[];E.selection.enter=S;E.selection.enter.prototype=ub;ub.append=ra.append;ub.empty=ra.empty;ub.node=ra.node;ub.call=ra.call;ub.size=ra.size;ub.select=function(a){for(var b=[],c,d,e,f,h,m=-1,k=this.length;++m<k;){e=(f=this[m]).update;b.push(c=[]);c.parentNode=f.parentNode;for(var l=-1,n=f.length;++l<n;)(h=f[l])?(c.push(e[l]=d=a.call(f.parentNode,h.__data__,l,m)),d.__data__=h.__data__):c.push(null)}return F(b)};ub.insert=function(a,b){2>arguments.length&&(b=Y(this));return ra.insert.call(this,
a,b)};E.select=function(a){var b;"string"===typeof a?(b=[sd(a,Ka)],b.parentNode=Ka.documentElement):(b=[a],b.parentNode=a&&(a.ownerDocument||a.document||a).documentElement);return F([b])};E.selectAll=function(a){"string"===typeof a?(a=Lb(td(a,Ka)),a.parentNode=Ka.documentElement):a.parentNode=null;return F([a])};ra.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b=!1);for(c in a)this.each(O(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(O(a,
b,c))};var Mb=E.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ka&&Mb.forEach(function(a){"on"+a in Ka&&Mb.remove(a)});var vb,Sg=0;E.mouse=function(a){return Da(a,C())};var U=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;E.touch=function(a,b,c){3>arguments.length&&(c=b,b=C().changedTouches);if(b)for(var d=0,e=b.length,f;d<e;++d)if((f=b[d]).identifier===c)return Da(a,f)};E.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",f)}function b(a,e,f,
h,m){return function(){var b=E.event.target,k=this.parentNode,l=c.of(this,arguments),n=0,p=a(),q=".drag"+(null==p?"":"-"+p),r,t=E.select(f(b)).on(h+q,function(){var a=e(k,p),b,c;a&&(b=a[0]-x[0],c=a[1]-x[1],n=n|b|c,x=a,l({type:"drag",x:a[0]+r[0],y:a[1]+r[1],dx:b,dy:c}))}).on(m+q,function(){e(k,p)&&(t.on(h+q,null).on(m+q,null),v(n&&E.event.target===b),l({type:"dragend"}))}),v=ca(b),x=e(k,p);d?(r=d.apply(this,arguments),r=[r.x-x[0],r.y-x[1]]):r=[0,0];l({type:"dragstart"})}}var c=D(a,"drag","dragstart",
"dragend"),d=null,e=b(x,E.mouse,l,"mousemove","mouseup"),f=b(ua,E.touch,w,"touchmove","touchend");a.origin=function(b){if(!arguments.length)return d;d=b;return a};return E.rebind(a,c,"on")};E.touches=function(a,b){2>arguments.length&&(b=C().touches);return b?Lb(b).map(function(b){var c=Da(a,b);c.identifier=b.identifier;return c}):[]};var Z=Math.PI,la=2*Z,Wh=la-1E-6,Ea=Z/2,ka=Z/180,ya=180/Z,Bg=Math.SQRT2;E.interpolateZoom=function(a,b){function c(a){var b=a*t;if(r){a=ja(q);var h,l=Bg*b+q;h=((l=Math.exp(2*
l))-1)/(l+1);var p=q,l=((p=Math.exp(p))-1/p)/2;h=f/(2*n)*(a*h-l);return[d+h*m,e+h*k,f*a/ja(Bg*b+q)]}return[d+a*m,e+a*k,f*Math.exp(Bg*b)]}var d=a[0],e=a[1],f=a[2],h=b[2],m=b[0]-d,k=b[1]-e,l=m*m+k*k,n=Math.sqrt(l),p=(h*h-f*f+4*l)/(4*f*n),l=(h*h-f*f-4*l)/(4*h*n),q=Math.log(Math.sqrt(p*p+1)-p),r=Math.log(Math.sqrt(l*l+1)-l)-q,t=(r||Math.log(h/f))/Bg;c.duration=1E3*t;return c};E.behavior.zoom=function(){function a(b){b.on("mousedown.zoom",n).on(fh+".zoom",q).on("dblclick.zoom",r).on("touchstart.zoom",
p)}function b(a){return[(a[0]-t.x)/t.k,(a[1]-t.y)/t.k]}function c(a){t.k=Math.max(z[0],Math.min(z[1],a))}function d(a,b){b=[b[0]*t.k+t.x,b[1]*t.k+t.y];t.x+=a[0]-b[0];t.y+=a[1]-b[1]}function e(b,f,h,m){b.__chart__={x:t.x,y:t.y,k:t.k};c(Math.pow(2,m));d(x=f,h);b=E.select(b);0<w&&(b=b.transition().duration(w));b.call(a.event)}function f(){F&&F.domain(la.range().map(function(a){return(a-t.x)/t.k}).map(la.invert));J&&J.domain(G.range().map(function(a){return(a-t.y)/t.k}).map(G.invert))}function h(a){y++||
a({type:"zoomstart"})}function m(a){f();a({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function k(a){--y||(a({type:"zoomend"}),x=null)}function n(){var a=this,c=E.event.target,e=C.of(a,arguments),f=0,p=E.select(l(a)).on("mousemove.zoom",function(){f=1;d(E.mouse(a),q);m(e)}).on("mouseup.zoom",function(){p.on("mousemove.zoom",null).on("mouseup.zoom",null);r(f&&E.event.target===c);k(e)}),q=b(E.mouse(a)),r=ca(a);Cg.call(a);h(e)}function p(){function a(){var c=E.touches(r);u=t.k;c.forEach(function(a){a.identifier in
x&&(x[a.identifier]=b(a))});return c}function f(){var b=E.event.target;E.select(b).on(w,l).on(y,q);A.push(b);for(var b=E.event.changedTouches,c=0,d=b.length;c<d;++c)x[b[c].identifier]=null;c=a();d=Date.now();1===c.length?(500>d-Z&&(b=c[0],e(r,b,x[b.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1),B()),Z=d):1<c.length&&(b=c[0],d=c[1],c=b[0]-d[0],b=b[1]-d[1],U=c*c+b*b)}function l(){var a=E.touches(r),b,e,f,h;Cg.call(r);for(var k=0,n=a.length;k<n;++k,h=null)if(f=a[k],h=x[f.identifier]){if(e)break;b=
f;e=h}if(h){var p=(p=f[0]-b[0])*p+(p=f[1]-b[1])*p,a=U&&Math.sqrt(p/U);b=[(b[0]+f[0])/2,(b[1]+f[1])/2];e=[(e[0]+h[0])/2,(e[1]+h[1])/2];c(a*u)}Z=null;d(b,e);m(v)}function q(){if(E.event.touches.length){for(var b=E.event.changedTouches,c=0,d=b.length;c<d;++c)delete x[b[c].identifier];for(var e in x)return void a()}E.selectAll(A).on(z,null);la.on("mousedown.zoom",n).on("touchstart.zoom",p);D();k(v)}var r=this,v=C.of(r,arguments),x={},U=0,u,z=".zoom-"+E.event.changedTouches[0].identifier,w="touchmove"+
z,y="touchend"+z,A=[],la=E.select(r),D=ca(r);f();h(v);la.on("mousedown.zoom",null).on("touchstart.zoom",f)}function q(){var a=C.of(this,arguments);A?clearTimeout(A):(Cg.call(this),v=b(x=U||E.mouse(this)),h(a));A=setTimeout(function(){A=null;k(a)},50);B();c(Math.pow(2,.002*Dg())*t.k);d(x,v);m(a)}function r(){var a=E.mouse(this),c=Math.log(t.k)/Math.LN2;e(this,a,b(a),E.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var t={x:0,y:0,k:1},v,x,U,u=[960,500],z=Ah,w=250,y=0,A,Z,C=D(a,"zoomstart","zoom","zoomend"),
la,F,G,J;fh||(fh="onwheel"in Ka?(Dg=function(){return-E.event.deltaY*(E.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ka?(Dg=function(){return E.event.wheelDelta},"mousewheel"):(Dg=function(){return-E.event.detail},"MozMousePixelScroll"));a.event=function(a){a.each(function(){var a=C.of(this,arguments),b=t;ae?E.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1};h(a)}).tween("zoom:zoom",function(){var c=u[0],d=u[1],e=x?x[0]:c/2,f=x?x[1]:d/2,h=E.interpolateZoom([(e-
t.x)/t.k,(f-t.y)/t.k,c/t.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){b=h(b);var d=c/b[2];this.__chart__=t={x:e-b[0]*d,y:f-b[1]*d,k:d};m(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=t,h(a),m(a),k(a))})};a.translate=function(b){if(!arguments.length)return[t.x,t.y];t={x:+b[0],y:+b[1],k:t.k};f();return a};a.scale=function(b){if(!arguments.length)return t.k;t={x:t.x,y:t.y,k:+b};f();return a};a.scaleExtent=function(b){if(!arguments.length)return z;
z=null==b?Ah:[+b[0],+b[1]];return a};a.center=function(b){if(!arguments.length)return U;U=b&&[+b[0],+b[1]];return a};a.size=function(b){if(!arguments.length)return u;u=b&&[+b[0],+b[1]];return a};a.duration=function(b){if(!arguments.length)return w;w=+b;return a};a.x=function(b){if(!arguments.length)return F;F=b;la=b.copy();t={x:0,y:0,k:1};return a};a.y=function(b){if(!arguments.length)return J;J=b;G=b.copy();t={x:0,y:0,k:1};return a};return E.rebind(a,C,"on")};var Ah=[0,Infinity],Dg,fh;E.color=ta;
ta.prototype.toString=function(){return this.rgb()+""};E.hsl=Aa;var gh=Aa.prototype=new ta;gh.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);return new Aa(this.h,this.s,this.l/a)};gh.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return new Aa(this.h,this.s,a*this.l)};gh.rgb=function(){return Ua(this.h,this.s,this.l)};E.hcl=Ca;var hh=Ca.prototype=new ta;hh.brighter=function(a){return new Ca(this.h,this.c,Math.min(100,this.l+Eg*(arguments.length?a:1)))};hh.darker=function(a){return new Ca(this.h,
this.c,Math.max(0,this.l-Eg*(arguments.length?a:1)))};hh.rgb=function(){return hb(this.h,this.c,this.l).rgb()};E.lab=sa;var Eg=18,mh=.95047,nh=1,oh=1.08883,ih=sa.prototype=new ta;ih.brighter=function(a){return new sa(Math.min(100,this.l+Eg*(arguments.length?a:1)),this.a,this.b)};ih.darker=function(a){return new sa(Math.max(0,this.l-Eg*(arguments.length?a:1)),this.a,this.b)};ih.rgb=function(){return Xb(this.l,this.a,this.b)};E.rgb=va;var Fg=va.prototype=new ta;Fg.brighter=function(a){a=Math.pow(.7,
arguments.length?a:1);var b=this.r,c=this.g,d=this.b;if(!b&&!c&&!d)return new va(30,30,30);b&&30>b&&(b=30);c&&30>c&&(c=30);d&&30>d&&(d=30);return new va(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))};Fg.darker=function(a){a=Math.pow(.7,arguments.length?a:1);return new va(a*this.r,a*this.g,a*this.b)};Fg.hsl=function(){return lb(this.r,this.g,this.b)};Fg.toString=function(){return"#"+tb(this.r)+tb(this.g)+tb(this.b)};var Sf=E.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,
azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,
darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,
ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,
mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,
peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,
wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Sf.forEach(function(a,b){Sf.set(a,new va(b>>16,b>>8&255,b&255))});E.functor=pa;E.xhr=Uc(w);E.dsv=function(a,b){function c(a,f,h){3>arguments.length&&(h=f,f=null);var m=wb(a,b,null==f?d:e(f),h);m.row=function(a){return arguments.length?m.response(null==(f=a)?d:e(a)):f};return m}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(h).join(a)}
function h(a){return m.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var m=new RegExp('["'+a+"\n]"),k=a.charCodeAt(0);c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})};c.parseRows=function(a,b){function c(){if(m>=h)return e;if(p)return p=!1,d;var b=m;if(34===a.charCodeAt(b)){for(var f=b;f++<h;)if(34===a.charCodeAt(f)){if(34!==
a.charCodeAt(f+1))break;++f}m=f+2;var l=a.charCodeAt(f+1);13===l?(p=!0,10===a.charCodeAt(f+2)&&++m):10===l&&(p=!0);return a.slice(b+1,f).replace(/""/g,'"')}for(;m<h;){l=a.charCodeAt(m++);f=1;if(10===l)p=!0;else if(13===l)p=!0,10===a.charCodeAt(m)&&(++m,++f);else if(l!==k)continue;return a.slice(b,m-f)}return a.slice(b)}for(var d={},e={},f=[],h=a.length,m=0,l=0,n,p;(n=c())!==e;){for(var q=[];n!==d&&n!==e;)q.push(n),n=c();b&&null==(q=b(q,l++))||f.push(q)}return f};c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);
var d=new u,e=[];b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))});return[e.map(h).join(a)].concat(b.map(function(b){return e.map(function(a){return h(b[a])}).join(a)})).join("\n")};c.formatRows=function(a){return a.map(f).join("\n")};return c};E.csv=E.dsv(",","text/csv");E.tsv=E.dsv("\t","text/tab-separated-values");var Vf,Wf,Uf,Tf,Gc,ph=this[y(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};E.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0);3>d&&(c=Date.now());
d={c:a,t:c+b,f:!1,n:null};Wf?Wf.n=d:Vf=d;Wf=d;Uf||(Tf=clearTimeout(Tf),Uf=1,ph(Ec))};E.timer.flush=function(){fa();Fc()};E.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var Xh="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*ha(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});E.formatPrefix=function(a,b){var c=0;a&&(0>a&&(a*=-1),b&&(a=E.round(a,xb(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),
c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3))));return Xh[8+c/3]};var qh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Rh=E.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=
E.round(a,xb(a,b))).toFixed(Math.max(0,Math.min(20,xb(a*(1+1E-15),b))))}}),ba=E.time={},bb=Date;Ha.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},
getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Tc.setUTCDate.apply(this._,arguments)},setDay:function(){Tc.setUTCDay.apply(this._,arguments)},setFullYear:function(){Tc.setUTCFullYear.apply(this._,arguments)},setHours:function(){Tc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Tc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Tc.setUTCMinutes.apply(this._,arguments)},
setMonth:function(){Tc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Tc.setUTCSeconds.apply(this._,arguments)},setTime:function(){Tc.setTime.apply(this._,arguments)}};var Tc=Date.prototype;ba.year=$a(function(a){a=ba.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});ba.years=ba.year.range;ba.years.utc=ba.year.utc.range;ba.day=$a(function(a){var b=new bb(2E3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},
function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});ba.days=ba.day.range;ba.days.utc=ba.day.utc.range;ba.dayOfYear=function(a){var b=ba.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,b){b=7-b;var c=ba[a]=$a(function(a){(a=ba.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=
ba.year(a).getDay();return Math.floor((ba.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});ba[a+"s"]=c.range;ba[a+"s"].utc=c.utc.range;ba[a+"OfYear"]=function(a){var c=ba.year(a).getDay();return Math.floor((ba.dayOfYear(a)+(c+b)%7)/7)}});ba.week=ba.sunday;ba.weeks=ba.sunday.range;ba.weeks.utc=ba.sunday.utc.range;ba.weekOfYear=ba.sundayOfYear;var rh={"-":"",_:" ",0:"0"},Fa=/^\s*\d+/,sh=/^%/;E.locale=function(a){return{numberFormat:yb(a),timeFormat:Ob(a)}};var Bh=E.locale({decimal:".",thousands:",",grouping:[3],
currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});E.format=Bh.numberFormat;E.geo={};xd.prototype={s:0,t:0,add:function(a){yd(a,this.t,Gg);yd(Gg.s,this.s,
this);this.s?this.t+=Gg.t:this.s=Gg.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Gg=new xd;E.geo.stream=function(a,b){if(a&&Ch.hasOwnProperty(a.type))Ch[a.type](a,b);else de(a,b)};var Ch={Feature:function(a,b){de(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)de(c[d].geometry,b)}},th={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,
d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Se(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Se(c[d],b,0)},Polygon:function(a,b){mc(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)mc(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)de(c[d],b)}};E.geo.area=function(a){Ne=0;E.geo.stream(a,zb);return Ne};var Ne,zd=new xd,zb={sphere:function(){Ne+=
4*Z},point:x,lineStart:x,lineEnd:x,polygonStart:function(){zd.reset();zb.lineStart=Vc},polygonEnd:function(){var a=2*zd;Ne+=0>a?4*Z+a:a;zb.lineStart=zb.lineEnd=zb.point=x}};E.geo.bounds=function(){function a(b,c){z.push(w=[n=b,q=b]);c<p&&(p=c);c>r&&(r=c)}function b(c,d){var e=nc([c*ka,d*ka]);if(U){var f=Wc(U,e),f=Wc([f[1],-f[0],0],f);fe(f);var f=oc(f),h=c-t,k=0<h?1:-1,l=f[0]*ya*k,h=180<ha(h);h^(k*t<l&&l<k*c)?(f=f[1]*ya,f>r&&(r=f)):(l=(l+360)%360-180,h^(k*t<l&&l<k*c))?(f=-f[1]*ya,f<p&&(p=f)):(d<p&&
(p=d),d>r&&(r=d));h?c<t?m(n,c)>m(n,q)&&(q=c):m(c,q)>m(n,q)&&(n=c):q>=n?(c<n&&(n=c),c>q&&(q=c)):c>t?m(n,c)>m(n,q)&&(q=c):m(c,q)>m(n,q)&&(n=c)}else a(c,d);U=e;t=c}function c(){y.point=b}function d(){w[0]=n;w[1]=q;y.point=a;U=null}function e(a,c){if(U){var d=a-t;u+=180<ha(d)?d+(0<d?360:-360):d}else v=a,x=c;zb.point(a,c);b(a,c)}function f(){zb.lineStart()}function h(){e(v,x);zb.lineEnd();1E-6<ha(u)&&(n=-(q=180));w[0]=n;w[1]=q;U=null}function m(a,b){return 0>(b-=a)?b+360:b}function k(a,b){return a[0]-
b[0]}function l(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var n,p,q,r,t,v,x,U,u,z,w,y={point:a,lineStart:c,lineEnd:d,polygonStart:function(){y.point=e;y.lineStart=f;y.lineEnd=h;u=0;zb.polygonStart()},polygonEnd:function(){zb.polygonEnd();y.point=a;y.lineStart=c;y.lineEnd=d;0>zd?(n=-(q=180),p=-(r=90)):1E-6<u?r=90:-1E-6>u&&(p=-90);w[0]=n;w[1]=q}};return function(a){r=q=-(n=p=Infinity);z=[];E.geo.stream(a,y);if(a=z.length){z.sort(k);for(var b=1,c=z[0],d,e=[c];b<a;++b)d=z[b],l(d[0],c)||l(d[1],
c)?(m(c[0],d[1])>m(c[0],c[1])&&(c[1]=d[1]),m(d[0],c[1])>m(c[0],c[1])&&(c[0]=d[0])):e.push(c=d);var f=-Infinity,h;a=e.length-1;b=0;for(c=e[a];b<=a;c=d,++b)d=e[b],(h=m(c[1],d[0]))>f&&(f=h,n=d[0],q=c[1])}z=w=null;return Infinity===n||Infinity===p?[[NaN,NaN],[NaN,NaN]]:[[n,p],[q,r]]}}();E.geo.centroid=function(a){Ue=he=Hc=Ic=qc=Qb=Rb=qb=Yc=Zc=rc=0;E.geo.stream(a,cc);a=Yc;var b=Zc,c=rc,d=a*a+b*b+c*c;return 1E-12>d&&(a=Qb,b=Rb,c=qb,1E-6>he&&(a=Hc,b=Ic,c=qc),d=a*a+b*b+c*c,1E-12>d)?[NaN,NaN]:[Math.atan2(b,
a)*ya,La(c/Math.sqrt(d))*ya]};var Ue,he,Hc,Ic,qc,Qb,Rb,qb,Yc,Zc,rc,cc={sphere:x,point:ge,lineStart:Ve,lineEnd:We,polygonStart:function(){cc.lineStart=Tg},polygonEnd:function(){cc.lineStart=Ve}},uh=Ad($c,function(a){var b=NaN,c=NaN,d=NaN,e;return{lineStart:function(){a.lineStart();e=1},point:function(f,h){var m=0<f?Z:-Z,k=ha(f-b);if(1E-6>ha(k-Z))a.point(b,c=0<(c+h)/2?Ea:-Ea),a.point(d,c),a.lineEnd(),a.lineStart(),a.point(m,c),a.point(f,c),e=0;else if(d!==m&&k>=Z){1E-6>ha(b-d)&&(b-=1E-6*d);1E-6>ha(f-
m)&&(f-=1E-6*m);var k=b,l=c,n=f,p,q,r=Math.sin(k-n);c=1E-6<ha(r)?Math.atan((Math.sin(l)*(q=Math.cos(h))*Math.sin(n)-Math.sin(h)*(p=Math.cos(l))*Math.sin(k))/(p*q*r)):(l+h)/2;a.point(d,c);a.lineEnd();a.lineStart();a.point(m,c);e=0}a.point(b=f,c=h);d=m},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-e}}},function(a,b,c,d){null==a?(c*=Ea,d.point(-Z,c),d.point(0,c),d.point(Z,c),d.point(Z,0),d.point(Z,-c),d.point(0,-c),d.point(-Z,-c),d.point(-Z,0),d.point(-Z,c)):1E-6<ha(a[0]-b[0])?(a=
a[0]<b[0]?Z:-Z,c=c*a/2,d.point(-a,c),d.point(0,c),d.point(a,c)):d.point(b[0],b[1])},[-Z,-Z/2]);E.geo.clipExtent=function(){var a,b,c,d,e,f,h={stream:function(a){e&&(e.valid=!1);e=f(a);e.valid=!0;return e},extent:function(m){if(!arguments.length)return[[a,b],[c,d]];f=bf(a=+m[0][0],b=+m[0][1],c=+m[1][0],d=+m[1][1]);e&&(e.valid=!1,e=null);return h}};return h.extent([[0,0],[960,500]])};(E.geo.conicEqualArea=function(){return sc(cf)}).raw=cf;E.geo.albers=function(){return E.geo.conicEqualArea().rotate([96,
0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};E.geo.albersUsa=function(){function a(b){var c=b[0];b=b[1];e=null;(h(c,b),e)||(m(c,b),e)||k(c,b);return e}var b=E.geo.albers(),c=E.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=E.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),e,f={point:function(a,b){e=[a,b]}},h,m,k;a.invert=function(a){var e=b.scale(),f=b.translate(),h=(a[0]-f[0])/e,e=(a[1]-f[1])/e;return(.12<=e&&.234>e&&-.425<=h&&-.214>
h?c:.166<=e&&.234>e&&-.214<=h&&-.115>h?d:b).invert(a)};a.stream=function(a){var e=b.stream(a),f=c.stream(a),h=d.stream(a);return{point:function(a,b){e.point(a,b);f.point(a,b);h.point(a,b)},sphere:function(){e.sphere();f.sphere();h.sphere()},lineStart:function(){e.lineStart();f.lineStart();h.lineStart()},lineEnd:function(){e.lineEnd();f.lineEnd();h.lineEnd()},polygonStart:function(){e.polygonStart();f.polygonStart();h.polygonStart()},polygonEnd:function(){e.polygonEnd();f.polygonEnd();h.polygonEnd()}}};
a.precision=function(e){if(!arguments.length)return b.precision();b.precision(e);c.precision(e);d.precision(e);return a};a.scale=function(e){if(!arguments.length)return b.scale();b.scale(e);c.scale(.35*e);d.scale(e);return a.translate(b.translate())};a.translate=function(e){if(!arguments.length)return b.translate();var l=b.scale(),n=+e[0],p=+e[1];h=b.translate(e).clipExtent([[n-.455*l,p-.238*l],[n+.455*l,p+.238*l]]).stream(f).point;m=c.translate([n-.307*l,p+.201*l]).clipExtent([[n-.425*l+1E-6,p+.12*
l+1E-6],[n-.214*l-1E-6,p+.234*l-1E-6]]).stream(f).point;k=d.translate([n-.205*l,p+.212*l]).clipExtent([[n-.214*l+1E-6,p+.166*l+1E-6],[n-.115*l-1E-6,p+.234*l-1E-6]]).stream(f).point;return a};return a.scale(1070)};var Hg,bg,cd={point:x,lineStart:x,lineEnd:x,polygonStart:function(){bg=0;cd.lineStart=je},polygonEnd:function(){cd.lineStart=cd.lineEnd=cd.point=x;Hg+=ha(bg/2)}},Ig,Jg,Kg,Lg,Yh={point:function(a,b){a<Ig&&(Ig=a);a>Kg&&(Kg=a);b<Jg&&(Jg=b);b>Lg&&(Lg=b)},lineStart:x,lineEnd:x,polygonStart:x,
polygonEnd:x},dc={point:Jc,lineStart:Bd,lineEnd:Cd,polygonStart:function(){dc.lineStart=ke},polygonEnd:function(){dc.point=Jc;dc.lineStart=Bd;dc.lineEnd=Cd}};E.geo.path=function(){function a(b){b&&("function"===typeof c&&h.pointRadius(+c.apply(this,arguments)),m&&m.valid||(m=f(h)),E.geo.stream(b,m));return h.result()}function b(){m=null;return a}var c=4.5,d,e,f,h,m;a.area=function(a){Hg=0;E.geo.stream(a,f(cd));return Hg};a.centroid=function(a){Hc=Ic=qc=Qb=Rb=qb=Yc=Zc=rc=0;E.geo.stream(a,f(dc));return rc?
[Yc/rc,Zc/rc]:qb?[Qb/qb,Rb/qb]:qc?[Hc/qc,Ic/qc]:[NaN,NaN]};a.bounds=function(a){Kg=Lg=-(Ig=Jg=Infinity);E.geo.stream(a,f(Yh));return[[Ig,Jg],[Kg,Lg]]};a.projection=function(a){if(!arguments.length)return d;f=(d=a)?a.stream||Ed(a):w;return b()};a.context=function(a){if(!arguments.length)return e;h=null==(e=a)?new cg:new ed(a);"function"!==typeof c&&h.pointRadius(c);return b()};a.pointRadius=function(b){if(!arguments.length)return c;c="function"===typeof b?b:(h.pointRadius(+b),+b);return a};return a.projection(E.geo.albersUsa()).context(null)};
E.geo.transform=function(a){return{stream:function(b){b=new Fd(b);for(var c in a)b[c]=a[c];return b}}};Fd.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};E.geo.projection=Sb;E.geo.projectionMutator=ie;(E.geo.equirectangular=function(){return Sb(ma)}).raw=ma.invert=
ma;E.geo.rotation=function(a){function b(c){c=a(c[0]*ka,c[1]*ka);return c[0]*=ya,c[1]*=ya,c}a=tc(a[0]%360*ka,a[1]*ka,2<a.length?a[2]*ka:0);b.invert=function(b){b=a.invert(b[0]*ka,b[1]*ka);return b[0]*=ya,b[1]*=ya,b};return b};me.invert=ma;E.geo.circle=function(){function a(){var c="function"===typeof b?b.apply(this,arguments):b,d=tc(-c[0]*ka,-c[1]*ka,0).invert,f=[];e(null,null,1,{point:function(a,b){f.push(a=d(a,b));a[0]*=ya;a[1]*=ya}});return{type:"Polygon",coordinates:[f]}}var b=[0,0],c,d=6,e;a.origin=
function(c){if(!arguments.length)return b;b=c;return a};a.angle=function(b){if(!arguments.length)return c;e=bd((c=+b)*ka,d*ka);return a};a.precision=function(b){if(!arguments.length)return d;e=bd(c*ka,(d=+b)*ka);return a};return a.angle(90)};E.geo.distance=function(a,b){var c=(b[0]-a[0])*ka,d=a[1]*ka,e=b[1]*ka,f=Math.cos(c),h=Math.sin(d),d=Math.cos(d),m=Math.sin(e),e=Math.cos(e),k;return Math.atan2(Math.sqrt((k=e*Math.sin(c))*k+(k=d*m-h*e*f)*k),h*m+d*e*f)};E.geo.graticule=function(){function a(){return{type:"MultiLineString",
coordinates:b()}}function b(){return E.range(Math.ceil(f/q)*q,e,q).map(x).concat(E.range(Math.ceil(l/r)*r,k,r).map(U)).concat(E.range(Math.ceil(d/n)*n,c,n).filter(function(a){return 1E-6<ha(a%q)}).map(t)).concat(E.range(Math.ceil(m/p)*p,h,p).filter(function(a){return 1E-6<ha(a%r)}).map(v))}var c,d,e,f,h,m,k,l,n=10,p=n,q=90,r=360,t,v,x,U,u=2.5;a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[x(f).concat(U(k).slice(1),
x(e).reverse().slice(1),U(l).reverse().slice(1))]}};a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()};a.majorExtent=function(b){if(!arguments.length)return[[f,l],[e,k]];f=+b[0][0];e=+b[1][0];l=+b[0][1];k=+b[1][1];f>e&&(b=f,f=e,e=b);l>k&&(b=l,l=k,k=b);return a.precision(u)};a.minorExtent=function(b){if(!arguments.length)return[[d,m],[c,h]];d=+b[0][0];c=+b[1][0];m=+b[0][1];h=+b[1][1];d>c&&(b=d,d=c,c=b);m>h&&(b=m,m=h,h=b);return a.precision(u)};a.step=function(b){return arguments.length?
a.majorStep(b).minorStep(b):a.minorStep()};a.majorStep=function(b){if(!arguments.length)return[q,r];q=+b[0];r=+b[1];return a};a.minorStep=function(b){if(!arguments.length)return[n,p];n=+b[0];p=+b[1];return a};a.precision=function(b){if(!arguments.length)return u;u=+b;t=ne(m,h,90);v=ef(d,c,u);x=ne(l,k,90);U=ef(f,e,u);return a};return a.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,-80.000001],[180,80.000001]])};E.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||
b.apply(this,arguments),e||d.apply(this,arguments)]}}var b=oe,c,d=ff,e;a.distance=function(){return E.geo.distance(c||b.apply(this,arguments),e||d.apply(this,arguments))};a.source=function(d){if(!arguments.length)return b;b=d;c="function"===typeof d?null:d;return a};a.target=function(b){if(!arguments.length)return d;d=b;e="function"===typeof b?null:b;return a};a.precision=function(){return arguments.length?a:0};return a};E.geo.interpolate=function(a,b){return fg(a[0]*ka,a[1]*ka,b[0]*ka,b[1]*ka)};
E.geo.length=function(a){Mg=0;E.geo.stream(a,Oe);return Mg};var Mg,Oe={sphere:x,point:x,lineStart:function(){function a(e,f){var h=Math.sin(f*=ka),m=Math.cos(f),k=ha((e*=ka)-b),l=Math.cos(k);Mg+=Math.atan2(Math.sqrt((k=m*Math.sin(k))*k+(k=d*h-c*m*l)*k),c*h+d*m*l);b=e;c=h;d=m}var b,c,d;Oe.point=function(e,f){b=e*ka;c=Math.sin(f*=ka);d=Math.cos(f);Oe.point=a};Oe.lineEnd=function(){Oe.point=Oe.lineEnd=x}},lineEnd:x,polygonStart:x,polygonEnd:x},Dh=gd(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*
Math.asin(a/2)});(E.geo.azimuthalEqualArea=function(){return Sb(Dh)}).raw=Dh;var Eh=gd(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},w);(E.geo.azimuthalEquidistant=function(){return Sb(Eh)}).raw=Eh;(E.geo.conicConformal=function(){return sc(gf)}).raw=gf;(E.geo.conicEquidistant=function(){return sc(uc)}).raw=uc;var Fh=gd(function(a){return 1/a},Math.atan);(E.geo.gnomonic=function(){return Sb(Fh)}).raw=Fh;Gd.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ea]};(E.geo.mercator=function(){return Ab(Gd)}).raw=
Gd;var Gh=gd(function(){return 1},Math.asin);(E.geo.orthographic=function(){return Sb(Gh)}).raw=Gh;var Hh=gd(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(E.geo.stereographic=function(){return Sb(Hh)}).raw=Hh;Hd.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ea]};(E.geo.transverseMercator=function(){var a=Ab(Hd),b=a.center,c=a.rotate;a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])};a.rotate=function(a){return a?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=
c(),[a[0],a[1],a[2]-90])};return c([0,0,90])}).raw=Hd;E.geom={};E.geom.hull=function(a){function b(a){if(3>a.length)return[];var e=pa(c),f=pa(d),h,m=a.length,k=[],l=[];for(h=0;h<m;h++)k.push([+e.call(this,a[h],h),+f.call(this,a[h],h),h]);k.sort(Id);for(h=0;h<m;h++)l.push([k[h][0],-k[h][1]]);var e=pe(k),l=pe(l),f=l[0]===e[0],m=l[l.length-1]===e[e.length-1],n=[];for(h=e.length-1;0<=h;--h)n.push(a[k[e[h]][2]]);for(h=+f;h<l.length-m;++h)n.push(a[k[l[h]][2]]);return n}var c=Lc,d=Bb;if(arguments.length)return b(a);
b.x=function(a){return arguments.length?(c=a,b):c};b.y=function(a){return arguments.length?(d=a,b):d};return b};E.geom.polygon=function(a){kc(a,Ng);return a};var Ng=E.geom.polygon.prototype=[];Ng.area=function(){for(var a=-1,b=this.length,c,d=this[b-1],e=0;++a<b;)c=d,d=this[a],e+=c[1]*d[0]-c[0]*d[1];return.5*e};Ng.centroid=function(a){var b=-1,c=this.length,d=0,e=0,f,h=this[c-1],m;for(arguments.length||(a=-1/(6*this.area()));++b<c;)f=h,h=this[b],m=f[0]*h[1]-h[0]*f[1],d+=(f[0]+h[0])*m,e+=(f[1]+h[1])*
m;return[d*a,e*a]};Ng.clip=function(a){for(var b,c=jf(a),d=-1,e=this.length-jf(this),f,h,m=this[e-1],k,l,n;++d<e;){b=a.slice();a.length=0;k=this[d];l=b[(h=b.length-c)-1];for(f=-1;++f<h;)n=b[f],hf(n,m,k)?(hf(l,m,k)||a.push(qe(l,n,m,k)),a.push(n)):hf(l,m,k)&&a.push(qe(l,n,m,k)),l=n;c&&a.push(a[0]);m=k}return a};var ue,Kd,se,vh=[],Ug,of,wh=[];te.prototype.prepare=function(){for(var a=this.edges,b=a.length,c;b--;)c=a[b].edge,c.b&&c.a||a.splice(b,1);a.sort(nf);return a.length};wc.prototype={start:function(){return this.edge.l===
this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};ec.prototype={insert:function(a,b){var c,d,e;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=ve(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);b.L=b.R=null;b.U=c;b.C=!0;for(a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R)&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(ia(this,c),a=c,c=a.U),c.C=!1,d.C=!0,fc(this,d)):(e=d.L)&&e.C?(c.C=e.C=!1,
d.C=!0,a=d):(a===c.L&&(fc(this,c),a=c,c=a.U),c.C=!1,d.C=!0,ia(this,d)),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b=a.U,c=a.L,d=a.R,e,f;e=c?d?ve(d):c:d;b?b.L===a?b.L=e:b.R=e:this._=e;c&&d?(f=e.C,e.C=a.C,e.L=c,c.U=e,e!==d?(b=e.U,e.U=a.U,a=e.R,b.L=a,e.R=d,d.U=e):(e.U=b,b=e,a=e.R)):(f=a.C,a=e);a&&(a.U=b);if(!f)if(a&&a.C)a.C=!1;else{do{if(a===this._)break;if(a===b.L){if(a=b.R,a.C&&(a.C=!1,b.C=!0,ia(this,b),a=b.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=
!1,a.C=!0,fc(this,a),a=b.R);a.C=b.C;b.C=a.R.C=!1;ia(this,b);a=this._;break}}else if(a=b.L,a.C&&(a.C=!1,b.C=!0,fc(this,b),a=b.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,ia(this,a),a=b.L);a.C=b.C;b.C=a.L.C=!1;fc(this,b);a=this._;break}a.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=!1)}}};E.geom.voronoi=function(a){function b(a){var d=Array(a.length),e=m[0][0],f=m[0][1],h=m[1][0],k=m[1][1];rb(c(a),m).cells.forEach(function(b,c){var m=b.edges,l=b.site;(d[c]=m.length?m.map(function(a){a=a.start();return[a.x,
a.y]}):l.x>=e&&l.x<=h&&l.y>=f&&l.y<=k?[[e,k],[h,k],[h,f],[e,f]]:[]).point=a[c]});return d}function c(a){return a.map(function(a,b){return{x:1E-6*Math.round(f(a,b)/1E-6),y:1E-6*Math.round(h(a,b)/1E-6),i:b}})}var d=Lc,e=Bb,f=d,h=e,m=Og;if(a)return b(a);b.links=function(a){return rb(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})};b.triangles=function(a){var b=[];rb(c(a)).cells.forEach(function(c,d){for(var e=c.site,f=c.edges.sort(nf),h=-1,m=
f.length,k,l=f[m-1].edge,l=l.l===e?l.r:l.l;++h<m;)k=l,l=f[h].edge,l=l.l===e?l.r:l.l,d<k.i&&d<l.i&&0>(e.x-l.x)*(k.y-e.y)-(e.x-k.x)*(l.y-e.y)&&b.push([a[d],a[k.i],a[l.i]])});return b};b.x=function(a){return arguments.length?(f=pa(d=a),b):d};b.y=function(a){return arguments.length?(h=pa(e=a),b):e};b.clipExtent=function(a){if(!arguments.length)return m===Og?null:m;m=null==a?Og:a;return b};b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):m===Og?null:m&&m[1]};return b};var Og=[[-1E6,
-1E6],[1E6,1E6]];E.geom.delaunay=function(a){return E.geom.voronoi().triangles(a)};E.geom.quadtree=function(a,b,c,d,e){function f(a){function l(a,b,c,d,e,f,h,m){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var k=a.x,p=a.y;if(null!=k){if(!(.01>ha(k-c)+ha(p-d))){var q=a.point;a.x=a.y=a.point=null;n(a,q,k,p,e,f,h,m)}n(a,b,c,d,e,f,h,m)}else a.x=c,a.y=d,a.point=b}else n(a,b,c,d,e,f,h,m)}function n(a,b,c,d,e,f,h,m){var k=.5*(e+h),p=.5*(f+m),q=c>=k,r=d>=p,t=r<<1|q;a.leaf=!1;a=a.nodes[t]||(a.nodes[t]=Cb());q?e=k:h=
k;r?f=p:m=p;l(a,b,c,d,e,f,h,m)}var p,q=pa(h),r=pa(m),t,v,x,U,u,z,w,y;if(null!=b)u=b,z=c,w=d,y=e;else if(w=y=-(u=z=Infinity),t=[],v=[],U=a.length,k)for(x=0;x<U;++x)p=a[x],p.x<u&&(u=p.x),p.y<z&&(z=p.y),p.x>w&&(w=p.x),p.y>y&&(y=p.y),t.push(p.x),v.push(p.y);else for(x=0;x<U;++x){var A=+q(p=a[x],x);p=+r(p,x);A<u&&(u=A);p<z&&(z=p);A>w&&(w=A);p>y&&(y=p);t.push(A);v.push(p)}A=w-u;p=y-z;A>p?y=z+A:w=u+p;var B=Cb();B.add=function(a){l(B,a,+q(a,++x),+r(a,x),u,z,w,y)};B.visit=function(a){xc(a,B,u,z,w,y)};B.find=
function(a){return rf(B,a[0],a[1],u,z,w,y)};x=-1;if(null==b){for(;++x<U;)l(B,a[x],t[x],v[x],u,z,w,y);--x}else a.forEach(B.add);t=v=a=p=null;return B}var h=Lc,m=Bb,k;if(k=arguments.length)return h=Mc,m=Tb,3===k&&(e=c,d=b,c=b=0),f(a);f.x=function(a){return arguments.length?(h=a,f):h};f.y=function(a){return arguments.length?(m=a,f):m};f.extent=function(a){if(!arguments.length)return null==b?null:[[b,c],[d,e]];null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]);return f};f.size=function(a){if(!arguments.length)return null==
b?null:[d-b,e-c];null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]);return f};return f};E.interpolateRgb=we;E.interpolateObject=sf;E.interpolateNumber=sb;E.interpolateString=tf;var Wg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xg=new RegExp(Wg.source,"g");E.interpolate=Nc;E.interpolators=[function(a,b){var c=typeof b;return("string"===c?Sf.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?we:tf:b instanceof ta?we:Array.isArray(b)?gc:"object"===c&&isNaN(b)?sf:sb)(a,b)}];E.interpolateArray=gc;var Ih=function(){return w},
Zh=E.map({linear:Ih,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return wf},cubic:function(){return ig},sin:function(){return Yg},exp:function(){return Ub},circle:function(){return jg},elastic:function(a,b){var c;2>arguments.length&&(b=.45);arguments.length?c=b/la*Math.asin(1/a):(a=1,c=b/4);return function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*la/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return Db}}),$h=
E.map({"in":w,out:uf,"in-out":vf,"out-in":function(a){return vf(uf(a))}});E.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.slice(0,b):a,b=0<=b?a.slice(b+1):"in",c=Zh.get(c)||Ih,b=$h.get(b)||w;return hg(b(c.apply(null,jc.call(arguments,1))))};E.interpolateHcl=function(a,b){a=E.hcl(a);b=E.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,h=b.c-d,m=b.l-e;isNaN(h)&&(h=0,d=isNaN(d)?b.c:d);isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360);return function(a){return hb(c+f*a,d+h*a,e+m*a)+""}};E.interpolateHsl=
function(a,b){a=E.hsl(a);b=E.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,h=b.s-d,m=b.l-e;isNaN(h)&&(h=0,d=isNaN(d)?b.s:d);isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360);return function(a){return Ua(c+f*a,d+h*a,e+m*a)+""}};E.interpolateLab=function(a,b){a=E.lab(a);b=E.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,h=b.a-d,m=b.b-e;return function(a){return Xb(c+f*a,d+h*a,e+m*a)+""}};E.interpolateRound=Oc;E.transform=function(a){var b=Ka.createElementNS(E.ns.prefix.svg,"g");return(E.transform=function(a){if(null!=
a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new xe(c?c.matrix:ai)})(a)};xe.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ai={a:1,b:0,c:0,d:1,e:0,f:0};E.interpolateTransform=yf;E.layout={};E.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Ld(a[c]));return b}};E.layout.chord=function(){function a(){var c={},p=[],q=E.range(h),r=[],t,v,x,
u,U;d=[];e=[];t=0;for(u=-1;++u<h;){v=0;for(U=-1;++U<h;)v+=f[u][U];p.push(v);r.push(E.range(h));t+=v}k&&q.sort(function(a,b){return k(p[a],p[b])});l&&r.forEach(function(a,b){a.sort(function(a,c){return l(f[b][a],f[b][c])})});t=(la-m*h)/t;v=0;for(u=-1;++u<h;){x=v;for(U=-1;++U<h;){var z=q[u],w=r[z][U],y=f[z][w],A=v,B=v+=y*t;c[z+"-"+w]={index:z,subindex:w,startAngle:A,endAngle:B,value:y}}e[z]={index:z,startAngle:x,endAngle:v,value:(v-x)/t};v+=m}for(u=-1;++u<h;)for(U=u-1;++U<h;)q=c[u+"-"+U],r=c[U+"-"+
u],(q.value||r.value)&&d.push(q.value<r.value?{source:r,target:q}:{source:q,target:r});n&&b()}function b(){d.sort(function(a,b){return n((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,f,h,m=0,k,l,n;c.matrix=function(a){if(!arguments.length)return f;h=(f=a)&&f.length;d=e=null;return c};c.padding=function(a){if(!arguments.length)return m;m=a;d=e=null;return c};c.sortGroups=function(a){if(!arguments.length)return k;k=a;d=e=null;return c};c.sortSubgroups=function(a){if(!arguments.length)return l;
l=a;d=null;return c};c.sortChords=function(a){if(!arguments.length)return n;n=a;d&&b();return c};c.chords=function(){d||a();return d};c.groups=function(){e||a();return e};return c};E.layout.force=function(){function a(b){return function(a,c,d,e){if(a.point!==b){d=a.cx-b.x;var f=a.cy-b.y;c=e-c;e=d*d+f*f;if(c*c/r<e)return e<p&&(c=a.charge/e,b.px-=d*c,b.py-=f*c),!0;a.point&&e&&e<p&&(c=a.pointCharge/e,b.px-=d*c,b.py-=f*c)}return!a.charge}}function b(a){a.px=E.event.x;a.py=E.event.y;c.resume()}var c={},
d=E.dispatch("start","tick","end"),e=[1,1],f,h,m=.9,k=bi,l=ci,n=-30,p=di,q=.1,r=.64,t=[],v=[],x,u,U;c.tick=function(){if(.005>(h*=.99))return d.end({type:"end",alpha:h=0}),!0;var b=t.length,c=v.length,f,k,l,p,r,z,w;for(f=0;f<c;++f)if(k=v[f],l=k.source,p=k.target,z=p.x-l.x,w=p.y-l.y,r=z*z+w*w)r=h*u[f]*((r=Math.sqrt(r))-x[f])/r,z*=r,w*=r,p.x-=z*(r=l.weight/(p.weight+l.weight)),p.y-=w*r,l.x+=z*(r=1-r),l.y+=w*r;if(r=h*q)if(z=e[0]/2,w=e[1]/2,f=-1,r)for(;++f<b;)k=t[f],k.x+=(z-k.x)*r,k.y+=(w-k.y)*r;if(n)for(ld(c=
E.geom.quadtree(t),h,U),f=-1;++f<b;)(k=t[f]).fixed||c.visit(a(k));for(f=-1;++f<b;)k=t[f],k.fixed?(k.x=k.px,k.y=k.py):(k.x-=(k.px-(k.px=k.x))*m,k.y-=(k.py-(k.py=k.y))*m);d.tick({type:"tick",alpha:h})};c.nodes=function(a){if(!arguments.length)return t;t=a;return c};c.links=function(a){if(!arguments.length)return v;v=a;return c};c.size=function(a){if(!arguments.length)return e;e=a;return c};c.linkDistance=function(a){if(!arguments.length)return k;k="function"===typeof a?a:+a;return c};c.distance=c.linkDistance;
c.linkStrength=function(a){if(!arguments.length)return l;l="function"===typeof a?a:+a;return c};c.friction=function(a){if(!arguments.length)return m;m=+a;return c};c.charge=function(a){if(!arguments.length)return n;n="function"===typeof a?a:+a;return c};c.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(p);p=a*a;return c};c.gravity=function(a){if(!arguments.length)return q;q=+a;return c};c.theta=function(a){if(!arguments.length)return Math.sqrt(r);r=a*a;return c};c.alpha=function(a){if(!arguments.length)return h;
a=+a;h?h=0<a?a:0:0<a&&(d.start({type:"start",alpha:h=a}),E.timer(c.tick));return c};c.start=function(){function a(c,e){if(!p){p=Array(d);for(m=0;m<d;++m)p[m]=[];for(m=0;m<f;++m){var h=v[m];p[h.source.index].push(h.target);p[h.target.index].push(h.source)}}for(var h=p[b],m=-1,k=h.length,l;++m<k;)if(!isNaN(l=h[m][c]))return l;return Math.random()*e}var b,d=t.length,f=v.length,h=e[0],m=e[1],p,q;for(b=0;b<d;++b)(q=t[b]).index=b,q.weight=0;for(b=0;b<f;++b)q=v[b],"number"==typeof q.source&&(q.source=t[q.source]),
"number"==typeof q.target&&(q.target=t[q.target]),++q.source.weight,++q.target.weight;for(b=0;b<d;++b)q=t[b],isNaN(q.x)&&(q.x=a("x",h)),isNaN(q.y)&&(q.y=a("y",m)),isNaN(q.px)&&(q.px=q.x),isNaN(q.py)&&(q.py=q.y);x=[];if("function"===typeof k)for(b=0;b<f;++b)x[b]=+k.call(this,v[b],b);else for(b=0;b<f;++b)x[b]=k;u=[];if("function"===typeof l)for(b=0;b<f;++b)u[b]=+l.call(this,v[b],b);else for(b=0;b<f;++b)u[b]=l;U=[];if("function"===typeof n)for(b=0;b<d;++b)U[b]=+n.call(this,t[b],b);else for(b=0;b<d;++b)U[b]=
n;return c.resume()};c.resume=function(){return c.alpha(.1)};c.stop=function(){return c.alpha(0)};c.drag=function(){f||(f=E.behavior.drag().origin(w).on("dragstart.force",Md).on("drag.force",b).on("dragend.force",Vb));if(!arguments.length)return f;this.on("mouseover.force",ye).on("mouseout.force",kg).call(f)};return E.rebind(c,d,"on")};var bi=20,ci=1,di=Infinity;E.layout.hierarchy=function(){function a(e){var f=[e],h=[],m;for(e.depth=0;null!=(m=f.pop());)if(h.push(m),(l=c.call(a,m,m.depth))&&(k=l.length)){for(var k,
l,n;0<=--k;)f.push(n=l[k]),n.parent=m,n.depth=m.depth+1;d&&(m.value=0);m.children=l}else d&&(m.value=+d.call(a,m,m.depth)||0),delete m.children;Ia(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b);d&&(e=a.parent)&&(e.value+=a.value)});return h}var b=Ae,c=yc,d=Af;a.sort=function(c){if(!arguments.length)return b;b=c;return a};a.children=function(b){if(!arguments.length)return c;c=b;return a};a.value=function(b){if(!arguments.length)return d;d=b;return a};a.revalue=function(b){d&&(Eb(b,function(a){a.children&&
(a.value=0)}),Ia(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0);if(c=b.parent)c.value+=b.value}));return b};return a};E.layout.partition=function(){function a(b,c,d,e){var f=b.children;b.x=c;b.y=b.depth*e;b.dx=d;b.dy=e;if(f&&(m=f.length)){var h=-1,m,k;for(d=b.value?d/b.value:0;++h<m;)a(k=f[h],c,b=k.value*d,e),c+=b}}function b(a){a=a.children;var c=0;if(a&&(e=a.length))for(var d=-1,e;++d<e;)c=Math.max(c,b(a[d]));return 1+c}function c(f,h){var m=d.call(this,f,h);a(m[0],0,e[0],e[1]/
b(m[0]));return m}var d=E.layout.hierarchy(),e=[1,1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return ea(c,d)};E.layout.pie=function(){function a(h){var m=h.length,k=h.map(function(c,d){return+b.call(a,c,d)}),l=+("function"===typeof d?d.apply(this,arguments):d),n=("function"===typeof e?e.apply(this,arguments):e)-l,p=Math.min(Math.abs(n)/m,+("function"===typeof f?f.apply(this,arguments):f)),q=p*(0>n?-1:1),r=(n-m*q)/E.sum(k),m=E.range(m),t=[],v;null!=c&&m.sort(c===Jh?function(a,
b){return k[b]-k[a]}:function(a,b){return c(h[a],h[b])});m.forEach(function(a){t[a]={data:h[a],value:v=k[a],startAngle:l,endAngle:l+=v*r+q,padAngle:p}});return t}var b=Number,c=Jh,d=0,e=la,f=0;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.startAngle=function(b){if(!arguments.length)return d;d=b;return a};a.endAngle=function(b){if(!arguments.length)return e;e=b;return a};a.padAngle=function(b){if(!arguments.length)return f;
f=b;return a};return a};var Jh={};E.layout.stack=function(){function a(m,k){if(!(r=m.length))return m;var l=m.map(function(c,d){return b.call(a,c,d)}),n=l.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),h.call(a,b,c)]})}),p=c.call(a,n,k),l=E.permute(l,p),n=E.permute(n,p),p=d.call(a,n,k),q=l[0].length,r,t,v,x;for(v=0;v<q;++v)for(e.call(a,l[0][v],x=p[v],n[0][v][1]),t=1;t<r;++t)e.call(a,l[t][v],x+=n[t-1][v][1],n[t][v][1]);return m}var b=w,c=Cf,d=Df,e=Zg,f=Bf,h=lg;a.values=function(c){if(!arguments.length)return b;
b=c;return a};a.order=function(b){if(!arguments.length)return c;c="function"===typeof b?b:ei.get(b)||Cf;return a};a.offset=function(b){if(!arguments.length)return d;d="function"===typeof b?b:fi.get(b)||Df;return a};a.x=function(b){if(!arguments.length)return f;f=b;return a};a.y=function(b){if(!arguments.length)return h;h=b;return a};a.out=function(b){if(!arguments.length)return e;e=b;return a};return a};var ei=E.map({"inside-out":function(a){var b=a.length,c,d=a.map($g),e=a.map(Ef),f=E.range(b).sort(function(a,
b){return d[a]-d[b]}),h=0,m=0,k=[],l=[];for(a=0;a<b;++a)c=f[a],h<m?(h+=e[c],k.push(c)):(m+=e[c],l.push(c));return l.reverse().concat(k)},reverse:function(a){return E.range(a.length).reverse()},"default":Cf}),fi=E.map({silhouette:function(a){var b=a.length,c=a[0].length,d=[],e=0,f,h,m,k=[];for(h=0;h<c;++h){for(m=f=0;f<b;f++)m+=a[f][h][1];m>e&&(e=m);d.push(m)}for(h=0;h<c;++h)k[h]=(e-d[h])/2;return k},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e,f,h,m,k,l,n,p,q,r=[];r[0]=p=q=0;for(f=1;f<d;++f){for(m=
e=0;e<b;++e)m+=a[e][f][1];k=e=0;for(n=c[f][0]-c[f-1][0];e<b;++e){h=0;for(l=(a[e][f][1]-a[e][f-1][1])/(2*n);h<e;++h)l+=(a[h][f][1]-a[h][f-1][1])/n;k+=l*a[e][f][1]}r[f]=p-=m?k/m*n:0;p<q&&(q=p)}for(f=0;f<d;++f)r[f]-=q;return r},expand:function(a){var b=a.length,c=a[0].length,d=1/b,e,f,h,m=[];for(f=0;f<c;++f){for(h=e=0;e<b;e++)h+=a[e][f][1];if(h)for(e=0;e<b;e++)a[e][f][1]/=h;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)m[f]=0;return m},zero:Df});E.layout.histogram=function(){function a(f,h){var m=
[],k=f.map(c,this),l=d.call(this,k,h),n=e.call(this,l,k,h),p;h=-1;for(var q=k.length,r=n.length-1,t=b?1:1/q;++h<r;)p=m[h]=[],p.dx=n[h+1]-(p.x=n[h]),p.y=0;if(0<r)for(h=-1;++h<q;)p=k[h],p>=l[0]&&p<=l[1]&&(p=m[E.bisect(n,p,1,r)-1],p.y+=t,p.push(f[h]));return m}var b=!0,c=Number,d=mg,e=Be;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return d;d=pa(b);return a};a.bins=function(b){if(!arguments.length)return e;e="number"===typeof b?function(a){return Nd(a,
b)}:pa(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};E.layout.pack=function(){function a(f,h){var m=b.call(this,f,h),k=m[0],l=d[0],n=d[1],p=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};k.x=k.y=0;Ia(k,function(a){a.r=+p(a.value)});Ia(k,Gf);if(c){var q=c*(e?1:Math.max(2*k.r/l,2*k.r/n))/2;Ia(k,function(a){a.r+=q});Ia(k,Gf);Ia(k,function(a){a.r-=q})}Hf(k,l/2,n/2,e?1:1/Math.max(2*k.r/l,2*k.r/n));return m}var b=E.layout.hierarchy().sort(ng),
c=0,d=[1,1],e;a.size=function(b){if(!arguments.length)return d;d=b;return a};a.radius=function(b){if(!arguments.length)return e;e=null==b||"function"===typeof b?b:+b;return a};a.padding=function(b){if(!arguments.length)return c;c=+b;return a};return ea(a,b)};E.layout.tree=function(){function a(l,n){var p=f.call(this,l,n),q=p[0],r=b(q);Ia(r,c);r.parent.m=-r.z;Eb(r,d);if(k)Eb(q,e);else{var t=q,v=q,x=q;Eb(q,function(a){a.x<t.x&&(t=a);a.x>v.x&&(v=a);a.depth>x.depth&&(x=a)});var u=h(t,v)/2-t.x,U=m[0]/
(v.x+h(v,t)/2+u),z=m[1]/(x.depth||1);Eb(q,function(a){a.x=(a.x+u)*U;a.y=a.depth*z})}return p}function b(a){a={A:null,children:[a]};for(var c=[a],d;null!=(d=c.pop());)for(var e=d.children,f,h=0,m=e.length;h<m;++h)c.push((e[h]=f={_:e[h],parent:d,children:(f=e[h].children)&&f.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:h}).a=f);return a.children[0]}function c(a){var b=a.children,d=a.parent.children,e=a.i?d[a.i-1]:null;if(b.length){for(var f=0,m=0,k=a.children,l=k.length,n;0<=--l;)n=k[l],n.z+=
f,n.m+=f,f+=n.s+(m+=n.c);b=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+h(a._,e._),a.m=a.z-b):a.z=b}else e&&(a.z=e.z+h(a._,e._));b=a.parent;d=a.parent.A||d[0];if(e){m=f=a;k=f.parent.children[0];l=f.m;n=m.m;for(var p=e.m,q=k.m,r;e=If(e),f=Na(f),e&&f;){k=Na(k);m=If(m);m.a=a;r=e.z+p-f.z-l+h(e._,f._);if(0<r){var t=e.a.parent===a.parent?e.a:d,v=a,x=r,u=x/(v.i-t.i);v.c-=u;v.s+=x;t.c+=u;v.z+=x;v.m+=x;l+=r;n+=r}p+=e.m;l+=f.m;q+=k.m;n+=m.m}e&&!If(m)&&(m.t=e,m.m+=p-n);f&&!Na(k)&&(k.t=f,k.m+=l-q,d=a)}b.A=d}function d(a){a._.x=
a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=m[0];a.y=a.depth*m[1]}var f=E.layout.hierarchy().sort(null).value(null),h=wa,m=[1,1],k=null;a.separation=function(b){if(!arguments.length)return h;h=b;return a};a.size=function(b){if(!arguments.length)return k?null:m;k=null==(m=b)?e:null;return a};a.nodeSize=function(b){if(!arguments.length)return k?m:null;k=null==(m=b)?null:e;return a};return ea(a,f)};E.layout.cluster=function(){function a(f,h){var m=b.call(this,f,h),k=m[0],l,n=0;Ia(k,function(a){var b=
a.children;b&&b.length?(a.x=Fb(b),a.y=ah(b)):(a.x=l?n+=c(a,l):0,a.y=0,l=a)});var p=Jf(k),q=Ee(k),r=p.x-c(p,q)/2,t=q.x+c(q,p)/2;Ia(k,e?function(a){a.x=(a.x-k.x)*d[0];a.y=(k.y-a.y)*d[1]}:function(a){a.x=(a.x-r)/(t-r)*d[0];a.y=(1-(k.y?a.y/k.y:1))*d[1]});return m}var b=E.layout.hierarchy().sort(null).value(null),c=wa,d=[1,1],e=!1;a.separation=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return e?null:d;e=null==(d=b);return a};a.nodeSize=function(b){if(!arguments.length)return e?
d:null;e=null!=(d=b);return a};return ea(a,b)};E.layout.treemap=function(){function a(b,c){for(var d=-1,e=b.length,f,h;++d<e;)h=(f=b[d]).value*(0>c?0:c),f.area=isNaN(h)||0>=h?0:h}function b(c){var e=c.children;if(e&&e.length){var f=l(c),h=[],m=e.slice(),k=Infinity,n,p="slice"===q?f.dx:"dice"===q?f.dy:"slice-dice"===q?c.depth&1?f.dy:f.dx:Math.min(f.dx,f.dy);a(m,f.dx*f.dy/c.value);for(h.area=0;0<(c=m.length);){h.push(c=m[c-1]);h.area+=c.area;if(!(c="squarify"!==q)){n=p;c=h.area;for(var t=void 0,v=0,
x=Infinity,u=-1,U=h.length;++u<U;)if(t=h[u].area)t<x&&(x=t),t>v&&(v=t);c*=c;n*=n;c=(n=c?Math.max(n*v*r/c,c/(n*x*r)):Infinity)<=k}c?(m.pop(),k=n):(h.area-=h.pop().area,d(h,p,f,!1),p=Math.min(f.dx,f.dy),h.length=h.area=0,k=Infinity)}h.length&&(d(h,p,f,!0),h.length=h.area=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var f=l(b),h=e.slice(),m=[];a(h,f.dx*f.dy/b.value);for(m.area=0;b=h.pop();)m.push(b),m.area+=b.area,null!=b.z&&(d(m,b.z?f.dx:f.dy,f,!h.length),m.length=m.area=0);e.forEach(c)}}
function d(a,b,c,e){var f=-1,m=a.length,k=c.x,l=c.y,n=b?h(a.area/b):0,p;if(b==c.dx){if(e||n>c.dy)n=c.dy;for(;++f<m;)p=a[f],p.x=k,p.y=l,p.dy=n,k+=p.dx=Math.min(c.x+c.dx-k,n?h(p.area/n):0);p.z=!0;p.dx+=c.x+c.dx-k;c.y+=n;c.dy-=n}else{if(e||n>c.dx)n=c.dx;for(;++f<m;)p=a[f],p.x=k,p.y=l,p.dx=n,l+=p.dy=Math.min(c.y+c.dy-l,n?h(p.area/n):0);p.z=!1;p.dy+=c.y+c.dy-l;c.x+=n;c.dx-=n}}function e(d){d=p||f(d);var h=d[0];h.x=0;h.y=0;h.dx=m[0];h.dy=m[1];p&&f.revalue(h);a([h],h.dx*h.dy/h.value);(p?c:b)(h);n&&(p=d);
return d}var f=E.layout.hierarchy(),h=Math.round,m=[1,1],k=null,l=Kf,n=!1,p,q="squarify",r=.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return m;m=a;return e};e.padding=function(a){function b(c){var d=a.call(e,c,c.depth);return null==d?Kf(c):pg(c,"number"===typeof d?[d,d,d,d]:d)}function c(b){return pg(b,a)}if(!arguments.length)return k;var d;l=null==(k=a)?Kf:"function"===(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c;return e};e.round=function(a){if(!arguments.length)return h!=Number;
h=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return n;n=a;p=null;return e};e.ratio=function(a){if(!arguments.length)return r;r=a;return e};e.mode=function(a){if(!arguments.length)return q;q=a+"";return e};return ea(e,f)};E.random={normal:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);return function(){var c,d;do c=2*Math.random()-1,d=2*Math.random()-1,d=c*c+d*d;while(!d||1<d);return a+b*c*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(){var a=E.random.normal.apply(E,
arguments);return function(){return Math.exp(a())}},bates:function(a){var b=E.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}};E.scale={};var Sh={floor:w,ceil:w};E.scale.linear=function(){return Ge([0,1],[0,1],Nc,!1)};var Th={s:1,g:1,p:1,r:1,e:1};E.scale.log=function(){return Ac(E.scale.linear().domain([0,1]),10,!0,[1,10])};var xh=E.format(".0e"),Uh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};
E.scale.pow=function(){return Pc(E.scale.linear(),1,[0,1])};E.scale.sqrt=function(){return E.scale.pow().exponent(.5)};E.scale.ordinal=function(){return Bc([],{t:"range",a:[[]]})};E.scale.category10=function(){return E.scale.ordinal().range(gi)};E.scale.category20=function(){return E.scale.ordinal().range(hi)};E.scale.category20b=function(){return E.scale.ordinal().range(ii)};E.scale.category20c=function(){return E.scale.ordinal().range(ji)};var gi=[2062260,16744206,2924588,14034728,9725885,9197131,
14907330,8355711,12369186,1556175].map(gb),hi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gb),ii=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gb),ji=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,
10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gb);E.scale.quantile=function(){return Qd([],[])};E.scale.quantize=function(){return Rd(0,1,[0,1])};E.scale.threshold=function(){return Mf([.5],[0,1])};E.scale.identity=function(){return Sd([0,1])};E.svg={};E.svg.arc=function(){function a(){var l=Math.max(0,+c.apply(this,arguments)),n=Math.max(0,+d.apply(this,arguments)),p=h.apply(this,arguments)-Ea,q=m.apply(this,arguments)-Ea,r=Math.abs(q-p),t=p>q?0:1;n<
l&&(v=n,n=l,l=v);if(r>=Wh)return b(n,t)+(l?b(l,1-t):"")+"Z";var v,x,u,U,z=v=0,w,y,A,B,C,r=[];if(U=(+k.apply(this,arguments)||0)/2)u=f===Pg?Math.sqrt(l*l+n*n):+f.apply(this,arguments),t||(z*=-1),n&&(z=La(u/n*Math.sin(U))),l&&(v=La(u/l*Math.sin(U)));n?(u=n*Math.cos(p+z),U=n*Math.sin(p+z),w=n*Math.cos(q-z),y=n*Math.sin(q-z),x=Math.abs(q-p-2*z)<=Z?0:1,z&&Td(u,U,w,y)===t^x&&(w=(p+q)/2,u=n*Math.cos(w),U=n*Math.sin(w),w=y=null)):u=U=0;if(l){z=l*Math.cos(q-v);A=l*Math.sin(q-v);B=l*Math.cos(p+v);C=l*Math.sin(p+
v);var la=Math.abs(p-q+2*v)<=Z?0:1;v&&Td(z,A,B,C)===1-t^la&&(B=(p+q)/2,z=l*Math.cos(B),A=l*Math.sin(B),B=C=null)}else z=A=0;if(.001<(v=Math.min(Math.abs(n-l)/2,+e.apply(this,arguments)))){x=l<n^t?0:1;var la=null==B?[z,A]:null==w?[u,U]:qe([u,U],[B,C],[w,y],[z,A]),p=u-la[0],q=U-la[1],D=w-la[0],F=y-la[1],p=1/Math.sin(Math.acos((p*D+q*F)/(Math.sqrt(p*p+q*q)*Math.sqrt(D*D+F*F)))/2),la=Math.sqrt(la[0]*la[0]+la[1]*la[1]);null!=w?(q=Math.min(v,(n-la)/(p+1)),D=Ud(null==B?[z,A]:[B,C],[u,U],n,q,t),F=Ud([w,y],
[z,A],n,q,t),v===q?r.push("M",D[0],"A",q,",",q," 0 0,",x," ",D[1],"A",n,",",n," 0 ",1-t^Td(D[1][0],D[1][1],F[1][0],F[1][1]),",",t," ",F[1],"A",q,",",q," 0 0,",x," ",F[0]):r.push("M",D[0],"A",q,",",q," 0 1,",x," ",F[0])):r.push("M",u,",",U);null!=B?(n=Math.min(v,(l-la)/(p-1)),B=Ud([u,U],[B,C],l,-n,t),w=Ud([z,A],null==w?[u,U]:[w,y],l,-n,t),v===n?r.push("L",w[0],"A",n,",",n," 0 0,",x," ",w[1],"A",l,",",l," 0 ",t^Td(w[1][0],w[1][1],B[1][0],B[1][1]),",",1-t," ",B[1],"A",n,",",n," 0 0,",x," ",B[0]):r.push("L",
w[0],"A",n,",",n," 0 0,",x," ",B[0])):r.push("L",z,",",A)}else r.push("M",u,",",U),null!=w&&r.push("A",n,",",n," 0 ",x,",",t," ",w,",",y),r.push("L",z,",",A),null!=B&&r.push("A",l,",",l," 0 ",la,",",1-t," ",B,",",C);r.push("Z");return r.join("")}function b(a,c){return"M0,"+a+"A"+a+","+a+" 0 1,"+c+" 0,"+-a+"A"+a+","+a+" 0 1,"+c+" 0,"+a}var c=rg,d=Nf,e=Hb,f=Pg,h=hc,m=sg,k=nd;a.innerRadius=function(b){if(!arguments.length)return c;c=pa(b);return a};a.outerRadius=function(b){if(!arguments.length)return d;
d=pa(b);return a};a.cornerRadius=function(b){if(!arguments.length)return e;e=pa(b);return a};a.padRadius=function(b){if(!arguments.length)return f;f=b==Pg?Pg:pa(b);return a};a.startAngle=function(b){if(!arguments.length)return h;h=pa(b);return a};a.endAngle=function(b){if(!arguments.length)return m;m=pa(b);return a};a.padAngle=function(b){if(!arguments.length)return k;k=pa(b);return a};a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+h.apply(this,arguments)+ +m.apply(this,
arguments))/2-Ea;return[Math.cos(b)*a,Math.sin(b)*a]};return a};var Pg="auto";E.svg.line=function(){return od(w)};var bh=E.map({linear:Ya,"linear-closed":function(a){return Ya(a)+"Z"},step:function(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);1<c&&e.push("H",d[0]);return e.join("")},"step-before":Vd,"step-after":ic,basis:Wd,"basis-open":function(a){if(4>a.length)return Ya(a);for(var b=[],c=-1,d=a.length,e,f=[0],h=[0];3>++c;)e=a[c],f.push(e[0]),
h.push(e[1]);b.push(Ja(pd,f)+","+Ja(pd,h));for(--c;++c<d;)e=a[c],f.shift(),f.push(e[0]),h.shift(),h.push(e[1]),qd(b,f,h);return b.join("")},"basis-closed":function(a){for(var b,c=-1,d=a.length,e=d+4,f,h=[],m=[];4>++c;)f=a[c%d],h.push(f[0]),m.push(f[1]);b=[Ja(pd,h),",",Ja(pd,m)];for(--c;++c<e;)f=a[c%d],h.shift(),h.push(f[0]),m.shift(),m.push(f[1]),qd(b,h,m);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var d=a[0][0],e=a[0][1],f=a[c][0]-d,h=a[c][1]-e,m=-1,k,l;++m<=c;)k=a[m],l=m/
c,k[0]=b*k[0]+(1-b)*(d+l*f),k[1]=b*k[1]+(1-b)*(e+l*h);return Wd(a)},cardinal:function(a,b){return 3>a.length?Ya(a):a[0]+Cc(a,Of(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ya(a):a[1]+Cc(a.slice(1,-1),Of(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Ya(a):a[0]+Cc((a.push(a[0]),a),Of([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Ya(a);else{var b=a[0],c=[],d,e,f,h;d=0;e=a.length-1;var m=[];f=a[1];for(h=m[0]=Pf(a[0],f);++d<e;)m[d]=(h+(h=Pf(f,f=a[d+1])))/
2;m[d]=h;for(var k=-1,l=a.length-1;++k<l;)d=Pf(a[k],a[k+1]),1E-6>ha(d)?m[k]=m[k+1]=0:(e=m[k]/d,f=m[k+1]/d,h=e*e+f*f,9<h&&(h=3*d/Math.sqrt(h),m[k]=h*e,m[k+1]=h*f));for(k=-1;++k<=l;)h=(a[Math.min(l,k+1)][0]-a[Math.max(0,k-1)][0])/(6*(1+m[k]*m[k])),c.push([h||0,m[k]*h||0]);a=b+Cc(a,c)}return a}});bh.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var yh=[0,2/3,1/3,0],zh=[0,1/3,2/3,0],pd=[0,1/6,2/3,1/6];E.svg.line.radial=function(){var a=od(tg);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;
return a};Vd.reverse=ic;ic.reverse=Vd;E.svg.area=function(){return Xd(w)};E.svg.area.radial=function(){var a=Xd(tg);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};E.svg.chord=function(){function a(f,h){var m=b(this,d,f,h),k=b(this,e,f,h);return"M"+m.p0+c(m.r,m.p1,m.a1-m.a0)+(m.a0==k.a0&&m.a1==k.a1?"Q 0,0 "+m.p0:"Q 0,0 "+k.p0+c(k.r,k.p1,k.a1-k.a0)+("Q 0,0 "+m.p0))+"Z"}function b(a,
c,d,e){var k=c.call(a,d,e);c=f.call(a,k,e);d=h.call(a,k,e)-Ea;a=m.call(a,k,e)-Ea;return{r:c,a0:d,a1:a,p0:[c*Math.cos(d),c*Math.sin(d)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function c(a,b,d){return"A"+a+","+a+" 0 "+ +(d>Z)+",1 "+b}var d=oe,e=ff,f=Qc,h=hc,m=sg;a.radius=function(b){if(!arguments.length)return f;f=pa(b);return a};a.source=function(b){if(!arguments.length)return d;d=pa(b);return a};a.target=function(b){if(!arguments.length)return e;e=pa(b);return a};a.startAngle=function(b){if(!arguments.length)return h;
h=pa(b);return a};a.endAngle=function(b){if(!arguments.length)return m;m=pa(b);return a};return a};E.svg.diagonal=function(){function a(e,f){var h=b.call(this,e,f),m=c.call(this,e,f),k=(h.y+m.y)/2,h=[h,{x:h.x,y:k},{x:m.x,y:k},m],h=h.map(d);return"M"+h[0]+"C"+h[1]+" "+h[2]+" "+h[3]}var b=oe,c=ff,d=ug;a.source=function(c){if(!arguments.length)return b;b=pa(c);return a};a.target=function(b){if(!arguments.length)return c;c=pa(b);return a};a.projection=function(b){if(!arguments.length)return d;d=b;return a};
return a};E.svg.diagonal.radial=function(){var a=E.svg.diagonal(),b=ug,c=a.projection;a.projection=function(a){return arguments.length?c(Je(b=a)):b};return a};E.svg.symbol=function(){function a(d,e){return(Kh.get(b.call(this,d,e))||vg)(c.call(this,d,e))}var b=Rc,c=Ke;a.type=function(c){if(!arguments.length)return b;b=pa(c);return a};a.size=function(b){if(!arguments.length)return c;c=pa(b);return a};return a};var Kh=E.map({circle:vg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+
"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*Lh));var b=a*Lh;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/Qg);var b=a*Qg/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Qg);var b=a*Qg/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});E.svg.symbolTypes=
Kh.keys();var Qg=Math.sqrt(3),Lh=Math.tan(30*ka);ra.transition=function(a){var b=ae||++Mh;a=Sc(a);for(var c=[],d,e,f=Rg||{time:Date.now(),ease:Ra,delay:0,duration:250},h=-1,m=this.length;++h<m;){c.push(d=[]);for(var k=this[h],l=-1,n=k.length;++l<n;)(e=k[l])&&Sa(e,l,a,b,f),d.push(e)}return Yd(c,a,b)};ra.interrupt=function(a){return this.each(null==a?Cg:wg(Sc(a)))};var Cg=wg(Sc()),Oa=[],Mh=0,ae,Rg;Oa.call=ra.call;Oa.empty=ra.empty;Oa.node=ra.node;Oa.size=ra.size;E.transition=function(a,b){return a&&
a.transition?ae?a.transition(b):a:E.selection().transition(a)};E.transition.prototype=Oa;Oa.select=function(a){var b=this.id,c=this.namespace,d=[],e,f,h;a=G(a);for(var m=-1,k=this.length;++m<k;){d.push(e=[]);for(var l=this[m],n=-1,p=l.length;++n<p;)(h=l[n])&&(f=a.call(h,h.__data__,n,m))?("__data__"in h&&(f.__data__=h.__data__),Sa(f,n,c,b,h[c][b]),e.push(f)):e.push(null)}return Yd(d,c,b)};Oa.selectAll=function(a){var b=this.id,c=this.namespace,d=[],e,f,h,m;a=I(a);for(var k=-1,l=this.length;++k<l;)for(var n=
this[k],p=-1,q=n.length;++p<q;)if(e=n[p]){m=e[c][b];f=a.call(e,e.__data__,p,k);d.push(e=[]);for(var r=-1,t=f.length;++r<t;)(h=f[r])&&Sa(h,r,c,b,m),e.push(h)}return Yd(d,c,b)};Oa.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=R(a));for(var f=0,h=this.length;f<h;f++){b.push(c=[]);d=this[f];for(var m=0,k=d.length;m<k;m++)(e=d[m])&&a.call(e,e.__data__,m,f)&&c.push(e)}return Yd(b,this.namespace,this.id)};Oa.tween=function(a,b){var c=this.id,d=this.namespace;return 2>arguments.length?this.node()[d][c].tween.get(a):
Q(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})};Oa.attr=function(a,b){function c(){this.removeAttribute(m)}function d(){this.removeAttributeNS(m.space,m.local)}function e(a){return null==a?c:(a+="",function(){var b=this.getAttribute(m),c;return b!==a&&(c=h(b,a),function(a){this.setAttribute(m,c(a))})})}function f(a){return null==a?d:(a+="",function(){var b=this.getAttributeNS(m.space,m.local),c;return b!==a&&(c=h(b,a),function(a){this.setAttributeNS(m.space,
m.local,c(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var h="transform"==a?yf:Nc,m=E.ns.qualify(a);return ab(this,"attr."+a,b,m.local?f:e)};Oa.attrTween=function(a,b){function c(a,d){var f=b.call(this,a,d,this.getAttribute(e));return f&&function(a){this.setAttribute(e,f(a))}}function d(a,c){var f=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return f&&function(a){this.setAttributeNS(e.space,e.local,f(a))}}var e=E.ns.qualify(a);return this.tween("attr."+a,e.local?
d:c)};Oa.style=function(a,b,c){function d(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!==typeof a){2>e&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return ab(this,"style."+a,b,function(b){return null==b?d:(b+="",function(){var d=l(this).getComputedStyle(this,null).getPropertyValue(a),e;return d!==b&&(e=Nc(d,b),function(b){this.style.setProperty(a,e(b),c)})})})};Oa.styleTween=function(a,b,c){3>arguments.length&&(c="");return this.tween("style."+a,function(d,
e){var f=b.call(this,d,e,l(this).getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),c)}})};Oa.text=function(a){return ab(this,"text",a,ch)};Oa.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;2>this[a].count&&(b=this.parentNode)&&b.removeChild(this)})};Oa.ease=function(a){var b=this.id,c=this.namespace;if(1>arguments.length)return this.node()[c][b].ease;"function"!==typeof a&&(a=E.ease.apply(E,arguments));return Q(this,
function(d){d[c][b].ease=a})};Oa.delay=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].delay:Q(this,"function"===typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))};Oa.duration=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].duration:Q(this,"function"===typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=
a}))};Oa.each=function(a,b){var c=this.id,d=this.namespace;if(2>arguments.length){var e=Rg,f=ae;try{ae=c,Q(this,function(b,e,f){Rg=b[d][c];a.call(b,b.__data__,e,f)})}finally{Rg=e,ae=f}}else Q(this,function(e){e=e[d][c];(e.event||(e.event=E.dispatch("start","end","interrupt"))).on(a,b)});return this};Oa.transition=function(){for(var a=this.id,b=++Mh,c=this.namespace,d=[],e,f,h,m,k=0,l=this.length;k<l;k++){d.push(e=[]);f=this[k];for(var n=0,p=f.length;n<p;n++){if(h=f[n])m=h[c][a],Sa(h,n,c,b,{time:m.time,
ease:m.ease,delay:m.delay+m.duration,duration:m.duration});e.push(h)}}return Yd(d,c,b)};E.svg.axis=function(){function a(l){l.each(function(){var a=E.select(this),l=this.__chart__||b,n=this.__chart__=b.copy(),p=null==m?n.ticks?n.ticks.apply(n,h):n.domain():m,q=null==k?n.tickFormat?n.tickFormat.apply(n,h):w:k,r=a.selectAll(".tick").data(p,n),p=r.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6),t=E.transition(r.exit()).style("opacity",1E-6).remove(),v=E.transition(r.order()).style("opacity",
1),x=Math.max(d,0)+f,u=md(n),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),E.transition(a));p.append("line");p.append("text");var U=p.select("line"),z=v.select("line"),r=r.select("text").text(q),y=p.select("text"),A=v.select("text"),B="top"===c||"left"===c?-1:1,Z,C,la,D;"bottom"===c||"top"===c?(q=dh,Z="x",la="y",C="x2",D="y2",r.attr("dy",0>B?"0em":".71em").style("text-anchor","middle"),a.attr("d","M"+u[0]+","+B*e+"V0H"+u[1]+"V"+B*e)):(q=Qf,Z="y",la="x",C="y2",
D="x2",r.attr("dy",".32em").style("text-anchor",0>B?"end":"start"),a.attr("d","M"+B*e+","+u[0]+"H0V"+u[1]+"H"+B*e));U.attr(D,B*d);y.attr(la,B*x);z.attr(C,0).attr(D,B*d);A.attr(Z,0).attr(la,B*x);if(n.rangeBand)var F=n,G=F.rangeBand()/2,l=n=function(a){return F(a)+G};else l.rangeBand?l=n:t.call(q,n,l);p.call(q,l,n);v.call(q,n,n)})}var b=E.scale.linear(),c=Nh,d=6,e=6,f=3,h=[10],m=null,k;a.scale=function(c){if(!arguments.length)return b;b=c;return a};a.orient=function(b){if(!arguments.length)return c;
c=b in ki?b+"":Nh;return a};a.ticks=function(){if(!arguments.length)return h;h=arguments;return a};a.tickValues=function(b){if(!arguments.length)return m;m=b;return a};a.tickFormat=function(b){if(!arguments.length)return k;k=b;return a};a.tickSize=function(b){var c=arguments.length;if(!c)return d;d=+b;e=+arguments[c-1];return a};a.innerTickSize=function(b){if(!arguments.length)return d;d=+b;return a};a.outerTickSize=function(b){if(!arguments.length)return e;e=+b;return a};a.tickPadding=function(b){if(!arguments.length)return f;
f=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var Nh="bottom",ki={top:1,right:1,bottom:1,left:1};E.svg.brush=function(){function a(f){f.each(function(){var f=E.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),k=f.selectAll(".background").data([0]);k.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");f.selectAll(".extent").data([0]).enter().append("rect").attr("class",
"extent").style("cursor","move");var l=f.selectAll(".resize").data(v,w);l.exit().remove();l.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return li[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");l.style("display",a.empty()?"none":null);f=E.transition(f);k=E.transition(k);h&&(l=md(h),k.attr("x",l[0]).attr("width",
l[1]-l[0]),c(f));m&&(l=md(m),k.attr("y",l[0]).attr("height",l[1]-l[0]),d(f));b(f)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+k[+/e$/.test(a)]+","+n[+/^s/.test(a)]+")"})}function c(a){a.select(".extent").attr("x",k[0]);a.selectAll(".extent,.n\x3erect,.s\x3erect").attr("width",k[1]-k[0])}function d(a){a.select(".extent").attr("y",n[0]);a.selectAll(".extent,.e\x3erect,.w\x3erect").attr("height",n[1]-n[0])}function e(){function v(){var a=E.mouse(U),e=!1;J&&
(a[0]+=J[0],a[1]+=J[1]);la||(E.event.altKey?(F||(F=[(k[0]+k[1])/2,(n[0]+n[1])/2]),G[0]=k[+(a[0]<F[0])],G[1]=n[+(a[1]<F[1])]):F=null);Z&&x(a,h,0)&&(c(y),e=!0);C&&x(a,m,1)&&(d(y),e=!0);e&&(b(y),w({type:"brush",mode:la?"move":"resize"}))}function x(a,b,c){var d=md(b);b=d[0];var e=d[1],d=G[c],f=c?n:k,h=f[1]-f[0];la&&(b-=d,e-=h+d);a=(c?t:r)?Math.max(b,Math.min(e,a[c])):a[c];la?b=(a+=d)+h:(F&&(d=Math.max(b,Math.min(e,2*F[c]-a))),d<a?(b=a,a=d):b=d);if(f[0]!=a||f[1]!=b)return c?q=null:p=null,f[0]=a,f[1]=
b,!0}function u(){v();y.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);E.select("body").style("cursor",null);X.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);D();w({type:"brushend"})}var U=this,z=E.select(E.event.target),w=f.of(U,arguments),y=E.select(U),A=z.datum(),Z=!/^(n|s)$/.test(A)&&h,C=!/^(e|w)$/.test(A)&&m,la=z.classed("extent"),D=ca(U),F,G=E.mouse(U),
J,X=E.select(l(U)).on("keydown.brush",function(){32==E.event.keyCode&&(la||(F=null,G[0]-=k[1],G[1]-=n[1],la=2),B())}).on("keyup.brush",function(){32==E.event.keyCode&&2==la&&(G[0]+=k[1],G[1]+=n[1],la=0,B())});if(E.event.changedTouches)X.on("touchmove.brush",v).on("touchend.brush",u);else X.on("mousemove.brush",v).on("mouseup.brush",u);y.interrupt().selectAll("*").interrupt();if(la)G[0]=k[0]-G[0],G[1]=n[0]-G[1];else if(A){var L=+/w$/.test(A),A=+/^n/.test(A);J=[k[1-L]-G[0],n[1-A]-G[1]];G[0]=k[L];G[1]=
n[A]}else E.event.altKey&&(F=G.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null);E.select("body").style("cursor",z.style("cursor"));w({type:"brushstart"});v()}var f=D(a,"brushstart","brush","brushend"),h=null,m=null,k=[0,0],n=[0,0],p,q,r=!0,t=!0,v=jh[0];a.event=function(a){a.each(function(){var a=f.of(this,arguments),b={x:k,y:n,i:p,j:q},c=this.__chart__||b;this.__chart__=b;ae?E.select(this).transition().each("start.brush",function(){p=c.i;q=c.j;k=c.x;n=c.y;a({type:"brushstart"})}).tween("brush:brush",
function(){var c=gc(k,b.x),d=gc(n,b.y);p=q=null;return function(e){k=b.x=c(e);n=b.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){p=b.i;q=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(b){if(!arguments.length)return h;h=b;v=jh[!h<<1|!m];return a};a.y=function(b){if(!arguments.length)return m;m=b;v=jh[!h<<1|!m];return a};a.clamp=function(b){if(!arguments.length)return h&&
m?[r,t]:h?r:m?t:null;h&&m?(r=!!b[0],t=!!b[1]):h?r=!!b:m&&(t=!!b);return a};a.extent=function(b){var c,d,e,f,l;if(!arguments.length)return h&&(p?(c=p[0],d=p[1]):(c=k[0],d=k[1],h.invert&&(c=h.invert(c),d=h.invert(d)),d<c&&(l=c,c=d,d=l))),m&&(q?(e=q[0],f=q[1]):(e=n[0],f=n[1],m.invert&&(e=m.invert(e),f=m.invert(f)),f<e&&(l=e,e=f,f=l))),h&&m?[[c,e],[d,f]]:h?[c,d]:m&&[e,f];h&&(c=b[0],d=b[1],m&&(c=c[0],d=d[0]),p=[c,d],h.invert&&(c=h(c),d=h(d)),d<c&&(l=c,c=d,d=l),c!=k[0]||d!=k[1])&&(k=[c,d]);m&&(e=b[0],f=
b[1],h&&(e=e[1],f=f[1]),q=[e,f],m.invert&&(e=m(e),f=m(f)),f<e&&(l=e,e=f,f=l),e!=n[0]||f!=n[1])&&(n=[e,f]);return a};a.clear=function(){a.empty()||(k=[0,0],n=[0,0],p=q=null);return a};a.empty=function(){return!!h&&k[0]==k[1]||!!m&&n[0]==n[1]};return E.rebind(a,f,"on")};var li={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},jh=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],kh=ba.format=Bh.timeFormat,Oh=kh.utc,Ph=
Oh("%Y-%m-%dT%H:%M:%S.%LZ");kh.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?na:Ph;na.parse=function(a){a=new Date(a);return isNaN(a)?null:a};na.toString=Ph.toString;ba.second=$a(function(a){return new bb(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});ba.seconds=ba.second.range;ba.seconds.utc=ba.second.utc.range;ba.minute=$a(function(a){return new bb(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+
6E4*Math.floor(b))},function(a){return a.getMinutes()});ba.minutes=ba.minute.range;ba.minutes.utc=ba.minute.utc.range;ba.hour=$a(function(a){var b=a.getTimezoneOffset()/60;return new bb(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});ba.hours=ba.hour.range;ba.hours.utc=ba.hour.utc.range;ba.month=$a(function(a){a=ba.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});ba.months=
ba.month.range;ba.months.utc=ba.month.utc.range;var xg=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],lh=[[ba.second,1],[ba.second,5],[ba.second,15],[ba.second,30],[ba.minute,1],[ba.minute,5],[ba.minute,15],[ba.minute,30],[ba.hour,1],[ba.hour,3],[ba.hour,6],[ba.hour,12],[ba.day,1],[ba.day,2],[ba.week,1],[ba.month,1],[ba.month,3],[ba.year,1]],mi=kh.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],
["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",$c]]),Vh={range:function(a,b,c){return E.range(Math.ceil(a/c)*c,+b,c).map(Ba)},floor:w,ceil:w};lh.year=ba.year;ba.scale=function(){return Ib(E.scale.linear(),lh,mi)};var Qh=lh.map(function(a){return[a[0].utc,a[1]]}),ni=Oh.multi([[".%L",function(a){return a.getUTCMilliseconds()}],
[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",$c]]);Qh.year=ba.year.utc;ba.scale.utc=function(){return Ib(E.scale.linear(),Qh,ni)};E.text=Uc(function(a){return a.responseText});E.json=function(a,b){return wb(a,"application/json",Zd,b)};E.html=function(a,
b){return wb(a,"text/html",Jb,b)};E.xml=Uc(function(a){return a.responseXML});"function"===typeof define&&define.amd?define(E):"object"===typeof module&&module.exports&&(module.exports=E);this.d3=E}()},"mojo/user":function(){define("dojo/_base/xhr dojo/_base/array dojo/when mojo/url mojo/lib/request-helpers dojo/query dojo/NodeList-manipulate".split(" "),function(l,k,h,f,a,c,e){var m=["owner","admin","manager","author","viewer"],d=window.User={__csrfToken:null,role:null,type:null,settings:{pageSize:25,
fileManagerShowGrid:!1},avatarUrl:null,coachmarks:{},showCoachmarks:!1,pro:!1,userId:null,userLevel:null,isAnyEcomm:null,hasPaid:!1,currencySymbol:"$",timezoneLabel:null,timezoneOffset:null,mustTrackLinks:!1,isGoalAvailable:!1,isGoalEnabled:!1,canSend:!1,freeLimit:0,isPayAsYouGo:!1,brandLogoUrl:null,saveSetting:function(a,c){this.userId&&l.post({url:f.toUrl("/index/save-user-setting"),content:{key:a,value:c}})},saveSessionSetting:function(a,c){l.post({url:f.toUrl("/index/save-session-setting"),content:{key:a,
value:c}})},hasRole:function(a){return k.indexOf(m,a)>=k.indexOf(m,d.role)},markCoachmark:function(a,c){c||(c=1);l.post({url:f.toUrl("/index/mark-coachmark"),content:{coachmark:a,step:c}}).then(function(){d.coachmarks[a]=c})},updateCSRF:function(a){c("[name\x3d__csrf_token][value\x3d"+d.__csrfToken+"]").val(a);d.__csrfToken=a},getUserLogins:function(){return this._userLogins?h(this._userLogins):l.get({url:f.toUrl("/account/apis/get-user-logins"),handleAs:"json"}).then(function(a){return this._userLogins=
a}.bind(this),a.throwError)},flagIsOn:function(a){return-1!==k.indexOf(d.flags,a)},getBootstrappedInstance:function(){return this.isBootstrapped?this:window.top.User}};return d})},"mojo/lib/request-helpers":function(){define(["dojo/_base/declare","mojo/validation/Error","mojo/lib/ServiceUnavailableError"],function(l,k,h){var f={transformErrorFromResponse:function(a){var c=a.response.status,e=f._getErrorClassForStatus(c);if(null===e)return Error();if(!1==="createFromResponseData"in e)throw new TypeError("errorClass for status '"+
c+"' must implement createFromResponseData()");return e.createFromResponseData(a.response.data)},_getErrorClassForStatus:function(a){return 400===a?k:503===a?h:null},throwError:function(a){throw f.transformErrorFromResponse(a);}};return f})},"mojo/validation/Error":function(){define(["dojo/_base/declare","vendor/lodash-amd/mapValues"],function(l,k){var h=l([Error],{constructor:function(f,a,c){this.message=f;this.code=a;this.errors=c}});h.createFromResponseData=function(f){var a=f.message,c=f.code;
f=k(f.errors,function(a){return h.createFromResponseData(a)});return new h(a,c,f)};return h})},"vendor/lodash-amd/mapValues":function(){define(["./_baseAssignValue","./_baseForOwn","./_baseIteratee"],function(l,k,h){return function(f,a){var c={};a=h(a,3);k(f,function(e,f,d){l(c,f,a(e,f,d))});return c}})},"vendor/lodash-amd/_baseAssignValue":function(){define(["./_defineProperty"],function(l){return function(k,h,f){"__proto__"==h&&l?l(k,h,{configurable:!0,enumerable:!0,value:f,writable:!0}):k[h]=f}})},
"vendor/lodash-amd/_defineProperty":function(){define(["./_getNative"],function(l){var k;a:{try{var h=l(Object,"defineProperty");h({},"",{});k=h;break a}catch(f){}k=void 0}return k})},"vendor/lodash-amd/_getNative":function(){define(["./_baseIsNative","./_getValue"],function(l,k){return function(h,f){var a=k(h,f);return l(a)?a:void 0}})},"vendor/lodash-amd/_baseIsNative":function(){define(["./isFunction","./_isMasked","./isObject","./_toSource"],function(l,k,h,f){var a=/^\[object .+?Constructor\]$/,
c=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return function(e){return!h(e)||k(e)?!1:(l(e)?c:a).test(f(e))}})},"vendor/lodash-amd/isFunction":function(){define(["./_baseGetTag","./isObject"],function(l,k){return function(h){if(!k(h))return!1;h=l(h);return"[object Function]"==h||"[object GeneratorFunction]"==h||"[object AsyncFunction]"==h||"[object Proxy]"==
h}})},"vendor/lodash-amd/_baseGetTag":function(){define(["./_Symbol","./_getRawTag","./_objectToString"],function(l,k,h){var f=l?l.toStringTag:void 0;return function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":f&&f in Object(a)?k(a):h(a)}})},"vendor/lodash-amd/_Symbol":function(){define(["./_root"],function(l){return l.Symbol})},"vendor/lodash-amd/_root":function(){define(["./_freeGlobal"],function(l){var k="object"==typeof self&&self&&self.Object===Object&&self;return l||k||
Function("return this")()})},"vendor/lodash-amd/_freeGlobal":function(){define([],function(){return"object"==typeof global&&global&&global.Object===Object&&global})},"vendor/lodash-amd/_getRawTag":function(){define(["./_Symbol"],function(l){var k=Object.prototype,h=k.hasOwnProperty,f=k.toString,a=l?l.toStringTag:void 0;return function(c){var e=h.call(c,a),m=c[a];try{c[a]=void 0;var d=!0}catch(k){}var b=f.call(c);d&&(e?c[a]=m:delete c[a]);return b}})},"vendor/lodash-amd/_objectToString":function(){define([],
function(){var l=Object.prototype.toString;return function(k){return l.call(k)}})},"vendor/lodash-amd/isObject":function(){define([],function(){return function(l){var k=typeof l;return null!=l&&("object"==k||"function"==k)}})},"vendor/lodash-amd/_isMasked":function(){define(["./_coreJsData"],function(l){var k=function(){var h=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}();return function(h){return!!k&&k in h}})},"vendor/lodash-amd/_coreJsData":function(){define(["./_root"],
function(l){return l["__core-js_shared__"]})},"vendor/lodash-amd/_toSource":function(){define([],function(){var l=Function.prototype.toString;return function(k){if(null!=k){try{return l.call(k)}catch(h){}return k+""}return""}})},"vendor/lodash-amd/_getValue":function(){define([],function(){return function(l,k){return null==l?void 0:l[k]}})},"vendor/lodash-amd/_baseForOwn":function(){define(["./_baseFor","./keys"],function(l,k){return function(h,f){return h&&l(h,f,k)}})},"vendor/lodash-amd/_baseFor":function(){define(["./_createBaseFor"],
function(l){return l()})},"vendor/lodash-amd/_createBaseFor":function(){define([],function(){return function(l){return function(k,h,f){var a=-1,c=Object(k);f=f(k);for(var e=f.length;e--;){var m=f[l?e:++a];if(!1===h(c[m],m,c))break}return k}}})},"vendor/lodash-amd/keys":function(){define(["./_arrayLikeKeys","./_baseKeys","./isArrayLike"],function(l,k,h){return function(f){return h(f)?l(f):k(f)}})},"vendor/lodash-amd/_arrayLikeKeys":function(){define("./_baseTimes ./isArguments ./isArray ./isBuffer ./_isIndex ./isTypedArray".split(" "),
function(l,k,h,f,a,c){var e=Object.prototype.hasOwnProperty;return function(m,d){var b=h(m),n=!b&&k(m),p=!b&&!n&&f(m),q=!b&&!n&&!p&&c(m),n=(b=b||n||p||q)?l(m.length,String):[],r=n.length,t;for(t in m)!d&&!e.call(m,t)||b&&("length"==t||p&&("offset"==t||"parent"==t)||q&&("buffer"==t||"byteLength"==t||"byteOffset"==t)||a(t,r))||n.push(t);return n}})},"vendor/lodash-amd/_baseTimes":function(){define([],function(){return function(l,k){for(var h=-1,f=Array(l);++h<l;)f[h]=k(h);return f}})},"vendor/lodash-amd/isArguments":function(){define(["./_baseIsArguments",
"./isObjectLike"],function(l,k){var h=Object.prototype,f=h.hasOwnProperty,a=h.propertyIsEnumerable;return l(function(){return arguments}())?l:function(c){return k(c)&&f.call(c,"callee")&&!a.call(c,"callee")}})},"vendor/lodash-amd/_baseIsArguments":function(){define(["./_baseGetTag","./isObjectLike"],function(l,k){return function(h){return k(h)&&"[object Arguments]"==l(h)}})},"vendor/lodash-amd/isObjectLike":function(){define([],function(){return function(l){return null!=l&&"object"==typeof l}})},
"vendor/lodash-amd/isArray":function(){define([],function(){return Array.isArray})},"vendor/lodash-amd/isBuffer":function(){define(["./_root","./stubFalse"],function(l,k){var h="object"==typeof exports&&exports&&!exports.nodeType&&exports,f=h&&"object"==typeof module&&module&&!module.nodeType&&module;return((h=f&&f.exports===h?l.Buffer:void 0)?h.isBuffer:void 0)||k})},"vendor/lodash-amd/stubFalse":function(){define([],function(){return function(){return!1}})},"vendor/lodash-amd/_isIndex":function(){define([],
function(){var l=/^(?:0|[1-9]\d*)$/;return function(k,h){h=null==h?9007199254740991:h;return!!h&&("number"==typeof k||l.test(k))&&-1<k&&0==k%1&&k<h}})},"vendor/lodash-amd/isTypedArray":function(){define(["./_baseIsTypedArray","./_baseUnary","./_nodeUtil"],function(l,k,h){return(h=h&&h.isTypedArray)?k(h):l})},"vendor/lodash-amd/_baseIsTypedArray":function(){define(["./_baseGetTag","./isLength","./isObjectLike"],function(l,k,h){var f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=
f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0;f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;return function(a){return h(a)&&
k(a.length)&&!!f[l(a)]}})},"vendor/lodash-amd/isLength":function(){define([],function(){return function(l){return"number"==typeof l&&-1<l&&0==l%1&&9007199254740991>=l}})},"vendor/lodash-amd/_baseUnary":function(){define([],function(){return function(l){return function(k){return l(k)}}})},"vendor/lodash-amd/_nodeUtil":function(){define(["./_freeGlobal"],function(l){var k="object"==typeof exports&&exports&&!exports.nodeType&&exports,h=k&&"object"==typeof module&&module&&!module.nodeType&&module;l=h&&
h.exports===k&&l.process;var f;a:{try{f=l&&l.binding&&l.binding("util");break a}catch(a){}f=void 0}return f})},"vendor/lodash-amd/_baseKeys":function(){define(["./_isPrototype","./_nativeKeys"],function(l,k){var h=Object.prototype.hasOwnProperty;return function(f){if(!l(f))return k(f);var a=[],c;for(c in Object(f))h.call(f,c)&&"constructor"!=c&&a.push(c);return a}})},"vendor/lodash-amd/_isPrototype":function(){define([],function(){var l=Object.prototype;return function(k){var h=k&&k.constructor;return k===
("function"==typeof h&&h.prototype||l)}})},"vendor/lodash-amd/_nativeKeys":function(){define(["./_overArg"],function(l){return l(Object.keys,Object)})},"vendor/lodash-amd/_overArg":function(){define([],function(){return function(l,k){return function(h){return l(k(h))}}})},"vendor/lodash-amd/isArrayLike":function(){define(["./isFunction","./isLength"],function(l,k){return function(h){return null!=h&&k(h.length)&&!l(h)}})},"vendor/lodash-amd/_baseIteratee":function(){define(["./_baseMatches","./_baseMatchesProperty",
"./identity","./isArray","./property"],function(l,k,h,f,a){return function(c){return"function"==typeof c?c:null==c?h:"object"==typeof c?f(c)?k(c[0],c[1]):l(c):a(c)}})},"vendor/lodash-amd/_baseMatches":function(){define(["./_baseIsMatch","./_getMatchData","./_matchesStrictComparable"],function(l,k,h){return function(f){var a=k(f);return 1==a.length&&a[0][2]?h(a[0][0],a[0][1]):function(c){return c===f||l(c,f,a)}}})},"vendor/lodash-amd/_baseIsMatch":function(){define(["./_Stack","./_baseIsEqual"],function(l,
k){return function(h,f,a,c){var e=a.length,m=e,d=!c;if(null==h)return!m;for(h=Object(h);e--;){var b=a[e];if(d&&b[2]?b[1]!==h[b[0]]:!(b[0]in h))return!1}for(;++e<m;){var b=a[e],n=b[0],p=h[n],q=b[1];if(d&&b[2]){if(void 0===p&&!(n in h))return!1}else{b=new l;if(c)var r=c(p,q,n,h,f,b);if(void 0===r?!k(q,p,3,c,b):!r)return!1}}return!0}})},"vendor/lodash-amd/_Stack":function(){define("./_ListCache ./_stackClear ./_stackDelete ./_stackGet ./_stackHas ./_stackSet".split(" "),function(l,k,h,f,a,c){function e(a){this.size=
(this.__data__=new l(a)).size}e.prototype.clear=k;e.prototype["delete"]=h;e.prototype.get=f;e.prototype.has=a;e.prototype.set=c;return e})},"vendor/lodash-amd/_ListCache":function(){define(["./_listCacheClear","./_listCacheDelete","./_listCacheGet","./_listCacheHas","./_listCacheSet"],function(l,k,h,f,a){function c(a){var c=-1,d=null==a?0:a.length;for(this.clear();++c<d;){var b=a[c];this.set(b[0],b[1])}}c.prototype.clear=l;c.prototype["delete"]=k;c.prototype.get=h;c.prototype.has=f;c.prototype.set=
a;return c})},"vendor/lodash-amd/_listCacheClear":function(){define([],function(){return function(){this.__data__=[];this.size=0}})},"vendor/lodash-amd/_listCacheDelete":function(){define(["./_assocIndexOf"],function(l){var k=Array.prototype.splice;return function(h){var f=this.__data__;h=l(f,h);if(0>h)return!1;h==f.length-1?f.pop():k.call(f,h,1);--this.size;return!0}})},"vendor/lodash-amd/_assocIndexOf":function(){define(["./eq"],function(l){return function(k,h){for(var f=k.length;f--;)if(l(k[f][0],
h))return f;return-1}})},"vendor/lodash-amd/eq":function(){define([],function(){return function(l,k){return l===k||l!==l&&k!==k}})},"vendor/lodash-amd/_listCacheGet":function(){define(["./_assocIndexOf"],function(l){return function(k){var h=this.__data__;k=l(h,k);return 0>k?void 0:h[k][1]}})},"vendor/lodash-amd/_listCacheHas":function(){define(["./_assocIndexOf"],function(l){return function(k){return-1<l(this.__data__,k)}})},"vendor/lodash-amd/_listCacheSet":function(){define(["./_assocIndexOf"],
function(l){return function(k,h){var f=this.__data__,a=l(f,k);0>a?(++this.size,f.push([k,h])):f[a][1]=h;return this}})},"vendor/lodash-amd/_stackClear":function(){define(["./_ListCache"],function(l){return function(){this.__data__=new l;this.size=0}})},"vendor/lodash-amd/_stackDelete":function(){define([],function(){return function(l){var k=this.__data__;l=k["delete"](l);this.size=k.size;return l}})},"vendor/lodash-amd/_stackGet":function(){define([],function(){return function(l){return this.__data__.get(l)}})},
"vendor/lodash-amd/_stackHas":function(){define([],function(){return function(l){return this.__data__.has(l)}})},"vendor/lodash-amd/_stackSet":function(){define(["./_ListCache","./_Map","./_MapCache"],function(l,k,h){return function(f,a){var c=this.__data__;if(c instanceof l){var e=c.__data__;if(!k||199>e.length)return e.push([f,a]),this.size=++c.size,this;c=this.__data__=new h(e)}c.set(f,a);this.size=c.size;return this}})},"vendor/lodash-amd/_Map":function(){define(["./_getNative","./_root"],function(l,
k){return l(k,"Map")})},"vendor/lodash-amd/_MapCache":function(){define(["./_mapCacheClear","./_mapCacheDelete","./_mapCacheGet","./_mapCacheHas","./_mapCacheSet"],function(l,k,h,f,a){function c(a){var c=-1,d=null==a?0:a.length;for(this.clear();++c<d;){var b=a[c];this.set(b[0],b[1])}}c.prototype.clear=l;c.prototype["delete"]=k;c.prototype.get=h;c.prototype.has=f;c.prototype.set=a;return c})},"vendor/lodash-amd/_mapCacheClear":function(){define(["./_Hash","./_ListCache","./_Map"],function(l,k,h){return function(){this.size=
0;this.__data__={hash:new l,map:new (h||k),string:new l}}})},"vendor/lodash-amd/_Hash":function(){define(["./_hashClear","./_hashDelete","./_hashGet","./_hashHas","./_hashSet"],function(l,k,h,f,a){function c(a){var c=-1,d=null==a?0:a.length;for(this.clear();++c<d;){var b=a[c];this.set(b[0],b[1])}}c.prototype.clear=l;c.prototype["delete"]=k;c.prototype.get=h;c.prototype.has=f;c.prototype.set=a;return c})},"vendor/lodash-amd/_hashClear":function(){define(["./_nativeCreate"],function(l){return function(){this.__data__=
l?l(null):{};this.size=0}})},"vendor/lodash-amd/_nativeCreate":function(){define(["./_getNative"],function(l){return l(Object,"create")})},"vendor/lodash-amd/_hashDelete":function(){define([],function(){return function(l){l=this.has(l)&&delete this.__data__[l];this.size-=l?1:0;return l}})},"vendor/lodash-amd/_hashGet":function(){define(["./_nativeCreate"],function(l){var k=Object.prototype.hasOwnProperty;return function(h){var f=this.__data__;return l?(h=f[h],"__lodash_hash_undefined__"===h?void 0:
h):k.call(f,h)?f[h]:void 0}})},"vendor/lodash-amd/_hashHas":function(){define(["./_nativeCreate"],function(l){var k=Object.prototype.hasOwnProperty;return function(h){var f=this.__data__;return l?void 0!==f[h]:k.call(f,h)}})},"vendor/lodash-amd/_hashSet":function(){define(["./_nativeCreate"],function(l){return function(k,h){var f=this.__data__;this.size+=this.has(k)?0:1;f[k]=l&&void 0===h?"__lodash_hash_undefined__":h;return this}})},"vendor/lodash-amd/_mapCacheDelete":function(){define(["./_getMapData"],
function(l){return function(k){k=l(this,k)["delete"](k);this.size-=k?1:0;return k}})},"vendor/lodash-amd/_getMapData":function(){define(["./_isKeyable"],function(l){return function(k,h){var f=k.__data__;return l(h)?f["string"==typeof h?"string":"hash"]:f.map}})},"vendor/lodash-amd/_isKeyable":function(){define([],function(){return function(l){var k=typeof l;return"string"==k||"number"==k||"symbol"==k||"boolean"==k?"__proto__"!==l:null===l}})},"vendor/lodash-amd/_mapCacheGet":function(){define(["./_getMapData"],
function(l){return function(k){return l(this,k).get(k)}})},"vendor/lodash-amd/_mapCacheHas":function(){define(["./_getMapData"],function(l){return function(k){return l(this,k).has(k)}})},"vendor/lodash-amd/_mapCacheSet":function(){define(["./_getMapData"],function(l){return function(k,h){var f=l(this,k),a=f.size;f.set(k,h);this.size+=f.size==a?0:1;return this}})},"vendor/lodash-amd/_baseIsEqual":function(){define(["./_baseIsEqualDeep","./isObjectLike"],function(l,k){function h(f,a,c,e,m){return f===
a?!0:null==f||null==a||!k(f)&&!k(a)?f!==f&&a!==a:l(f,a,c,e,h,m)}return h})},"vendor/lodash-amd/_baseIsEqualDeep":function(){define("./_Stack ./_equalArrays ./_equalByTag ./_equalObjects ./_getTag ./isArray ./isBuffer ./isTypedArray".split(" "),function(l,k,h,f,a,c,e,m){var d=Object.prototype.hasOwnProperty;return function(b,n,p,q,r,t){var u=c(b),w=c(n),v=u?"[object Array]":a(b),y=w?"[object Array]":a(n),v="[object Arguments]"==v?"[object Object]":v,y="[object Arguments]"==y?"[object Object]":y,x=
"[object Object]"==v,w="[object Object]"==y;if((y=v==y)&&e(b)){if(!e(n))return!1;u=!0;x=!1}if(y&&!x)return t||(t=new l),u||m(b)?k(b,n,p,q,r,t):h(b,n,v,p,q,r,t);if(!(p&1)&&(u=x&&d.call(b,"__wrapped__"),v=w&&d.call(n,"__wrapped__"),u||v))return b=u?b.value():b,n=v?n.value():n,t||(t=new l),r(b,n,p,q,t);if(!y)return!1;t||(t=new l);return f(b,n,p,q,r,t)}})},"vendor/lodash-amd/_equalArrays":function(){define(["./_SetCache","./_arraySome","./_cacheHas"],function(l,k,h){return function(f,a,c,e,m,d){var b=
c&1,n=f.length,p=a.length;if(n!=p&&!(b&&p>n))return!1;if((p=d.get(f))&&d.get(a))return p==a;var p=-1,q=!0,r=c&2?new l:void 0;d.set(f,a);for(d.set(a,f);++p<n;){var t=f[p],u=a[p];if(e)var w=b?e(u,t,p,a,f,d):e(t,u,p,f,a,d);if(void 0!==w){if(w)continue;q=!1;break}if(r){if(!k(a,function(a,b){if(!h(r,b)&&(t===a||m(t,a,c,e,d)))return r.push(b)})){q=!1;break}}else if(t!==u&&!m(t,u,c,e,d)){q=!1;break}}d["delete"](f);d["delete"](a);return q}})},"vendor/lodash-amd/_SetCache":function(){define(["./_MapCache",
"./_setCacheAdd","./_setCacheHas"],function(l,k,h){function f(a){var c=-1,e=null==a?0:a.length;for(this.__data__=new l;++c<e;)this.add(a[c])}f.prototype.add=f.prototype.push=k;f.prototype.has=h;return f})},"vendor/lodash-amd/_setCacheAdd":function(){define([],function(){return function(l){this.__data__.set(l,"__lodash_hash_undefined__");return this}})},"vendor/lodash-amd/_setCacheHas":function(){define([],function(){return function(l){return this.__data__.has(l)}})},"vendor/lodash-amd/_arraySome":function(){define([],
function(){return function(l,k){for(var h=-1,f=null==l?0:l.length;++h<f;)if(k(l[h],h,l))return!0;return!1}})},"vendor/lodash-amd/_cacheHas":function(){define([],function(){return function(l,k){return l.has(k)}})},"vendor/lodash-amd/_equalByTag":function(){define("./_Symbol ./_Uint8Array ./eq ./_equalArrays ./_mapToArray ./_setToArray".split(" "),function(l,k,h,f,a,c){var e=(l=l?l.prototype:void 0)?l.valueOf:void 0;return function(m,d,b,l,p,q,r){switch(b){case "[object DataView]":if(m.byteLength!=
d.byteLength||m.byteOffset!=d.byteOffset)break;m=m.buffer;d=d.buffer;case "[object ArrayBuffer]":if(m.byteLength!=d.byteLength||!q(new k(m),new k(d)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return h(+m,+d);case "[object Error]":return m.name==d.name&&m.message==d.message;case "[object RegExp]":case "[object String]":return m==d+"";case "[object Map]":var t=a;case "[object Set]":t||(t=c);if(m.size!=d.size&&!(l&1))break;if(b=r.get(m))return b==d;l|=2;r.set(m,
d);d=f(t(m),t(d),l,p,q,r);r["delete"](m);return d;case "[object Symbol]":if(e)return e.call(m)==e.call(d)}return!1}})},"vendor/lodash-amd/_Uint8Array":function(){define(["./_root"],function(l){return l.Uint8Array})},"vendor/lodash-amd/_mapToArray":function(){define([],function(){return function(l){var k=-1,h=Array(l.size);l.forEach(function(f,a){h[++k]=[a,f]});return h}})},"vendor/lodash-amd/_setToArray":function(){define([],function(){return function(l){var k=-1,h=Array(l.size);l.forEach(function(f){h[++k]=
f});return h}})},"vendor/lodash-amd/_equalObjects":function(){define(["./_getAllKeys"],function(l){var k=Object.prototype.hasOwnProperty;return function(h,f,a,c,e,m){var d=a&1,b=l(h),n=b.length,p=l(f).length;if(n!=p&&!d)return!1;for(var q=n;q--;){var r=b[q];if(!(d?r in f:k.call(f,r)))return!1}if((p=m.get(h))&&m.get(f))return p==f;p=!0;m.set(h,f);m.set(f,h);for(var t=d;++q<n;){var r=b[q],u=h[r],w=f[r];if(c)var v=d?c(w,u,r,f,h,m):c(u,w,r,h,f,m);if(void 0===v?u!==w&&!e(u,w,a,c,m):!v){p=!1;break}t||(t=
"constructor"==r)}p&&!t&&(a=h.constructor,c=f.constructor,a!=c&&"constructor"in h&&"constructor"in f&&!("function"==typeof a&&a instanceof a&&"function"==typeof c&&c instanceof c)&&(p=!1));m["delete"](h);m["delete"](f);return p}})},"vendor/lodash-amd/_getAllKeys":function(){define(["./_baseGetAllKeys","./_getSymbols","./keys"],function(l,k,h){return function(f){return l(f,h,k)}})},"vendor/lodash-amd/_baseGetAllKeys":function(){define(["./_arrayPush","./isArray"],function(l,k){return function(h,f,
a){f=f(h);return k(h)?f:l(f,a(h))}})},"vendor/lodash-amd/_arrayPush":function(){define([],function(){return function(l,k){for(var h=-1,f=k.length,a=l.length;++h<f;)l[a+h]=k[h];return l}})},"vendor/lodash-amd/_getSymbols":function(){define(["./_arrayFilter","./stubArray"],function(l,k){var h=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols;return f?function(a){if(null==a)return[];a=Object(a);return l(f(a),function(c){return h.call(a,c)})}:k})},"vendor/lodash-amd/_arrayFilter":function(){define([],
function(){return function(l,k){for(var h=-1,f=null==l?0:l.length,a=0,c=[];++h<f;){var e=l[h];k(e,h,l)&&(c[a++]=e)}return c}})},"vendor/lodash-amd/stubArray":function(){define([],function(){return function(){return[]}})},"vendor/lodash-amd/_getTag":function(){define("./_DataView ./_Map ./_Promise ./_Set ./_WeakMap ./_baseGetTag ./_toSource".split(" "),function(l,k,h,f,a,c,e){var m=e(l),d=e(k),b=e(h),n=e(f),p=e(a),q=c;if(l&&"[object DataView]"!=q(new l(new ArrayBuffer(1)))||k&&"[object Map]"!=q(new k)||
h&&"[object Promise]"!=q(h.resolve())||f&&"[object Set]"!=q(new f)||a&&"[object WeakMap]"!=q(new a))q=function(a){var f=c(a);if(a=(a="[object Object]"==f?a.constructor:void 0)?e(a):"")switch(a){case m:return"[object DataView]";case d:return"[object Map]";case b:return"[object Promise]";case n:return"[object Set]";case p:return"[object WeakMap]"}return f};return q})},"vendor/lodash-amd/_DataView":function(){define(["./_getNative","./_root"],function(l,k){return l(k,"DataView")})},"vendor/lodash-amd/_Promise":function(){define(["./_getNative",
"./_root"],function(l,k){return l(k,"Promise")})},"vendor/lodash-amd/_Set":function(){define(["./_getNative","./_root"],function(l,k){return l(k,"Set")})},"vendor/lodash-amd/_WeakMap":function(){define(["./_getNative","./_root"],function(l,k){return l(k,"WeakMap")})},"vendor/lodash-amd/_getMatchData":function(){define(["./_isStrictComparable","./keys"],function(l,k){return function(h){for(var f=k(h),a=f.length;a--;){var c=f[a],e=h[c];f[a]=[c,e,l(e)]}return f}})},"vendor/lodash-amd/_isStrictComparable":function(){define(["./isObject"],
function(l){return function(k){return k===k&&!l(k)}})},"vendor/lodash-amd/_matchesStrictComparable":function(){define([],function(){return function(l,k){return function(h){return null==h?!1:h[l]===k&&(void 0!==k||l in Object(h))}}})},"vendor/lodash-amd/_baseMatchesProperty":function(){define("./_baseIsEqual ./get ./hasIn ./_isKey ./_isStrictComparable ./_matchesStrictComparable ./_toKey".split(" "),function(l,k,h,f,a,c,e){return function(m,d){return f(m)&&a(d)?c(e(m),d):function(a){var c=k(a,m);return void 0===
c&&c===d?h(a,m):l(d,c,3)}}})},"vendor/lodash-amd/get":function(){define(["./_baseGet"],function(l){return function(k,h,f){k=null==k?void 0:l(k,h);return void 0===k?f:k}})},"vendor/lodash-amd/_baseGet":function(){define(["./_castPath","./_toKey"],function(l,k){return function(h,f){f=l(f,h);for(var a=0,c=f.length;null!=h&&a<c;)h=h[k(f[a++])];return a&&a==c?h:void 0}})},"vendor/lodash-amd/_castPath":function(){define(["./isArray","./_isKey","./_stringToPath","./toString"],function(l,k,h,f){return function(a,
c){return l(a)?a:k(a,c)?[a]:h(f(a))}})},"vendor/lodash-amd/_isKey":function(){define(["./isArray","./isSymbol"],function(l,k){var h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;return function(a,c){if(l(a))return!1;var e=typeof a;return"number"==e||"symbol"==e||"boolean"==e||null==a||k(a)?!0:f.test(a)||!h.test(a)||null!=c&&a in Object(c)}})},"vendor/lodash-amd/isSymbol":function(){define(["./_baseGetTag","./isObjectLike"],function(l,k){return function(h){return"symbol"==typeof h||
k(h)&&"[object Symbol]"==l(h)}})},"vendor/lodash-amd/_stringToPath":function(){define(["./_memoizeCapped"],function(l){var k=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g;return l(function(a){var c=[];k.test(a)&&c.push("");a.replace(h,function(a,h,d,b){c.push(d?b.replace(f,"$1"):h||a)});return c})})},"vendor/lodash-amd/_memoizeCapped":function(){define(["./memoize"],function(l){return function(k){k=l(k,function(f){500===h.size&&
h.clear();return f});var h=k.cache;return k}})},"vendor/lodash-amd/memoize":function(){define(["./_MapCache"],function(l){function k(h,f){if("function"!=typeof h||null!=f&&"function"!=typeof f)throw new TypeError("Expected a function");var a=function(){var c=arguments,e=f?f.apply(this,c):c[0],m=a.cache;if(m.has(e))return m.get(e);c=h.apply(this,c);a.cache=m.set(e,c)||m;return c};a.cache=new (k.Cache||l);return a}k.Cache=l;return k})},"vendor/lodash-amd/toString":function(){define(["./_baseToString"],
function(l){return function(k){return null==k?"":l(k)}})},"vendor/lodash-amd/_baseToString":function(){define(["./_Symbol","./_arrayMap","./isArray","./isSymbol"],function(l,k,h,f){function a(m){if("string"==typeof m)return m;if(h(m))return k(m,a)+"";if(f(m))return e?e.call(m):"";var d=m+"";return"0"==d&&1/m==-c?"-0":d}var c=1/0,e=(l=l?l.prototype:void 0)?l.toString:void 0;return a})},"vendor/lodash-amd/_arrayMap":function(){define([],function(){return function(l,k){for(var h=-1,f=null==l?0:l.length,
a=Array(f);++h<f;)a[h]=k(l[h],h,l);return a}})},"vendor/lodash-amd/_toKey":function(){define(["./isSymbol"],function(l){var k=1/0;return function(h){if("string"==typeof h||l(h))return h;var f=h+"";return"0"==f&&1/h==-k?"-0":f}})},"vendor/lodash-amd/hasIn":function(){define(["./_baseHasIn","./_hasPath"],function(l,k){return function(h,f){return null!=h&&k(h,f,l)}})},"vendor/lodash-amd/_baseHasIn":function(){define([],function(){return function(l,k){return null!=l&&k in Object(l)}})},"vendor/lodash-amd/_hasPath":function(){define("./_castPath ./isArguments ./isArray ./_isIndex ./isLength ./_toKey".split(" "),
function(l,k,h,f,a,c){return function(e,m,d){m=l(m,e);for(var b=-1,n=m.length,p=!1;++b<n;){var q=c(m[b]);if(!(p=null!=e&&d(e,q)))break;e=e[q]}if(p||++b!=n)return p;n=null==e?0:e.length;return!!n&&a(n)&&f(q,n)&&(h(e)||k(e))}})},"vendor/lodash-amd/identity":function(){define([],function(){return function(l){return l}})},"vendor/lodash-amd/property":function(){define(["./_baseProperty","./_basePropertyDeep","./_isKey","./_toKey"],function(l,k,h,f){return function(a){return h(a)?l(f(a)):k(a)}})},"vendor/lodash-amd/_baseProperty":function(){define([],
function(){return function(l){return function(k){return null==k?void 0:k[l]}}})},"vendor/lodash-amd/_basePropertyDeep":function(){define(["./_baseGet"],function(l){return function(k){return function(h){return l(h,k)}}})},"mojo/lib/ServiceUnavailableError":function(){define(["dojo/_base/declare"],function(l){var k=l([Error],{constructor:function(h,f,a){this.message=h;this.code=f;this.errors=a}});k.CODE_REQUESTMAPPER=1526919;k.createFromResponseData=function(h){return new k(h.message,h.code)};return k})},
"dojo/NodeList-manipulate":function(){define("./query ./_base/lang ./_base/array ./dom-construct ./dom-attr ./NodeList-dom".split(" "),function(l,k,h,f,a){function c(a){for(;a.childNodes[0]&&1==a.childNodes[0].nodeType;)a=a.childNodes[0];return a}function e(a,b){"string"==typeof a?(a=f.toDom(a,b&&b.ownerDocument),11==a.nodeType&&(a=a.childNodes[0])):1==a.nodeType&&a.parentNode&&(a=a.cloneNode(!1));return a}var m=l.NodeList;k.extend(m,{_placeMultiple:function(a,b){for(var c="string"==typeof a||a.nodeType?
l(a):a,e=[],h=0;h<c.length;h++)for(var m=c[h],k=this.length,u=k-1,w;w=this[u];u--)0<h&&(w=this._cloneNode(w),e.unshift(w)),u==k-1?f.place(w,m,b):m.parentNode.insertBefore(w,m),m=w;e.length&&(e.unshift(0),e.unshift(this.length-1),Array.prototype.splice.apply(this,e));return this},innerHTML:function(a){return arguments.length?this.addContent(a,"only"):this[0].innerHTML},text:function(c){if(arguments.length){for(var b=0,e;e=this[b];b++)1==e.nodeType&&a.set(e,"textContent",c);return this}for(var f="",
b=0;e=this[b];b++)f+=a.get(e,"textContent");return f},val:function(a){if(arguments.length){for(var b=k.isArray(a),c=0,e;e=this[c];c++){var f=e.nodeName.toUpperCase(),m=e.type,l=b?a[c]:a;if("SELECT"==f)for(f=e.options,m=0;m<f.length;m++){var u=f[m];u.selected=e.multiple?-1!=h.indexOf(a,u.value):u.value==l}else"checkbox"==m||"radio"==m?e.checked=e.value==l:e.value=l}return this}if((e=this[0])&&1==e.nodeType){a=e.value||"";if("SELECT"==e.nodeName.toUpperCase()&&e.multiple){a=[];f=e.options;for(m=0;m<
f.length;m++)u=f[m],u.selected&&a.push(u.value);a.length||(a=null)}return a}},append:function(a){return this.addContent(a,"last")},appendTo:function(a){return this._placeMultiple(a,"last")},prepend:function(a){return this.addContent(a,"first")},prependTo:function(a){return this._placeMultiple(a,"first")},after:function(a){return this.addContent(a,"after")},insertAfter:function(a){return this._placeMultiple(a,"after")},before:function(a){return this.addContent(a,"before")},insertBefore:function(a){return this._placeMultiple(a,
"before")},remove:m.prototype.orphan,wrap:function(a){if(this[0]){a=e(a,this[0]);for(var b=0,f;f=this[b];b++){var h=this._cloneNode(a);f.parentNode&&f.parentNode.replaceChild(h,f);c(h).appendChild(f)}}return this},wrapAll:function(a){if(this[0]){a=e(a,this[0]);this[0].parentNode.replaceChild(a,this[0]);a=c(a);for(var b=0,f;f=this[b];b++)a.appendChild(f)}return this},wrapInner:function(a){if(this[0]){a=e(a,this[0]);for(var b=0;b<this.length;b++){var c=this._cloneNode(a);this._wrap(k._toArray(this[b].childNodes),
null,this._NodeListCtor).wrapAll(c)}}return this},replaceWith:function(a){a=this._normalize(a,this[0]);for(var b=0,c;c=this[b];b++)this._place(a,c,"before",0<b),c.parentNode.removeChild(c);return this},replaceAll:function(a){a=l(a);for(var b=this._normalize(this,this[0]),c=0,e;e=a[c];c++)this._place(b,e,"before",0<c),e.parentNode.removeChild(e);return this},clone:function(){for(var a=[],b=0;b<this.length;b++)a.push(this._cloneNode(this[b]));return this._wrap(a,this,this._NodeListCtor)}});m.prototype.html||
(m.prototype.html=m.prototype.innerHTML);return m})},"mojo/lib/flags":function(){define([],function(){return{CONTACT_STATUS_V2:"contact_status_v2",MULTICHANNEL_CAMPAIGN_CHECKLIST_EDITOR_SOCIAL_POSTING:"multichannel.campaign_checklist_editor_social_posting",MULTICHANNEL_DIRECT_MAIL:"multichannel.direct_mail",MULTICHANNEL_CREATE_BUTTON_TOP_NAVIGATION:"multichannel.create_button_top_navigation",MULTICHANNEL_REMOVE_INBOX_PREVIEW_PURCHASE:"multichannel.remove_inbox_preview_purchase",MULTICHANNEL_PERSONALIZED_TO_REFINEMENTS:"multichannel.personalized_to_refinements",
MULTICHANNEL_DIRECT_MAIL_PROMO_CODES:"multichannel.direct_mail_promo_codes",MULTICHANNEL_POSTCARDS_INLINE_ADDRESS_FINDING:"multichannel.postcards_inline_address_finding",MULTICHANNEL_POST_SEND_SOCIAL_SHARE_UPDATES:"multichannel.post_send_social_share_updates",MULTICHANNEL_ADD_INSTAGRAM_SOCIAL_POSTING:"multichannel.add_instagram_social_posting",CKEDITOR_BOLD_LINKS:"ckeditor_bold_links",SUPPORT_ACCESS_VALIDATOR:"support_access_validator",ADS_FB_CONTENT_IMAGE_REVAMP:"ads_fb_content_image_revamp",ADS_CONTENT_REVAMP:"ads_content_revamp",
CONBOARDING_RECOMMENDATIONS:"conboarding_recommendations",CONBOARDING_HOMEPAGE:"conboarding_homepage",LANDING_PAGES_SIGNUP_STYLES:"landing_pages.signup_styles",LANDING_PAGES_FORM_CONFIG_UPDATE:"landing_pages.form_config_update",NEAPOLITAN_RENDER_REFACTOR:"neapolitan_render_refactor",SEND_KB_REQ_TO_PLUMS:"send_kb_req_to_plums",LANDING_PAGES_DISMISSIBLE_BANNER:"landing_pages.dismissible_banner",LANDING_PAGES_SPLIT_CHECKLIST_TITLE_URL:"landing_pages.split_checklist_title_url",LANDING_PAGES_BRANDED_DOMAIN_UI:"landing_pages.branded_domain_ui",
GPDR_SUBSCRIBER_EXPORT:"gdpr.subscriber_export",GDPR_NATIVE_FORM_FEATURES:"gdpr.native_form_features",GDPR_FORGET_SUBSCRIBER:"gdpr_forget_subscriber",CRM_TAGS_V1:"crm.tags_v1",GDPR_FORM_VERSION:"gdpr.form_version",CONNECTED_SITE_SURVEY_EMAIL:"connected_site_survey_email",LANDING_PAGES_TRACKING_SETTINGS_UI:"landing_pages.tracking_settings_ui",GLOBAL_LIST_SWITCHER:"global_list_switcher",BILLING_LOG_CONVERSION_POINTS:"billing_log_conversion_points",GDPR_FIX_EMPTY_SEGMENT_DISPLAY:"gdpr.fix_empty_segment_display",
SITES_TOS_FEATURE_PAUSES:"sites.tos_feature_pauses",SITES_FRONT_DOOR_LAYOUT_UPDATE:"sites.forms_front_door_layout"}})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(l,k,h){var f=l.NodeList;k.extend(f,{_buildArrayFromCallback:function(a){for(var c=[],e=0;e<this.length;e++){var f=a.call(this[e],this[e],c);f&&(c=c.concat(f))}return c},_getUniqueAsNodeList:function(a){for(var c=[],e=0,f;f=a[e];e++)1==f.nodeType&&-1==h.indexOf(c,f)&&c.push(f);return this._wrap(c,
null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(a,c){var e=this._getUniqueAsNodeList(a),e=c?l._filterResult(e,c):e;return e._stash(this)},_getRelatedUniqueNodes:function(a,c){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(c),a)},children:function(a){return this._getRelatedUniqueNodes(a,function(a,e){return k._toArray(a.childNodes)})},closest:function(a,c){return this._getRelatedUniqueNodes(null,function(e,f){do if(l._filterResult([e],a,c).length)return e;while(e!=
c&&(e=e.parentNode)&&1==e.nodeType);return null})},parent:function(a){return this._getRelatedUniqueNodes(a,function(a,e){return a.parentNode})},parents:function(a){return this._getRelatedUniqueNodes(a,function(a,e){for(var f=[];a.parentNode;)a=a.parentNode,f.push(a);return f})},siblings:function(a){return this._getRelatedUniqueNodes(a,function(a,e){for(var f=[],d=a.parentNode&&a.parentNode.childNodes,b=0;b<d.length;b++)d[b]!=a&&f.push(d[b]);return f})},next:function(a){return this._getRelatedUniqueNodes(a,
function(a,e){for(var f=a.nextSibling;f&&1!=f.nodeType;)f=f.nextSibling;return f})},nextAll:function(a){return this._getRelatedUniqueNodes(a,function(a,e){for(var f=[],d=a;d=d.nextSibling;)1==d.nodeType&&f.push(d);return f})},prev:function(a){return this._getRelatedUniqueNodes(a,function(a,e){for(var f=a.previousSibling;f&&1!=f.nodeType;)f=f.previousSibling;return f})},prevAll:function(a){return this._getRelatedUniqueNodes(a,function(a,e){for(var f=[],d=a;d=d.previousSibling;)1==d.nodeType&&f.push(d);
return f})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(a,c){return 0!=c%2})},odd:function(){return this.filter(function(a,c){return 0==c%2})}});return f})},"mojo/campaigns":function(){define(["dojo","dijit","dojox"],function(l,k,h){l.provide("mojo.campaigns");mojo.campaigns.confirmDeleteSelected=function(f,
a){var c=k.byId("campaign-delete-dialog"),e=mojo.campaigns.getGridCampaignIdSelection();a&&0>l.indexOf(e,a)&&(mojo.campaigns.single_id=a,e[e.length]=a);if(!e.length)return!1;mojo.campaigns.setGridCampaignIdSelection(e);c.setHref(f+"?"+l.objectToQuery({"id[]":e}));c.show();return!1};mojo.campaigns.deleteConfirmed=function(f){var a=l.byId("confirm-text").value,c=l.byId("confirm-key").value,e=l.byId("confirm-delete-error");if(0!=c.localeCompare(a))l.style(e,"display","block"),e.innerHTML="Please enter the text exactly as it is displayed to confirm deletion.";
else{e.innerHTML="";l.style(e,"display","none");k.byId("campaign-delete-dialog").hide();a=mojo.campaigns.getGridCampaignIdSelection();mojo.campaigns.single_id&&0>l.indexOf(a,mojo.campaigns.single_id)&&(a[a.length]=mojo.campaigns.single_id,delete mojo.campaigns.single_id);var h=a.length;l.xhrPost({url:f,content:{"id[]":a},load:function(){var a="campaign";"undefined"===typeof grid?(loadList("refresh",""),a="autoresponder"):grid.refresh();l.publish("show-toast",[{message:h+" "+a+(1!=h?"s":"")+" successfully deleted",
type:"message"}])}})}};mojo.campaigns.setGridCampaignIdSelection=function(f){for(var a=0;a<f.length;a++){var c=l.byId("del-campaign-"+f[a]);c||(c=l.byId("del-autoresponder-"+f[a]));c&&!c.checked&&(c.checked=!0)}};mojo.campaigns.getGridCampaignIdSelection=function(){var f=[];l.query('.campaign-grid input[type\x3d"checkbox"]').forEach(function(a){a.checked&&(a=a.id.split("-"),"del"==a[0]&&f.push(a[2]))});return f};mojo.campaigns.goToNextStep=function(f){l.attr(f,"value","please wait...");setTimeout(function(){f.disabled=
!0},0);l.byId("wizard-form").submit()}})},"mojo/google/Grid":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/query dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dojo/dom-construct mojo/google/Query dojo/NodeList-manipulate".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){var p={allowHtml:!0,page:"event",sort:"event",pageSize:10};return l([],{constructor:function(a,b,d,e){this.url=a;this.query=b;this.el=d;this.count_timeout=null;e=k.mixin({},p,e);"event"==e.page&&
"enable"==e.sort&&(e.sort="event");"event"==e.page&&(e.pagingButtonsConfiguration="both");e.responsive&&(this.responsive=!0,delete e.responsive);this.options=e;this.page=1;a=this.loadPaging();a.p&&(this.page=a.p,this.skipFilterPageReset=!0,a.p&&(this.options.pageSize=a.s),a.sc&&(b=h.map(b.select.split(","),function(a){return k.trim(a)}),0<=h.indexOf(b,a.sn)&&(this.sorted={column:a.sc,ascending:"true"==a.sa,sortIndexes:a.si?a.si:null},this.query.orderby=a.sn,this.sorted.ascending||(this.query.orderby+=
" desc"))));this.no_data_msg=e.no_data_msg?e.no_data_msg:"\x3cdiv class\x3d'c-noDataBlock text-align--center border-gray border-radius--lv2'\x3e\x3cdiv class\x3d'c-noDataBlock_icon' style\x3d'background: url(/css/icons/no-data/empty-general.svg)'\x3e\x3c/div\x3e\x3ch2 class\x3d'c-noDataBlock_title'\x3eGoose egg\x3c/h2\x3e\x3cp class\x3d'c-noDataBlock_message'\x3eThere\u2019s no information available.\x3c/p\x3e\x3c/div\x3e";c.byId("no-data-message-tpl")&&(this.no_data_msg_first=c.byId("no-data-message-tpl").innerHTML);
e.wait||this.refresh(!0)},refresh:function(a){this.query.select_count&&"event"==this.options.page&&this.getPageTotal();var b=new n(this.url);b.setQuery(this.buildQuery(this.query));this.table||(this.table=new google.visualization.Table(this.el),"event"==this.options.page&&google.visualization.events.addListener(this.table,"page",k.hitch(this,"changePage")),google.visualization.events.addListener(this.table,"sort",k.hitch(this,"sort")));var c=this;this.skipFilterPageReset=!1;b.send(k.hitch(this,function(b){if(!b.isError()){b=
b.getDataTable();if(c.options.formatters)for(var d in c.options.formatters)c.options.formatters[d].formatter.format(b,c.options.formatters[d].col);b.getNumberOfRows()?(d=k.clone(c.options),this.responsive&&(d.cssClassNames={headerRow:"table-header-tr",tableRow:"table-body-tr",oddTableRow:"table-body-tr odd",selectedTableRow:"table-td-selected",hoverTableRow:"table-td-hover",tableCell:"table-td",headerCell:"table-th",rowNumberCell:"table-td-number"}),c.table.draw(b,d),c.data=b,c.postProcess(c.table),
c._renameTableClass()):c.el.innerHTML='\x3cdiv class\x3d"google-grid-nodata"\x3e'+(a&&c.no_data_msg_first?c.no_data_msg_first:c.no_data_msg)+"\x3c/div\x3e"}}))},postProcessRetry:function(a){clearTimeout(this.count_timeout);this.count_timeout=null;this.postProcess(a)},postProcess:function(c){if(isNaN(this.total_pages)){if(null==this.count_timeout){var f=this;this.count_timeout=setTimeout(function(){f.postProcessRetry(c)},250)}}else{if("event"==this.options.page){a(".google-visualization-table-table").style("width",
"");var h=a(".google-visualization-table-div-page",this.el)[0];if(h&&1!=this.total_pages){e.set(h,"float","right");e.set(h,"display","");var k=parseInt(this.options.pageSize),l=(parseInt(this.page)-1)*k+1,n=parseInt(l)+k-1;n>this.row_count&&(n=this.row_count);k=b.create("span",{"class":"pager-rowinfo relative"});a(k).innerHTML('\x3cspan class\x3d"float-left"\x3e\x3cstrong\x3eView\x3c/strong\x3e \x3cspan class\x3d"row-option-select"\x3e\x3c/span\x3e\x3c/span\x3e\x3cstrong\x3e'+l+" - "+n+"\x3c/strong\x3e of \x3cstrong\x3e"+
parseInt(this.row_count)+"\x3c/strong\x3e");a(".row-option-select",k)[0].appendChild(this.getRowSelect());n=a('img[alt\x3d"previous"]',h)[0];l=a('img[alt\x3d"next"]',h)[0];n.src="/images/arrow_left.gif";l.src="/images/arrow_right.gif";m.set(n,"style","width: 8px; height: 12px; position: relative; padding: 0px 3px; top: 3px;");m.set(l,"style","width: 8px; height: 12px; position: relative; padding: 0px 3px; top: 3px;");n=n.parentNode;l=l.parentNode;n&&(h.insertBefore(k,n.parentNode.parentNode),1==this.page?
(e.set(n,"display","none"),m.set(l,"style","border-left:1px solid #aaa;")):(e.set(n,"display",""),m.set(l,"style","border-left:none;")),this.page==this.total_pages?e.set(l,"display","none"):e.set(l,"display",""))}else h&&e.set(h,"display","none")}this.sorted&&(h=a(this.responsive?"td.table-th":"td.google-visualization-table-th",this.el)[this.sorted.column],d.add(h,"google-visualization-table-sorthdr"),h.innerHTML+='\x3cspan class\x3d"google-visualization-table-sortind"\x3e'+(this.sorted.ascending?
"\u25b2":"\u25bc")+"\x3c/span\x3e");if(this.onRender)this.onRender(this.el)}},getRowSelect:function(){for(var a=document.createElement("select"),b=[10,25,50,100],c=0;c<b.length;c++){var d=document.createElement("option");d.setAttribute("value",b[c]);d.innerHTML=b[c]+" Rows";a.appendChild(d)}a.value=this.options.pageSize;f(a,"change",k.hitch(this,"changePageSize"));return a},changePageSize:function(a){this.options.pageSize=parseInt(a.target.value);this.page=1;this.storePaging(parseInt(this.page),parseInt(this.options.pageSize));
this.total_pages=Math.ceil(parseInt(this.row_count)/this.options.pageSize);this.refresh()},changePage:function(a){0>=a.page&&(a.page=-1);this.page=parseInt(this.page)+parseInt(a.page);this.storePaging(parseInt(this.page),parseInt(this.options.pageSize));0>=this.page&&(this.page=1);this.total_pages&&this.page>this.total_pages&&(this.page=this.total_pages);this.refresh()},storePaging:function(a,b){var c="#p:"+a+"-s:"+b;this.sorted&&(c+="-sc:"+this.sorted.column+"-sn:"+this.data.getColumnId(this.sorted.column),
this.sorted.ascending&&(c+="-sa:"+this.sorted.ascending),this.sorted.sortedIndexes&&(c+="-si:"+this.sorted.sortedIndexes));window.location.hash=c},loadPaging:function(){var a=window.location.hash;if(!a)return"undefined"!==typeof vis_grid_page_size&&"NaN"!=vis_grid_page_size?{s:vis_grid_page_size,p:"1"}:{};var a=a.substring(1).split("-"),b={},c;for(c in a){var d=a[c].split(":");2==d.length&&(isNaN(d[1])?b[d[0]]=d[1]:b[d[0]]=parseInt(d[1],10))}isNaN(b.p)||isNaN(b.s)?b={}:100<b.s&&(b.s=10);return b},
getPageTotal:function(){var a=new n(this.url),b="select "+this.query.select_count;this.query.from&&(b+=" from "+this.query.from);this.query.where?(b+=" where ("+this.query.where+")",this.query.filter&&(b+=" and ("+this.query.filter+")")):this.query.filter&&(b+=" where "+this.query.filter);this.query.groupby&&(b+=" group by "+this.query.groupby);this.query.pivot&&(b+=" pivot "+this.query.pivot);a.setQuery(b);var c=this;a.send(function(a){a.isError()||(a=parseInt(a.getDataTable().getValue(0,0)),c.row_count=
a,c.total_pages=Math.ceil(parseInt(a)/parseInt(c.options.pageSize)))})},buildQuery:function(a){var b="";a.select&&(b+="select "+a.select);a.from&&(b+=" from "+a.from);a.where?(b+=" where ("+a.where+")",a.filter&&(b+=" and ("+a.filter+")")):a.filter&&(b+=" where "+a.filter);a.groupby&&(b+=" group by "+a.groupby);a.pivot&&(b+=" pivot "+a.pivot);a.orderby?(b+=" order by ",a.filter_orderby&&(b+=a.filter_orderby+", "),b+=a.orderby):a.filter_orderby&&(b+="order by "+a.filter_orderby);if("event"==this.options.page)var c=
this.options.pageSize,b=b+(" limit "+c+" offset "+(this.page-1)*c);a.label&&(b+=" label "+a.label);a.format&&(b+=" format "+a.format);return b},setFilter:function(a,b){this.skipFilterPageReset||(this.page=1);this.query.filter=a;this.query.filter_orderby=b;"event"==this.options.page&&this.getPageTotal()},sort:function(a){if("event"==this.options.sort){this.sorted&&a.column==this.sorted.column&&(a.ascending=!this.sorted.ascending);var b=this.data.getColumnId(a.column),c=!0;if(this.options.sortable)for(var c=
!1,d=0;d<this.options.sortable.length;++d)if(b==this.options.sortable[d]){c=!0;break}if(c&&this.options.not_sortable)for(d=0;d<this.options.not_sortable.length;++d)if(b==this.options.not_sortable[d]){c=!1;break}if(!c)return!1;this.query.orderby=b;a.ascending||(this.query.orderby+=" desc");this.page=1;this.sorted=a;this.storePaging(this.page,this.options.pageSize);this.refresh()}else this._renameTableClass();return!0},_renameTableClass:function(){this.responsive&&a(".google-visualization-table-table",
this.el).removeClass("google-visualization-table-table").addClass("responsive-table-google")}})})},"mojo/google/Query":function(){define(["dojo/_base/declare"],function(l){var k=l([],{constructor:function(h){if("success"==h.status){for(var f=new google.visualization.DataTable,a=h.meta,c,e=0;c=a[e];++e)f.addColumn(c.type,c.label,c.id);delete a;delete c;h=h.data;f.addRows(h.length);for(e=0;a=h[e];++e)for(var m=0;c=a[m];++m)f.setCell(e,m,c.v,c.f);this.table=f;this.error=!1}else this.table=null,this.error=
h.code,this.error_msg=h.msg,this.error_detail=h.detail},getDataTable:function(){return this.table},getDetailedMessage:function(){return this.error_detail},getMessage:function(){return this.error_msg},getReasons:function(){return[this.error]},hasWarning:function(){return!1},isError:function(){return this.error?!0:!1}});return l([],{constructor:function(h,f){this.url=h;this.query=f},setQuery:function(h){this.query=h},send:function(h){var f={};this.query&&(f.q=this.query);dojo.xhrPost({url:this.url,
content:f,handleAs:"json",load:function(a){a=new k(a);h(a)},error:function(a){a=new k({status:"error",code:"server_error",msg:"Server Error",detail:a});h(a)}})}})})},"mojo/lists":function(){define(["dojo","dijit","dojox"],function(l,k,h){l.provide("mojo.lists");mojo.lists.growthChart=function(f,a,c){var e=new SWFObject("/charts/amcolumn/amcolumn.swf","amcolumn","100%","200","8","#FFFFFF");e.addVariable("path","/charts/amcolumn/");e.addVariable("settings_file",escape("/charts/amcolumn/amcolumn_settings.xml"));
e.addVariable("data_file",escape(a+"?id\x3d"+f+"\x26limit\x3d"+c));e.addVariable("preloader_color","#999999");e.addParam("wmode","transparent");e.useExpressInstall("/js/mailchimp/expressinstall.swf");e.setAttribute("version",{major:7,minor:0,rev:0});e.write("list-growth-chart")};mojo.lists.renameInterest=function(f,a,c){l.xhrPost({url:c,content:{bit:f,name:a}})};mojo.lists.deleteInterest=function(f,a,c){l.xhrPost({url:a,content:{bit:f},handleAs:"json",sync:!0,load:function(a,f){l.byId("interest-groups").innerHTML=
"";l.forEach(a.groups,function(a){k.byId("interest-"+a.bit)&&k.byId("interest-"+a.bit).destroyRecursive();var b=document.createElement("li");l.addClass(b,"dojoDndItem");b.id="interestrow-"+a.bit;var e;e='\x3cspan class\x3d"sort-handle"\x3e\x26nbsp;\x3c/span\x3e '+(' \x3ca href\x3d"#" onclick\x3d"confirmDelete('+a.bit+');" class\x3d"delete"\x3e\x26nbsp;\x3c/a\x3e ');e+=' \x3cspan id\x3d"interest-'+a.bit+'" class\x3d"interest-edit"\x3e'+a.name+"\x3c/span\x3e";b.innerHTML=e;l.byId("interest-groups").appendChild(b);
new k.InlineEditBox({id:"interest-"+a.bit,title:"click to rename this interest group",value:a.name,onChange:function(b){mojo.lists.renameInterest(a.bit,b,c)}},l.byId("interest-"+a.bit))});l.byId("add-interest").style.display="";setTimeout(function(){interest_group_list.clearItems();interest_group_list.startup()},200)}})};mojo.lists.reorderInterests=function(f,a){l.xhrPost({url:a,content:{"bit_order[]":f}})};mojo.lists.memberGridFields=function(f,a,c,e){l.xhrPost({url:a,sync:!0,handleAs:"json",content:{id:f},
load:function(a){fields=a.fields}});var h=[];h.push({name:"view",field:"list_email_id",get:l.partial(mojo.lists.memberViewLink,c)});l.forEach(fields,function(a){h.push({name:a.name,field:a["var"],classes:"column-merge",width:"180px"})});h.push({name:"delete",field:"list_email_id",get:l.partial(mojo.lists.memberDeleteLink,e)});return h};mojo.lists.memberViewLink=function(f,a){var c=this.grid.model.getRow(a);return c?'\x3ca href\x3d"'+f+"?id\x3d"+c.list_email_id+'" class\x3d"view-member button-small"\x3eview\x3c/a\x3e':
"..."};mojo.lists.memberDeleteLink=function(f,a){var c=this.grid.model.getRow(a);return c?'\x3ca href\x3d"'+f+"?id\x3d"+c.list_email_id+'" class\x3d"delete-member button-small p0"\x3edelete\x3c/a\x3e':"..."}})},"mojo/chatter":function(){define(["dojo/dom","dojo/query","dojo/request/xhr","dojo/NodeList-dom"],function(l,k,h){var f={_page:1,_type:"all",validatePrefs:function(a,c){var e=a.getValues(),f=0,d;for(d in e)e[d].length&&f++;1>f?k("#no-prefs-error").removeClass("hide"):(mojo.chatter.updatePrefs(e,
c),dijit.byId("chatter-prefs").hide())},updatePrefs:function(a,c){var e={},f;for(f in a)a[f].length&&(e[f]=1);h.post(c,{data:e,handleAs:"text"}).then(function(a){l.byId("chatter-block").innerHTML=a})},navigate:function(a){l.byId("chatter-container").innerHTML="loading...";k("#chatter-nav .current").removeClass("current");k("#chatter-nav .chatter-"+a).addClass("current");k("#chatter-feed-url").attr("href",web_root+"chatter/feed-"+a+"?u\x3d"+user_private_id);h.get(web_root+"chatter/",{query:{type:a},
handleAs:"text"}).then(function(c){l.byId("chatter-list").innerHTML=c;f._page=1;f._type=a;/nothing to chatter/.test(c)?l.byId("chatter-more-button").style.display="none":l.byId("chatter-more-button").style.display=""})},showMore:function(){h.get(web_root+"chatter/",{query:{type:f._type,page:++f._page},handleAs:"text"}).then(function(a){/nothing to chatter/.test(a)?l.byId("chatter-more-button").style.display="none":l.byId("chatter-list").innerHTML+=a})},clearImage:function(a){a.onerror=function(){};
for(a=a.parentNode;a&&"li"!=a.nodeName.toLowerCase();)a=a.parentNode;a&&a.parentNode.removeChild(a)}};return f})},"mojo/hoverlist":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/array dojo/dom-style dojo/_base/event dojo/ready dojo/NodeList-traverse".split(" "),function(l,k,h,f,a,c,e){var m=[],d=function(){h(".hover-list.click-to-open \x3e li \x3e ul").style("display","none");b()},b=function(){f.forEach(m,function(a){a.remove()});m=[]},n=function(e){h("\x3e li \x3e ul",e).forEach(function(e,
f){var l=h(e).siblings("a,button")[0];l&&k(l,"click",function(f){d();c.stop(f);if("block"==a.get(e,"display"))h(e).style("display","none");else{m.length&&b();m.push(k(window.document,"click",function(a){1>dojo.query(a.target).parents(".click-outside-to-close").length&&d()}));var l=document.location.protocol+"//"+document.location.host;h("iframe").forEach(function(a){a.src.slice(0,l.length)==l&&m.push(k.once(a.contentWindow.document,"click",d))});h(e).style("display","block")}})})};e(function(){h(".hover-list.click-to-open").forEach(n)});
return{convert:n}})},"mojo/ReauthDialog":function(){define("dojo/dom-construct dojo/dom-attr dojo/_base/lang dojo/_base/connect dojo/dom-class dijit/Dialog dojo/topic mojo/user".split(" "),function(l,k,h,f,a,c,e,m){if(!window.reauth.url)throw Error("Attempted to use ReauthDialog without setting a url");var d=l.create("iframe",{width:480,height:280,frameBorder:0,src:"#"}),b=null,n=null;l={show:function(){f.publish("mojo/reauth/required");window.reauth.rememberMe&&(n=setTimeout(function(){b.show();
n=null},3E3));k.set(d,"src",window.reauth.url);b||(b=new c({title:"Your Session Expired",content:d,"class":"c-reauthDialog"}));window.reauth.rememberMe||b.show();a.add(document.body,"overflow-hidden")},hide:function(c){n&&(clearTimeout(n),n=null);b&&b.hide();e.publish("mojo/reauthdialog",{state:"hidden"});a.remove(document.body,"overflow-hidden");c&&m.updateCSRF(c)}};f.subscribe("mojo/reauth/complete",l.hide);return l})},"mojo/touch/no-delay":function(){define("dojo/query dojo/touch dojo/on dojo/_base/window dojo/has dojo/ready".split(" "),
function(l,k,h,f,a,c){a("touch")&&c(function(){h(f.body(),".no-delay:touchstart",function(a){a.stopPropagation();a.preventDefault();h.emit(this,"click",{bubbles:!0,cancelable:!0})})})})},"vendor/bugsnag/bugsnag":function(){(function(l,k){function h(b){try{if("function"!==typeof b)return b;if(!b.bugsnag){var c=a();b.bugsnag=function(){A=c;if(B)try{return b.apply(this,arguments)}catch(a){throw r("autoNotify",!0)&&(x.notifyException(a,null,null,"error"),v()),a;}finally{A=null}else{var d=b.apply(this,
arguments);A=null;return d}};b.bugsnag.bugsnag=b.bugsnag}return b.bugsnag}catch(d){return b}}function f(){I=!1}function a(){var a=document.currentScript||A;!a&&I&&(a=document.scripts||document.getElementsByTagName("script"),a=a[a.length-1]);return a}function c(b){var c=a();c&&(b.script={src:c.src,content:r("inlineScript",!0)?c.innerHTML:""})}function e(a,b,c){var d=a[b];a[b]=function(){c.apply(this,arguments);"function"===typeof d&&d.apply(this,arguments)}}function m(a){r("disableLog")}function d(a){var b=
[a.tagName];a.id&&b.push("#"+a.id);if(a.className&&a.className.length){var c="."+a.className.split(" ").join(".");b.push(c)}b=b.join("");if(!document.querySelectorAll||!Array.prototype.indexOf)return b;try{if(1===document.querySelectorAll(b).length)return b}catch(e){return b}1<a.parentNode.childNodes.length&&(c=Array.prototype.indexOf.call(a.parentNode.childNodes,a)+1,b=b+":nth-child("+c+")");return 1===document.querySelectorAll(b).length?b:a.parentNode?d(a.parentNode)+" \x3e "+b:b}function b(a,b){return a&&
a.length>b?a.slice(0,b-5)+"(...)":a}function n(a,c,d){var e=(d||0)+1,f=r("maxDepth",5);if(d>f)return"[RECURSIVE]";if("string"===typeof a)return b(a,c);if("[object Array]"===Object.prototype.toString.call(a)){var h=[];for(d=0;d<a.length;d++)h[d]=n(a[d],c,e);return h}if("object"===typeof a&&null!=a){d={};for(h in a)a.hasOwnProperty(h)&&(d[h]=n(a[h],c,e));return d}return a}function p(a,b,c){var d=r("maxDepth",5);if(c>=d)return encodeURIComponent(b)+"\x3d[RECURSIVE]";c=c+1||1;try{if(l.Node&&a instanceof
l.Node){var e=encodeURIComponent(b)+"\x3d";c=encodeURIComponent;var f;if(a){var h=a.attributes;if(h){var m="\x3c"+a.nodeName.toLowerCase();for(a=0;a<h.length;a++)h[a].value&&"null"!==h[a].value.toString()&&(m+=" "+h[a].name+'\x3d"'+h[a].value+'"');f=m+"\x3e"}else f=a.nodeName}else f=void 0;return e+c(f)}var e=[],k;for(k in a)if(a.hasOwnProperty(k)&&null!=k&&null!=a[k]){f=b?b+"["+k+"]":k;var n=a[k];e.push("object"===typeof n?p(n,f,c):encodeURIComponent(f)+"\x3d"+encodeURIComponent(n))}return e.sort().join("\x26")}catch(q){return encodeURIComponent(b)+
"\x3d"+encodeURIComponent(""+q)}}function q(a,b,c){if(null==b)return a;if(c>=r("maxDepth",5))return"[RECURSIVE]";a=a||{};for(var d in b)if(b.hasOwnProperty(d))try{a[d]=b[d].constructor===Object?q(a[d],b[d],c+1||1):b[d]}catch(e){a[d]=b[d]}return a}function r(a,b){var c;if(!(c=M)){c={};var d=/^data\-([\w\-]+)$/;if(K)for(var e=K.attributes,f=0;f<e.length;f++){var h=e[f];if(d.test(h.nodeName)){var m=h.nodeName.match(d)[1];c[m]=h.value||h.nodeValue}}}M=c;c=void 0!==x[a]?x[a]:M[a.toLowerCase()];"false"===
c&&(c=!1);return void 0!==c?c:b}function t(a){var b=r("autoBreadcrumbs",!0);return r(a,b)}function u(a,b){var c=r("apiKey"),d;c&&c.match(L)?d=!0:(m("Invalid API key '"+c+"'"),d=!1);if(d&&F){--F;d=r("releaseStage","production");var e=r("notifyReleaseStages");if(e){for(var f=!1,h=0;h<e.length;h++)if(d===e[h]){f=!0;break}if(!f)return}e=[a.name,a.message,a.stacktrace].join("|");if(e!==z&&(z=e,e={device:{time:(new Date).getTime()}},c={notifierVersion:V,apiKey:c,projectRoot:r("projectRoot")||l.location.protocol+
"//"+l.location.host,context:r("context")||l.location.pathname,user:r("user"),metaData:q(q(e,r("metaData")),b),releaseStage:d,appVersion:r("appVersion"),url:l.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:a.severity,name:a.name,message:a.message,stacktrace:a.stacktrace,file:a.file,lineNumber:a.lineNumber,columnNumber:a.columnNumber,breadcrumbs:D,payloadVersion:"3"},d=x.beforeNotify,"function"!==typeof d||!1!==d(c,c.metaData))){if(0===c.lineNumber&&
/Script error\.?/.test(c.message))return m("Ignoring cross-domain or eval script error. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors");d=r("endpoint")||T;d+="?"+p(c)+"\x26ct\x3dimg\x26cb\x3d"+(new Date).getTime();"undefined"!==typeof BUGSNAG_TESTING&&x.testRequest?x.testRequest(d,c):"xhr"===r("notifyHandler")?(c=new XMLHttpRequest,c.open("GET",d,!0),c.send()):(new Image).src=d}}}function w(){var a,b;try{throw Error("");}catch(c){a="\x3cgenerated\x3e\n",b=c.stack||
c.backtrace||c.stacktrace}if(!b){a="\x3cgenerated-ie\x3e\n";b=[];try{for(var d=arguments.callee.caller.caller;d&&10>b.length;){var e=J.test(d.toString())?RegExp.$1||"[anonymous]":"[anonymous]";b.push(e);d=d.caller}}catch(c){m(c)}b=b.join("\n")}return a+b}function v(){C+=1;l.setTimeout(function(){--C})}function y(a,b,c){var d=a[b];c=c(d);a[b]=c;"undefined"!==typeof BUGSNAG_TESTING&&l.undo&&l.undo.push(function(){a[b]=d})}var x={},A,z,B=!0,C=0,D=[],F=10;x.breadcrumbLimit=20;x.noConflict=function(){l.Bugsnag=
k;"undefined"===typeof k&&delete l.Bugsnag;return x};x.refresh=function(){F=10};x.notifyException=function(a,b,d,e){a?"string"===typeof a?(m("Bugsnag.notifyException() was called with a string. Expected instance of Error. To send a custom message instantiate a new Error or use Bugsnag.notify('\x3cstring\x3e'). see https://docs.bugsnag.com/platforms/browsers/#reporting-handled-exceptions"),x.notify.apply(null,arguments)):(b&&"string"!==typeof b&&(d=b,b=void 0),d||(d={}),c(d),u({name:b||a.name,message:a.message||
a.description,stacktrace:a.stack||a.backtrace||a.stacktrace||w(),file:a.fileName||a.sourceURL,lineNumber:a.lineNumber||a.line,columnNumber:a.columnNumber?a.columnNumber+1:void 0,severity:e||"warning"},d)):(m("Bugsnag.notifyException() was called with no arguments"),x.notify("BugsnagNotify","Bugsnag.notifyException() was called with no arguments"))};x.notify=function(a,b,c,d){a||(a="BugsnagNotify",b="Bugsnag.notify() was called with no arguments",m(b));u({name:a,message:b,stacktrace:w(),file:l.location.toString(),
lineNumber:1,severity:d||"warning"},c)};x.leaveBreadcrumb=function(a,c){var d={type:"manual",name:"Manual",timestamp:(new Date).getTime()};switch(typeof a){case "object":d=q(d,a);break;case "string":c&&"object"===typeof c?d=q(d,{name:a,metaData:c}):d.metaData={message:a};break;default:m("expecting 1st argument to leaveBreadcrumb to be a 'string' or 'object', got "+typeof a);return}for(var e="manual error log navigation process request state user".split(" "),f=!1,h=0;h<e.length;h++)if(e[h]===d.type){f=
!0;break}f||(m("Converted invalid breadcrumb type '"+d.type+"' to 'manual'"),d.type="manual");e=D.slice(-1)[0];if(f=d&&e&&d.type===e.type&&d.name===e.name)f=e.metaData,f=p(d.metaData)===p(f);f?(e.count=e.count||1,e.count++):(e=Math.min(x.breadcrumbLimit,40),d.name=b(d.name,32),D.push(n(d,140)),D.length>e&&(D=D.slice(-e)))};var G="undefined"!==typeof l.addEventListener;x.enableAutoBreadcrumbsConsole=function(){};x.disableAutoBreadcrumbsConsole=function(){};x.enableAutoBreadcrumbsNavigation=function(){};
x.disableAutoBreadcrumbsNavigation=function(){};x.enableAutoBreadcrumbsErrors=function(){x.autoBreadcrumbsErrors=!0};x.disableAutoBreadcrumbsErrors=function(){x.autoBreadcrumbsErrors=!1};x.enableAutoBreadcrumbsClicks=function(){x.autoBreadcrumbsClicks=!0};x.disableAutoBreadcrumbsClicks=function(){x.autoBreadcrumbsClicks=!1};x.enableAutoBreadcrumbs=function(){x.enableAutoBreadcrumbsClicks();x.enableAutoBreadcrumbsConsole();x.enableAutoBreadcrumbsErrors();x.enableAutoBreadcrumbsNavigation()};x.disableAutoBreadcrumbs=
function(){x.disableAutoBreadcrumbsClicks();x.disableAutoBreadcrumbsConsole();x.disableAutoBreadcrumbsErrors();x.disableAutoBreadcrumbsNavigation()};x.enableNotifyUnhandledRejections=function(){x.notifyUnhandledRejections=!0};x.disableNotifyUnhandledRejections=function(){x.notifyUnhandledRejections=!1};var I="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!0),l.addEventListener("load",f,!0)):l.attachEvent("onload",f);var L=/^[0-9a-f]{32}$/i,
J=/function\s*([\w\-$]+)?\s*\(/i,T="https://notify.bugsnag.com/js",V="3.1.0",P=document.getElementsByTagName("script"),K=P[P.length-1],M;if(!l.atob)B=!1;else if(l.ErrorEvent)try{0===(new l.ErrorEvent("test")).colno&&(B=!1)}catch(H){}r("autoNotify",!0)&&(y(l,"onerror",function(a){"undefined"!==typeof BUGSNAG_TESTING&&(x._onerror=a);return function(b,d,e,f,h){var m=r("autoNotify",!0),k={};!f&&l.event&&(f=l.event.errorCharacter);c(k);A=null;m&&!C&&(m=h&&h.name||"window.onerror",u({name:m,message:b,file:d,
lineNumber:e,columnNumber:f,stacktrace:h&&(h.stack||h.backtrace||h.stacktrace)||w(),severity:"error"},k),t("autoBreadcrumbsErrors")&&x.leaveBreadcrumb({type:"error",name:m,metaData:{severity:"error",file:d,message:b,line:e}}));"undefined"!==typeof BUGSNAG_TESTING&&(a=x._onerror);a&&a(b,d,e,f,h)}}),P=function(a){return function(b,c){if("function"===typeof b){b=h(b);var d=Array.prototype.slice.call(arguments,2);return a(function(){b.apply(this,d)},c)}return a(b,c)}},y(l,"setTimeout",P),y(l,"setInterval",
P),l.requestAnimationFrame&&y(l,"requestAnimationFrame",function(a){return function(b){return a(h(b))}}),l.setImmediate&&y(l,"setImmediate",function(a){return function(){var b=Array.prototype.slice.call(arguments);b[0]=h(b[0]);return a.apply(this,b)}}),"onunhandledrejection"in l&&l.addEventListener("unhandledrejection",function(a){r("notifyUnhandledRejections",!1)&&((a=a.reason)&&(a instanceof Error||a.message)?x.notifyException(a):x.notify("UnhandledRejection",a))}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,
function(a){(a=l[a]&&l[a].prototype)&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(y(a,"addEventListener",function(a){return function(b,c,d,e){try{c&&c.handleEvent&&(c.handleEvent=h(c.handleEvent))}catch(f){m(f)}return a.call(this,b,h(c),d,e)}}),y(a,"removeEventListener",function(a){return function(b,c,d,e){a.call(this,b,c,d,e);return a.call(this,b,h(c),d,e)}}))}));(function(){G&&l.addEventListener("click",function(a){if(t("autoBreadcrumbsClicks")){var c,e;try{var f=a.target,h=f.textContent||
f.innerText||"";if("submit"===f.type||"button"===f.type)h=f.value;h=h.replace(/^\s+|\s+$/g,"");c=b(h,140);e=d(a.target)}catch(k){e=c="[hidden]",m("Cross domain error when tracking click event. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors")}x.leaveBreadcrumb({type:"user",name:"UI click",metaData:{targetText:c,targetSelector:e}})}},!0)})();(function(){function a(b,c){t("autoBreadcrumbsConsole")&&x.leaveBreadcrumb({type:"log",name:"Console output",metaData:{severity:b,
message:Array.prototype.slice.call(c).join(", ")}})}if("undefined"!==typeof l.console){var b=console.log,c=console.warn,d=console.error;x.enableAutoBreadcrumbsConsole=function(){x.autoBreadcrumbsConsole=!0;e(console,"log",function(){a("log",arguments)});e(console,"warn",function(){a("warn",arguments)});e(console,"error",function(){a("error",arguments)})};x.disableAutoBreadcrumbsConsole=function(){x.autoBreadcrumbsConsole=!1;console.log=b;console.warn=c;console.error=d};t("autoBreadcrumbsConsole")&&
x.enableAutoBreadcrumbsConsole()}})();(function(){function a(b){var c=b.oldURL;b=b.newURL;var d={};c&&b?(d.from=c.split("#")[1]||"",d.to=b.split("#")[1]||""):d.to=location.hash;return{type:"navigation",name:"Hash changed",metaData:d}}function b(){return{type:"navigation",name:"Navigated back"}}function c(){return{type:"navigation",name:"Page hidden"}}function d(){return{type:"navigation",name:"Page shown"}}function f(){return{type:"navigation",name:"Page loaded"}}function h(){return{type:"navigation",
name:"DOMContentLoaded"}}function m(a,b,c,d){c=location.pathname+location.search+location.hash;return{type:"navigation",name:"History "+a,metaData:{from:c,to:d||c,prevState:history.state,nextState:b}}}function k(a,b,c){return m("pushState",a,b,c)}function n(a,b,c){return m("replaceState",a,b,c)}function p(a){return function(){t("autoBreadcrumbsNavigation")&&x.leaveBreadcrumb(a.apply(null,arguments))}}if(G&&l.history&&l.history.state&&l.history.pushState&&l.history.pushState.bind){var q=history.pushState,
r=history.replaceState;x.enableAutoBreadcrumbsNavigation=function(){x.autoBreadcrumbsNavigation=!0;e(history,"pushState",p(k));e(history,"replaceState",p(n))};x.disableAutoBreadcrumbsNavigation=function(){x.autoBreadcrumbsNavigation=!1;history.pushState=q;history.replaceState=r};l.addEventListener("hashchange",p(a),!0);l.addEventListener("popstate",p(b),!0);l.addEventListener("pagehide",p(c),!0);l.addEventListener("pageshow",p(d),!0);l.addEventListener("load",p(f),!0);l.addEventListener("DOMContentLoaded",
p(h),!0);t("autoBreadcrumbsNavigation")&&x.enableAutoBreadcrumbsNavigation()}})();r("autoBreadcrumbs",!0)&&x.leaveBreadcrumb({type:"navigation",name:"Bugsnag Loaded"});l.Bugsnag=x;"function"===typeof define&&define.amd?define([],function(){return x}):"object"===typeof module&&"object"===typeof module.exports&&(module.exports=x)})(window,window.Bugsnag)},"mojo/widgets/AccessibleMenu":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_FocusMixin dojo/on dojo/parser dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-class dojo/dom-attr dojo/query dojo/keys dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([k,h],{menuItems:[],currentItemIndex:null,bindEvents:function(){var a=this;this.keyEvents=f(this.domNode,"keydown",function(b){b.preventDefault();b.stopPropagation();a.currentItemIndex=a.menuItems.indexOf(b.target);return a._handleKeyDown(this,b)})},unbindEvents:function(){this.keyEvents.remove()},_handleKeyDown:function(a,c){switch(c.charCode||c.keyCode){case p.ENTER:case p.SPACE:window.location=b.get(n(c.target).children("a")[0],"href");break;case p.UP_ARROW:var d=
this.currentItemIndex-1,d=0>d?this.menuItems[this.menuItems.length-1]:this.menuItems[d];d.focus();break;case p.DOWN_ARROW:d=this.currentItemIndex+1;d=d>this.menuItems.length-1?this.menuItems[0]:this.menuItems[d];d.focus();break;case p.ESCAPE:case p.LEFT_ARROW:case p.RIGHT_ARROW:break;case p.TAB:case p.META:case p.CTRL:case p.SHIFT:case p.ALT:return!0;case p.TAB:case p.META:case p.CTRL:case p.SHIFT:case p.ALT:return!0;default:var d=String.fromCharCode(c.which),e=this.currentItemIndex+1;for(e===this.menuItems.length&&
(e=0);e!==this.currentItemIndex;){if(n(this.menuItems[e]).children("a")[0].innerHTML.charAt(0)===d){this.charMatch=!0;break}e+=1;e===this.menuItems.length&&(e=0)}this.charMatch?this.menuItems[e].focus():this.menuItems[this.currentItemIndex].focus()}},setRoles:function(){this.menuItems.map(function(a){b.set(a,"role","menuitem");b.set(a,"tabindex","-1")})},postCreate:function(){this.menuItems=n(this.domNode).children();this.setRoles()},_onFocus:function(){this.bindEvents();b.has(this.domNode,"data-mode")||
(n(this.menuItems)[0].focus(),this.currentItemIndex=0)},_onBlur:function(){b.set(this.domNode,"aria-expanded","false");this.unbindEvents();b.has(this.domNode,"data-mode")&&b.remove(this.domNode,"data-mode")}})})},"mojo/widgets/AccessibleMenuBar":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_FocusMixin dojo/on dojo/parser dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-class dojo/dom-attr dojo/query dojo/keys mojo/widgets/GlobalSearch dojo/NodeList-traverse".split(" "),function(l,
k,h,f,a,c,e,m,d,b,n,p,q){return l([k,h],{menuParents:[],menuDropdowns:[],currentMenuIndex:null,bindEvents:function(){var a=this;this.keyUpEvents=f(this.menuParents,"keyup",function(b){(b.charCode||b.keyCode)!==p.TAB&&(b.preventDefault(),b.stopPropagation());a.menuParents.some(function(a){return a===b.target})?a.currentMenuIndex=a.menuParents.indexOf(b.target):a.currentMenuIndex=a.menuParents.indexOf(n(b.target).parents("[data-submenu]")[0]);return a._handleKeyUp(this,b)});this.keyDownEvents=f(this.menuParents,
"keydown",function(b){(b.charCode||b.keyCode)!==p.TAB&&(b.preventDefault(),b.stopPropagation());return a._handleKeyDown(this,b)});this.clickEvents=f(this.menuParents,"click",function(b){a.currentMenuIndex=a.menuParents.indexOf(b.target);return a._handleClick(this,b)})},unbindEvents:function(){this.keyUpEvents.remove();this.keyDownEvents.remove();this.clickEvents.remove()},_handleKeyUp:function(a,b){switch(b.charCode||b.keyCode){case p.ESCAPE:case p.TAB:this._hideAllMenus();this._setFocus();break;
case p.ENTER:case p.SPACE:this._toggleMenu(b.target,b);this._openUrl(b.target,b);break;case p.UP_ARROW:case p.DOWN_ARROW:this._toggleMenu(b.target,b);break;case p.LEFT_ARROW:var c;(c=this.menuParents.some(function(a){return a===b.target}))?(c=this.currentMenuIndex-1,c=0>=c?this.menuParents[0]:this.menuParents[c]):c=a;this._hideAllMenus();c.focus();break;case p.RIGHT_ARROW:(c=this.menuParents.some(function(a){return a===b.target}))?(c=this.currentMenuIndex+1,c=c>=this.menuParents.length-1?this.menuParents[this.menuParents.length-
1]:this.menuParents[c]):c=a;this._hideAllMenus();c.focus();break;default:if(!this.menuActive){c=String.fromCharCode(b.which);var d=this.currentMenuIndex+1;for(d===this.menuParents.length&&(d=0);d!==this.currentMenuIndex;){if(n(this.menuParents[d]).children()[0].innerHTML.charAt(0)===c){this.charMatch=!0;break}d+=1;d===this.menuParents.length&&(d=0)}this.charMatch&&this.menuParents[d].focus();return!1}}},_handleKeyDown:function(a,b){switch(b.charCode||b.keyCode){case p.TAB:return!0}},_handleClick:function(a,
b){this._toggleMenu(a,b,"click")},_toggleMenu:function(a,c,e){"true"===b.get(a,"aria-haspopup")&&(c=n(a).children("ul")[0],d.contains(c,"v-menuChild--active")?(d.remove(a,"v-menuParent--active"),d.remove(c,"v-menuChild--active"),b.set(c,"aria-expanded","false"),c.blur(),a.focus()):(this._hideAllMenus(),d.add(a,"v-menuParent--active"),d.add(c,"v-menuChild--active"),b.set(c,"aria-expanded","true"),"click"===e&&b.set(c,"data-mode",e),c.focus(),this.menuActive=!0))},_openUrl:function(a,c){var d=n(a).children("a")[0];
"false"===b.get(a,"aria-haspopup")&&("searchLink"===b.get(d,"data-menubar-item")?q.main().show("global-search"):window.location=b.get(d,"href"))},_hideAllMenus:function(){this.menuDropdowns.map(function(a){d.contains(a,"v-menuChild--active")&&(d.remove(a,"v-menuChild--active"),b.set(a,"aria-expanded","false"))});this.menuParents.map(function(a){d.contains(a,"v-menuParent--active")&&d.remove(a,"v-menuParent--active")});this.menuActive=!1},_setFocus:function(){this.currentMenuIndex&&0<this.currentMenuIndex&&
this.menuParents[this.currentMenuIndex].focus()},setRoles:function(){b.set(n(this.domNode).parents("nav")[0],"tabindex","-1");b.set(this.domNode,"role","menubar");this.menuParents.map(function(a){b.set(a,"tabindex","0");b.set(a,"role","menuitem");n(a).children("ul")[0]?(b.set(a,"aria-haspopup","true"),b.set(a,"data-submenu","true"),d.add(a,"cursor-pointer")):(b.set(a,"aria-haspopup","false"),b.set(n(a).children("a")[0],"tabindex","-1"))});this.menuDropdowns.map(function(a){b.set(a,"tabindex","-1");
b.set(a,"role","menu");b.set(a,"aria-expanded","false")})},postCreate:function(){this.menuParents=n(this.domNode).children("li");this.menuDropdowns=n(this.menuParents).children("ul");this.setRoles()},_onBlur:function(){this._hideAllMenus();this.unbindEvents()},_onFocus:function(){this.bindEvents()}})})},"mojo/widgets/GlobalSearch":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/parser dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dijit/registry dojo/request/xhr velocity/velocity mojo/utils mojo/KeyShortcuts dojo/keys dojo/ready".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){var x=l([k,h,f],{overlayClass:"search-overlay",postMixInProperties:function(){x._main||(x._main=this)},postCreate:function(){var c=this;a(this.globalSearchForm,"submit",function(a){a.preventDefault();c.doSearch()});a(this.globalSearchField,"keyup",function(a){a=a.charCode||a.keyCode;if(0===this.value.length||a===v.ESCAPE)this.value="",c.toggleSearchIcon(!1),c.toggleSearchLoader(!1),c.resetSearch()});y(function(){c.searchFilter=q.byId("search-filter");
a(c.searchFilter,"change",function(a){a=c.searchFilter.getOptions(a).label;c.globalSearchField.placeholder="Search "+a.toLowerCase();c.doSearch()})});a(this.searchResults,"[data-search-offset]:click",function(a){a.preventDefault();a.stopPropagation();(a=n.get(a.target,"data-search-offset"))&&"undefined"!==typeof a&&c.doSearch(a)});a(this.clearIcon,"click",function(a){c.globalSearchField.value="";c.searchResults.innerHTML="";p.add(c.searchCount,"hide");p.add(c.clearIcon,"hide");p.remove(c.searchIcon,
"hide")});a(this.keywords,"a:click",function(a){a.preventDefault();a=this.innerHTML;var d=c.globalSearchField.value;c.globalSearchField.value="";c.globalSearchField.value=a.concat(" ",d);u.toggleEl(b.byId("search-tips"),"hotkey-help-search-pane","Advanced search keywords","Close advanced search keywords");c.globalSearchField.focus()});a(this.closeButton,"click",d.hitch(this,"hide"))},doSearch:function(a){var b=this;p.add(this.searchError,"hide");var c="all";this.searchFilter&&(c=this.searchFilter.value);
"undefined"===typeof a&&(a=0);0<this.globalSearchField.value.length&&(b.toggleSearchLoader(!0),r.post(n.get(this.globalSearchForm,"url"),{handleAs:"json",query:{query:this.globalSearchField.value,offset:a,entities:c}}).then(function(a){b.toggleSearchLoader(!1);b.toggleSearchIcon(!0);0<a.total?p.remove(b.searchCount,"hide"):p.add(b.searchCount,"hide");100<a.total&&(b.searchPagination&&p.remove(b.searchPagination,"hide"),b.startCount&&(b.startCount.innerHTML=a.start),b.endCount&&(b.endCount.innerHTML=
a.end));b.totalCount.innerHTML=a.total+" results";b.searchResults.innerHTML=a.html;m.parse(b.searchResults);if(b.noResultsMessage){String.prototype.escape=function(){var a={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;"};return this.replace(/[&<>]/g,function(b){return a[b]||b})};a=xmpputil.stripHtml(b.globalSearchField.value.escape());var d="";switch(c.split("-")[0]){case "campaigns":d='Sorry, we couldn\x26rsquo;t find any campaigns that match "\x3cstrong id\x3d"search-query"\x3e'+a+'\x3c/strong\x3e".';
break;case "listmembers":d='Sorry, we couldn\x26rsquo;t find any subscribers that match "\x3cstrong id\x3d"search-query"\x3e'+a+'\x3c/strong\x3e".';c[1]&&(d+=' Would you like to \x3ca href\x3d"/lists/members/add?id\x3d'+c[1]+'"\x3eadd a subscriber\x3c/a\x3e?');break;default:d='Sorry, we couldn\x26rsquo;t find a match with "\x3cstrong id\x3d"search-query"\x3e'+a+'\x3c/strong\x3e".'}b.noResultsMessage.innerHTML=d}},function(a){p.add(b.loadIcon,"hide");p.add(b.searchIcon,"hide");p.remove(b.clearIcon,
"hide");b.searchResults.innerHTML="";p.remove(b.searchError,"hide")}))},resetSearch:function(){this.searchResults.innerHTML="";p.add(this.searchError,"hide")},toggleSearchIcon:function(a){p.toggle(this.clearIcon,"hide",!a);p.toggle(this.searchIcon,"hide",a)},toggleSearchLoader:function(a){p.toggle(this.loadIcon,"hide",!a)}});x.main=function(){return x._main?x._main:null};return x})},"mojo/widgets/_Overlay":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-style dojo/Deferred dojo/dom dojo/_base/lang velocity/velocity dojo/dom-attr".split(" "),
function(l,k,h,f,a,c,e,m){return l([],{overlayClass:"",isVisible:function(){return"visible"==h.get(this.domNode,"visibility")&&1==h.get(this.domNode,"opacity")},show:function(d){var b=new f;this.isVisible()?b.resolve():(this.onShow(),e(this.domNode,"stop"),h.set(this.domNode,"zIndex",940),k.add(document.documentElement,this.overlayClass+" overflow-hidden"),e(this.domNode,{opacity:[1,"easeOutCubic",.2],translateY:["0%","easeOutQuint","-100%"]},{visibility:"visible",duration:475,complete:c.hitch(this,
function(){a.byId(d)&&a.byId(d).focus();m.set(this.domNode,"aria-hidden","false");b.resolve()})}));return b.promise},hide:function(a){var b=new f;a=a||{};this.isVisible()?(this.onHide(),a=!1===a.animate?0:375,e(this.domNode,"stop"),e(this.domNode,{translateY:["-100%","easeOutQuint","0%"]},{duration:a,visibility:"hidden",opacity:.2,complete:c.hitch(this,function(){h.set(this.domNode,"zIndex",-5);k.replace(document.documentElement,"",this.overlayClass+" overflow-hidden");m.set(this.domNode,"aria-hidden",
"true");b.resolve()})})):b.resolve();return b.promise},onHide:function(){},onShow:function(){}})})},"mojo/KeyShortcuts":function(){define("dojo/on dojo/_base/array dojo/ready dojo/query dojo/keys dijit/focus".split(" "),function(l,k,h,f,a,c){var e={},m={},d=function(a){return a.target&&-1!=k.indexOf(["INPUT","TEXTAREA","SELECT"],a.target.tagName.toUpperCase())};h(function(){l(window.document,"keyup",n);l(window.document,"keypress",p);f("iframe").forEach(function(a){b(a);l(a,"load",function(){b(this)})})});
var b=function(a){var b=document.location.protocol+"//"+document.location.host;a.src.slice(0,b.length)==b&&(l(a.contentWindow.document,"keyup",function(a){n(a)}),l(a.contentWindow.document,"keypress",function(a){p(a)}))},n=function(b){if(!(b.ctrlKey||b.metaKey||b.altKey||b.shiftKey)){var e=b.data?b.data.keyCode:b.keyCode,f;for(f in a)if(a.hasOwnProperty(f)&&a[f]===e){!d(b)&&m[e]&&m[e].length&&(k.forEach(m[e],function(a){a(b)}),c.curNode&&c.curNode.blur());break}}},p=function(a){if(!(a.ctrlKey||a.metaKey||
a.altKey||a.shiftKey)){var b=a.data?a.data.charCode:a.charCode;!d(a)&&"undefined"==typeof a.sender&&e[b]&&e[b].length&&(k.forEach(e[b],function(b){b(a)}),a.preventDefault(),a.stopPropagation())}},q={onKey:function(a,b){var c=a.charCodeAt(0);e[c]||(e[c]=[]);e[c].push(b);return{remove:function(){var a=k.indexOf(e[c],b);0<=a&&e[c].splice(a,1)}}},onSpecialKey:function(b,c){var d=a[b];m[d]||(m[d]=[]);m[d].push(c);return{remove:function(){var a=k.indexOf(m[d],c);0<=a&&m[d].splice(a,1)}}},onEsc:function(a){return q.onSpecialKey("ESCAPE",
a)},onEnter:function(b,c){return l(b,"keyup",function(b){if(!(b.ctrlKey||b.metaKey||b.altKey||b.shiftKey)){var e=b.data?b.data.keyCode:b.keyCode;d(b)&&"undefined"==typeof b.sender&&e===a.ENTER&&c(b)}})}};return q})},"mojo/widgets/AccountMenu":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_MenuActions mojo/widgets/_SlideCard dojo/on dojo/query dojo/_base/array dojo/parser dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dijit/registry velocity/velocity".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){var w=l([k,h,f,a],{overlayClass:"",postMixInProperties:function(){w._main||(w._main=this)},postCreate:function(){c(this.slideNotifications,"click",b.hitch(this,function(){this.slideCard(this.notificationsCard,null);window.ga("send","event","Global Navigation","Clicked Account","Clicked Notifications")}));this.slideAccount&&c(this.slideAccount,"click",b.hitch(this,"slideCard",this.accountCard,this.accountSearchField));c(this.slideBackNotifications,"click",
b.hitch(this,"closeCard",this.notificationsCard));c(this.slideBackAccount,"click",b.hitch(this,"closeCard",this.accountCard));this.accountSearchField&&c(this.accountSearchField,"keyup",function(a){var b=this.value.toLowerCase();e(".account-list .acl-account").forEach(function(a){var c=q.get(a,"data-account-name").toLowerCase();a.style.display=0>c.indexOf(b)?"none":""})})}});w.main=function(){return w._main?w._main:null};return w})},"mojo/widgets/_MenuActions":function(){define("dojo/_base/declare dojo/dom-class dojo/dom dojo/_base/lang velocity/velocity dojo/dom-attr".split(" "),
function(l,k,h,f,a,c){return l([],{overlayClass:"",toggle:function(a){k.toggle(this.domNode,a);"true"===c.get(this.domNode,"aria-hidden")?c.set(this.domNode,"aria-hidden","false"):c.set(this.domNode,"aria-hidden","true")},hide:function(a){k.replace(this.domNode,"",a);c.set(this.domNode,"aria-hidden","true")}})})},"mojo/widgets/_SlideCard":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom","dojo/_base/lang","velocity/velocity"],function(l,k,h,f,a){return l([],{slideCard:function(c,
e){a(c,"stop");a(c,{left:[0,[.7,0,.175,1.06],"100%"]},{duration:250,complete:function(){e&&e.focus()}})},closeCard:function(c){a(c,"stop");a(c,{left:["100%",[.7,0,.175,-.2],0]},{duration:250})}})})},"mojo/widgets/ActionButtonPane":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/query dojo/on dojo/dom-class dijit/form/Select dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ActionButtonPane.html mojo/widgets/IconButtonGroup".split(" "),function(l,k,h,f,a,c,
e,m,d,b,n){return l([m,d],{templateString:b,buttonTemplate:'\x3cdiv class\x3d"flex-auto text-align--{buttonAlign} padding-top--lv2 padding-bottom--lv2"\x3e\x3cbutton class\x3d"button {cssOptions}"\x3e{buttonText}\x3c/button\x3e\x3c/div\x3e',selectTemplate:'\x3cdiv class\x3d"flex-auto text-align--{selectAlign} padding-top--lv2 padding-bottom--lv2"\x3e\x3c/div\x3e',postCreate:function(){this.params.button&&this._setupButton(this.params.button);this.params.select&&this._setupSelect(this.params.select);
this.params.iconToggle&&this._setupIconToggle(this.params.iconToggle)},_setupButton:function(b){var c=h.place(k.replace(this.buttonTemplate,{buttonAlign:b.align,buttonText:b.buttonText,cssOptions:b.colorStyles+" margin-right--lv0"}),this.actionpFlexPaneEl);a(c,"button:click",function(a){b.action()})},_setupSelect:function(b){this.sectionToggle=new e({"class":b.classNames,options:b.options});var d=h.place(k.replace(this.selectTemplate,{selectAlign:b.align}),this.actionpFlexPaneEl,b.order);h.place(this.sectionToggle.domNode,
d,"first");a(this.sectionToggle,"change",b.onChange);c.add(this.sectionToggle.domNode,"!width--auto")},_setupIconToggle:function(a){this.iconGroup=new n(a);h.place(this.iconGroup.domNode,this.actionpFlexPaneEl,a.order)}})})},"mojo/widgets/IconButtonGroup":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct mojo/widgets/ButtonGroup dojo/text!./templates/IconButtonGroupItem.html dojo/text!./templates/IconButtonGroupItemWithImage.html".split(" "),function(l,k,h,
f,a,c,e){return l([a],{templateString:'\x3cul class\x3d"flex align-items--center"\x3e\x3c/ul\x3e',iconTpl:c,imageTpl:e,activeClass:"active",postCreate:function(){this.inherited(arguments);this.setSelected(this.params.value)},_addOptions:function(){k.forEach(this.options,h.hitch(this,function(a){var c=h.mixin({value:"",label:"",icon:""},a);a.icon?f.place(h.replace(this.iconTpl,c),this.domNode):f.place(h.replace(this.imageTpl,c),this.domNode)}))}})})},"mojo/widgets/ButtonGroup":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/on dojo/dom-attr dojo/query dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([m,d],{templateString:'\x3cul class\x3d"flex"\x3e\x3c/ul\x3e',options:[],itemTpl:'\x3cli class\x3d"c-buttonGroupItem"\x3e\x3cbutton type\x3d"button" data-mc-value\x3d"{value}" title\x3d"{title}" class\x3d"c-buttonGroupButton v-buttonGroupBordered" href\x3d"#"\x3e{label}\x3c/button\x3e\x3c/li\x3e',activeClass:"v-buttonGroupBordered--active",value:"",postCreate:function(){var b=this;this._addOptions();this.own(a(this.domNode,"button:click",function(a){a.stopPropagation();
a.preventDefault();a=c.get(this,"data-mc-value");b.set("value",a)}));this.watch("value",h.hitch(this,"_toggleActive"))},_toggleActive:function(){e("button[data-mc-value]",this.domNode).removeClass(this.activeClass);var a=this.value;a&&e("button[data-mc-value\x3d"+a+"]",this.domNode).addClass(this.activeClass);this.onChange(a)},_addOptions:function(){k.forEach(this.options,h.hitch(this,function(a){a=h.mixin({value:"",title:"",label:""},a);!a.title&&a.label&&(a.title=a.label);f.place(h.replace(this.itemTpl,
a),this.domNode)}))},setSelected:function(a){this.set("value",a);this._toggleActive()},onChange:function(a){}})})},"mojo/widgets/ActionableDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/Button dojo/text!./templates/ActionableDialogContent.html mojo/widgets/Dialog".split(" "),function(l,k,h,f,a,c,e,m,d){var b=l([a,c],{templateString:m,contentMessage:"",primaryActionLabel:"",onClickPrimaryAction:null,secondaryActionLabel:"",
onClickSecondaryAction:null,dialog:null,postCreate:function(){this._setUpContentMessage();this._setUpPrimaryAction();this._setUpSecondaryAction()},_setUpContentMessage:function(){this.contentMessage&&h.create("p",{innerHTML:this.contentMessage},this.contentArea,"first")},_setUpPrimaryAction:function(){if(this.primaryActionLabel){var a=e({label:this.primaryActionLabel,"class":"button p0"});if(this.onClickPrimaryAction){var b=this;f(a,"click",function(a){b.onClickPrimaryAction(a,b.dialog)})}a.placeAt(this.actionBar,
"last")}},_setUpSecondaryAction:function(){if(this.secondaryActionLabel){var a=h.create("a",{href:"#",innerHTML:this.secondaryActionLabel});if(this.onClickSecondaryAction){var b=this;f(a,"click",function(a){b.onClickSecondaryAction(a,b.dialog)})}h.place(a,this.actionBar,"last")}}});return l([d],{constructor:function(a){this.content=new b(k.mixin(a,{dialog:this}))}})})},"mojo/widgets/Dialog":function(){define("dojo/_base/lang dojo/_base/array dojo/dom-class dojo/dom-construct dojo/Deferred dojo/on mojo/utils dijit/DialogUnderlay dijit/Dialog".split(" "),
function(l,k,h,f,a,c,e,m,d){function b(a){var b=["webkit","Moz","MS",""];if(null===n){var c=f.create("p"),d=c.style;n=!1;k.some(b,function(a){return"undefined"!==typeof d[a?a+"Animation":"animation"]?(n=a,!0):!1});f.destroy(c)}return!1===n?!1:n&&"webkit"===n?n+e.capitalize(a):a.toLowerCase()}var n=null,p=d.prototype.show,q=d.prototype.hide;d.prototype.duration=0;d.prototype.show=function(){var d=p.call(this);-1===k.indexOf(this.underlayAttrs["class"].split(" "),"on")&&(this.underlayAttrs["class"]+=
" on");var e=m._singleton.node;h.add(this.domNode,"dijitDialogShow");h.add(e,"on");var f=b("TransitionEnd");if(f){var l=new a;c.once(e,f,function(){l.resolve(!0)});return l}return d};d.prototype.baseHide=function(){q.call(this)};d.prototype.baseShow=function(){p.call(this)};d.prototype.hide=function(){if(this._alreadyInitialized&&this.open){var e=m._singleton.node;h.remove(this.domNode,"dijitDialogShow");if(2>=d._dialogStack.length)h.remove(e,"on");else return q.call(this);var f=b("TransitionEnd");
if(f){var k=new a;c.once(e,f,l.hitch(this,function(){q.call(this);k.resolve(!0)}));return k}return q.call(this)}};return d})},"mojo/widgets/AddSegmentPane":function(){define(["dojo/_base/declare","mojo/widgets/TopSliderPane","dojo/text!./templates/AddSegmentPane.html","dojo/_base/lang"],function(l,k,h,f){return l([k],{reportId:null,titleText:"MailChimp Comparative Reports",badgeText:"Add Segment",paneClasses:"add-segment-container",content:h,constructor:function(a){f.mixin(this,a);if(!this.reportId)throw Error("Can't create segment without a report Id.");
},postCreate:function(){this.inherited(arguments)},show:function(){return this.inherited(arguments)}})})},"mojo/widgets/TopSliderPane":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Templated dijit/_FocusMixin dojo/on dojo/dom dijit/registry dojo/dom-attr dojo/html dojo/fx velocity/velocity dojo/has dojo/_base/lang dojo/_base/array dojo/Deferred dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/query dojo/parser mojo/KeyShortcuts dojo/ready dojo/text!./templates/sliderPaneWrapper.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C){var D=[];z.onEsc(function(){var a=D.length?D.slice(-1)[0]:null;if(a)a.onEsc()});return l([k,h,f],{widgetsInTemplate:!0,titleText:"Preview",badgeText:"Badge Text",emailText:null,paneClasses:"topsliderpane-base",displayActive:!1,templateString:C,zIndex:null,postMixInProperties:function(){this.templateString=q.replace(this.templateString,{_content:this.content})},postCreate:function(){B(q.hitch(this,function(){u.place(this.domNode,x("body")[0]);
this.zIndex&&v.set(this.domNode,"zIndex",""+this.zIndex)}));this.closeLink&&a(this.closeLink,"click",q.hitch(this,function(a){a.preventDefault();this.hide()}));this.closeAllLink&&a(this.closeAllLink,"click",q.hitch(this,function(a){a.preventDefault();this.onCloseAll()}));var b=x(".mobile-top-nav",this.domNode)[0];b&&(a(b,"click",function(){w.toggle(this,"active")}),x(".exitnav a",this.domNode).forEach(function(c){a(c,"click",function(){w.remove(b,"active")})}));this.title&&this.titleText&&d.set(this.title,
this.titleText);this.badge&&this.badgeText?d.set(this.badge,this.badgeText):u.destroy(this.badge);this.emailTitle&&this.emailText?d.set(this.emailTitle,this.emailText):u.destroy(this.emailTitle);w.add(this.domNode,this.paneClasses)},show:function(a){this.promise=new t;var b=this,c=function(){D.push(b);u.place(b.domNode,x("body")[0],"last");b.displayActive||(b.title&&b.titleText&&d.set(b.title,b.titleText),n(b.domNode,"stop"),b.content&&(v.set(b.content,"opacity",0),n(b.content,{opacity:[1,"easeIn",
0]},{delay:255,duration:225})),n(b.domNode,{opacity:[1,"easeIn",.4]},{duration:225,display:"block",begin:q.hitch(b,function(){v.set(b.domNode,{"z-index":"95"})}),complete:q.hitch(b,function(){b.scrollTopCache=y.docScroll().y;w.add(x("html")[0],["overflow-hidden"]);w.add(x("body")[0],["overflow-hidden","absolute","full-height"]);b.closeLink&&(b.closeLink.focus(),b.closeLink.blur());b._onShowCallback()})}),b.displayActive=!0);a&&a.zIndex&&v.set(b.domNode,"zIndex",""+a.zIndex)},e=D.length?D.slice(-1)[0]:
null;a&&a.forceOnTop||!e?c():e!=b&&e.hide().then(c);return this.promise},hide:function(){var a=new t;w.remove(x("html")[0],["overflow-hidden"]);w.remove(x("body")[0],["overflow-hidden","absolute","full-height"]);n(this.domNode,"stop");n(this.content,{opacity:[0,"easeOut",1]},{duration:225});n(this.domNode,{opacity:[.4,"easeOut",1],zIndex:[-1,"easeOut",95]},{duration:225,display:"none",complete:q.hitch(this,function(){x("body")[0].scrollTop=this.scrollTopCache;document.documentElement.scrollTop=this.scrollTopCache;
var b=D.indexOf(this);-1<b&&D.splice(b,1);this._onHideCallback();a.resolve()})});this.displayActive=!1;return a},onEsc:function(){this.focused&&this.hide()},onCloseAll:function(){D.reverse().map(function(a){a.hide()})},_onShowCallback:function(){},_onHideCallback:function(){}})})},"mojo/widgets/Autocomplete":function(){define("dojo/_base/declare mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/Stateful dojo/_base/lang dojo/dom-construct dojo/dom-class dojox/html/entities dojo/keys dojo/text!./templates/Autocomplete.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([h,f,a,c],{templateString:p,wait:250,searchTopic:null,placeholderText:"",shouldShowSearchDivider:!0,constructor:function(a){this.suggestionsMap={};this.suggestionOrder=[];a.suggestions&&this._generateSuggestionMap(a.suggestions)},_generateSuggestionMap:function(a){this.suggestionsMap=a.reduce(e.hitch(function(a,b){a[b.value]=b;return a}),{search:{value:"search",label:"{search}",icon:"search",shouldShowPrompt:!0}});this.suggestionOrder=a.map(function(a){return a.value})},
_setPlaceholderTextAttr:function(a){a&&(this.placeholderText=a,this.SearchBox.filteredInput.setAttribute("placeholder",this.placeholderText))},visibleSuggestions:[],_setVisibleSuggestionsAttr:function(a){this.visibleSuggestions=a;var c=document.createDocumentFragment(),d=!1;this.visibleSuggestions.forEach(e.hitch(this,function(a,f){var h=this.suggestionsMap[a];h.domNode=k.compileTemplate(this.template_result,e.mixin(e.clone(h),{label:e.replace(h.label,{search:b.encode(this.searchText)}),icon:h.icon||
"hide",promptClass:h.shouldShowPrompt?"":"hide",detailsClass:h.details?"":"hide"}));h.iconImage&&m.place(k.compileTemplate(this.template_iconImage,{iconImage:h.iconImage}),h.domNode,"first");h.domNode.addEventListener("mousedown",this._selectSuggestion.bind(this,a));1>=f&&!this.isSearch(a)&&!d&&this.shouldShowSearchDivider&&(d=!0,c.appendChild(k.compileTemplate(this.template_divider,{})));c.appendChild(h.domNode)}));m.place(c,this.node_autoCompleteResults,"only");this.set("highlightedSuggestionKey",
"")},searchText:null,_setSearchTextAttr:function(a){a!==this.searchText&&(this.searchText=a||"",this.SearchBox.setValue(this.searchText),this._setVisibleSuggestionsBasedOnSearchText(),this.set("shouldShowSuggestions",this.isFocused&&(!this.shouldOnlySuggestOnFocus||!this.searchText)))},highlightedSuggestionKey:"",_setHighlightedSuggestionKeyAttr:function(a){this.highlightedSuggestionKey=a;this.visibleSuggestions.forEach(e.hitch(this,function(a,b){d.toggle(this.suggestionsMap[a].domNode,"c-autocomplete_suggestion--highlighted",
a===this.highlightedSuggestionKey)}))},selectedSuggestion:"",_setSelectedSuggestionAttr:function(a){this.selectedSuggestion=a;this.suggestionsMap[a]?this.set("searchText",this.suggestionsMap[a].label):a||this.set("searchText","")},shouldShowSuggestions:!1,_setShouldShowSuggestionsAttr:function(a){this.shouldShowSuggestions=a;d.toggle(this.node_autoCompleteResults,"hide",!a)},_setVisibleSuggestionsBasedOnSearchText:function(){this.suggestionFetchingFunction?this.suggestionFetchingFunction(this.searchText).then(function(a){this._generateSuggestionMap(a);
this.set("visibleSuggestions",this.suggestionOrder)}.bind(this)):this.set("visibleSuggestions",(this.searchText?["search"]:[]).concat(this.suggestionOrder).filter(e.hitch(this,function(a){var b=this.suggestionsMap[a];return!this.searchText&&this.shouldSuggestInitially(b)||this.isSearch(a)||this.searchText&&this.shouldSuggestInSearches(b)&&-1<b.label.toLowerCase().indexOf(this.searchText.toLowerCase())})))},_selectSuggestion:function(a,b){b.preventDefault();this.SearchBox.filteredInput.blur();this.set("shouldShowSuggestions",
!1);var c=a||this.highlightedSuggestionKey;if(!c||this.isSearch(c))this.onTextSearch(this.SearchBox.filteredInput.value);else this.onSuggestionSelected(this.suggestionsMap[c])},_onKeyDown:function(a){var b=a.charCode||a.keyCode;b===n.DOWN_ARROW||b===n.UP_ARROW?(a.preventDefault(),a=b===n.DOWN_ARROW?1:-1,this.set("highlightedSuggestionKey",this.visibleSuggestions[this.visibleSuggestions.indexOf(this.highlightedSuggestionKey)+a]||this.highlightedSuggestionKey)):this.highlightedSuggestionKey&&b!==n.ENTER&&
this.set("highlightedSuggestionKey","")},isSearch:function(a){return"search"===a},clear:function(){this.SearchBox._clearSearch()},onClear:function(){},onSuggestionSelected:function(){},shouldSuggestInitially:function(a){return!0},shouldSuggestInSearches:function(a){return!0},onTextSearch:function(){},onFocus:function(a){},postCreate:function(){this.inherited(arguments);this.set("searchText","");this.SearchBox.onChange=this.set.bind(this,"searchText");this.SearchBox.onClear=e.hitch(this,function(){this.set("searchText",
"");this.onClear()});this.SearchBox.onBlur=e.hitch(this,function(){this.set("isFocused",!1);this.set("shouldShowSuggestions",!1)});this.SearchBox.onFocus=e.hitch(this,function(){this.set("isFocused",!0);var a=0<this.visibleSuggestions.length&&(!this.shouldOnlySuggestOnFocus||!this.searchText);a&&this._setVisibleSuggestionsBasedOnSearchText();this.set("shouldShowSuggestions",a);this.onFocus(this.SearchBox.filteredInput)});this.SearchBox.onKeyDown=this._onKeyDown.bind(this);this.domNode.addEventListener("submit",
this._selectSuggestion.bind(this,null))}})})},"mojo/widgets/AutomationOverlay":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/widgets/automation/TriggerContent mojo/widgets/automation/ScheduleContent mojo/widgets/automation/SegmentContent mojo/widgets/automation/PostSendContent mojo/widgets/automation/QueueAddContent mojo/widgets/automation/QueueRemoveContent mojo/url mojo/lib/logger mojo/utils mojo/KeyShortcuts velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T,V){var P=l([k,h,f],{overlayClass:"automation-overlay",s_panelTitle:"Title",s_submitBtn:"Save",s_panelText:"",currentOverlay:null,currentEmailDom:null,currentViewId:null,postMixInProperties:function(){P._main||(P._main=this)},postCreate:function(){this.inherited(arguments);var b=this;a(this.cancel,"click",function(){b.closeView()});a(this.submit,"click",function(){b.submit.disabled=!0;if(b.currentView._validate()){var a=b.currentOverlay._save(),
e=c("[data-view-id\x3d'feedback']",b.currentEmailDom)[0],f=c("[data-view-id\x3d'status']",b.currentEmailDom)[0];if("trigger"===b.currentViewId){var h=c("[data-action\x3d'trigger']",b.currentEmailDom)[0];widgets=A.findWidgets(h);widgets.forEach(function(a){a.destroyRecursive()});h.innerHTML=a.trigger_text;d.parse(h);b.updateNotification("Trigger",e,f);a.order&&_mc.reorderEmails(a.order);_mc.toggleAddWorkflowButton(a.workflow_add_allowed)}"schedule"===b.currentViewId&&(c("[data-action\x3d'schedule']",
b.currentEmailDom)[0].innerHTML=a,b.updateNotification("Schedule",e,f));"postsend"===b.currentViewId&&(c("[data-action\x3d'postsend']",b.currentEmailDom)[0].innerHTML=a?a:"None",b.updateNotification("Actions",e,f));"segment"===b.currentViewId&&(h=c("[data-action\x3d'segment']",b.currentEmailDom)[0],widgets=A.findWidgets(h),widgets.forEach(function(a){a.destroyRecursive()}),h.innerHTML=a?a:"None",d.parse(h),b.updateNotification("Segment",e,f));"queueAdd"!==b.currentViewId&&"queueRemove"!==b.currentViewId||
J.toast(a,"success");b.closeView()}b.submit.disabled=!1});T.onEsc(function(){b.isVisible()&&b.closeView()})},openView:function(a,b,c,d){var e=this;this.currentEmailDom=d;this.currentViewId=b;this.viewContainer.innerHTML="";"trigger"===b&&(this.currentOverlay=c=new z({emailId:a}),u.set(e.panelTitle,"Edit Trigger"),u.set(e.submit,"Update Trigger"),e.currentView=c,t.place(c.domNode,e.viewContainer),c.on("load",function(){}),c.on("delayChange",function(){}));"schedule"===b&&(this.currentOverlay=c=new B({emailId:a}),
u.set(e.panelTitle,"Schedule Email"),u.set(e.submit,"Save Schedule"),e.currentView=c,t.place(c.domNode,e.viewContainer));"segment"===b&&(this.currentOverlay=c=new C({emailId:a}),u.set(e.panelTitle,"Segment Email"),u.set(e.submit,"Save Segment"),e.currentView=c,t.place(c.domNode,e.viewContainer));"postsend"===b&&(this.currentOverlay=c=new D({emailId:a}),u.set(e.panelTitle,"Edit Action"),u.set(e.submit,"Update Action"),e.currentView=c,t.place(c.domNode,e.viewContainer));"queueAdd"===b&&(this.currentOverlay=
c=new F({emailId:a}),u.set(e.panelTitle,"Workflow Queue Management"),u.set(e.submit,"Add Subscribers to Workflow"),e.currentView=c,t.place(c.domNode,e.viewContainer));"queueRemove"===b&&(this.currentOverlay=c=new G({emailId:a}),u.set(e.panelTitle,"Workflow Queue Management"),u.set(e.submit,"Remove Subscribers from Workflow"),e.currentView=c,t.place(c.domNode,e.viewContainer));this.show().then(function(){V(e.viewContainer,{opacity:1},{duration:333})})},closeView:function(){var a=this;V(this.viewContainer,
{opacity:0},{duration:333,complete:function(){a.hide();u.set(a.panelTitle,a.s_panelTitle);u.set(a.submit,a.s_submitBtn);u.set(a.panelText,a.s_panelText);a.currentView&&a.currentView.destroy()}})},updateNotification:function(a,b,c){p.set(c,"opacity",0);b.innerHTML=a+" Updated";p.set(b,"opacity",1);w.chain([v.fadeOut({node:b,duration:3E3,easing:y.expoIn}),v.fadeIn({node:c,duration:500})]).play()}});P.main=function(){return P._main?P._main:null};return P})},"mojo/widgets/automation/TriggerContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dijit/registry dojo/dom-construct dojo/request/xhr mojo/url dojo/dom dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/_base/lang dojo/_base/array mojo/utils mojo/widgets/input/TagList ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){return l(v,{path:"/automations/email-trigger",selectTriggerPanelShow:!1,triggerSettingsPanel:"",triggerSelectPanel:"",currentTrigger:null,triggers:null,currentTriggerName:null,currentTriggerDescription:null,currentTriggerSettings:null,onLoad:function(){var a=this;this.changeTriggerPanel=k("[data-action\x3d'change-trigger']",this.domNode)[0];this.triggerSettingsPanel=k("[data-el\x3d'trigger-settings']",this.domNode)[0];this.triggerSelectPanel=k("[data-el\x3d'select-trigger-panel']",
this.domNode)[0];this.currentTriggerName=k("[data-workflow\x3d'current_trigger_name']",this.domNode)[0];this.currentTriggerDescription=k("[data-workflow\x3d'current_trigger_description']",this.domNode)[0];this.currentTriggerSettings=k("[data-workflow\x3d'current_trigger_settings']",this.domNode)[0];this.currentTriggerDelayUnits=k("[data-workflow\x3d'current_trigger_delay_units']",this.domNode)[0];this.currentTriggerDelayUnit=k("[data-workflow\x3d'delay_unit']",this.domNode)[0];this.delayOffsetBlock=
k("[data-workflow\x3d'delay_offset_block']",this.domNode)[0];this.triggerDelayDirection=k("[data-workflow\x3d'delay_direction']",this.domNode)[0];var c=this._getTriggers(this.emailId);this.currentTrigger=c.current_trigger;this.triggers=c.triggers;this.isMergeBased=c.is_merge_based;this.setDelaySettings(this.currentTrigger);this.onDelayUnitChange();b.add(d.byId("delay_offset_error"),"hide");this.swapTriggerAction(this.currentTrigger);this.currentTrigger.show_delay_direction||b.add(this.triggerDelayDirection,
"hide");this.own(h(this.domNode,"[name\x3ddelay-unit]:change",r.hitch(this,"onDelayUnitChange")),h(this.domNode,'[data-action\x3d"change-trigger"]:click',r.hitch(this,"changeTriggerAction")),h(this.domNode,'[data-action\x3d"select-new-trigger"]:click',r.hitch(this,"selectNewTriggerAction")),h(this.domNode,'[data-action\x3d"add-goal-url"]:click',r.hitch(this,"addGoalUrl")),h(this.domNode,'[data-action\x3d"delete-goal-url"]:click',function(c){c=k(this).parent(".goal-url-container")[0];var d=k("input",
c)[0];n.set(d,"value","");b.remove(c,"show");b.add(c,"hide");a.toggleGoalControls()}));b.add(this.triggerSelectPanel,"hide")},destroy:function(){widgets=a.findWidgets(this.domNode);widgets.forEach(function(a){a.destroyRecursive()});c.destroy(this.domNode)},_getTriggers:function(a){var b;e.post(m.toUrl("/automations/triggers"),{data:{emailId:a},sync:!0,handleAs:"json"}).then(function(a){b=a});return b},changeTriggerAction:function(a){b.toggle(this.triggerSettingsPanel,"hide");b.toggle(this.triggerSelectPanel,
"hide");this.selectTriggerPanelShow?(this.changeTriggerPanel.innerHTML="Change trigger",this.selectTriggerPanelShow=!1):(this.changeTriggerPanel.innerHTML="Cancel new trigger",this.selectTriggerPanelShow=!0)},selectNewTriggerAction:function(a){a=n.get(a.target,"data-workflow-key");a=this.findTriggerWithKey(a);this.swapTriggerAction(a);this.changeTriggerAction();a=d.byId("event_data0");this._clearEventDataValue(a);a=d.byId("event_data1");this._clearEventDataValue(a);a=d.byId("event_data2");this._clearEventDataValue(a);
a=d.byId("event_data3");this._clearEventDataValue(a)},getDelayUnit:function(){return this.currentTriggerDelayUnit.value},getDelayOffset:function(){return this.delayOffsetBlock.value},getDelayDirection:function(){return this.triggerDelayDirection.value},setDelaySettings:function(a){n.set(this.currentTriggerDelayUnit,"value",a.delay_unit);n.set(this.delayOffsetBlock,"value",a.delay_offset);n.set(this.triggerDelayDirection,"value",a.delay_direction)},swapTriggerAction:function(c){c.delay_unit=this.getDelayUnit();
c.delay_offset=this.getDelayOffset();c.delay_direction=this.getDelayDirection();this.currentTrigger=c;this.currentTriggerName.innerHTML=c.name;this.currentTriggerDescription.innerHTML=c.description;widgets=a.findWidgets(this.currentTriggerSettings);widgets.forEach(function(a){a.destroyRecursive()});this.currentTriggerSettings.innerHTML=c.settingsHTML;q.parse(this.currentTriggerSettings);widgets=a.findWidgets(this.currentTriggerDelayUnits);widgets.forEach(function(a){a.destroyRecursive()});this.currentTriggerDelayUnits.innerHTML=
c.delayUnitHTML;q.parse(this.currentTriggerDelayUnits);this.currentTriggerDelayUnit=k("[data-workflow\x3d'delay_unit']",this.domNode)[0];this.own(h(this.domNode,"[name\x3ddelay-unit]:change",r.hitch(this,"onDelayUnitChange")));this.setDelaySettings(c);this.onDelayUnitChange();d.byId("settings_error")&&b.add(d.byId("settings_error"),"hide");"goal"===this.currentTrigger.key&&(k(".goal-url-container",this.domNode).forEach(function(a){var b=""!==k("input",a)[0].value?"show":"hide";k(a).removeClass("hide show").addClass(b)}),
this.toggleGoalControls());if("mdSent"===this.currentTrigger.key||"mdOpen"===this.currentTrigger.key||"mdClick"===this.currentTrigger.key||"mdAny"===this.currentTrigger.key){c=[];try{c=JSON.parse(this.currentTrigger.event_data0);if(null===c||c&&c.constructor!==Array)c=[];c.constructor===Array&&0<=c.indexOf("*|any|*")&&(c=[])}catch(e){}var f=k("[data-mc-taglist]")[0];this.tagList=(new w({values:c,operatorOptions:[{label:"Any",value:"any"}]})).placeAt(f)}},findTriggerWithKey:function(a){var b;this.triggers.forEach(function(c){c.key===
a&&(b=c)});return b},addGoalUrl:function(){var a=k(".goal-url-container",this.domNode),d=k(".goal-events-container",this.domNode)[0];t.some(a,function(a){if(!u.isVisible(a))return k("input",a)[0].value="",b.add(a,"show"),b.remove(a,"hide"),c.place(a,k(".goal-url-inputs-container",d)[0],"last"),!0});this.toggleGoalControls()},toggleGoalControls:function(){var a=k('[data-action\x3d"add-goal-url"]')[0],c=k(".goal-events-container",this.domNode)[0],d=k(".goal-url-container.show",this.domNode).length;
1===d&&(b.remove(a,"hide"),b.remove(c,"multiple-on"));1<d&&3>=d&&(b.remove(a,"hide"),b.add(c,"multiple-on"));4===d&&(b.add(a,"hide"),b.add(c,"multiple-on"))},_validate:function(){if(!this._validateDelay())return b.add(d.byId("delay_offset"),"invalid"),b.remove(d.byId("delay_offset_error"),"hide"),!1;if(this.isMergeBased&&!this._validateMergeDelay())return b.add(d.byId("delay_offset"),"invalid"),b.remove(d.byId("delay_duplicate_error"),"hide"),!1;var a=d.byId("event_data0"),c=d.byId("event_data1"),
e=d.byId("event_data2"),f=d.byId("event_data3");if(!(this._validateEventData(a)&&this._validateEventData(c)&&this._validateEventData(e)&&this._validateEventData(f)))return b.remove(d.byId("settings_error"),"hide"),!1;if("goal"===this.currentTrigger.key&&u.isVisible(a)&&!a.value&&u.isVisible(c)&&!c.value&&u.isVisible(e)&&!e.value&&u.isVisible(f)&&!f.value)return settings_error=d.byId("settings_error"),b.remove(settings_error,"hide"),!1;b.remove(d.byId("delay_offset"),"invalid");b.add(d.byId("delay_offset_error"),
"hide");return!0},_validateDelay:function(){var a=d.byId("delay_offset").value,b=d.byId("delay_unit").value,c=d.byId("delay_direction").value;if("now"==b)return!0;if(!a.match(/^[0-9]+$/))return!1;a=parseInt(a,10);return isNaN(a)||0>=a||999<a||"+"!=c&&"-"!=c?!1:!0},_validateEventData:function(a){if(!a||!u.isVisible(a))return!0;input_type=n.get(a,"type");return"checkbox"==input_type?!0:a.value?!0:(b.add(a,"invalid"),!1)},_validateMergeDelay:function(){var a=!1;e.post(m.toUrl("/automations/validate-merge-delay"),
{data:this._getTriggerSettings(),sync:!0,handleAs:"json"}).then(function(b){a=b.valid});return a},_save:function(){var a={};e.post(m.toUrl("/automations/email-trigger-post"),{data:this._getTriggerSettings(),sync:!0,handleAs:"json"}).then(function(b){a=b});return a},_getTriggerSettings:function(){params={};params.emailId=this.emailId;params.event=this.currentTrigger.key;var a=d.byId("event_data0");params.event_data0=this._getEventDataValue(a);a=d.byId("event_data1");params.event_data1=this._getEventDataValue(a);
a=d.byId("event_data2");params.event_data2=this._getEventDataValue(a);a=d.byId("event_data3");params.event_data3=this._getEventDataValue(a);!this.tagList||"mdSent"!==params.event&&"mdOpen"!==params.event&&"mdClick"!==params.event&&"mdAny"!==params.event||(params.md_tags=JSON.stringify(this.tagList.getValues()));a=d.byId("delay_direction");params.delay_direction=a.value;var b=d.byId("delay_unit");params.delay_unit=b.value;var c=d.byId("delay_offset");params.delay_offset=c.value;params.delay="now"==
b.value?"now":a.value+c.value+" "+b.value;return params},_getEventDataValue:function(a){if(!a)return null;input_type=n.get(a,"type");return"checkbox"==input_type&&a.checked||"checkbox"!=input_type?a.value:null},_clearEventDataValue:function(a){if(!a)return null;input_type=n.get(a,"type");"text"==input_type&&(a.value="")},onDelayUnitChange:function(a){a=this.currentTriggerDelayUnit.value;var c=d.byId("delay_direction");"now"==a?(b.add(this.delayOffsetBlock,"hide"),b.add(c,"hide")):(b.remove(this.delayOffsetBlock,
"hide"),this.isMergeBased&&b.remove(c,"hide"));this.getDelayUnit()||n.set(this.currentTriggerDelayUnit,"value","day")}})})},"mojo/widgets/input/TagList":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/keys dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/dom-attr dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_FocusMixin dijit/form/Select dojo/text!./templates/tag.html dojo/text!./templates/tagList.html dojox/html/entities mojo/widgets/input/_TagBase".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){t=l([x,q,t],{templateString:w,value:"",dataListId:null,postCreate:function(){this.dataListId&&b.set(this.textInput,"list",this.dataListId);this.own(f(this.removeBtn,"click",h.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.destroy()})),f(this.textInput,"keyup",h.hitch(this,function(){this.setValue(this.textInput.value)})));this.on("dblclick",h.hitch(this,"_onDblClick"));this.setValue(this.value);this.viewMode();this.domNode.setAttribute("tabIndex",
"-1")},setValue:function(a){this.inherited(arguments);this.tagLabel.innerHTML=y.encode(a);this._adjustTextInput()},viewMode:function(){e.add(this.domNode,"view-mode");e.remove(this.domNode,"edit-mode");this.focused&&e.add(this.domNode,"active");this._updateValue();this.textInput.blur();this.inherited(arguments)},editMode:function(){e.remove(this.domNode,"view-mode");e.add(this.domNode,"edit-mode");this._adjustTextInput();n.focus(this.textInput);e.remove(this.domNode,"active");this.inherited(arguments)},
_updateValue:function(){this.tagLabel.innerHTML=y.encode(this.getValue());this._adjustTextInput()},_adjustTextInput:function(){var a=m.position(this.tagLabel).w+50;d.set(this.textInput,"width",a+"px")},_onFocus:function(){e.toggle(this.domNode,"active",this.inViewMode());this.inherited(arguments)},_onBlur:function(){e.remove(this.domNode,"active");this.viewMode();this.inherited(arguments)},_onDblClick:function(){this.inViewMode()&&(this.editMode(),this.textInput.select())}});return l([p,q,r],{templateString:v,
TagModel:t,values:[],operator:null,tags:null,focusedTag:null,operatorOptions:null,validValues:null,constructor:function(){this.tags=[]},_addDataList:function(){this.dataListDom||(this.dataListDom=c.create("datalist",{id:this._getDataListId()}),c.place(this.dataListDom,document.body),k.forEach(this.validValues,h.hitch(this,function(a){a=c.create("option",{value:a});c.place(a,this.dataListDom)})))},hasDataList:function(){return this.dataListDom?!0:!1},postCreate:function(){this.validValues&&this._addDataList();
k.forEach(this.values,h.hitch(this,function(a){h.isString(a)?this._addTag(a):this._addTag(a.value,a.label)}));this.operatorOptions?(e.add(this.domNode,"c-tagInput--dropdown"),this.opSelect=new u({"class":"!margin--lv0",value:this.operator,options:this.operatorOptions}),this.opSelect.startup(),this.opSelect.placeAt(this.operatorDom),this.own(f(this.opSelect,"change",h.hitch(this,function(){this.operator=this.opSelect.value}))),this.operator=this.opSelect.value):e.add(this.operatorDom,"hide");this.own(n.watch("curNode",
h.hitch(this,function(a,b,c){c!==this.domNode&&c!==this.tagInputDom||this._addTag().editMode()})),f(this.domNode,"keydown",h.hitch(this,function(b){switch(b.charCode||b.keyCode){case a.ENTER:this._onEnterKey(b);break;case a.TAB:this._onTabKey(b);break;case a.BACKSPACE:this._onBackspace(b);break;case a.DELETE:this._onDeleteKey(b);break;case a.LEFT_ARROW:this._onLeftArrow(b);break;case a.RIGHT_ARROW:this._onRightArrow(b)}})));this.domNode.setAttribute("tabIndex","0")},_onEnterKey:function(a){this.focusedTag&&
this.focusedTag.onEnter()||this.moveToNewTag();a.preventDefault()},moveToNewTag:function(){this.focusedTag&&this.focusedTag.inEditMode()&&(this.focusedTag.viewMode(),null===this._getNextTag()&&this._addTag().editMode())},_onTabKey:function(a){if(this.focusedTag)if(a.shiftKey){var b=this._getPrevTag();b&&(a.stopPropagation(),a.preventDefault(),b.focus())}else if(this.focusedTag===this._lastTag())this.focusedTag.isBlank()||(a.stopPropagation(),a.preventDefault(),this._addTag().editMode());else if(b=
this._getNextTag())a.stopPropagation(),a.preventDefault(),b.focus()},_onBackspace:function(a){this.focusedTag&&(this.focusedTag.inViewMode()?(a.stopPropagation(),a.preventDefault(),this.focusedTag.clear(),this.focusedTag.editMode()):this.focusedTag.isBlank()&&(a.stopPropagation(),a.preventDefault(),a=this._getPrevTag())&&(this.focusedTag.destroy(),a.focus()))},_onDeleteKey:function(a){this.focusedTag&&(this.focusedTag.inViewMode()?(a.stopPropagation(),a.preventDefault(),this.focusedTag.clear(),this.focusedTag.editMode()):
this.focusedTag.isBlank()&&(a.stopPropagation(),a.preventDefault(),a=this._getNextTag())&&(this.focusedTag.destroy(),a.focus()))},_onLeftArrow:function(a){if(this.focusedTag&&(this.focusedTag.inViewMode()||this.focusedTag.inEditMode()&&this.focusedTag.isBlank())){var b=this._getPrevTag();b&&(a.stopPropagation(),a.preventDefault(),b.focus())}},_onRightArrow:function(a){if(this.focusedTag&&this.focusedTag.inViewMode()){var b=this._getNextTag();b?(a.stopPropagation(),a.preventDefault(),b.focus()):this._addTag().editMode()}},
getValues:function(){return k.map(this.tags,function(a){return a.getValue()})},_getDataListId:function(){return this.id+"-data-list"},_addTag:function(a,b){a||(a="");var d={value:a,label:b,tagList:this};this.hasDataList()&&(d.dataListId=this._getDataListId());var e=new this.TagModel(d);e.startup();this.tags.push(e);c.place(e.domNode,this.containerNode);e.on("destroy",h.hitch(this,function(){this._removeTag(e)}));e.watch("mode",h.hitch(this,function(){e.inViewMode()&&e.isBlank()&&e.destroy()}));e.on("focus",
h.hitch(this,function(){this.focusedTag=e}));e.on("blur",h.hitch(this,function(){this.focusedTag=null}));return e},_getTags:function(){return this.tags},_removeTag:function(a){a=this.tags.indexOf(a);0<=a&&this.tags.splice(a,1)},_getNextTag:function(){if(this.focusedTag){var a=this.tags.indexOf(this.focusedTag)+1;return a<this.tags.length&&this.tags[a]?this.tags[a]:null}return null},_getPrevTag:function(){if(this.focusedTag){var a=this.tags.indexOf(this.focusedTag),a=a-1;return 0<=a&&this.tags[a]?
this.tags[a]:null}return null},_lastTag:function(){return this.tags.length?this.tags[this.tags.length-1]:null}})})},"mojo/widgets/input/_TagBase":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin"],function(l,k){return l([k],{value:"",label:null,mode:"view",setValue:function(h){this.value=h},setLabel:function(h){this.label=h},getLabel:function(){return this.label},getValue:function(){return this.value},clear:function(){this.setValue("");this.setLabel("")},viewMode:function(){this.set("mode",
"view")},editMode:function(){this.set("mode","edit")},inEditMode:function(){return"edit"===this.mode},inViewMode:function(){return"view"===this.mode},isBlank:function(){return""===this.getValue()},destroy:function(){this.inherited(arguments);this.onDestroy()},focus:function(){this.domNode.focus()},onEnter:function(){return!1},onDestroy:function(){}})})},"mojo/widgets/automation/_OverlayContentMixin":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/dom-construct dojo/parser dojo/request dijit/registry mojo/url".split(" "),
function(l,k,h,f,a,c,e,m){return l([k],{path:null,emailId:null,postCreate:function(){this.inherited(arguments);this.getView().then(h.hitch(this,function(c){f.place(c,this.domNode);a.parse(this.domNode);this.onLoad()}))},onLoad:function(){},destroy:function(){widgets=e.findWidgets(this.domNode);widgets.forEach(function(a){a.destroyRecursive()});this.inherited(arguments)},getView:function(){return c.get(m.toUrl(this.path),{handleAs:"text",query:{emailId:this.emailId}})}})})},"velocity/velocity.ui":function(){(function(l){"function"===
typeof require&&"object"===typeof exports?module.exports=l():"function"===typeof define&&define.amd?define(["velocity/velocity"],l):l()})(function(){return function(l,k,h,f){function a(a,b){var c=[];if(!a||!b)return!1;e.each([a,b],function(a,b){var d=[];e.each(b,function(a,b){for(;5>b.toString().length;)b="0"+b;d.push(b)});c.push(d.join(""))});return parseFloat(c[0])>parseFloat(c[1])}if(l.Velocity&&l.Velocity.Utilities){var c=l.Velocity,e=c.Utilities;if(a({major:1,minor:1,patch:0},c.version))throw alert("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity."),
Error("Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.");c.RegisterEffect=c.RegisterUI=function(a,b){function h(a,b,d,f){var m=0,k;e.each(a.nodeType?[a]:a,function(a,b){f&&(d+=a*f);k=b.parentNode;e.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(a,d){m+=parseFloat(c.CSS.getPropertyValue(b,d))})});c.animate(k,{height:("In"===b?"+":"-")+"\x3d"+m},{queue:!1,easing:"ease-in-out",duration:d*
("In"===b?.6:1)})}c.Redirects[a]=function(m,k,l,t,u,w){var v=l===t-1;b.defaultDuration="function"===typeof b.defaultDuration?b.defaultDuration.call(u,u):parseFloat(b.defaultDuration);for(t=0;t<b.calls.length;t++){var y=b.calls[t],x=y[0],A=k.duration||b.defaultDuration||1E3,z=y[2]||{},B={};B.duration=A*(y[1]||1);B.queue=k.queue||"";B.easing=z.easing||"ease";B.delay=parseFloat(z.delay)||0;B._cacheValues=z._cacheValues||!0;0===t&&(B.delay+=parseFloat(k.delay)||0,0===l&&(B.begin=function(){k.begin&&k.begin.call(u,
u);var b=a.match(/(In|Out)$/);b&&"In"===b[0]&&x.opacity!==f&&e.each(u.nodeType?[u]:u,function(a,b){c.CSS.setPropertyValue(b,"opacity",0)});k.animateParentHeight&&b&&h(u,b[0],A+B.delay,k.stagger)}),null!==k.display&&(k.display!==f&&"none"!==k.display?B.display=k.display:/In$/.test(a)&&(y=c.CSS.Values.getDisplayType(m),B.display="inline"===y?"inline-block":y)),k.visibility&&"hidden"!==k.visibility&&(B.visibility=k.visibility));if(t===b.calls.length-1){var C=function(){k.display!==f&&"none"!==k.display||
!/Out$/.test(a)||e.each(u.nodeType?[u]:u,function(a,b){c.CSS.setPropertyValue(b,"display","none")});k.complete&&k.complete.call(u,u);w&&w.resolver(u||m)};B.complete=function(){if(b.reset){for(var a in b.reset){var d=b.reset[a];c.CSS.Hooks.registered[a]!==f||"string"!==typeof d&&"number"!==typeof d||(b.reset[a]=[b.reset[a],b.reset[a]])}a={duration:0,queue:!1};v&&(a.complete=C);c.animate(m,b.reset,a)}else v&&C()};"hidden"===k.visibility&&(B.visibility=k.visibility)}c.animate(m,x,B)}};return c};c.RegisterEffect.packagedEffects=
{"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,
"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1E3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",
.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,
rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},
"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,
400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,
translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,
scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%",
"50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],
[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1E3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1E3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1E3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,
-1E3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1E3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1E3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},
.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,
1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},
"transition.slideRightIn":{defaultDuration:1E3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,
calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,
75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,
800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,
800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,
2E3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2E3,2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2E3,
2E3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var m in c.RegisterEffect.packagedEffects)c.RegisterEffect(m,c.RegisterEffect.packagedEffects[m]);c.RunSequence=function(a){var b=e.extend(!0,[],a);1<b.length&&(e.each(b.reverse(),function(a,d){var f=b[a+1];if(f){var h=d.o||d.options,m=f.o||f.options,h=h&&!1===h.sequenceQueue?"begin":"complete",k=m&&m[h],l={};l[h]=function(){var a=
f.e||f.elements,a=a.nodeType?[a]:a;k&&k.call(a,a);c(d)};f.o?f.o=e.extend({},m,l):f.options=e.extend({},m,l)}}),b.reverse());c(b[0])}}}(window.jQuery||window.Zepto||window,window,document)})},"mojo/widgets/automation/ScheduleContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dojo/json dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/request dojo/_base/array dojo/_base/lang dijit/registry mojo/url ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l(u,{path:"/automations/email-schedule",daysSentWidget:null,timewarpWidget:null,onLoad:function(){this.daysSentWidget=r.byId("days-sent");this.timewarpWidget=r.byId("use-timewarp");this.toggleSelectedDaysWarning();this.toggleSendTimeOptions();this.setSelectedDays();this.own(h(this.daysSentWidget,"change",q.hitch(this,"toggleSelectedDaysWarning")),h(this.domNode,"[data-workflow-container\x3ddelay-time] select:change",q.hitch(this,"_evaluateValidTimes")),
h(this.domNode,"select[name\x3dgate-selection]:change",q.hitch(this,"toggleSendTimeOptions")))},destroy:function(){c.destroy(this.domNode);this.daysSentWidget.destroyRecursive();this.timewarpWidget&&this.timewarpWidget.destroyRecursive()},_save:function(){var b="",c=q.mixin({emailId:this.emailId,days:a.stringify(this.getSelectedDays())},this._getSchedulingValues());n.post(t.toUrl("automations/email-schedule-post"),{data:c,sync:!0,handleAs:"text"}).then(function(a){b=a});return b},_validate:function(){return!0},
_getSchedulingValues:function(){var a={};k("input,select",this.domNode).forEach(function(b){"checkbox"!=b.type||b.checked||(b.value=null);a[b.name]||(a[b.name]=b.value)});return a},getSelectedDays:function(){var a={},b=r.byId("days-sent"),b=p.filter(b.options,function(a){return a.selected});p.forEach(b,function(b){a[b.dayOfWeek]=b.value});return a},toggleSelectedDaysWarning:function(){days=this.getSelectedDays();var a=k(".days-warning-message")[0];7>Object.keys(days).length?a.style.display="block":
a.style.display="none"},setSelectedDays:function(){var a=r.byId("days-sent"),b=this._getSavedSelectedDays(),c=[],d;for(d in b)c.push(b[d]);a.options.forEach(function(a){0<=c.indexOf(a.value)?a.selected=!0:a.selected=!1},this);a.onChange();this.toggleSelectedDaysWarning()},_getSavedSelectedDays:function(){var a;n.post(t.toUrl("automations/email-schedule-days"),{data:{emailId:this.emailId},sync:!0,handleAs:"json"}).then(function(b){a=b});return a},toggleSendTimeOptions:function(){var a=k("select[name\x3dgate-selection]",
this.domNode)[0],b=k(".runtime-start",this.domNode)[0],c=k(".runtime-end",this.domNode)[0],d=k(".range-text",this.domNode)[0],e=k(".timezone-label")[0],f=k(".anytime-label")[0];switch(a.value){case "range":b.style.display="block";c.style.display="block";d.style.display="block";e.style.display="block";f.style.display="none";break;case "time_of_event":b.style.display="none";c.style.display="none";d.style.display="none";e.style.display="none";f.style.display="block";break;case "specific_time":b.style.display=
"block",c.style.display="none",d.style.display="none",e.style.display="block",f.style.display="none"}},_evaluateValidTimes:function(){var a=k("[name\x3dstart-delay-hour]",this.domNode)[0],b=k("[name\x3dstart-delay-minute]",this.domNode)[0],c=k("[name\x3dstart-delay-period]",this.domNode)[0],d=k("[name\x3dend-delay-hour]",this.domNode)[0],e=k("[name\x3dend-delay-minute]",this.domNode)[0],f=k("[name\x3dend-delay-period]",this.domNode)[0],h=parseInt(a.value),m=parseInt(b.value),l=c.value,n=parseInt(d.value),
a=parseInt(e.value),b=f.value;p.forEach(f.options,function(a){a.disabled="pm"==l&&"pm"!=a.value?"disabled":null});12==h&&(h=0);"pm"==l&&(h+=12,b="pm",f.value=b);var q=null,r="pm"==b?12:0;p.forEach(d.options,function(a){var b=parseInt(a.value);if(h>b+r)a.disabled="disabled";else{if(null===q||q>b)q=b;a.disabled=null}});null!==q&&n<q&&(n=q,d.value=n);"pm"==b&&(n+=12);var t=null;p.forEach(e.options,function(a){var b=parseInt(a.value);if(h==n&&m>b)a.disabled="disabled";else{if(null===t||t>b)t=b;a.disabled=
null}});null!==t&&a<t&&(e.value=t)}})})},"mojo/widgets/automation/SegmentContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dijit/registry dojo/dom-construct dojo/request/xhr mojo/url mojo/Pusher dojo/dom dojo/_base/array dijit/registry mojo/app/campaigns/recipients mojo/utils dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/_base/lang ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){return l(x,
{path:"/automations/email-segment",selectTriggerPanelShow:!1,triggerSettingsPanel:"",triggerSelectPanel:"",campaignId:null,listId:null,pusherChannel:null,lastJobHash:null,onLoad:function(){var a=this,c=this._getData(this.emailId);this.campaignId=c.campaign_id;this.listId=c.list_id;var d=c.campaign_id,f=c.list_id;formContainer=b.byId("workflow-setup");channelName=this.getPusherChannelName(d);this.pusherChannel=this.initializePusherChannel(channelName);this.pusherChannel.bind("queue_count",function(a){var b=
a.count;!0===this.isMostRecentJob(a.job_hash)&&this.updateQueueCountText(b+" "+(1===b?"subscriber":"subscribers"))},this);this.lastJobHash=this.processInitialQueueCount(d);h(formContainer,"[name\x3dsegment-type]:click",function(){k("[data-mc-segment-options]").style("display","none");k("[data-mc-segment-options\x3d"+this.value+"]").style("display","block");var a;switch(this.value){case "new":a=p.byId("segmentpane-"+f);break;case "saved":a=p.byId("savedsegmentpane");break;default:throw Error("New segment option does not have a handler");
}a.refresh()});var l="segmentpane-"+this.listId;p.byId(l).on("load",function(){q.reloadSegmentCallbacks(l)});h(formContainer,"[name\x3duse-segment]:click",function(){k(".segment-options-container").style("display",this.checked?"":"none");a.updateQueueCountText("Calculating subscribers");a.lastJobHash=a.processCustomSegmentationQueueCount(d,formContainer)});h(formContainer,"[data-workflow-calculate-count]:click",function(b){b.preventDefault();b.stopPropagation();a.updateQueueCountText("Calculating subscribers");
a.lastJobHash=a.processCustomSegmentationQueueCount(d,formContainer)});h(formContainer,"[data-workflow-segment-members]:click",function(b){b.preventDefault();b.stopPropagation();b=y.mixin({id:d,"queue-action":"segmentation",__csrf_token:k("[name\x3d__csrf_token]")[0].value},a._getWorkflowValues(formContainer));e.post(m.toUrl("campaigns/wizard/automation/queue-members"),{data:b,sync:!0});b=m.toUrl("campaigns/segments/popup?id\x3d"+d+"\x26lid\x3d"+f);b=window.open(b,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");
r.checkPopupWin(b)})},destroy:function(){this.pusherChannel&&this.terminatePusherChannel(this.pusherChannel.name);this.inherited(arguments)},_getData:function(a){var b;e.post(m.toUrl("/automations/segment"),{data:{emailId:a},sync:!0,handleAs:"json"}).then(function(a){b=a});return b},_validate:function(){return!0},_save:function(){var a,c=b.byId("workflow-setup"),c=y.mixin({emailId:this.emailId},this._getWorkflowValues(c));e.post(m.toUrl("/automations/email-segment-post"),{data:c,sync:!0,handleAs:"text"}).then(function(b){a=
b});return a},getPusherChannelName:function(a){var b="";e.get(m.toUrl("automations/get-segmentation-channel-name"),{query:{campaign_id:a},sync:!0,handleAs:"json"}).then(function(a){b=a.channel_name});return b},initializePusherChannel:function(a){var b;d.load().then(function(c){b=c.subscribe(a)});return b},terminatePusherChannel:function(a){d.load().then(function(b){b.unsubscribe(a)})},processInitialQueueCount:function(a){var b="";e.post(m.toUrl("/automations/process-segmentation-queue-count"),{data:{campaign_id:a},
sync:!0,handleAs:"json"}).then(function(a){b=a.job_hash});return b},processCustomSegmentationQueueCount:function(a,b){var c=y.mixin({campaign_id:a},this._getWorkflowValues(b)),d="";e.post(m.toUrl("/automations/process-custom-segmentation-queue-count"),{data:c,sync:!0,handleAs:"json"}).then(function(a){d=a.job_hash});return d},isMostRecentJob:function(a){return null!==this.lastJobHash&&this.lastJobHash===a},updateQueueCountText:function(a){k("[data-workflow-segment-members]")[0].innerHTML=a},_updateSegmentCount:function(a,
b){var c=k("[data-workflow-segment-count]");if(c.length){this._clearDelayTimer();c.html("\x3cp\x3e\x26nbsp;\x3c/p\x3e");this.delayTimer=setTimeout(y.hitch(this,function(){c.html("\x3cp\x3eCalculating recipient count...\x3c/p\x3e");this.delayTimer=null}),100);var d=y.hitch(this,function(a){this._clearDelayTimer();a=a.count;c.html("\x3cp\x3e"+('\x3ca href\x3d"#" data-workflow-segment-members\x3e'+a+" subscriber"+(1!=a?"s":"")+"\x3c/a\x3e currently in queue. ")+' \x3ca href\x3d"#" data-workflow-calculate-count\x3eRefresh count\x3c/a\x3e\x3c/p\x3e')}),
e=y.hitch(this,function(){this._clearDelayTimer();c.html('Failed to get queue count. \x3ca href\x3d"#" data-workflow-calculate-count\x3eTry again.\x3c/a\x3e')});this._getSegmentCount(a,b).then(d,e)}},_clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},_getSegmentCount:function(a,b){var c=y.mixin({id:a,"queue-action":"segmentation"},this._getWorkflowValues(b));return e.post(m.toUrl("campaigns/wizard/automation/queue-management-count"),{data:c,handleAs:"json"})},
_getWorkflowValues:function(a){var b={};k("input,select",a).forEach(function(a){var c=a.type||"",d=a.value,e=a.name;"select-multiple"==c&&n.forEach(a.options,function(a){b[e]||(b[e]=[]);a.selected&&b[e].push(a.value)});if("radio"==c||"checkbox"==c)a.checked||(d=null);"tags"==e&&d&&(b[e]||(b.tags=[]),b.tags.push(d));b[e]||(b[e]=d)});return b}})})},"mojo/Pusher":function(){define(["dojo/_base/declare","dojo/request/script","dojo/Deferred","mojo/context","mojo/url"],function(l,k,h,f,a){var c,e;return{load:function(){if(!c||
e&&e.connection&&"disconnected"==e.connection.state){var m=function(){c.reject({error:"timeout"})},d=function(){window.Pusher.channel_auth_endpoint=a.toUrl("/pusher/auth");e=new window.Pusher(f.pusherKey);c.resolve(e)};c=new h;window.Pusher?d():k.get("https://js.pusher.com/2.2/pusher.min.js").then(d,m)}return c.promise},disconnect:function(){e&&e.disconnect()},getSocketId:function(){var a;e&&e.connection&&(a=e.connection.socket_id);return a}}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){function p(a,b){a.canDelete&&w._remove(a.id,b.options.frameDoc,!0)}function q(b){B&&B.length&&(a.forEach(B,function(a){w._remove(a.id,a.frameDoc);a.frameDoc=null}),B=[]);return b.options.jsonp?!b.data:!0}function r(a){return!!this.scriptLoaded}function t(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function u(a,b){if(this.canDelete){var c=this.response.options;B.push({id:this.id,frameDoc:c.ioArgs?c.ioArgs.frameDoc:c.frameDoc});c.ioArgs&&
(c.ioArgs.frameDoc=null);c.frameDoc=null}b?this.reject(b):this.resolve(a)}function w(a,b,d){var f=h.parseArgs(a,h.deepCopy({},b));a=f.url;b=f.options;var m=h.deferred(f,p,q,b.jsonp?null:b.checkString?t:r,u);c.mixin(m,{id:v+y++,canDelete:!1});b.jsonp&&((new RegExp("[?\x26]"+b.jsonp+"\x3d")).test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+b.jsonp+"\x3d"+(b.frameDoc?"parent.":"")+v+"_callbacks."+m.id),m.canDelete=!0,z[m.id]=function(a){f.data=a;m.handleResponse(f)});h.notify&&h.notify.emit("send",f,m.promise.cancel);
if(!b.canAttach||b.canAttach(m)){var l=w._attach(m.id,a,b.frameDoc);if(!b.jsonp&&!b.checkString)var n=e(l,x,function(a){if("load"===a.type||A.test(l.readyState))n.remove(),m.scriptLoaded=a})}k(m);return d?m:m.promise}b.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var v=l.id.replace(/[\/\.\-]/g,"_"),y=0,x=b("script-readystatechange")?"readystatechange":"load",
A=/complete|loaded/,z=f.global[v+"_callbacks"]={},B=[];w.get=w;w._attach=function(a,b,c){c=c||n.doc;var d=c.createElement("script");d.type="text/javascript";d.src=b;d.id=a;d.async=!0;d.charset="utf-8";return c.getElementsByTagName("head")[0].appendChild(d)};w._remove=function(a,b,c){d.destroy(m.byId(a,b));z[a]&&(c?z[a]=function(){delete z[a]}:delete z[a])};w._callbacksProperty=v+"_callbacks";return w})},"mojo/app/campaigns/recipients":function(){define("dojo/query dojo/dom dojo/_base/lang dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/parser dojo/topic dojo/_base/array dojo/request/xhr dojo/dom-form dojo/promise/all dojo/Deferred mojo/utils mojo/url dojo/html dijit/registry codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed codemirror4/addon/display/placeholder".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){var x={},A=u.toUrl("campaigns/segments/add-condition"),z=u.toUrl("campaigns/segments/op"),B=u.toUrl("campaigns/segments/value"),C=u.toUrl("campaigns/segments/extra"),D=u.toUrl("campaigns/segments/count"),F=u.toUrl("campaigns/segments/build-pasted"),G=u.toUrl("campaigns/segments/edit-pasted"),I={TOPIC:"recipients/segment_changed",reloadSegmentCallbacks:function(a,b){l("#"+a+" .segment-field select").forEach(function(a){a.onchange=null;dojo.connect(a,
"onchange",I.segmentFieldChanged)});l("#"+a+" .segment-op select").forEach(function(a){a.onchange=null;dojo.connect(a,"onchange",I.segmentOpChanged)});l("#"+a+" .segment-value select, #"+a+" .segment-value input").forEach(function(a){a.onchange=null;dojo.connect(a,"onchange",I.segmentValueChanged);0==l(".segment-extra input, .segment-extra select",a.parentNode.parentNode).length&&h.hitch(a,I.segmentValueChanged)()});l(".goToNextStepContainer").removeClass("disabled");d.publish(I.TOPIC)},segmentFieldChanged:function(){var a=
this.id.split("-"),c=a[2],d=a[1],a={field:this.value,id:c,lid:d},e=[];e.push(n.post(z,{data:a,handleAs:"text"}).then(function(a){l("#segmentcondition-"+d+"-"+c+" .segment-op")[0].innerHTML=a}));e.push(n.post(B,{data:a,handleAs:"text"}).then(function(a){var e=l("#segmentcondition-"+d+"-"+c+" .segment-value")[0];e.innerHTML=a;b.forEach(e.getElementsByTagName("*"),function(a){a.id&&(a=v.byId(a.id))&&a.destroyRecursive()});m.parse(e)}));var f=v.byId("segment-"+d+"-"+c+"-extra");f&&f.destroyRecursive();
l("#segmentcondition-"+d+"-"+c+" .segment-extra")[0].innerHTML="";"ipgeo"!=this.value&&"source"!=this.value||e.push(n.post(C,{data:a,handleAs:"text"}).then(function(a){var e=l("#segmentcondition-"+d+"-"+c+" .segment-extra")[0];e.innerHTML=a;b.forEach(e.getElementsByTagName("*"),function(a){a.id&&(a=v.byId(a.id))&&a.destroyRecursive()});m.parse(e)}));return q(e).then(function(){I.reloadSegmentCallbacks("segmentpane-"+d)})},segmentOpChanged:function(a){if(this.id){var c="geoin ipgeoin sent notmember within date_within".split(" ");
a=b.some(this.options,function(a){return 0<=b.indexOf(c,a.value)});a||((a=0<=b.indexOf(["blank","blank_not"],this.value))?e.set(this,"data-force-refresh",!0):(a=e.get(this,"data-force-refresh"),e.set(this,"data-force-refresh",!1)));if(a){a=this.id.split("-");var f=a[2],h=a[1];a={field:k.byId("segment-"+h+"-"+f+"-field").value,id:f,lid:h,op:this.value};var p=[];p.push(n.post(B,{data:a,handleAs:"text"}).then(function(a){var c=l("#segmentcondition-"+h+"-"+f+" .segment-value")[0];c.innerHTML=a;b.forEach(c.getElementsByTagName("*"),
function(a){a.id&&(a=v.byId(a.id))&&a.destroyRecursive()});m.parse(c);d.publish(I.TOPIC)}));var r=v.byId("segment-"+h+"-"+f+"-extra");r&&r.destroyRecursive();l("#segmentcondition-"+h+"-"+f+" .segment-extra")[0].innerHTML="";"geoin"!=this.value&&"ipgeoin"!=this.value&&"ipgeonotin"!=this.value&&"ipgeoinzip"!=this.value||p.push(n.post(C,{data:a,handleAs:"text"}).then(function(a){l("#segmentcondition-"+h+"-"+f+" .segment-extra")[0].innerHTML=a}));"ipgeoin"!=this.value&&"ipgeonotin"!=this.value||p.push(n.post(C,
{data:a,handleAs:"text"}).then(function(a){var c=l("#segmentcondition-"+h+"-"+f+" .segment-extra")[0];c.innerHTML=a;b.forEach(c.getElementsByTagName("*"),function(a){a.id&&(a=v.byId(a.id))&&a.destroyRecursive()});m.parse(c)}));q(p).then(function(){I.reloadSegmentCallbacks("segmentpane-"+h)})}}},segmentValueChanged:function(a){if(this.id){a=this.id.split("-");var b=a[2],c=a[1];a=k.byId("segment-"+c+"-"+b+"-field").value;if("timestamp_opt"!=a&&"info_changed"!=a&&"ecomm_date"!=a&&"source"!=a&&"goal_last_visited"!=
a&&"poll"!=a)d.publish(I.TOPIC);else return n.post(C,{data:{field:a,id:b,value:this.value,lid:c},handleAs:"text"}).then(function(a){var e=l("#segmentcondition-"+c+"-"+b+" .segment-extra")[0],f=v.byId("segment-"+c+"-"+b+"-extra");f&&f.destroyRecursive();e.innerHTML=a;m.parse(e);d.publish(I.TOPIC)})}},addSegmentCondition:function(b,c){return n.post(A,{data:{lid:b},handleAs:"text",sync:!0}).then(function(c){var d=0,e=0;l("#segmentpane-"+b+" li.segment-condition").forEach(function(a){a=a.id.split("-")[2];
a>d&&(d=a);++e});if(!(5<=e)){d++;c=c.replace(/\*\|CONDITION_ID\|\*/g,d);var f=document.createElement("li");f.id="segmentcondition-"+b+"-"+d;a.add(f,"segment-condition selfclear");f.innerHTML=c;f=l("#segmentpane-"+b+" ul.segment-conditions")[0].appendChild(f);I.reloadSegmentCallbacks("segmentpane-"+b);m.parse(f);I.setupSegmentButton(b)}})},deleteSegmentCondition:function(a,b){var c=k.byId("segmentcondition-"+a+"-"+b);if(c){var e=v.byId("segment-"+a+"-"+b+"-extra");e&&e.destroyRecursive();c.parentNode.removeChild(c);
I.setupSegmentButton(a)}d.publish(I.TOPIC)},setupSegmentButton:function(a){var b=l("#segmentpane-"+a+" li.segment-condition"),c=b.length,d=0;b.forEach(function(a){a=l(".delete",a)[0];var b=l(".add-button")[0];0==d&&1==c?(b.style.display="",a.style.display="none"):(b.style.display=0==d?"none":4==d?"none":d==c-1?"":"none",a.style.display="");d++});(a=v.byId("segmentation-ad-"+a))&&3<=d&&a.show()},refreshSegmentCount:function(a,b){var c=a+"-"+b,d=x[c];if(d&&!d.isFulfilled())return d;var d=new r,e=this.getSegmentData(a),
f=1E3;(function H(){n.post(D+"?id\x3d"+b+"\x26lid\x3d"+a,{data:e,handleAs:"json"}).then(function(a){"waiting"==a.status?(f=Math.ceil(1.15*f),5E3<f&&(f=5E3),setTimeout(H,f)):d.resolve(a)})})();x[c]=d.promise;return d},openPopup:function(a,b){var c=u.toUrl("/campaigns/segments/popup",{id:b,lid:a}),c=window.open(c,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");t.checkPopupWin(c)},getSegmentData:function(a){var b;b=k.byId("wizard-form")?
k.byId("wizard-form"):k.byId("segment-form-"+a);b=p.toObject(b);b["segment-type"]=b["send-to-segment-radio-"+a];return b},buildSegment:function(a,b){var c=k.byId("build-segment-"+a),d=k.byId("emails_"+a);if(4E4<d.value.split("\n").length)return I.showPastedError(a,"lines"),!1;if(""===d.value.trim())return I.showPastedError(a,"empty"),!1;c&&(e.set(c,"disabled","disabled"),c.innerHTML="Building...");d=k.byId("pasted-form-"+a);n.post(F+"?id\x3d"+b+"\x26lid\x3d"+a,{data:p.toObject(d),handleAs:"html",
sync:!1}).then(function(b){e.remove(c,"disabled");c.innerHTML="Build Segment";b||I.showPastedError(a,"include");b&&I.refreshPastedSegment(a);return!1});return!1},editSegment:function(a,b,c){var d=k.byId("edit-segment-"+a);d&&t.toggleButtonLoadingState(d,"editing...");n.post(G+"?id\x3d"+b,{handleAs:"html",sync:!1}).then(function(b){c&&I.refreshPastedSegment(a);return!1});return!1},showPastedError:function(a,b){var c=k.byId("pasted-error-emails-include-"+a);c.style.display="none";c=k.byId("pasted-error-emails-exclude-"+
a);c.style.display="none";c=k.byId("pasted-error-lines-"+a);c.style.display="none";c=k.byId("pasted-error-empty-"+a);c.style.display="none";"include"==b?(c=p.toObject(k.byId("pasted-form-"+a)),c=k.byId("pasted-error-emails-"+c.pasted_segment_options+"-"+a)):c="lines"==b?k.byId("pasted-error-lines-"+a):k.byId("pasted-error-empty-"+a);c.style.display="block";return!1},refreshPastedSegment:function(a){var b=v.byId("pastedsegmentpane-"+a);b.domNode.style.display="block";b.setHref(b.href).then(function(){k.byId("emails_"+
a)&&I.bindCodeMirror(k.byId("emails_"+a))});return!1},updateEcommSegment:function(a,b){var c=v.byId("ecomm-"+a+"-"+b);c.value&&(k.byId("segment-"+a+"-"+b+"-value").value=c.value,c.set("value","",!1))},bindCodeMirror:function(a){var b=y.fromTextArea(a,{mode:"text",autofocus:!0,tabMode:"indent",indentUnit:2,smartIndent:!1,theme:"default",autoClearEmptyLines:!0,lineWrapping:!1,lineNumbers:!0});b.on("change",function(){b.save()});return b}};return I})},"codemirror4/lib/codemirror":function(){(function(l){if("object"==
typeof exports&&"object"==typeof module)module.exports=l();else{if("function"==typeof define&&define.amd)return define([],l);this.CodeMirror=l()}})(function(){function l(a,c){if(!(this instanceof l))return new l(a,c);this.options=c=c||{};Md(sg,c,!1);r(c);var d=c.value;"string"==typeof d&&(d=new ab(d,c.mode));this.doc=d;var e=this.display=new k(a,d);e.wrapper.CodeMirror=this;b(this);m(this);c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");c.autofocus&&!md&&nb(this);this.state={keyMaps:[],
overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new xe};qa&&11>wa&&setTimeout(Vb(Pb,this,!0),20);de(this);Qe||(Zg(),Qe=!0);var f=this;Va(this,function(){f.curOp.forceUpdate=!0;Jd(f,d);c.autofocus&&!md||yc()==e.input?setTimeout(Vb(ad,f),20):Ad(f);for(var a in nd)if(nd.hasOwnProperty(a))nd[a](f,c[a],Td);y(f);for(a=0;a<Vd.length;++a)Vd[a](f)})}function k(a,b){var c=this.input=ea("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");
Na?c.style.width="1000px":c.setAttribute("wrap","off");Wb&&(c.style.border="1px solid black");c.setAttribute("autocorrect","off");c.setAttribute("autocapitalize","off");c.setAttribute("spellcheck","false");this.inputDiv=ea("div",[c],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");this.scrollbarH=ea("div",[ea("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");this.scrollbarV=ea("div",[ea("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");this.scrollbarFiller=
ea("div",null,"CodeMirror-scrollbar-filler");this.gutterFiller=ea("div",null,"CodeMirror-gutter-filler");this.lineDiv=ea("div",null,"CodeMirror-code");this.selectionDiv=ea("div",null,null,"position: relative; z-index: 1");this.cursorDiv=ea("div",null,"CodeMirror-cursors");this.measure=ea("div",null,"CodeMirror-measure");this.lineMeasure=ea("div",null,"CodeMirror-measure");this.lineSpace=ea("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");
this.mover=ea("div",[ea("div",[this.lineSpace],"CodeMirror-lines")],null,"position: relative");this.sizer=ea("div",[this.mover],"CodeMirror-sizer");this.heightForcer=ea("div",null,null,"position: absolute; height: "+Jb+"px; width: 1px;");this.gutters=ea("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=ea("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=ea("div",[this.inputDiv,this.scrollbarH,this.scrollbarV,
this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");qa&&8>wa&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Wb&&(c.style.width="0px");Na||(this.scroller.draggable=!0);Ee&&(this.inputDiv.style.height="1px",this.inputDiv.style.position="absolute");qa&&8>wa&&(this.scrollbarH.style.minHeight=this.scrollbarV.style.minWidth="18px");a.appendChild?a.appendChild(this.wrapper):a(this.wrapper);this.viewFrom=this.viewTo=b.first;this.view=[];this.externalMeasured=null;this.lastSizeC=
this.viewOffset=0;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=this.updateLineNumbers=null;this.prevInput="";this.pollingFast=this.alignWidgets=!1;this.poll=new xe;this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.inaccurateSelection=!1;this.maxLine=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.selForContextMenu=null}function h(a){a.doc.mode=l.getMode(a.options,a.doc.modeOption);
f(a)}function f(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null)});a.doc.frontier=a.doc.first;va(a,100);a.state.modeGen++;a.curOp&&pb(a)}function a(a){var b=Ma(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/Ob(a.display)-3);return function(e){if(Bb(a.doc,e))return 0;var f=0;if(e.widgets)for(var h=0;h<e.widgets.length;h++)e.widgets[h].height&&(f+=e.widgets[h].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function c(b){var c=
b.doc,d=a(b);c.iter(function(a){var b=d(a);b!=a.height&&rb(a,b)})}function e(a){var b=Ja[a.options.keyMap].style;a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(b?" cm-keymap-"+b:"")}function m(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");Nb(a)}function d(a){b(a);pb(a);setTimeout(function(){v(a)},20)}function b(a){var b=a.display.gutters,c=a.options.gutters;Eb(b);for(var d=
0;d<c.length;++d){var e=c[d],f=b.appendChild(ea("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none";n(a)}function n(a){var b=a.display.gutters.offsetWidth;a.display.sizer.style.marginLeft=b+"px";a.display.scrollbarH.style.left=a.options.fixedGutter?b+"px":0}function p(a){if(0==a.height)return 0;for(var b=a.text.length,c,d=a;c=uc(d,!0);)c=c.find(0,!0),d=c.from.line,b+=c.from.ch-c.to.ch;
for(d=a;c=uc(d,!1);)c=c.find(0,!0),b-=d.text.length-c.from.ch,d=c.to.line,b+=d.text.length-c.to.ch;return b}function q(a){var b=a.display;a=a.doc;b.maxLine=ia(a,a.first);b.maxLineLength=p(b.maxLine);b.maxLineChanged=!0;a.iter(function(a){var c=p(a);c>b.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function r(a){var b=Xa(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):-1<b&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,
1))}function t(a){var b=a.display.scroller;return{clientHeight:b.clientHeight,barHeight:a.display.scrollbarV.clientHeight,scrollWidth:b.scrollWidth,clientWidth:b.clientWidth,hScrollbarTakesSpace:a.display.scroller.clientHeight-a.display.wrapper.clientHeight<Jb-3,barWidth:a.display.scrollbarH.clientWidth,docHeight:Math.round(a.doc.height+lb(a.display))}}function u(a,b){b||(b=t(a));var c=a.display,d=Cf(c.measure),e=b.docHeight+Jb,f=b.scrollWidth>b.clientWidth;f&&b.scrollWidth<=b.clientWidth+1&&0<d&&
!b.hScrollbarTakesSpace&&(f=!1);var h=e>b.clientHeight;h?(c.scrollbarV.style.display="block",c.scrollbarV.style.bottom=f?d+"px":"0",c.scrollbarV.firstChild.style.height=Math.max(0,e-b.clientHeight+(b.barHeight||c.scrollbarV.clientHeight))+"px"):(c.scrollbarV.style.display="",c.scrollbarV.firstChild.style.height="0");f?(c.scrollbarH.style.display="block",c.scrollbarH.style.right=h?d+"px":"0",c.scrollbarH.firstChild.style.width=b.scrollWidth-b.clientWidth+(b.barWidth||c.scrollbarH.clientWidth)+"px"):
(c.scrollbarH.style.display="",c.scrollbarH.firstChild.style.width="0");f&&h?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=c.scrollbarFiller.style.width=d+"px"):c.scrollbarFiller.style.display="";f&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=d+"px",c.gutterFiller.style.width=c.gutters.offsetWidth+"px"):c.gutterFiller.style.display="";!a.state.checkedOverlayScrollbar&&0<b.clientHeight&&(0===
d&&(c.scrollbarV.style.minWidth=c.scrollbarH.style.minHeight=Gb&&!Kf?"12px":"18px",d=function(b){(b.target||b.srcElement)!=c.scrollbarV&&(b.target||b.srcElement)!=c.scrollbarH&&Qa(a,nc)(b)},na(c.scrollbarV,"mousedown",d),na(c.scrollbarH,"mousedown",d)),a.state.checkedOverlayScrollbar=!0)}function w(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop,d=Math.floor(d-a.lineSpace.offsetTop),e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight,d=Mc(b,d),e=Mc(b,e);if(c&&c.ensure){var f=
c.ensure.from.line;c=c.ensure.to.line;if(f<d)return{from:f,to:Mc(b,Tb(ia(b,f))+a.wrapper.clientHeight)};if(Math.min(c,b.lastLine())>=e)return{from:Mc(b,Tb(ia(b,c))-a.wrapper.clientHeight),to:c}}return{from:d,to:Math.max(e,d+1)}}function v(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=A(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+"px",h=0;h<c.length;h++)if(!c[h].hidden){a.options.fixedGutter&&c[h].gutter&&(c[h].gutter.style.left=
f);var m=c[h].alignable;if(m)for(var k=0;k<m.length;k++)m[k].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+"px")}}function y(a){if(!a.options.lineNumbers)return!1;var b=a.doc,b=x(a.options,b.first+b.size-1),c=a.display;if(b.length!=c.lineNumChars){var d=c.measure.appendChild(ea("div",[ea("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),e=d.firstChild.offsetWidth,d=d.offsetWidth-e;c.lineGutter.style.width="";c.lineNumInnerWidth=Math.max(e,c.lineGutter.offsetWidth-d);c.lineNumWidth=
c.lineNumInnerWidth+d;c.lineNumChars=c.lineNumInnerWidth?b.length:-1;c.lineGutter.style.width=c.lineNumWidth+"px";n(a);return!0}return!1}function x(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function A(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function z(a,b,c){var d=a.display;this.viewport=b;this.visible=w(d,a.doc,b);this.editorIsHidden=!d.wrapper.offsetWidth;this.wrapperHeight=d.wrapper.clientHeight;this.oldViewFrom=d.viewFrom;this.oldViewTo=
d.viewTo;this.oldScrollerWidth=d.scroller.clientWidth;this.force=c;this.dims=L(a)}function B(a,b){var c=a.display,d=a.doc;if(b.editorIsHidden)return $b(a),!1;if(!b.force&&b.visible.from>=c.viewFrom&&b.visible.to<=c.viewTo&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo)&&0==Xf(a))return!1;y(a)&&($b(a),b.dims=L(a));var e=d.first+d.size,f=Math.max(b.visible.from-a.options.viewportMargin,d.first),h=Math.min(e,b.visible.to+a.options.viewportMargin);c.viewFrom<f&&20>f-c.viewFrom&&(f=Math.max(d.first,
c.viewFrom));c.viewTo>h&&20>c.viewTo-h&&(h=Math.min(e,c.viewTo));db&&(f=Hd(a.doc,f),h=Lc(a.doc,h));d=f!=c.viewFrom||h!=c.viewTo||c.lastSizeC!=b.wrapperHeight;e=a.display;0==e.view.length||f>=e.viewTo||h<=e.viewFrom?(e.view=ce(a,f,h),e.viewFrom=f):(e.viewFrom>f?e.view=ce(a,f,e.viewFrom).concat(e.view):e.viewFrom<f&&(e.view=e.view.slice(vd(a,f))),e.viewFrom=f,e.viewTo<h?e.view=e.view.concat(ce(a,e.viewTo,h)):e.viewTo>h&&(e.view=e.view.slice(0,vd(a,h))));e.viewTo=h;c.viewOffset=Tb(ia(a.doc,c.viewFrom));
a.display.mover.style.top=c.viewOffset+"px";h=Xf(a);if(!d&&0==h&&!b.force&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo))return!1;f=yc();4<h&&(c.lineDiv.style.display="none");J(a,c.updateLineNumbers,b.dims);4<h&&(c.lineDiv.style.display="");f&&yc()!=f&&f.offsetHeight&&f.focus();Eb(c.cursorDiv);Eb(c.selectionDiv);d&&(c.lastSizeC=b.wrapperHeight,va(a,400));c.updateLineNumbers=null;return!0}function C(a,b){for(var c=b.viewport,d=!0;;d=!1){if(!d||!a.options.lineWrapping||b.oldScrollerWidth==
a.display.scroller.clientWidth)if(c&&null!=c.top&&(c={top:Math.min(a.doc.height+lb(a.display)-Jb-a.display.scroller.clientHeight,c.top)}),b.visible=w(a.display,a.doc,c),b.visible.from>=a.display.viewFrom&&b.visible.to<=a.display.viewTo)break;if(!B(a,b))break;G(a);d=t(a);jb(a);F(a,d);u(a,d)}Ra(a,"update",a);a.display.viewFrom==b.oldViewFrom&&a.display.viewTo==b.oldViewTo||Ra(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo)}function D(a,b){var c=new z(a,b);B(a,c)&&(G(a),C(a,c),c=t(a),jb(a),
F(a,c),u(a,c))}function F(a,b){a.display.sizer.style.minHeight=a.display.heightForcer.style.top=b.docHeight+"px";a.display.gutters.style.height=Math.max(b.docHeight,b.clientHeight-Jb)+"px"}function G(a){a=a.display;for(var b=a.lineDiv.offsetTop,c=0;c<a.view.length;c++){var d=a.view[c],e;if(!d.hidden){if(qa&&8>wa){var f=d.node.offsetTop+d.node.offsetHeight;e=f-b;b=f}else e=d.node.getBoundingClientRect(),e=e.bottom-e.top;f=d.line.height-e;2>e&&(e=Ma(a));if(.001<f||-.001>f)if(rb(d.line,e),I(d.line),
d.rest)for(e=0;e<d.rest.length;e++)I(d.rest[e])}}}function I(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.offsetHeight}function L(a){for(var b=a.display,c={},d={},e=b.gutters.firstChild,f=0;e;e=e.nextSibling,++f)c[a.options.gutters[f]]=e.offsetLeft,d[a.options.gutters[f]]=e.offsetWidth;return{fixedPos:A(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function J(a,b,c){function d(b){var c=b.nextSibling;
Na&&Gb&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b);return c}for(var e=a.display,f=a.options.lineNumbers,h=e.lineDiv,m=h.firstChild,k=e.view,e=e.viewFrom,l=0;l<k.length;l++){var n=k[l];if(!n.hidden)if(n.node){for(;m!=n.node;)m=d(m);m=f&&null!=b&&b<=e&&n.lineNumber;n.changes&&(-1<Xa(n.changes,"gutter")&&(m=!1),T(a,n,e,c));m&&(Eb(n.lineNumber),n.lineNumber.appendChild(document.createTextNode(x(a.options,e))));m=n.node.nextSibling}else{var p=H(a,n,e,c);h.insertBefore(p,
m)}e+=n.size}for(;m;)m=d(m)}function T(a,b,c,d){for(var e=0;e<b.changes.length;e++){var f=b.changes[e];if("text"==f){var f=b,h=f.text.className,m=P(a,f);f.text==f.node&&(f.node=m.pre);f.text.parentNode.replaceChild(m.pre,f.text);f.text=m.pre;m.bgClass!=f.bgClass||m.textClass!=f.textClass?(f.bgClass=m.bgClass,f.textClass=m.textClass,K(f)):h&&(f.text.className=h)}else if("gutter"==f)M(a,b,c,d);else if("class"==f)K(b);else if("widget"==f){f=b;h=d;f.alignable&&(f.alignable=null);for(var m=f.node.firstChild,
k=void 0;m;m=k)k=m.nextSibling,"CodeMirror-linewidget"==m.className&&f.node.removeChild(m);X(f,h)}}b.changes=null}function V(a){a.node==a.text&&(a.node=ea("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),qa&&8>wa&&(a.node.style.zIndex=2));return a.node}function P(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):gg(a,b)}function K(a){var b=a.bgClass?
a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;b&&(b+=" CodeMirror-linebackground");if(a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var c=V(a);a.background=c.insertBefore(ea("div",null,b),c.firstChild)}a.line.wrapClass?V(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");a.text.className=(a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass)||""}function M(a,b,c,d){b.gutter&&(b.node.removeChild(b.gutter),
b.gutter=null);var e=b.line.gutterMarkers;if(a.options.lineNumbers||e){var f=V(b),f=b.gutter=f.insertBefore(ea("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px"),b.text);!a.options.lineNumbers||e&&e["CodeMirror-linenumbers"]||(b.lineNumber=f.appendChild(ea("div",x(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(e)for(b=
0;b<a.options.gutters.length;++b){c=a.options.gutters[b];var h=e.hasOwnProperty(c)&&e[c];h&&f.appendChild(ea("div",[h],"CodeMirror-gutter-elt","left: "+d.gutterLeft[c]+"px; width: "+d.gutterWidth[c]+"px"))}}}function H(a,b,c,d){var e=P(a,b);b.text=b.node=e.pre;e.bgClass&&(b.bgClass=e.bgClass);e.textClass&&(b.textClass=e.textClass);K(b);M(a,b,c,d);X(b,d);return b.node}function X(a,b){R(a.line,a,b,!0);if(a.rest)for(var c=0;c<a.rest.length;c++)R(a.rest[c],a,b,!1)}function R(a,b,c,d){if(a.widgets){var e=
V(b),f=0;for(a=a.widgets;f<a.length;++f){var h=a[f],m=ea("div",[h.node],"CodeMirror-linewidget");h.handleMouseEvents||(m.ignoreEvents=!0);var k=h,l=m,n=c;if(k.noHScroll){(b.alignable||(b.alignable=[])).push(l);var p=n.wrapperWidth;l.style.left=n.fixedPos+"px";k.coverGutter||(p-=n.gutterTotalWidth,l.style.paddingLeft=n.gutterTotalWidth+"px");l.style.width=p+"px"}k.coverGutter&&(l.style.zIndex=5,l.style.position="relative",k.noHScroll||(l.style.marginLeft=-n.gutterTotalWidth+"px"));d&&h.above?e.insertBefore(m,
b.gutter||b.text):e.appendChild(m);Ra(h,"redraw")}}}function N(a){return aa(a.line,a.ch)}function Q(a,b){return 0>oa(a,b)?b:a}function S(a,b){return 0>oa(a,b)?a:b}function Y(a,b){this.ranges=a;this.primIndex=b}function O(a,b){this.anchor=a;this.head=b}function W(a,b){var c=a[b];a.sort(function(a,b){return oa(a.from(),b.from())});b=Xa(a,c);for(c=1;c<a.length;c++){var d=a[c],e=a[c-1];if(0<=oa(e.to(),d.from())){var f=S(e.from(),d.from()),h=Q(e.to(),d.to()),d=e.empty()?d.from()==d.head:e.from()==e.head;
c<=b&&--b;a.splice(--c,2,new O(d?h:f,d?f:h))}}return new Y(a,b)}function da(a,b){return new Y([new O(a,b||a)],0)}function ca(a,b){if(b.line<a.first)return aa(a.first,0);var c=a.first+a.size-1;if(b.line>c)return aa(c,ia(a,c).text.length);var c=ia(a,b.line).text.length,d=b.ch,c=null==d||d>c?aa(b.line,c):0>d?aa(b.line,0):b;return c}function Da(a,b){return b>=a.first&&b<a.first+a.size}function ua(a,b,c,d){return a.cm&&a.cm.display.shift||a.extend?(a=b.anchor,d&&(b=0>oa(c,a),b!=0>oa(d,a)?(a=c,c=d):b!=
0>oa(c,d)&&(c=d)),new O(a,c)):new O(d||c,c)}function eb(a,b,c,d){ta(a,new Y([ua(a,a.sel.primary(),b,c)],0),d)}function fb(a,b,c){for(var d=[],e=0;e<a.sel.ranges.length;e++)d[e]=ua(a,a.sel.ranges[e],b[e],null);b=W(d,a.sel.primIndex);ta(a,b,c)}function La(a,b,c,d){var e=a.sel.ranges.slice(0);e[b]=c;ta(a,W(e,a.sel.primIndex),d)}function ja(a,b){var c={ranges:b.ranges,update:function(b){this.ranges=[];for(var c=0;c<b.length;c++)this.ranges[c]=new O(ca(a,b[c].anchor),ca(a,b[c].head))}};Ba(a,"beforeSelectionChange",
a,c);a.cm&&Ba(a.cm,"beforeSelectionChange",a.cm,c);return c.ranges!=b.ranges?W(c.ranges,c.ranges.length-1):b}function ob(a,b,c){var d=a.history.done,e=xa(d);e&&e.ranges?(d[d.length-1]=b,Aa(a,b,c)):ta(a,b,c)}function ta(a,b,c){Aa(a,b,c);b=a.sel;var d=a.cm?a.cm.curOp.id:NaN,e=a.history,f=c&&c.origin,h;if(!(h=d==e.lastSelOp)&&(h=f&&e.lastSelOrigin==f)&&!(h=e.lastModTime==e.lastSelTime&&e.lastOrigin==f)){h=xa(e.done);var m=f.charAt(0);h="*"==m||"+"==m&&h.ranges.length==b.ranges.length&&h.somethingSelected()==
b.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}h?e.done[e.done.length-1]=b:sb(b,e.done);e.lastSelTime=+new Date;e.lastSelOrigin=f;e.lastSelOp=d;c&&!1!==c.clearRedo&&we(e.undone)}function Aa(a,b,c){if(Db(a,"beforeSelectionChange")||a.cm&&Db(a.cm,"beforeSelectionChange"))b=ja(a,b);var d=c&&c.bias||(0>oa(b.primary().head,a.sel.primary().head)?-1:1);Ua(a,hb(a,b,d,!0));c&&!1===c.scroll||!a.cm||ed(a.cm)}function Ua(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=
a.cm.curOp.selectionChanged=!0,jg(a.cm)),Ra(a,"cursorActivity",a))}function Ca(a){Ua(a,hb(a,a.sel,null,!1),jc)}function hb(a,b,c,d){for(var e,f=0;f<b.ranges.length;f++){var h=b.ranges[f],m=sa(a,h.anchor,c,d),k=sa(a,h.head,c,d);if(e||m!=h.anchor||k!=h.head)e||(e=b.ranges.slice(0,f)),e[f]=new O(m,k)}return e?W(e,b.primIndex):b}function sa(a,b,c,d){var e=!1,f=b,h=c||1;a.cantEdit=!1;a:for(;;){var m=ia(a,f.line);if(m.markedSpans)for(var k=0;k<m.markedSpans.length;++k){var l=m.markedSpans[k],n=l.marker;
if((null==l.from||(n.inclusiveLeft?l.from<=f.ch:l.from<f.ch))&&(null==l.to||(n.inclusiveRight?l.to>=f.ch:l.to>f.ch))){if(d&&(Ba(n,"beforeCursorEnter"),n.explicitlyCleared))if(m.markedSpans){--k;continue}else break;if(n.atomic){k=n.find(0>h?-1:1);if(0==oa(k,f)&&(k.ch+=h,0>k.ch?k=k.line>a.first?ca(a,aa(k.line-1)):null:k.ch>m.text.length&&(k=k.line<a.first+a.size-1?aa(k.line+1,0):null),!k)){if(e){if(!d)return sa(a,b,c,!0);a.cantEdit=!0;return aa(a.first,0)}e=!0;k=b;h=-h}f=k;continue a}}}return f}}function Xb(a){for(var b=
a.display,c=a.doc,d={},e=d.cursors=document.createDocumentFragment(),f=d.selection=document.createDocumentFragment(),h=0;h<c.sel.ranges.length;h++){var m=c.sel.ranges[h],k=m.empty();if(k||a.options.showCursorWhenSelecting){var l=a,n=e,p=xb(l,m.head,"div",null,null,!l.options.singleCursorHeightPerLine),q=n.appendChild(ea("div","\u00a0","CodeMirror-cursor"));q.style.left=p.left+"px";q.style.top=p.top+"px";q.style.height=Math.max(0,p.bottom-p.top)*l.options.cursorHeight+"px";p.other&&(l=n.appendChild(ea("div",
"\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),l.style.display="",l.style.left=p.other.left+"px",l.style.top=p.other.top+"px",l.style.height=.85*(p.other.bottom-p.other.top)+"px")}k||Dc(a,m,f)}a.options.moveInputWithCursor&&(a=xb(a,c.sel.primary().head,"div"),c=b.wrapper.getBoundingClientRect(),e=b.lineDiv.getBoundingClientRect(),d.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,a.top+e.top-c.top)),d.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,a.left+e.left-c.left)));return d}
function Ta(a,b){Ia(a.display.cursorDiv,b.cursors);Ia(a.display.selectionDiv,b.selection);null!=b.teTop&&(a.display.inputDiv.style.top=b.teTop+"px",a.display.inputDiv.style.left=b.teLeft+"px")}function jb(a){Ta(a,Xb(a))}function Dc(a,b,c){function d(a,b,c,e){0>b&&(b=0);b=Math.round(b);e=Math.round(e);m.appendChild(ea("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?n-a:c)+"px; height: "+(e-b)+"px"))}function e(b,c,f){var m=ia(h,b),k=m.text.length,
p,q;$g(Cb(m),c||0,null==f?k:f,function(e,h,r){var t=Fc(a,aa(b,e),"div",m,"left"),v,x;e==h?(v=t,r=x=t.left):(v=Fc(a,aa(b,h-1),"div",m,"right"),"rtl"==r&&(r=t,t=v,v=r),r=t.left,x=v.right);null==c&&0==e&&(r=l);3<v.top-t.top&&(d(r,t.top,null,t.bottom),r=l,t.bottom<v.top&&d(r,t.bottom,null,v.top));null==f&&h==k&&(x=n);if(!p||t.top<p.top||t.top==p.top&&t.left<p.left)p=t;if(!q||v.bottom>q.bottom||v.bottom==q.bottom&&v.right>q.right)q=v;r<l+1&&(r=l);d(r,v.top,x-r,v.bottom)});return{start:p,end:q}}var f=a.display,
h=a.doc,m=document.createDocumentFragment(),k=Yb(a.display),l=k.left,n=f.lineSpace.offsetWidth-k.right,f=b.from();b=b.to();if(f.line==b.line)e(f.line,f.ch,b.ch);else{var p=ia(h,f.line),k=ia(h,b.line),k=Ab(p)==Ab(k),f=e(f.line,f.ch,k?p.text.length+1:null).end;b=e(b.line,k?0:null,b.ch).start;k&&(f.top<b.top-2?(d(f.right,f.top,null,f.bottom),d(l,b.top,b.left,b.bottom)):d(f.right,f.top,b.left-f.right,f.bottom));f.bottom<b.top&&d(l,f.bottom,null,b.top)}c.appendChild(m)}function Za(a){if(a.state.focused){var b=
a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(b.cursorDiv.style.visibility="hidden")}}function va(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,Vb(gb,a))}function gb(a){var b=a.doc;b.frontier<b.first&&(b.frontier=b.first);if(!(b.frontier>=a.display.viewTo)){var c=+new Date+
a.options.workTime,d=Cc(b.mode,kb(a,b.frontier)),e=[];b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(f){if(b.frontier>=a.display.viewFrom){var h=f.styles,m=re(a,f,d,!0);f.styles=m.styles;var k=f.styleClasses;(m=m.classes)?f.styleClasses=m:k&&(f.styleClasses=null);k=!h||h.length!=f.styles.length||k!=m&&(!k||!m||k.bgClass!=m.bgClass||k.textClass!=m.textClass);for(m=0;!k&&m<h.length;++m)k=h[m]!=f.styles[m];k&&e.push(b.frontier);f.stateAfter=Cc(b.mode,d)}else te(a,f.text,d),
f.stateAfter=0==b.frontier%5?Cc(b.mode,d):null;++b.frontier;if(+new Date>c)return va(a,a.options.workDelay),!0});e.length&&Va(a,function(){for(var b=0;b<e.length;b++)ac(a,e[b],"text")})}}function tb(a,b,c){for(var d,e,f=a.doc,h=c?-1:b-(a.doc.mode.innerMode?1E3:100);b>h;--b){if(b<=f.first)return f.first;var m=ia(f,b-1);if(m.stateAfter&&(!c||b<=f.frontier))return b;m=ib(m.text,null,a.options.tabSize);if(null==e||d>m)e=b-1,d=m}return e}function kb(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;
var f=tb(a,b,c),h=f>d.first&&ia(d,f-1).stateAfter,h=h?Cc(d.mode,h):Of(d.mode);d.iter(f,b,function(c){te(a,c.text,h);c.stateAfter=f==b-1||0==f%5||f>=e.viewFrom&&f<e.viewTo?Cc(d.mode,h):null;++f});c&&(d.frontier=f);return h}function lb(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Yb(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=Ia(a.measure,ea("pre","x")),b=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,b={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};
isNaN(b.left)||isNaN(b.right)||(a.cachedPaddingH=b);return b}function lc(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[vd(a,b)];var c=a.display.externalMeasured;if(c&&b>=c.lineN&&b<c.lineN+c.size)return c}function Zb(a,b){var c=Ga(b),d=lc(a,c);d&&!d.text?d=null:d&&d.changes&&T(a,d,c,L(a));if(!d){var e;e=Ab(b);d=Ga(e);e=a.display.externalMeasured=new Yf(a.doc,e,d);e.lineN=d;d=e.built=gg(a,e);e.text=d.pre;Ia(a.display.lineMeasure,d.pre);d=e}a:if(e=d,e.line==b)c={map:e.measure.map,
cache:e.measure.cache};else{for(var f=0;f<e.rest.length;f++)if(e.rest[f]==b){c={map:e.measure.maps[f],cache:e.measure.caches[f]};break a}for(f=0;f<e.rest.length;f++)if(Ga(e.rest[f])>c){c={map:e.measure.maps[f],cache:e.measure.caches[f],before:!0};break a}c=void 0}return{line:b,view:d,rect:null,map:c.map,cache:c.cache,before:c.before,hasHeights:!1}}function pa(a,b,c,d,e){b.before&&(c=-1);var f=c+(d||"");if(b.cache.hasOwnProperty(f))a=b.cache[f];else{b.rect||(b.rect=b.view.text.getBoundingClientRect());
if(!b.hasHeights){var h=b.view,m=b.rect,k=a.options.lineWrapping,l=k&&a.display.scroller.clientWidth;if(!h.measure.heights||k&&h.measure.width!=l){var n=h.measure.heights=[];if(k)for(h.measure.width=l,h=h.text.firstChild.getClientRects(),k=0;k<h.length-1;k++){var l=h[k],p=h[k+1];2<Math.abs(l.bottom-p.bottom)&&n.push((l.bottom+p.top)/2-m.top)}n.push(m.bottom-m.top)}b.hasHeights=!0}var m=d,n=b.map,q,r,t,v;for(d=0;d<n.length;d+=3){var x=n[d],u=n[d+1];if(c<x)r=0,t=1,v="left";else if(c<u)r=c-x,t=r+1;else if(d==
n.length-3||c==u&&n[d+3]>c)t=u-x,r=t-1,c>=u&&(v="right");if(null!=r){q=n[d+2];x==u&&m==(q.insertLeft?"left":"right")&&(v=m);if("left"==m&&0==r)for(;d&&n[d-2]==n[d-3]&&n[d-1].insertLeft;)q=n[(d-=3)+2],v="left";if("right"==m&&r==u-x)for(;d<n.length-3&&n[d+3]==n[d+4]&&!n[d+5].insertLeft;)q=n[(d+=3)+2],v="right";break}}if(3==q.nodeType)for(;;){for(;r&&ld(b.line.text.charAt(x+r));)--r;for(;x+t<u&&ld(b.line.text.charAt(x+t));)++t;if(qa&&9>wa&&0==r&&t==u-x)c=q.parentNode.getBoundingClientRect();else if(qa&&
a.options.lineWrapping){var z=ha(q,r,t).getClientRects();c=z.length?z["right"==m?z.length-1:0]:Lf}else c=ha(q,r,t).getBoundingClientRect()||Lf;if(c.left||c.right||0==r)break;t=r;--r;v="right"}else 0<r&&(v=m="right"),c=a.options.lineWrapping&&1<(z=q.getClientRects()).length?z["right"==m?z.length-1:0]:q.getBoundingClientRect();!(qa&&9>wa)||r||c&&(c.left||c.right)||(c=(q=q.parentNode.getClientRects()[0])?{left:q.left,right:q.left+Ob(a.display),top:q.top,bottom:q.bottom}:Lf);qa&&11>wa&&(q=c,(r=!window.screen||
null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=ub?r=ub:(x=Ia(a.display.measure,ea("span","x")),r=x.getBoundingClientRect(),x=ha(x,0,1).getBoundingClientRect(),r=ub=1<Math.abs(r.left-x.left)),r=!r),r?c=q:(r=screen.logicalXDPI/screen.deviceXDPI,x=screen.logicalYDPI/screen.deviceYDPI,c={left:q.left*r,right:q.right*r,top:q.top*x,bottom:q.bottom*x}));q=c.top-b.rect.top;r=c.bottom-b.rect.top;x=(q+r)/2;u=b.view.measure.heights;for(d=0;d<u.length-1&&!(x<u[d]);d++);v={left:("right"==
v?c.right:c.left)-b.rect.left,right:("left"==v?c.left:c.right)-b.rect.left,top:d?u[d-1]:0,bottom:u[d]};c.left||c.right||(v.bogus=!0);a.options.singleCursorHeightPerLine||(v.rtop=q,v.rbottom=r);a=v;a.bogus||(b.cache[f]=a)}return{left:a.left,right:a.right,top:e?a.rtop:a.top,bottom:e?a.rbottom:a.bottom}}function Uc(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function wb(a){a.display.externalMeasure=null;Eb(a.display.lineMeasure);
for(var b=0;b<a.display.view.length;b++)Uc(a.display.view[b])}function Nb(a){wb(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}function Ec(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=Id(b.widgets[e]);c.top+=f;c.bottom+=f}if("line"==d)return c;d||(d="local");b=Tb(b);b="local"==d?b+a.display.lineSpace.offsetTop:b-a.display.viewOffset;if("page"==
d||"window"==d)a=a.display.lineSpace.getBoundingClientRect(),b+=a.top+("window"==d?0:window.pageYOffset||(document.documentElement||document.body).scrollTop),d=a.left+("window"==d?0:window.pageXOffset||(document.documentElement||document.body).scrollLeft),c.left+=d,c.right+=d;c.top+=b;c.bottom+=b;return c}function fa(a,b,c){if("div"==c)return b;var d=b.left;b=b.top;"page"==c?(d-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,b-=window.pageYOffset||(document.documentElement||
document.body).scrollTop):"local"!=c&&c||(c=a.display.sizer.getBoundingClientRect(),d+=c.left,b+=c.top);a=a.display.lineSpace.getBoundingClientRect();return{left:d-a.left,top:b-a.top}}function Fc(a,b,c,d,e){d||(d=ia(a.doc,b.line));var f=d;b=b.ch;d=pa(a,Zb(a,d),b,e);return Ec(a,f,d,c)}function xb(a,b,c,d,e,f){function h(b,m){var k=pa(a,e,b,m?"right":"left",f);m?k.left=k.right:k.right=k.left;return Ec(a,d,k,c)}function m(a,b){var c=k[b],d=c.level%2;a==Ef(c)&&b&&c.level<k[b-1].level?(c=k[--b],a=Ff(c)-
(c.level%2?0:1),d=!0):a==Ff(c)&&b<k.length-1&&c.level<k[b+1].level&&(c=k[++b],a=Ef(c)-c.level%2,d=!1);return d&&a==c.to&&a>c.from?h(a-1):h(a,d)}d=d||ia(a.doc,b.line);e||(e=Zb(a,d));var k=Cb(d);b=b.ch;if(!k)return h(b);var l=Od(k,b),l=m(b,l);null!=vb&&(l.other=m(b,vb));return l}function yb(a,b){var c=0;b=ca(a.doc,b);a.options.lineWrapping||(c=Ob(a.display)*b.ch);var d=ia(a.doc,b.line),e=Tb(d)+a.display.lineSpace.offsetTop;return{left:c,right:c,top:e,bottom:e+d.height}}function mb(a,b,c,d){a=aa(a,b);
a.xRel=d;c&&(a.outside=!0);return a}function Ha(a,b,c){var d=a.doc;c+=a.display.viewOffset;if(0>c)return mb(d.first,0,!0,-1);var e=Mc(d,c),f=d.first+d.size-1;if(e>f)return mb(d.first+d.size-1,ia(d,f).text.length,!0,1);0>b&&(b=0);for(d=ia(d,e);;)if(e=$a(a,d,e,b,c),f=(d=uc(d,!1))&&d.find(0,!0),d&&(e.ch>f.from.ch||e.ch==f.from.ch&&0<e.xRel))e=Ga(d=f.to.line);else return e}function $a(a,b,c,d,e){function f(d){d=xb(a,aa(c,d),"line",b,l);m=!0;if(h>d.bottom)return d.left-k;if(h<d.top)return d.left+k;m=!1;
return d.left}var h=e-Tb(b),m=!1,k=2*a.display.wrapper.clientWidth,l=Zb(a,b),n=Cb(b),p=b.text.length;e=Be(b);var q=Nd(b),r=f(e),t=m,v=f(q),x=m;if(d>v)return mb(c,q,x,1);for(;;){if(n?q==e||q==De(b,e,1):1>=q-e){n=d<r||d-r<=v-d?e:q;for(d-=n==e?r:v;ld(b.text.charAt(n));)++n;return mb(c,n,n==e?t:x,-1>d?-1:1<d?1:0)}var u=Math.ceil(p/2),z=e+u;if(n)for(var z=e,w=0;w<u;++w)z=De(b,z,1);w=f(z);if(w>d){q=z;v=w;if(x=m)v+=1E3;p=u}else e=z,r=w,t=m,p-=u}}function Ma(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;
if(null==Ac){Ac=ea("pre");for(var b=0;49>b;++b)Ac.appendChild(document.createTextNode("x")),Ac.appendChild(ea("br"));Ac.appendChild(document.createTextNode("x"))}Ia(a.measure,Ac);b=Ac.offsetHeight/50;3<b&&(a.cachedTextHeight=b);Eb(a.measure);return b||1}function Ob(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=ea("span","xxxxxxxxxx"),c=ea("pre",[b]);Ia(a.measure,c);b=b.getBoundingClientRect();b=(b.right-b.left)/10;2<b&&(a.cachedCharWidth=b);return b||10}function za(a){a.curOp={cm:a,
viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Ie};Pc?Pc.ops.push(a.curOp):a.curOp.ownsGroup=Pc={ops:[a.curOp],delayedCallbacks:[]}}function Pa(a){if(a=a.curOp.ownsGroup)try{var b=a.delayedCallbacks,c=0;do{for(;c<b.length;c++)b[c]();for(var d=0;d<a.ops.length;d++){var e=a.ops[d];if(e.cursorActivityHandlers)for(;e.cursorActivityCalled<
e.cursorActivityHandlers.length;)e.cursorActivityHandlers[e.cursorActivityCalled++](e.cm)}}while(c<b.length)}finally{Pc=null;for(b=0;b<a.ops.length;b++)a.ops[b].cm.curOp=null;a=a.ops;for(b=0;b<a.length;b++)e=a[b],c=e.cm,d=c.display,e.updateMaxLine&&q(c),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<d.viewFrom||e.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&c.options.lineWrapping,e.update=e.mustUpdate&&new z(c,e.mustUpdate&&{top:e.scrollTop,
ensure:e.scrollToPos},e.forceUpdate);for(b=0;b<a.length;b++)e=a[b],e.updatedDisplay=e.mustUpdate&&B(e.cm,e.update);for(b=0;b<a.length;b++){e=a[b];c=e.cm;d=c.display;e.updatedDisplay&&G(c);e.barMeasure=t(c);if(d.maxLineChanged&&!c.options.lineWrapping){var f=void 0,f=d.maxLine.text.length,f=pa(c,Zb(c,d.maxLine),f,void 0);e.adjustWidthTo=f.left+3;e.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+e.adjustWidthTo+Jb-d.scroller.clientWidth)}if(e.updatedDisplay||e.selectionChanged)e.newSelectionNodes=Xb(c)}for(b=
0;b<a.length;b++)e=a[b],c=e.cm,null!=e.adjustWidthTo&&(c.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<c.doc.scrollLeft&&bc(c,Math.min(c.display.scroller.scrollLeft,e.maxScrollLeft),!0),c.display.maxLineChanged=!1),e.newSelectionNodes&&Ta(c,e.newSelectionNodes),e.updatedDisplay&&F(c,e.barMeasure),(e.updatedDisplay||e.startHeight!=c.doc.height)&&u(c,e.barMeasure),e.selectionChanged&&Za(c),c.state.focused&&e.updateInput&&Pb(c,e.typing);for(b=0;b<a.length;b++){e=a[b];c=e.cm;d=c.display;
f=c.doc;null!=e.adjustWidthTo&&1<Math.abs(e.barMeasure.scrollWidth-c.display.scroller.scrollWidth)&&u(c);e.updatedDisplay&&C(c,e.update);null==d.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(d.wheelStartX=d.wheelStartY=null);null!=e.scrollTop&&d.scroller.scrollTop!=e.scrollTop&&(d.scroller.scrollTop=d.scrollbarV.scrollTop=f.scrollTop=Math.max(0,Math.min(d.scroller.scrollHeight-d.scroller.clientHeight,e.scrollTop)));null!=e.scrollLeft&&d.scroller.scrollLeft!=e.scrollLeft&&(d.scroller.scrollLeft=
d.scrollbarH.scrollLeft=f.scrollLeft=Math.max(0,Math.min(d.scroller.scrollWidth-d.scroller.clientWidth,e.scrollLeft)),v(c));if(e.scrollToPos){var h=void 0;a:{var h=ca(f,e.scrollToPos.from),m=ca(f,e.scrollToPos.to),k=e.scrollToPos.margin;for(null==k&&(k=0);;){var l=!1,n=xb(c,h),p=m&&m!=h?xb(c,m):n,p=Cd(c,Math.min(n.left,p.left),Math.min(n.top,p.top)-k,Math.max(n.left,p.left),Math.max(n.bottom,p.bottom)+k),r=c.doc.scrollTop,x=c.doc.scrollLeft;null!=p.scrollTop&&(oc(c,p.scrollTop),1<Math.abs(c.doc.scrollTop-
r)&&(l=!0));null!=p.scrollLeft&&(bc(c,p.scrollLeft),1<Math.abs(c.doc.scrollLeft-x)&&(l=!0));if(!l){h=n;break a}}}e.scrollToPos.isCursor&&c.state.focused&&(m=h,k=c.display,l=k.sizer.getBoundingClientRect(),h=null,0>m.top+l.top?h=!0:m.bottom+l.top>(window.innerHeight||document.documentElement.clientHeight)&&(h=!1),null==h||pg||(m=ea("div","\u200b",null,"position: absolute; top: "+(m.top-k.viewOffset-c.display.lineSpace.offsetTop)+"px; height: "+(m.bottom-m.top+Jb)+"px; left: "+m.left+"px; width: 2px;"),
c.display.lineSpace.appendChild(m),m.scrollIntoView(h),c.display.lineSpace.removeChild(m)))}h=e.maybeHiddenMarkers;m=e.maybeUnhiddenMarkers;if(h)for(k=0;k<h.length;++k)h[k].lines.length||Ba(h[k],"hide");if(m)for(k=0;k<m.length;++k)m[k].lines.length&&Ba(m[k],"unhide");d.wrapper.offsetHeight&&(f.scrollTop=c.display.scroller.scrollTop);e.updatedDisplay&&Na&&(c.options.lineWrapping&&(d=e.barMeasure,c.display.sizer.offsetWidth+c.display.gutters.offsetWidth<c.display.scroller.clientWidth-1&&(c.display.sizer.style.minHeight=
c.display.heightForcer.style.top="0px",c.display.gutters.style.height=d.docHeight+"px")),e.barMeasure.scrollWidth>e.barMeasure.clientWidth&&e.barMeasure.scrollWidth<e.barMeasure.clientWidth+1&&!(c.display.scroller.clientHeight-c.display.wrapper.clientHeight<Jb-3)&&u(c));e.changeObjs&&Ba(c,"changes",c,e.changeObjs)}}}function Va(a,b){if(a.curOp)return b();za(a);try{return b()}finally{Pa(a)}}function Qa(a,b){return function(){if(a.curOp)return b.apply(a,arguments);za(a);try{return b.apply(a,arguments)}finally{Pa(a)}}}
function Wa(a){return function(){if(this.curOp)return a.apply(this,arguments);za(this);try{return a.apply(this,arguments)}finally{Pa(this)}}}function cb(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);za(b);try{return a.apply(this,arguments)}finally{Pa(b)}}}function Yf(a,b,c){for(var d=this.line=b,e;d=uc(d,!1);)d=d.find(1,!0).line,(e||(e=[])).push(d);this.size=(this.rest=e)?Ga(xa(this.rest))-c+1:1;this.node=this.text=null;this.hidden=Bb(a,b)}function ce(a,b,c){var d=
[],e;for(e=b;e<c;)b=new Yf(a.doc,ia(a.doc,e),e),e+=b.size,d.push(b);return d}function pb(a,b,c,d){null==b&&(b=a.doc.first);null==c&&(c=a.doc.first+a.doc.size);d||(d=0);var e=a.display;d&&c<e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>b)&&(e.updateLineNumbers=b);a.curOp.viewChanged=!0;if(b>=e.viewTo)db&&Hd(a.doc,b)<e.viewTo&&$b(a);else if(c<=e.viewFrom)db&&Lc(a.doc,c+d)>e.viewFrom?$b(a):(e.viewFrom+=d,e.viewTo+=d);else if(b<=e.viewFrom&&c>=e.viewTo)$b(a);else if(b<=e.viewFrom){var f=ud(a,
c,c+d,1);f?(e.view=e.view.slice(f.index),e.viewFrom=f.lineN,e.viewTo+=d):$b(a)}else if(c>=e.viewTo)(f=ud(a,b,b,-1))?(e.view=e.view.slice(0,f.index),e.viewTo=f.lineN):$b(a);else{var f=ud(a,b,b,-1),h=ud(a,c,c+d,1);f&&h?(e.view=e.view.slice(0,f.index).concat(ce(a,f.lineN,h.lineN)).concat(e.view.slice(h.index)),e.viewTo+=d):$b(a)}if(a=e.externalMeasured)c<a.lineN?a.lineN+=d:b<a.lineN+a.size&&(e.externalMeasured=null)}function ac(a,b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;
e&&b>=e.lineN&&b<e.lineN+e.size&&(d.externalMeasured=null);b<d.viewFrom||b>=d.viewTo||(a=d.view[vd(a,b)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==Xa(a,c)&&a.push(c)))}function $b(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function vd(a,b){if(b>=a.display.viewTo)return null;b-=a.display.viewFrom;if(0>b)return null;for(var c=a.display.view,d=0;d<c.length;d++)if(b-=c[d].size,0>b)return d}function ud(a,b,c,d){var e=vd(a,b),f=a.display.view;if(!db||
c==a.doc.first+a.doc.size)return{index:e,lineN:c};for(var h=0,m=a.display.viewFrom;h<e;h++)m+=f[h].size;if(m!=b){if(0<d){if(e==f.length-1)return null;b=m+f[e].size-b;e++}else b=m-b;c+=b}for(;Hd(a.doc,c)!=c;){if(e==(0>d?0:f.length-1))return null;c+=d*f[e-(0>d?1:0)].size;e+=d}return{index:e,lineN:c}}function Xf(a){a=a.display.view;for(var b=0,c=0;c<a.length;c++){var d=a[c];d.hidden||d.node&&!d.changes||++b}return b}function be(a){a.display.pollingFast||a.display.poll.set(a.options.pollInterval,function(){Re(a);
a.state.focused&&be(a)})}function wd(a){function b(){Re(a)||c?(a.display.pollingFast=!1,be(a)):(c=!0,a.display.poll.set(60,b))}var c=!1;a.display.pollingFast=!0;a.display.poll.set(20,b)}function Re(a){var b=a.display.input,c=a.display.prevInput,d=a.doc;if(!a.state.focused||ra(b)&&!c||yd(a)||a.options.disableInput)return!1;a.state.pasteIncoming&&a.state.fakedLastChar&&(b.value=b.value.substring(0,b.value.length-1),a.state.fakedLastChar=!1);var e=b.value;if(e==c&&!a.somethingSelected())return!1;if(qa&&
9<=wa&&a.display.inputHasSelection===e||Gb&&/[\uf700-\uf7ff]/.test(e))return Pb(a),!1;var f=!a.curOp;f&&za(a);a.display.shift=!1;8203!=e.charCodeAt(0)||d.sel!=a.display.selForContextMenu||c||(c="\u200b");for(var h=0,m=Math.min(c.length,e.length);h<m&&c.charCodeAt(h)==e.charCodeAt(h);)++h;var m=e.slice(h),k=Kb(m),l=null;a.state.pasteIncoming&&1<d.sel.ranges.length&&(Bc&&Bc.join("\n")==m?l=0==d.sel.ranges.length%Bc.length&&Ld(Bc,Kb):k.length==d.sel.ranges.length&&(l=Ld(k,function(a){return[a]})));for(var n=
d.sel.ranges.length-1;0<=n;n--){var p=d.sel.ranges[n],q=p.from(),r=p.to();h<c.length?q=aa(q.line,q.ch-(c.length-h)):a.state.overwrite&&p.empty()&&!a.state.pasteIncoming&&(r=aa(r.line,Math.min(ia(d,r.line).text.length,r.ch+xa(k).length)));var t=a.curOp.updateInput,r={from:q,to:r,text:l?l[n%l.length]:k,origin:a.state.pasteIncoming?"paste":a.state.cutIncoming?"cut":"+input"};sc(a.doc,r);Ra(a,"inputRead",a,r);if(m&&!a.state.pasteIncoming&&a.options.electricChars&&a.options.smartIndent&&100>p.head.ch&&
(!n||d.sel.ranges[n-1].head.line!=p.head.line))if(q=a.getModeAt(p.head),q.electricChars)for(r=0;r<q.electricChars.length;r++){if(-1<m.indexOf(q.electricChars.charAt(r))){Ed(a,p.head.line,"smart");break}}else q.electricInput&&(r=hc(r),q.electricInput.test(ia(d,r.line).text.slice(0,r.ch))&&Ed(a,p.head.line,"smart"))}ed(a);a.curOp.updateInput=t;a.curOp.typing=!0;1E3<e.length||-1<e.indexOf("\n")?b.value=a.display.prevInput="":a.display.prevInput=e;f&&Pa(a);a.state.pasteIncoming=a.state.cutIncoming=!1;
return!0}function Pb(a,b){var c,d,e=a.doc;a.somethingSelected()?(a.display.prevInput="",c=e.sel.primary(),d=(c=Me&&(100<c.to().line-c.from().line||1E3<(d=a.getSelection()).length))?"-":d||a.getSelection(),a.display.input.value=d,a.state.focused&&$d(a.display.input),qa&&9<=wa&&(a.display.inputHasSelection=d)):b||(a.display.prevInput=a.display.input.value="",qa&&9<=wa&&(a.display.inputHasSelection=null));a.display.inaccurateSelection=c}function nb(a){"nocursor"==a.options.readOnly||md&&yc()==a.display.input||
a.display.input.focus()}function xd(a){a.state.focused||(nb(a),ad(a))}function yd(a){return a.options.readOnly||a.doc.cantEdit}function de(a){function b(){a.state.focused&&setTimeout(Vb(nb,a),0)}function c(b){Ub(a,b)||Qf(b)}function d(b){if(a.somethingSelected())Bc=a.getSelections(),e.inaccurateSelection&&(e.prevInput="",e.inaccurateSelection=!1,e.input.value=Bc.join("\n"),$d(e.input));else{for(var c=[],f=[],h=0;h<a.doc.sel.ranges.length;h++){var m=a.doc.sel.ranges[h].head.line,m={anchor:aa(m,0),
head:aa(m+1,0)};f.push(m);c.push(a.getRange(m.anchor,m.head))}"cut"==b.type?a.setSelections(f,null,jc):(e.prevInput="",e.input.value=c.join("\n"),$d(e.input));Bc=c}"cut"==b.type&&(a.state.cutIncoming=!0)}var e=a.display;na(e.scroller,"mousedown",Qa(a,nc));qa&&11>wa?na(e.scroller,"dblclick",Qa(a,function(b){if(!Ub(a,b)){var c=Vc(a,b);!c||Xc(a,b,"gutterClick",!0,Ra)||mc(a.display,b)||(Sa(b),b=le(a,c),eb(a.doc,b.anchor,b.head))}})):na(e.scroller,"dblclick",function(b){Ub(a,b)||Sa(b)});na(e.lineSpace,
"selectstart",function(a){mc(e,a)||Sa(a)});Ge||na(e.scroller,"contextmenu",function(b){Zf(a,b)});na(e.scroller,"scroll",function(){e.scroller.clientHeight&&(oc(a,e.scroller.scrollTop),bc(a,e.scroller.scrollLeft,!0),Ba(a,"scroll",a))});na(e.scrollbarV,"scroll",function(){e.scroller.clientHeight&&oc(a,e.scrollbarV.scrollTop)});na(e.scrollbarH,"scroll",function(){e.scroller.clientHeight&&bc(a,e.scrollbarH.scrollLeft)});na(e.scroller,"mousewheel",function(b){ge(a,b)});na(e.scroller,"DOMMouseScroll",function(b){ge(a,
b)});na(e.scrollbarH,"mousedown",b);na(e.scrollbarV,"mousedown",b);na(e.wrapper,"scroll",function(){e.wrapper.scrollTop=e.wrapper.scrollLeft=0});na(e.input,"keyup",function(b){Ye.call(a,b)});na(e.input,"input",function(){qa&&9<=wa&&a.display.inputHasSelection&&(a.display.inputHasSelection=null);wd(a)});na(e.input,"keydown",Qa(a,Xe));na(e.input,"keypress",Qa(a,Ze));na(e.input,"focus",Vb(ad,a));na(e.input,"blur",Vb(Ad,a));a.options.dragDrop&&(na(e.scroller,"dragstart",function(b){if(qa&&(!a.state.draggingText||
100>+new Date-Mf))Qf(b);else if(!Ub(a,b)&&!mc(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.setDragImage&&!Jf)){var c=ea("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";Fb&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop);b.dataTransfer.setDragImage(c,0,0);Fb&&c.parentNode.removeChild(c)}}),na(e.scroller,"dragenter",c),na(e.scroller,"dragover",c),na(e.scroller,
"drop",Qa(a,fe)));na(e.scroller,"paste",function(b){mc(e,b)||(a.state.pasteIncoming=!0,nb(a),wd(a))});na(e.input,"paste",function(){if(Na&&!a.state.fakedLastChar&&!(200>new Date-a.state.lastMiddleDown)){var b=e.input.selectionStart,c=e.input.selectionEnd;e.input.value+="$";e.input.selectionEnd=c;e.input.selectionStart=b;a.state.fakedLastChar=!0}a.state.pasteIncoming=!0;wd(a)});na(e.input,"cut",d);na(e.input,"copy",d);Ee&&na(e.sizer,"mouseup",function(){yc()==e.input&&e.input.blur();nb(a)})}function Se(a){var b=
a.display;b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null;a.setSize()}function mc(a,b){for(var c=b.target||b.srcElement;c!=a.wrapper;c=c.parentNode)if(!c||c.ignoreEvents||c.parentNode==a.sizer&&c!=a.mover)return!0}function Vc(a,b,c,d){var e=a.display;if(!c&&(c=b.target||b.srcElement,c==e.scrollbarH||c==e.scrollbarV||c==e.scrollbarFiller||c==e.gutterFiller))return null;var f,h,e=e.lineSpace.getBoundingClientRect();try{f=b.clientX-e.left,h=b.clientY-e.top}catch(m){return null}b=Ha(a,f,h);
var k;d&&1==b.xRel&&(k=ia(a.doc,b.line).text).length==b.ch&&(d=ib(k,k.length,a.options.tabSize)-k.length,b=aa(b.line,Math.max(0,Math.round((f-Yb(a.display).left)/Ob(a.display))-d)));return b}function nc(a){if(!Ub(this,a)){var b=this.display;b.shift=a.shiftKey;if(mc(b,a))Na||(b.scroller.draggable=!1,setTimeout(function(){b.scroller.draggable=!0},100));else if(!Xc(this,a,"gutterClick",!0,Ra)){var c=Vc(this,a);window.focus();switch(ig(a)){case 1:c?ee(this,a,c):(a.target||a.srcElement)==b.scroller&&Sa(a);
break;case 2:Na&&(this.state.lastMiddleDown=+new Date);c&&eb(this.doc,c);setTimeout(Vb(nb,this),20);Sa(a);break;case 3:Ge&&Zf(this,a)}}}}function ee(a,b,c){setTimeout(Vb(xd,a),0);var d=+new Date,e;Rd&&Rd.time>d-400&&0==oa(Rd.pos,c)?e="triple":Qd&&Qd.time>d-400&&0==oa(Qd.pos,c)?(e="double",Rd={time:d,pos:c}):(e="single",Qd={time:d,pos:c});var d=a.doc.sel,f=Gb?b.metaKey:b.ctrlKey;a.options.dragDrop&&eh&&!yd(a)&&"single"==e&&-1<d.contains(c)&&d.somethingSelected()?Wc(a,b,c,f):Te(a,b,c,e,f)}function Wc(a,
b,c,d){var e=a.display,f=Qa(a,function(h){Na&&(e.scroller.draggable=!1);a.state.draggingText=!1;Ib(document,"mouseup",f);Ib(e.scroller,"drop",f);10>Math.abs(b.clientX-h.clientX)+Math.abs(b.clientY-h.clientY)&&(Sa(h),d||eb(a.doc,c),nb(a),qa&&9==wa&&setTimeout(function(){document.body.focus();nb(a)},20))});Na&&(e.scroller.draggable=!0);a.state.draggingText=f;e.scroller.dragDrop&&e.scroller.dragDrop();na(document,"mouseup",f);na(e.scroller,"drop",f)}function Te(a,b,c,d,e){function f(b){if(0!=oa(r,b))if(r=
b,"rect"==d){for(var e=[],h=a.options.tabSize,m=ib(ia(l,c.line).text,c.ch,h),k=ib(ia(l,b.line).text,b.ch,h),t=Math.min(m,k),m=Math.max(m,k),k=Math.min(c.line,b.line),v=Math.min(a.lastLine(),Math.max(c.line,b.line));k<=v;k++){var x=ia(l,k).text,u=xf(x,t,h);t==m?e.push(new O(aa(k,u),aa(k,u))):x.length>u&&e.push(new O(aa(k,u),aa(k,xf(x,m,h))))}e.length||e.push(new O(c,c));ta(l,W(q.ranges.slice(0,p).concat(e),p),{origin:"*mouse",scroll:!1});a.scrollIntoView(b)}else e=n,h=e.anchor,t=b,"single"!=d&&(b=
"double"==d?le(a,b):new O(aa(b.line,0),ca(l,aa(b.line+1,0))),0<oa(b.anchor,h)?(t=b.head,h=S(e.from(),b.anchor)):(t=b.anchor,h=Q(e.to(),b.head))),e=q.ranges.slice(0),e[p]=new O(ca(l,h),t),ta(l,W(e,p),Lb)}function h(b){var c=++v,e=Vc(a,b,!0,"rect"==d);if(e)if(0!=oa(e,r)){xd(a);f(e);var m=w(k,l);(e.line>=m.to||e.line<m.from)&&setTimeout(Qa(a,function(){v==c&&h(b)}),150)}else{var n=b.clientY<t.top?-20:b.clientY>t.bottom?20:0;n&&setTimeout(Qa(a,function(){v==c&&(k.scroller.scrollTop+=n,h(b))}),50)}}function m(b){v=
Infinity;Sa(b);nb(a);Ib(document,"mousemove",x);Ib(document,"mouseup",u);l.history.lastSelOrigin=null}var k=a.display,l=a.doc;Sa(b);var n,p,q=l.sel;e&&!b.shiftKey?(p=l.sel.contains(c),n=-1<p?l.sel.ranges[p]:new O(c,c)):n=l.sel.primary();b.altKey?(d="rect",e||(n=new O(c,c)),c=Vc(a,b,!0,!0),p=-1):"double"==d?(b=le(a,c),n=a.display.shift||l.extend?ua(l,n,b.anchor,b.head):b):"triple"==d?(b=new O(aa(c.line,0),ca(l,aa(c.line+1,0))),n=a.display.shift||l.extend?ua(l,n,b.anchor,b.head):b):n=ua(l,n,c);e?-1<
p?La(l,p,n,Lb):(p=l.sel.ranges.length,ta(l,W(l.sel.ranges.concat([n]),p),{scroll:!1,origin:"*mouse"})):(p=0,ta(l,new Y([n],0),Lb),q=l.sel);var r=c,t=k.wrapper.getBoundingClientRect(),v=0,x=Qa(a,function(a){ig(a)?h(a):m(a)}),u=Qa(a,m);na(document,"mousemove",x);na(document,"mouseup",u)}function Xc(a,b,c,d,e){try{var f=b.clientX,h=b.clientY}catch(m){return!1}if(f>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&Sa(b);d=a.display;var k=d.lineDiv.getBoundingClientRect();if(h>k.bottom||
!Db(a,c))return wf(b);h-=k.top-d.viewOffset;for(k=0;k<a.options.gutters.length;++k){var l=d.gutters.childNodes[k];if(l&&l.getBoundingClientRect().right>=f)return f=Mc(a.doc,h),e(a,c,a,f,a.options.gutters[k],b),wf(b)}}function fe(a){var b=this;if(!Ub(b,a)&&!mc(b.display,a)){Sa(a);qa&&(Mf=+new Date);var c=Vc(b,a,!0),d=a.dataTransfer.files;if(c&&!yd(b))if(d&&d.length&&window.FileReader&&window.File){var e=d.length,f=Array(e),h=0;a=function(a,d){var m=new FileReader;m.onload=Qa(b,function(){f[d]=m.result;
if(++h==e){c=ca(b.doc,c);var a={from:c,to:c,text:Kb(f.join("\n")),origin:"paste"};sc(b.doc,a);ob(b.doc,da(c,hc(a)))}});m.readAsText(a)};for(var m=0;m<e;++m)a(d[m],m)}else if(b.state.draggingText&&-1<b.doc.sel.contains(c))b.state.draggingText(a),setTimeout(Vb(nb,b),20);else try{if(f=a.dataTransfer.getData("Text")){if(b.state.draggingText&&(Gb?!a.metaKey:!a.ctrlKey))var k=b.listSelections();Aa(b.doc,da(c,c));if(k)for(m=0;m<k.length;++m)Bd(b.doc,"",k[m].anchor,k[m].head,"drag");b.replaceSelection(f,
"around","paste");nb(b)}}catch(l){}}}function oc(a,b){2>Math.abs(a.doc.scrollTop-b)||(a.doc.scrollTop=b,Pd||D(a,{top:b}),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b),a.display.scrollbarV.scrollTop!=b&&(a.display.scrollbarV.scrollTop=b),Pd&&D(a),va(a,100))}function bc(a,b,c){(c?b==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-b))||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,v(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=
b),a.display.scrollbarH.scrollLeft!=b&&(a.display.scrollbarH.scrollLeft=b))}function ge(a,b){var c=b.wheelDeltaX,d=b.wheelDeltaY;null==c&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(c=b.detail);null==d&&b.detail&&b.axis==b.VERTICAL_AXIS?d=b.detail:null==d&&(d=b.wheelDelta);var e=a.display,f=e.scroller;if(c&&f.scrollWidth>f.clientWidth||d&&f.scrollHeight>f.clientHeight){if(d&&Gb&&Na){var h=b.target,m=e.view;a:for(;h!=f;h=h.parentNode)for(var k=0;k<m.length;k++)if(m[k].node==h){a.display.currentWheelTarget=
h;break a}}!c||Pd||Fb||null==Hb?(d&&null!=Hb&&(h=d*Hb,m=a.doc.scrollTop,k=m+e.wrapper.clientHeight,0>h?m=Math.max(0,m+h-50):k=Math.min(a.doc.height,k+h+50),D(a,{top:m,bottom:k})),20>Sd&&(null==e.wheelStartX?(e.wheelStartX=f.scrollLeft,e.wheelStartY=f.scrollTop,e.wheelDX=c,e.wheelDY=d,setTimeout(function(){if(null!=e.wheelStartX){var a=f.scrollLeft-e.wheelStartX,b=f.scrollTop-e.wheelStartY,a=b&&e.wheelDY&&b/e.wheelDY||a&&e.wheelDX&&a/e.wheelDX;e.wheelStartX=e.wheelStartY=null;a&&(Hb=(Hb*Sd+a)/(Sd+
1),++Sd)}},200)):(e.wheelDX+=c,e.wheelDY+=d))):(d&&oc(a,Math.max(0,Math.min(f.scrollTop+d*Hb,f.scrollHeight-f.clientHeight))),bc(a,Math.max(0,Math.min(f.scrollLeft+c*Hb,f.scrollWidth-f.clientWidth))),Sa(b),e.wheelStartX=null)}}function pc(a,b,c){if("string"==typeof b&&(b=Wd[b],!b))return!1;a.display.pollingFast&&Re(a)&&(a.display.pollingFast=!1);var d=a.display.shift,e=!1;try{yd(a)&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),e=b(a)!=E}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}
function Ve(a){var b=a.state.keyMaps.slice(0);a.options.extraKeys&&b.push(a.options.extraKeys);b.push(a.options.keyMap);return b}function We(a,b){var c=me(a.options.keyMap),d=c.auto;clearTimeout(rg);d&&!Pf(b)&&(rg=setTimeout(function(){me(a.options.keyMap)==c&&(a.options.keyMap=d.call?d.call(null,a):d,e(a))},50));var f=tg(b,!0),h=!1;if(!f)return!1;h=Ve(a);if(h=b.shiftKey?qd("Shift-"+f,h,function(b){return pc(a,b,!0)})||qd(f,h,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return pc(a,
b)}):qd(f,h,function(b){return pc(a,b)}))Sa(b),Za(a),Ra(a,"keyHandled",a,f,b);return h}function Tg(a,b,c){var d=qd("'"+c+"'",Ve(a),function(b){return pc(a,b,!0)});d&&(Sa(b),Za(a),Ra(a,"keyHandled",a,"'"+c+"'",b));return d}function Xe(a){xd(this);if(!Ub(this,a)){qa&&11>wa&&27==a.keyCode&&(a.returnValue=!1);var b=a.keyCode;this.display.shift=16==b||a.shiftKey;var c=We(this,a);Fb&&(Nf=c?b:null,!c&&88==b&&!Me&&(Gb?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));18!=b||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||
$c(this)}}function $c(a){function b(a){18!=a.keyCode&&a.altKey||(Ae(c,"CodeMirror-crosshair"),Ib(document,"keyup",b),Ib(document,"mouseover",b))}var c=a.display.lineDiv;ze(c,"CodeMirror-crosshair");na(document,"keyup",b);na(document,"mouseover",b)}function Ye(a){16==a.keyCode&&(this.doc.sel.shift=!1);Ub(this,a)}function Ze(a){if(!(Ub(this,a)||a.ctrlKey&&!a.altKey||Gb&&a.metaKey)){var b=a.keyCode,c=a.charCode;Fb&&b==Nf?(Nf=null,Sa(a)):(Fb&&(!a.which||10>a.which)||Ee)&&We(this,a)||(b=String.fromCharCode(null==
c?b:c),Tg(this,a,b)||(qa&&9<=wa&&(this.display.inputHasSelection=null),wd(this)))}}function ad(a){"nocursor"!=a.options.readOnly&&(a.state.focused||(Ba(a,"focus",a),a.state.focused=!0,ze(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(Pb(a),Na&&setTimeout(Vb(Pb,a,!0),0))),be(a),Za(a))}function Ad(a){a.state.focused&&(Ba(a,"blur",a),a.state.focused=!1,Ae(a.display.wrapper,"CodeMirror-focused"));clearInterval(a.display.blinker);setTimeout(function(){a.state.focused||
(a.display.shift=!1)},150)}function Zf(a,b){function c(){if(null!=e.input.selectionStart){var b=a.somethingSelected(),d=e.input.value="\u200b"+(b?e.input.value:"");e.prevInput=b?"":"\u200b";e.input.selectionStart=1;e.input.selectionEnd=d.length;e.selForContextMenu=a.doc.sel}}function d(){e.inputDiv.style.position="relative";e.input.style.cssText=m;qa&&9>wa&&(e.scrollbarV.scrollTop=e.scroller.scrollTop=h);be(a);if(null!=e.input.selectionStart){(!qa||qa&&9>wa)&&c();var b=0,f=function(){e.selForContextMenu==
a.doc.sel&&0==e.input.selectionStart?Qa(a,Wd.selectAll)(a):10>b++?e.detectingSelectAll=setTimeout(f,500):Pb(a)};e.detectingSelectAll=setTimeout(f,200)}}if(!Ub(a,b,"contextmenu")){var e=a.display;if(!mc(e,b)&&!ag(a,b)){var f=Vc(a,b),h=e.scroller.scrollTop;if(f&&!Fb){a.options.resetSelectionOnContextMenu&&-1==a.doc.sel.contains(f)&&Qa(a,ta)(a.doc,da(f),jc);var m=e.input.style.cssText;e.inputDiv.style.position="absolute";e.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-
5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: "+(qa?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(Na)var k=window.scrollY;nb(a);Na&&window.scrollTo(null,k);Pb(a);a.somethingSelected()||(e.input.value=e.prevInput=" ");e.selForContextMenu=a.doc.sel;clearTimeout(e.detectingSelectAll);qa&&9<=wa&&c();if(Ge){Qf(b);var l=function(){Ib(window,"mouseup",l);setTimeout(d,20)};na(window,
"mouseup",l)}else setTimeout(d,50)}}}}function ag(a,b){return Db(a,"gutterContextMenu")?Xc(a,b,"gutterContextMenu",!1,Ba):!1}function $f(a,b){if(0>oa(a,b.from))return a;if(0>=oa(a,b.to))return hc(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,d=a.ch;a.line==b.to.line&&(d+=hc(b).ch-b.to.ch);return aa(c,d)}function $e(a,b){for(var c=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new O($f(e.anchor,b),$f(e.head,b)))}return W(c,a.sel.primIndex)}function af(a,b,c){return a.line==
b.line?aa(c.line,a.ch-b.ch+c.ch):aa(c.line+(a.line-b.line),a.ch)}function bf(a,b,c){b={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};c&&(b.update=function(b,c,d,e){b&&(this.from=ca(a,b));c&&(this.to=ca(a,c));d&&(this.text=d);void 0!==e&&(this.origin=e)});Ba(a,"beforeChange",a,b);a.cm&&Ba(a.cm,"beforeChange",a.cm,b);return b.canceled?null:{from:b.from,to:b.to,text:b.text,origin:b.origin}}function sc(a,b,c){if(a.cm){if(!a.cm.curOp)return Qa(a.cm,sc)(a,
b,c);if(a.cm.state.suppressEdits)return}if(Db(a,"beforeChange")||a.cm&&Db(a.cm,"beforeChange"))if(b=bf(a,b,!0),!b)return;if(c=He&&!c&&ff(a,b.from,b.to))for(var d=c.length-1;0<=d;--d)cf(a,{from:c[d].from,to:c[d].to,text:d?[""]:b.text});else cf(a,b)}function cf(a,b){if(1!=b.text.length||""!=b.text[0]||0!=oa(b.from,b.to)){var c=$e(a,b);sf(a,b,c,a.cm?a.cm.curOp.id:NaN);dd(a,b,c,ne(a,b));var d=[];ec(a,function(a,c){c||-1!=Xa(d,a.history)||(vf(a.history,b),d.push(a.history));dd(a,b,null,ne(a,b))})}}function je(a,
b,c){if(!a.cm||!a.cm.state.suppressEdits){for(var d=a.history,e,f=a.sel,h="undo"==b?d.done:d.undone,m="undo"==b?d.undone:d.done,k=0;k<h.length&&(e=h[k],c?!e.ranges||e.equals(a.sel):e.ranges);k++);if(k!=h.length){for(d.lastOrigin=d.lastSelOrigin=null;;)if(e=h.pop(),e.ranges){sb(e,m);if(c&&!e.equals(a.sel)){ta(a,e,{clearRedo:!1});return}f=e}else break;c=[];sb(f,m);m.push({changes:c,generation:d.generation});d.generation=e.generation||++d.maxGeneration;d=Db(a,"beforeChange")||a.cm&&Db(a.cm,"beforeChange");
for(k=e.changes.length-1;0<=k;--k){var l=e.changes[k];l.origin=b;if(d&&!bf(a,l,!1)){h.length=0;break}c.push(rf(a,l));f=k?$e(a,l):xa(h);dd(a,l,f,oe(a,l));!k&&a.cm&&a.cm.scrollIntoView({from:l.from,to:hc(l)});var n=[];ec(a,function(a,b){b||-1!=Xa(n,a.history)||(vf(a.history,l),n.push(a.history));dd(a,l,null,oe(a,l))})}}}}function cg(a,b){if(0!=b&&(a.first+=b,a.sel=new Y(Ld(a.sel.ranges,function(a){return new O(aa(a.anchor.line+b,a.anchor.ch),aa(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){pb(a.cm,
a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d<c.viewTo;d++)ac(a.cm,d,"gutter")}}function dd(a,b,c,d){if(a.cm&&!a.cm.curOp)return Qa(a.cm,dd)(a,b,c,d);if(b.to.line<a.first)cg(a,b.text.length-1-(b.to.line-b.from.line));else if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);cg(a,e);b={from:aa(a.first,0),to:aa(b.to.line+e,b.to.ch),text:[xa(b.text)],origin:b.origin}}e=a.lastLine();b.to.line>e&&(b={from:b.from,to:aa(e,ia(a,e).text.length),text:[b.text[0]],
origin:b.origin});b.removed=fc(a,b.from,b.to);c||(c=$e(a,b));a.cm?Jc(a.cm,b,d):qf(a,b,d);Aa(a,c,jc)}}function Jc(b,c,d){var e=b.doc,f=b.display,h=c.from,m=c.to,k=!1,l=h.line;b.options.lineWrapping||(l=Ga(Ab(ia(e,h.line))),e.iter(l,m.line+1,function(a){if(a==f.maxLine)return k=!0}));-1<e.sel.contains(c.from,c.to)&&jg(b);qf(e,c,d,a(b));b.options.lineWrapping||(e.iter(l,h.line+c.text.length,function(a){var b=p(a);b>f.maxLineLength&&(f.maxLine=a,f.maxLineLength=b,f.maxLineChanged=!0,k=!1)}),k&&(b.curOp.updateMaxLine=
!0));e.frontier=Math.min(e.frontier,h.line);va(b,400);d=c.text.length-(m.line-h.line)-1;h.line!=m.line||1!=c.text.length||kd(b.doc,c)?pb(b,h.line,m.line+1,d):ac(b,h.line,"text");d=Db(b,"changes");if((e=Db(b,"change"))||d)c={from:h,to:m,text:c.text,removed:c.removed,origin:c.origin},e&&Ra(b,"change",b,c),d&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(c);b.display.selForContextMenu=null}function Bd(a,b,c,d,e){d||(d=c);if(0>oa(d,c)){var f=d;d=c;c=f}"string"==typeof b&&(b=Kb(b));sc(a,{from:c,to:d,
text:b,origin:e})}function Cd(a,b,c,d,e){var f=a.display,h=Ma(a.display);0>c&&(c=0);var m=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,k=f.scroller.clientHeight-Jb,l={};e-c>k&&(e=c+k);var n=a.doc.height+lb(f);c<m?l.scrollTop=c<h?0:c:e>m+k&&(e=Math.min(c,(e>n-h?n:e)-k),e!=m&&(l.scrollTop=e));a=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft;f=f.scroller.clientWidth-Jb-f.gutters.offsetWidth;(m=d-b>f)&&(d=c+k);10>b?l.scrollLeft=0:b<a?l.scrollLeft=
Math.max(0,b-(m?0:10)):d>f+a-3&&(l.scrollLeft=d+(m?0:10)-f);return l}function ke(a,b,c){null==b&&null==c||Dd(a);null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+b);null!=c&&(a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function ed(a){Dd(a);var b=a.getCursor(),c=b,d=b;a.options.lineWrapping||(c=b.ch?aa(b.line,b.ch-1):b,d=aa(b.line,b.ch+1));a.curOp.scrollToPos={from:c,to:d,margin:a.options.cursorScrollMargin,isCursor:!0}}
function Dd(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=yb(a,b.from),d=yb(a,b.to),b=Cd(a,Math.min(c.left,d.left),Math.min(c.top,d.top)-b.margin,Math.max(c.right,d.right),Math.max(c.bottom,d.bottom)+b.margin);a.scrollTo(b.scrollLeft,b.scrollTop)}}function Ed(a,b,c,d){var e=a.doc,f;null==c&&(c="add");"smart"==c&&(e.mode.indent?f=kb(a,b):c="prev");var h=a.options.tabSize,m=ia(e,b),k=ib(m.text,null,h);m.stateAfter&&(m.stateAfter=null);var l=m.text.match(/^\s*/)[0],n;if(!d&&!/\S/.test(m.text))n=
0,c="not";else if("smart"==c&&(n=e.mode.indent(f,m.text.slice(l.length),m.text),n==E||150<n)){if(!d)return;c="prev"}"prev"==c?n=b>e.first?ib(ia(e,b-1).text,null,h):0:"add"==c?n=k+a.options.indentUnit:"subtract"==c?n=k-a.options.indentUnit:"number"==typeof c&&(n=k+c);n=Math.max(0,n);c="";d=0;if(a.options.indentWithTabs)for(a=Math.floor(n/h);a;--a)d+=h,c+="\t";d<n&&(c+=yf(n-d));if(c!=l)Bd(e,c,aa(b,0),aa(b,l.length),"+input");else for(a=0;a<e.sel.ranges.length;a++)if(h=e.sel.ranges[a],h.head.line==b&&
h.head.ch<l.length){d=aa(b,l.length);La(e,a,new O(d,d));break}m.stateAfter=null}function Fd(a,b,c,d){var e=b,f=b;"number"==typeof b?f=ia(a,Math.max(a.first,Math.min(b,a.first+a.size-1))):e=Ga(b);if(null==e)return null;d(f,e)&&a.cm&&ac(a.cm,e,c);return f}function Kc(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&0>=oa(f.from,xa(d).to);){var h=d.pop();if(0>oa(h.from,f.from)){f.from=h.from;break}}d.push(f)}Va(a,function(){for(var b=d.length-1;0<=b;b--)Bd(a.doc,"",
d[b].from,d[b].to,"+delete");ed(a)})}function Sb(a,b,c,d,e){function f(b){var d=(e?De:Gf)(l,m,c,!0);if(null==d){if(b=!b)b=h+c,b<a.first||b>=a.first+a.size?b=n=!1:(h=b,b=l=ia(a,b));if(b)m=e?(0>c?Nd:Be)(l):0>c?l.text.length:0;else return n=!1}else m=d;return!0}var h=b.line,m=b.ch,k=c,l=ia(a,h),n=!0;if("char"==d)f();else if("column"==d)f(!0);else if("word"==d||"group"==d){var p=null;d="group"==d;b=a.cm&&a.cm.getHelper(b,"wordChars");for(var q=!0;!(0>c)||f(!q);q=!1){var r=l.text.charAt(m)||"\n",r=ye(r,
b)?"w":d&&"\n"==r?"n":!d||/\s/.test(r)?null:"p";!d||q||r||(r="s");if(p&&p!=r){0>c&&(c=1,f());break}r&&(p=r);if(0<c&&!f(!q))break}}k=sa(a,aa(h,m),k,!0);n||(k.hitSide=!0);return k}function ie(a,b,c,d){var e=a.doc,f=b.left,h;for("page"==d?h=b.top+c*(Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-(0>c?1.5:.5)*Ma(a.display)):"line"==d&&(h=0<c?b.bottom+3:b.top-3);;){b=Ha(a,f,h);if(!b.outside)break;if(0>c?0>=h:h>=e.height){b.hitSide=!0;break}h+=5*c}return b}
function le(a,b){var c=ia(a.doc,b.line).text,d=b.ch,e=b.ch;if(c){var f=a.getHelper(b,"wordChars");(0>b.xRel||e==c.length)&&d?--d:++e;for(var h=c.charAt(d),h=ye(h,f)?function(a){return ye(a,f)}:/\s/.test(h)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!ye(a)};0<d&&h(c.charAt(d-1));)--d;for(;e<c.length&&h(c.charAt(e));)++e}return new O(aa(b.line,d),aa(b.line,e))}function ma(a,b,c,d){l.defaults[a]=b;c&&(nd[a]=d?function(a,b,d){d!=Td&&c(a,b,d)}:c)}function me(a){return"string"==typeof a?
Ja[a]:a}function tc(a,b,c,d,e){if(d&&d.shared)return eg(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return Qa(a.cm,tc)(a,b,c,d,e);var f=new Qc(a,e);e=oa(b,c);d&&Md(d,f,!1);if(0<e||0==e&&!1!==f.clearWhenEmpty)return f;f.replacedWith&&(f.collapsed=!0,f.widgetNode=ea("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||(f.widgetNode.ignoreEvents=!0),d.insertLeft&&(f.widgetNode.insertLeft=!0));if(f.collapsed){if(Gd(a,b.line,b,c,f)||b.line!=c.line&&Gd(a,c.line,b,c,f))throw Error("Inserting collapsed marker partially overlapping an existing one");
db=!0}f.addToHistory&&sf(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var h=b.line,m=a.cm,k;a.iter(h,c.line+1,function(a){m&&f.collapsed&&!m.options.lineWrapping&&Ab(a)==m.display.maxLine&&(k=!0);f.collapsed&&h!=b.line&&rb(a,0);var d=new bd(f,h==b.line?b.ch:null,h==c.line?c.ch:null);a.markedSpans=a.markedSpans?a.markedSpans.concat([d]):[d];d.marker.attachLine(a);++h});f.collapsed&&a.iter(b.line,c.line+1,function(b){Bb(a,b)&&rb(b,0)});f.clearOnEnter&&na(f,"beforeCursorEnter",function(){f.clear()});
f.readOnly&&(He=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());f.collapsed&&(f.id=++ug,f.atomic=!0);if(m){k&&(m.curOp.updateMaxLine=!0);if(f.collapsed)pb(m,b.line,c.line+1);else if(f.className||f.title||f.startStyle||f.endStyle)for(d=b.line;d<=c.line;d++)ac(m,d,"text");f.atomic&&Ca(m.doc);Ra(m,"markerAdded",m,f)}return f}function eg(a,b,c,d,e){d=Md(d);d.shared=!1;var f=[tc(a,b,c,d,e)],h=f[0],m=d.widgetNode;ec(a,function(a){m&&(d.widgetNode=m.cloneNode(!0));f.push(tc(a,ca(a,
b),ca(a,c),d,e));for(var k=0;k<a.linked.length;++k)if(a.linked[k].isParent)return;h=xa(f)});return new Je(f,h)}function df(a){return a.findMarks(aa(a.first,0),a.clipPos(aa(a.lastLine())),function(a){return a.parent})}function dg(a){for(var b=0;b<a.length;b++){var c=a[b],d=[c.primary.doc];ec(c.primary.doc,function(a){d.push(a)});for(var e=0;e<c.markers.length;e++){var f=c.markers[e];-1==Xa(d,f.doc)&&(f.parent=null,c.markers.splice(e--,1))}}}function bd(a,b,c){this.marker=a;this.from=b;this.to=c}function fd(a,
b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function ne(a,b){var c=Da(a,b.from.line)&&ia(a,b.from.line).markedSpans,d=Da(a,b.to.line)&&ia(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,h=0==oa(b.from,b.to);if(c)for(var m=0,k;m<c.length;++m){var l=c[m],n=l.marker;if(null==l.from||(n.inclusiveLeft?l.from<=e:l.from<e)||!(l.from!=e||"bookmark"!=n.type||h&&l.marker.insertLeft)){var p=null==l.to||(n.inclusiveRight?l.to>=e:l.to>e);(k||(k=[])).push(new bd(n,
l.from,p?null:l.to))}}c=k;if(d)for(var m=0,q;m<d.length;++m)if(k=d[m],l=k.marker,null==k.to||(l.inclusiveRight?k.to>=f:k.to>f)||k.from==f&&"bookmark"==l.type&&(!h||k.marker.insertLeft))n=null==k.from||(l.inclusiveLeft?k.from<=f:k.from<f),(q||(q=[])).push(new bd(l,n?null:k.from-f,null==k.to?null:k.to-f));d=q;h=1==b.text.length;q=xa(b.text).length+(h?e:0);if(c)for(f=0;f<c.length;++f)if(m=c[f],null==m.to)(k=fd(d,m.marker),k)?h&&(m.to=null==k.to?null:k.to+q):m.to=e;if(d)for(f=0;f<d.length;++f)m=d[f],
null!=m.to&&(m.to+=q),null==m.from?(k=fd(c,m.marker),k||(m.from=q,h&&(c||(c=[])).push(m))):(m.from+=q,h&&(c||(c=[])).push(m));c&&(c=ef(c));d&&d!=c&&(d=ef(d));e=[c];if(!h){var h=b.text.length-2,r;if(0<h&&c)for(f=0;f<c.length;++f)null==c[f].to&&(r||(r=[])).push(new bd(c[f].marker,null,null));for(f=0;f<h;++f)e.push(r);e.push(d)}return e}function ef(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&!1!==c.marker.clearWhenEmpty&&a.splice(b--,1)}return a.length?a:null}function oe(a,
b){var c;if(c=b["spans_"+a.id]){for(var d=0,e=[];d<b.text.length;++d)e.push(Nc(c[d]));c=e}else c=null;d=ne(a,b);if(!c)return d;if(!d)return c;for(e=0;e<c.length;++e){var f=c[e],h=d[e];if(f&&h){var m=0;a:for(;m<h.length;++m){for(var k=h[m],l=0;l<f.length;++l)if(f[l].marker==k.marker)continue a;f.push(k)}}else h&&(c[e]=h)}return c}function ff(a,b,c){var d=null;a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=
Xa(d,c)||(d||(d=[])).push(c)}});if(!d)return null;a=[{from:b,to:c}];for(b=0;b<d.length;++b){c=d[b];for(var e=c.find(0),f=0;f<a.length;++f){var h=a[f];if(!(0>oa(h.to,e.from)||0<oa(h.from,e.to))){var m=[f,1],k=oa(h.from,e.from),l=oa(h.to,e.to);(0>k||!c.inclusiveLeft&&!k)&&m.push({from:h.from,to:e.from});(0<l||!c.inclusiveRight&&!l)&&m.push({from:e.to,to:h.to});a.splice.apply(a,m);f+=m.length-1}}}return a}function fg(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=
null}}function gd(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function gf(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;var c=a.find(),d=b.find(),e=oa(c.from,d.from)||(a.inclusiveLeft?-1:0)-(b.inclusiveLeft?-1:0);return e?-e:(c=oa(c.to,d.to)||(a.inclusiveRight?1:0)-(b.inclusiveRight?1:0))?c:b.id-a.id}function uc(a,b){var c=db&&a.markedSpans,d;if(c)for(var e,f=0;f<c.length;++f)e=c[f],e.marker.collapsed&&null==(b?e.from:e.to)&&(!d||0>gf(d,e.marker))&&
(d=e.marker);return d}function Gd(a,b,c,d,e){a=ia(a,b);if(a=db&&a.markedSpans)for(b=0;b<a.length;++b){var f=a[b];if(f.marker.collapsed){var h=f.marker.find(0),m=oa(h.from,c)||(f.marker.inclusiveLeft?-1:0)-(e.inclusiveLeft?-1:0),k=oa(h.to,d)||(f.marker.inclusiveRight?1:0)-(e.inclusiveRight?1:0);if(!(0<=m&&0>=k||0>=m&&0<=k)&&(0>=m&&(0<oa(h.to,c)||f.marker.inclusiveRight&&e.inclusiveLeft)||0<=m&&(0>oa(h.from,d)||f.marker.inclusiveLeft&&e.inclusiveRight)))return!0}}}function Ab(a){for(var b;b=uc(a,!0);)a=
b.find(-1,!0).line;return a}function Hd(a,b){var c=ia(a,b),d=Ab(c);return c==d?b:Ga(d)}function Lc(a,b){if(b>a.lastLine())return b;var c=ia(a,b),d;if(!Bb(a,c))return b;for(;d=uc(c,!1);)c=d.find(1,!0).line;return Ga(c)+1}function Bb(a,b){var c=db&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed&&(null==d.from||!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&pe(a,b,d)))return!0}function pe(a,b,c){if(null==c.to)return b=c.marker.find(1,!0),pe(a,b.line,fd(b.line.markedSpans,
c.marker));if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var d,e=0;e<b.markedSpans.length;++e)if(d=b.markedSpans[e],d.marker.collapsed&&!d.marker.widgetNode&&d.from==c.to&&(null==d.to||d.to!=c.from)&&(d.marker.inclusiveLeft||c.marker.inclusiveRight)&&pe(a,b,d))return!0}function Id(a){if(null!=a.height)return a.height;var b;a:{b=document.body;var c=a.node;if(b.contains)b=b.contains(c);else{for(;c=c.parentNode;)if(c==b){b=!0;break a}b=void 0}}b||(b="position: relative;",a.coverGutter&&
(b+="margin-left: -"+a.cm.getGutterElement().offsetWidth+"px;"),Ia(a.cm.display.measure,ea("div",[a.node],null,b)));return a.height=a.node.offsetHeight}function hf(a,b,c,d){var e=new Ke(a,c,d);e.noHScroll&&(a.display.alignWidgets=!0);Fd(a.doc,b,"widget",function(b){var c=b.widgets||(b.widgets=[]);null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e);e.line=b;Bb(a.doc,b)||(c=Tb(b)<a.doc.scrollTop,rb(b,b.height+Id(e)),c&&ke(a,null,e.height),a.curOp.forceUpdate=!0);return!0});
return e}function qe(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=c[2]:(new RegExp("(?:^|s)"+c[2]+"(?:$|s)")).test(b[d])||(b[d]+=" "+c[2])}return a}function jf(a,b){if(a.blankLine)return a.blankLine(b);if(a.innerMode){var c=l.innerMode(a,b);if(c.mode.blankLine)return c.mode.blankLine(c.state)}}function kf(a,b,c){for(var d=0;10>d;d++){var e=a.token(b,c);if(b.pos>b.start)return e}throw Error("Mode "+
a.name+" failed to advance stream.");}function lf(a,b,c,d,e,f,h){var m=c.flattenSpans;null==m&&(m=a.options.flattenSpans);var k=0,n=null,p=new Xd(b,a.options.tabSize),q;for(""==b&&qe(jf(c,d),f);!p.eol();){p.pos>a.options.maxHighlightLength?(m=!1,h&&te(a,b,d,p.pos),p.pos=b.length,q=null):q=qe(kf(c,p,d),f);if(a.options.addModeClass){var r=l.innerMode(c,d).mode.name;r&&(q="m-"+(q?r+" "+q:r))}m&&n==q||(k<p.start&&e(p.start,n),k=p.start,n=q);p.start=p.pos}for(;k<p.pos;)a=Math.min(p.pos,k+5E4),e(a,n),k=
a}function re(a,b,c,d){var e=[a.state.modeGen],f={};lf(a,b.text,a.doc.mode,c,function(a,b){e.push(a,b)},f,d);for(c=0;c<a.state.overlays.length;++c){var h=a.state.overlays[c],m=1,k=0;lf(a,b.text,h.mode,!0,function(a,b){for(var c=m;k<a;){var d=e[m];d>a&&e.splice(m,1,a,e[m+1],d);m+=2;k=Math.min(a,d)}if(b)if(h.opaque)e.splice(c,m-c,a,"cm-overlay "+b),m=c+2;else for(;c<m;c+=2)d=e[c+1],e[c+1]=(d?d+" ":"")+"cm-overlay "+b},f)}return{styles:e,classes:f.bgClass||f.textClass?f:null}}function mf(a,b){if(!b.styles||
b.styles[0]!=a.state.modeGen){var c=re(a,b,b.stateAfter=kb(a,Ga(b)));b.styles=c.styles;c.classes?b.styleClasses=c.classes:b.styleClasses&&(b.styleClasses=null)}return b.styles}function te(a,b,c,d){var e=a.doc.mode,f=new Xd(b,a.options.tabSize);f.start=f.pos=d||0;for(""==b&&jf(e,c);!f.eol()&&f.pos<=a.options.maxHighlightLength;)kf(e,f,c),f.start=f.pos}function nf(a,b){if(!a||/^\s*$/.test(a))return null;var c=b.addModeClass?wg:vg;return c[a]||(c[a]=a.replace(/\S+/g,"cm-$\x26"))}function gg(a,b){var c=
ea("span",null,null,Na?"padding-right: .1px":null),c={pre:ea("pre",[c]),content:c,col:0,pos:0,cm:a};b.measure={};for(var d=0;d<=(b.rest?b.rest.length:0);d++){var e=d?b.rest[d-1]:b.line,f;c.pos=0;c.addToken=jd;(qa||Na)&&a.getOption("lineWrapping")&&(c.addToken=hd(c.addToken));var h;if(null!=td)h=td;else{h=Ia(a.display.measure,document.createTextNode("A\u062eA"));var m=ha(h,0,1).getBoundingClientRect();h=m.left==m.right?!1:td=3>ha(h,1,2).getBoundingClientRect().right-m.right}h&&(f=Cb(e))&&(c.addToken=
Vg(c.addToken,f));c.map=[];a:{h=c;var m=mf(a,e),k=e.markedSpans,l=e.text,n=0;if(k)for(var p=l.length,q=0,r=1,t="",v=void 0,x=0,u=void 0,z=void 0,w=void 0,y=void 0,A=void 0;;){if(x==q){for(var u=z=w=y="",A=null,x=Infinity,B=[],C=0;C<k.length;++C){var F=k[C],D=F.marker;F.from<=q&&(null==F.to||F.to>q)?(null!=F.to&&x>F.to&&(x=F.to,z=""),D.className&&(u+=" "+D.className),D.startStyle&&F.from==q&&(w+=" "+D.startStyle),D.endStyle&&F.to==x&&(z+=" "+D.endStyle),D.title&&!y&&(y=D.title),D.collapsed&&(!A||0>
gf(A.marker,D))&&(A=F)):F.from>q&&x>F.from&&(x=F.from);"bookmark"==D.type&&F.from==q&&D.widgetNode&&B.push(D)}if(A&&(A.from||0)==q&&(pf(h,(null==A.to?p+1:A.to)-q,A.marker,null==A.from),null==A.to))break a;if(!A&&B.length)for(C=0;C<B.length;++C)pf(h,0,B[C])}if(q>=p)break;for(B=Math.min(p,x);;){if(t){C=q+t.length;A||(F=C>B?t.slice(0,B-q):t,h.addToken(h,F,v?v+u:u,w,q+F.length==x?z:"",y));if(C>=B){t=t.slice(B-q);q=B;break}q=C;w=""}t=l.slice(n,n=m[r++]);v=nf(m[r++],h.cm.options)}}else for(var r=1;r<m.length;r+=
2)h.addToken(h,l.slice(n,n=m[r]),nf(m[r+1],h.cm.options))}e.styleClasses&&(e.styleClasses.bgClass&&(c.bgClass=Bf(e.styleClasses.bgClass,c.bgClass||"")),e.styleClasses.textClass&&(c.textClass=Bf(e.styleClasses.textClass,c.textClass||"")));0==c.map.length&&c.map.push(0,0,c.content.appendChild(Df(a.display.measure)));0==d?(b.measure.map=c.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(c.map),(b.measure.caches||(b.measure.caches=[])).push({}))}Ba(a,"renderLine",a,b.line,c.pre);c.pre.className&&
(c.textClass=Bf(c.pre.className,c.textClass||""));return c}function jd(a,b,c,d,e,f){if(b){var h=a.cm.options.specialChars,m=!1;if(h.test(b))for(var k=document.createDocumentFragment(),l=0;;){h.lastIndex=l;var n=h.exec(b),p=n?n.index-l:b.length-l;if(p){var q=document.createTextNode(b.slice(l,l+p));qa&&9>wa?k.appendChild(ea("span",[q])):k.appendChild(q);a.map.push(a.pos,a.pos+p,q);a.col+=p;a.pos+=p}if(!n)break;l+=p+1;"\t"==n[0]?(q=a.cm.options.tabSize,n=q-a.col%q,q=k.appendChild(ea("span",yf(n),"cm-tab")),
a.col+=n):(q=a.cm.options.specialCharPlaceholder(n[0]),qa&&9>wa?k.appendChild(ea("span",[q])):k.appendChild(q),a.col+=1);a.map.push(a.pos,a.pos+1,q);a.pos++}else{a.col+=b.length;var k=document.createTextNode(b);a.map.push(a.pos,a.pos+b.length,k);qa&&9>wa&&(m=!0);a.pos+=b.length}if(c||d||e||m)return b=c||"",d&&(b+=d),e&&(b+=e),d=ea("span",[k],b),f&&(d.title=f),a.content.appendChild(d);a.content.appendChild(k)}}function hd(a){function b(a){for(var c=" ",d=0;d<a.length-2;++d)c+=d%2?" ":"\u00a0";return c+
" "}return function(c,d,e,f,h,m){a(c,d.replace(/ {3,}/g,b),e,f,h,m)}}function Vg(a,b){return function(c,d,e,f,h,m){e=e?e+" cm-force-border":"cm-force-border";for(var k=c.pos,l=k+d.length;;){for(var n=0;n<b.length;n++){var p=b[n];if(p.to>k&&p.from<=k)break}if(p.to>=l)return a(c,d,e,f,h,m);a(c,d.slice(0,p.to-k),e,f,null,m);f=null;d=d.slice(p.to-k);k=p.to}}}function pf(a,b,c,d){if(c=!d&&c.widgetNode)a.map.push(a.pos,a.pos+b,c),a.content.appendChild(c);a.pos+=b}function kd(a,b){return 0==b.from.ch&&0==
b.to.ch&&""==xa(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function qf(a,b,c,d){function e(a,c,f){a.text=c;a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null);null!=a.order&&(a.order=null);fg(a);gd(a,f);c=d?d(a):1;c!=a.height&&rb(a,c);Ra(a,"change",a,b)}var f=b.from,h=b.to,m=b.text,k=ia(a,f.line),l=ia(a,h.line),n=xa(m),p=c?c[m.length-1]:null,q=h.line-f.line;if(kd(a,b)){for(var r=0,t=[];r<m.length-1;++r)t.push(new Rc(m[r],c?c[r]:null,d));e(l,l.text,p);q&&a.remove(f.line,q);t.length&&
a.insert(f.line,t)}else if(k==l)if(1==m.length)e(k,k.text.slice(0,f.ch)+n+k.text.slice(h.ch),p);else{t=[];for(r=1;r<m.length-1;++r)t.push(new Rc(m[r],c?c[r]:null,d));t.push(new Rc(n+k.text.slice(h.ch),p,d));e(k,k.text.slice(0,f.ch)+m[0],c?c[0]:null);a.insert(f.line+1,t)}else if(1==m.length)e(k,k.text.slice(0,f.ch)+m[0]+l.text.slice(h.ch),c?c[0]:null),a.remove(f.line+1,q);else{e(k,k.text.slice(0,f.ch)+m[0],c?c[0]:null);e(l,n+l.text.slice(h.ch),p);r=1;for(t=[];r<m.length-1;++r)t.push(new Rc(m[r],c?
c[r]:null,d));1<q&&a.remove(f.line+1,q-1);a.insert(f.line+1,t)}Ra(a,"change",a,b)}function vc(a){this.lines=a;this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,c+=a[b].height;this.height=c}function wc(a){this.children=a;for(var b=0,c=0,d=0;d<a.length;++d){var e=a[d],b=b+e.chunkSize(),c=c+e.height;e.parent=this}this.size=b;this.height=c;this.parent=null}function ec(a,b,c){function d(a,e,f){if(a.linked)for(var h=0;h<a.linked.length;++h){var m=a.linked[h];if(m.doc!=e){var k=f&&m.sharedHist;
if(!c||k)b(m.doc,k),d(m.doc,a,k)}}}d(a,null,!0)}function Jd(a,b){if(b.cm)throw Error("This document is already in use.");a.doc=b;b.cm=a;c(a);h(a);a.options.lineWrapping||q(a);a.options.mode=b.modeOption;pb(a)}function ia(a,b){b-=a.first;if(0>b||b>=a.size)throw Error("There is no line "+(b+a.first)+" in the document.");for(var c=a;!c.lines;)for(var d=0;;++d){var e=c.children[d],f=e.chunkSize();if(b<f){c=e;break}b-=f}return c.lines[b]}function fc(a,b,c){var d=[],e=b.line;a.iter(b.line,c.line+1,function(a){a=
a.text;e==c.line&&(a=a.slice(0,c.ch));e==b.line&&(a=a.slice(b.ch));d.push(a);++e});return d}function ve(a,b,c){var d=[];a.iter(b,c,function(a){d.push(a.text)});return d}function rb(a,b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function Ga(a){if(null==a.parent)return null;var b=a.parent;a=Xa(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var d=0;c.children[d]!=b;++d)a+=c.children[d].chunkSize();return a+b.first}function Mc(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=
a.children[d],f=e.height;if(b<f){a=e;continue a}b-=f;c+=e.chunkSize()}return c}while(!a.lines);for(d=0;d<a.lines.length;++d){e=a.lines[d].height;if(b<e)break;b-=e}return c+d}function Tb(a){a=Ab(a);for(var b=0,c=a.parent,d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==a)break;else b+=e.height}for(a=c.parent;a;c=a,a=c.parent)for(d=0;d<a.children.length&&(e=a.children[d],e!=c);++d)b+=e.height;return b}function Cb(a){var b=a.order;null==b&&(b=a.order=Sg(a.text));return b}function xc(a){this.done=[];
this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a||1}function rf(a,b){var c={from:N(b.from),to:hc(b),text:fc(a,b.from,b.to)};tf(a,c,b.from.line,b.to.line+1);ec(a,function(a){tf(a,c,b.from.line,b.to.line+1)},!0);return c}function we(a){for(;a.length;)if(xa(a).ranges)a.pop();else break}function sf(a,b,c,d){var e=a.history;e.undone.length=0;var f=+new Date,h,m;if(m=e.lastOp==
d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastModTime>f-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))e.lastOp==d?(we(e.done),h=xa(e.done)):e.done.length&&!xa(e.done).ranges?h=xa(e.done):1<e.done.length&&!e.done[e.done.length-2].ranges?(e.done.pop(),h=xa(e.done)):h=void 0,m=h;if(m){var k=xa(h.changes);0==oa(b.from,b.to)&&0==oa(b.from,k.to)?k.to=hc(b):h.changes.push(rf(a,b))}else for((h=xa(e.done))&&h.ranges||sb(a.sel,e.done),h={changes:[rf(a,b)],generation:e.generation},
e.done.push(h);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift();e.done.push(c);e.generation=++e.maxGeneration;e.lastModTime=e.lastSelTime=f;e.lastOp=e.lastSelOp=d;e.lastOrigin=e.lastSelOrigin=b.origin;k||Ba(a,"historyAdded")}function sb(a,b){var c=xa(b);c&&c.ranges&&c.equals(a)||b.push(a)}function tf(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans);++f})}function Nc(a){if(!a)return null;
for(var b=0,c;b<a.length;++b)a[b].marker.explicitlyCleared?c||(c=a.slice(0,b)):c&&c.push(a[b]);return c?c.length?c:null:a}function gc(a,b,c){for(var d=0,e=[];d<a.length;++d){var f=a[d];if(f.ranges)e.push(c?Y.prototype.deepCopy.call(f):f);else{var f=f.changes,h=[];e.push({changes:h});for(var m=0;m<f.length;++m){var k=f[m],l;h.push({from:k.from,to:k.to,text:k.text});if(b)for(var n in k)(l=n.match(/^spans_(\d+)$/))&&-1<Xa(b,Number(l[1]))&&(xa(h)[n]=k[n],delete k[n])}}}return e}function hg(a,b,c,d){c<
a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function uf(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],h=!0;if(f.ranges){f.copied||(f=a[e]=f.deepCopy(),f.copied=!0);for(var m=0;m<f.ranges.length;m++)hg(f.ranges[m].anchor,b,c,d),hg(f.ranges[m].head,b,c,d)}else{for(m=0;m<f.changes.length;++m){var k=f.changes[m];if(c<k.from.line)k.from=aa(k.from.line+d,k.from.ch),k.to=aa(k.to.line+d,k.to.ch);else if(b<=k.to.line){h=!1;break}}h||(a.splice(0,e+1),e=0)}}}function vf(a,b){var c=b.from.line,d=b.to.line,
e=b.text.length-(d-c)-1;uf(a.done,c,d,e);uf(a.undone,c,d,e)}function wf(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function ig(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));Gb&&a.ctrlKey&&1==b&&(b=3);return b}function Ra(a,b){function c(a){return function(){a.apply(null,e)}}var d=a._handlers&&a._handlers[b];if(d){var e=Array.prototype.slice.call(arguments,2),f;Pc?f=Pc.delayedCallbacks:Zd?f=Zd:(f=Zd=[],setTimeout(Yg,0));for(var h=0;h<d.length;++h)f.push(c(d[h]))}}
function Yg(){var a=Zd;Zd=null;for(var b=0;b<a.length;++b)a[b]()}function Ub(a,b,c){Ba(a,c||b.type,a,b);return wf(b)||b.codemirrorIgnore}function jg(a){var b=a._handlers&&a._handlers.cursorActivity;if(b){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var c=0;c<b.length;++c)-1==Xa(a,b[c])&&a.push(b[c])}}function Db(a,b){var c=a._handlers&&a._handlers[b];return c&&0<c.length}function Oc(a){a.prototype.on=function(a,b){na(this,a,b)};a.prototype.off=function(a,b){Ib(this,a,
b)}}function xe(){this.id=null}function xf(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("\t",d);-1==f&&(f=a.length);var h=f-d;if(f==a.length||e+h>=b)return d+Math.min(h,b-e);e+=f-d;e+=c-e%c;d=f+1;if(e>=b)return d}}function yf(a){for(;Le.length<=a;)Le.push(xa(Le)+" ");return Le[a]}function xa(a){return a[a.length-1]}function Xa(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function Ld(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function zf(a,b){var c;Object.create?c=Object.create(a):
(c=function(){},c.prototype=a,c=new c);b&&Md(b,c);return c}function Md(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||!1===c&&b.hasOwnProperty(d)||(b[d]=a[d]);return b}function Vb(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function ye(a,b){return b?-1<b.source.indexOf("\\w")&&zg(a)?!0:b.test(a):zg(a)}function kg(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function ld(a){return 768<=a.charCodeAt(0)&&Ag.test(a)}function ea(a,
b,c,d){a=document.createElement(a);c&&(a.className=c);d&&(a.style.cssText=d);if("string"==typeof b)a.appendChild(document.createTextNode(b));else if(b)for(c=0;c<b.length;++c)a.appendChild(b[c]);return a}function Eb(a){for(var b=a.childNodes.length;0<b;--b)a.removeChild(a.firstChild);return a}function Ia(a,b){return Eb(a).appendChild(b)}function yc(){return document.activeElement}function Af(a){return new RegExp("\\b"+a+"\\b\\s*")}function Ae(a,b){var c=Af(b);c.test(a.className)&&(a.className=a.className.replace(c,
""))}function ze(a,b){Af(b).test(a.className)||(a.className+=" "+b)}function Bf(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)c[d]&&!Af(c[d]).test(b)&&(b+=" "+c[d]);return b}function lg(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].CodeMirror;d&&a(d)}}function Zg(){var a;na(window,"resize",function(){null==a&&(a=setTimeout(function(){kc=a=null;lg(Se)},100))});na(window,"blur",function(){lg(Ad)})}function Cf(a){if(null!=
kc)return kc;var b=ea("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");Ia(a,b);b.offsetWidth&&(kc=b.offsetHeight-b.clientHeight);return kc||0}function Df(a){if(null==sd){var b=ea("span","\u200b");Ia(a,ea("span",[b,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(sd=1>=b.offsetWidth&&2<b.offsetHeight&&!(qa&&8>wa))}return sd?ea("span","\u200b"):ea("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px")}function $g(a,b,c,d){if(!a)return d(b,c,"ltr");
for(var e=!1,f=0;f<a.length;++f){var h=a[f];if(h.from<c&&h.to>b||b==c&&h.to==b)d(Math.max(h.from,b),Math.min(h.to,c),1==h.level?"rtl":"ltr"),e=!0}e||d(b,c,"ltr")}function Ef(a){return a.level%2?a.to:a.from}function Ff(a){return a.level%2?a.from:a.to}function Be(a){return(a=Cb(a))?Ef(a[0]):0}function Nd(a){var b=Cb(a);return b?Ff(xa(b)):a.text.length}function mg(a,b){var c=ia(a.doc,b),d=Ab(c);d!=c&&(b=Ga(d));d=(c=Cb(d))?c[0].level%2?Nd(d):Be(d):0;return aa(b,d)}function ng(a,b){var c=mg(a,b.line),
d=ia(a.doc,c.line),e=Cb(d);return e&&0!=e[0].level?c:(d=Math.max(0,d.text.search(/\S/)),aa(c.line,b.line==c.line&&b.ch<=d&&b.ch?0:d))}function Od(a,b){vb=null;for(var c=0,d;c<a.length;++c){var e=a[c];if(e.from<b&&e.to>b)return c;if(e.from==b||e.to==b)if(null==d)d=c;else{var f;f=e.level;var h=a[d].level,m=a[0].level;f=f==m?!0:h==m?!1:f<h;if(f)return e.from!=e.to&&(vb=d),c;e.from!=e.to&&(vb=c);break}}return d}function Ce(a,b,c,d){if(!d)return b+c;do b+=c;while(0<b&&ld(a.text.charAt(b)));return b}function De(a,
b,c,d){var e=Cb(a);if(!e)return Gf(a,b,c,d);var f=Od(e,b),h=e[f];for(b=Ce(a,b,h.level%2?-c:c,d);;){if(b>h.from&&b<h.to)return b;if(b==h.from||b==h.to){if(Od(e,b)==f)return b;h=e[f+c];return 0<c==h.level%2?h.to:h.from}h=e[f+=c];if(!h)return null;b=0<c==h.level%2?Ce(a,h.to,-1,d):Ce(a,h.from,1,d)}}function Gf(a,b,c,d){b+=c;if(d)for(;0<b&&ld(a.text.charAt(b));)b+=c;return 0>b||b>a.text.length?null:b}var Pd=/gecko\/\d/i.test(navigator.userAgent),og=/MSIE \d/.test(navigator.userAgent),Hf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),
qa=og||Hf,wa=qa&&(og?document.documentMode||6:Hf[1]),Na=/WebKit\//.test(navigator.userAgent),If=Na&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ah=/Chrome\//.test(navigator.userAgent),Fb=/Opera\//.test(navigator.userAgent),Jf=/Apple Computer/.test(navigator.vendor),Ee=/KHTML\//.test(navigator.userAgent),Kf=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),pg=/PhantomJS/.test(navigator.userAgent),Wb=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),md=Wb||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),
Gb=Wb||/Mac/.test(navigator.platform),Fe=/win/i.test(navigator.platform),zc=Fb&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);zc&&(zc=Number(zc[1]));zc&&15<=zc&&(Fb=!1,Na=!0);var qg=Gb&&(If||Fb&&(null==zc||12.11>zc)),Ge=Pd||qa&&9<=wa,He=!1,db=!1,aa=l.Pos=function(a,b){if(!(this instanceof aa))return new aa(a,b);this.line=a;this.ch=b},oa=l.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch};Y.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;
if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(0!=oa(c.anchor,d.anchor)||0!=oa(c.head,d.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new O(N(this.ranges[b].anchor),N(this.ranges[b].head));return new Y(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,
b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(0<=oa(b,d.from())&&0>=oa(a,d.to()))return c}return-1}};O.prototype={from:function(){return S(this.anchor,this.head)},to:function(){return Q(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Lf={left:0,right:0,top:0,bottom:0},Ac,Pc=null,Ie=0,Bc=null,Qd,Rd,Mf=0,Sd=0,Hb=null;qa?Hb=-.53:Pd?Hb=15:ah?Hb=-.7:Jf&&(Hb=-1/3);var rg,Nf=null,hc=l.changeEnd=function(a){return a.text?
aa(a.from.line+a.text.length-1,xa(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};l.prototype={constructor:l,focus:function(){window.focus();nb(this);wd(this)},setOption:function(a,b){var c=this.options,d=c[a];if(c[a]!=b||"mode"==a)c[a]=b,nd.hasOwnProperty(a)&&Qa(this,nd[a])(this,b,d)},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](a)},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==
a||"string"!=typeof b[c]&&b[c].name==a)return b.splice(c,1),!0},addOverlay:Wa(function(a,b){var c=a.token?a:l.getMode(this.options,a);if(c.startState)throw Error("Overlays may not be stateful.");this.state.overlays.push({mode:c,modeSpec:a,opaque:b&&b.opaque});this.state.modeGen++;pb(this)}),removeOverlay:Wa(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a){b.splice(c,1);this.state.modeGen++;pb(this);break}}}),indentLine:Wa(function(a,
b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract");Da(this.doc,a)&&Ed(this,a,b,c)}),indentSelection:Wa(function(a){for(var b=this.doc.sel.ranges,c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.line>c&&(Ed(this,e.head.line,a,!0),c=e.head.line,d==this.doc.sel.primIndex&&ed(this));else{for(var f=e.from(),e=e.to(),h=Math.max(c,f.line),c=Math.min(this.lastLine(),e.line-(e.ch?0:1))+1,e=h;e<c;++e)Ed(this,e,a);e=this.doc.sel.ranges;
0==f.ch&&b.length==e.length&&0<e[d].from().ch&&La(this.doc,d,new O(f,e[d].to()),jc)}}}),getTokenAt:function(a,b){var c=this.doc;a=ca(c,a);for(var d=kb(this,a.line,b),e=this.doc.mode,c=ia(c,a.line),c=new Xd(c.text,this.options.tabSize);c.pos<a.ch&&!c.eol();){c.start=c.pos;var f=kf(e,c,d)}return{start:c.start,end:c.pos,string:c.current(),type:f||null,state:d}},getTokenTypeAt:function(a){a=ca(this.doc,a);var b=mf(this,ia(this.doc,a.line)),c=0,d=(b.length-1)/2;a=a.ch;if(0==a)b=b[2];else for(;;){var e=
c+d>>1;if((e?b[2*e-1]:0)>=a)d=e;else if(b[2*e+1]<a)c=e+1;else{b=b[2*e+2];break}}c=b?b.indexOf("cm-overlay "):-1;return 0>c?b:0==c?null:b.slice(0,c-1)},getModeAt:function(a){var b=this.doc.mode;return b.innerMode?l.innerMode(b,this.getTokenAt(a).state).mode:b},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!ic.hasOwnProperty(b))return ic;var d=ic[b],e=this.getModeAt(a);if("string"==typeof e[b])d[e[b]]&&c.push(d[e[b]]);else if(e[b])for(var f=0;f<e[b].length;f++){var h=
d[e[b][f]];h&&c.push(h)}else e.helperType&&d[e.helperType]?c.push(d[e.helperType]):d[e.name]&&c.push(d[e.name]);for(f=0;f<d._global.length;f++)h=d._global[f],h.pred(e,this)&&-1==Xa(c,h.val)&&c.push(h.val);return c},getStateAfter:function(a,b){var c=this.doc;a=Math.max(c.first,Math.min(null==a?c.first+c.size-1:a,c.first+c.size-1));return kb(this,a+1,b)},cursorCoords:function(a,b){var c;c=this.doc.sel.primary();c=null==a?c.head:"object"==typeof a?ca(this.doc,a):a?c.from():c.to();return xb(this,c,b||
"page")},charCoords:function(a,b){return Fc(this,ca(this.doc,a),b||"page")},coordsChar:function(a,b){a=fa(this,a,b||"page");return Ha(this,a.left,a.top)},lineAtHeight:function(a,b){a=fa(this,{top:a,left:0},b||"page").top;return Mc(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1,d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,c=!0);d=ia(this.doc,a);return Ec(this,d,{top:0,left:0},b||"page").top+(c?this.doc.height-Tb(d):0)},defaultTextHeight:function(){return Ma(this.display)},
defaultCharWidth:function(){return Ob(this.display)},setGutterMarker:Wa(function(a,b,c){return Fd(this.doc,a,"gutter",function(a){var d=a.gutterMarkers||(a.gutterMarkers={});d[b]=c;!c&&kg(d)&&(a.gutterMarkers=null);return!0})}),clearGutter:Wa(function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,ac(b,d,"gutter"),kg(c.gutterMarkers)&&(c.gutterMarkers=null));++d})}),addLineWidget:Wa(function(a,b,c){return hf(this,a,b,c)}),removeLineWidget:function(a){a.clear()},
lineInfo:function(a){if("number"==typeof a){if(!Da(this.doc,a))return null;var b=a;a=ia(this.doc,a);if(!a)return null}else if(b=Ga(a),null==b)return null;return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=xb(this,ca(this.doc,a));var h=a.bottom,m=a.left;b.style.position="absolute";
f.sizer.appendChild(b);if("over"==d)h=a.top;else if("above"==d||"near"==d){var k=Math.max(f.wrapper.clientHeight,this.doc.height),l=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>k)&&a.top>b.offsetHeight?h=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=k&&(h=a.bottom);m+b.offsetWidth>l&&(m=l-b.offsetWidth)}b.style.top=h+"px";b.style.left=b.style.right="";"right"==e?(m=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?m=0:"middle"==e&&(m=(f.sizer.clientWidth-
b.offsetWidth)/2),b.style.left=m+"px");c&&(a=Cd(this,m,h,m+b.offsetWidth,h+b.offsetHeight),null!=a.scrollTop&&oc(this,a.scrollTop),null!=a.scrollLeft&&bc(this,a.scrollLeft))},triggerOnKeyDown:Wa(Xe),triggerOnKeyPress:Wa(Ze),triggerOnKeyUp:Ye,execCommand:function(a){if(Wd.hasOwnProperty(a))return Wd[a](this)},findPosH:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);var f=0;for(a=ca(this.doc,a);f<b&&(a=Sb(this.doc,a,e,c,d),!a.hitSide);++f);return a},moveH:Wa(function(a,b){var c=this;c.extendSelectionsBy(function(d){return c.display.shift||
c.doc.extend||d.empty()?Sb(c.doc,d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},Ka)}),deleteH:Wa(function(a,b){var c=this.doc;this.doc.sel.somethingSelected()?c.replaceSelection("",null,"+delete"):Kc(this,function(d){var e=Sb(c,d.head,a,b,!1);return 0>a?{from:e,to:d.head}:{from:d.head,to:e}})}),findPosV:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);var f=0;for(a=ca(this.doc,a);f<b&&(a=xb(this,a,"div"),null==d?d=a.left:a.left=d,a=ie(this,a,e,c),!a.hitSide);++f);return a},moveV:Wa(function(a,
b){var c=this,d=this.doc,e=[],f=!c.display.shift&&!d.extend&&d.sel.somethingSelected();d.extendSelectionsBy(function(h){if(f)return 0>a?h.from():h.to();var m=xb(c,h.head,"div");null!=h.goalColumn&&(m.left=h.goalColumn);e.push(m.left);var k=ie(c,m,a,b);"page"==b&&h==d.sel.primary()&&ke(c,null,Fc(c,k,"div").top-m.top);return k},Ka);if(e.length)for(var h=0;h<d.sel.ranges.length;h++)d.sel.ranges[h].goalColumn=e[h]}),toggleOverwrite:function(a){if(null==a||a!=this.state.overwrite)(this.state.overwrite=
!this.state.overwrite)?ze(this.display.cursorDiv,"CodeMirror-overwrite"):Ae(this.display.cursorDiv,"CodeMirror-overwrite"),Ba(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return yc()==this.display.input},scrollTo:Wa(function(a,b){null==a&&null==b||Dd(this);null!=a&&(this.curOp.scrollLeft=a);null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller,b=Jb;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-b,clientHeight:a.clientHeight-
b,clientWidth:a.clientWidth-b}},scrollIntoView:Wa(function(a,b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:aa(a,0),to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=b||0;if(null!=a.from.line)Dd(this),this.curOp.scrollToPos=a;else{var c=Cd(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin);
this.scrollTo(c.scrollLeft,c.scrollTop)}}),setSize:Wa(function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}var d=this;null!=a&&(d.display.wrapper.style.width=c(a));null!=b&&(d.display.wrapper.style.height=c(b));d.options.lineWrapping&&wb(this);var e=d.display.viewFrom;d.doc.iter(e,d.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){ac(d,e,"widget");break}++e});d.curOp.forceUpdate=!0;Ba(d,"refresh",this)}),operation:function(a){return Va(this,
a)},refresh:Wa(function(){var a=this.display.cachedTextHeight;pb(this);this.curOp.forceUpdate=!0;Nb(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);n(this);(null==a||.5<Math.abs(a-Ma(this.display)))&&c(this);Ba(this,"refresh",this)}),swapDoc:Wa(function(a){var b=this.doc;b.cm=null;Jd(this,a);Nb(this);Pb(this);this.scrollTo(a.scrollLeft,a.scrollTop);Ra(this,"swapDoc",this,b);return b}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},
getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};Oc(l);var sg=l.defaults={},nd=l.optionHandlers={},Td=l.Init={toString:function(){return"CodeMirror.Init"}};ma("value","",function(a,b){a.setValue(b)},!0);ma("mode",null,function(a,b){a.doc.modeOption=b;h(a)},!0);ma("indentUnit",2,h,!0);ma("indentWithTabs",!1);ma("smartIndent",!0);ma("tabSize",4,function(a){f(a);Nb(a);pb(a)},!0);ma("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,
function(a,b){a.options.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g");a.refresh()},!0);ma("specialCharPlaceholder",function(a){var b=ea("span","\u2022","cm-invalidchar");b.title="\\u"+a.charCodeAt(0).toString(16);return b},function(a){a.refresh()},!0);ma("electricChars",!0);ma("rtlMoveVisually",!Fe);ma("wholeLineUpdateBefore",!0);ma("theme","default",function(a){m(a);d(a)},!0);ma("keyMap","default",e);ma("extraKeys",null);ma("lineWrapping",!1,function(a){a.options.lineWrapping?(ze(a.display.wrapper,
"CodeMirror-wrap"),a.display.sizer.style.minWidth=""):(Ae(a.display.wrapper,"CodeMirror-wrap"),q(a));c(a);pb(a);Nb(a);setTimeout(function(){u(a)},100)},!0);ma("gutters",[],function(a){r(a.options);d(a)},!0);ma("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?A(a.display)+"px":"0";a.refresh()},!0);ma("coverGutterNextToScrollbar",!1,u,!0);ma("lineNumbers",!1,function(a){r(a.options);d(a)},!0);ma("firstLineNumber",1,d,!0);ma("lineNumberFormatter",function(a){return a},d,!0);ma("showCursorWhenSelecting",
!1,jb,!0);ma("resetSelectionOnContextMenu",!0);ma("readOnly",!1,function(a,b){"nocursor"==b?(Ad(a),a.display.input.blur(),a.display.disabled=!0):(a.display.disabled=!1,b||Pb(a))});ma("disableInput",!1,function(a,b){b||Pb(a)},!0);ma("dragDrop",!0);ma("cursorBlinkRate",530);ma("cursorScrollMargin",0);ma("cursorHeight",1,jb,!0);ma("singleCursorHeightPerLine",!0,jb,!0);ma("workTime",100);ma("workDelay",100);ma("flattenSpans",!0,f,!0);ma("addModeClass",!1,f,!0);ma("pollInterval",100);ma("undoDepth",200,
function(a,b){a.doc.history.undoDepth=b});ma("historyEventDelay",1250);ma("viewportMargin",10,function(a){a.refresh()},!0);ma("maxHighlightLength",1E4,f,!0);ma("moveInputWithCursor",!0,function(a,b){b||(a.display.inputDiv.style.top=a.display.inputDiv.style.left=0)});ma("tabindex",null,function(a,b){a.display.input.tabIndex=b||""});ma("autofocus",null);var Ud=l.modes={},od=l.mimeModes={};l.defineMode=function(a,b){l.defaults.mode||"null"==a||(l.defaults.mode=a);if(2<arguments.length){b.dependencies=
[];for(var c=2;c<arguments.length;++c)b.dependencies.push(arguments[c])}Ud[a]=b};l.defineMIME=function(a,b){od[a]=b};l.resolveMode=function(a){if("string"==typeof a&&od.hasOwnProperty(a))a=od[a];else if(a&&"string"==typeof a.name&&od.hasOwnProperty(a.name)){var b=od[a.name];"string"==typeof b&&(b={name:b});a=zf(b,a);a.name=b.name}else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return l.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};l.getMode=function(a,
b){b=l.resolveMode(b);var c=Ud[b.name];if(!c)return l.getMode(a,"text/plain");c=c(a,b);if(Ya.hasOwnProperty(b.name)){var d=Ya[b.name],e;for(e in d)d.hasOwnProperty(e)&&(c.hasOwnProperty(e)&&(c["_"+e]=c[e]),c[e]=d[e])}c.name=b.name;b.helperType&&(c.helperType=b.helperType);if(b.modeProps)for(e in b.modeProps)c[e]=b.modeProps[e];return c};l.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});l.defineMIME("text/plain","null");var Ya=l.modeExtensions={};l.extendMode=function(a,b){var c=
Ya.hasOwnProperty(a)?Ya[a]:Ya[a]={};Md(b,c)};l.defineExtension=function(a,b){l.prototype[a]=b};l.defineDocExtension=function(a,b){ab.prototype[a]=b};l.defineOption=ma;var Vd=[];l.defineInitHook=function(a){Vd.push(a)};var ic=l.helpers={};l.registerHelper=function(a,b,c){ic.hasOwnProperty(a)||(ic[a]=l[a]={_global:[]});ic[a][b]=c};l.registerGlobalHelper=function(a,b,c,d){l.registerHelper(a,b,d);ic[a]._global.push({pred:c,val:d})};var Cc=l.copyState=function(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);
var c={},d;for(d in b){var e=b[d];e instanceof Array&&(e=e.concat([]));c[d]=e}return c},Of=l.startState=function(a,b,c){return a.startState?a.startState(b,c):!0};l.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state;a=c.mode}return c||{mode:a,state:b}};var Wd=l.commands={selectAll:function(a){a.setSelection(aa(a.firstLine(),0),aa(a.lastLine()),jc)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),jc)},killLine:function(a){Kc(a,
function(b){if(b.empty()){var c=ia(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:aa(b.head.line+1,0)}:{from:b.head,to:aa(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){Kc(a,function(b){return{from:aa(b.from().line,0),to:ca(a.doc,aa(b.to().line+1,0))}})},delLineLeft:function(a){Kc(a,function(a){return{from:aa(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){Kc(a,function(b){var c=a.charCoords(b.head,"div").top+
5;return{from:a.coordsChar({left:0,top:c},"div"),to:b.from()}})},delWrappedLineRight:function(a){Kc(a,function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:c}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(aa(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(aa(a.lastLine()))},
goLineStart:function(a){a.extendSelectionsBy(function(b){return mg(a,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){return ng(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){a.extendSelectionsBy(function(b){b=b.head.line;for(var c,d=ia(a.doc,b);c=uc(d,!1);)d=c.find(1,!0).line,b=null;c=(c=Cb(d))?c[0].level%2?Be(d):Nd(d):d.text.length;return aa(null==b?Ga(d):b,c)},{origin:"+move",bias:-1})},goLineRight:function(a){a.extendSelectionsBy(function(b){b=
a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:b},"div")},Ka)},goLineLeft:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:b},"div")},Ka)},goLineLeftSmart:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:0,top:c},"div");return c.ch<a.getLine(c.line).search(/\S/)?ng(a,b.head):c},Ka)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,
"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,
"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var f=
c[e].from(),f=ib(a.getLine(f.line),f.ch,d);b.push(Array(d-f%d+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){Va(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++){var e=b[d].head,f=ia(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new aa(e.line,e.ch-1)),0<e.ch)e=new aa(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),aa(e.line,e.ch-2),e,"+transpose");else if(e.line>
a.doc.first){var h=ia(a.doc,e.line-1).text;h&&a.replaceRange(f.charAt(0)+"\n"+h.charAt(h.length-1),aa(e.line-1,h.length-1),aa(e.line,1),"+transpose")}c.push(new O(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){Va(a,function(){for(var b=a.listSelections().length,c=0;c<b;c++){var d=a.listSelections()[c];a.replaceRange("\n",d.anchor,d.head,"+input");a.indentLine(d.from().line+1,null,!0);ed(a)}})},toggleOverwrite:function(a){a.toggleOverwrite()}},Ja=l.keyMap={};Ja.basic={Left:"goCharLeft",Right:"goCharRight",
Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};Ja.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd",
"Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};Ja.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo",
"Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft",
"Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]};Ja.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};
Ja["default"]=Gb?Ja.macDefault:Ja.pcDefault;var qd=l.lookupKey=function(a,b,c){function d(b){b=me(b);var e=b[a];if(!1===e)return"stop";if(null!=e&&c(e))return!0;if(b.nofallthrough)return"stop";b=b.fallthrough;if(null==b)return!1;if("[object Array]"!=Object.prototype.toString.call(b))return d(b);for(e=0;e<b.length;++e){var f=d(b[e]);if(f)return f}return!1}for(var e=0;e<b.length;++e){var f=d(b[e]);if(f)return"stop"!=f}},Pf=l.isModifierKey=function(a){a=Mb[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==
a||"Mod"==a},tg=l.keyName=function(a,b){if(Fb&&34==a.keyCode&&a["char"])return!1;var c=Mb[a.keyCode];if(null==c||a.altGraphKey)return!1;a.altKey&&(c="Alt-"+c);if(qg?a.metaKey:a.ctrlKey)c="Ctrl-"+c;if(qg?a.ctrlKey:a.metaKey)c="Cmd-"+c;!b&&a.shiftKey&&(c="Shift-"+c);return c};l.fromTextArea=function(a,b){function c(){a.value=k.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder);if(null==b.autofocus){var d=
yc();b.autofocus=d==a||null!=a.getAttribute("autofocus")&&d==document.body}if(a.form&&(na(a.form,"submit",c),!b.leaveSubmitMethodAlone)){var e=a.form,f=e.submit;try{var h=e.submit=function(){c();e.submit=f;e.submit();e.submit=h}}catch(m){}}a.style.display="none";var k=l(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);k.save=c;k.getTextArea=function(){return a};k.toTextArea=function(){c();a.parentNode.removeChild(k.getWrapperElement());a.style.display="";a.form&&(Ib(a.form,"submit",c),"function"==
typeof a.form.submit&&(a.form.submit=f))};return k};var Xd=l.StringStream=function(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0};Xd.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);
if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){this.lastColumnPos<this.start&&(this.lastColumnValue=
ib(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?ib(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ib(this.string,null,this.tabSize)-(this.lineStart?ib(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"==typeof a){var d=function(a){return c?a.toLowerCase():a},e=this.string.substr(this.pos,a.length);if(d(e)==d(a))return!1!==b&&(this.pos+=
a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);return a}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var Qc=l.TextMarker=function(a,b){this.lines=[];this.type=b;this.doc=a};Oc(Qc);Qc.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;b&&za(a);if(Db(this,"clear")){var c=this.find();
c&&Ra(this,"clear",c.from,c.to)}for(var d=c=null,e=0;e<this.lines.length;++e){var f=this.lines[e],h=fd(f.markedSpans,this);a&&!this.collapsed?ac(a,Ga(f),"text"):a&&(null!=h.to&&(d=Ga(f)),null!=h.from&&(c=Ga(f)));for(var m=f,k=f.markedSpans,l=h,n=void 0,q=0;q<k.length;++q)k[q]!=l&&(n||(n=[])).push(k[q]);m.markedSpans=n;null==h.from&&this.collapsed&&!Bb(this.doc,f)&&a&&rb(f,Ma(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(e=0;e<this.lines.length;++e)f=Ab(this.lines[e]),h=p(f),h>a.display.maxLineLength&&
(a.display.maxLine=f,a.display.maxLineLength=h,a.display.maxLineChanged=!0);null!=c&&a&&this.collapsed&&pb(a,c,d+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Ca(a.doc));a&&Ra(a,"markerCleared",a,this);b&&Pa(a);this.parent&&this.parent.clear()}};Qc.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.lines.length;++e){var f=this.lines[e],h=fd(f.markedSpans,this);if(null!=h.from&&(c=aa(b?f:Ga(f),h.from),
-1==a))return c;if(null!=h.to&&(d=aa(b?f:Ga(f),h.to),1==a))return d}return c&&{from:c,to:d}};Qc.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&Va(c,function(){var d=a.line,e=Ga(a.line);if(e=lc(c,e))Uc(e),c.curOp.selectionChanged=c.curOp.forceUpdate=!0;c.curOp.updateMaxLine=!0;Bb(b.doc,d)||null==b.height||(e=b.height,b.height=null,(e=Id(b)-e)&&rb(d,d.height+e))})};Qc.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&
-1!=Xa(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Qc.prototype.detachLine=function(a){this.lines.splice(Xa(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};var ug=0,Je=l.SharedTextMarker=function(a,b){this.markers=a;this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};Oc(Je);Je.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=
!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Ra(this,"clear")}};Je.prototype.find=function(a,b){return this.primary.find(a,b)};var Ke=l.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.cm=a;this.node=b};Oc(Ke);Ke.prototype.clear=function(){var a=this.cm,b=this.line.widgets,c=this.line,d=Ga(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.widgets=null);var f=Id(this);Va(a,function(){var b=-f;Tb(c)<(a.curOp&&
a.curOp.scrollTop||a.doc.scrollTop)&&ke(a,null,b);ac(a,d,"widget");rb(c,Math.max(0,c.height-f))})}};Ke.prototype.changed=function(){var a=this.height,b=this.cm,c=this.line;this.height=null;var d=Id(this)-a;d&&Va(b,function(){b.curOp.forceUpdate=!0;Tb(c)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&ke(b,null,d);rb(c,c.height+d)})};var Rc=l.Line=function(a,b,c){this.text=a;gd(this,b);this.height=c?c(this):1};Oc(Rc);Rc.prototype.lineNo=function(){return Ga(this)};var vg={},wg={};vc.prototype={chunkSize:function(){return this.lines.length},
removeInner:function(a,b){for(var c=a,d=a+b;c<d;++c){var e=this.lines[c];this.height-=e.height;var f=e;f.parent=null;fg(f);Ra(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(a=0;a<b.length;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};wc.prototype={chunkSize:function(){return this.size},removeInner:function(a,
b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(a<e){var f=Math.min(b,e-a),h=d.height;d.removeInner(a,f);this.height-=h-d.height;e==f&&(this.children.splice(c--,1),d.parent=null);if(0==(b-=f))break;a=0}else a-=e}25>this.size-b&&(1<this.children.length||!(this.children[0]instanceof vc))&&(c=[],this.collapse(c),this.children=[new vc(c)],this.children[0].parent=this)},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},
insertInner:function(a,b,c){this.size+=b.length;this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<=f){e.insertInner(a,b,c);if(e.lines&&50<e.lines.length){for(;50<e.lines.length;)a=e.lines.splice(e.lines.length-25,25),a=new vc(a),e.height-=a.height,this.children.splice(d+1,0,a),a.parent=this;this.maybeSpill()}break}a-=f}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new wc(b);if(a.parent){a.size-=
b.size;a.height-=b.height;var c=Xa(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new wc(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<f){f=Math.min(b,f-a);if(e.iterN(a,f,c))return!0;if(0==(b-=f))break;a=0}else a-=f}}};var Yd=0,ab=l.Doc=function(a,b,c){if(!(this instanceof ab))return new ab(a,b,c);null==c&&(c=0);
wc.call(this,[new vc([new Rc("",null)])]);this.first=c;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=c;c=aa(c,0);this.sel=da(c);this.history=new xc(null);this.id=++Yd;this.modeOption=b;"string"==typeof a&&(a=Kb(a));qf(this,{from:c,to:c,text:a});ta(this,da(c),jc)};ab.prototype=zf(wc.prototype,{constructor:ab,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=
b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=ve(this,this.first,this.first+this.size);return!1===a?b:b.join(a||"\n")},setValue:cb(function(a){var b=aa(this.first,0),c=this.first+this.size-1;sc(this,{from:b,to:aa(c,ia(this,c).text.length),text:Kb(a),origin:"setValue"},!0);ta(this,da(b))}),replaceRange:function(a,b,c,d){b=ca(this,b);c=c?ca(this,c):b;Bd(this,a,b,c,d)},getRange:function(a,b,c){a=fc(this,ca(this,a),ca(this,
b));return!1===c?a:a.join(c||"\n")},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(Da(this,a))return ia(this,a)},getLineNumber:function(a){return Ga(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=ia(this,a));return Ab(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return ca(this,a)},getCursor:function(a){var b=this.sel.primary();return null==
a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:cb(function(a,b,c){a=ca(this,"number"==typeof a?aa(a,b||0):a);ta(this,da(a,null),c)}),setSelection:cb(function(a,b,c){var d=ca(this,a);a=ca(this,b||a);ta(this,da(d,a),c)}),extendSelection:cb(function(a,b,c){eb(this,ca(this,a),b&&ca(this,b),c)}),extendSelections:cb(function(a,b){for(var c=[],
d=0;d<a.length;d++)c[d]=ca(this,a[d]);fb(this,c)}),extendSelectionsBy:cb(function(a,b){fb(this,Ld(this.sel.ranges,a),b)}),setSelections:cb(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new O(ca(this,a[d].anchor),ca(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex));ta(this,W(e,b),c)}}),addSelection:cb(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new O(ca(this,a),ca(this,b||a)));ta(this,W(d,d.length-1),c)}),getSelection:function(a){for(var b=this.sel.ranges,
c,d=0;d<b.length;d++){var e=fc(this,b[d].from(),b[d].to());c=c?c.concat(e):e}return!1===a?c:c.join(a||"\n")},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var e=fc(this,c[d].from(),c[d].to());!1!==a&&(e=e.join(a||"\n"));b[d]=e}return b},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||"+input")},replaceSelections:cb(function(a,b,c){for(var d=[],e=this.sel,f=0;f<e.ranges.length;f++){var h=e.ranges[f];
d[f]={from:h.from(),to:h.to(),text:Kb(a[f]),origin:c}}if(f=b&&"end"!=b){f=[];c=a=aa(this.first,0);for(e=0;e<d.length;e++){var m=d[e],h=af(m.from,a,c),k=af(hc(m),a,c);a=m.to;c=k;"around"==b?(m=this.sel.ranges[e],m=0>oa(m.head,m.anchor),f[e]=new O(m?k:h,m?h:k)):f[e]=new O(h,h)}f=new Y(f,this.sel.primIndex)}b=f;for(f=d.length-1;0<=f;f--)sc(this,d[f]);b?ob(this,b):this.cm&&ed(this.cm)}),undo:cb(function(){je(this,"undo")}),redo:cb(function(){je(this,"redo")}),undoSelection:cb(function(){je(this,"undo",
!0)}),redoSelection:cb(function(){je(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(d=0;d<a.undone.length;d++)a.undone[d].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new xc(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=
this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:gc(this.history.done),undone:gc(this.history.undone)}},setHistory:function(a){var b=this.history=new xc(this.history.maxGeneration);b.done=gc(a.done.slice(0),null,!0);b.undone=gc(a.undone.slice(0),null,!0)},addLineClass:cb(function(a,b,c){return Fd(this,a,"class",function(a){var d="text"==b?"textClass":
"background"==b?"bgClass":"wrapClass";if(a[d]){if((new RegExp("(?:^|\\s)"+c+"(?:$|\\s)")).test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:cb(function(a,b,c){return Fd(this,a,"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass",e=a[d];if(e)if(null==c)a[d]=null;else{var f=e.match(new RegExp("(?:^|\\s+)"+c+"(?:$|\\s+)"));if(!f)return!1;var h=f.index+f[0].length;a[d]=e.slice(0,f.index)+(f.index&&h!=e.length?" ":"")+e.slice(h)||null}else return!1;
return!0})}),markText:function(a,b,c){return tc(this,ca(this,a),ca(this,b),c,"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared};a=ca(this,a);return tc(this,a,a,c,"bookmark")},findMarksAt:function(a){a=ca(this,a);var b=[],c=ia(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,
b,c){a=ca(this,a);b=ca(this,b);var d=[],e=a.line;this.iter(a.line,b.line+1,function(f){if(f=f.markedSpans)for(var h=0;h<f.length;h++){var m=f[h];e==a.line&&a.ch>m.to||null==m.from&&e!=a.line||e==b.line&&m.from>b.ch||c&&!c(m.marker)||d.push(m.marker.parent||m.marker)}++e});return d},getAllMarks:function(){var a=[];this.iter(function(b){if(b=b.markedSpans)for(var c=0;c<b.length;++c)null!=b[c].from&&a.push(b[c].marker)});return a},posFromIndex:function(a){var b,c=this.first;this.iter(function(d){d=d.text.length+
1;if(d>a)return b=a,!0;a-=d;++c});return ca(this,aa(c,b))},indexFromPos:function(a){a=ca(this,a);var b=a.ch;if(a.line<this.first||0>a.ch)return 0;this.iter(this.first,a.line,function(a){b+=a.text.length+1});return b},copy:function(a){var b=new ab(ve(this,this.first,this.first+this.size),this.modeOption,this.first);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.sel=this.sel;b.extend=!1;a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory()));return b},linkedDoc:function(a){a||
(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from);null!=a.to&&a.to<c&&(c=a.to);b=new ab(ve(this,b,c),a.mode||this.modeOption,b);a.sharedHist&&(b.history=this.history);(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=df(this);for(c=0;c<a.length;c++){var d=a[c],e=d.find(),f=b.clipPos(e.from),e=b.clipPos(e.to);oa(f,e)&&(f=tc(b,f,e,d.primary,d.primary.type),d.markers.push(f),f.parent=d)}return b},
unlinkDoc:function(a){a instanceof l&&(a=a.doc);if(this.linked)for(var b=0;b<this.linked.length;++b)if(this.linked[b].doc==a){this.linked.splice(b,1);a.unlinkDoc(this);dg(df(this));break}if(a.history==this.history){var c=[a.id];ec(a,function(a){c.push(a.id)},!0);a.history=new xc(null);a.history.done=gc(this.history.done,c);a.history.undone=gc(this.history.undone,c)}},iterLinkedDocs:function(a){ec(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}});ab.prototype.eachLine=
ab.prototype.iter;var ch=["iter","insert","remove","copy","getEditor"],Sc;for(Sc in ab.prototype)ab.prototype.hasOwnProperty(Sc)&&0>Xa(ch,Sc)&&(l.prototype[Sc]=function(a){return function(){return a.apply(this.doc,arguments)}}(ab.prototype[Sc]));Oc(ab);var Sa=l.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},dh=l.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},Qf=l.e_stop=function(a){Sa(a);dh(a)},na=l.on=function(a,b,c){a.addEventListener?
a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):(a=a._handlers||(a._handlers={}),(a[b]||(a[b]=[])).push(c))},Ib=l.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else if(a=a._handlers&&a._handlers[b])for(b=0;b<a.length;++b)if(a[b]==c){a.splice(b,1);break}},Ba=l.signal=function(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},
Zd=null,Jb=30,E=l.Pass={toString:function(){return"CodeMirror.Pass"}},jc={scroll:!1},Lb={origin:"*mouse"},Ka={origin:"+move"};xe.prototype.set=function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)};var ib=l.countColumn=function(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));d=d||0;for(e=e||0;;){var f=a.indexOf("\t",d);if(0>f||f>=b)return e+(b-d);e+=f-d;e+=c-e%c;d=f+1}},Le=[""],$d=function(a){a.select()};Wb?$d=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:
qa&&($d=function(a){try{a.select()}catch(b){}});[].indexOf&&(Xa=function(a,b){return a.indexOf(b)});[].map&&(Ld=function(a,b){return a.map(b)});var yg=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,zg=l.isWordChar=function(a){return/\w/.test(a)||"\u0080"<a&&(a.toUpperCase()!=a.toLowerCase()||yg.test(a))},Ag=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
ha;ha=document.createRange?function(a,b,c){var d=document.createRange();d.setEnd(a,c);d.setStart(a,b);return d}:function(a,b,c){var d=document.body.createTextRange();d.moveToElementText(a.parentNode);d.collapse(!0);d.moveEnd("character",c);d.moveStart("character",b);return d};qa&&11>wa&&(yc=function(){try{return document.activeElement}catch(a){return document.body}});var Qe=!1,eh=function(){if(qa&&9>wa)return!1;var a=ea("div");return"draggable"in a||"dragDrop"in a}(),kc,sd,td,Kb=l.splitLines=3!="\n\nb".split(/\n/).length?
function(a){for(var b=0,c=[],d=a.length;b<=d;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),h=f.indexOf("\r");-1!=h?(c.push(f.slice(0,h)),b+=h+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},ra=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},Me=
function(){var a=ea("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),ub=null,Mb={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",107:"\x3d",109:"-",127:"Delete",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",
191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};l.keyNames=Mb;(function(){for(var a=0;10>a;a++)Mb[a+48]=Mb[a+96]=String(a);for(a=65;90>=a;a++)Mb[a]=String.fromCharCode(a);for(a=1;12>=a;a++)Mb[a+111]=Mb[a+63235]="F"+a})();var vb,Sg=function(){function a(b){return 247>=b?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(b):
1424<=b&&1524>=b?"R":1536<=b&&1773>=b?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(b-1536):1774<=b&&2220>=b?"r":8192<=b&&8203>=b?"w":8204==b?"b":"L"}function b(a,c,d){this.level=a;this.from=c;this.to=d}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,d=/[stwN]/,e=/[LRr]/,f=/[Lb1n]/,h=/[1n]/;return function(m){if(!c.test(m))return!1;
for(var k=m.length,l=[],n=0,p;n<k;++n)l.push(a(m.charCodeAt(n)));for(var n=0,q="L";n<k;++n)p=l[n],"m"==p?l[n]=q:q=p;n=0;for(q="L";n<k;++n)p=l[n],"1"==p&&"r"==q?l[n]="n":e.test(p)&&(q=p,"r"==p&&(l[n]="R"));n=1;for(q=l[0];n<k-1;++n)p=l[n],"+"==p&&"1"==q&&"1"==l[n+1]?l[n]="1":","!=p||q!=l[n+1]||"1"!=q&&"n"!=q||(l[n]=q),q=p;for(n=0;n<k;++n)if(p=l[n],","==p)l[n]="N";else if("%"==p){for(q=n+1;q<k&&"%"==l[q];++q);var r=n&&"!"==l[n-1]||q<k&&"1"==l[q]?"1":"N";for(p=n;p<q;++p)l[p]=r;n=q-1}n=0;for(q="L";n<k;++n)p=
l[n],"L"==q&&"1"==p?l[n]="L":e.test(p)&&(q=p);for(n=0;n<k;++n)if(d.test(l[n])){for(q=n+1;q<k&&d.test(l[q]);++q);p="L"==(q<k?l[q]:"L");r="L"==(n?l[n-1]:"L")||p?"L":"R";for(p=n;p<q;++p)l[p]=r;n=q-1}for(var q=[],t,n=0;n<k;)if(f.test(l[n])){p=n;for(++n;n<k&&f.test(l[n]);++n);q.push(new b(0,p,n))}else{var v=n,r=q.length;for(++n;n<k&&"L"!=l[n];++n);for(p=v;p<n;)if(h.test(l[p])){v<p&&q.splice(r,0,new b(1,v,p));v=p;for(++p;p<n&&h.test(l[p]);++p);q.splice(r,0,new b(2,v,p));v=p}else++p;v<n&&q.splice(r,0,new b(1,
v,n))}1==q[0].level&&(t=m.match(/^\s+/))&&(q[0].from=t[0].length,q.unshift(new b(0,0,t[0].length)));1==xa(q).level&&(t=m.match(/\s+$/))&&(xa(q).to-=t[0].length,q.push(new b(0,k-t[0].length,k)));q[0].level!=xa(q).level&&q.push(new b(q[0].level,k,k));return q}}();l.version="4.5.0";return l})},"codemirror4/mode/htmlmixed/htmlmixed":function(){(function(l){"object"==typeof exports&&"object"==typeof module?l(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):
"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],l):l(CodeMirror)})(function(l){l.defineMode("htmlmixed",function(k,h){function f(a,f){var h=f.htmlState.tagName,k=m.token(a,f.htmlState);if("script"==h&&/\btag\b/.test(k)&&"\x3e"==a.current()){(h=(h=a.string.slice(Math.max(0,a.pos-100),a.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i))?h[1]:"")&&/[\"\']/.test(h.charAt(0))&&(h=h.slice(1,h.length-1));for(var l=0;l<b.length;++l){var n=
b[l];if("string"==typeof n.matches?h==n.matches:n.matches.test(h)){n.mode&&(f.token=c,f.localMode=n.mode,f.localState=n.mode.startState&&n.mode.startState(m.indent(f.htmlState,"")));break}}}else"style"==h&&/\btag\b/.test(k)&&"\x3e"==a.current()&&(f.token=e,f.localMode=d,f.localState=d.startState(m.indent(f.htmlState,"")));return k}function a(a,b,c){var d=a.current(),e=d.search(b);-1<e?a.backUp(d.length-e):d.match(/<\/?$/)&&(a.backUp(d.length),a.match(b,!1)||a.match(d));return c}function c(b,c){return b.match(/^<\/\s*script\s*>/i,
!1)?(c.token=f,c.localState=c.localMode=null,f(b,c)):a(b,/<\/\s*script\s*>/,c.localMode.token(b,c.localState))}function e(b,c){return b.match(/^<\/\s*style\s*>/i,!1)?(c.token=f,c.localState=c.localMode=null,f(b,c)):a(b,/<\/\s*style\s*>/,d.token(b,c.localState))}var m=l.getMode(k,{name:"xml",htmlMode:!0,multilineTagIndentFactor:h.multilineTagIndentFactor,multilineTagIndentPastTag:h.multilineTagIndentPastTag}),d=l.getMode(k,"css"),b=[],n=h&&h.scriptTypes;b.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,
mode:l.getMode(k,"javascript")});if(n)for(var p=0;p<n.length;++p){var q=n[p];b.push({matches:q.matches,mode:q.mode&&l.getMode(k,q.mode)})}b.push({matches:/./,mode:l.getMode(k,"text/plain")});return{startState:function(){var a=m.startState();return{token:f,localMode:null,localState:null,htmlState:a}},copyState:function(a){if(a.localState)var b=l.copyState(a.localMode,a.localState);return{token:a.token,localMode:a.localMode,localState:b,htmlState:l.copyState(m,a.htmlState)}},token:function(a,b){return b.token(a,
b)},indent:function(a,b){return!a.localMode||/^\s*<\//.test(b)?m.indent(a.htmlState,b):a.localMode.indent?a.localMode.indent(a.localState,b):l.Pass},innerMode:function(a){return{state:a.localState||a.htmlState,mode:a.localMode||m}}}},"xml","javascript","css");l.defineMIME("text/html","htmlmixed")})},"codemirror4/mode/xml/xml":function(){(function(l){"object"==typeof exports&&"object"==typeof module?l(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],
l):l(CodeMirror)})(function(l){l.defineMode("xml",function(k,h){function f(b,c){function d(a){c.tokenize=a;return a(b,c)}var f=b.next();if("\x3c"==f){if(b.eat("!"))return b.eat("[")?b.match("CDATA[")?d(e("atom","]]\x3e")):null:b.match("--")?d(e("comment","--\x3e")):b.match("DOCTYPE",!0,!0)?(b.eatWhile(/[\w\._\-]/),d(m(1))):null;if(b.eat("?"))return b.eatWhile(/[\w\._\-]/),c.tokenize=e("meta","?\x3e"),"meta";F=b.eat("/")?"closeTag":"openTag";c.tokenize=a;return"tag bracket"}if("\x26"==f)return(b.eat("#")?
b.eat("x")?b.eatWhile(/[a-fA-F\d]/)&&b.eat(";"):b.eatWhile(/[\d]/)&&b.eat(";"):b.eatWhile(/[\w\.\-:]/)&&b.eat(";"))?"atom":"error";b.eatWhile(/[^&<]/);return null}function a(a,b){var d=a.next();if("\x3e"==d||"/"==d&&a.eat("\x3e"))return b.tokenize=f,F="\x3e"==d?"endTag":"selfcloseTag","tag bracket";if("\x3d"==d)return F="equals",null;if("\x3c"==d)return b.tokenize=f,b.state=p,b.tagName=b.tagStart=null,(d=b.tokenize(a,b))?d+" tag error":"tag error";if(/[\'\"]/.test(d))return b.tokenize=c(d),b.stringStartCol=
a.column(),b.tokenize(a,b);a.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function c(b){var c=function(c,d){for(;!c.eol();)if(c.next()==b){d.tokenize=a;break}return"string"};c.isInAttribute=!0;return c}function e(a,b){return function(c,d){for(;!c.eol();){if(c.match(b)){d.tokenize=f;break}c.next()}return a}}function m(a){return function(b,c){for(var d;null!=(d=b.next());){if("\x3c"==d)return c.tokenize=m(a+1),c.tokenize(b,c);if("\x3e"==d)if(1==a){c.tokenize=f;break}else return c.tokenize=
m(a-1),c.tokenize(b,c)}return"meta"}}function d(a,b,c){this.prev=a.context;this.tagName=b;this.indent=a.indented;this.startOfLine=c;if(C.doNotIndent.hasOwnProperty(b)||a.context&&a.context.noIndent)this.noIndent=!0}function b(a){a.context&&(a.context=a.context.prev)}function n(a,c){for(var d;a.context;){d=a.context.tagName;if(!C.contextGrabbers.hasOwnProperty(d)||!C.contextGrabbers[d].hasOwnProperty(c))break;b(a)}}function p(a,b,c){return"openTag"==a?(c.tagStart=b.column(),q):"closeTag"==a?r:p}function q(a,
b,c){if("word"==a)return c.tagName=b.current(),G="tag",w;G="error";return q}function r(a,c,d){if("word"==a){a=c.current();d.context&&d.context.tagName!=a&&C.implicitlyClosed.hasOwnProperty(d.context.tagName)&&b(d);if(d.context&&d.context.tagName==a)return G="tag",t;G="tag error";return u}G="error";return u}function t(a,c,d){if("endTag"!=a)return G="error",t;b(d);return p}function u(a,b,c){G="error";return t(a,b,c)}function w(a,b,c){if("word"==a)return G="attribute",v;if("endTag"==a||"selfcloseTag"==
a){b=c.tagName;var e=c.tagStart;c.tagName=c.tagStart=null;"selfcloseTag"==a||C.autoSelfClosers.hasOwnProperty(b)?n(c,b):(n(c,b),c.context=new d(c,b,e==c.indented));return p}G="error";return w}function v(a,b,c){if("equals"==a)return y;C.allowMissing||(G="error");return w(a,b,c)}function y(a,b,c){if("string"==a)return x;if("word"==a&&C.allowUnquoted)return G="string",w;G="error";return w(a,b,c)}function x(a,b,c){return"string"==a?x:w(a,b,c)}var A=k.indentUnit,z=h.multilineTagIndentFactor||1,B=h.multilineTagIndentPastTag;
null==B&&(B=!0);var C=h.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,
form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},D=h.alignCDATA,F,G;return{startState:function(){return{tokenize:f,
state:p,indented:0,tagName:null,tagStart:null,context:null}},token:function(a,b){!b.tagName&&a.sol()&&(b.indented=a.indentation());if(a.eatSpace())return null;F=null;var c=b.tokenize(a,b);(c||F)&&"comment"!=c&&(G=null,b.state=b.state(F||c,a,b),G&&(c="error"==G?c+" error":G));return c},indent:function(b,c,d){var e=b.context;if(b.tokenize.isInAttribute)return b.tagStart==b.indented?b.stringStartCol+1:b.indented+A;if(e&&e.noIndent)return l.Pass;if(b.tokenize!=a&&b.tokenize!=f)return d?d.match(/^(\s*)/)[0].length:
0;if(b.tagName)return B?b.tagStart+b.tagName.length+2:b.tagStart+A*z;if(D&&/<!\[CDATA\[/.test(c))return 0;if((b=c&&/^<(\/)?([\w_:\.-]*)/.exec(c))&&b[1])for(;e;)if(e.tagName==b[2]){e=e.prev;break}else if(C.implicitlyClosed.hasOwnProperty(e.tagName))e=e.prev;else break;else if(b)for(;e;)if((c=C.contextGrabbers[e.tagName])&&c.hasOwnProperty(b[2]))e=e.prev;else break;for(;e&&!e.startOfLine;)e=e.prev;return e?e.indent+A:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",
configuration:h.htmlMode?"html":"xml",helperType:h.htmlMode?"html":"xml"}});l.defineMIME("text/xml","xml");l.defineMIME("application/xml","xml");l.mimeModes.hasOwnProperty("text/html")||l.defineMIME("text/html",{name:"xml",htmlMode:!0})})},"codemirror4/mode/javascript/javascript":function(){(function(l){"object"==typeof exports&&"object"==typeof module?l(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],l):l(CodeMirror)})(function(l){l.defineMode("javascript",
function(k,h){function f(a,b,c){wb=a;Nb=c;return b}function a(a,b){var d=a.next();if('"'==d||"'"==d)return b.tokenize=c(d),b.tokenize(a,b);if("."==d&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return f("number","number");if("."==d&&a.match(".."))return f("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(d))return f(d);if("\x3d"==d&&a.eat("\x3e"))return f("\x3d\x3e","operator");if("0"==d&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),f("number","number");if(/\d/.test(d))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),
f("number","number");if("/"==d){if(a.eat("*"))return b.tokenize=e,e(a,b);if(a.eat("/"))return a.skipToEnd(),f("comment","comment");if("operator"==b.lastType||"keyword c"==b.lastType||"sof"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType)){a:for(var d=!1,h,k=!1;null!=(h=a.next());){if(!d){if("/"==h&&!k)break a;"["==h?k=!0:k&&"]"==h&&(k=!1)}d=!d&&"\\"==h}a.eatWhile(/[gimy]/);return f("regexp","string-2")}a.eatWhile(pa);return f("operator","operator",a.current())}if("`"==d)return b.tokenize=m,m(a,b);if("#"==
d)return a.skipToEnd(),f("error","error");if(pa.test(d))return a.eatWhile(pa),f("operator","operator",a.current());if(lc.test(d))return a.eatWhile(lc),d=a.current(),(h=Zb.propertyIsEnumerable(d)&&Zb[d])&&"."!=b.lastType?f(h.type,h.style,d):f("variable","variable",d)}function c(b){return function(c,d){var e=!1,h;if(kb&&"@"==c.peek()&&c.match(Uc))return d.tokenize=a,f("jsonld-keyword","meta");for(;null!=(h=c.next())&&(h!=b||e);)e=!e&&"\\"==h;e||(d.tokenize=a);return f("string","string")}}function e(b,
c){for(var d=!1,e;e=b.next();){if("/"==e&&d){c.tokenize=a;break}d="*"==e}return f("comment","comment")}function m(b,c){for(var d=!1,e;null!=(e=b.next());){if(!d&&("`"==e||"$"==e&&b.eat("{"))){c.tokenize=a;break}d=!d&&"\\"==e}return f("quasi","string-2",b.current())}function d(a,b){b.fatArrowAt&&(b.fatArrowAt=null);var c=a.string.indexOf("\x3d\x3e",a.start);if(!(0>c)){for(var d=0,e=!1,c=c-1;0<=c;--c){var f=a.string.charAt(c),h="([{}])".indexOf(f);if(0<=h&&3>h){if(!d){++c;break}if(0==--d)break}else if(3<=
h&&6>h)++d;else if(lc.test(f))e=!0;else if(e&&!d){++c;break}}e&&!d&&(b.fatArrowAt=c)}}function b(a,b,c,d,e,f){this.indented=a;this.column=b;this.type=c;this.prev=e;this.info=f;null!=d&&(this.align=d)}function n(){for(var a=arguments.length-1;0<=a;a--)fa.cc.push(arguments[a])}function p(){n.apply(null,arguments);return!0}function q(a){function b(c){for(;c;c=c.next)if(c.name==a)return!0;return!1}var c=fa.state;c.context?(fa.marked="def",b(c.localVars)||(c.localVars={name:a,next:c.localVars})):!b(c.globalVars)&&
h.globalVars&&(c.globalVars={name:a,next:c.globalVars})}function r(){fa.state.context={prev:fa.state.context,vars:fa.state.localVars};fa.state.localVars=Fc}function t(){fa.state.localVars=fa.state.context.vars;fa.state.context=fa.state.context.prev}function u(a,c){var d=function(){var d=fa.state,e=d.indented;if("stat"==d.lexical.type)e=d.lexical.indented;else for(var f=d.lexical;f&&")"==f.type&&f.align;f=f.prev)e=f.indented;d.lexical=new b(e,fa.stream.column(),a,null,d.lexical,c)};d.lex=!0;return d}
function w(){var a=fa.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function v(a){function b(c){return c==a?p():";"==a?n():p(b)}return b}function y(a,b){return"var"==a?p(u("vardef",b.length),S,v(";"),w):"keyword a"==a?p(u("form"),x,y,w):"keyword b"==a?p(u("form"),y,w):"{"==a?p(u("}"),R,w):";"==a?p():"if"==a?("else"==fa.state.lexical.info&&fa.state.cc[fa.state.cc.length-1]==w&&fa.state.cc.pop()(),p(u("form"),x,y,w,ca)):"function"==a?p(ja):"for"==
a?p(u("form"),Da,y,w):"variable"==a?p(u("stat"),T):"switch"==a?p(u("form"),x,u("}","switch"),v("{"),R,w,w):"case"==a?p(x,v(":")):"default"==a?p(v(":")):"catch"==a?p(u("form"),r,v("("),ob,v(")"),y,w,t):"module"==a?p(u("form"),r,hb,t,w):"class"==a?p(u("form"),ta,w):"export"==a?p(u("form"),sa,w):"import"==a?p(u("form"),Xb,w):n(u("stat"),x,v(";"),w)}function x(a){return z(a,!1)}function A(a){return z(a,!0)}function z(a,b){if(fa.state.fatArrowAt==fa.stream.start){var c=b?J:L;if("("==a)return p(r,u(")"),
H(Y,")"),w,v("\x3d\x3e"),c,t);if("variable"==a)return n(r,Y,v("\x3d\x3e"),c,t)}c=b?F:D;return Ec.hasOwnProperty(a)?p(c):"function"==a?p(ja,c):"keyword c"==a?p(b?C:B):"("==a?p(u(")"),B,va,v(")"),w,c):"operator"==a||"spread"==a?p(b?A:x):"["==a?p(u("]"),Dc,w,c):"{"==a?X(P,"}",null,c):"quasi"==a?n(G,c):p()}function B(a){return a.match(/[;\}\)\],]/)?n():n(x)}function C(a){return a.match(/[;\}\)\],]/)?n():n(A)}function D(a,b){return","==a?p(x):F(a,b,!1)}function F(a,b,c){var d=0==c?D:F,e=0==c?x:A;if("\x3d\x3e"==
b)return p(r,c?J:L,t);if("operator"==a)return/\+\+|--/.test(b)?p(d):"?"==b?p(x,v(":"),e):p(e);if("quasi"==a)return n(G,d);if(";"!=a){if("("==a)return X(A,")","call",d);if("."==a)return p(V,d);if("["==a)return p(u("]"),B,v("]"),w,d)}}function G(a,b){return"quasi"!=a?n():"${"!=b.slice(b.length-2)?p(G):p(x,I)}function I(a){if("}"==a)return fa.marked="string-2",fa.state.tokenize=m,p(G)}function L(a){d(fa.stream,fa.state);return"{"==a?n(y):n(x)}function J(a){d(fa.stream,fa.state);return"{"==a?n(y):n(A)}
function T(a){return":"==a?p(w,y):n(D,v(";"),w)}function V(a){if("variable"==a)return fa.marked="property",p()}function P(a,b){if("variable"==a||"keyword"==fa.style)return fa.marked="property","get"==b||"set"==b?p(K):p(M);if("number"==a||"string"==a)return fa.marked=kb?"property":fa.style+" property",p(M);if("jsonld-keyword"==a)return p(M);if("["==a)return p(x,v("]"),M)}function K(a){if("variable"!=a)return n(M);fa.marked="property";return p(ja)}function M(a){if(":"==a)return p(A);if("("==a)return n(ja)}
function H(a,b){function c(d){return","==d?(d=fa.state.lexical,"call"==d.info&&(d.pos=(d.pos||0)+1),p(a,c)):d==b?p():p(v(b))}return function(d){return d==b?p():n(a,c)}}function X(a,b,c){for(var d=3;d<arguments.length;d++)fa.cc.push(arguments[d]);return p(u(b,c),H(a,b),w)}function R(a){return"}"==a?p():n(y,R)}function N(a){if(Yb&&":"==a)return p(Q)}function Q(a){if("variable"==a)return fa.marked="variable-3",p()}function S(){return n(Y,N,W,da)}function Y(a,b){if("variable"==a)return q(b),p();if("["==
a)return X(Y,"]");if("{"==a)return X(O,"}")}function O(a,b){if("variable"==a&&!fa.stream.match(/^\s*:/,!1))return q(b),p(W);"variable"==a&&(fa.marked="property");return p(v(":"),Y,W)}function W(a,b){if("\x3d"==b)return p(A)}function da(a){if(","==a)return p(S)}function ca(a,b){if("keyword b"==a&&"else"==b)return p(u("form","else"),y,w)}function Da(a){if("("==a)return p(u(")"),ua,v(")"),w)}function ua(a){return"var"==a?p(S,v(";"),fb):";"==a?p(fb):"variable"==a?p(eb):n(x,v(";"),fb)}function eb(a,b){return"in"==
b||"of"==b?(fa.marked="keyword",p(x)):p(D,fb)}function fb(a,b){return";"==a?p(La):"in"==b||"of"==b?(fa.marked="keyword",p(x)):n(x,v(";"),La)}function La(a){")"!=a&&p(x)}function ja(a,b){if("*"==b)return fa.marked="keyword",p(ja);if("variable"==a)return q(b),p(ja);if("("==a)return p(r,u(")"),H(ob,")"),w,y,t)}function ob(a){return"spread"==a?p(ob):n(Y,N)}function ta(a,b){if("variable"==a)return q(b),p(Aa)}function Aa(a,b){if("extends"==b)return p(x,Aa);if("{"==a)return p(u("}"),Ua,w)}function Ua(a,
b){if("variable"==a||"keyword"==fa.style)return fa.marked="property","get"==b||"set"==b?p(Ca,ja,Ua):p(ja,Ua);if("*"==b)return fa.marked="keyword",p(Ua);if(";"==a)return p(Ua);if("}"==a)return p()}function Ca(a){if("variable"!=a)return n();fa.marked="property";return p()}function hb(a,b){if("string"==a)return p(y);if("variable"==a)return q(b),p(jb)}function sa(a,b){return"*"==b?(fa.marked="keyword",p(jb,v(";"))):"default"==b?(fa.marked="keyword",p(x,v(";"))):n(y)}function Xb(a){return"string"==a?p():
n(Ta,jb)}function Ta(a,b){if("{"==a)return X(Ta,"}");"variable"==a&&q(b);return p()}function jb(a,b){if("from"==b)return fa.marked="keyword",p(x)}function Dc(a){return"]"==a?p():n(A,Za)}function Za(a){return"for"==a?n(va,v("]")):","==a?p(H(A,"]")):n(H(A,"]"))}function va(a){if("for"==a)return p(Da,va);if("if"==a)return p(x,va)}var gb=k.indentUnit,tb=h.statementIndent,kb=h.jsonld,lb=h.json||kb,Yb=h.typescript,lc=h.wordCharacters||/[\w$]/,Zb=function(){function a(b){return{type:b,style:"keyword"}}var b=
a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"},b={"if":a("if"),"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"debugger":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,undefined:f,NaN:f,Infinity:f,"this":a("this"),
module:a("module"),"class":a("class"),"super":a("atom"),yield:d,"export":a("export"),"import":a("import"),"extends":d};if(Yb){var c={type:"variable",style:"variable-3"},c={"interface":a("interface"),"extends":a("extends"),constructor:a("constructor"),"public":a("public"),"private":a("private"),"protected":a("protected"),"static":a("static"),string:c,number:c,bool:c,any:c},h;for(h in c)b[h]=c[h]}return b}(),pa=/[+\-*&%=<>!?|~^]/,Uc=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,
wb,Nb,Ec={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},fa={state:null,column:null,marked:null,cc:null},Fc={name:"this",next:{name:"arguments"}};w.lex=!0;return{startState:function(c){c={tokenize:a,lastType:"sof",cc:[],lexical:new b((c||0)-gb,0,"block",!1),localVars:h.localVars,context:h.localVars&&{vars:h.localVars},indented:0};h.globalVars&&"object"==typeof h.globalVars&&(c.globalVars=h.globalVars);return c},token:function(a,b){a.sol()&&(b.lexical.hasOwnProperty("align")||
(b.lexical.align=!1),b.indented=a.indentation(),d(a,b));if(b.tokenize!=e&&a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"==wb)return c;b.lastType="operator"!=wb||"++"!=Nb&&"--"!=Nb?wb:"incdec";a:{var f=wb,h=Nb,m=b.cc;fa.state=b;fa.stream=a;fa.marked=null;fa.cc=m;fa.style=c;b.lexical.hasOwnProperty("align")||(b.lexical.align=!0);for(;;)if((m.length?m.pop():lb?x:y)(f,h)){for(;m.length&&m[m.length-1].lex;)m.pop()();if(fa.marked){c=fa.marked;break a}if(f="variable"==f)b:{for(f=b.localVars;f;f=
f.next)if(f.name==h){f=!0;break b}for(m=b.context;m;m=m.prev)for(f=m.vars;f;f=f.next)if(f.name==h){f=!0;break b}f=void 0}if(f){c="variable-2";break a}break a}}return c},indent:function(b,c){if(b.tokenize==e)return l.Pass;if(b.tokenize!=a)return 0;var d=c&&c.charAt(0),f=b.lexical;if(!/^\s*else\b/.test(c))for(var m=b.cc.length-1;0<=m;--m){var k=b.cc[m];if(k==w)f=f.prev;else if(k!=ca)break}"stat"==f.type&&"}"==d&&(f=f.prev);tb&&")"==f.type&&"stat"==f.prev.type&&(f=f.prev);m=f.type;k=d==m;return"vardef"==
m?f.indented+("operator"==b.lastType||","==b.lastType?f.info+1:0):"form"==m&&"{"==d?f.indented:"form"==m?f.indented+gb:"stat"==m?f.indented+("operator"==b.lastType||","==b.lastType?tb||gb:0):"switch"!=f.info||k||0==h.doubleIndentSwitch?f.align?f.column+(k?0:1):f.indented+(k?0:gb):f.indented+(/^(?:case|default)\b/.test(c)?gb:2*gb)},electricChars:":{}",blockCommentStart:lb?null:"/*",blockCommentEnd:lb?null:"*/",lineComment:lb?null:"//",fold:"brace",helperType:lb?"json":"javascript",jsonldMode:kb,jsonMode:lb}});
l.registerHelper("wordChars","javascript",/[\w$]/);l.defineMIME("text/javascript","javascript");l.defineMIME("text/ecmascript","javascript");l.defineMIME("application/javascript","javascript");l.defineMIME("application/x-javascript","javascript");l.defineMIME("application/ecmascript","javascript");l.defineMIME("application/json",{name:"javascript",json:!0});l.defineMIME("application/x-json",{name:"javascript",json:!0});l.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});l.defineMIME("text/typescript",
{name:"javascript",typescript:!0});l.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},"codemirror4/mode/css/css":function(){(function(l){"object"==typeof exports&&"object"==typeof module?l(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],l):l(CodeMirror)})(function(l){function k(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=!0;return b}function h(a,b){for(var c=!1,d;null!=(d=a.next());){if(c&&"/"==d){b.tokenize=null;break}c=
"*"==d}return["comment","comment"]}function f(a,b){a.skipTo("--\x3e")?(a.match("--\x3e"),b.tokenize=null):a.skipToEnd();return["comment","comment"]}l.defineMode("css",function(a,b){function c(a,b){N=b;return a}function d(a,b){var h=a.next();if(r[h]){var m=r[h](a,b);if(!1!==m)return m}if("@"==h)return a.eatWhile(/[\w\\\-]/),c("def",a.current());if("\x3d"==h||("~"==h||"|"==h)&&a.eat("\x3d"))return c(null,"compare");if('"'==h||"'"==h)return b.tokenize=e(h),b.tokenize(a,b);if("#"==h)return a.eatWhile(/[\w\\\-]/),
c("atom","hash");if("!"==h)return a.match(/^\s*\w*/),c("keyword","important");if(/\d/.test(h)||"."==h&&a.eat(/\d/))return a.eatWhile(/[\w.%]/),c("number","unit");if("-"===h){if(/[\d.]/.test(a.peek()))return a.eatWhile(/[\w.%]/),c("number","unit");if(a.match(/^\w+-/))return c("meta","meta")}else return/[,+>*\/]/.test(h)?c(null,"select-op"):"."==h&&a.match(/^-?[_a-z][_a-z0-9-]*/i)?c("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(h)?c(null,h):"u"==h&&a.match("rl(")?(a.backUp(1),b.tokenize=f,c("property",
"word")):/[\w\\\-]/.test(h)?(a.eatWhile(/[\w\\\-]/),c("property","word")):c(null,null)}function e(a){return function(b,d){for(var e=!1,f;null!=(f=b.next());){if(f==a&&!e){")"==a&&b.backUp(1);break}e=!e&&"\\"==f}if(f==a||!e&&")"!=a)d.tokenize=null;return c("string","string")}}function f(a,b){a.next();a.match(/\s*[\"\')]/,!1)?b.tokenize=null:b.tokenize=e(")");return c(null,"(")}function h(a,b,c){this.type=a;this.indent=b;this.prev=c}function m(a,b,c){a.context=new h(c,b.indentation()+q,a.context);return c}
function k(a){a.context=a.context.prev;return a.context.type}function n(a,b,c,d){for(d=d||1;0<d;d--)c.context=c.context.prev;return S[c.context.type](a,b,c)}function p(a){a=a.current().toLowerCase();Q=H.hasOwnProperty(a)?"atom":M.hasOwnProperty(a)?"keyword":"variable"}b.propertyKeywords||(b=l.resolveMode("text/css"));var q=a.indentUnit,r=b.tokenHooks,t=b.mediaTypes||{},u=b.mediaFeatures||{},w=b.propertyKeywords||{},K=b.nonStandardPropertyKeywords||{},M=b.colorKeywords||{},H=b.valueKeywords||{},X=
b.fontProperties||{},R=b.allowNested,N,Q,S={top:function(a,b,c){if("{"==a)return m(c,b,"block");if("}"==a&&c.context.prev)return k(c);if("@media"==a)return m(c,b,"media");if("@font-face"==a)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(a))return"keyframes";if(a&&"@"==a.charAt(0))return m(c,b,"at");if("hash"==a)Q="builtin";else if("word"==a)Q="tag";else{if("variable-definition"==a)return"maybeprop";if("interpolation"==a)return m(c,b,"interpolation");if(":"==a)return"pseudo";
if(R&&"("==a)return m(c,b,"parens")}return c.context.type},block:function(a,b,c){if("word"==a){a=b.current().toLowerCase();if(w.hasOwnProperty(a))return Q="property","maybeprop";if(K.hasOwnProperty(a))return Q="string-2","maybeprop";if(R)return Q=b.match(/^\s*:/,!1)?"property":"tag","block";Q+=" error";return"maybeprop"}if("meta"==a)return"block";if(R||"hash"!=a&&"qualifier"!=a)return S.top(a,b,c);Q="error";return"block"},maybeprop:function(a,b,c){return":"==a?m(c,b,"prop"):S[c.context.type](a,b,
c)},prop:function(a,b,c){if(";"==a)return k(c);if("{"==a&&R)return m(c,b,"propBlock");if("}"==a||"{"==a)return n(a,b,c);if("("==a)return m(c,b,"parens");if("hash"==a&&!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(b.current()))Q+=" error";else if("word"==a)p(b);else if("interpolation"==a)return m(c,b,"interpolation");return"prop"},propBlock:function(a,b,c){return"}"==a?k(c):"word"==a?(Q="property","maybeprop"):c.context.type},parens:function(a,b,c){if("{"==a||"}"==a)return n(a,b,c);if(")"==a)return k(c);
if("("==a)return m(c,b,"parens");"word"==a&&p(b);return"parens"},pseudo:function(a,b,c){return"word"==a?(Q="variable-3",c.context.type):S[c.context.type](a,b,c)},media:function(a,b,c){if("("==a)return m(c,b,"media_parens");if("}"==a)return n(a,b,c);if("{"==a)return k(c)&&m(c,b,R?"block":"top");"word"==a&&(a=b.current().toLowerCase(),Q="only"==a||"not"==a||"and"==a?"keyword":t.hasOwnProperty(a)?"attribute":u.hasOwnProperty(a)?"property":"error");return c.context.type},media_parens:function(a,b,c){return")"==
a?k(c):"{"==a||"}"==a?n(a,b,c,2):S.media(a,b,c)},font_face_before:function(a,b,c){return"{"==a?m(c,b,"font_face"):S[c.context.type](a,b,c)},font_face:function(a,b,c){return"}"==a?k(c):"word"==a?(Q=X.hasOwnProperty(b.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},keyframes:function(a,b,c){return"word"==a?(Q="variable","keyframes"):"{"==a?m(c,b,"top"):S[c.context.type](a,b,c)},at:function(a,b,c){if(";"==a)return k(c);if("{"==a||"}"==a)return n(a,b,c);"word"==a?Q="tag":"hash"==
a&&(Q="builtin");return"at"},interpolation:function(a,b,c){if("}"==a)return k(c);if("{"==a||";"==a)return n(a,b,c);"variable"!=a&&(Q="error");return"interpolation"}};return{startState:function(a){return{tokenize:null,state:"top",context:new h("top",a||0,null)}},token:function(a,b){if(!b.tokenize&&a.eatSpace())return null;var c=(b.tokenize||d)(a,b);c&&"object"==typeof c&&(N=c[1],c=c[0]);Q=c;b.state=S[b.state](N,a,b);return Q},indent:function(a,b){var c=a.context,d=b&&b.charAt(0),e=c.indent;"prop"!=
c.type||"}"!=d&&")"!=d||(c=c.prev);!c.prev||("}"!=d||"block"!=c.type&&"top"!=c.type&&"interpolation"!=c.type&&"font_face"!=c.type)&&(")"!=d||"parens"!=c.type&&"media_parens"!=c.type)&&("{"!=d||"at"!=c.type&&"media"!=c.type)||(e=c.indent-q);return e},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var a="all aural braille handheld print projection screen tty tv embossed".split(" "),c=k(a),e="width min-width max-width height min-height max-height device-width min-device-width max-device-width device-height min-device-height max-device-height aspect-ratio min-aspect-ratio max-aspect-ratio device-aspect-ratio min-device-aspect-ratio max-device-aspect-ratio color min-color max-color color-index min-color-index max-color-index monochrome min-monochrome max-monochrome resolution min-resolution max-resolution scan grid".split(" "),
m=k(e),d="align-content align-items align-self alignment-adjust alignment-baseline anchor-point animation animation-delay animation-direction animation-duration animation-fill-mode animation-iteration-count animation-name animation-play-state animation-timing-function appearance azimuth backface-visibility background background-attachment background-clip background-color background-image background-origin background-position background-repeat background-size baseline-shift binding bleed bookmark-label bookmark-level bookmark-state bookmark-target border border-bottom border-bottom-color border-bottom-left-radius border-bottom-right-radius border-bottom-style border-bottom-width border-collapse border-color border-image border-image-outset border-image-repeat border-image-slice border-image-source border-image-width border-left border-left-color border-left-style border-left-width border-radius border-right border-right-color border-right-style border-right-width border-spacing border-style border-top border-top-color border-top-left-radius border-top-right-radius border-top-style border-top-width border-width bottom box-decoration-break box-shadow box-sizing break-after break-before break-inside caption-side clear clip color color-profile column-count column-fill column-gap column-rule column-rule-color column-rule-style column-rule-width column-span column-width columns content counter-increment counter-reset crop cue cue-after cue-before cursor direction display dominant-baseline drop-initial-after-adjust drop-initial-after-align drop-initial-before-adjust drop-initial-before-align drop-initial-size drop-initial-value elevation empty-cells fit fit-position flex flex-basis flex-direction flex-flow flex-grow flex-shrink flex-wrap float float-offset flow-from flow-into font font-feature-settings font-family font-kerning font-language-override font-size font-size-adjust font-stretch font-style font-synthesis font-variant font-variant-alternates font-variant-caps font-variant-east-asian font-variant-ligatures font-variant-numeric font-variant-position font-weight grid grid-area grid-auto-columns grid-auto-flow grid-auto-position grid-auto-rows grid-column grid-column-end grid-column-start grid-row grid-row-end grid-row-start grid-template grid-template-areas grid-template-columns grid-template-rows hanging-punctuation height hyphens icon image-orientation image-rendering image-resolution inline-box-align justify-content left letter-spacing line-break line-height line-stacking line-stacking-ruby line-stacking-shift line-stacking-strategy list-style list-style-image list-style-position list-style-type margin margin-bottom margin-left margin-right margin-top marker-offset marks marquee-direction marquee-loop marquee-play-count marquee-speed marquee-style max-height max-width min-height min-width move-to nav-down nav-index nav-left nav-right nav-up object-fit object-position opacity order orphans outline outline-color outline-offset outline-style outline-width overflow overflow-style overflow-wrap overflow-x overflow-y padding padding-bottom padding-left padding-right padding-top page page-break-after page-break-before page-break-inside page-policy pause pause-after pause-before perspective perspective-origin pitch pitch-range play-during position presentation-level punctuation-trim quotes region-break-after region-break-before region-break-inside region-fragment rendering-intent resize rest rest-after rest-before richness right rotation rotation-point ruby-align ruby-overhang ruby-position ruby-span shape-image-threshold shape-inside shape-margin shape-outside size speak speak-as speak-header speak-numeral speak-punctuation speech-rate stress string-set tab-size table-layout target target-name target-new target-position text-align text-align-last text-decoration text-decoration-color text-decoration-line text-decoration-skip text-decoration-style text-emphasis text-emphasis-color text-emphasis-position text-emphasis-style text-height text-indent text-justify text-outline text-overflow text-shadow text-size-adjust text-space-collapse text-transform text-underline-position text-wrap top transform transform-origin transform-style transition transition-delay transition-duration transition-property transition-timing-function unicode-bidi vertical-align visibility voice-balance voice-duration voice-family voice-pitch voice-range voice-rate voice-stress voice-volume volume white-space widows width word-break word-spacing word-wrap z-index clip-path clip-rule mask enable-background filter flood-color flood-opacity lighting-color stop-color stop-opacity pointer-events color-interpolation color-interpolation-filters color-rendering fill fill-opacity fill-rule image-rendering marker marker-end marker-mid marker-start shape-rendering stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-rendering baseline-shift dominant-baseline glyph-orientation-horizontal glyph-orientation-vertical text-anchor writing-mode".split(" "),
b=k(d),n="scrollbar-arrow-color scrollbar-base-color scrollbar-dark-shadow-color scrollbar-face-color scrollbar-highlight-color scrollbar-shadow-color scrollbar-3d-light-color scrollbar-track-color shape-inside searchfield-cancel-button searchfield-decoration searchfield-results-button searchfield-results-decoration zoom".split(" "),p=k(n),q="aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkturquoise darkviolet deeppink deepskyblue dimgray dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray grey green greenyellow honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgray lightgreen lightpink lightsalmon lightseagreen lightskyblue lightslategray lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple rebeccapurple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" "),
r=k(q),t="above absolute activeborder activecaption afar after-white-space ahead alias all all-scroll alternate always amharic amharic-abegede antialiased appworkspace arabic-indic armenian asterisks auto avoid avoid-column avoid-page avoid-region background backwards baseline below bidi-override binary bengali blink block block-axis bold bolder border border-box both bottom break break-all break-word button button-bevel buttonface buttonhighlight buttonshadow buttontext cambodian capitalize caps-lock-indicator caption captiontext caret cell center checkbox circle cjk-earthly-branch cjk-heavenly-stem cjk-ideographic clear clip close-quote col-resize collapse column compact condensed contain content content-box context-menu continuous copy cover crop cross crosshair currentcolor cursive dashed decimal decimal-leading-zero default default-button destination-atop destination-in destination-out destination-over devanagari disc discard document dot-dash dot-dot-dash dotted double down e-resize ease ease-in ease-in-out ease-out element ellipse ellipsis embed end ethiopic ethiopic-abegede ethiopic-abegede-am-et ethiopic-abegede-gez ethiopic-abegede-ti-er ethiopic-abegede-ti-et ethiopic-halehame-aa-er ethiopic-halehame-aa-et ethiopic-halehame-am-et ethiopic-halehame-gez ethiopic-halehame-om-et ethiopic-halehame-sid-et ethiopic-halehame-so-et ethiopic-halehame-ti-er ethiopic-halehame-ti-et ethiopic-halehame-tig ew-resize expanded extra-condensed extra-expanded fantasy fast fill fixed flat footnotes forwards from geometricPrecision georgian graytext groove gujarati gurmukhi hand hangul hangul-consonant hebrew help hidden hide higher highlight highlighttext hiragana hiragana-iroha horizontal hsl hsla icon ignore inactiveborder inactivecaption inactivecaptiontext infinite infobackground infotext inherit initial inline inline-axis inline-block inline-table inset inside intrinsic invert italic justify kannada katakana katakana-iroha keep-all khmer landscape lao large larger left level lighter line-through linear lines list-item listbox listitem local logical loud lower lower-alpha lower-armenian lower-greek lower-hexadecimal lower-latin lower-norwegian lower-roman lowercase ltr malayalam match media-controls-background media-current-time-display media-fullscreen-button media-mute-button media-play-button media-return-to-realtime-button media-rewind-button media-seek-back-button media-seek-forward-button media-slider media-sliderthumb media-time-remaining-display media-volume-slider media-volume-slider-container media-volume-sliderthumb medium menu menulist menulist-button menulist-text menulist-textfield menutext message-box middle min-intrinsic mix mongolian monospace move multiple myanmar n-resize narrower ne-resize nesw-resize no-close-quote no-drop no-open-quote no-repeat none normal not-allowed nowrap ns-resize nw-resize nwse-resize oblique octal open-quote optimizeLegibility optimizeSpeed oriya oromo outset outside outside-shape overlay overline padding padding-box painted page paused persian plus-darker plus-lighter pointer polygon portrait pre pre-line pre-wrap preserve-3d progress push-button radio read-only read-write read-write-plaintext-only rectangle region relative repeat repeat-x repeat-y reset reverse rgb rgba ridge right round row-resize rtl run-in running s-resize sans-serif scroll scrollbar se-resize searchfield searchfield-cancel-button searchfield-decoration searchfield-results-button searchfield-results-decoration semi-condensed semi-expanded separate serif show sidama single skip-white-space slide slider-horizontal slider-vertical sliderthumb-horizontal sliderthumb-vertical slow small small-caps small-caption smaller solid somali source-atop source-in source-out source-over space square square-button start static status-bar stretch stroke sub subpixel-antialiased super sw-resize table table-caption table-cell table-column table-column-group table-footer-group table-header-group table-row table-row-group telugu text text-bottom text-top textarea textfield thai thick thin threeddarkshadow threedface threedhighlight threedlightshadow threedshadow tibetan tigre tigrinya-er tigrinya-er-abegede tigrinya-et tigrinya-et-abegede to top transparent ultra-condensed ultra-expanded underline up upper-alpha upper-armenian upper-greek upper-hexadecimal upper-latin upper-norwegian upper-roman uppercase urdu url vertical vertical-text visible visibleFill visiblePainted visibleStroke visual w-resize wait wave wider window windowframe windowtext x-large x-small xor xx-large xx-small".split(" "),
u=k(t),w=k("font-family src unicode-range font-variant font-feature-settings font-stretch font-weight font-style".split(" ")),a=a.concat(e).concat(d).concat(n).concat(q).concat(t);l.registerHelper("hintWords","css",a);l.defineMIME("text/css",{mediaTypes:c,mediaFeatures:m,propertyKeywords:b,nonStandardPropertyKeywords:p,colorKeywords:r,valueKeywords:u,fontProperties:w,tokenHooks:{"\x3c":function(a,b){if(!a.match("!--"))return!1;b.tokenize=f;return f(a,b)},"/":function(a,b){if(!a.eat("*"))return!1;
b.tokenize=h;return h(a,b)}},name:"css"});l.defineMIME("text/x-scss",{mediaTypes:c,mediaFeatures:m,propertyKeywords:b,nonStandardPropertyKeywords:p,colorKeywords:r,valueKeywords:u,fontProperties:w,allowNested:!0,tokenHooks:{"/":function(a,b){return a.eat("/")?(a.skipToEnd(),["comment","comment"]):a.eat("*")?(b.tokenize=h,h(a,b)):["operator","operator"]},":":function(a){return a.match(/\s*\{/)?[null,"{"]:!1},$:function(a){a.match(/^[\w-]+/);return a.match(/^\s*:/,!1)?["variable-2","variable-definition"]:
["variable-2","variable"]},"#":function(a){return a.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"});l.defineMIME("text/x-less",{mediaTypes:c,mediaFeatures:m,propertyKeywords:b,nonStandardPropertyKeywords:p,colorKeywords:r,valueKeywords:u,fontProperties:w,allowNested:!0,tokenHooks:{"/":function(a,b){return a.eat("/")?(a.skipToEnd(),["comment","comment"]):a.eat("*")?(b.tokenize=h,h(a,b)):["operator","operator"]},"@":function(a){if(a.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,
!1))return!1;a.eatWhile(/[\w\\\-]/);return a.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"\x26":function(){return["atom","atom"]}},name:"css",helperType:"less"})})},"codemirror4/addon/display/placeholder":function(){(function(l){"object"==typeof exports&&"object"==typeof module?l(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],l):l(CodeMirror)})(function(l){function k(a){a.state.placeholder&&(a.state.placeholder.parentNode.removeChild(a.state.placeholder),
a.state.placeholder=null)}function h(a){k(a);var c=a.state.placeholder=document.createElement("pre");c.style.cssText="height: 0; overflow: visible";c.className="CodeMirror-placeholder";c.appendChild(document.createTextNode(a.getOption("placeholder")));a.display.lineSpace.insertBefore(c,a.display.lineSpace.firstChild)}function f(a){c(a)&&h(a)}function a(a){var f=a.getWrapperElement(),d=c(a);f.className=f.className.replace(" CodeMirror-empty","")+(d?" CodeMirror-empty":"");d?h(a):k(a)}function c(a){return 1===
a.lineCount()&&""===a.getLine(0)}l.defineOption("placeholder","",function(c,h,d){d=d&&d!=l.Init;h&&!d?(c.on("blur",f),c.on("change",a),a(c)):!h&&d&&(c.off("blur",f),c.off("change",a),k(c),d=c.getWrapperElement(),d.className=d.className.replace(" CodeMirror-empty",""));h&&!c.hasFocus()&&f(c)})})},"mojo/widgets/automation/PostSendContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dojo/json dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/request dojo/_base/array dojo/_base/lang dijit/registry mojo/url ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){return l(w,{path:"/automations/email-postsend",onLoad:function(){n.parse(this.domNode);this.refreshUpdateMergeFields();this.refreshActionOptions();this.own(h(this.domNode,"[name\x3duse-actions]:click",function(){k("[data-container\x3dactions]").style("display",this.checked?"":"none")}),h(this.domNode,"[name\x3daction]:change",r.hitch(this,"refreshActionOptions")),h(this.domNode,"[data-container\x3daction-merge]:change",r.hitch(this,"refreshUpdateMergeFields")))},
destroy:function(){widgets=t.findWidgets(this.domNode);widgets.forEach(function(a){a.destroyRecursive()});e.destroy(this.domNode)},_save:function(){var a="",b=r.mixin({emailId:this.emailId},this._getPostSendValues());p.post(u.toUrl("/automations/email-postsend-post"),{data:b,sync:!0,handleAs:"text"}).then(function(b){a=b});return a},_validate:function(){return!0},_getPostSendValues:function(){var a={};k("input,select",this.domNode).forEach(function(b){"checkbox"!=b.type||b.checked||(b.value=null);
a[b.name]||(a[b.name]=b.value)});return a},refreshUpdateMergeFields:function(){var a=c.byId("merge_id").value;k(".merge-field",this.domNode).forEach(function(b){b.style.display=b.id=="merge-field-"+a?"":"none"})},refreshActionOptions:function(){actions=k("[name\x3daction]",this.domNode)[0];merge=k("[data-container\x3daction-merge]",this.domNode);merge_value=k("[data-container\x3daction-merge-value]",this.domNode);segment=k("[data-container\x3daction-segment]",this.domNode);grouping=k("[data-container\x3daction-grouping]",
this.domNode);merge.style("display","none");merge_value.style("display","none");segment.style("display","none");grouping.style("display","none");"update_merge"==actions.value?(merge.style("display",""),merge_value.style("display","")):"join_interest"==actions.value||"leave_interest"==actions.value?grouping.style("display",""):"add_segment"!=actions.value&&"remove_segment"!=actions.value||segment.style("display","");c.byId("join-group-warning").style.display="join_interest"==actions.value?"block":
"none"}})})},"mojo/widgets/automation/QueueAddContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dojo/json dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/request dojo/_base/array dojo/_base/lang dijit/registry mojo/app/campaigns/recipients mojo/url mojo/utils ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return l(y,{path:"/automations/email-queue-add",delayTime:null,
onLoad:function(){this.updateSegmentCount();listId=this._getCampaignData().list_id;this.own(h(this.domNode,"[data-workflow-segment-members]:click",r.hitch(this,"_openQueueCountPopup",listId)),h(this.domNode,"[data-workflow-calculate-count]:click",r.hitch(this,"updateSegmentCount")),h(this.domNode,"[name\x3dsegment-type]:click",function(){k("[data-mc-segment-options]").style("display","none");k("[data-mc-segment-options\x3d"+this.value+"]").style("display","block");var a;switch(this.value){case "list":break;
case "saved":a=t.byId("savedsegmentpane");a.refresh();break;case "new":a=t.byId("segmentpane-"+listId);a.refresh();break;default:throw Error("New segment option does not have a handler");}}));var a="segmentpane-"+listId;t.byId(a).on("load",function(){u.reloadSegmentCallbacks(a)})},destroy:function(){widgets=t.findWidgets(this.domNode);widgets.forEach(function(a){a.destroyRecursive()});e.destroy(this.domNode)},updateSegmentCount:function(){var a=k("[data-workflow-segment-count]",this.domNode)[0];this._clearDelayTimer();
this.delayTimer=setTimeout(r.hitch(this,function(){a.innerHTML="\x3cp\x3eCalculating recipient count...\x3c/p\x3e";this.delayTimer=null}),100);var b=r.hitch(this,function(b){this._clearDelayTimer();b=b.count;a.innerHTML="\x3cp\x3e"+('\x3ca href\x3d"#" data-workflow-segment-members\x3e'+b+" subscriber"+(1!=b?"s":"")+"\x3c/a\x3e will be added to the workflow. ")+' \x3ca href\x3d"#" data-workflow-calculate-count\x3eRefresh count\x3c/a\x3e\x3c/p\x3e'}),c=r.hitch(this,function(){this._clearDelayTimer();
a.innerHTML='Failed to get count. \x3ca href\x3d"#" data-workflow-calculate-count\x3eTry again.\x3c/a\x3e'});this._getSegmentCount().then(b,c)},_getSegmentCount:function(){var a=r.mixin({id:this.emailId,"queue-action":"add"},this._getWorkflowValues());return p.post(w.toUrl("campaigns/wizard/automation/queue-management-count"),{data:a,handleAs:"json"})},_openQueueCountPopup:function(a){var b=r.mixin({id:this.emailId,"queue-action":"add",__csrf_token:k("[name\x3d__csrf_token]")[0].value},this._getWorkflowValues());
p.post(w.toUrl("campaigns/wizard/automation/queue-members"),{data:b,sync:!0,handleAs:"text"});a=w.toUrl("campaigns/segments/popup?id\x3d"+this.emailId+"\x26lid\x3d"+a);a=window.open(a,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");v.checkPopupWin(a)},_clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},_getCampaignData:function(){var a;p.post(w.toUrl("/automations/email-queue-data"),
{data:{emailId:this.emailId},sync:!0,handleAs:"json"}).then(function(b){a=b});return a},_getWorkflowValues:function(){var a={};k("input,select",this.domNode).forEach(function(b){var c=b.type||"",d=b.value,e=b.name;"select-multiple"==c&&q.forEach(b.options,function(b){a[e]||(a[e]=[]);b.selected&&a[e].push(b.value)});if("radio"==c||"checkbox"==c)b.checked||(d=null);"tags"==e&&d&&(a[e]||(a.tags=[]),a.tags.push(d));a[e]||(a[e]=d)});return a},_save:function(){var a="",b=r.mixin({id:this.emailId,"queue-action":"add",
__csrf_token:k("[name\x3d__csrf_token]")[0].value},this._getWorkflowValues());p.post(w.toUrl("campaigns/wizard/automation/queue-management-post"),{data:b,sync:!0,handleAs:"text"}).then(function(b){a=b});return a},_validate:function(){return!0}})})},"mojo/widgets/automation/QueueRemoveContent":function(){define("dojo/_base/declare dojo/query dojo/on dojo/html dojo/json dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/parser dojo/request dojo/_base/array dojo/_base/lang dijit/registry mojo/app/campaigns/recipients mojo/url mojo/utils ./_OverlayContentMixin velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return l(y,{path:"/automations/email-queue-remove",delayTime:null,onLoad:function(){this.updateSegmentCount();listId=this._getCampaignData().list_id;this.own(h(this.domNode,"[data-workflow-segment-members]:click",r.hitch(this,"_openQueueCountPopup",listId)),h(this.domNode,"[data-workflow-calculate-count]:click",r.hitch(this,"updateSegmentCount")),h(this.domNode,"[name\x3dsegment-type]:click",function(){k("[data-mc-segment-options]").style("display",
"none");k("[data-mc-segment-options\x3d"+this.value+"]").style("display","block");var a;switch(this.value){case "list":break;case "saved":a=t.byId("savedsegmentpane");a.refresh();break;case "new":a=t.byId("segmentpane-"+listId);a.refresh();break;default:throw Error("New segment option does not have a handler");}}));var a="segmentpane-"+listId;t.byId(a).on("load",function(){u.reloadSegmentCallbacks(a)})},destroy:function(){widgets=t.findWidgets(this.domNode);widgets.forEach(function(a){a.destroyRecursive()});
e.destroy(this.domNode)},updateSegmentCount:function(){var a=k("[data-workflow-segment-count]",this.domNode)[0];this._clearDelayTimer();this.delayTimer=setTimeout(r.hitch(this,function(){a.innerHTML="\x3cp\x3eCalculating recipient count...\x3c/p\x3e";this.delayTimer=null}),100);var b=r.hitch(this,function(b){this._clearDelayTimer();b=b.count;a.innerHTML="\x3cp\x3e"+('\x3ca href\x3d"#" data-workflow-segment-members\x3e'+b+" subscriber"+(1!=b?"s":"")+"\x3c/a\x3e will be removed from the workflow. ")+
' \x3ca href\x3d"#" data-workflow-calculate-count\x3eRefresh count\x3c/a\x3e\x3c/p\x3e'}),c=r.hitch(this,function(){this._clearDelayTimer();a.innerHTML='Failed to get count. \x3ca href\x3d"#" data-workflow-calculate-count\x3eTry again.\x3c/a\x3e'});this._getSegmentCount().then(b,c)},_getSegmentCount:function(){var a=r.mixin({id:this.emailId,"queue-action":"remove"},this._getWorkflowValues());return p.post(w.toUrl("campaigns/wizard/automation/queue-management-count"),{data:a,handleAs:"json"})},_openQueueCountPopup:function(a){var b=
r.mixin({id:this.emailId,"queue-action":"remove",__csrf_token:k("[name\x3d__csrf_token]")[0].value},this._getWorkflowValues());p.post(w.toUrl("campaigns/wizard/automation/queue-members"),{data:b,sync:!0,handleAs:"text"});a=w.toUrl("campaigns/segments/popup?id\x3d"+this.emailId+"\x26lid\x3d"+a);a=window.open(a,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");v.checkPopupWin(a)},_clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),
this.delayTimer=null)},_getCampaignData:function(){var a;p.post(w.toUrl("/automations/email-queue-data"),{data:{emailId:this.emailId},sync:!0,handleAs:"json"}).then(function(b){a=b});return a},_getWorkflowValues:function(){var a={};k("input,select",this.domNode).forEach(function(b){var c=b.type||"",d=b.value,e=b.name;"select-multiple"==c&&q.forEach(b.options,function(b){a[e]||(a[e]=[]);b.selected&&a[e].push(b.value)});if("radio"==c||"checkbox"==c)b.checked||(d=null);"tags"==e&&d&&(a[e]||(a.tags=[]),
a.tags.push(d));a[e]||(a[e]=d)});return a},_save:function(){var a="",b=r.mixin({id:this.emailId,"queue-action":"remove",__csrf_token:k("[name\x3d__csrf_token]")[0].value},this._getWorkflowValues());p.post(w.toUrl("campaigns/wizard/automation/queue-management-post"),{data:b,sync:!0,handleAs:"text"}).then(function(b){a=b});return a},_validate:function(){return!0}})})},"mojo/lib/logger":function(){define(["dojo/request","mojo/url","vendor/lodash-amd/identity"],function(l,k,h){var f={pythia:{logEvent:function(a,
c){if("string"!=typeof a)throw Error("You must provide an event name");"undefined"===typeof c&&(c={});c.event_name=a;f.logData(c,"pythia")}},marketing:{logData:function(a){f.logData(a,"marketing")}},info:function(a,c,e){if("string"!==typeof a)throw Error("channelName must be provided");if("string"!==typeof c)throw Error("message must be provided");e=e||{};l.post(k.toUrl("track/log"),{data:{channelName:a,message:c,data:JSON.stringify(e)}}).then(h,function(){})},logData:function(a,c){"undefined"===
typeof a&&(a={});if("string"!=typeof c)throw Error("You must provide a log type");var e={data:JSON.stringify(a),type:c};l.post(rootUrl+"track",{data:e})},stdPath:function(a){a=a.replace(/\/$/,"");return a=a.replace(/-post$/,"")}};return f})},"mojo/widgets/BillingInfo":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/registry dojo/text!./templates/BillingInfo.html dojo/request/xhr mojo/url dojo/_base/lang dojo/_base/array dojo/on dojo/dom-style dojo/dom-attr dojo/dom-class dojo/query mojo/app/account/billing mojo/widgets/ContactBillingModal".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([k,h],{templateString:a,canPurchase:!1,postCreate:function(){this.inherited(arguments);this.updatePaymentMethod();b(this.domNode,"[data-mc-el\x3deditPaymentMethodBtn]:click",m.hitch(this,function(a){a.preventDefault();a.stopPropagation();t.editBillingInfo().then(m.hitch(this,this.updatePaymentMethod))}))},updatePaymentMethod:function(){c.get(e.toUrl("account/get-payment-info"),{handleAs:"json"}).then(m.hitch(this,function(a){this.set("canPurchase",
a.canPurchase);this.paymentInfoContainer.innerHTML=a.html;d.forEach(f.findWidgets(this.paymentInfoContainer),function(a){a.destroy()});r("[data-mc-el\x3d'editPaymentAnchor']")[0]?new u({step:"payment",workflowMode:!0,onClose:this.updatePaymentMethod.bind(this)},r("[data-mc-el\x3d'editPaymentAnchor']")[0]):r("[data-mc-el\x3d'addPaymentAnchor']")[0]&&new u({step:"payment",workflowMode:!0,onClose:this.updatePaymentMethod.bind(this)},r("[data-mc-el\x3d'addPaymentAnchor']")[0])}))}})})},"mojo/app/account/billing":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/aspect dijit/registry dijit/layout/ContentPane dijit/Dialog mojo/app/wizard mojo/utils mojo/url dojo/io-query dojo/dom-form dojo/Deferred mojo/app/account/paypal dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D){var F=function(a){h(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})},G=function(){var a=h("[data-mc-el\x3d'editContactMethod']"),b=r.byId("contactSummary"),c=r.byId("contactForm");if(a)a.on("click",function(a){m.toggle(b,"hide");m.toggle(c,"hide")})},I=function(){f(r.byId("country"),"change, click",function(a){r.byId("adyen-select")&&(a=r.byId("country").value,-1!=p.indexOf([9,16,59,109],
a)?(m.remove("adyen-select","hide"),r.byId("use_adyen").checked&&m.remove("payment-adyen","hide")):(m.add("adyen-select","hide"),m.add("payment-adyen","hide")));r.byId("paypal-select")&&(a=r.byId("country").value,157==a?(m.add("paypal-select","hide"),m.add("payment-paypal","hide"),r.byId("use_paypal").checked=!1):(m.remove("paypal-select","hide"),r.byId("use_paypal").checked&&m.remove("payment-paypal","hide")))});r.byId("country").click()},L=function(a){r.byId("payment-adyen")&&m.add("payment-adyen",
"hide");h("input[name\x3d'payment-method']").forEach(function(a){var b=r.byId(e.get(a,"data-show-el"));b&&(a.checked?m.remove(b,"hide"):m.add(b,"hide"))});a||(a=h("#payment-details").closest(".dijitDialogPaneContent")[0],a.scrollTop=a.scrollHeight)},J=function(){var a=r.byId("cc_num"),b=r.byId("cc_num_label"),c=b.innerHTML,d="";dojo.connect(a,"onkeyup",function(e){4<=a.value.length&&a.value.substr(0,4)!=d&&(d=a.value.substr(0,4),dojo.xhrGet({url:A.toUrl("account/credit-card-type",{num:d}),handleAs:"text",
load:function(a){""!=a&&(b.innerHTML=a)}}));0==a.value.length&&(b.innerHTML=c)})},T=function(a){r.byId("billing-info-error").innerHTML=a;h("#billing-info-error").closest(".error").forEach(function(a){m.remove(a,"hide")})},V=function(a,d,e,f){c.post(d,{data:a,handleAs:"json"}).then(function(c){if(c.error_msg){K();if("object"==typeof c.errors){for(var d in c.errors){var h=c.errors[d];"cc_exp_month"==d||"cc_exp_year"==d?(d="cc-exp",b.place('\x3cspan class\x3d"invalid-error inline-block !margin--lv0"\x3e'+
h+"\x3c/span\x3e",r.byId(d),"after")):b.place('\x3cspan class\x3d"invalid-error"\x3e'+h+"\x3c/span\x3e",r.byId(d),"after");m.add(r.byId(d),"invalid")}r.byId(Object.keys(c.errors)[0]).focus()}T(c.error_msg)}else e.hide(),f.resolve(a)},function(a){T("There was a problem editing your payment information. Please try again. "+a)})},P=function(){var a=r.byId("modal-save-button");a.disabled||(a.disabled=!0,x.toggleButtonLoadingState(a),setTimeout(K,2E3))},K=function(){var a=r.byId("modal-save-button");a&&
a.disabled&&(a.disabled=!1,x.toggleButtonLoadingState(a))};return{refreshPaymentInfo:function(a,b){var d=new C;if("undefined"==typeof a||null==a)a="default";if("undefined"==typeof b||null==b)b="current-billing-info";h("#".refreshLocation)&&(domBlock=r.byId(b),c(A.toUrl("account/billing-info-snippet",{template:a})).then(function(a){try{p.forEach(u.findWidgets(domBlock),function(a){a.destroy()}),domBlock.innerHTML=a,n.parse(domBlock)}catch(b){location.reload()}d.resolve()},function(a){location.reload()}));
return d},removeBillingInfo:function(){var a=new C,b=new v({title:"Remove Payment Method",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){F(b);h("form",b.domNode).on("submit",function(d){d.stopPropagation();d.preventDefault();c(A.toUrl("/account/delete-payment-post"),{handleAs:"json"}).then(function(c){c.error?T(c.error):(b.hide(),a.resolve(),x.toast("Swell. Your payment method has been removed."))},function(a){T("There was a problem removing your payment method. Please try again.")})})}});
b.setHref(A.toUrl("account/delete-payment-modal",{redirect:window.location.pathname}));b.show();return a},updateBillingEmail:function(){var a=new C,b=new v({title:"Update Billing Email",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){F(b);h("form",b.domNode).on("submit",function(d){d.stopPropagation();d.preventDefault();d=B.toObject(this);var f=e.get(this,"action");c.post(f,{data:d,handleAs:"json"}).then(function(c){c.error_msg?T(c.error_msg):(b.hide(),a.resolve(),x.toast("Billing email updated"))},
function(a){T("There was a problem switching your email address. Please try again.")})})}});b.set("href",A.toUrl("account/billing-email-modal"));b.show();return a},editBillingInfo:function(){var a=new C,d=new v({title:"Edit Payment Method",onHide:function(){d.destroyRecursive()},onDownloadEnd:function(){F(d);L(!0);G();J();x.countrySelectField("country","state-container",A.toUrl("/account/country-has-state"));x.zipToStateField("zip","state",A.toUrl("/account/zip-to-state"));x.zipToCityField("zip",
"city","country",A.toUrl("/account/zip-to-city"));I();var f=h("[data-mc-el\x3d'oneTimeFeeLabel']")[0],k=h("[data-mc-el\x3d'adyenSetupFeeLabel']")[0];f&&0<f.dataset.usd&&!k&&(f=h("[data-mc-el\x3d'adyen-msg-block']")[0])&&m.toggle(f,"hide");(f=h("[data-mc-el\x3d'default-adyen-msg']")[0])&&m.toggle(f,"hide",A.inUrl("billing-plan"));(f=h("[data-mc-el\x3d'default-adyen-msg']")[0])&&m.toggle(f,"hide",!A.inUrl("billing-plan"));h("input[name\x3d'payment-method']").on("change",function(a){L()});h("form",d.domNode).on("submit",
function(f){f.stopPropagation();f.preventDefault();P();h(".invalid-error",this).forEach(b.destroy);h(".invalid-error").forEach(b.destroy);var k=!0;h("label.required").forEach(function(a){0!=a.offsetHeight&&(a=r.byId(e.get(a,"for")),m.toggle(a,"invalid",!a.value),a.value||(b.place('\x3cspan class\x3d"invalid-error"\x3eYou missed this field\x3c/span\x3e',a,"after"),k=!1))});var l=h("[data-mc-el\x3dvatIdAU]")[0],n=h("[data-mc-el\x3daccountPurposeBusinessAU]")[0];l&&(m.toggle(l,"invalid",n.checked&&!l.value),
n.checked&&!l.value&&(b.place('\x3cspan class\x3d"invalid-error"\x3e\x3cabbr title\x3d"Australian business number"\x3eABN\x3c/abbr\x3e is required for a business account\x3c/span\x3e',l,"after"),k=!1),n.checked&&l.value&&c.get(A.toUrl("account/validate-abn"),{handleAs:"json",query:{abn:l.value}}).then(function(a){m.toggle(l,"invalid",n.checked&&a.error);a.error&&(b.place('\x3cspan class\x3d"invalid-error"\x3e\x3cabbr title\x3d"Australian business number"\x3eABN\x3c/abbr\x3e is required for a business account\x3c/span\x3e',
l,"after"),k=!1)}));if(k){var p=this,q=B.toObject(p),t=e.get(p,"action");"paypal"!=q["payment-method"]||r.byId("is_paypal_already").value?V(q,t,d,a):D.showPayPal(function(a){T("Something went wrong, please select another payment method.")}).then(function(b){P();q=B.toObject(p);q.nonce=b.nonce;q.email=b.details.email;V(q,t,d,a)})}})}});d.set("href",A.toUrl("account/billing-info-modal"));d.show();return a}}})},"mojo/views/_base":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Stateful dijit/registry dojo/aspect dojo/query dojo/dom-attr dojo/ready dojo/NodeList-dom dojo/NodeList-manipulate dojo/NodeList-traverse mojo/NodeList-velocity".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([f],{$el:{},$widget:{},$group:{},onInit:function(){},onReady:function(){},parse:function(a){e("[data-mc-el],[data-mc-group]",a).forEach(k.hitch(this,"_registerEl"))},run:function(){c.after(a,"add",k.hitch(this,"_registerWidget"),!0);c.before(a,"remove",k.hitch(this,"_unregisterWidget"),!0);k.hitch(this,"onInit")();d(200,k.hitch(this,function(){this.parse(window.document)}));d(k.hitch(this,"onReady"))},_registerEl:function(a){var c=m.get(a,"data-mc-el"),d=m.get(a,
"data-mc-group");c&&(this.$el[c]=a);d&&(this.$group[d]=this.$group[d]||e.NodeList(),this.$group[d].push(a))},_registerWidget:function(a){a["data-mc-el"]&&(this.$widget[a["data-mc-el"]]=a)},_unregisterWidget:function(b){b=(b=a.byId(b))&&b["data-mc-el"];this.$widget[b]&&delete this.$widget[b]}})})},"mojo/NodeList-velocity":function(){define(["dojo/_base/lang","dojo/query","velocity/velocity"],function(l,k,h){l.extend(k.NodeList,{velocity:function(){l.partial(h,this).apply(null,arguments);return this}})})},
"mojo/app/wizard":function(){define("dojo/query dojo/dom dojo/on dojo/dom-style dojo/Deferred dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/_base/array dojo/_base/lang dojo/_base/window dojo/window dojo/ready dojo/keys dojo/touch dojo/dom-attr dojo/_base/xhr dijit/ProgressBar dijit/registry mojo/utils mojo/widgets/Previewer mojo/lib/async mojo/user mojo/url mojo/lib/flags dojo/NodeList-traverse".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D){var F={},G=[],I=!1,L=
null;q(function(){L=l("[data-type\x3dwizardNext]")[0]});var J=function(){I||k.byId("wizard-form").submit()},T={onNextSubmit:function(a){G.push(a)},goToNextStep:function(a){u.set(a,"value","please wait...");setTimeout(function(){a.disabled=!0},0);try{d.forEach(G,function(a){a()})}catch(b){}J()},skipDomainVerification:function(){k.byId("skip-domain-verification").value=1;J()},disableForm:function(){I=!0;u.set(L,"disabled","disabled")},enableForm:function(){I=!1;u.remove(L,"disabled")},togglePreview:function(){this.newPreviewer||
(this.newPreviewer=new A({previewId:this.currentCampaignId,previewType:this.campaignType,titleText:this.campaignTitle,showMergeInfo:this.showMergeInfo,splitsOnSubject:this.splitsOnSubject}));!0===this.newPreviewer.displayActive?this.newPreviewer.hide():this.newPreviewer.show()},toggleInboxPreview:function(){this.togglePreview();this.newPreviewer&&this.newPreviewer.changeView("inbox")},resetSendTestDialog:function(){k.byId("send-test-success").style.display="none";k.byId("send-test-error").style.display=
"none";k.byId("send-test-samedomain").style.display="none";k.byId("send-test-form").style.display=""},resetAutomationSendTestDialog:function(){var a=l(".test-child-campaigns")[0],b=y.byId("test-specific-email"),c=y.byId("test-all"),d=k.byId("automation-test-email"),f=k.byId("automation-test-message");b.checked&&(a.style.display="none",b.attr("checked",!1),c.attr("checked",!0));d.value="";f.value="";a=l("[for\x3d'automation-test-message']")[0];e.contains(a,"disclosure-open")&&mojo.utils.disclosureElement("automation-top-bar",
a,!1);k.byId("automation-send-test-success").style.display="none";k.byId("automation-send-test-samedomain").style.display="none";k.byId("automation-send-test-form").style.display=""},showSendTestDialog:function(){T.resetSendTestDialog();y.byId("send-test-modal").show();k.byId("test-email").focus()},showAutomationSendTestDialog:function(){T.resetAutomationSendTestDialog();y.byId("automation-send-test-modal").show();k.byId("automation-test-email").focus()},showPushToMobileDialog:function(){dijit.byId("push-mobile-dialog").show()},
showAutomationStartModal:function(a){y.byId("automation-start-modal").toURL=a;y.byId("automation-start-modal").show()},sendTest:function(b,c,f,h){function m(){h?x.toggleButtonLoadingState(h):x.toggleButtonLoadingState(dojo.query(".send-test-button"))}var n=new a;m();setTimeout(function(){C.toUrl("campaigns/wizard/send-test-text");var a=C.toUrl("campaigns/wizard/send-test"),h=C.toUrl("templates/send-test");b&&(a+="?group\x3d"+b);"template"===c&&(a=h);var p=k.byId("test-email");p.nextSibling&&e.contains(p.nextSibling,
"invalid-error")&&p.parentNode.removeChild(p.nextSibling);if(h=k.byId("send-test-samedomain")){h.style.display="none";for(var q=p.value.split(","),r=0;r<q.length;++r){var t=q[r],t=t.replace(/\s+/g,""),t=t.split("@");if(window.campaign_from_domain&&t[1]&&t[1]===window.campaign_from_domain){h.style.display="";break}}}q=l("input:checked","sendtest-users");h=[];for(r=0;r<q.length;r++)h.push(q[r].value);q=l("input:checked","sendtest-notifications");r=[];for(t=0;t<q.length;t++)r.push(q[t].value);var q=
k.byId("test-message"),t="",x="N";q&&(t=q.value,x="Y");var u=document.createElement("div");u.className="test-sending progress section";u.innerHTML="\x3ch4\x3esending test\x3c/h4\x3e";q=document.createElement("div");u.appendChild(q);var z=k.byId("send-test-form");z&&(z.style.display="none",z.parentNode.insertBefore(u,z));var A=new v({indeterminate:!0},q),q={};q.id=f;q["test-email"]=p.value;h&&(q["login-ids"]=h.join());t&&(q["test-message"]=t);x&&(q["include-message"]=x);r&&(q["notification-ids"]=r.join());
(h=y.byId("test-all"))&&(h=h.checked)&&(q["test-all"]=h);if(h=y.byId("test-specific-email"))if(h=h.checked){q["test-specific-email"]=h;var B=[];d.forEach(l("[name^\x3dcampaign_]"),function(a){a.checked&&B.push(a.name.split("_")[1])});q["test-selected"]=B.join()}if(h=y.byId("test-subjectSelect"))q.subject_variate=h.value;if(h=y.byId("test-fromNameSelect"))q.from_variate=h.value;w.post({url:a,content:q,handleAs:"json",sync:!0,load:function(a){A.destroyRecursive();u.parentNode&&u.parentNode.removeChild(u);
if(a.error){a=a.error_msg;if(y.byId("test-all")||y.byId("test-specific-email")){var b=k.byId("send-test-error");b&&(b.style.display="");if(b=k.byId("send-test-error-message"))b.innerHTML=a}else{if(b=k.byId("send-test-form"))b.style.display="";if(b=p.parentNode){var c=document.createElement("span");e.add(c,"invalid-error");e.add(p,"invalid");c.innerHTML=a;b.insertBefore(c,p.nextSibling)}e.remove(k.byId("test-limit-warning"),"hide")}n.reject(a)}else{if(a=k.byId("send-test-success"))a.style.display=
"";(a=l(".finish-tests")[0])&&a.focus();n.resolve()}m()}})},200);return n.promise},handleSendTestKeyPress:function(a){a.keyCode==r.ENTER&&l(".send-test-button")[0].click()},optimizeSendTime:function(b,c,d){F[b]=F[b]||{};if(F[b][c]&&!d)return F[b][c];d=new a;F[b][c]=d;T._optimizeSendTimeCall(b,c,d);return d},_optimizeSendTimeCall:function(a,b,c){var d={url:C.toUrl("campaigns/wizard/optimize-send-time"),handleAs:"json",content:{id:a,schedule_date:b}};z(w.post(d),{onError:function(a){c.reject(a)},onFailed:function(a){c.reject(a)},
onComplete:function(a){a.cached?c.resolve(a):w.post(d).then(function(a){c.resolve(a)})}})},moveFinalAction:function(a){var b=l(".final-action-container")[0];c.place(a,b,"only")},repositionFlashBlock:function(){var a=k.byId("av-flash-block"),b=l(".flash-block-container")[0];c.place(a,b,"only")},getPlainText:function(b){var c=new a,d=k.byId("edit-plaintext-dialog-"+b),e=l("textarea",d)[0];w.get({url:C.toUrl("campaigns/get-text",{id:b}),handleAs:"json"}).then(function(a){switch(a.status){case "error":c.reject();
break;default:e.value=a.content,e.focus(),c.resolve()}});return c},showPlainTextDialog:function(a){var b=dijit.byId("edit-plaintext-dialog-"+a);this.getPlainText(a).then(function(){b.show()})},hidePlainTextDialog:function(a){dijit.byId("edit-plaintext-dialog-"+a).hide()},savePlainTextFromModal:function(a,b){x.toggleButtonLoadingState(a);var c=k.byId("edit-plaintext-dialog-"+b),d=l(".plain-text-checklist-item[data-campaign-id\x3d"+b+"]")[0],h=l("textarea",c)[0];h.value?mojo.app.wizard.syncCampaignPlainText(h.value,
!1,b).then(function(c){switch(c.status){case "error":x.toggleButtonLoadingState(a);break;default:x.toggleButtonLoadingState(a);c=l(".media-image .freddicon",d)[0];var m=u.get(c,"data-icon-style");m||(m="fill-large");e.remove(c,"warn-"+m);e.add(c,"tick-"+m);f.set(l("[data-message-type\x3dsuccess]",d)[0],"display","none");f.set(l("[data-message-type\x3dwarning]",d)[0],"display","none");f.set(l("[data-message-type\x3dedited]",d)[0],"display","");dijit.byId("edit-plaintext-dialog-"+b).hide();mojo.app.wizard.cachedTextContent=
h.value}}):(confirm("A plain-text version of your email is required. Why don't you generate it from the HTML version?"),x.toggleButtonLoadingState(a))},regenPlainText:function(a,b){var c=k.byId("edit-plaintext-dialog-"+b),d=l("textarea",c)[0];x.toggleButtonLoadingState(a);w.post({url:C.toUrl("campaigns/regen-text",{id:b}),handleAs:"json"}).then(function(b){switch(b.status){case "error":x.toggleButtonLoadingState(a);break;default:u.set(d,"value",b.content),x.toggleButtonLoadingState(a)}})},syncCampaignPlainText:function(b,
c,d){var e=new a;w.post({url:C.toUrl("campaigns/text-update",{id:d}),handleAs:"json",sync:c,content:{text:b}}).then(function(a){switch(a){case "error":e.reject(a);break;default:e.resolve(a)}});return e},syncCampaignHtml:function(b,c,d){var e=new a;w.post({url:C.toUrl("campaigns/wizard/html-update"),handleAs:"text",sync:d,content:{html:b,id:mojo.app.wizard.currentCampaignId,inline_css:c}}).then(function(a){switch(a){case "error":e.reject(a);break;default:e.resolve(a)}});return e},syncCampaignUrl:function(b,
c,d){var e=new a;w.post({url:C.toUrl("campaigns/wizard/url-update"),content:{url:b,id:mojo.app.wizard.currentCampaignId,"auto-footer":c},sync:d,handleAs:"text"}).then(function(a){switch(a){case "error":e.reject(a);break;default:e.resolve(a)}});return e},syncTemplateHtml:function(b,c,d){var e=new a;w.post({url:C.toUrl("templates/design/save"),handleAs:"text",sync:d,content:{tid:b,html:c,type:"overwrite"}}).then(function(a){switch(a){case "error":e.reject(a);break;default:e.resolve(a)}});return e},
pushPreviewToMobile:function(){w.post({url:C.toUrl("campaigns/wizard/send-to-mobile",{id:mojo.app.wizard.currentCampaignId}),handleAs:"json"}).then(function(a){switch(a){case result.success:dojo.publish("show-toast",[{message:"Sent!",type:"message"}]);break;default:dojo.publish("show-toast",[{message:"Unable to send to your mobile device. Please try again shortly",type:"error"}])}});dijit.byId("push-mobile-dialog")&&dijit.byId("push-mobile-dialog").hide()},refreshIframes:function(){var a=u.get(l(".preview-frame")[0],
"src");l(".preview-frame",this.domNode).attr("src","");l(".preview-frame",this.domNode).attr("src",a)},changeWizardPane:function(a){a=l("#"+a+"-link",this.domTabNode)[0];this._toggleEditorPane(this.domTabNode,a)},_toggleEditorPane:function(a,b){var c=b;"BUTTON"!==c.nodeName&&(c=l(b).closest("button")[0]);l("button",a).removeClass("v-buttonGroupBordered--active");l(c).addClass("v-buttonGroupBordered--active");c=c.id.replace("link","pane");y.byId("toolcol-panes").selectChild(c)},instantiateEditorTabs:function(a){if(this.domTabNode=
a)l("button",a).on("click",function(b){b.stopPropagation();b.preventDefault();var c=b.target;"BUTTON"!=c.nodeName&&(c=l(b.target).closest("button")[0]);l("button",a).removeClass("v-buttonGroupBordered--active");l(c).addClass("v-buttonGroupBordered--active");b=c.id.replace("link","pane");y.byId("toolcol-panes").selectChild(b);return!1});this.enableSideBarToggle()},enableSideBarToggle:function(){var a=l(".drawer-tab")[0];a&&h(a,t.press,function(a){a.stopPropagation();a.preventDefault();e.toggle(n.body(),
"open-drawer")})},instantiateMobilePreviewMenu:function(){var a=l(".mobile-top-nav")[0];a&&(h(a,"click",function(){e.toggle(this,"active")}),l(".exitnav \x3e ul \x3e li \x3e ul \x3e li \x3e ul a",this.domNode).forEach(function(b){h(b,"click",function(){e.remove(a,"active")})}))},setPaneSplitsPx:function(a,b){var c=l(".split-left")[0],d=l(c).siblings(".split-right")[0];if(a||b)if(c&&d)400<=a&&315<=b&&(l(c).style("right",b+"px"),l(d).style("width",b+"px"),y.byId("toolcol-panes")&&y.byId("toolcol-panes").resize());
else throw Error("an .rcol and .lcol container could not be found to set a split with.");else l(c).style("right",""),l(d).style("width","")},setPaneSplitsPercentage:function(a){var b=p.getBox().w;rightSplitPx=a/100*b;leftSplitPx=b-rightSplitPx;this.setPaneSplitsPx(leftSplitPx,rightSplitPx)},saveSplitTimer:{},saveSplit:function(a,b){clearTimeout(this.saveSplitTimer);this.saveSplitTimer=setTimeout(function(){B.saveSetting(a,b)},400)},instantiateDragSplit:function(a,c){h(a,"dblclick",b.hitch(this,function(a){a.preventDefault();
clearTimeout(this.saveSplitTimer);this.setPaneSplitsPx();this.saveSplit(c,null,!1)}));h(a,t.press,b.hitch(this,function(a){a.stopPropagation();a.preventDefault();l("html").addClass("cursor-col-resize");var f={},h=[],m=b.hitch(this,function(a){a.stopPropagation();a.preventDefault();a=Math.floor(a.clientX);var b=f.current_window_width-a,c=a/f.current_window_width;400<=a&&315<=b&&(f.current_editor_split=a,this.setPaneSplitsPx(a,b),this.rightSplitCache=100*(1-c))}),q=b.hitch(this,function(a){clearTimeout(this.saveSplitTimer);
c&&this.saveSplit(c,this.rightSplitCache);a=l("html")[0];e.remove(a,"cursor-col-resize");f.resize_active&&(delete f.resize_active,dojo.disconnect(f.mousemove_object),dojo.disconnect(f.mouseup_object),d.forEach(h,function(a){dojo.disconnect(a)}),h=[],k.byId("preview-template")&&this.resizePreview())});f.resize_active=!0;f.current_window_width=p.getBox().w;f.mousemove_object=dojo.connect(n.body(),t.move,m);f.mouseup_object=dojo.connect(n.body(),t.release,q);l("#preview-template, .preview-frame").forEach(function(a){h.push(dojo.connect(a.contentWindow.document,
t.move,m));h.push(dojo.connect(a.contentWindow.document,t.release,q))})}))},resizePreview:function(){var a=k.byId("preview-template");if("preview-template-design"!=u.get(a,"class")){var b;k.byId("template-previewtheme-campaign")?b=f.get("template-previewtheme-campaign","height")+75+"px":k.byId("template-previewtheme-template")?b=f.get("template-previewtheme-template","height")+75+"px":(b=a.contentWindow.document,m.position(b.body),b=x.docHeight(b)+"px");a.style.height=b;l(".iframe-dnd-overlay").style("height",
b)}},hideIframeLoadingMessage:function(a){l(a).siblings(".iframe-loading-message").style("display","none");e.remove(l(a).parent(".iframe-wrapper")[0],"loading");this.resizePreview()},showIframeLoadingMessage:function(a){l(a).siblings(".iframe-loading-message").style("display","block");e.add(l(a).parent(".iframe-wrapper")[0],"loading")}};return T})},"mojo/widgets/Previewer":function(){define("dojo/_base/declare mojo/widgets/TopSliderPane dojo/text!./templates/previewer.html dojo/on dojo/has dojo/dom dojo/dom-style dojo/dom-attr dojo/html dojo/request dojo/window dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/query mojo/url mojo/widgets/ButtonGroup mojo/neapolitan/EditorPane mojo/widgets/previewer/HeaderInfoPane mojo/widgets/previewer/InboxPreview".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){return l([k],{badgeText:"Preview mode",paneClasses:"preview-container",content:h,headerInfoPane:null,previewId:null,previewType:null,previewView:"desktop",splitsOnSubject:!1,inboxPreviewEnabled:!0,variant:null,campaignType:null,constructor:function(a){p.mixin(this,a);if(!this.previewId)throw Error("Attempted to create HTML Preview Pane without a campaign or template ID.");if(!this.previewType)throw Error("Type of preview (campaign or template) is required.");
},postCreate:function(){this.inherited(arguments);this.editorPane=new y({paneId:"preview"},this.editorPane);this.editorPane.startup();this.viewToggler=new v({options:this._getToggleOptions(),onChange:p.hitch(this,"_changeView")},this.viewToggler);(this.isCustomTemplatePreview()||this.isDefaultTemplatePreview())&&d.set(this.badge,"Template preview mode");this.splitsOnSubject?t.add(this.desktopViewInner,"split-subject"):t.add(this.desktopViewInner,"no-split");var b=this.previewIframe,c=function(){u(b).parent().siblings(".iframe-loading-message").style("display",
"none");f(b.contentWindow.document,"keyup",window.hotKeyHandler)};8>=a("ie")&&b.attachEvent?b.attachEvent("onload",c):f(b,"load",c)},_getToggleOptions:function(){var a=[{value:"desktop",label:"Desktop"},{value:"mobile",label:"Mobile"}];this.isInboxPreviewEnabled()&&a.push({value:"inbox",label:"Inbox"});return a},changeView:function(a){this.viewToggler.set("value",a)},_changeView:function(a){this.previewView=a;switch(a){case "desktop":u(this.previewPane).removeClass(["preview-mobile","preview-inbox"]).addClass("preview-desktop");
u(this.bananaPhone).removeClass("hide").removeClass("bananaphone");u(this.approxMessage).addClass("hide");t.toggle(this.contentDom,"no-right-pane",!this.headerInfoPane);this._toggleInbox(!1);break;case "mobile":u(this.previewPane).removeClass(["preview-desktop","preview-inbox"]).addClass("preview-mobile");u(this.bananaPhone).removeClass("hide").addClass("bananaphone");u(this.approxMessage).removeClass("hide");t.toggle(this.contentDom,"no-right-pane",!this.headerInfoPane);this._toggleInbox(!1);break;
case "inbox":u(this.previewPane).removeClass(["preview-desktop","preview-mobile"]).addClass("preview-inbox");u(this.bananaPhone).addClass("hide");u(this.approxMessage).addClass("hide");t.remove(this.contentDom,"no-right-pane");this._toggleInbox(!0);break;default:throw Error("Unhandle preview view");}},_toggleInbox:function(a){this.headerInfoPane&&t.toggle(this.headerInfoPane.domNode,"hide",a);this.inboxPreview&&(a?this.inboxPreview.show():this.inboxPreview.hide())},show:function(){this.displayActive||
this._togglePreviewLoader(!1);return this.inherited(arguments)},refreshPreview:function(a){this._togglePreviewLoader(!0);m.set(this.previewIframe,"src",a)},previewUrl:function(){switch(this.previewType){case "template":return w.toUrl("templates/preview-template",{id:this.previewId});case "plaintext":return w.toUrl("campaigns/preview-content-text",{id:this.previewId});case "template_basic":return w.toUrl("campaigns/templates/preview-layout",{layout:this.previewId});case "template_theme":return w.toUrl("campaigns/templates/preview-template",
{id:this.previewId});case "page":return w.toUrl("landing-pages/preview-page",{id:this.previewId});default:return w.toUrl("campaigns/preview-content-html",{id:this.previewId,variant:this.variant})}},isDefaultTemplatePreview:function(){return"template_basic"==this.previewType||"template_theme"==this.previewType},isCustomTemplatePreview:function(){return"template"==this.previewType},isCampaignTemplatePreview:function(){return"template_campaign"==this.previewType},isPagePreview:function(){return"page"===
this.previewType},isCampaignPreview:function(){return!this.isCustomTemplatePreview()&&!this.isDefaultTemplatePreview()&&!this.isCampaignTemplatePreview()&&!this.isPagePreview()},isInboxPreviewEnabled:function(){return"tx"===this.campaignType?!1:this.inboxPreviewEnabled&&(this.isCampaignPreview()||this.isCustomTemplatePreview())},_onShowCallback:function(){this.isCampaignPreview()&&(this.headerInfoPane=new x({campaignId:this.previewId,onMemberLoad:p.hitch(this,function(a){var b=this.previewUrl();a&&
(b+="\x26e\x3d"+a);this.refreshPreview(b)})}),this.headerInfoPane.placeAt(this.sidePane));if(this.isInboxPreviewEnabled()){var a={clientPaneDom:this.sidePane,contentPaneDom:this.inboxPreviewContainer};this.isCampaignPreview()?a.campaignId=this.previewId:a.templateId=this.previewId;this.inboxPreview=new A(a)}this.refreshPreview(this.previewUrl());this.viewToggler.setSelected(this.previewView)},_onHideCallback:function(){"page"===this.previewType?this.destroy():(this.headerInfoPane&&this.headerInfoPane.destroy(),
this.inboxPreview&&this.inboxPreview.destroy())},_togglePreviewLoader:function(a){e.set(this.previewLoader,"display",a?"block":"")}})})},"mojo/neapolitan/EditorPane":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/query dojo/_base/lang dojo/_base/connect dojo/dom-style dojo/dom-class dojo/dom-construct dojo/_base/Deferred velocity/velocity".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){return l([k,h],{paneId:null,templateString:"\x3cdiv\x3e\x3cdiv data-dojo-attach-point\x3d'container'\x3e\x3c/div\x3e\x3c/div\x3e",
editor:null,postCreate:function(){var a=this;this._defaultContainerStyles();e.set(this.domNode,"display","none");c.subscribe("mojo/editor/setup",this,function(b){a._isValidEditor(b)&&a.setup(b)});c.subscribe("mojo/editor/ready",this,function(b){a._isValidEditor(b)&&a.display(b)});c.subscribe("mojo/editor/done",this,function(b){if(a._isValidEditor(b))if(a.editor==b)a.closeEditor();else b.onClose()})},_defaultContainerStyles:function(){e.set(this.container,{width:"100%",height:"100%",position:"absolute",
left:0,top:0,bottom:0,overflow:"hidden",background:"#ffffff"})},_isValidEditor:function(a){return a.paneId||this.paneId?a.paneId===this.paneId:!0},setup:function(c){var e=new b;if(null===this.editor||this.editor&&this.editor!==c){var f=this.editor;this.editor=c;c=a.hitch(this,function(){if(f)f.onClose();d.place(this.editor.domNode,this.container,"only");this.editor.startup();e.resolve()});this.editor?this._hide(!0).then(c):c()}else e.resolve();return e},display:function(b){this.setup(b).then(a.hitch(this,
function(){"none"==e.get(this.domNode,"display")&&this._show(!0).then(a.hitch(b,b.onShow))}))},saveEditor:function(){this.editor&&this.editor.save&&this.editor.save(!0)},closeEditor:function(){this.editor&&!this._closing&&(this._closing=!0,this._hide(!0).then(a.hitch(this,function(){this.editor.onClose();this.editor=null;this._closing=!1})))},_hide:function(c){var d=new b;f("#content-link.active").length&&f("body:not(.slider-editor)").removeClass("open-drawer");c?(m.add(this.domNode,"editorPaneHiding"),
this._hideAnimation().then(a.hitch(this,function(){this._hide(!1);m.remove(this.domNode,"editorPaneHiding");d.resolve()}))):(e.set(this.domNode,"display","none"),d.resolve());return d},_hideAnimation:function(){var c=new b,d=this.domNode.offsetWidth;n(this.container,{left:d},{duration:Math.round(100*(d/250+1)),easing:"easeOutExpo",complete:a.hitch(this,function(){c.resolve()})});return c.promise},_show:function(a){var c=new b;f("body").addClass("open-drawer");a?this._showAnimation().then(function(){c.resolve()}):
(e.set(this.domNode,"display","block"),c.resolve());return c},_showAnimation:function(){var a=new b;e.set(this.domNode,{display:"block"});var c=this.domNode.offsetWidth;e.set(this.container,{left:c+"px"});n(this.container,{left:"0px"},{duration:Math.round(100*(c/250+1)),easing:"easeOutExpo",complete:function(){a.resolve()}});return a.promise}})})},"mojo/widgets/previewer/HeaderInfoPane":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/headerInfoPane.html dojo/on dojo/request dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/_base/array mojo/KeyShortcuts mojo/url".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([k,h,f],{templateString:a,campaignId:null,rowTpl:"\x3cli class\x3d'!margin-bottom--lv4'\x3e\x3cp class\x3d'fwb !margin--lv0'\x3e{label}:\x3c/p\x3e\x3cp class\x3d'!margin--lv0'\x3e{value}\x3c/p\x3e\x3c/li\x3e",showMerge:!1,mergePosition:null,fetching:!1,_fetchRequest:null,postMixInProperties:function(){if(!this.campaignId)throw Error("HeaderInfoEditor requires a campaignId");},postCreate:function(){this.own(c(this.liveMergeSwitch,"change",m.hitch(this,function(){this._cancelRequest();
this.liveMergeSwitch.checked?this.nextMember():(this.mergePosition=null,b.remove(this.mergeNextBtn,"disabled"),this.hideMergeControls(),this.refreshHeaderInfo())})),c(this.mergePrevBtn,"click",m.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.prevMember()})),c(this.mergeNextBtn,"click",m.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.nextMember()})),p.onSpecialKey("RIGHT_ARROW",m.hitch(this,function(){this.liveMergeSwitch.checked&&(this._highlightBtn(this.mergeNextBtn),
this.nextMember())})),p.onSpecialKey("LEFT_ARROW",m.hitch(this,function(){this.liveMergeSwitch.checked&&(this._highlightBtn(this.mergePrevBtn),this.prevMember())})));this.refreshHeaderInfo();this.hideMergeControls()},nextMember:function(){b.contains(this.mergeNextBtn,"disabled")||this.fetching||(null==this.mergePosition?(this.mergePosition=0,this.showMergeControls()):this.mergePosition++,this.refreshHeaderInfo())},prevMember:function(){this.fetching||null==this.mergePosition||(0>=this.mergePosition?
(this.mergePosition=null,this.hideMergeControls()):this.mergePosition--,this.refreshHeaderInfo())},refreshHeaderInfo:function(){if(!this.fetching){this.fetching=!0;var a=this;null==this.mergePosition?this._fetchRequest=this._updateHeaderInfo():(this._fetchRequest=this._getPreviewRecipient(this.mergePosition),this._fetchRequest.then(function(c){var d=c.member_id;b.toggle(a.mergeNextBtn,"disabled",c.is_last);a._updateHeaderInfo(d)}))}},showMergeControls:function(){b.remove(this.mergePrevBtn,"hide");
b.remove(this.mergeNextBtn,"hide");this.refreshHeaderInfo()},hideMergeControls:function(){this.liveMergeSwitch.set("checked",!1);b.add(this.mergePrevBtn,"hide");b.add(this.mergeNextBtn,"hide")},_highlightBtn:function(a){b.add(a,"active");setTimeout(m.hitch(this,function(){b.remove(a,"active")}),200)},_updateHeaderInfo:function(a){var c=this;c.onMemberLoad(a);return this._getHeaderInfo(a).then(function(a){d.empty(c.body);var e=d.toDom("\x3cul\x3e\x3c/ul\x3e");n.forEach(a.rows,function(a){var b=d.place(m.replace(c.rowTpl,
a),e);a.meta&&d.place(m.replace("\x3cp class\x3d'!margin--lv0 dim-el fwb small-meta'\x3e{meta}\x3c/p\x3e",a),b)});a.info_message?(c.feedbackBody.innerHTML=a.info_message,b.remove(c.feedbackContainer,"hide")):b.add(c.feedbackContainer,"hide");d.place(e,c.body);c._finishRequest()})},_finishRequest:function(){this.fetching=!1;this._fetchRequest=null},_cancelRequest:function(){this.fetching&&(this._fetchRequest&&this._fetchRequest.cancel(),this._fetchRequest=null,this.fetching=!1)},_getPreviewRecipient:function(a){a=
{id:this.campaignId,pos:a};return e.get(q.toUrl("campaigns/preview-recipient"),{handleAs:"json",query:a})},_getHeaderInfo:function(a){a={id:this.campaignId,e:a?a:"default",type:"json"};return e.get(q.toUrl("campaigns/preview-headers"),{query:a,handleAs:"json"})},onMemberLoad:function(a){}})})},"mojo/widgets/previewer/InboxPreview":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-class dojo/topic dojo/Stateful dijit/Destroyable dojo/promise/all mojo/Pusher ./inbox-preview/api ./inbox-preview/ClientPane ./inbox-preview/ContentPane".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){var r=l([e],{balance:null,available:null,channel:null,channelName:null,_connectPusher:function(){b.load().then(k.hitch(this,function(a){this.channel=a.subscribe(this.channelName);this._channelCallback=k.hitch(this,"_updateTokens");this.channel.bind("tokens-updated",this._channelCallback)}))},_updateTokens:function(a){this.set("balance",a.balance)},_disconnectPusher:function(){this.channel&&(this.channel.unbind(this._channelCallback),b.load().then(k.hitch(this,function(a){a.unsubscribe(this.channelName)})))},
destroy:function(){this.inherited(arguments);this._disconnectPusher()}}),t=l([e,m],{campaignId:null,templateId:null,tokens:null,previews:null,hasPreviews:!1,clients:null,clientLabels:{web:"Web-based",mobile:"Mobile",client:"Desktop"},numClientsSelected:0,previewsError:null,channel:null,_channelCallback:null,channelName:null,constructor:function(a){k.mixin(this,a);this.previews=new e;this.clients={}},fetchData:function(){var a=this.campaignId?n.getCampaignPreviews(this.campaignId):n.getTemplatePreviews(this.templateId),
b=n.getTokens(),a=d({p:a,t:b});a.then(k.hitch(this,function(a){this.clients=a.p.clients;this.update(a.p.previews);this.channelName=a.p.pushChannel;this._connectPusher();this.tokens.balance=a.t.balance;this.tokens.available=a.t.balance;this.tokens.numFreeMonthly=a.t.numFreeMonthly;this.tokens.channelName=a.t.pushChannel;this.tokens._connectPusher()}));return a},update:function(a){for(var b in a)a.hasOwnProperty(b)&&this.previews.set(b,a[b])},runPreview:function(a){this.tokens.set("balance",this.tokens.balance-
a.length);this.hasPreviews=!0;a.forEach(k.hitch(this,function(a){this.previews.set(a,{client:a,status:"queued"})}));(this.campaignId?n.previewCampaign(this.campaignId,a):n.previewTemplate(this.templateId,a)).then(k.hitch(this,function(a){this.set("previewsError",a.success?null:a.message);this.update(a.previews)}))},markAsViewed:function(a,b){n.updatePreview(a.preview_id,{viewed:b}).then(k.hitch(this,function(a){this.previews.set(a.client,a)}))},markAsApproved:function(a,b){n.updatePreview(a.preview_id,
{approved:b}).then(k.hitch(this,function(a){this.previews.set(a.client,a)}))},_connectPusher:function(){b.load().then(k.hitch(this,function(a){this.channel=a.subscribe(this.channelName);this._channelCallback=k.hitch(this,"_updatePreview");this.channel.bind("preview-updated",this._channelCallback)}))},_updatePreview:function(a){this.previews.set(a.client,a)},_disconnectPusher:function(){this.channel&&(this.channel.unbind(this._channelCallback),b.load().then(k.hitch(this,function(a){a.unsubscribe(this.channelName)})))},
destroy:function(){this.inherited(arguments);this._disconnectPusher()}});return l([m],{campaignId:null,templateId:null,contentPaneDom:null,clientPaneDom:null,contentPane:null,clientPane:null,clients:null,previews:null,visible:!1,_ready:!1,constructor:function(b){k.mixin(this,b);if(!this.campaignId&&!this.templateId)throw Error("Must provide a campaign or a template for inbox preview");if(!this.contentPaneDom)throw Error("contentPaneDom must be passed to InboxPreview");if(!this.clientPaneDom)throw Error("clientPaneDom must be passed to InboxPreview");
a.add(this.contentPaneDom,"hide");this.store=new t({campaignId:this.campaignId,templateId:this.templateId,tokens:new r});this.store.fetchData().then(k.hitch(this,function(){this._ready=!0;this._setupWidgets()}))},show:function(){this.visible=!0;this._toggleVisibility()},hide:function(){this.visible=!1;this._toggleVisibility()},_toggleVisibility:function(){this._ready&&(a.toggle(this.clientPane.domNode,"hide",!this.visible),a.toggle(this.contentPaneDom,"hide",!this.visible),a.toggle(this.clientPane.domNode,
"hide",!this.visible))},_setupWidgets:function(){this.contentPane=new q({store:this.store});this.contentPane.placeAt(this.contentPaneDom);this.clientPane=new p({store:this.store,onClientSelected:k.hitch(this,function(a){this.contentPane.set("selectedClient",a.client)})});this.clientPane.placeAt(this.clientPaneDom);this._toggleVisibility()},destroy:function(){this.clientPane.destroy();this.contentPane.destroy();this.store.destroy();this.inherited(arguments)}})})},"mojo/widgets/previewer/inbox-preview/api":function(){define(["dojo/request",
"dojo/_base/lang","mojo/url"],function(l,k,h){return{getCampaignPreviews:function(f){return this._getPreviews({campaign_id:f})},getTemplatePreviews:function(f){return this._getPreviews({template_id:f})},previewCampaign:function(f,a){return this._previewRequest({campaign_id:f,"clients[]":a})},previewTemplate:function(f,a){return this._previewRequest({template_id:f,"clients[]":a})},getCampaignClientsStats:function(f){return this._getClientsStats({campaign_id:f})},getTemplateClientsStats:function(f){return this._getClientsStats({template_id:f})},
getCampaignClientHistory:function(f,a){return this._getClientHistory({campaign_id:f,client_id:a})},getTemplateClientHistory:function(f,a){return this._getClientHistory({template_id:f,client_id:a})},getTokens:function(f){return l.get(h.toUrl("/inbox-preview/tokens"),{handleAs:"json",query:f})},getTokensBlocks:function(f){return l.get(h.toUrl("/inbox-preview/tokens-blocks"),{handleAs:"json",query:f})},purchaseTokens:function(f){return this._purchaseTokens({block_id:f})},updatePreview:function(f,a){return l.post(h.toUrl("/inbox-preview/update"),
{handleAs:"json",data:k.mixin({id:f},a)})},_getPreviews:function(f){return l.get(h.toUrl("/inbox-preview/previews"),{handleAs:"json",query:f})},_previewRequest:function(f){return l.post(h.toUrl("/inbox-preview/run-preview"),{handleAs:"json",data:f})},_getClientHistory:function(f){return l.get(h.toUrl("/inbox-preview/client-history"),{handleAs:"json",query:f})},_getClientsStats:function(f){return l.get(h.toUrl("/inbox-preview/clients-stats"),{handleAs:"json",query:f})},_purchaseTokens:function(f){return l.get(h.toUrl("/inbox-preview/purchase-tokens"),
{handleAs:"json",query:f})}}})},"mojo/widgets/previewer/inbox-preview/ClientPane":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/clientPane.html dojo/text!./templates/clientPane/section.html dojo/text!./templates/clientPane/row.html dojo/text!./templates/litmusHandoff.html dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/query dojo/on dojo/date/locale dojo/number dojo/html vendor/lodash-amd/template ./ClientEditor ./ClientHistoryEditor ./TokensEditor mojo/user mojo/lib/flags".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B){var C=l([k,h,f],{templateString:e,loading:!1,store:null,client:null,selected:!1,visible:!1,updatable:!1,postMixInProperties:function(){if(!this.client)throw Error("A client row requires a client");if(!this.store)throw Error("A store is required for a client row");},postCreate:function(){this.own(r(this.domNode,"click",b.hitch(this,"select")),this.store.previews.watch(this.client.id,b.hitch(this,"_updateRow")),r(this.historyLink,"click",b.hitch(this,
function(a){a.stopPropagation();a.preventDefault();this.select();x.show(this.store,this.client)})),r(this.rerunLink,"click",b.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.store.runPreview([this.client.id])})),r(this.selectedBox,"change",b.hitch(this,function(){var a=this.getPreview();a.approved==this.selectedBox.checked&&this.store.markAsApproved(a,!a.approved);this._toggleUpdateState()})),this.watch("selected",b.hitch(this,function(){this._updateSelectedState();var a=this.getPreview();
a.viewed||this.store.markAsViewed(a,a.viewed)})));this._updateRow()},select:function(){this.selected||(this.set("selected",!0),this.onSelected())},deselect:function(){this.set("selected",!1)},_toggleApproveState:function(){var a=this.getPreview();a&&this.selectedBox.set("checked",!a.approved)},_updateSelectedState:function(){p.toggle(this.domNode,"active",this.selected)},isVisible:function(){return this.getPreview()},getPreview:function(){return this.store.previews[this.client.id]},_updateRow:function(){this._toggleVisibility();
this._handlePreviewStatus();this._toggleUpdateState();this._toggleViewState();this._toggleApproveState()},_toggleVisibility:function(){var a=this.getPreview();this.set("visible",null!=a);p.toggle(this.domNode,"hide",!this.visible)},_toggleUpdateState:function(){var a=this.getPreview();this.set("updatable",this.selectedBox.checked&&"completed"==a.status)},_toggleViewState:function(){var a=this.getPreview();a&&(this.set("viewed",a.viewed),p.toggle(this.domNode,"unread",!a.viewed&&"completed"==a.status))},
_handlePreviewStatus:function(){var a=this.getPreview();if(a)switch(a.status){case "queued":p.add(this.selectedBox.domNode,"hide");p.add(this.failedIcon,"hide");p.add(this.actionsContainer,"hide");p.add(this.rerunContainer,"hide");p.add(this.historyLink,"hide");p.remove(this.loadingIndicator,"hide");this.statusMessage.innerHTML="Waiting...";break;case "completed":p.add(this.loadingIndicator,"hide");p.add(this.failedIcon,"hide");p.toggle(this.rerunContainer,"hide",0>=this.store.tokens.balance);p.remove(this.historyLink,
"hide");p.remove(this.actionsContainer,"hide");p.remove(this.selectedBox.domNode,"hide");this.statusMessage.innerHTML='\x3cspan class\x3d"fwb"\x3eUpdated\x3c/span\x3e on '+this._formatDate(a.finished_timestamp);this.rerunLink.innerHTML="Update";break;case "failed":p.add(this.selectedBox.domNode,"hide"),p.add(this.loadingIndicator,"hide"),p.toggle(this.rerunContainer,"hide",0>=this.store.tokens.balance),p.remove(this.actionsContainer,"hide"),p.remove(this.failedIcon,"hide"),p.remove(this.historyLink,
"hide"),this.statusMessage.innerHTML="This preview failed to generate",this.rerunLink.innerHTML="Retry this client"}},_formatDate:function(a){return t.format(new Date(1E3*a),{formatLength:"medium",timePattern:"h:mm a"})},onSelected:function(){}}),D=l([k,h],{templateString:c,store:null,clientType:null,rows:null,constructor:function(){if(this.clientType)throw Error("clientType is required");if(this.store)throw Error("store is required");this.rows=[]},postMixInProperties:function(){this.sectionName=
this.store.clientLabels[this.clientType]},postCreate:function(){this._toggleVisibility()},addRow:function(a){a.placeAt(this.rowContainer);this.rows.push(a);this._toggleVisibility();this.own(this.store.previews.watch(a.client.id,b.hitch(this,"_toggleVisibility")))},isVisible:function(){return d.some(this.rows,function(a){return a.isVisible()})},_toggleVisibility:function(){p.toggle(this.domNode,"hide",!this.isVisible())}});return l([k,h],{templateString:a,store:null,sections:null,rows:null,rowsMap:null,
selectedRow:null,_previewWatcher:null,numUpdatableRows:0,constructor:function(){this.sections=[];this.rows=[];this.rowsMap={}},postMixInProperties:function(){if(!this.store)throw Error("store must be passed to client pane");},postCreate:function(){this.createClientRows();this.selectedRow||this._selectFirstRowWithPreviews();this.store.hasPreviews=this._hasPreviews();this.own(r(this.tokensBtn,"click",b.hitch(this,function(a){a.stopPropagation();a.preventDefault();A.show(this.store)})),r(this.addClientBtn,
"click",b.hitch(this,function(a){a.stopPropagation();a.preventDefault();this._showEditor()})),r(this.updateBtn,"click",b.hitch(this,function(a){a.stopPropagation();a.preventDefault();this._previewSelectedClients()})),r(this.getStartedBtn,"click",b.hitch(this,function(a){a.stopPropagation();a.preventDefault();0<this.store.tokens.balance?this._showEditor():this._showTokensEditor()})),this.store.tokens.watch("balance",b.hitch(this,function(){this._updateAvailableTokens();this._toggleUpdateBtn();this._toggleAddClientBtn();
this._updateTokensBtn();this._updateGetStartedBtn()})),this.watch("numUpdatableRows",b.hitch(this,function(){this._updateAvailableTokens();this.selectedRow||this._selectFirstRowWithPreviews()})),this.store.watch("previewsError",b.hitch(this,function(){this.previewsErrorMsg.innerHTML=this.store.previewsError;p.toggle(this.previewsErrorContainer,"hide",null===this.store.previewsError)})));this._toggleNoData();this._toggleUpdateBtn();this._toggleAddClientBtn();this._updateTokensBtn();this._updateRerunLinks()},
_showEditor:function(){y.show(this.store).on("close",b.hitch(this,function(){this._updateRerunLinks()}))},_showTokensEditor:function(){A.show(this.store).on("close",b.hitch(this,function(){this._hasPreviews()||setTimeout(b.hitch(this,function(){this._showEditor()}),250)}))},_selectFirstRowWithPreviews:function(){d.some(this.rows,b.hitch(this,function(a){if(a.isVisible())return a.select(),!0}))},_hasPreviews:function(){return d.some(this.sections,function(a){return a.isVisible()})},_updateAvailableTokens:function(){var a=
this.getCheckedClients();this.store.tokens.set("available",this.store.tokens.balance-a.length)},_updateRerunLinks:function(){d.forEach(this.rows,b.hitch(this,function(a){p.toggle(a.rerunContainer,"hide",0>=this.store.tokens.balance)}))},_toggleNoData:function(){this._previewWatcher&&(this._previewWatcher.unwatch(),this._previewWatcher=null);var a=this._hasPreviews(),c=0<this.store.tokens.balance;if(z.flagIsOn(B.MULTICHANNEL_REMOVE_INBOX_PREVIEW_PURCHASE)){var d=z.pro||"paid"===z.userLevel&&!z.isPayAsYouGo;
p.toggle(this.addClientBtn.parentNode,"hide",!a);p.toggle(this.updateBtn.parentNode,"hide",!a);p.toggle(this.tokensBtn.parentNode,"hide",!d&&!a&&!c);p.toggle(this.noDataContainer,"hide",a||!c);this.getStartedBtn.innerHTML="Get Started";a||c||w.set(this.litmusHandoffContainer,v(m)({isUserMonthlyOrPro:d}))}else this._updateGetStartedBtn(),p.toggle(this.addClientBtn.parentNode,"hide",!a),p.toggle(this.updateBtn.parentNode,"hide",!a),p.toggle(this.noDataContainer,"hide",a),p.add(this.litmusHandoffContainer,
"hide");a||(this._previewWatcher=this.store.previews.watch(b.hitch(this,"_toggleNoData")))},_toggleUpdateBtn:function(){var a=this._getNumInQueue();0<a?(p.add(this.updateBtn,"disabled"),p.add(this.updateBtnIcon,"is-running"),this.updateBtnText.innerHTML="Updating",this.updateCount.innerHTML=a):this.numUpdatableRows?(p.toggle(this.updateBtn,"disabled",0>this.store.tokens.available),p.remove(this.updateBtnIcon,"is-running"),this.updateBtnText.innerHTML="Update",this.updateCount.innerHTML=this.numUpdatableRows,
this.store.numClientsSelected=this.numUpdatableRows):(p.add(this.updateBtn,"disabled"),p.remove(this.updateBtnIcon,"is-running"),this.updateBtnText.innerHTML="Update",this.updateCount.innerHTML="\x26nbsp;")},_toggleAddClientBtn:function(){this._getNumInQueue();0==this._getNumNewClients()?(p.add(this.addClientBtn,"disabled"),this.addClientBtn.innerHTML="No more clients"):p.toggle(this.addClientBtn,"disabled",0>=this.store.tokens.balance)},_updateTokensBtn:function(){this.tokensCount.innerHTML=u.format(this.store.tokens.balance)},
_updateGetStartedBtn:function(){this.getStartedBtn.innerHTML=0<this.store.tokens.balance?"Get Started":"Buy Tokens To Get Started"},_getNumInQueue:function(){var a=0,b;for(b in this.store.previews)this.store.previews.hasOwnProperty(b)&&"queued"==this.store.previews[b].status&&a++;return a},_getNumNewClients:function(){var a=0,c;for(c in this.store.clients)this.store.clients.hasOwnProperty(c)&&d.forEach(this.store.clients[c],b.hitch(this,function(b){this.store.previews[b.id]||a++}));return a},_previewSelectedClients:function(){var a=
this.getCheckedClients();a.length&&this.store.runPreview(a)},_createClientSection:function(a){var c=new D({store:this.store,clientType:a});c.startup();c.placeAt(this.clientLists);d.forEach(this.store.clients[a],b.hitch(this,function(a){var d=new C({store:this.store,client:a});d.startup();c.addRow(d);this.rows.push(d);this.rowsMap[a.id]=d;this.own(r(d,"selected",b.hitch(this,function(){this.select(d.client.id)})),d.watch("updatable",b.hitch(this,function(a,b,c){this.set("numUpdatableRows",this.numUpdatableRows+
(c?1:-1));this._toggleUpdateBtn();this._toggleAddClientBtn()})))}));this.sections.push(c)},select:function(a){var b=this.rowsMap[a];b&&(this.deselect(),this.selectedRow=b,this.onClientSelected(this.store.previews[a]))},deselect:function(){this.selectedRow&&(this.selectedRow.deselect(),this.selectedRow=null)},getCheckedClients:function(){var a=[];d.forEach(this.rows,function(b){b.updatable&&a.push(b.client.id)});return a},createClientRows:function(){this._createClientSection("client");this._createClientSection("mobile");
this._createClientSection("web")},destroy:function(){d.forEach(this.sections,function(a){a.destroy()});d.forEach(this.rows,function(a){a.destroy()});this._previewWatcher&&this._previewWatcher.unwatch();y.hide();this.inherited(arguments)},onClientSelected:function(a){}})})},"vendor/lodash-amd/template":function(){define("./assignInWith ./attempt ./_baseValues ./_customDefaultsAssignIn ./_escapeStringChar ./isError ./_isIterateeCall ./keys ./_reInterpolate ./templateSettings ./toString".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){var p=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,r=/(__e\(.*?\)|\b__t\)) \+\n'';/g,t=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,u=/($^)/,w=/['\n\r\u2028\u2029\\]/g;return function(v,y,x){var A=b.imports._.templateSettings||b;x&&e(v,y,x)&&(y=void 0);v=n(v);y=l({},y,A,f);x=l({},y.imports,A.imports,f);var z=m(x),B=h(x,z),C,D,F=0;x=y.interpolate||u;var G="__p +\x3d '",I="sourceURL"in y?"//# sourceURL\x3d"+y.sourceURL+"\n":"";v.replace(RegExp((y.escape||u).source+"|"+x.source+"|"+(x===
d?t:u).source+"|"+(y.evaluate||u).source+"|$","g"),function(b,c,d,e,f,h){d||(d=e);G+=v.slice(F,h).replace(w,a);c&&(C=!0,G+="' +\n__e("+c+") +\n'");f&&(D=!0,G+="';\n"+f+";\n__p +\x3d '");d&&(G+="' +\n((__t \x3d ("+d+")) \x3d\x3d null ? '' : __t) +\n'");F=h+b.length;return b});G+="';\n";(y=y.variable)||(G="with (obj) {\n"+G+"\n}\n");G=(D?G.replace(p,""):G).replace(q,"$1").replace(r,"$1;");G="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj \x3d {});\n")+"var __t, __p \x3d ''"+(C?", __e \x3d _.escape":
"")+(D?", __j \x3d Array.prototype.join;\nfunction print() { __p +\x3d __j.call(arguments, '') }\n":";\n")+G+"return __p\n}";y=k(function(){return Function(z,I+"return "+G).apply(void 0,B)});y.source=G;if(c(y))throw y;return y}})},"vendor/lodash-amd/assignInWith":function(){define(["./_copyObject","./_createAssigner","./keysIn"],function(l,k,h){return k(function(f,a,c,e){l(a,h(a),f,e)})})},"vendor/lodash-amd/_copyObject":function(){define(["./_assignValue","./_baseAssignValue"],function(l,k){return function(h,
f,a,c){var e=!a;a||(a={});for(var m=-1,d=f.length;++m<d;){var b=f[m],n=c?c(a[b],h[b],b,a,h):void 0;void 0===n&&(n=h[b]);e?k(a,b,n):l(a,b,n)}return a}})},"vendor/lodash-amd/_assignValue":function(){define(["./_baseAssignValue","./eq"],function(l,k){var h=Object.prototype.hasOwnProperty;return function(f,a,c){var e=f[a];h.call(f,a)&&k(e,c)&&(void 0!==c||a in f)||l(f,a,c)}})},"vendor/lodash-amd/_createAssigner":function(){define(["./_baseRest","./_isIterateeCall"],function(l,k){return function(h){return l(function(f,
a){var c=-1,e=a.length,m=1<e?a[e-1]:void 0,d=2<e?a[2]:void 0,m=3<h.length&&"function"==typeof m?(e--,m):void 0;d&&k(a[0],a[1],d)&&(m=3>e?void 0:m,e=1);for(f=Object(f);++c<e;)(d=a[c])&&h(f,d,c,m);return f})}})},"vendor/lodash-amd/_baseRest":function(){define(["./identity","./_overRest","./_setToString"],function(l,k,h){return function(f,a){return h(k(f,a,l),f+"")}})},"vendor/lodash-amd/_overRest":function(){define(["./_apply"],function(l){var k=Math.max;return function(h,f,a){f=k(void 0===f?h.length-
1:f,0);return function(){for(var c=arguments,e=-1,m=k(c.length-f,0),d=Array(m);++e<m;)d[e]=c[f+e];e=-1;for(m=Array(f+1);++e<f;)m[e]=c[e];m[f]=a(d);return l(h,this,m)}}})},"vendor/lodash-amd/_apply":function(){define([],function(){return function(l,k,h){switch(h.length){case 0:return l.call(k);case 1:return l.call(k,h[0]);case 2:return l.call(k,h[0],h[1]);case 3:return l.call(k,h[0],h[1],h[2])}return l.apply(k,h)}})},"vendor/lodash-amd/_setToString":function(){define(["./_baseSetToString","./_shortOut"],
function(l,k){return k(l)})},"vendor/lodash-amd/_baseSetToString":function(){define(["./constant","./_defineProperty","./identity"],function(l,k,h){return k?function(f,a){return k(f,"toString",{configurable:!0,enumerable:!1,value:l(a),writable:!0})}:h})},"vendor/lodash-amd/constant":function(){define([],function(){return function(l){return function(){return l}}})},"vendor/lodash-amd/_shortOut":function(){define([],function(){var l=Date.now;return function(k){var h=0,f=0;return function(){var a=l(),
c=16-(a-f);f=a;if(0<c){if(800<=++h)return arguments[0]}else h=0;return k.apply(void 0,arguments)}}})},"vendor/lodash-amd/_isIterateeCall":function(){define(["./eq","./isArrayLike","./_isIndex","./isObject"],function(l,k,h,f){return function(a,c,e){if(!f(e))return!1;var m=typeof c;return("number"==m?k(e)&&h(c,e.length):"string"==m&&c in e)?l(e[c],a):!1}})},"vendor/lodash-amd/keysIn":function(){define(["./_arrayLikeKeys","./_baseKeysIn","./isArrayLike"],function(l,k,h){return function(f){return h(f)?
l(f,!0):k(f)}})},"vendor/lodash-amd/_baseKeysIn":function(){define(["./isObject","./_isPrototype","./_nativeKeysIn"],function(l,k,h){var f=Object.prototype.hasOwnProperty;return function(a){if(!l(a))return h(a);var c=k(a),e=[],m;for(m in a)("constructor"!=m||!c&&f.call(a,m))&&e.push(m);return e}})},"vendor/lodash-amd/_nativeKeysIn":function(){define([],function(){return function(l){var k=[];if(null!=l)for(var h in Object(l))k.push(h);return k}})},"vendor/lodash-amd/attempt":function(){define(["./_apply",
"./_baseRest","./isError"],function(l,k,h){return k(function(f,a){try{return l(f,void 0,a)}catch(c){return h(c)?c:Error(c)}})})},"vendor/lodash-amd/isError":function(){define(["./_baseGetTag","./isObjectLike","./isPlainObject"],function(l,k,h){return function(f){if(!k(f))return!1;var a=l(f);return"[object Error]"==a||"[object DOMException]"==a||"string"==typeof f.message&&"string"==typeof f.name&&!h(f)}})},"vendor/lodash-amd/isPlainObject":function(){define(["./_baseGetTag","./_getPrototype","./isObjectLike"],
function(l,k,h){var f=Function.prototype.toString,a=Object.prototype.hasOwnProperty,c=f.call(Object);return function(e){if(!h(e)||"[object Object]"!=l(e))return!1;e=k(e);if(null===e)return!0;e=a.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&f.call(e)==c}})},"vendor/lodash-amd/_getPrototype":function(){define(["./_overArg"],function(l){return l(Object.getPrototypeOf,Object)})},"vendor/lodash-amd/_baseValues":function(){define(["./_arrayMap"],function(l){return function(k,
h){return l(h,function(f){return k[f]})}})},"vendor/lodash-amd/_customDefaultsAssignIn":function(){define(["./eq"],function(l){var k=Object.prototype,h=k.hasOwnProperty;return function(f,a,c,e){return void 0===f||l(f,k[c])&&!h.call(e,c)?a:f}})},"vendor/lodash-amd/_escapeStringChar":function(){define([],function(){var l={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};return function(k){return"\\"+l[k]}})},"vendor/lodash-amd/_reInterpolate":function(){define([],function(){return/<%=([\s\S]+?)%>/g})},
"vendor/lodash-amd/templateSettings":function(){define(["./escape","./_reEscape","./_reEvaluate","./_reInterpolate"],function(l,k,h,f){return{escape:k,evaluate:h,interpolate:f,variable:"",imports:{_:{escape:l}}}})},"vendor/lodash-amd/escape":function(){define(["./_escapeHtmlChar","./toString"],function(l,k){var h=/[&<>"']/g,f=RegExp(h.source);return function(a){return(a=k(a))&&f.test(a)?a.replace(h,l):a}})},"vendor/lodash-amd/_escapeHtmlChar":function(){define(["./_basePropertyOf"],function(l){return l({"\x26":"\x26amp;",
"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"})})},"vendor/lodash-amd/_basePropertyOf":function(){define([],function(){return function(l){return function(k){return null==l?void 0:l[k]}}})},"vendor/lodash-amd/_reEscape":function(){define([],function(){return/<%-([\s\S]+?)%>/g})},"vendor/lodash-amd/_reEvaluate":function(){define([],function(){return/<%([\s\S]+?)%>/g})},"mojo/widgets/previewer/inbox-preview/ClientEditor":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-attr dojo/html dojo/on dojo/dom-class dojo/number ./api mojo/neapolitan/editors/_EditorMixin dojo/text!./templates/clientEditor.html dojo/text!./templates/clientEditor/section.html dojo/text!./templates/clientEditor/row.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){var v=l([k,h,f],{templateString:w,client:null,checked:!1,postCreate:function(){this.own(b(this.domNode,"click",c.hitch(this,function(){this.set("checked",!this.checked)})))},onChange:function(a){},_setCheckedAttr:function(a){this.checkBox.set("checked",a);this.checked!=a&&(this._set("checked",a),this.onChange(a))}}),y=l([k,h],{templateString:u,sectionName:"Section Name",clientType:null,store:null,rows:null,numSelectedRows:0,postMixInProperties:function(){if(!this.clientType)throw Error("clientType must be set");
if(!this.store)throw Error("store must be set");this.sectionName=this.store.clientLabels[this.clientType]},postCreate:function(){var c=this;this.rows=[];var d=this._getAvailableClients();d.length?a.forEach(d,function(a){a=new v({client:a});a.startup();a.placeAt(c.rowContainer);c.own(b(a,"change",function(a){c.set("numSelectedRows",c.numSelectedRows+(a?1:-1));c._updateSelectionText()}));c.rows.push(a)}):n.add(this.domNode,"hide");this.own(b(this.selectionLink,"click",function(a){a.preventDefault();
a.stopPropagation();c.numSelectedRows?c.deselectAll():c.selectAll()}))},_updateSelectionText:function(){d.set(this.selectionLink,0==this.numSelectedRows?"Select All":"Deselect All ("+this.numSelectedRows+")")},selectAll:function(){a.forEach(this.rows,function(a){a.set("checked",!0)})},deselectAll:function(){a.forEach(this.rows,function(a){a.set("checked",!1)})},_getAvailableClients:function(){return a.filter(this.store.clients[this.clientType],c.hitch(this,function(a){return!this.store.previews||
this.store.previews&&!this.store.previews.hasOwnProperty(a.id)}))},getSelectedClients:function(){return a.map(this.getSelectedRows(),function(a){return a.client.id})},getSelectedRows:function(){return a.filter(this.rows,function(a){return a.checked})},destroy:function(){a.forEach(this.rows,function(a){a.destroy()});this.inherited(arguments)}}),x=l([k,h,f,r],{sliderEditor:!0,templateString:t,paneId:"preview",store:null,sections:null,clientsStats:null,preselectedClients:null,constructor:function(){this.sections=
[];this.clientsStats=[]},postCreate:function(){this.fetchData().then(c.hitch(this,function(){this._createSection("client");this._createSection("mobile");this._createSection("web");this._updateAvailableTokens();this.setupTopClients();this.setupPreselectedClients();n.toggle(this.topClientsContainer,"hide",this.hasPreviews()&&!this.hasTopClients())}));this.own(b(this.addClientsBtn,"click",c.hitch(this,"_selectClients")))},setupTopClients:function(){a.forEach(this.clientsStats,c.hitch(this,function(a){a=
e.toDom("\x3cli\x3e"+a.name+' \x3cspan class\x3d"float-right nofloat-small"\x3e'+p.format(100*a.percent,{places:1})+"%\x3c/span\x3e\x3c/li\x3e");e.place(a,this.topClients)}));n.toggle(this.topClientsLink,"hide",!this.hasTopClients())},setupPreselectedClients:function(){this.hasPreviews()||(a.forEach(this.sections,c.hitch(this,function(b){a.forEach(b.rows,c.hitch(this,function(a){-1!==this.preselectedClients.indexOf(a.client.id)&&a.set("checked",!0)}))})),this.preselectedClientsText.innerHTML=this.hasTopClients()?
"We\u2019ve preselected your subscribers\u2019 top email clients.":"We\u2019ve preselected the top 10 email clients used by most subscribers.",this.preselectedClientsText.innerHTML+=" You can add more clients for greater coverage");n.toggle(this.preselectedClientsText,"hide",this.hasPreviews())},hasPreviews:function(){return!0===this.store.hasPreviews},hasTopClients:function(){return this.clientsStats&&0<this.clientsStats.length},fetchData:function(){var a=this.store.campaignId?q.getCampaignClientsStats(this.store.campaignId):
q.getTemplateClientsStats(this.store.templateId);a.then(c.hitch(this,function(a){this.clientsStats=a.clientsStats;this.preselectedClients=a.preselectedClients}));return a},_selectClients:function(){var b=[];a.forEach(this.sections,function(a){b=b.concat(a.getSelectedClients())});this._updateAvailableTokens();this.store.runPreview(b);this.done()},_getNumSelectedRows:function(){var b=0;a.forEach(this.sections,function(a){b+=a.numSelectedRows});return b},_updateAvailableTokens:function(){this.store.tokens.set("available",
this.store.tokens.balance-this._getNumSelectedRows())},_updateButtonLabel:function(){var a=this._getNumSelectedRows();0<a?(a="Add "+a+" Client"+(1!=a?"s":""),0<=this.store.tokens.available?m.remove(this.addClientsBtn,"disabled"):m.set(this.addClientsBtn,"disabled","disabled")):(a="Add clients",m.set(this.addClientsBtn,"disabled","disabled"));d.set(this.addClientsBtn,a)},_createSection:function(a){a=new y({clientType:a,store:this.store});a.startup();a.placeAt(this.body);this.own(a.watch("numSelectedRows",
c.hitch(this,function(){this._updateAvailableTokens();this._updateButtonLabel()})));this.sections.push(a);return a},onClose:function(){this.destroy()},_onDone:function(b){b.stopPropagation();b.preventDefault();a.forEach(this.sections,function(a){a.deselectAll()});this.done()},destroy:function(){a.forEach(this.sections,function(a){a.destroy()});this.inherited(arguments)}}),A;return{show:function(a){if(!A||A._destroyed)A=new x({store:a});A.show();return A},hide:function(){A&&!A._destroyed&&A.done()}}})},
"mojo/neapolitan/editors/_EditorMixin":function(){define(["dojo/_base/declare","mojo/utils"],function(l,k){return l(null,{paneId:null,show:function(){this.publishReady()},done:function(){this.publishDone()},publishReady:function(){k.globalPublish("mojo/editor/ready",[this])},publishSetup:function(){k.globalPublish("mojo/editor/setup",[this])},publishDone:function(){k.globalPublish("mojo/editor/done",[this])},save:function(h){},onShow:function(){},onClose:function(){}})})},"mojo/widgets/previewer/inbox-preview/ClientHistoryEditor":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-attr dojo/html dojo/on dojo/dom-class dojo/date/locale ./api mojo/neapolitan/editors/_EditorMixin dojo/text!./templates/clientHistoryEditor.html dojo/text!./templates/clientHistoryEditor/row.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){var w=l([k,h,f],{templateString:u,selected:!1,postCreate:function(){this.formattedDate.innerHTML=this._formatDate(this.preview.finished_timestamp);this.own(b(this.domNode,"click",c.hitch(this,"select")),this.watch("selected",c.hitch(this,function(){n.toggle(this.domNode,"active",this.selected)})))},_formatDate:function(a){return p.format(new Date(1E3*a),{formatLength:"medium",timePattern:"h:mm a"})},select:function(){this.selected||(this.set("selected",!0),
this.onSelected())},deselect:function(){this.set("selected",!1)},onSelected:function(){}}),v=l([k,h,f,r],{sliderEditor:!0,templateString:t,paneId:"preview",store:null,client:null,clientHistory:null,selectedRow:null,constructor:function(){this.rows=[]},postCreate:function(){this.fetchData().then(c.hitch(this,function(){a.forEach(this.clientHistory,c.hitch(this,function(a){var d=new w({preview:a});d.startup();d.placeAt(this.rowContainer);this.rows.push(d);this.own(b(d,"selected",c.hitch(this,function(){this.select(d)})))}))}))},
fetchData:function(){var a=this.store.campaignId?q.getCampaignClientHistory(this.store.campaignId,this.client.id):q.getTemplateClientHistory(this.store.templateId,this.client.id);a.then(c.hitch(this,function(a){this.clientHistory=a.previews}));return a},select:function(a){this.deselect();this.selectedRow=a;this.store.previews.set(a.preview.client,a.preview)},deselect:function(){this.selectedRow&&(this.selectedRow.deselect(),this.selectedRow=null)},onClose:function(){var a=this.clientHistory[0];this.store.previews.set(a.client,
a);this.destroy()},_onDone:function(a){a.stopPropagation();a.preventDefault();this.done()},destroy:function(){a.forEach(this.rows,function(a){a.destroy()});this.inherited(arguments)}}),y;return{show:function(a,b){if(!y||y._destroyed)y=new v({store:a,client:b});y.show();return y},hide:function(){y&&!y._destroyed&&y.done()}}})},"mojo/widgets/previewer/inbox-preview/TokensEditor":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry mojo/neapolitan/editors/_EditorMixin dojo/text!./templates/tokensEditor.html dojo/text!./templates/tokensEditor/block.html ./api dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-attr dojo/html dojo/on dojo/dom-class dojo/number velocity/velocity dojo/query mojo/widgets/ContactBillingModal mojo/user mojo/lib/flags".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z){var B=l([k,h,f],{templateString:m,postCreate:function(){this.own(t(this.domNode,"click",n.hitch(this,"select")),this.watch("selected",n.hitch(this,function(){u.toggle(this.domNode,"active",this.selected)})))},select:function(){this.selected||(this.set("selected",!0),this.onSelected())},deselect:function(){this.set("selected",!1)},onSelected:function(){}}),C=l([k,h,f,c],{sliderEditor:!0,templateString:e,paneId:"preview",store:null,canPurchaseTokens:!1,
numFreeMonthly:0,hasPurchaseError:!1,constructor:function(){this.tokensBlocks=[]},postMixInProperties:function(){this.numFreeMonthly=this.store.tokens.numFreeMonthly},postCreate:function(){u.toggle(this.numFreeMonthlyText,"hide",0>=this.numFreeMonthly);this.fetchData().then(n.hitch(this,function(){b.forEach(this.tokensBlocks,n.hitch(this,function(a){a=new B({block:a});a.startup();a.placeAt(this.blockContainer);this.own(t(a,"selected",n.hitch(this,function(){this.select(a)})))}))}));this.own(t(this.purchaseTokensBtn,
"click",n.hitch(this,"_purchaseTokens")),dijit.byId("billingInfo").watch("canPurchase",n.hitch(this,function(){(this.canPurchaseTokens=dijit.byId("billingInfo").get("canPurchase"))&&this.selectedBlock?q.remove(this.purchaseTokensBtn,"disabled"):q.set(this.purchaseTokensBtn,"disabled","disabled")})));y("[data-mc-el\x3d'editPaymentAnchor']")[0]?new x({step:"payment",workflowMode:!0},y("[data-mc-el\x3d'editPaymentAnchor']")[0]):y("[data-mc-el\x3d'addPaymentAnchor']")[0]&&new x({step:"payment",workflowMode:!0},
y("[data-mc-el\x3d'addPaymentAnchor']")[0]);A.flagIsOn(z.MULTICHANNEL_REMOVE_INBOX_PREVIEW_PURCHASE)?(this.purchasePrompt.innerText="Need more previews?",u.add(this.blockContainer,"hide"),u.add(this.billingHeader,"hide"),u.add(this.actionButtonsPane,"hide"),u.add(a.byId("billingInfo").domNode,"hide"),u.remove(this.litmusUpsell,"hide")):(u.add(this.numFreeMonthlyText,"!margin-bottom--lv6 dim6 fwb"),u.toggle(this.numFreeMonthlyText,"hide",0>=this.numFreeMonthly),this.purchasePrompt.innerText="Would you like to purchase more?")},
fetchData:function(){var a=d.getTokensBlocks();a.then(n.hitch(this,function(a){this.tokensBlocks=a}));return a},select:function(a){this.deselect();this.selectedBlock=a;this.canPurchaseTokens&&q.remove(this.purchaseTokensBtn,"disabled")},deselect:function(){this.selectedBlock&&(this.selectedBlock.deselect(),this.selectedBlock=null)},update:function(){this._updateTokensText();this.selectedClientsCount.innerHTML=this.store.numClientsSelected;A.flagIsOn(z.MULTICHANNEL_REMOVE_INBOX_PREVIEW_PURCHASE)?u.toggle(this.noTokensContainer,
"hide",!0):u.toggle(this.noTokensContainer,"hide",this.store.tokens.balance>=this.store.numClientsSelected)},onClose:function(){this.destroy()},_onDone:function(a){a.stopPropagation();a.preventDefault();this.done()},_updateTokensText:function(){this.tokensCount.innerHTML=w.format(this.store.tokens.balance)},_animatePurchase:function(){var a=this;u.toggle(this.staticTokenImg,"hide");u.toggle(this.spinningTokenImg,"hide");v(this.tokenStatusMsg,"transition.slideUpOut",{duration:300,complete:function(){v(a.processingMsg,
"transition.slideUpIn",{duration:300,before:function(){u.toggle(a.processingMsg,"hide")},complete:function(){v(a.processingMsg,"transition.slideUpOut",{duration:200,delay:1E3,complete:function(){u.toggle(a.staticTokenImg,"hide");u.toggle(a.spinningTokenImg,"hide");u.toggle(a.purchaseErrorContainer,"hide",!a.hasPurchaseError);v(a.tokenStatusMsg,"transition.slideUpIn",{duration:200})}})}})}});v(this.canBuyTokens,{opacity:.3},{easing:"easeInOut",duration:300,begin:function(){u.add(a.canBuyTokens,"no-clicky")},
complete:function(){v(a.canBuyTokens,"reverse",{duration:200,delay:1750,complete:function(){u.remove(a.canBuyTokens,"no-clicky")}})}})},_purchaseTokens:function(){this.hasPurchaseError=!1;u.add(this.noTokensContainer,"hide");u.add(this.purchaseTokensBtn,"button-loading");q.set(this.purchaseTokensBtn,"disabled","disabled");u.add(this.purchaseErrorContainer,"hide");this._animatePurchase();d.purchaseTokens(this.selectedBlock.block.block_id).then(n.hitch(this,function(a){this.hasPurchaseError=!a.success;
a.success?(this._updateTokensText(),setTimeout(n.hitch(this,function(){this.done()}),1E3)):this.purchaseErrorMsg.innerHTML=a.message;u.remove(this.purchaseTokensBtn,"button-loading");q.remove(this.purchaseTokensBtn,"disabled")}))}}),D;return{show:function(a){if(!D||D._destroyed)D=new C({store:a});D.update();D.show();return D},hide:function(){D&&!D._destroyed&&D.done()}}})},"mojo/widgets/ContactBillingModal":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom dojo/dom-form dojo/on dojo/parser dojo/query dojo/request/xhr dijit/registry dijit/Dialog dijit/_WidgetBase mojo/app/account/paypal mojo/lib/logger mojo/url mojo/utils mojo/widgets/FeedbackBlock".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z){return k("mojo.widgets.ContactBillingModal",[w],{step:"contact",workflowMode:!1,callbackURI:null,launchStep:"",guid:null,modal:null,resetFeedbackBlock:function(){var a=t.byId("errorFeedback");a&&a.destroy()},postCreate:function(){var e=this,f=[],k={},t,w=!1,I=!1,L="";n(this.domNode,"click",function(){var J=function(b){d.byId("payment-adyen")&&m.add("payment-adyen","hide");q("input[name\x3d'payment-method']").forEach(function(b){var c=d.byId(a.get(b,
"data-show-el"));c&&(b.checked?m.remove(c,"hide"):m.add(c,"hide"))});b||(b=q("#payment-details").closest(".dijitDialogPaneContent")[0],b.scrollTop=b.scrollHeight)},T=function(){var a=q("[data-mc-el\x3d'editContactMethod']"),b=d.byId("contactSummary"),c=d.byId("contactForm");if(a)a.on("click",function(){m.toggle(b,"hide");m.toggle(c,"hide")})},V=function(){var a=d.byId("cc_num"),b=d.byId("cc_num_label"),c=b.innerHTML,e="";h.connect(a,"onkeyup",function(){4<=a.value.length&&a.value.substr(0,4)!==e&&
(e=a.value.substr(0,4),h.xhrGet({url:x.toUrl("account/credit-card-type",{num:e}),handleAs:"text",load:function(a){""!==a&&(b.innerHTML=a)}}));0===a.value.length&&(b.innerHTML=c)})},P=function(){n(d.byId("billing-country"),"change, click",function(){var a=d.byId("billing-country").value;d.byId("adyen-select")&&(-1!==l.indexOf([9,16,59,109],a)?(m.remove("adyen-select","hide"),d.byId("use_adyen").checked&&m.remove("payment-adyen","hide")):(m.add("adyen-select","hide"),m.add("payment-adyen","hide")));
d.byId("paypal-select")&&(157===a?(m.add("paypal-select","hide"),m.add("payment-paypal","hide"),d.byId("use_paypal").checked=!1):(m.remove("paypal-select","hide"),d.byId("use_paypal").checked&&m.remove("payment-paypal","hide")))});d.byId("billing-country").click()},K=function(a){d.byId("billing-info-error").innerHTML=a;q("#billing-info-error").closest(".error").forEach(function(a){m.remove(a,"hide")})},M=function(a){q(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();
a.hide()})},H=function(a){!0===a?(a=q(".modal-content"),l.forEach(a,function(a){m.add(a,"js-hide")}),m.remove(d.byId("loadingState"),"js-hide")):m.add(d.byId("loadingState"),"js-hide")},X=function(a,b){e.resetFeedbackBlock();q(".invalid-error").forEach(function(a){h.destroy(a)});var f=new z({message:a.error_msg,type:"error",id:"errorFeedback"});f.placeAt(d.byId("errorDiv"),"only");m.remove(d.byId(k[b].contentId),"js-hide");if(a.errors)for(var l in a.errors)if(l){var n=d.byId(l);if("contact"===e.step||
"billing"===e.step)n=d.byId(e.step+"-"+l);n&&(m.add(n,"invalid"),c.place("\x3cspan class\x3d'invalid-error !margin-top--lv0'\x3e"+a.errors[l]+"\x3c/span\x3e",n,"after"),n.focus())}H(!1);try{f.domNode.scrollIntoView()}catch(p){}},R=function(a){var b=q(".modal-content"),c=k[a];e.resetFeedbackBlock();l.forEach(b,function(a){m.add(a,"js-hide")});c.title&&e.modal.set("title",c.title);c.buttonTitle&&(d.byId("modal-save-button").innerText=c.buttonTitle);c.workflowHideFieldID&&!e.workflowMode&&m.add(d.byId(c.workflowHideFieldID),
"js-hide");3<=e.modal.addressAttempts&&(m.remove(d.byId("contactSupportMessaging"),"js-hide"),m.add(d.byId("sorryMessage"),"js-hide"));m.remove(d.byId(c.contentId),"js-hide");t&&t.remove();t=n(d.byId("modal-save-button"),"click",function(){c.saveFunctionality()});600>window.innerWidth&&(y.info("new-billing-modal","Mobile_Div_Shown",{guid:e.guid,launch_step:e.launchStep,message:"Mobile_Div_Shown"}),m.remove(d.byId("mobileSpacer"),"js-hide"))},N=function(){m.add(d.byId("validateContactAddressMessage"),
"js-hide");r.get(x.toUrl("/account/get-workflow-modal-step"),{handleAs:"json"}).then(function(a){R(a.step);"contact"===a.step&&m.remove(d.byId("validateContactAddressMessage"),"js-hide")})},Q=function(){n(d.byId("editContactSummaryAnchor"),"click",function(){R("contact")});n(d.byId("editBillingSummaryAnchor"),"click",function(){R("billing")})},S=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},Y=function(){if(q('[data-mc-el\x3d"billingPlanSidebar"]')[0])try{window._mc.calculatePurchase()}catch(a){y.info("new-billing-modal",
"Error_Refreshing_Sidebar",{guid:e.guid,launch_step:e.launchStep,message:"Error_Refreshing_Sidebar",error:a})}else if(d.byId("current-payment-info")&&!e.onClose)r.get(x.toUrl("account/get-payment-info"),{handleAs:"json"}).then(function(a){d.byId("current-payment-info").innerHTML=a.html;p.parse(d.byId("current-payment-info"))});else if(d.byId("current-billing-info")&&!e.onClose)r.get(x.toUrl("account/get-payment-info"),{handleAs:"json"}).then(function(a){d.byId("current-billing-info").innerHTML=a.html;
p.parse(d.byId("current-billing-info"))});else if(e.onClose)return e.onClose()};e.modal=new u({style:"width:750px; height: 500px",onHide:function(){this.destroyRecursive();y.info("new-billing-modal","Modal_Closed",{guid:e.guid,launch_step:e.launchStep,close_Step:L,message:"Modal_Closed"});if(I||w||"payment"===e.launchStep)if(e.callbackURI)"reload"===e.callbackURI?location.reload():window.location.replace(x.toUrl(e.callbackURI));else if("payment"===e.launchStep)Y();else if(e.onClose)e.onClose()},onDownloadEnd:function(){e.modal.addressAttempts=
0;e.launchStep=e.step;e.close_Step=e.launchStep;e.guid=S();!0===e.workflowMode?N():null!==e.step?R(e.step):R("contact");null===e.workflowMode&&(e.workflowMode=!1);!0!==e.workflowMode&&m.add(d.byId("validateContactAddressMessage"),"js-hide");n(d.byId("sameAsContactCheckbox"),"change",function(){!0===this.checked?m.add(d.byId("billingAddressFieldWrapper"),"js-hide"):m.remove(d.byId("billingAddressFieldWrapper"),"js-hide")});M(this);J(!0);T();V();A.countrySelectFieldSpecific("contact",!1,"contact-country",
"contact-state","contact-us-state-container","contact-us-state","contact-state-container",x.toUrl("/account/country-has-state"));A.zipToCityFieldSpecific("contact-zip","contact-city","contact-country",x.toUrl("/account/zip-to-city"));A.zipToStateFieldSpecific("contact-zip","contact-state","contact-us-state",x.toUrl("/account/zip-to-state"));A.countrySelectFieldSpecific("billing",!0,"billing-country","billing-state","billing-us-state-container","billing-us-state","billing-state-container",x.toUrl("/account/country-has-state"));
A.zipToCityFieldSpecific("billing-zip","billing-city","billing-country",x.toUrl("/account/zip-to-city"));A.zipToStateFieldSpecific("billing-zip","billing-state","billing-us-state",x.toUrl("/account/zip-to-state"));P();var a=q("[data-mc-el\x3d'oneTimeFeeLabel']")[0],b=q("[data-mc-el\x3d'adyenSetupFeeLabel']")[0];a&&0<a.dataset.usd&&!b&&(a=q("[data-mc-el\x3d'adyen-msg-block']")[0])&&m.toggle(a,"hide");(a=q("[data-mc-el\x3d'default-adyen-msg']")[0])&&m.toggle(a,"hide",x.inUrl("billing-plan"));(a=q("[data-mc-el\x3d'default-adyen-msg']")[0])&&
m.toggle(a,"hide",!x.inUrl("billing-plan"));q("input[name\x3d'payment-method']").on("change",function(){J()});Q();y.info("new-billing-modal","Modal_Init",{guid:e.guid,launch_step:e.launchStep,message:"Modal_Init"})}});var O=function(b){q(".invalid-error").forEach(function(a){h.destroy(a)});var e=!0;q("label.required",b).forEach(function(b){0!==b.offsetHeight&&(b=d.byId(a.get(b,"for")),m.toggle(b,"invalid",!b.value),b.value||(c.place("\x3cspan class\x3d'invalid-error'\x3eYou missed this field\x3c/span\x3e",
b,"after"),e=!1))});return e},W=function(a){if(a.results)for(var b=0;b<a.results.length&&3!==b;b++){var c=a.results[b];m.remove(d.byId("lbAddressChoice"+(b+1)),"js-hide");var e=d.byId("addressChoice"+(b+1)),f="";c.address1&&0<c.address1.length&&(f+=c.address1);c.address2&&0<c.address2.length&&(f+=" "+c.address2);c.city&&0<c.city.length&&(f+=" "+c.city);c.state&&0<c.state.length&&(f+=", "+c.state);c.zip&&0<c.zip.length&&(f+=", "+c.zip);e.innerText=f}},da=function(){return r.get(x.toUrl("/account/contact-summary"),
{handleAs:"json"}).then(function(a){c.place(a.template,d.byId("contactSummary"),"replace");Q()})},ca=function(){return r.get(x.toUrl("/account/billing-summary"),{handleAs:"json"}).then(function(a){c.place(a.template,d.byId("billingSummary"),"replace");m.add(d.byId("contact-info-form"),"js-hide");Q()})},Da=function(a){var c=d.byId("contactInfoForm"),c=b.toObject(c);a=JSON.stringify(a);c.results=a;return r.post(x.toUrl("account/save-validation-results"),{handleAs:"json",data:c})};k={contact:{contentId:"contactInfo",
title:"Contact Information",buttonTitle:"Save",saveFunctionality:function(){var a=d.byId("contactInfoForm"),c=b.toObject(a);!0===O(a,k.contact)&&(H(!0),r.post(x.toUrl("account/validate-address"),{handleAs:"json",data:c}).then(function(a){!1===a.success?(X(a,"contact"),y.info("new-billing-modal","Error_Thrown_Contact",{guid:e.guid,launch_step:e.launchStep,formData:JSON.stringify(c),message:"Error_Thrown_Contact"})):(f=a.results||[],w=!0,L="contact",!a.is_valid||"STREET"!==a.validation_level&&"SKIPPED"!==
a.validation_level?"INVALID"!==a.validation_level&&a.results&&0<a.results.length?(W(a),H(!1),y.info("new-billing-modal","Malformed_Address_Did_You_Mean",{guid:e.guid,launch_step:e.launchStep,formData:JSON.stringify(c),message:"Malformed_Address_Did_You_Mean"}),R("did-you-mean")):(H(!1),e.modal.addressAttempts+=1,y.info("new-billing-modal","Invalid_Address",{guid:e.guid,launch_step:e.launchStep,formData:JSON.stringify(c),message:"Invalid_Address"}),3===e.modal.addressAttempts&&y.info("new-billing-modal",
"Invalid_Address_Blocked_3_Attempts",{guid:e.guid,launch_step:e.launchStep,formData:JSON.stringify(c),message:"Invalid_Address_Blocked_3_Attempts"}),R("no-results-found")):Da(a).then(function(b){!1===b.success?(X(b,"contact"),y.info("new-billing-modal","Error_Thrown_Contact",{guid:e.guid,launch_step:e.launchStep,formData:JSON.stringify(c),error:b.error_msg,message:"Error_Thrown_Contact"})):da().then(function(){y.info("new-billing-modal","Submission_Successful_Contact",{guid:e.guid,launch_step:e.launchStep,
formData:JSON.stringify(c),message:"Submission_Successful_Contact"});if(!0===e.workflowMode){H(!1);var b=a.results[0];d.byId("contact-address1").value=b.address1;d.byId("contact-address2").value=b.address2;d.byId("contact-city").value=b.city;d.byId("contact-state").value=b.state;d.byId("contact-zip").value=b.zip;d.byId("contact-country").value=b.country;N()}else e.modal.hide()})}))}))}},billing:{contentId:"billingInfoModal",title:"Billing Information",buttonTitle:"Save",workflowHideFieldID:"billing-contact-fields",
saveFunctionality:function(){var a=d.byId("billingInfoForm"),c=b.toObject(a);!0===O(a,k.billing)&&(H(!0),r.post(x.toUrl("account/save-billing-address"),{handleAs:"json",data:c}).then(function(a){!1===a.success?(X(a,"billing"),y.info("new-billing-modal","Error_Thrown_Billing",{guid:e.guid,launch_step:e.launchStep,formData:JSON.stringify(c),error:a.error_msg,message:"Error_Thrown_Billing"})):(I=!0,L="billing",y.info("new-billing-modal","Submission_Successful_Billing",{guid:e.guid,launch_step:e.launchStep,
formData:JSON.stringify(c),message:"Submission_Sucessful_Billing"}),da().then(function(){ca().then(function(){!0===e.workflowMode?(H(!1),d.byId("billing-address1").value=a.final_address.address1,d.byId("billing-address2").value=a.final_address.address2,d.byId("billing-city").value=a.final_address.city,d.byId("billing-state").value=a.final_address.state,d.byId("billing-zip").value=a.final_address.zip,d.byId("billing-country").value=a.final_address.country,R("payment"),Q()):e.modal.hide()})}))}))}},
payment:{contentId:"paymentInfo",title:"Payment Information",buttonTitle:"Save",saveFunctionality:function(){var a=d.byId("paymentInfoForm"),c=b.toObject(a);L="payment";"paypal"!==c["payment-method"]||d.byId("is_paypal_already").value?r.post(x.toUrl("/account/payment-info-post"),{handleAs:"json",data:c}).then(function(a){!1===a.success?(X(a,"payment"),y.info("new-billing-modal","Error_Submit_Payment",{guid:e.guid,launch_step:e.launchStep,message:"Error_Submit_Payment",Error:a.error_msg?a.error_msg:
"Error submitting payment"})):(y.info("new-billing-modal","Submission_Successful_Payment",{guid:e.guid,launch_step:e.launchStep,message:"Submission_Successful_Payment"}),e.modal.hide())}):v.showPayPalNewModal(function(){K("Something went wrong, please select another payment method.");y.info("new-billing-modal","Error_Submit_Paypal",{guid:e.guid,launch_step:e.launchStep,message:"Error_Submit_Paypal"})}).then(function(d){c=b.toObject(a);c.nonce=d.nonce;c.email=d.details.email;r.post(x.toUrl("/account/payment-info-post"),
{handleAs:"json",data:c}).then(function(){e.modal.hide()});y.info("new-billing-modal","Submission_Successful_Payment",{guid:e.guid,launch_step:e.launchStep,message:"Submission_Successful_Payment"})})}},"did-you-mean":{contentId:"didYouMean",suggestedAddresses:"getAddresses",title:"Verify Contact Address",buttonTitle:"Save",saveFunctionality:function(){H(!0);for(var a=0;3>a;a++)if(d.byId("rbAddressChoice"+(a+1)).checked){Da({is_valid:!0,validation_level:"STREET",results:[f[a]]}).then(function(a){L=
"did-you-mean";!1===a.success?(X(a,"did-you-mean"),y.info("new-billing-modal","Error_Thrown_DYM",{guid:e.guid,launch_step:e.launchStep,formData:JSON.stringify(a),error:a.error_msg,message:"Error_Thrown_DYM"})):(y.info("new-billing-modal","Submission_Successful_DYM",{guid:e.guid,launch_step:e.launchStep,formData:JSON.stringify(a),message:"Submission_Successful_DYM"}),da().then(function(){!0===e.workflowMode?(H(!1),N()):e.modal.hide()}))});break}}},"no-results-found":{contentId:"noResults",title:"Verify Contact Address",
buttonTitle:"Back",saveFunctionality:function(){R("contact")}}};e.modal.set("href",x.toUrl("account/contact-billing-modal"));e.modal.show()})}})})},"mojo/app/account/paypal":function(){define("dojo/request/xhr mojo/url dojo/dom-construct dojo/dom dojo/_base/window dojo/Deferred".split(" "),function(l,k,h,f,a,c){var e=function(){f.byId("bt-pp-cancel")&&f.byId("bt-pp-cancel").click();f.byId("braintree-paypal-button")&&f.byId("braintree-paypal-button").click()},m=function(a,d,e){var f=new c;require(["https://js.braintreegateway.com/v1/braintree-data.js"],
function(){BraintreeData.setup(d,a,e?BraintreeData.environments.production:BraintreeData.environments.sandbox);f.resolve()});return f.promise},d;return{showPayPal:function(b){d=new c;container="paypal-hidden";null==f.byId(container)?(h.place('\x3cdiv id\x3d"'+container+'" style\x3d"display:none"\x3e\x3c/div\x3e',a.body()),l(k.toUrl("/account/generate-braintree-token"),{handleAs:"json"}).then(function(a){require(["https://js.braintreegateway.com/v2/braintree.js"],function(c){c.setup(a.token,"paypal",
{container:container,singleUse:!1,displayName:"MailChimp",enableBillingAddress:!0,locale:"us",onReady:function(){m("billing-form",a.merchant_id,a.production).then(e)},onPaymentMethodReceived:function(a){d.resolve(a)},onUnsupported:function(a){b()}})})},function(a){d.resolve(a);b(a.message)})):m("billing-form").then(e);return d.promise},showPayPalNewModal:function(b){d=new c;null===f.byId("paypal-hidden")?(h.place('\x3cdiv id\x3d"paypal-hidden" style\x3d"display:none"\x3e\x3c/div\x3e',a.body()),l(k.toUrl("/account/generate-braintree-token"),
{handleAs:"json"}).then(function(a){require(["https://js.braintreegateway.com/v2/braintree.js"],function(c){c.setup(a.token,"paypal",{container:"paypal-hidden",singleUse:!1,displayName:"MailChimp",enableBillingAddress:!0,locale:"us",onReady:function(){m("billing-form",a.merchant_id,a.production).then(e())},onPaymentMethodReceived:function(a){d.resolve(a)},onUnsupported:function(){b()}})})},function(a){d.resolve(a);b(a.message)})):m("billing-form").then(e());return d.promise}}})},"mojo/widgets/FeedbackBlock":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/FeedbackBlock.html".split(" "),
function(l,k,h,f,a,c){return l([f,a],{templateString:c,type:"info",title:"",message:"",containerClass:"",postCreate:function(){k.add(this.domNode,this.type);k.add(this.domNode,this.containerClass);k.add(this.icon,{success:"tick-circle",warning:"warn-circle",error:"not-allowed",info:"info-circle"}[this.type]);if(this.title||this.message)this.containerNode.innerHTML="",this.title&&this.containerNode.appendChild(h.toDom("\x3ch4\x3e"+this.title+"\x3c/h4\x3e")),this.message&&this.containerNode.appendChild(h.toDom("\x3cp\x3e"+
this.message+"\x3c/p\x3e"))}})})},"mojo/widgets/previewer/inbox-preview/ContentPane":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/text!./templates/contentPane.html".split(" "),function(l,k,h,f,a,c,e){return l([k,h],{templateString:e,imageTpl:'\x3cimg src\x3d"{src}" class\x3d"!margin-bottom--lv8 drop-shadow"\x3e',store:null,selectedClient:null,postCreate:function(){this.own(this.store.previews.watch(c.hitch(this,
function(a){this.selectedClient===a&&this._showInboxPreview()})));this.watch("selectedClient",c.hitch(this,function(){this._showInboxPreview()}));this._showInboxPreview()},_showInboxPreview:function(){var e=this.getPreview();if(e)switch(f.empty(this.contentContainer),e.status){case "queued":a.add(this.contentContainer,"hide");a.add(this.litmusMsgContainer,"hide");a.remove(this.loadingContainer,"hide");a.add(this.loadingContainer,"animate-preview-pane");break;case "failed":a.add(this.contentContainer,
"hide");a.add(this.litmusMsgContainer,"hide");a.remove(this.loadingContainer,"hide");a.remove(this.loadingContainer,"animate-preview-pane");break;case "completed":f.place(c.replace(this.imageTpl,{src:e.url}),this.contentContainer,"only"),a.add(this.loadingContainer,"hide"),a.remove(this.loadingContainer,"animate-preview-pane"),a.remove(this.contentContainer,"hide"),a.remove(this.litmusMsgContainer,"hide")}else a.add(this.contentContainer,"hide"),a.remove(this.loadingContainer,"hide")},getPreview:function(){return this.selectedClient?
this.store.previews[this.selectedClient]:null}})})},"mojo/lib/async":function(){define(["mojo/url","dojo/request"],function(l,k){var h=function(a,c){k.post(l.toUrl("/async"),{handleAs:"json",data:{id:a}}).then(function(e){f(a,e,c)})},f=function(a,c,e){switch(c.status){case "queued":case "started":setTimeout(function(){h(a,e)},3E3);break;case "error":if(e&&e.onError)e.onError(c);break;case "failed":if(e&&e.onFailed)e.onFailed(c);break;case "completed":if(e&&e.onComplete)e.onComplete(c)}};return function(a,
c){c=c||{};a.then(function(a){f(a._async_id,a,c)})}})},"mojo/widgets/BrowserWarnings":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct mojo/utils mojo/browserUtils mojo/widgets/FeedbackBlock dijit/_WidgetBase".split(" "),function(l,k,h,f,a,c,e){return l([e],{defaultTitleTemplate:"This version of {name} is not actively supported in MailChimp.",defaultWarningStyle:"warning",postCreate:function(){var e=a.testBrowsers(this._browserConfig());e?(e=new c(this._createFeedbackObject(e)),
h.place(e.domNode,this.domNode)):this.destroy()},_browserTitleTemplates:{ie8:"Whoa there! Internet Explorer 8 and below do not work with MailChimp.",ie9:"Internet Explorer 9 is not actively supported in MailChimp.",ie10:"Internet Explorer 10 is not actively supported in MailChimp."},_browserWarningTemplates:{latestChrome:'Most things should work, but if you have any problems, we\x26rsquo;d recommend \x3ca href\x3d"http://www.google.com/chrome/" target\x3d"_blank"\x3eupdating Chrome\x3c/a\x3e or switching to the latest version of \x3ca href\x3d"http://www.getfirefox.com/" target\x3d"_blank"\x3eFirefox\x3c/a\x3e.',
latestFF:'Most things should work, but if you have any problems, we\x26rsquo;d recommend \x3ca href\x3d"http://www.getfirefox.com/" target\x3d"_blank"\x3eupdating Firefox\x3c/a\x3e or switching to the latest version of \x3ca href\x3d"http://www.google.com/chrome/" target\x3d"_blank"\x3eChrome\x3c/a\x3e.',latestSafari:'Most things should work, but if you have any problems, we\x26rsquo;d recommend checking for \x3ca href\x3d"https://support.apple.com/en-us/HT201541" target\x3d"_blank"\x3esoftware updates\x3c/a\x3e or switching to the latest version of \x3ca href\x3d"http://www.google.com/chrome/" target\x3d"_blank"\x3eChrome\x3c/a\x3e or \x3ca href\x3d"http://www.getfirefox.com/" target\x3d"_blank"\x3eFirefox\x3c/a\x3e.',
latestIE:'The latest versions of \x3ca href\x3d"http://www.google.com/chrome/" target\x3d"_blank"\x3eChrome\x3c/a\x3e, \x3ca href\x3d"http://www.getfirefox.com/" target\x3d"_blank"\x3eFirefox\x3c/a\x3e and Internet Explorer all play nice with the Chimp. We recommend switching to one of those.',oldIE:'The latest versions of \x3ca href\x3d"http://www.google.com/chrome/" target\x3d"_blank"\x3eChrome\x3c/a\x3e, \x3ca href\x3d"http://www.getfirefox.com/" target\x3d"_blank"\x3eFirefox\x3c/a\x3e and Internet Explorer all play nice with the Chimp. To log in, you\x26rsquo;ll need to use one of those.',
oldSafariSwitch:'We recommend switching to the latest version of \x3ca href\x3d"http://www.google.com/chrome/" target\x3d"_blank"\x3eChrome\x3c/a\x3e or \x3ca href\x3d"http://www.getfirefox.com/" target\x3d"_blank"\x3eFirefox\x3c/a\x3e.'},_browserConfig:function(){return{ie:{versions:[{comparator:f.comparators.LTE,versionNum:"10",warningTitleTpl:this._browserTitleTemplates.ie10,warningBodyTpl:this._browserWarningTemplates.latestIE},{comparator:f.comparators.LTE,versionNum:"8",warningType:"error",
warningTitleTpl:this._browserTitleTemplates.ie8,warningBodyTpl:this._browserWarningTemplates.oldIE}]},ff:{versions:[{versionNum:"32",warningBodyTpl:this._browserWarningTemplates.latestFF}]},safari:{versions:[{versionNum:"8",warningBodyTpl:this._browserWarningTemplates.latestSafari},{versionNum:"6.1",warningBodyTpl:this._browserWarningTemplates.oldSafariSwitch}]},chrome:{versions:[{versionNum:"38",warningBodyTpl:this._browserWarningTemplates.latestChrome}]}}},_createFeedbackObject:function(a){var c=
{},b=a.warningTitleTpl||k.replace(this.defaultTitleTemplate,{name:a.name});c.title=b;c.message=a.warningBodyTpl;c.type=a.warningType||this.defaultWarningStyle;return c}})})},"mojo/browserUtils":function(){define(["dojo/_base/declare","dojo/has","dojo/sniff","mojo/utils"],function(l,k,h,f){var a={ie:"Internet Explorer",ff:"Firefox",safari:"Safari",chrome:"Chrome"},c=f.comparators.LT;return{testBrowsers:function(e){for(var f,d=Object.keys(e),b=0;b<d.length;b++){var h=d[b],l=k(h);if(l){e=e[h].versions;
for(d=0;d<e.length;d++)b=parseFloat(e[d].versionNum,10),(e[d].comparator||c)(l,b)&&(f=e[d],f.name=a[h]);return f}}}}})},"mojo/widgets/CKContentForm":function(){define("dojo/_base/declare mojo/widgets/TopSliderPane dojo/on dojo/topic dojo/dom-style dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/_base/window dojo/_base/lang dojo/_base/array dojo/_base/Color mojo/analytics/parts/Select mojo/neapolitan/widgets/ColorPicker mojo/context mojo/ImageEditor mojo/widgets/FileManager dojo/text!./content-manager/templates/CKContentForm.html dojo/text!./content-manager/templates/CKContentFormWrapper.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){var x=l([k],{templateString:y,content:v,titleText:"Content Manager",badgeText:"Experimental",paneClasses:"filemanager-container",onCKImageSaved:null,name:"",_setNameAttr:{node:"imageTitle",type:"innerText"},contentId:"",src:"",styles:"",postMixInProperties:function(){this.inherited(arguments);this.rootUrl=t.rootUrl},postCreate:function(){this.inherited(arguments);h(this.saveBtn,"click",b.hitch(this,"handleSave"));h(this.linkToSelfBtn,"click",b.hitch(this,
"handleLinkToSelf"));h(this.backToFilesBtn,"click",b.hitch(this,"handleBackToFiles"));h(this.showMoreStylesBtn,"click",b.hitch(this,"handleShowMoreStyles"));h(this.editImageBtn,"click",b.hitch(this,"handleEditImage"));h(this.resetImageDimensionsBtn,"click",b.hitch(this,"handleResetImageDimensions"));this.colorPicker=new r;this.colorPicker.startup();m.place(this.colorPicker.domNode,d.body());this.colorPicker.addInput(this.ckBorderColor)},handleSave:function(){var a=p.fromString(this.ckBorderColor.get("value")),
a={src:this.src,width:c.get(this.imageWidth,"value"),height:c.get(this.imageHeight,"value"),alt:c.get(this.ckImageAlt,"value"),align:c.get(this.ckImageAlign,"value"),link:c.get(this.ckImageLink,"value"),newWindow:this.ckLinkTarget.get("value"),styles:{marginTop:c.get(this.ckMarginTop,"value"),marginBottom:c.get(this.ckMarginBottom,"value"),marginLeft:c.get(this.ckMarginLeft,"value"),marginRight:c.get(this.ckMarginRight,"value"),border:{style:c.get(this.ckBorderStyle,"value"),width:c.get(this.ckBorderWidth,
"value"),color:a?a.toHex():""}},fileId:this.contentId};if(this.onCKImageSaved)this.onCKImageSaved(a);this.hide()},handleLinkToSelf:function(a){c.set(this.ckImageLink,"value",this.src);a.preventDefault()},handleShowMoreStyles:function(){e.toggle(this.moreImageStyles,"hide")},handleEditImage:function(){var a=this.ckImage.getAttribute("data-file-id");u.open(this.src).then(b.hitch(this,function(b){return w.importFromUrl(b,!0,a)})).then(b.hitch(this,function(a){a="data"in a?a.data:a;this.selectImage(a.url,
a.name,a.contentId)}))},handleResetImageDimensions:function(a){this._resetDimensions();a.preventDefault()},handleBackToFiles:function(a){a.preventDefault();w.show({onSelect:b.hitch(this,function(a,b,c){this.selectImage(a,b,c,!0)}),actions:["select","edit","delete"],forceOnTop:!0})},_onShowCallback:function(){var a=this.allowedFileTypes;a&&"string"!==typeof a&&a.join();f.publish("mojo/filemanager/show")},_onHideCallback:function(){f.publish("mojo/filemanager/hide")},selectImage:function(b,d,e,f){this.set("src",
b);this.set("contentId",e);this.set("name",d||(this.src?this.src.substr(this.src.lastIndexOf("/")+1):""));f&&this._resetDimensions();a.set(this.ckImage,"backgroundImage",'url("'+this.src+'")');c.set(this.ckImage,"data-file-id",e)},show:function(b){this._showCleanup();this.onCKImageSaved=b.onSave;this.selectImage(b.src,b.name,b.fileId,!1);this.set("width",b.width);this.set("height",b.height);this._setupDimensionInputs();c.set(this.ckImageAlt,"value",b.alt||"");c.set(this.ckImageAlign,"value",b.align||
"");c.set(this.ckImageLink,"value",b.link||"");c.set(this.ckLinkTarget,"value",b.hasOwnProperty("newWindow")?b.newWindow:!0);var d=m.toDom('\x3cdiv style\x3d"'+b.styles+'"\x3e\x3c/div\x3e');a.set(d,b.styles);c.set(this.ckMarginTop,"value",a.get(d,"marginTop"));c.set(this.ckMarginBottom,"value",a.get(d,"marginBottom"));c.set(this.ckMarginLeft,"value",a.get(d,"marginLeft"));c.set(this.ckMarginRight,"value",a.get(d,"marginRight"));c.set(this.ckBorderWidth,"value",a.get(d,"borderWidth"));c.set(this.ckBorderStyle,
"value",a.get(d,"borderStyle"));var e=p.fromString(a.get(d,"borderColor"));c.set(this.ckBorderColor,"value",e?e.toHex():"");m.destroy(d);!1==="forceOnTop"in arguments[0]&&(arguments[0].forceOnTop=!0);k.prototype.show.apply(this,arguments)},_setupDimensionInputs:function(){this._inputEvents&&n.forEach(this._inputEvents,"item.remove();");this._inputEvents=[];var a=u.getImageInfo(this.src);this.width||this.height?(c.set(this.imageWidth,"value",this.width||""),c.set(this.imageHeight,"value",this.height||
"")):a.then(b.hitch(this,function(a){c.set(this.imageWidth,"value",a.width||"");c.set(this.imageHeight,"value",a.height||"")}));a.then(b.hitch(this,function(a){var c=a.width/a.height;a=b.hitch(this,function(){this.proportionCheckbox.checked&&(this.imageHeight.value=parseInt(1/c*parseInt(this.imageWidth.value,10),10))});var d=b.hitch(this,function(){this.proportionCheckbox.checked&&(this.imageWidth.value=parseInt(c*parseInt(this.imageHeight.value,10),10))});this._inputEvents.push(h(this.imageWidth,
"change",a));this._inputEvents.push(h(this.imageHeight,"change",d))}))},_resetDimensions:function(){u.getImageInfo(this.src).then(b.hitch(this,function(a){c.set(this.imageWidth,"value",a.width||"");c.set(this.imageHeight,"value",a.height||"")}))},_showCleanup:function(){this.onSave=this.onSelect=this.allowedFileTypes=this.showId=null}}),A=null;return{_getCKContentForm:function(){A||(A=new x,A.startup());return A},show:function(a){return this._getCKContentForm().show(a)},hide:function(){return this._getCKContentForm().hide()},
isShown:function(){return A&&!0===A.displayActive}}})},"mojo/analytics/parts/Select":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/text!./templates/select.html dojo/_base/array dojox/mvc/sync dijit/form/Select".split(" "),function(l,k,h,f,a,c,e){return l([k,h],{templateString:f,label:"",alwaysVisible:!1,init:function(){var f=[];a.forEach(this.values,function(a){f.push({label:a[1],value:a[0]})});this.select=new e({options:f,onChange:this.onChange},this.select);this.select.startup();
if(this.syncAttr)c(this.target,this.syncAttr,this.select,"value");else throw Error("syncAttr must be specified");},canDisplay:function(){return this.alwaysVisible||this.inherited(arguments)},onChange:function(a){}})})},"mojo/analytics/parts/_Part":function(){define("dojo/_base/declare dijit/_Widget dojo/_base/lang dojo/_base/array dojo/on dojox/mvc/sync dojo/dom-style dijit/form/Select dijit/registry dojo/topic".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([k],{constructor:function(){this._watches=
[]},postMixInProperties:function(){if(!this.target)throw Error("attribute target was not specified");this.inherited(arguments)},postCreate:function(){e.set(this.domNode,"display","none");if("string"==typeof this.target)if(d.byId(this.target))this.target=d.byId(this.target),this._display();else var a=b.subscribe("mojo/analytics/"+this.target+"/ready",h.hitch(this,function(){this.target=d.byId(this.target);this._display();a.remove()}));else this._display()},_display:function(){this.init();this._watches.push(this.target.watch("total",
h.hitch(this,"toggleDisplay")));this.toggleDisplay()},toggleDisplay:function(){var a=this.canDisplay();e.set(this.domNode,"display",a?"":"none");a?this.onShow():this.onHide()},init:function(){this.inherited(arguments)},canDisplay:function(){return 0<this.target.total},onShow:function(){},onHide:function(){},uninitialize:function(){f.forEach(this._watches,"item.unwatch();");this._watches=[]}})})},"dojox/mvc/sync":function(){define(["dojo/_base/lang","dojo/_base/config","dojo/_base/array","dojo/has"],
function(l,k,h,f){function a(a,b,c,e,k,r,t,u,w,v){if(!(c(w,u)||"*"==k&&0>h.indexOf(e.get("properties")||[t],t)||"*"==k&&t in(v||{}))){c="*"==k?t:k;f("mvc-bindings-log-api")&&m(e,c,r,t);try{w=a?a(w,b):w}catch(y){f("mvc-bindings-log-api");return}f("mvc-bindings-log-api");l.isFunction(e.set)?e.set(c,w):e[c]=w}}var c=l.getObject("dojox.mvc",!0);f.add("mvc-bindings-log-api",(k.mvc||{}).debugBindings);var e,m=f("mvc-bindings-log-api")?function(a,b,c,e){return[[c.canConvertToLoggable||!c.declaredClass?c:
c.declaredClass,e].join(":"),[a.canConvertToLoggable||!a.declaredClass?a:a.declaredClass,b].join(":")]}:"";k={from:1,to:2,both:3};e=function(d,b,k,p,q){var r=(q||{}).converter,t,u,w;r&&(t={source:d,target:k},u=r.format&&l.hitch(t,r.format),w=r.parse&&l.hitch(t,r.parse));var v=[],y=[],x=l.mixin({},d.constraints,k.constraints),r=(q||{}).bindDirection||c.both,A=(q||{}).equals||e.equals;f("mvc-bindings-log-api")&&m(d,b,k,p);if("*"==p){if("*"!=b)throw Error("Unmatched wildcard is specified between source and target.");
q=k.get("properties");if(!q){q=[];for(var z in k)k.hasOwnProperty(z)&&"_watchCallbacks"!=z&&q.push(z)}y=k.get("excludes")}else q=[b];r&c.from&&(l.isFunction(d.set)&&l.isFunction(d.watch)?v.push(d.watch.apply(d,("*"!=b?[b]:[]).concat([function(b,c,e){a(u,x,A,k,p,d,b,c,e,y)}]))):f("mvc-bindings-log-api"),h.forEach(q,function(b){if("*"!=p||!(b in(y||{}))){var c=l.isFunction(d.get)?d.get(b):d[b];a(u,x,A,k,"*"==p?b:p,d,b,void 0,c)}}));r&c.to&&(r&c.from||h.forEach(q,function(b){if("*"!=p||!(b in(y||{}))){var c=
l.isFunction(k.get)?k.get(p):k[p];a(w,x,A,d,b,k,"*"==p?b:p,void 0,c)}}),l.isFunction(k.set)&&l.isFunction(k.watch)?v.push(k.watch.apply(k,("*"!=p?[p]:[]).concat([function(c,e,f){a(w,x,A,d,b,k,c,e,f,y)}]))):f("mvc-bindings-log-api"));f("mvc-bindings-log-api");z={};z.unwatch=z.remove=function(){for(var a=null;a=v.pop();)a.unwatch();f("mvc-bindings-log-api")};return z};l.mixin(c,k);return l.setObject("dojox.mvc.sync",l.mixin(e,{equals:function(a,b){return a===b||"number"==typeof a&&isNaN(a)&&"number"==
typeof b&&isNaN(b)||l.isFunction((a||{}).getTime)&&l.isFunction((b||{}).getTime)&&a.getTime()==b.getTime()||(l.isFunction((a||{}).equals)?a.equals(b):l.isFunction((b||{}).equals)?b.equals(a):!1)}},k))})},"mojo/neapolitan/widgets/ColorPicker":function(){define("dojo/_base/declare dojo/query dojo/_base/window dojo/keys dojo/_base/event dojo/dom-construct dojo/dom-style dojo/fx dojo/_base/lang dojo/dom dojo/dom-geometry dojo/dom-class dijit/_base/focus dojo/_base/Color dojo/_base/array dojox/widget/ColorPicker dojo/on dojo/text!./templates/ColorPicker.html dojo/NodeList-traverse dojo/NodeList-manipulate dojo/topic".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){return l("mojo.neapolitan.widgets.ColorPicker",[u],{templateString:v,showHex:!0,arrowWidth:15,defaultColors:"#222222 #ffffff #EA5B3A #FFD249 #E0629A #89D085 #4CAAD8".split(" "),slideDuration:200,subscriptions:[],constructor:function(){this._events=[]},postCreate:function(){this.inherited(arguments);var a=this;e.set(this.domNode,"display","none");e.set(this.hsvNode,"display","none");e.set(this.siteColorNode,"display","none");e.set(this.siteColorForm,
"display","none");t.forEach(this.defaultColors,function(b){k("ul",a.defaultColorNode).append('\x3cli style\x3d"background:'+b+'" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e')});w(this.defaultColorNode,".mojoCustomColor:click, .mojoCustomColor:touchstart",function(){a.setColor(e.get(this,"backgroundColor"),!0)});w(this.colorUnderlay,"mousedown,touchstart",function(b){var c=a.animatePoint;a.animatePoint=!1;a._setPoint(b);a.animatePoint=c;a._mover.onMouseDown(b)});w(this.noColorNode,"click",d.hitch(this,
function(){this._showEmptyState();this.onChange("")}))},addInput:function(b){this.connect(b.domNode,"click,touchstart",function(c){a.stop(c);b.disabled||(this.hide(),this.attachTo(b).show(),c=parseInt(c.pageX-n.position(this.domNode,!0).x-this.arrowWidth/2),this._movePointer(c))})},_movePointer:function(a){e.set(this.arrow,"left",(a>this.arrowWidth?a:this.arrowWidth)+"px");return this},attachTo:function(a){if(this.attachInput!==a){this.attachInput=a;var b=a.get("value");this.setColor(b)}c.place(this.domNode,
a.domNode,"after");this._events.push(this.connect(this.attachInput,"onChange",function(){var a=this.attachInput.get("value");this.setColor(a,!1)}));return this},onChange:function(a){this.attachInput&&this.attachInput.set("value",a)},_removeAndroidSubscriptions:function(){this.subscriptions.forEach(function(a){a.remove()});this.subscriptions=[]},_getNativeMobileUtils:function(){return window.app&&window.app.nativeUtils?window.app.nativeUtils:window.top.app&&window.top.app.nativeUtils?window.top.app.nativeUtils:
!1},_handleNativeColorPickerShow:function(){var a=this._getNativeMobileUtils();a&&(a.nativeColorPicker(this.value),a=A.subscribe("native/mobile/colorpicker/update",d.hitch(this,function(a){this.setColor(a,!0)})),this.subscriptions.push(a),a=A.subscribe("native/mobile/colorpicker/close",d.hitch(this,function(a){this._removeAndroidSubscriptions()})),this.subscriptions.push(a))},_handleWebColorPickerShow:function(a){this._events.push(this.connect(h.body(),"click,touchstart",function(a){k(a.target).parents(".dojoxColorPicker").length||
this.hide();this.attachInput&&q.curNode===this.attachInput&&q.focus(h.body())}));var b=k(this.domNode).parent()[0],c=b.offsetHeight||62,c=n.position(b).y+275+c,d=window.innerHeight;a||(a={position:"absolute",marginTop:"10px",top:"0",left:"0"},p.add(b,"position--relative"),p.add(b,"overflow--visible"),c>d&&(a.top="-275px",a.left="0"));this.attachInput&&this.toggleNoColorControl(this.attachInput.noColorEnabled);a.display="block";e.set(this.domNode,a);this.onShow()},show:function(a){var b=this,c=this._getNativeMobileUtils();
c&&c.getNativeObject()?c.getNativeVersion().then(function(d){var e=!1;d&&d.hasOwnProperty("versionNumber")&&(e=c.checkForNativeFeature("COLOR_PICKER",d.versionNumber));e?b._handleNativeColorPickerShow():b._handleWebColorPickerShow(a)}):this._handleWebColorPickerShow(a)},hide:function(){t.forEach(this._events,function(a){a.remove()});this._events=[];e.set(this.domNode,"display","none");this.onHide()},toggleNoColorControl:function(a){e.set(this.noColorNode,"display",a?"":"none")},setColor:function(a){this._validColor(a)?
this.inherited(arguments):this._showEmptyState()},_validColor:function(a){return a&&"transparent"!==a&&null!==r.fromString(a)},_showEmptyState:function(){this.hexCode.value="";this.Rval.value="";this.Bval.value="";this.Gval.value=""},_setTimer:function(a){if(a.node==this.cursorNode||a.node==this.hueCursorNode)q.focus(a.node),b.setSelectable(this.domNode,!1),this._timer=setInterval(d.hitch(this,"_updateColor"),45)},_setHuePoint:function(a){var b=this.PICKER_HUE_SELECTOR_H/2,c=n.position(this.hueNode,
!0);a=a.pageY-c.y-b;this.animatePoint?m.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:a,left:0,onEnd:d.hitch(this,function(){this._updateColor(!0);q.focus(this.hueCursorNode)})}).play():(e.set(this.hueCursorNode,"top",a+"px"),this._updateColor(!1))},_setPoint:function(a){var b=this.PICKER_SAT_SELECTOR_H/2,c=this.PICKER_SAT_SELECTOR_W/2,f=n.position(this.colorUnderlay,!0),b=a.pageY-f.y-b,c=a.pageX-f.x-c;a&&q.focus(a.target);this.animatePoint?m.slideTo({node:this.cursorNode,duration:this.slideDuration,
top:b,left:c,onEnd:d.hitch(this,function(){this._updateColor(!0);q.focus(this.cursorNode)})}).play():(e.set(this.cursorNode,{left:c+"px",top:b+"px"}),this._updateColor(!1))},_updateColorInputs:function(a){this.inherited(arguments);if(this.attachInput){var b=a.toHex();this.attachInput.set("value",b,!1)}},onShow:function(){},onHide:function(){}})})},"dojox/widget/ColorPicker":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/_base/connect dojo/_base/sniff dojo/_base/window dojo/_base/event dojo/dom dojo/dom-class dojo/keys dojo/fx dojo/dnd/move dijit/registry dijit/_base/focus dijit/form/_FormWidget dijit/typematic dojox/color dojo/i18n dojo/i18n!./nls/ColorPicker dojo/i18n!dojo/cldr/nls/number dojo/text!./ColorPicker/ColorPicker.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B){l.experimental("dojox.widget.ColorPicker");return k("dojox.widget.ColorPicker",w,{showRgb:!0,showHsv:!0,showHex:!0,webSafe:!0,animatePoint:!0,slideDuration:250,liveUpdate:!1,PICKER_HUE_H:150,PICKER_SAT_VAL_H:150,PICKER_SAT_VAL_W:150,PICKER_HUE_SELECTOR_H:8,PICKER_SAT_SELECTOR_H:10,PICKER_SAT_SELECTOR_W:10,value:"#ffffff",_underlay:require.toUrl("dojox/widget/ColorPicker/images/underlay.png"),_hueUnderlay:require.toUrl("dojox/widget/ColorPicker/images/hue.png"),
_pickerPointer:require.toUrl("dojox/widget/ColorPicker/images/pickerPointer.png"),_huePickerPointer:require.toUrl("dojox/widget/ColorPicker/images/hueHandle.png"),_huePickerPointerAlly:require.toUrl("dojox/widget/ColorPicker/images/hueHandleA11y.png"),templateString:B,postMixInProperties:function(){n.contains(m.body(),"dijit_a11y")&&(this._huePickerPointer=this._huePickerPointerAlly);this._uId=t.getUniqueId(this.id);h.mixin(this,x.getLocalization("dojox.widget","ColorPicker"));h.mixin(this,x.getLocalization("dojo.cldr",
"number"));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);7>e("ie")&&(this.colorUnderlay.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+this._underlay+"', sizingMethod\x3d'scale')",this.colorUnderlay.src=this._blankGif.toString());this.showRgb||(this.rgbNode.style.visibility="hidden");this.showHsv||(this.hsvNode.style.visibility="hidden");this.showHex||(this.hexNode.style.visibility="hidden");this.webSafe||(this.safePreviewNode.style.visibility=
"hidden")},startup:function(){this._started||(this._started=!0,this.set("value",this.value),this._mover=new r.boxConstrainedMoveable(this.cursorNode,{box:{t:-(this.PICKER_SAT_SELECTOR_H/2),l:-(this.PICKER_SAT_SELECTOR_W/2),w:this.PICKER_SAT_VAL_W,h:this.PICKER_SAT_VAL_H}}),this._hueMover=new r.boxConstrainedMoveable(this.hueCursorNode,{box:{t:-(this.PICKER_HUE_SELECTOR_H/2),l:0,w:0,h:this.PICKER_HUE_H}}),this._subs=[],this._subs.push(c.subscribe("/dnd/move/stop",h.hitch(this,"_clearTimer"))),this._subs.push(c.subscribe("/dnd/move/start",
h.hitch(this,"_setTimer"))),this._keyListeners=[],this._connects.push(v.addKeyListener(this.hueCursorNode,{charOrCode:p.UP_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateHueCursorNode),25,25)),this._connects.push(v.addKeyListener(this.hueCursorNode,{charOrCode:p.DOWN_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateHueCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:p.UP_ARROW,shiftKey:!1,metaKey:!1,
ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:p.DOWN_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:p.LEFT_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:p.RIGHT_ARROW,shiftKey:!1,
metaKey:!1,ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateCursorNode),25,25)))},_setValueAttr:function(a,b){this._started&&this.setColor(a,b)},setColor:function(a,b){a=y.fromString(a);this._updatePickerLocations(a);this._updateColorInputs(a);this._updateValue(a,b)},_setTimer:function(a){if(a.node==this.cursorNode||a.node==this.hueCursorNode)u.focus(a.node),b.setSelectable(this.domNode,!1),this._timer=setInterval(h.hitch(this,"_updateColor"),45)},_clearTimer:function(a){this._timer&&(clearInterval(this._timer),
this._timer=null,this.onChange(this.value),b.setSelectable(this.domNode,!0))},_setHue:function(b){a.style(this.colorUnderlay,"backgroundColor",y.fromHsv(b,100,100).toHex())},_updateHueCursorNode:function(b,c,d){if(-1!==b){b=a.style(this.hueCursorNode,"top");c=this.PICKER_HUE_SELECTOR_H/2;b+=c;var e=!1;d.charOrCode==p.UP_ARROW?0<b&&(--b,e=!0):d.charOrCode==p.DOWN_ARROW&&b<this.PICKER_HUE_H&&(b+=1,e=!0);e&&a.style(this.hueCursorNode,"top",b-c+"px")}else this._updateColor(!0)},_updateCursorNode:function(b,
c,d){c=this.PICKER_SAT_SELECTOR_H/2;var e=this.PICKER_SAT_SELECTOR_W/2;if(-1!==b){b=a.style(this.cursorNode,"top");var f=a.style(this.cursorNode,"left");b+=c;var f=f+e,h=!1;d.charOrCode==p.UP_ARROW?0<b&&(--b,h=!0):d.charOrCode==p.DOWN_ARROW?b<this.PICKER_SAT_VAL_H&&(b+=1,h=!0):d.charOrCode==p.LEFT_ARROW?0<f&&(--f,h=!0):d.charOrCode==p.RIGHT_ARROW&&f<this.PICKER_SAT_VAL_W&&(f+=1,h=!0);h&&(f-=e,a.style(this.cursorNode,"top",b-c+"px"),a.style(this.cursorNode,"left",f+"px"))}else this._updateColor(!0)},
_updateColor:function(b){var c=this.PICKER_HUE_SELECTOR_H/2,d=this.PICKER_SAT_SELECTOR_H/2,e=this.PICKER_SAT_SELECTOR_W/2,c=a.style(this.hueCursorNode,"top")+c,d=a.style(this.cursorNode,"top")+d,e=a.style(this.cursorNode,"left")+e,c=Math.round(360-c/this.PICKER_HUE_H*360),e=y.fromHsv(c,e/this.PICKER_SAT_VAL_W*100,100-d/this.PICKER_SAT_VAL_H*100);this._updateColorInputs(e);this._updateValue(e,b);c!=this._hue&&this._setHue(c)},_colorInputChange:function(a){var b,c=!1;switch(a.target){case this.hexCode:b=
y.fromString(a.target.value);c=!0;break;case this.Rval:case this.Gval:case this.Bval:b=y.fromArray([this.Rval.value,this.Gval.value,this.Bval.value]);c=!0;break;case this.Hval:case this.Sval:case this.Vval:b=y.fromHsv(this.Hval.value,this.Sval.value,this.Vval.value),c=!0}c&&(this._updatePickerLocations(b),this._updateColorInputs(b),this._updateValue(b,!0))},_updateValue:function(a,b){var c=a.toHex();this.value=this.valueNode.value=c;if(b&&(!this._timer||this.liveUpdate))this.onChange(c)},_updatePickerLocations:function(b){var c=
this.PICKER_HUE_SELECTOR_H/2,d=this.PICKER_SAT_SELECTOR_H/2,e=this.PICKER_SAT_SELECTOR_W/2;b=b.toHsv();c=Math.round(this.PICKER_HUE_H-b.h/360*this.PICKER_HUE_H)-c;e=Math.round(b.s/100*this.PICKER_SAT_VAL_W)-e;d=Math.round(this.PICKER_SAT_VAL_H-b.v/100*this.PICKER_SAT_VAL_H)-d;this.animatePoint?(q.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:c,left:0}).play(),q.slideTo({node:this.cursorNode,duration:this.slideDuration,top:d,left:e}).play()):(a.style(this.hueCursorNode,"top",c+"px"),
a.style(this.cursorNode,{left:e+"px",top:d+"px"}));b.h!=this._hue&&this._setHue(b.h)},_updateColorInputs:function(a){var b=a.toHex();this.showRgb&&(this.Rval.value=a.r,this.Gval.value=a.g,this.Bval.value=a.b);this.showHsv&&(a=a.toHsv(),this.Hval.value=Math.round(a.h),this.Sval.value=Math.round(a.s),this.Vval.value=Math.round(a.v));this.showHex&&(this.hexCode.value=b);this.previewNode.style.backgroundColor=b;this.webSafe&&(this.safePreviewNode.style.backgroundColor=b)},_setHuePoint:function(b){b=b.layerY-
this.PICKER_HUE_SELECTOR_H/2;this.animatePoint?q.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:b,left:0,onEnd:h.hitch(this,function(){this._updateColor(!1);u.focus(this.hueCursorNode)})}).play():(a.style(this.hueCursorNode,"top",b+"px"),this._updateColor(!1))},_setPoint:function(b){var c=b.layerY-this.PICKER_SAT_SELECTOR_H/2,d=b.layerX-this.PICKER_SAT_SELECTOR_W/2;b&&u.focus(b.target);this.animatePoint?q.slideTo({node:this.cursorNode,duration:this.slideDuration,top:c,left:d,onEnd:h.hitch(this,
function(){this._updateColor(!0);u.focus(this.cursorNode)})}).play():(a.style(this.cursorNode,{left:d+"px",top:c+"px"}),this._updateColor(!1))},_handleKey:function(a){},focus:function(){this.focused||u.focus(this.focusNode)},_stopDrag:function(a){d.stop(a)},destroy:function(){this.inherited(arguments);f.forEach(this._subs,function(a){c.unsubscribe(a)});delete this._subs}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),function(l,
k,h,f,a,c){f=l("dojo.dnd.move.constrainedMoveable",c,{constraints:function(){},within:!1,constructor:function(a,c){c||(c={});this.constraints=c.constraints;this.within=c.within},onFirstMove:function(a){var c=this.constraintBox=this.constraints.call(this,a);c.r=c.l+c.w;c.b=c.t+c.h;this.within&&(a=k.getMarginSize(a.node),c.r-=a.w,c.b-=a.h)},onMove:function(a,c){var d=this.constraintBox,b=a.node.style;this.onMoving(a,c);c.l=c.l<d.l?d.l:d.r<c.l?d.r:c.l;c.t=c.t<d.t?d.t:d.b<c.t?d.b:c.t;b.left=c.l+"px";
b.top=c.t+"px";this.onMoved(a,c)}});a=l("dojo.dnd.move.boxConstrainedMoveable",f,{box:{},constructor:function(a,c){var d=c&&c.box;this.constraints=function(){return d}}});l=l("dojo.dnd.move.parentConstrainedMoveable",f,{area:"content",constructor:function(a,c){var d=c&&c.area;this.constraints=function(){var a=this.node.parentNode,c=h.getComputedStyle(a),e=k.getMarginBox(a,c);if("margin"==d)return e;var f=k.getMarginExtents(a,c);e.l+=f.l;e.t+=f.t;e.w-=f.w;e.h-=f.h;if("border"==d)return e;f=k.getBorderExtents(a,
c);e.l+=f.l;e.t+=f.t;e.w-=f.w;e.h-=f.h;if("padding"==d)return e;f=k.getPadExtents(a,c);e.l+=f.l;e.t+=f.t;e.w-=f.w;e.h-=f.h;return e}}});return{constrainedMoveable:f,boxConstrainedMoveable:a,parentConstrainedMoveable:l}})},"dojox/color":function(){define(["./color/_base"],function(l){return l})},"dojox/color/_base":function(){define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(l,k,h,f){l=k.getObject("color",!0,l);l.Color=h;l.blend=h.blendColors;l.fromRgb=h.fromRgb;l.fromHex=
h.fromHex;l.fromArray=h.fromArray;l.fromString=h.fromString;l.greyscale=f.makeGrey;k.mixin(l,{fromCmy:function(a,c,e){k.isArray(a)?(c=a[1],e=a[2],a=a[0]):k.isObject(a)&&(c=a.m,e=a.y,a=a.c);return new h({r:Math.round(255*(1-a/100)),g:Math.round(255*(1-c/100)),b:Math.round(255*(1-e/100))})},fromCmyk:function(a,c,e,f){k.isArray(a)?(c=a[1],e=a[2],f=a[3],a=a[0]):k.isObject(a)&&(c=a.m,e=a.y,f=a.b,a=a.c);f/=100;return new h({r:Math.round(255*(1-Math.min(1,a/100*(1-f)+f))),g:Math.round(255*(1-Math.min(1,
c/100*(1-f)+f))),b:Math.round(255*(1-Math.min(1,e/100*(1-f)+f)))})},fromHsl:function(a,c,e){k.isArray(a)?(c=a[1],e=a[2],a=a[0]):k.isObject(a)&&(c=a.s,e=a.l,a=a.h);c/=100;for(e/=100;0>a;)a+=360;for(;360<=a;)a-=360;var f,d;120>a?(f=(120-a)/60,d=a/60,a=0):240>a?(f=0,d=(240-a)/60,a=(a-120)/60):(f=(a-240)/60,d=0,a=(360-a)/60);f=2*c*Math.min(f,1)+(1-c);d=2*c*Math.min(d,1)+(1-c);a=2*c*Math.min(a,1)+(1-c);.5>e?(f*=e,d*=e,a*=e):(f=(1-e)*f+2*e-1,d=(1-e)*d+2*e-1,a=(1-e)*a+2*e-1);return new h({r:Math.round(255*
f),g:Math.round(255*d),b:Math.round(255*a)})}});l.fromHsv=function(a,c,e){k.isArray(a)?(c=a[1],e=a[2],a=a[0]):k.isObject(a)&&(c=a.s,e=a.v,a=a.h);360==a&&(a=0);c/=100;e/=100;var f,d,b;if(0==c)d=b=f=e;else{var l=a/60;a=Math.floor(l);var p=l-a,l=e*(1-c),q=e*(1-c*p);c=e*(1-c*(1-p));switch(a){case 0:f=e;d=c;b=l;break;case 1:f=q;d=e;b=l;break;case 2:f=l;d=e;b=c;break;case 3:f=l;d=q;b=e;break;case 4:f=c;d=l;b=e;break;case 5:f=e,d=l,b=q}}return new h({r:Math.round(255*f),g:Math.round(255*d),b:Math.round(255*
b)})};k.extend(h,{toCmy:function(){return{c:Math.round(100*(1-this.r/255)),m:Math.round(100*(1-this.g/255)),y:Math.round(100*(1-this.b/255))}},toCmyk:function(){var a,c=this.r/255,e=this.g/255,f=this.b/255;a=Math.min(1-c,1-e,1-f);return{c:Math.round((1-c-a)/(1-a)*100),m:Math.round((1-e-a)/(1-a)*100),y:Math.round((1-f-a)/(1-a)*100),b:Math.round(100*a)}},toHsl:function(){var a=this.r/255,c=this.g/255,e=this.b/255,f=Math.min(a,e,c),d=Math.max(a,c,e),b=d-f,h=0,k=0,f=(f+d)/2;0<f&&1>f&&(k=b/(.5>f?2*f:2-
2*f));0<b&&(d==a&&d!=c&&(h+=(c-e)/b),d==c&&d!=e&&(h+=2+(e-a)/b),d==e&&d!=a&&(h+=4+(a-c)/b),h*=60);return{h:h,s:Math.round(100*k),l:Math.round(100*f)}},toHsv:function(){var a=this.r/255,c=this.g/255,e=this.b/255,f=Math.max(a,c,e),d=f-Math.min(a,e,c),b=null,h=0==f?0:d/f;0==h?b=0:(b=a==f?60*(c-e)/d:c==f?120+60*(e-a)/d:240+60*(a-c)/d,0>b&&(b+=360));return{h:b,s:Math.round(100*h),v:Math.round(100*f)}}});return l})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],
function(l,k,h,f){var a={};k.setObject("dojo.colors",a);var c=function(a,c,b){0>b&&++b;1<b&&--b;var e=6*b;return 1>e?a+(c-a)*e:1>2*b?c:2>3*b?a+(c-a)*(2/3-b)*6:a};l.colorFromRgb=h.fromRgb=function(a,d){var b=a.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(b){var e=b[2].split(/\s*,\s*/),k=e.length,b=b[1];if("rgb"==b&&3==k||"rgba"==b&&4==k)return b=e[0],"%"==b.charAt(b.length-1)?(b=f.map(e,function(a){return 2.56*parseFloat(a)}),4==k&&(b[3]=e[3]),h.fromArray(b,d)):h.fromArray(e,d);if("hsl"==
b&&3==k||"hsla"==b&&4==k){var b=(parseFloat(e[0])%360+360)%360/360,l=parseFloat(e[1])/100,r=parseFloat(e[2])/100,l=.5>=r?r*(l+1):r+l-r*l,r=2*r-l,b=[256*c(r,l,b+1/3),256*c(r,l,b),256*c(r,l,b-1/3),1];4==k&&(b[3]=e[3]);return h.fromArray(b,d)}}return null};var e=function(a,c,b){a=Number(a);return isNaN(a)?b:a<c?c:a>b?b:a};h.prototype.sanitize=function(){this.r=Math.round(e(this.r,0,255));this.g=Math.round(e(this.g,0,255));this.b=Math.round(e(this.b,0,255));this.a=e(this.a,0,1);return this};a.makeGrey=
h.makeGrey=function(a,c){return h.fromArray([a,a,a,c])};k.mixin(h.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],
darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,
105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,
128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,
112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,
239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,
99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]});return h})},"mojo/ImageEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/Deferred dojo/dom-construct dojo/request/script dojo/on mojo/context mojo/url".split(" "),function(l,k,h,f,a,c,e,m,d){var b=m.imageEditorUrl,n={apiKey:m.imageEditorKey,noCloseButton:!1,theme:"minimum"},p,q={open:function(b,c,e){return q._load().then(function(){e=e||{};var m=
null;c?m=c[0]:c="all";var l=new f;b=d.removeProxy(b);var n=a.toDom('\x3cimg class\x3d"hide" src\x3d"'+b+'"/\x3e');a.place(n,h.body());"cropPresets"in e&&(e.cropPresets=[["MC",e.cropPresets]],e.cropPresetDefault="MC");e=k.mixin(e,{image:n,url:b,tools:c,initTool:m,appendTo:null,onReady:function(){},onSave:function(b,c){window.featherEditor.close();l.resolve(c);a.destroy(n)},onError:function(b){l.reject(b);a.destroy(n)},onClose:function(){l.resolve(null)}});window.featherEditor.launch(e);return l.promise})},
_load:function(){p||(p=new f);window.featherEditor?this._resolve():c.get(b).then(k.hitch(this,function(){var a=new window.Aviary.Feather(k.mixin({onLoad:this._resolve.bind(this)},n));window.featherEditor=a}),this._reject.bind(this));return p.promise},_resolve:function(){p.resolve(window.featherEditor)},_reject:function(){p.reject({error:"timeout"})},getImageInfo:function(b){function c(){h.resolve({url:d.addProxy(b),width:m.naturalWidth,height:m.naturalHeight,originalUrl:m.src});a.destroy(m)}var h=
new f,m=a.create("img",{src:b}),k=!m.complete;k&&(k=!("undefined"!==typeof m.naturalWidth&&0===m.naturalWidth));if(k)c();else e.once(m,"load",c);return h}};return q})},"mojo/widgets/FileManager":function(){define(["mojo/widgets/ContentManager"],function(l){return l})},"mojo/widgets/ContentManager":function(){define("dojo/_base/array dojo/_base/Color dojo/_base/declare dojo/_base/event dojo/_base/lang dojo/_base/window dojo/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/fx dojo/has dojo/html dojo/io-query dojo/keys dojo/on dojo/promise/all dojo/query dojo/topic dojo/mouse dojo/when vendor/lodash-amd/values dijit/Dialog dijit/form/Select dijit/_Templated dijit/_Widget dojox/layout/ContentPane dojox/html/entities dojox/mvc/sync dojo/text!./content-manager/templates/ContentManager.html dojo/text!./content-manager/templates/ContentSourceButton.html dojo/text!./content-manager/templates/SliderPaneWrapper.html mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage mojo/analytics/parts/FolderFilter mojo/analytics/parts/MoveToFolder mojo/analytics/parts/Select mojo/context mojo/FileDrag mojo/ImageEditor mojo/lib/clipboard mojo/neapolitan/widgets/ColorPicker mojo/neapolitan/mobile/utils mojo/url mojo/utils mojo/api/brand-assets ./ButtonGroup ./TopSliderPane ./content-manager/Api ./content-manager/ContentList ./content-manager/DetailsView ./content-manager/ImportUrlDialog ./content-manager/RenameDialog ./content-manager/UploadProgressWindow ./content-manager/ConfirmOverwriteBrandLogoDialog".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T,V,P,K,M,H,X,R,N,Q,S,Y,O,W,da,ca,Da,ua,eb,fb,La,ja,ob,ta,Aa,Ua,Ca,hb){var sa=h([La],{templateString:M,content:P,titleText:"Content Manager",badgeText:"Experimental",paneClasses:"filemanager-container",_defaultActions:"edit,delete",_fileDragSignal:null,_showDrag:!1,_windowResize:null,_windowOrientationChange:null,allowedFileTypes:null,actions:null,source:null,constructor:function(){this.actions=this._defaultActions},postMixInProperties:function(){this.inherited(arguments);
this.rootUrl=S.rootUrl},postCreate:function(){this.inherited(arguments);this.source=ja.getSource(sa.INITIAL_SOURCE);this._initSourceButtons();this.watch("source",this._onSourceChange.bind(this));y(this.importUrlButton,"click",a.hitch(this,"handleImportUrl"));y(this.deleteButton,"click",a.hitch(this,"handleDelete"));y(this.editButton,"click",a.hitch(this,"handleEdit"));y(this.copyUrlButton,"click",a.hitch(this,"handleCopyUrl"));y(this.viewDetailsButton,"click",a.hitch(this,"handleViewDetails"));y(this.insertButton,
"click",a.hitch(this,"handleInsert"));y(this.uploadButton,"click",a.hitch(this,"handleUpload"));y(this.uploadButtonMobile,"click",a.hitch(this,"handleUpload"));y(this.promoteToBrandButton,"click",a.hitch(this,"handlePromoteToBrand"));this.fileList.selected.watch(this.render.bind(this));if(this.folderButton){var c={baseUrl:Da.toUrl("content/folders"),target:"files-list"},d=new R(a.mixin({fetchFolders:!0,onFetch:a.hitch(this,function(){this.moveToFolderButton&&new N(a.mixin({source:d},c),this.moveToFolderButton)})},
c));n.place(d.domNode,this.folderButton,"only");b.add(d.domNode,"!width--100@phone")}this.setupFileBrowse();z.subscribe("mojo/content-manager/api/upload",a.hitch(this,function(a){a.promise.then(this.forceRenderFileList.bind(this))}));var e=this.dropTarget,f=this._showDrag,h=-1;Y.attach(".file-drop-target",{onDragOver:function(){f=!0},onDragLeave:function(){f=!1;clearTimeout(h);h=setTimeout(function(){f||b.remove(e,"over")},200)}})},forceRenderFileList:function(){var a=new e,b=z.subscribe(this.fileList.getTopic(),
function(){a.resolve();b.remove()});this.fileList.render();return a.promise},_onSourceChange:function(){var a=this.source;this._filter&&this._filter.clearFilters();this.source=a;this.fileList.set("sourceId",a.id);this.updateFiltersAndSorts();this.render()},_getSourceInputOptions:function(){return ja.getSources().map(function(a){return a.toInputOption()})},_initSourceButtons:function(){var a=this._getSourceInputOptions(),c=this.source.id;this.desktopSourceTabs=new fb({options:a,templateString:"\x3cul\x3e\x3c/ul\x3e",
itemTpl:K,activeClass:"v-buttonGroupList--active"});this.desktopSourceTabs.placeAt(this.sourceButtons);this.desktopSourceTabs.startup();this.desktopSourceTabs.setSelected(c);V(this,"source",this.desktopSourceTabs,"value",sa.MVC_SYNC_OPTIONS);var a=this._getSourceInputOptions().map(function(a){a.value===c&&(a.selected=!0);return a}),d=n.create("div");b.add(d,"show-mobile width--100@phone display--inline-block margin-right--lv3 margin-right--lv0@phone");this.mobileSourceTabs=(new G({options:a,"class":"!margin--lv0"})).placeAt(d);
n.place(d,this.filterFolderButtons,"first");V(this,"source",this.mobileSourceTabs,"value",sa.MVC_SYNC_OPTIONS)},_setSelectedSource:function(a){this.set("source",ja.getSource(a))},_selectFirstItem:function(){var a=this.fileList.getItems(),a=[D(a)[0].contentId];this.fileList.setSelection(a)},setupFileBrowse:function(){y(this.fileBrowse,"change",a.hitch(this,function(a){this._uploadFiles(a.target.files||a.dataTransfer.files);this.fileBrowse.form.reset()}))},handleInsert:function(){var b=this.fileList.getSelectionItems();
1!==b.length&&ua.globalPublish("show-toast",[{message:"You can't insert more than one item at a time.",type:"warning"}]);b=b[0];ja.getInfo(b.contentId,b.sourceId).then(a.hitch(this,"select"))},handleUpload:function(a){this.fileBrowse.click()},handleViewDetails:function(){var a=this.fileList.getSelectionItems();1!==a.length&&ua.globalPublish("show-toast",[{message:"You can't view the details of more than one item at a time.",type:"warning"}]);a=a[0];a=new ta({contentManager:this,sourceId:a.sourceId,
contentId:a.contentId});a.startup();a.show({forceOnTop:!0})},handleDelete:function(){this.deleteFile(this.fileList.getSelection().join())},handleImportUrl:function(){this._showImportDialog()},handleEdit:function(){var a=this.fileList.getSelectionItems();1!==a.length?ua.globalPublish("show-toast",[{message:"You can't edit more than one item at a time.",type:"warning"}]):this.editContent(a[0])},editContent:function(c,d){var e=c.url;d=d||c.contentId;b.toggle(this.actionPane,"disabled-container");return O.open(e).then(a.hitch(this,
function(c){return this.importFromUrl(c,!0,d).then(a.hitch(this,function(a){b.toggle(this.actionPane,"disabled-container");return a}))}))},handleCopyUrl:function(a){a=this.fileList.getSelectionItems();1!==a.length?ua.globalPublish("show-toast",[{message:"You can't copy more than one item at a time.",type:"warning"}]):this.copyUrl(a[0])},handlePromoteToBrand:function(a){a=this.fileList.getSelectionItems();if(1!==a.length)ua.globalPublish("show-toast",[{message:"You can't copy more than one item at a time.",
type:"warning"}]);else{a=a[0];var b=ja.generateContentOriginFromContentItem(a),c=a.getDisplayUrl();return ja.uploadFromUrl(ja.SOURCE_BRAND,b,c).then(null,function(a){a=a.response.data;if(a.code!==ja.ERROR_CODE_FILE_CONFLICT)throw a;a=new hb;a.show();return a.getPromise().then(function(){return ja.uploadFromUrl(ja.SOURCE_BRAND,b,c,ja.CONFLICT_STRATEGY_OVERWRITE)})}).then(eb.setBrandItem,this._showErrorToast("Failed to set image as logo")).then(this._setSelectedSource.bind(this,ja.SOURCE_BRAND)).then(this.forceRenderFileList.bind(this)).then(this._selectFirstItem.bind(this))}},
renameContent:function(b){var c=T.decode(b.name),c=new Ua({name:c});c.show();var d=c.deferred;return d.then(a.hitch(this,function(a){return this._onContentRename(b,a)}),function(a){if(!d.isCanceled())throw a;})},_onContentRename:function(b,c){return ja.rename(b.contentId,null,c).then(a.hitch(this,function(a){ua.globalPublish("show-toast",[{message:"File renamed successfully.",type:"success"}]);this.fileList.render();return a}),function(){ua.globalPublish("show-toast",[{message:"Failed to rename file.",
type:"error"}])})},copyUrl:function(a){W.copy(a.url);ua.globalPublish("show-toast",[{message:"The file URL is copied\u2014paste when you're ready.",type:"success"}])},_isAcceptableFile:function(a){return this.allowedFileTypes?l.some(this.allowedFileTypes,function(b){return"image"===b?l.some(["image/png","image/jpeg","image/gif","image/url"],function(b){return a.type===b}):a.name.split(".").pop()===b||a.type===b||a.type.split("/")[1]===b||a.type.split("/")[0]===b}):!0},_uploadFiles:function(b){if(b&&
0!==b.length){var c=[],d=[];l.forEach(b,function(a){this._isAcceptableFile(a)?c.push(a):d.push(a)},this);l.forEach(c,function(b){this._uploadToCurrentFolder(b).then(a.hitch(this,function(a){1===c.length&&this.select(a)}))},this);d.length&&ua.globalPublish("show-toast",[{message:"You can't upload an image of this type.",type:"error"}])}},_uploadToCurrentFolder:function(a,b){var c=this.fileList.getFilter("folder");return this.uploadFile(a,c,b)},uploadFile:function(a,b,c){var d;-1!==["file/url","image/url"].indexOf(a.type)?
(d=a.content,d=a.contentId?ja.updateOrUploadFromUrl(null,a.contentId,d):ja.uploadFromUrl(ja.SOURCE_FILE,null,d)):d=ja.readFileAsDataUrl(a).then(function(c){return ja.upload(null,c,a.name,{folder:b})});z.publish("mojo/content-manager/api/upload",{file:a,promise:d,skipUploadPane:c});d.then(null,this._showErrorToast("An error occurred while uploading."));return d},_showErrorToast:function(a){return function(b){"CancelError"!==b.name&&ua.globalPublish("show-toast",[{message:b&&b.response&&b.response.data?
b.response.data.error:a,type:"error"}]);throw b;}},_showImportDialog:function(){var b=new Aa;b.show();b.deferred.then(a.hitch(this,function(a){return this.importFromUrl(a)})).then(a.hitch(this,function(a){this.select(a)}),function(){})},select:function(b){if(!1!==this.isActionAvailable("select")&&!1!==this.hasOnSelectHandler()){if(ja.getSource(b.sourceId).isHostedElsewhere){var c=ja.generateContentOriginFromContentItem(b);b=b.getDisplayUrl();b=ja.uploadFromUrl(ja.SOURCE_FILE,c,b)}C(b,a.hitch(this,
function(a){this.hide();this.invokeOnSelectHandler(a)}))}},hasOnSelectHandler:function(){return null!==this.onSelect||null!==this.onSelectContentItem},invokeOnSelectHandler:function(a){if(!1===this.hasOnSelectHandler())throw Error("No onSelect handler registered to ContentManager");if(null!==this.onSelectContentItem)this.onSelectContentItem(a);else if(null!==this.onSelect)this.onSelect(a.getCanonicalUrl(),a.name,a.contentId)},importFromUrl:function(a,b,c){return this._uploadToCurrentFolder({content:a,
type:"file/url",contentId:c},b)},deleteFile:function(a){var b=this,c=new this.source.deleteModalClass({fileid:a});c.show();return c.deferred.then(function(c){return b._onFileDelete(a)}).then(this.source.onDeleteHandler)},_onFileDelete:function(b){var c=ja.delete(b,this.source.id);c.then(a.hitch(this,function(a){this.fileList.render();a=b.split?b.split(",").length:1;ua.globalPublish("show-toast",[{message:a+" file"+(1<a?"s":"")+" deleted.",type:"success"}])}),function(){ua.globalPublish("show-toast",
[{message:"Failed to delete file(s).",type:"error"}])});return c},_onResizeOrientationChange:function(){setTimeout(a.hitch(this,this._adjustHeight),500)},_adjustHeight:function(){var a=p.getMarginBox(this.content).h,b=p.getMarginBox(this.listControls).h,c=p.getMarginBox(this.paginationControls).h;p.setMarginBox(this.listContainer,{h:a-b-c})},_setFilters:function(b){this._filter&&this._filter.destroy();this._filterMessage&&this._filterMessage.destroy();0!==b.length&&(this._filter=new H({target:"files-list",
filters:b}),n.place(this._filter.domNode,this.filterButton,"only"),this._filterMessage=new X({target:"files-list",filters:a.clone(b).concat([{key:"search",type:"search"}])}),n.place(this._filterMessage.domNode,this.filterMessage,"only"))},_setSorts:function(a){this._sort&&this._sort.destroy();if(0!==a.length){var b=[];l.forEach(a,function(a){var c=a.key;b.push([c+"-asc",a.asc]);b.push([c+"-desc",a.desc])});this._sort=new Q({target:"files-list",syncAttr:"sort",label:"Sort by",values:b});n.place(this._sort.domNode,
this.sortButton,"only")}},_onShowCallback:function(){this._fileDragSignal=Y.attach(".c-topSliderPane_content",{onDragEnter:a.hitch(this,function(){b.add(this.dropTarget,"over");this._showDrag=!0}),onDragOver:a.hitch(this,function(){this._showDrag=!0}),onDrop:a.hitch(this,function(a,c,d){b.remove(this.dropTarget,"over");!1===this.source.isActionSupported(ja.SOURCE_ACTION_UPLOAD)?ua.globalPublish("show-toast",[{message:"Cannot upload to this tab",type:"error"}]):this._uploadFiles(l.map(a,function(a){return a.content.type?
a.content:a}))})},this.allowedFileTypes);var c=this.allowedFileTypes;c&&"string"!==typeof c&&(c=c.join());this.fileList.setOptions({allowedFileTypes:c});this.updateFiltersAndSorts();this.render();z.publish("mojo/filemanager/show");setTimeout(a.hitch(this,this._adjustHeight),500);this._windowResize=y(window,"resize",a.hitch(this,this._onResizeOrientationChange));this._windowOrientationChange=y(window,"orientationchange",a.hitch(this,this._onResizeOrientationChange))},updateFiltersAndSorts:function(){var b=
this.fileList.sourceId;x({filters:ja.getFilters(b),sorts:ja.getSorts(b)}).then(a.hitch(this,function(a){this._setFilters(a.filters);this._setSorts(a.sorts)}))},render:function(){var a=this.fileList.getSelectionItems(),c=a.length,e=1===c,a=0<c?a[0]:null;b.remove(this.viewDetailsButton.domNode,"disabled");d.remove(this.insertButton,"disabled");!1===e&&(b.add(this.viewDetailsButton.domNode,"disabled"),d.set(this.insertButton,"disabled","disabled"));c=this.source.isActionSupported(ja.SOURCE_ACTION_UPLOAD);
b.toggle(this.uploadButton.domNode,"hide",!1===c);b.toggle(this.uploadButtonMobile,"hide",!1===c);b.toggle(this.uploadButtonMobile,"show-phone",!0===c);c=e&&a.isImage()&&this.source.isActionSupported(ja.SOURCE_ACTION_EDIT);b.toggle(this.editButton.domNode,"hide",!1===c);e=e&&a.isImage()&&this.source.isActionSupported(ja.SOURCE_ACTION_PROMOTE_TO_BRAND);b.toggle(this.promoteToBrandButton.domNode,"hide",!1===e);e=this.source.isActionSupported(ja.SOURCE_ACTION_DELETE);b.toggle(this.deleteButton,"hide",
!1===e);e=this.source.isActionSupported(ja.SOURCE_ACTION_FOLDERS);b.toggle(this.folderButton,"hide",!1===e);b.toggle(this.moveToFolderContainer,"hide",!1===e);e=this.isActionAvailable("select");b.toggle(this.insertButton,"hide",!1===e);e=this.source.isActionSupported(ja.SOURCE_ACTION_SEARCH);b.toggle(this.searchBox.domNode,"hide",!1===e)},isActionAvailable:function(a){return-1!==this.actions.indexOf(a)},_onHideCallback:function(){this._windowResize.remove();this._windowOrientationChange.remove();
this._fileDragSignal&&this._fileDragSignal.detach();ua.globalPublish("mojo/filemanager/hide")},show:function(b){this._showCleanup();b=this._fixParams(b);a.mixin(this,b);return this.inherited(arguments)},_showCleanup:function(){this.allowedFileTypes=null;this._resetOnSelectHandler();this.onSave=null;this.actions=this._defaultActions},_resetOnSelectHandler:function(){this.onSelectContentItem=this.onSelect=null},_fixParams:function(b){if(b){var c=b.allowedFileTypes;c&&"string"===typeof c&&(b.allowedFileTypes=
c.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/));if(c=b.actions)b.actions=a.isArray(c)?c:c.replace(/^\s+|\s+$/g,"").split(/,\s*/),-1!==b.actions.indexOf("rename")&&b.actions.push("edit")}return b}});sa.INITIAL_SOURCE=ja.SOURCE_FILE;sa.MVC_SYNC_OPTIONS={converter:{format:function(a){return a.id},parse:function(a){return ja.getSource(a)}}};var Xb=h([sa],{onFileBrowseSuccess:null,onFileBrowseError:null,onFileBrowseCancel:null,onMobileBackEvent:null,hide:function(){this.onMobileBackEvent.remove();window.top&&
window.top.app&&window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.removeStateQueue();this.inherited(arguments)},show:function(){this.onMobileBackEvent=z.subscribe("current/close/content/manager/for/mobile",a.hitch(this,this.hide));window.top&&window.top.app&&window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.setScreenState({state:"contentManager",backAction:a.hitch(this,this.hide)});this.inherited(arguments)},_handleAndroidFileUploadSuccess:function(a){this._removeFileBrowseSubscribe();
this.select(ja.buildImageItemFromNativeApiCall(a))},_handleAndroidFileUploadError:function(a){this._removeFileBrowseSubscribe();ua.globalPublish("show-toast",[{message:a&&a.detail?a.detail:"An error occurred while uploading.",type:"error"}]);throw a;},_handleAndroidFileCancel:function(){this._removeFileBrowseSubscribe()},_addFileBrowseSubscribe:function(){this.onFileBrowseSuccess=z.subscribe("content/manager/native/upload/success",a.hitch(this,this._handleAndroidFileUploadSuccess));this.onFileBrowseError=
z.subscribe("content/manager/native/upload/error",a.hitch(this,this._handleAndroidFileUploadError));this.onFileBrowseCancel=z.subscribe("content/manager/native/upload/cancel",a.hitch(this,this._handleAndroidFileCancel))},_removeFileBrowseSubscribe:function(){this.onFileBrowseSuccess.remove();this.onFileBrowseError.remove();this.onFileBrowseCancel.remove()},setupFileBrowse:function(){"Android"===ca.getNativeObject()?(this.mobileUtils=ca,y(this.fileBrowse,"click",a.hitch(this,function(a){a.preventDefault();
this._addFileBrowseSubscribe();this.mobileUtils.androidFileBrowse()}))):(this.inherited(arguments),this.fileBrowse.accept="image/*")}}),Ta=null;return{_getContentManager:function(){Ta||(Ta=ca.getNativeObject()?new Xb:new sa,Ta.startup());return Ta},show:function(a){return this._getContentManager().show(a)},hide:function(){return this._getContentManager().hide()},isShown:function(){return Ta&&!0===Ta.displayActive},importFromUrl:function(a,b,c){return this._getContentManager().importFromUrl(a,b,c)},
uploadFile:function(a,b,c){return this._getContentManager().uploadFile(a,null,!0)},getInfo:function(a,b){return ja.getInfo(a,b)}}})},"vendor/lodash-amd/values":function(){define(["./_baseValues","./keys"],function(l,k){return function(h){return null==h?[]:l(h,k(h))}})},"mojo/analytics/parts/FilterMenu":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-construct dojo/dom-style dojo/ready dojo/on dojo/query dojo/topic dijit/focus dijit/form/CheckBox dijit/form/Select dijit/form/TextBox mojo/analytics/parts/_Part dijit/_Templated dojo/text!./templates/filterMenu.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){return k([u,w],{templateString:v,widgetsInTemplate:!0,init:function(){var a=this;this.dropdown.dropDown=this.filtersMenu;this.filterInputs=[];this.filterKeys=[];l.forEach(this.filters,function(d){var e,f=a.target.getFilter(d.key)||"";switch(d.type){case "select":var h=[{value:"",label:"All"}];Object.keys(d.options).forEach(function(a){h.push({value:a,label:d.options[a]})});e=new r({"class":"select-small !margin--lv0 full-width",options:h,value:f});break;
case "text":e=new t({value:f});break;case "checkbox":e=new q({value:!0});f&&e.set("checked",!0);break;default:throw Error("Unrecognized type "+d.type);}a.filterKeys.push(d.key);a.filterInputs.push({filter:d,input:e});a._watches.push(a.target.watchFilter(d.key,function(a,b,c){if(null===c)switch(d.type){case "checkbox":e.set("checked",!1,!1);break;default:e.set("value","",!1)}}));f=c.place('\x3cli\x3e\x3clabel for\x3d"'+e.id+'"\x3e'+d.label+"\x3c/label\x3e\x3c/li\x3e",a.filterList);"checkbox"===d.type?
c.place(e.domNode,b("label",f)[0],"first"):c.place(e.domNode,f)});this.connect(this.resetLink,"click",h.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.clearFilters()}));this.connect(this.okBtn,"click",function(b){b.preventDefault();b.stopPropagation();l.forEach(this.filterInputs,function(b){var c=b.filter;(b=b.input.get("value"))||0===b?a.target.setFilter(c.key,b):a.target.clearFilter(c.key)});this.closeMenu()});a.own(n.subscribe(this.target.getTopic(),function(){a.dropdown._opened&&
(a.dropdown.openDropDown(),p.focus(a.filtersMenu.domNode))}));m(h.hitch(this,function(){d(this.closeFilterMenu,"click",h.hitch(this,"closeMenu"));if(640>=window.innerWidth){var b=window.innerHeight-128;a.filterList.style.maxHeight=72*(a.filters.length+1)>b?parseInt(b-66,10)+"px":"inherit"}}))},clearFilters:function(){l.forEach(this.filters,h.hitch(this,function(a){this.target.clearFilter(a.key)}))},canDisplay:function(){return this.inherited(arguments)||l.some(this.filterKeys,h.hitch(this,function(a){return this.target.hasFilter(a)}))},
closeMenu:function(){this.dropdown.closeDropDown()}})})},"mojo/analytics/parts/FilterMessage":function(){define("dojo/_base/declare dojo/_base/lang dojo/on mojo/analytics/parts/_Part dijit/_Templated dojo/_base/array dojo/dom-style dojo/dom-class dojo/aspect dojox/html/entities dojo/text!./templates/filterMessage.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){return l([f,a],{templateString:n,postMixInProperties:function(){this.keyMap={};this.filterKeys=[];c.forEach(this.filters,k.hitch(this,function(a){this.keyMap[a.key]=
k.clone(a);this.filterKeys.push(a.key)}))},init:function(){var a=this;this.own(h(this.resetFilter,"click",function(b){b.stopPropagation();b.preventDefault();c.forEach(a.filters,function(b){a.target.clearFilter(b.key)})}),d.after(this.target,"onFilterChange",function(){e.set(a.domNode,"display",a.canDisplay()?"":"none");a.canDisplay()&&a._displayMessage()}));a._displayMessage()},_displayMessage:function(){var a=[],d="",e;for(e in this.keyMap)if(this.target.hasFilter(e)){var f=this.keyMap[e];switch(f.type){case "select":var h=
b.encode(f.options[this.target.getFilter(e)]);a.push(f.label+": "+h);break;case "text":h=b.encode(this.target.getFilter(e));a.push(f.label+": "+h);break;case "checkbox":this.target.getFilter(e)&&a.push(b.encode(f.label));break;case "search":d='\x3cstrong\x3eSearching for\x3c/strong\x3e "'+b.encode(this.target.getFilter(e))+'"';break;default:throw Error("Unrecognized type "+f.type);}}var m="";c.forEach(a,function(a){m&&(m+=", ");m+=a});a="";d&&(a+=d);m&&(a&&(a+=", "),a+="\x3cstrong\x3eFiltered By:\x3c/strong\x3e \x3cspan\x3e"+
m+"\x3c/span\x3e");this.message.innerHTML=a},canDisplay:function(){return c.some(this.filterKeys,k.hitch(this,function(a){return this.target.hasFilter(a)}))}})})},"mojo/analytics/parts/FolderFilter":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Part","mojo/widgets/Folder"],function(l,k,h,f){return l([f,h],{init:function(){this.inherited(arguments);setTimeout(k.hitch(this,function(){var a=this.target.getFilter("folder");a&&(this.getFolder(a)?this.setSelectedFolder(this.target.getFilter("folder"),
!0):this.target.clearFilter("folder"))}),0)},onSelect:function(a){this.target.setFilter("folder",a)},onDeselect:function(){this.target.clearFilter("folder")},canDisplay:function(){return this.inherited(arguments)||this.target.hasFilter("folder")}})})},"mojo/widgets/Folder":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojox/mvc/StatefulArray dojo/text!./templates/folder.html dojo/_base/lang dojo/_base/array dojo/query dojo/request dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom-attr dojo/on dojo/aspect mojo/utils mojo/user dijit/InlineEditBox dojo/ready dojox/html/entities dijit/form/DropDownButton dijit/TooltipDialog dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){var A=l(v,{renderAsHtml:!1,rawVal:"",editable:!0,_onMouseOver:function(){},_onClick:function(a){if(this.editing)a.stopPropagation(),a.preventDefault();else return this._onMouseOut(),this.onClick(a)},postCreate:function(){this.inherited(arguments);this.editable?(r(this.displayNode,"[data-folder-action\x3dremove]:click",c.hitch(this,"_delete")),r(this.displayNode,"[data-folder-action\x3dedit]:click",c.hitch(this,"edit"))):m("[data-folder-action]",this.displayNode).style("display",
"none")},_setValueAttr:function(a){this.inherited(arguments);var b="\x3cspan\x3e"+x.encode(x.decode(this.value))+"\x3c/span\x3e";if(this.folder.count||0==this.folder.count)b+='\x3cdiv class\x3d"badge !margin--lv0 float-right folder-count"\x3e'+this.folder.count+"\x3c/div\x3e";b+='\x3ca href\x3d"javascript:void(0);" data-folder-action\x3d"remove" class\x3d"mailchimpInlineHandle freddicon remove-circle" title\x3d"Delete"\x3e\x3c/a\x3e\x3ca href\x3d"javascript:void(0);" data-folder-action\x3d"edit" class\x3d"mailchimpInlineHandle freddicon edit" title\x3d"Edit"\x3e\x3c/a\x3e';
this.displayNode.innerHTML=b},onDelete:function(){},_delete:function(a){a.stopPropagation();a.preventDefault();this.onDelete()},updateCount:function(){m(".folder-count",this.domNode).html(this.folder.count)},_clear:function(){this.domNode.parentNode.removeChild(this.domNode)}});return l([k,h],{templateString:a,widgetsInTemplate:!0,folderRow:'\x3cli data-folder-id\x3d"{id}" class\x3d"selfclear"\x3e{name}\x3c/li\x3e',selectable:!0,canEdit:!0,canAdd:!0,includeAll:!0,fetchFolders:!1,baseUrl:null,defaultNewFolder:"New Folder",
_defaultButtonText:"Folders",filter:"",constructor:function(){this._watches=[];this.foldersDom={}},uninitialize:function(){e.forEach(this._watches,function(a){a.unwatch()});this._watches=[];this.inherited(arguments)},postMixInProperties:function(){if(!this.baseUrl)throw Error("Must provide a baseUrl to setup Folders");this.folders=this.source?this.source.folders:new f(this.folders&&this.folders.length?c.clone(this.folders):[]);this.addBtnCss=this.canEdit?"unit size1of2 !padding-left--lv0 nochange":
"unit size1of1 !padding-left--lv0 !padding-right--lv0 nochange";this.editBtnCss=this.canAdd?"lastUnit size1of2 !padding-right--lv0 nochange":"unit size1of1 !padding-left--lv0 !padding-right--lv0 nochange";this.removeBtnCss="unit size1of1 !padding-left--lv0 !padding-right--lv0 nochange";this.buttonText||(this.buttonText=this._defaultButtonText)},postCreate:function(){this.init()},toggleAddButton:function(a){p.toggle(this.addBtn,"hide",!a)},toggleRemoveButton:function(a){p.toggle(this.removeBtn,"hide",
!a)},init:function(){var a=this;this.canEdit||this.canAdd||n.set(this.actionsContainer,"display","none");this.dropdown.dropDown=this.foldersMenu;this.connect(this.dropdown.dropDown,"onHide",c.hitch(this,"_hideEditMode"));n.set(this.allOption,"display",this.includeAll?"":"none");this.selectable&&p.add(this.allOption,"selected");this._createFoldersDom();a.toggleRemoveButton(!1);this.canEdit?this.own(r(this.editBtn,"click",function(b){b.stopPropagation();b.preventDefault();p.contains(a.folderList,"edit-mode")?
a._hideEditMode():a._showEditMode()})):n.set(this.editBtn,"display","none");this.canAdd?(this.own(r(this.addBtn,"click",function(b){b.stopPropagation();b.preventDefault();a.request("create",{name:a._generateFolderName()}).then(function(b){a.addFolder(b.new_folder,!0);a.source?a.source.updateCounts(b.folders):a.updateCounts(b.folders);a.onAdd(b.new_folder)})})),this.own(r(this.removeBtn,"click",function(b){b.stopPropagation();b.preventDefault();a.onRemoveFromFolder()}))):a.toggleAddButton(!1);r(this.folderList,
"li:click",function(){if(!a.editMode){var b=q.get(this,"data-folder-id");b?a.setSelectedFolder(b):a._deselect(b);a.dropdown.closeDropDown()}});this._isEmpty()&&this._toggleEmptyMessage();this._watches.push(this.folders.watch(function(b,c,d){!a._fetching&&(b=a.foldersDom[d.id])&&(b.value!=d.name&&b.set("value",d.name),b.set("folder",d),b.updateCount())}));this._watches.push(this.folders.watchElements(function(d,f,h){a._fetching||(h.length&&(e.forEach(h,function(d){var e=a.foldersDom[0],e=e&&!a.shouldExcludeUnfiled?
e.domNode:a.folderList,e=b.place(c.replace(a.folderRow,d),e,a.shouldExcludeUnfiled?"first":"after");a._initFolder(d,e)}),2>=a.folders.length&&a._toggleEmptyMessage()),f.length&&(e.forEach(f,function(b){var c=a.foldersDom[b.id];c.domNode===a.selectedFolder&&a._deselect(b.id);c.destroyRecursive();delete a.foldersDom[b.id]}),a._isEmpty()&&a._toggleEmptyMessage()))}));y(function(){if(640>=window.innerWidth){var b=window.innerHeight-128;a.folderList.style.maxHeight=38*(a.folders.length+2)>b?parseInt(b-
66,10)+"px":"inherit";r(a.closeFolderMenu,"click",function(){a.dropdown.closeDropDown()})}});this.fetchFolders&&this._fetchFolders()},_fetchFolders:function(){var a=this;a._fetching=!0;a.request("view").then(function(b){e.forEach(b.folders,c.hitch(this,function(b){a.folders.push(b)}));a._createFoldersDom();a._fetching=!1;a._toggleEmptyMessage();a.onFetch()})},_generateFolderName:function(){for(var a=e.map(this.folders,function(a){return a.name}),b=0,c=this.defaultNewFolder;-1!=e.indexOf(a,c);)c=this.defaultNewFolder+
" "+b,b++;return c},removeFolder:function(a){e.some(this.folders,c.hitch(this,function(b,c){return b.id==a?(this.folders.splice(c,1),!0):!1}))},getFolder:function(a){var b=null;e.some(this.folders,function(c){return c.id==a?(b=c,!0):!1});return b},setSelectedFolder:function(a,b){var c=this._getFolderDom(a);if(this.selectable)if(this.selectedFolder===c)this._deselect(a);else{m(this.selectedFolder).removeClass("selected");p.add(c,"selected");var d="";0!=a&&(d=(this.buttonText==this._defaultButtonText?
"Folder":this.buttonText)+" - ");d+=x.encode(x.decode(this.getFolder(a).name));m(this.dropdown.containerNode).html(d);m(this.allOption).removeClass("selected");this.selectedFolder=c;if(!b)this.onSelect(a)}else if(!b)this.onSelect(a)},_getFolderDom:function(a){return this.foldersDom[a].domNode},_deselect:function(a){this.selectable&&(m(this.selectedFolder).removeClass("selected"),m(this.dropdown.containerNode).html(this.buttonText),m(this.allOption).addClass("selected"));this.selectedFolder=null;this.onDeselect(a)},
addFolder:function(a,b){this.folders.push(a);b&&this.foldersDom[a.id].edit()},_showEditMode:function(){this.editMode=!0;p.add(this.folderList,"edit-mode");this.editText.innerHTML="Done"},_hideEditMode:function(){this.editMode=!1;p.remove(this.folderList,"edit-mode");this.editText.innerHTML="Edit Folder"},_isEmpty:function(){return 0==this.folders.length||1==this.folders.length&&0==this.folders[0].id},_toggleEmptyMessage:function(){this._isEmpty()?(m(this.folderList).children().style("display","none"),
n.set(this.emptyMessage,"display",this.isForFolder?"none":""),n.set(this.emptyMessageForFolder,"display",this.isForFolder?"":"none")):(m(this.folderList).children().style("display",""),n.set(this.emptyMessage,"display","none"),n.set(this.emptyMessageForFolder,"display","none"),n.set(this.allOption,"display",this.selectable?"":"none"))},_createFoldersDom:function(){e.forEach(this.folders,c.hitch(this,function(a){var d=b.place(c.replace(this.folderRow,a),this.folderList);this._initFolder(a,d)}))},_initFolder:function(a,
b){var c=this,d=new A({value:a.name,folder:a,onCancel:this.onEditCanceled,editable:0!=a.id},b);this.foldersDom[a.id]=d;t.after(d,"onChange",function(){var b=d.value;a.name=b;e.some(c.folders,function(b,d){return b.id==a.id?(c.folders.set(d,a),!0):!1});c.request("rename",{id:a.id,name:x.decode(b)}).then(function(){c.onChange(a.id,b)})});t.after(d,"onDelete",function(){c.deleteFolder(a.id)})},updateCounts:function(a){var b=this;e.forEach(a,c.hitch(this,function(a,c){e.some(this.folders,function(d){return d.id==
a.id?(d.count!=a.count&&b.folders.set(c,a),!0):!1})}))},deleteFolder:function(a){var b=this.request("delete",{id:a});b.then(c.hitch(this,function(b){this.removeFolder(a);this.updateCounts(b.folders);this.onDelete(a)}));return b},request:function(a,b){b&&(b.__csrf_token=w.__csrfToken);return d.post(this.baseUrl+"/"+a,{handleAs:"json",data:c.mixin({filter:this.filter},b)})},onAdd:function(a){},onEditCanceled:function(){},onChange:function(a,b){},onDelete:function(a){},onSelect:function(a){},onRemoveFromFolder:function(){},
onDeselect:function(a){},onFetch:function(){}})})},"dojox/mvc/StatefulArray":function(){define(["dojo/_base/lang","dojo/Stateful"],function(l,k){function h(a){a._watchElementCallbacks&&a._watchElementCallbacks();return a}var f=function(a){a=l._toArray(a||[]);a.constructor=f;return l.mixin(a,{pop:function(){return this.splice(this.get("length")-1,1)[0]},push:function(){this.splice.apply(this,[this.get("length"),0].concat(l._toArray(arguments)));return this.get("length")},reverse:function(){return h([].reverse.apply(this,
l._toArray(arguments)))},shift:function(){return this.splice(0,1)[0]},sort:function(){return h([].sort.apply(this,l._toArray(arguments)))},splice:function(a,e){var f=this.get("length");a+=0>a?f:0;var d=Math.min(a,f),b=this.slice(a,a+e),h=l._toArray(arguments).slice(2);[].splice.apply(this,[a,e].concat(Array(h.length)));for(var k=0;k<h.length;k++)this[d+k]=h[k];this._watchElementCallbacks&&this._watchElementCallbacks(a,b,h);this._watchCallbacks&&this._watchCallbacks("length",f,f-b.length+h.length);
return b},unshift:function(){this.splice.apply(this,[0,0].concat(l._toArray(arguments)));return this.get("length")},concat:function(a){return new f([].concat.apply(this,arguments))},join:function(a){for(var e=[],f=this.get("length"),d=0;d<f;d++)e.push(this.get(d));return e.join(a)},slice:function(a,e){var h=this.get("length");e=(void 0===e?h:e)+(0>e?h:0);for(var d=[],h=a+(0>a?h:0)||0;h<Math.min(e,this.get("length"));h++)d.push(this.get(h));return new f(d)},watchElements:function(a){var e=this._watchElementCallbacks,
f=this;e||(e=this._watchElementCallbacks=function(a,c,d){for(var h=[].concat(e.list),k=0;k<h.length;k++)h[k].call(f,a,c,d)},e.list=[]);e.list.push(a);var d={};d.unwatch=d.remove=function(){for(var b=e.list,d=0;d<b.length;d++)if(b[d]==a){b.splice(d,1);break}};return d}},k.prototype,{set:function(a,e){if("length"==a){var f=this.get("length");f<e?this.splice.apply(this,[f,0].concat(Array(e-f))):e<f&&this.splice.apply(this,[e,f-e])}else f=this.length,k.prototype.set.call(this,a,e),f!=this.length&&k.prototype.set.call(this,
"length",this.length);return this},isInstanceOf:function(a){return k.prototype.isInstanceOf.apply(this,arguments)||a==f}})};f._meta={bases:[k]};return l.setObject("dojox.mvc.StatefulArray",f)})},"dijit/InlineEditBox":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/when ./a11yclick ./focus ./_Widget ./_TemplatedMixin ./_WidgetsInTemplateMixin ./_Container ./form/Button ./form/_TextBoxMixin ./form/TextBox dojo/text!./templates/InlineEditBox.html dojo/i18n!./nls/common".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D){y=f("dijit._InlineEditor",[v,y,x],{templateString:D,contextRequire:l,postMixInProperties:function(){this.inherited(arguments);this.messages=d.getLocalization("dijit","common",this.lang);k.forEach(["buttonSave","buttonCancel"],function(a){this[a]||(this[a]=this.messages[a])},this)},buildRendering:function(){this.inherited(arguments);var a="string"==typeof this.editor?p.getObject(this.editor)||l(this.editor):this.editor,b=this.sourceStyle,
c="line-height:"+b.lineHeight+";",d=m.getComputedStyle(this.domNode);k.forEach(["Weight","Family","Size","Style"],function(a){d["font"+a]!=b["font"+a]&&(c+="font-"+a+":"+b["font"+a]+";")},this);k.forEach("marginTop marginBottom marginLeft marginRight position left top right bottom float clear display".split(" "),function(a){this.domNode.style[a]=b[a]},this);var f=this.inlineEditBox.width;"100%"==f?(c+="width:100%;",this.domNode.style.display="block"):c+="width:"+(f+(Number(f)==f?"px":""))+";";f=p.delegate(this.inlineEditBox.editorParams,
{style:c,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new a(f,this.editorPlaceholder);this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,e.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var a=this.editWidget;this.inlineEditBox.autoSave?this.own(h.after(a,"onChange",p.hitch(this,"_onChange"),!0),q(a,"keydown",p.hitch(this,"_onKeyDown"))):"intermediateChanges"in a&&(a.set("intermediateChanges",
!0),this.own(h.after(a,"onChange",p.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup();this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0);this.inherited(arguments)},getValue:function(){var a=this.editWidget;return String(a.get("displayedValue"in a||"_getDisplayedValueAttr"in a?"displayedValue":
"value"))},_onKeyDown:function(a){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&!a.altKey&&!a.ctrlKey&&(a.keyCode==n.ESCAPE?(a.stopPropagation(),a.preventDefault(),this.cancel(!0)):a.keyCode==n.ENTER&&"INPUT"==a.target.tagName&&(a.stopPropagation(),a.preventDefault(),this._onChange()))},_onBlur:function(){this.inherited(arguments);this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&
this.inlineEditBox.editing&&this.enableSave()&&w.focus(this.inlineEditBox.displayNode)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus();this.editWidget.focusNode&&(w._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){B.selectInputText(this.editWidget.focusNode)}))}});v=f("dijit.InlineEditBox"+(r("dojo-bidi")?"_NoBidi":""),v,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",
renderAsHtml:!1,editor:C,editorWrapper:y,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:6>=r("ie")?"\x3cspan style\x3d'font-family: wingdings; text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e":"\x3cspan style\x3d'text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e",constructor:function(){this.editorParams=
{}},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;this.own(q(this.displayNode,u,p.hitch(this,"_onClick")),q(this.displayNode,"mouseover, focus",p.hitch(this,"_onMouseOver")),q(this.displayNode,"mouseout, blur",p.hitch(this,"_onMouseOut")));this.displayNode.setAttribute("role","button");this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0);this.value||"value"in this.params||(this.value=p.trim(this.renderAsHtml?this.displayNode.innerHTML:
this.displayNode.innerText||this.displayNode.textContent||""));this.value||(this.displayNode.innerHTML=this.noValueIndicator);c.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(a){b.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.domNode.setAttribute("aria-disabled",a?"true":"false");a?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",
0);c.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",a);this._set("disabled",a)},_onMouseOver:function(){this.disabled||c.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){c.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(a){this.disabled||(a&&(a.stopPropagation(),a.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){this._set("editing",!0);this._savedTabIndex=
a.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var b=e.create("span",null,this.domNode,"before");this.wrapperWidget=new ("string"==typeof this.editorWrapper?p.getObject(this.editorWrapper):this.editorWrapper)({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:m.getComputedStyle(this.displayNode),save:p.hitch(this,"save"),cancel:p.hitch(this,"cancel"),
textDir:this.textDir},b);this.wrapperWidget._started||this.wrapperWidget.startup();this._started||this.startup()}var d=this.wrapperWidget;c.add(this.displayNode,"dijitOffScreen");c.remove(d.domNode,"dijitOffScreen");m.set(d.domNode,{visibility:"visible"});a.set(this.displayNode,"tabIndex","-1");var f=d.editWidget,h=this;t(f.onLoadDeferred,p.hitch(d,function(){f.set("displayedValue"in f||"_setDisplayedValueAttr"in f?"displayedValue":"value",h.value);this.defer(function(){d.saveButton&&d.saveButton.set("disabled",
"intermediateChanges"in f);this.focus();this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments)},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget);this.inherited(arguments)},_showText:function(b){var d=this.wrapperWidget;m.set(d.domNode,{visibility:"hidden"});c.add(d.domNode,"dijitOffScreen");c.remove(this.displayNode,"dijitOffScreen");a.set(this.displayNode,"tabIndex",this._savedTabIndex);b&&
w.focus(this.displayNode)},save:function(a){if(!this.disabled&&this.editing){this._set("editing",!1);var b=this.wrapperWidget.getValue();this.set("value",b);this._showText(a)}},setValue:function(a){b.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(a){a=p.trim(a);var b=this.renderAsHtml?a:a.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;").replace(/\n/g,
"\x3cbr\x3e");this.displayNode.innerHTML=b||this.noValueIndicator;this._set("value",a);this._started&&this.defer(function(){this.onChange(a)})},getValue:function(){b.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value")},cancel:function(a){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(a))}});r("dojo-bidi")&&(v=f("dijit.InlineEditBox",v,{_setValueAttr:function(){this.inherited(arguments);
this.applyTextDir(this.displayNode)}}));v._InlineEditor=y;return v})},"mojo/analytics/parts/MoveToFolder":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Part","mojo/widgets/Folder"],function(l,k,h,f){return l([f,h],{buttonText:"Move To",canEdit:!1,selectable:!1,includeAll:!1,onMove:function(a,c){this.source&&(this.source.updateCounts(a),this.target.getFilter("folder")?this.target.render():this.source.setSelectedFolder(c))},onRemoveFromFolder:function(){this.onSelect(0)},onSelect:function(a){this.request("move-to-folder",
{"id[]":this.target.getSelection(),fid:a}).then(k.hitch(this,function(a){this.onMove(a.folders,a.folder?a.folder.id:0)}))}})})},"mojo/FileDrag":function(){define("dojo/on dojo/_base/window dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/event dojo/dom dojo/query dojo/dom-class dojo/dom-construct dojo/dom-attr".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){var p=[],q={},r={},t=function(a){c.stop(a);"dragover"==a.type?(d.add(this,"hover-drag"),m(".drop-target",this).addClass("hover")):(d.remove(this,
"hover-drag"),m(".hover",this).removeClass("hover"))},u=function(a){a=b.toDom(a);var c=m("img",a)[0],d=null;c&&n.get(c,"src")&&(d=n.get(c,"src"));b.destroy(a);return d},w=function(a){return h.some([".jpg",".jpeg",".png",".gif"],function(b){return-1!=a.indexOf(b)})},v=function(a,b){return r[a]?h.some(r[a],function(a){return b.name.split(".").pop()===a||b.type===a||b.type.split("/")[1]===a||b.type.split("/")[0]===a}):!0},y=function(a){c.stop(a);d.remove(this,"hover-drag");m(".hover",this).removeClass("hover");
var b,e=null;dojo.some(p,function(c){b=m(a.target).closest(c)[0];e=c;return b});if(b){var f=[],k=[],l=a.target.files||a.dataTransfer.files;if(l&&l.length)h.forEach(l,function(a){a&&v(e,a)?f.push({type:a.type,content:a}):k.push({type:a.type,content:a})});else{var l=a.dataTransfer.getData("URL")||a.dataTransfer.getData("Text"),n=u(a.dataTransfer.getData("text/html"));l&&w(l)?f.push({type:"image/url",content:l}):n&&f.push({type:"image/url",content:n})}if(q[e]&&q[e].onDrop)q[e].onDrop(f,a.target,k)}};
return{attach:function(a,b,c){if(window.File&&window.FileList&&window.FileReader){p.unshift(a);q[a]=b;r[a]=c;var d=[];b&&(b.onDragEnter&&d.push(l(k.doc,a+":dragenter",b.onDragEnter)),b.onDragOver&&d.push(l(k.doc,a+":dragenter",b.onDragOver)),b.onDragLeave&&d.push(l(k.doc,a+":dragleave",b.onDragLeave)));d.push(l(k.doc,a+":dragover",t));d.push(l(k.doc,a+":dragleave",t));d.push(l(k.doc,"drop",y));d.push(l(k.doc,"dragover",function(a){a.preventDefault()}));d.push(l(k.doc,"dragenter",function(a){a.preventDefault()}));
return{detach:function(){h.forEach(d,function(a,b){a.remove()})}}}return null}}})},"mojo/lib/clipboard":function(){define(["dojo/dom","dojo/dom-construct","dojo/html","dojo/_base/window"],function(l,k,h,f){return{copy:function(a){var c=k.toDom("\x3cinput\x3e");c.value=a;k.place(c,f.body());c.select();a=document.execCommand("copy");k.destroy(c);if(!1===a)throw Error("Failed to copy text (verify caller was in the context of an event handler)");}}})},"mojo/neapolitan/mobile/utils":function(){define("dojo/_base/lang dojo/debounce dojo/Deferred dojo/dom dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/on dojo/topic mojo/utils vendor/lodash-amd/reject vendor/lodash-amd/toNumber".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){window.mobileUtilsLoaded=!1;var q=null,r=null,t={keyboardDown:null,screenState:null,backgroundActivate:null,backgroundUpdate:null,nativeToolbarGlobal:null,nativeToolbarHide:null,mobileZoomFit:null},u={previewMode:"desktop",stateQueue:[],nativeAppVersion:null,previewStyleOptions:[],genericMessageHandlers:{},versionDeferred:null,nativeFeatureConfig:{BLOCK_ACTIVE:{iOS:{version:1},Android:{version:1}},CONTAINER_BACKGROUND_STYLE_CONTROLS:{iOS:{version:1},Android:{version:1}},
TOOLBAR:{iOS:{version:1},Android:{version:1}},COLOR_PICKER:{iOS:{version:2},Android:{version:1}},FILE_BROWSER:{iOS:!1,Android:!0}},previewDidLoad:function(a){var b=u.getNativeVersion();0<this.previewStyleOptions.length&&(a.backgroundOptions=this.previewStyleOptions);var c=this.getNativeObject();"iOS"===c&&b.then(function(b){b&&b.hasOwnProperty("versionNumber")?(window.webkit.messageHandlers.webContentDidLoad.postMessage(a),u.triggerNativeGlobalState()):window.webkit.messageHandlers.webContentDidLoad.postMessage({})});
"Android"===c&&b.then(function(b){b&&b.hasOwnProperty("versionNumber")?(b=JSON.stringify(a),window.Android.webContentDidLoad(b),u.triggerNativeGlobalState()):window.Android.webContentDidLoad()})},getNativeVersion:function(){var a=this.getNativeObject();if(null===u.versionDeferred){var b={id:"versionNumber"};u.versionDeferred=new h;u.genericMessageHandlers.versionNumber=function(a){u.versionDeferred.resolve(a)};"iOS"===a&&(window.webkit.messageHandlers.getAppVersion&&window.webkit.messageHandlers.getAppVersion.postMessage?
window.webkit.messageHandlers.getAppVersion.postMessage(b):u.versionDeferred.resolve(!1));"Android"===a&&(window.Android.getAppVersion?(b=JSON.stringify(b),window.Android.getAppVersion(b)):u.versionDeferred.resolve(!1));a||u.versionDeferred.resolve(!1)}return u.versionDeferred.promise},resetStateQueue:function(){u.stateQueue&&0<u.stateQueue.length&&(u.stateQueue=[])},removeStateQueue:function(a){u.stateQueue&&0<u.stateQueue.length&&(a?u.stateQueue=n(u.stateQueue,a):u.stateQueue.pop())},setScreenState:function(a){var b;
0<u.stateQueue.length&&(b=u.stateQueue[u.stateQueue.length-1].state);b&&a.state===b||u.stateQueue.push(a)},triggerNativeGlobalState:function(a){var b={};u.previewMode&&(b.previewState=u.previewMode);a=u.getNativeVersion();var c=u.getNativeObject();"iOS"===c&&a.then(function(a){a&&a.hasOwnProperty("versionNumber")&&window.webkit.messageHandlers.globalToolbar.postMessage(b)});"Android"===c&&a.then(function(a){a&&a.hasOwnProperty("versionNumber")&&(a=JSON.stringify(b),window.Android.globalToolbar(a))})},
triggerNativeHideToolbar:function(a){a=u.getNativeVersion();var b=u.getNativeObject();"iOS"===b&&a.then(function(a){a&&a.hasOwnProperty("versionNumber")&&window.webkit.messageHandlers.hideToolbar.postMessage({})});"Android"===b&&a.then(function(a){a&&a.hasOwnProperty("versionNumber")&&(a=JSON.stringify({}),window.Android.hideToolbar(a))})},editorBackgroundActiveEvent:function(a){this.nativeDoneBlock(!0);var b=u.getNativeObject();"iOS"===b&&window.webkit.messageHandlers.backgroundEdit.postMessage(a);
"Android"===b&&(a=JSON.stringify(a),window.Android.backgroundEdit(a))},editorBackgroundChangeEvent:function(a){var b=u.getNativeObject();"iOS"===b&&window.webkit.messageHandlers.backgroundEdit.postMessage(a);"Android"===b&&(a=JSON.stringify(a),window.Android.backgroundEdit(a))},campaignBlockSelected:function(){var a=u.getNativeVersion();u.nativeDoneBackground(!0);window.top.app.nativeStateHandler.setScreenState({state:"blockActive",backAction:u.nativeDoneBlock});var b=this.getNativeObject();"iOS"===
b&&a.then(function(a){a&&a.hasOwnProperty("versionNumber")&&window.webkit.messageHandlers.blockEdit.postMessage({})});"Android"===b&&a.then(function(a){a&&a.hasOwnProperty("versionNumber")&&(a=JSON.stringify({}),window.Android.blockEdit(a))})},mobileUserTriggersBack:function(){if(0<u.stateQueue.length){var a=u.stateQueue[u.stateQueue.length-1];a.backAction&&a.backAction()}else u.mobileSaveAndExit()},mobileSaveAndExit:function(){b.globalPublish("current/block/editor/save/for/mobile");var a=u.getNativeObject();
"iOS"===a&&window.webkit.messageHandlers.mobileSaveAndExit.postMessage({});"Android"===a&&window.Android.mobileSaveAndExit()},androidFileBrowse:function(){"Android"===u.getNativeObject()&&window.Android.openFileBrowse()},nativeColorPicker:function(a){var b=u.getNativeObject();"iOS"===b&&window.webkit.messageHandlers.openColorPicker.postMessage({color:a});"Android"===b&&window.Android.openColorPicker(a)},checkForNativeFeature:function(a,b){var c=this.getNativeObject(),c=u.nativeFeatureConfig[a][c];
return c.version?p(b)>=c.version:c},mobileReauthenticate:function(){var a=u.getNativeObject();"iOS"===a&&window.webkit.messageHandlers.mobileReauth.postMessage({});"Android"===a&&window.Android.mobileReauth()},getNativeObject:function(){return window.webkit&&window.webkit.messageHandlers?"iOS":window.Android?"Android":!1},setupNativeListeners:function(){return{messageResponse:this.onNativeMessageResponse,keyboardUp:this.onNativeKeyboardUp,keyboardDown:this.onNativeKeyboardDown,entryAnimationComplete:this.onEntryAnimationComplete,
saveAndExitWebApp:this.mobileUserTriggersBack,backNavigate:this.mobileUserTriggersBack,fileUploadCancel:this.nativeFileUploadCancel,fileUploadSuccess:this.nativeFileUploadSuccess,fileUploadError:this.nativeFileUploadError,colorPickSuccess:this.nativeColorPickerSuccess,colorPickClose:this.nativeColorPickerClose,addBlock:this.nativeAddBlock,editBlock:this.nativeEditBlock,duplicateBlock:this.nativeCloneBlock,deleteBlock:this.nativeDeleteBlock,moveBlock:this.nativeSortBlock,doneWithBlockOptions:this.nativeDoneBlock,
backgroundColor:this.nativeBackgroundColor,backgroundImage:this.nativeBackgroundImage,backgroundImageClose:this.nativeBackgroundImageClose,backgroundImageFit:this.nativeBackgroundImageFit,backgroundImageClear:this.nativeBackgroundImageClear,doneWithBackgroundOptions:this.nativeDoneBackground,setGlobalToolbarHeight:this.nativeSetGlobalToolbarHeight,togglePreview:u.changePreviewMode}},setupNativeUtils:function(){return{getNativeObject:this.getNativeObject,getNativeVersion:this.getNativeVersion,nativeColorPicker:this.nativeColorPicker,
checkForNativeFeature:this.checkForNativeFeature}},setupNativeStateHandler:function(){return{removeStateQueue:u.removeStateQueue,setScreenState:u.setScreenState,resetStateQueue:u.resetStateQueue}},nativeFileUploadCancel:function(){b.globalPublish("content/manager/native/upload/cancel",{})},nativeFileUploadSuccess:function(a){b.globalPublish("content/manager/native/upload/success",a)},nativeFileUploadError:function(a){b.globalPublish("content/manager/native/upload/error",a)},nativeColorPickerSuccess:function(a){b.globalPublish("native/mobile/colorpicker/update",
a)},nativeColorPickerClose:function(){b.globalPublish("native/mobile/colorpicker/close")},nativeAddBlock:function(a){b.globalPublish("native/mobile/add/"+(a.container||"body")+"/newBlock",a)},nativeEditBlock:function(){b.globalPublish("native/mobile/block/action/edit")},nativeCloneBlock:function(){b.globalPublish("native/mobile/block/action/clone")},nativeDeleteBlock:function(){b.globalPublish("native/mobile/block/action/delete")},nativeSortBlock:function(a){b.globalPublish("native/mobile/block/action/sort",
{moveDirection:a})},nativeDoneBlock:function(a){var c={};c.shouldNotFireGlobalToolbar=a?a:!1;b.globalPublish("native/mobile/block/action/done",c)},nativeBackgroundColor:function(){b.globalPublish("native/mobile/background/action/color")},nativeBackgroundImage:function(){b.globalPublish("native/mobile/background/action/image")},nativeBackgroundImageClose:function(){b.globalPublish("native/mobile/background/action/image/close")},nativeBackgroundImageFit:function(a){b.globalPublish("native/mobile/background/action/image/fill",
{fillType:a})},nativeDoneBackground:function(a){b.globalPublish("native/mobile/background/action/deactivate",{shouldNotFireGlobalToolbar:a})},nativeBackgroundImageClear:function(){b.globalPublish("native/mobile/background/action/image/clear")},nativeBackgroundDeselect:function(){b.globalPublish("native/mobile/background/action/deactivate")},onNativeMessageResponse:function(a){if(a&&a.id&&u.genericMessageHandlers.hasOwnProperty(a.id))if(a.data)u.genericMessageHandlers[a.id](a.data);else u.genericMessageHandlers[a.id]()},
onNativeKeyboardUp:function(a){b.globalPublish("native/mobile/keyboard/up",a)},onNativeKeyboardDown:function(a){b.globalPublish("native/mobile/keyboard/down",a)},nativeKeyboardDownFired:function(){b.globalPublish("current/blur/ckEditor/for/mobile")},onEntryAnimationComplete:function(){b.globalPublish("native/preview/nativeAnimationComplete")},toggleViewportZooming:function(a){var b=document.querySelector("meta[name\x3dviewport]");a?b.setAttribute("content","width\x3ddevice-width, initial-scale\x3d1.0, minimum-scale\x3d1.0, maximum-scale\x3d1.0, user-scalable\x3dno"):
b.setAttribute("content","width\x3ddevice-width, initial-scale\x3d1.0, maximum-scale\x3d5.0")},zoomOnResize:function(){q||(q=m(window,"resize",k(u.zoomPreviewToFit,50)));r||(r=m(window,"orientationchange",k(u.zoomPreviewToFit,500)))},changePreviewMode:function(a){u.previewMode=a;u.zoomPreviewToFit({scrollToTop:!0});u.triggerNativeGlobalState()},setDefaultMobileType:function(a){u.previewMode=a},zoomPreviewToFit:function(d){u.toggleViewportZooming();var h=f.byId("preview-template"),m=document.body.querySelector("#previewcol \x3e .colbody");
m&&d&&d.hasOwnProperty("scrollToTop")&&d.scrollToTop&&(m.scrollTop=0);if(h)if(d=h.contentWindow.document.documentElement,"desktop"===u.previewMode){c.set(h,{transformOrigin:"0 0",transform:"scale(1)"});a.remove(h,"mobile-preview");var m=e.position(d).w,k=document.documentElement.clientWidth;k<m&&(m=k/(m+0),c.set(d,{"padding-bottom":60/m+"px"}),c.set(h,{transform:"scale("+m.toFixed(3)+") translate(0, 0)"}),b.globalPublish("container/controls/scale/preview",{scale:m.toFixed(3)}))}else c.set(h,{transform:"scale(1) translate(-50%, 0)"}),
a.add(h,"mobile-preview"),b.globalPublish("container/controls/scale/preview",{scale:1})}};(function(){for(var a in t)t.hasOwnProperty(a)&&t[a]&&t[a].remove();t.keyboardDown=d.subscribe("native/mobile/keyboard/down",l.hitch(this,u.nativeKeyboardDownFired));t.backgroundActivate=d.subscribe("native/background/option/activate",l.hitch(u,u.editorBackgroundActiveEvent));t.backgroundUpdate=d.subscribe("native/background/option/update",l.hitch(u,u.editorBackgroundChangeEvent));t.nativeToolbarGlobal=d.subscribe("native/toolbar/state/global",
l.hitch(this,u.triggerNativeGlobalState));t.nativeToolbarHide=d.subscribe("native/toolbar/state/hide",l.hitch(this,u.triggerNativeHideToolbar));t.mobileZoomFit=d.subscribe("mobile/zoom/to/fit",l.hitch(this,u.zoomPreviewToFit));window.mobileUtilsLoaded=!0})();return u})},"dojo/debounce":function(){define([],function(){return function(l,k){var h;return function(){h&&clearTimeout(h);var f=this,a=arguments;h=setTimeout(function(){l.apply(f,a)},k)}}})},"vendor/lodash-amd/reject":function(){define(["./_arrayFilter",
"./_baseFilter","./_baseIteratee","./isArray","./negate"],function(l,k,h,f,a){return function(c,e){return(f(c)?l:k)(c,a(h(e,3)))}})},"vendor/lodash-amd/_baseFilter":function(){define(["./_baseEach"],function(l){return function(k,h){var f=[];l(k,function(a,c,e){h(a,c,e)&&f.push(a)});return f}})},"vendor/lodash-amd/_baseEach":function(){define(["./_baseForOwn","./_createBaseEach"],function(l,k){return k(l)})},"vendor/lodash-amd/_createBaseEach":function(){define(["./isArrayLike"],function(l){return function(k,
h){return function(f,a){if(null==f)return f;if(!l(f))return k(f,a);for(var c=f.length,e=h?c:-1,m=Object(f);(h?e--:++e<c)&&!1!==a(m[e],e,m););return f}}})},"vendor/lodash-amd/negate":function(){define([],function(){return function(l){if("function"!=typeof l)throw new TypeError("Expected a function");return function(){var k=arguments;switch(k.length){case 0:return!l.call(this);case 1:return!l.call(this,k[0]);case 2:return!l.call(this,k[0],k[1]);case 3:return!l.call(this,k[0],k[1],k[2])}return!l.apply(this,
k)}}})},"vendor/lodash-amd/toNumber":function(){define(["./isObject","./isSymbol"],function(l,k){var h=0/0,f=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,e=/^0o[0-7]+$/i,m=parseInt;return function(d){if("number"==typeof d)return d;if(k(d))return h;l(d)&&(d="function"==typeof d.valueOf?d.valueOf():d,d=l(d)?d+"":d);if("string"!=typeof d)return 0===d?d:+d;d=d.replace(f,"");var b=c.test(d);return b||e.test(d)?m(d.slice(2),b?2:8):a.test(d)?h:+d}})},"mojo/api/brand-assets":function(){define(["dojo/_base/declare",
"mojo/utils","mojo/user"],function(l,k,h){var f={DEFAULT_LOGO_URL:"https://cdn-images.mailchimp.com/template_images/gallery/logo@2x.png",TOPIC_CHANGES:"mojo/api/brand-assets/topic",MERGE_TAG:"*|BRAND:LOGO|*",getBrandUrl:function(){return h.getBootstrappedInstance().brandLogoUrl},hasCustomBrandUrl:function(){return f.getBrandUrl()!==f.DEFAULT_LOGO_URL},_setBrandUrl:function(a){h.getBootstrappedInstance().brandLogoUrl=a},setBrandItem:function(a){f._setBrandUrl(a?a.getDisplayUrl():f.DEFAULT_LOGO_URL);
k.globalPublish(f.TOPIC_CHANGES,{value:a})}};return f})},"mojo/widgets/content-manager/Api":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/topic dojo/Deferred dojo/Stateful vendor/lodash-amd/find vendor/lodash-amd/identity mojo/url mojo/user mojo/lib/flags mojo/utils mojo/url mojo/api/brand-assets ./DeleteDialog ./BrandDeleteDialog".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){var v=l(null,{createdAt:null,contentType:null,width:null,height:null,
dimensions:null,url:null,urls:null,download:null,size:null,constructor:function(a){this.createdAt=q.formatRelativeDate(1E3*a.created_at);this.contentType=a.content_type||"image";this.size=(this.sizeInBytes=a.size)?q.formatFileSize(a.size):null;this.width=a.width;this.height=a.height;this.dimensions=this.width&&this.height?this.width+" \u00d7 "+this.height+" px":null;this.url=a.url||"";this.urls=a.urls||{};this.download=this.url;this.fileExtension=this.url.split(".").reverse()[0]},isImage:function(){return"image"===
this.contentType},getDisplayUrl:function(){return this.urls&&"display"in this.urls?this.urls.display:this.url},getCanonicalUrl:function(){return this.getDisplayUrl()},getDisplayProperties:function(){var a=[];a.push({label:"Created",value:this.createdAt});this.dimensions&&a.push({label:"Dimensions",value:this.dimensions});this.size&&a.push({label:"Size",value:this.size});this.createdBy&&a.push({label:"Created by",value:this.createdBy});return a},getThumbnailUrl:function(){return this.isImage()?r.addProxy(this.urls&&
this.urls.thumbnail_500?this.urls.thumbnail_500:this.url):null},getFixedParameters:function(){return{}}}),y=l(v,{contentId:null,sourceId:null,name:null,numVersions:null,versions:null,constructor:function(a){this.contentId=a.content_id;this.sourceId=a.source;this.name=a.name;this.numVersions=a.num_versions;this.versions=h.map(a.versions||[],function(a){return new v(a)})}}),x=l(y,{createdBy:null,constructor:function(a){this.createdBy=a.created_by}}),A=l([y],{}),z=l([y],{constructor:function(a){this.rating=
a.rating}}),B=l([y],{createdBy:null,constructor:function(a){this.createdBy=a.created_by;this.name="Your Default Logo"},getCanonicalUrl:function(){return"*|BRAND:LOGO|*"},getFixedParameters:function(){return{width:196,height:null}}}),C=l(null,{constructor:function(a){this.id=a.id;this.userLabel=a.userLabel;this.itemClass=a.itemClass;this.isHostedElsewhere=a.isHostedElsewhere;this.revisionUserLabel=a.revisionUserLabel;this.supportedActions=a.supportedActions;this.deleteModalClass=a.deleteModalClass;
this.onDeleteHandler=a.onDeleteHandler},toInputOption:function(){return{value:this.id,label:this.userLabel}},isActionSupported:function(a){return 0<=this.supportedActions.indexOf(a)}}),D={_convertResponseFromNative:function(a){return{content_id:a.id,content_type:a.type,created_at:new Date(a.created_at),created_by:"Dev Chimpster",folder:a.folder_id,height:a.height,name:a.name,num_versions:0,size:a.size,source:D.SOURCE_FILE,url:a.full_size_url,urls:{display:a.full_size_url,thumbnail:a.thumbnail_url},
versions:[],width:a.width}},_buildContentItem:function(a){var b=this.getSource(a.source);return new (b?b.itemClass:y)(a)},_post:function(a,c,d){return f.post(b.toUrl(a),{handleAs:"json",data:c}).then(k.hitch(this,function(a){return k.isArray(a)?h.map(a,function(a){a=d?d(a):a;return this._buildContentItem(a)},this):this._buildContentItem(a.info)}))},_get:function(a,c){return f.get(b.toUrl(a),{handleAs:"json",query:c}).then(k.hitch(this,function(a){return a.items?(a.items=h.map(a.items,k.hitch(this,
function(a){return this._buildContentItem(a)})),a):this._buildContentItem(a.info)}))},getInfo:function(a,b){return D._get("content/get-info",{content_id:a,source:b})},upload:function(a,b,c,d){return D._post("content/upload",{data:b,name:c,"fields[folder]":(d||{}).folder,"fields[content_origin]":a,on_conflict:"keep_both"})},uploadFromUrl:function(a,b,c,d){d||(d=D.CONFLICT_STRATEGY_KEEP_BOTH);return D._post("content/upload",{source:a,data_url:c,"fields[content_origin]":b,"fields[originating_url]":c,
on_conflict:d})},update:function(a,b,c){return D._post("content/update",{content_id:b,data:c,"fields[content_origin]":a})},updateFromUrl:function(a,b,c){return D._post("content/update",{content_id:b,data_url:c,"fields[content_origin]":a})},updateOrUploadFromUrl:function(a,b,c){var d=D.SOURCE_FILE;return D.updateFromUrl(a,b,c).then(null,function(b){if(404===b.response.status)return D.uploadFromUrl(d,a,c);throw b;})},"delete":function(a,b){return D._post("content/delete",{content_id:a,source:b},function(a){return a.info})},
rename:function(a,b,c){return D._post("content/update",{content_id:a,source:b,"fields[name]":c})},list:function(a,b){return D._get("content/list",k.mixin({source:a},b))},search:function(a,b){return D._get("content/search",k.mixin({source:a},b))},getFilters:function(a){return f.get(b.toUrl("content/get-filters",{source:a}),{handleAs:"json"}).then(function(a){return a.filters})},getSorts:function(a){return f.get(b.toUrl("content/get-sorts",{source:a}),{handleAs:"json"}).then(function(a){return a.sorts})},
getSources:function(){var a=[];a.push(new C({id:D.SOURCE_FILE,userLabel:"My Files",itemClass:x,isHostedElsewhere:!1,revisionUserLabel:"Revision History",supportedActions:[D.SOURCE_ACTION_FOLDERS,D.SOURCE_ACTION_DELETE,D.SOURCE_ACTION_EDIT,D.SOURCE_ACTION_RENAME,D.SOURCE_ACTION_DOWNLOAD,D.SOURCE_ACTION_SEARCH,D.SOURCE_ACTION_PROMOTE_TO_BRAND,D.SOURCE_ACTION_UPLOAD],deleteModalClass:u,onDeleteHandler:d}));a.push(new C({id:D.SOURCE_PRODUCT,userLabel:"Products",itemClass:A,isHostedElsewhere:!0,revisionUserLabel:"Product Variants",
supportedActions:[D.SOURCE_ACTION_EDIT,D.SOURCE_ACTION_SEARCH]}));a.push(new C({id:D.SOURCE_GIPHY,userLabel:"Giphy",itemClass:z,isHostedElsewhere:!0,supportedActions:[D.SOURCE_ACTION_SEARCH]}));a.push(new C({id:D.SOURCE_BRAND,userLabel:"My Logo",itemClass:B,isHostedElsewhere:!1,supportedActions:[D.SOURCE_ACTION_DELETE],deleteModalClass:w,onDeleteHandler:function(a){t.setBrandItem(null);return a}}));return a},getSource:function(a){var b=m(this.getSources(),{id:a});if(!b)throw Error("Cannot find source with id: '"+
a+"'");return b},readFileAsDataUrl:function(a){var b=new c,d=new FileReader;d.onload=function(a){b.resolve(a.target.result)};d.readAsDataURL(a);return b.promise},generateContentOriginFromContentItem:function(a){return a.sourceId+":"+a.contentId},buildImageItemFromNativeApiCall:function(a){return new y(this._convertResponseFromNative(a))},FileItem:x,SOURCE_FILE:"file",SOURCE_GIPHY:"giphy",SOURCE_PRODUCT:"product",SOURCE_BRAND:"brand",SOURCE_ACTION_FOLDERS:"folders",SOURCE_ACTION_SEARCH:"search",SOURCE_ACTION_DELETE:"delete",
SOURCE_ACTION_EDIT:"edit",SOURCE_ACTION_RENAME:"rename",SOURCE_ACTION_DOWNLOAD:"download",SOURCE_ACTION_PROMOTE_TO_BRAND:"promote_to_brand",SOURCE_ACTION_UPLOAD:"upload",CONFLICT_STRATEGY_KEEP_BOTH:"keep_both",CONFLICT_STRATEGY_OVERWRITE:"overwrite",ERROR_CODE_FILE_CONFLICT:3};return D})},"vendor/lodash-amd/find":function(){define(["./_createFind","./findIndex"],function(l,k){return l(k)})},"vendor/lodash-amd/_createFind":function(){define(["./_baseIteratee","./isArrayLike","./keys"],function(l,k,
h){return function(f){return function(a,c,e){var m=Object(a);if(!k(a)){var d=l(c,3);a=h(a);c=function(a){return d(m[a],a,m)}}c=f(a,c,e);return-1<c?m[d?a[c]:c]:void 0}}})},"vendor/lodash-amd/findIndex":function(){define(["./_baseFindIndex","./_baseIteratee","./toInteger"],function(l,k,h){var f=Math.max;return function(a,c,e){var m=null==a?0:a.length;if(!m)return-1;e=null==e?0:h(e);0>e&&(e=f(m+e,0));return l(a,k(c,3),e)}})},"vendor/lodash-amd/_baseFindIndex":function(){define([],function(){return function(l,
k,h,f){var a=l.length;for(h+=f?1:-1;f?h--:++h<a;)if(k(l[h],h,l))return h;return-1}})},"vendor/lodash-amd/toInteger":function(){define(["./toFinite"],function(l){return function(k){k=l(k);var h=k%1;return k===k?h?k-h:k:0}})},"vendor/lodash-amd/toFinite":function(){define(["./toNumber"],function(l){var k=1/0;return function(h){if(!h)return 0===h?h:0;h=l(h);return h===k||h===-k?1.7976931348623157E308*(0>h?-1:1):h===h?h:0}})},"mojo/widgets/content-manager/DeleteDialog":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/DeleteDialog.html dojo/on dojo/html dojo/_base/event dojo/keys dojo/_base/lang dojo/Deferred dijit/Dialog".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k,h],{templateString:f,dialog:null,deferred:null,dialogTitle:"Are you sure?",fileid:null,pluralizedFile:null,postMixInProperties:function(){this.fileid=this.fileid.toString();this.pluralizedFile=1===this.fileid.split(",").length?"this file":"these files"},postCreate:function(){this.deferred=new b;var c=a(this.deleteButton,"click",d.hitch(this,function(a){e.stop(a);c.remove();this.resolve()})),f=a(this.cancelButton,"click",d.hitch(this,function(a){e.stop(a);
f.remove();this.cancel()}))},execute:function(){this.resolve()},resolve:function(){this.deferred.resolve();this.dialog.hide()},cancel:function(){this.deferred.cancel();this.dialog.hide()},show:function(){this.dialog=new n({title:this.dialogTitle,content:this});this.dialog.startup();this.dialog.show()}})})},"mojo/widgets/content-manager/BrandDeleteDialog":function(){define(["dojo/_base/declare","./DeleteDialog","dojo/text!./templates/BrandDeleteDialog.html"],function(l,k,h){return l([k],{dialogTitle:"Are you sure you want to delete your logo?",
templateString:h})})},"mojo/widgets/content-manager/ContentList":function(){define("dojo/_base/declare mojo/analytics/List dojo/_base/lang dojo/_base/array dojo/require dojo/query dojo/dom-attr dojo/on dojo/parser dojo/dom-construct dojo/dom-style dojox/mvc/sync dojox/html/entities mojo/user mojo/widgets/NoDataBlock ./Api ./ContentListItem".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([k],{items:{},startup:function(){this.inherited(arguments);this.watch("sourceId",h.hitch(this,
"render"))},getUrl:function(){},getData:function(a){var b=this.hasFilter("search")?"search":"list";return u[b](this.sourceId,a)},renderLoading:function(){n.set(this.domNode,"display","");var a=h.trim('\x3cli class\x3d"size1of1"\x3e\x3cdiv data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize: 100, strokeWidth: 2" class\x3d"text-align--center"\x3e\x3c/div\x3e\x3c/li\x3e');b.place(a,this.domNode,"only");this.emptyNode&&b.empty(this.emptyNode);d.parse(this.domNode)},renderContent:function(a,
c){this.items={};var d=f.map(a.items,h.hitch(this,function(a){var b=new w({contentItem:a,contentManager:this.getParent()});return this.items[a.contentId]=b}));b.empty(this.domNode);f.map(d,h.hitch(this,function(a){b.place(a.domNode,this.domNode,"last")}))},getSelectionItems:function(){return this.getSelection().map(h.hitch(this,function(a){return this.items[a].contentItem}))},getItems:function(){return this.items},renderEmpty:function(a,c){var d=c.source;b.empty(this.emptyNode);var e="Add files",
f="Upload images and files to include in your campaigns, templates, or signup forms";"product"===d&&(e="Add products",f="Your e-commerce store doesn\x26rsquo;t have any products. Once you create some, they\x26rsquo;ll show up here.");"brand"===d&&(e="You haven't set a default logo yet",f="Choose an image from My Files, and we\u2019ll add it anywhere you have a logo placeholder in your campaigns.");if(c.query)switch(f=q.encode(c.query),d){case "product":e="Products not found";f="We couldn\x26rsquo;t find any products that match \x3cstrong\x3e\x26ldquo;"+
f+"\x26rdquo;\x3c/strong\x3e. Try broadening your search.";break;case "giphy":e="GIF not found";f="We couldn\x26rsquo;t find any GIFs that match \x3cstrong\x3e\x26ldquo;"+f+"\x26rdquo;\x3c/strong\x3e. Try broadening your search.";break;default:e="Goose egg",f="We couldn\x26rsquo;t find any files that match \x3cstrong\x3e\x26ldquo;"+f+"\x26rdquo;\x3c/strong\x3e. Try broadening your search."}var h="empty-general";"product"===d?h="empty-ecomm":"brand"===d&&(h="empty-brand");d=new t({title:e,message:f,
icon:h,"class":"noborder"});d.placeAt(this.emptyNode);d.startup()},_getParams:function(){var a=this.inherited(arguments),b=this.sort.split("-");a["sort[order]"]=b[1];a["sort[by]"]=b[0];a.query=this.getFilter("search");a.source=this.sourceId;return a}})})},"mojo/analytics/List":function(){define("dojo/_base/declare dijit/_Widget ./_SelectableMixin ./_FilterableMixin ./_FilterableMixinWithLocalStorage ./_PersistedMixin dojo/_base/lang dojo/_base/array dojo/query dojo/dom-attr dojo/on dojo/dom-construct dojo/dom-style dojox/mvc/sync dojo/parser dojo/topic dojo/request/xhr mojo/user mojo/lib/flags dijit/registry".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return l([k,c,h,a],{page:1,pageSize:v.settings.pageSize,asc:!0,lazy:!1,options:null,_params:{},constructor:function(){this._syncs=[];this._renderIsQueued=this._published=!1},postCreate:function(){var a=this.getHashParam("p");a&&this.shouldPersistPage()&&this.set("page",a);this.url||(this.url=document.location.pathname,"/"!=this.url[this.url.length-1]&&(this.url+="/"),this.url+="list"+document.location.search);this.watch("page",e.hitch(this,function(){this.render();
this.shouldPersistPage()&&(1===this.page?this.unsetHashParam("p"):this.setHashParam("p",this.page))}));(a=this.getHashParam("s"))&&this.shouldPersistPage()&&this.set("pageSize",a);this.watch("pageSize",e.hitch(this,function(){1==this.page?this.render():this.set("page",1);v.saveSetting("vis_grid_page_size",this.pageSize);this.shouldPersistPage()&&this.setHashParam("s",this.pageSize)}));this.watch("url",e.hitch(this,"render"));this.watch("sort",e.hitch(this,"render"));this.watch("asc",e.hitch(this,
"render"));this.watch("search",e.hitch(this,"render"));this._filters.watch(e.hitch(this,"render"));this.lazy||this.render()},render:function(){!1===this._renderIsQueued&&(this._renderIsQueued=!0,setTimeout(e.hitch(this,function(){this._renderIsQueued=!1;this._render()}),0))},_render:function(){this.initialized=!0;var a=setTimeout(e.hitch(this,"renderLoading"),500),b=e.mixin({page:this.page,per_page:this.pageSize,sort:this.sort,asc:this.asc},this.getFilterQuery(),this._getOptions(),this._getParams());
this.getData(b).then(e.hitch(this,function(c){this._removeState();clearTimeout(a);this.renderData(c,b);c.params&&(this._params=c.params);this.set("total","pagination"in c?c.pagination.total_count:c.count);if(!this._published||this._published&&0===c.count)u.publish("mojo/analytics/"+this.id+"/ready"),this._published=!0;d(".selectCheckBox",this.domNode).forEach(e.hitch(this,function(a){a=x.byNode(a);this.selected[a.value]=this.selected[a.value]||!1;this._syncs.push(r(this.selected,a.value,a,"checked"))}));
u.publish(this.getTopic(),this)}))},getData:function(a){return w.get(this.getUrl(),{handleAs:"json",query:a})},getUrl:function(){return this.url},renderLoading:function(){this.renderContent({content:"\x3cdiv class\x3d'list-loading'\x3e\x3c/div\x3e"})},renderData:function(a,b){a.count||a.items&&0<a.items.length?(q.set(this.domNode,"display",""),this.emptyNode&&q.set(this.emptyNode,"display","none"),this.renderContent(a,b),t.parse(this.domNode)):(q.set(this.domNode,"display","none"),this.emptyNode||
(this.emptyNode=p.place("\x3cdiv\x3e\x3c/div\x3e",this.domNode,"after")),q.set(this.emptyNode,"display",""),this.renderEmpty(a,b),t.parse(this.emptyNode))},renderContent:function(a,b){var c=e.trim(a.content);p.place(c,this.domNode,"only")},renderEmpty:function(a,b){var c=e.trim(a.content);p.place(c,this.emptyNode,"only")},setOptions:function(a){this.options=a;this.render()},_getOptions:function(){if(!this.options)return{};var a={},b;for(b in this.options)a["options["+b+"]"]=this.options[b];return a},
_getParams:function(){if(!this._params)return{};var a={},b;for(b in this._params)a["params["+b+"]"]=this._params[b];return a},getTopic:function(){return"mojo/analytics/List/"+this.id+"/render"},shouldPersistPage:function(){return!0},_removeState:function(){m.forEach(this._syncs,function(a){a.remove()});this._syncs=[];this.clearSelectionModel();m.forEach(x.findWidgets(this.domNode),function(a){a.destroyRecursive()})}})})},"mojo/analytics/_SelectableMixin":function(){define(["dojo/_base/declare","dojo/_base/lang",
"dojo/Stateful"],function(l,k,h){return l(null,{constructor:function(){this.selected=new h},hasSelection:function(){for(var f in this.selected)if(this._valueSelected(f))return!0;return!1},getSelection:function(){var f=[],a;for(a in this.selected)this._valueSelected(a)&&f.push(a);return f},isAllSelected:function(){var f=!0,a;for(a in this.selected)this._validValue(a)&&(f=f&&this.selected[a]);return f},toggleAll:function(f){for(var a in this.selected)this._validValue(a)&&this.selected.set(a,f)},clearSelectionModel:function(){for(var f in this.selected)this._validValue(f)&&
(this.selected.set(f,!1),delete this.selected[f])},setSelection:function(f){this.clearSelectionModel();f.forEach(function(a){this.selected.set(a,!0)}.bind(this))},_valueSelected:function(f){return this._validValue(f)&&!0===this.selected[f]},_validValue:function(f){return this.selected.hasOwnProperty(f)&&0!=f.indexOf("_")&&null!=this.selected[f]}})})},"mojo/analytics/_FilterableMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/Stateful"],function(l,k,h,f){return l(null,
{saveState:!0,postMixInProperties:function(){this.inherited(arguments);var a={};if(this.saveState&&this._persisted){var c=this.getAllHashParams(),e;for(e in c)0===e.indexOf("f_")&&(a[e.replace("f_","")]=c[e])}this._filters=new f(a)},hasFilters:function(){for(var a in this._filters)if(this._validFilterKey(a))return!0;return!1},hasFilter:function(a){return this._filters.get(a)},getFilter:function(a){return this._filters.get(a)},setFilter:function(a,c){this._filters.set(a,c);this.set("page",1);this.onFilterChange(a,
c);this.saveState&&this._persisted&&this.setHashParam("f_"+a,c)},clearFilter:function(a){this._filters.set(a,null);this.set("page",1);this.onFilterChange(a,null);this.saveState&&this._persisted&&this.unsetHashParam("f_"+a)},clearAllFilters:function(){this.set("page",1);for(var a in this._filters)this._validFilterKey(a)&&(this._filters.set(a,null),this.saveState&&this._persisted&&this.unsetHashParam("f_"+a))},watchFilter:function(a,c){return this._filters.watch(a,c)},getFilterQuery:function(){var a=
{},c;for(c in this._filters)this._validFilterKey(c)&&(a["filters["+c+"]"]=this._filters[c]);return a},onFilterChange:function(a,c){},_validFilterKey:function(a){return this._filters.hasOwnProperty(a)&&0!=a.indexOf("_")&&null!=this._filters[a]}})})},"mojo/analytics/_FilterableMixinWithLocalStorage":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/Stateful","dojo/hash"],function(l,k,h,f,a){return l(null,{postMixInProperties:function(){this.inherited(arguments);var c=
{};if(this._persisted){var e=this.getAllHashParams();0<Object.keys(e).length?(this._permanentlyPersisted&&this.removeAllSavedValues("f"),Object.keys(e).forEach(function(a){0===a.indexOf("f_")&&(c[a.replace("f_","")]=e[a],this._permanentlyPersisted&&this.setHashParam(a,e[a]))},this)):this._permanentlyPersisted&&this.getAllSavedValues("f").forEach(function(e){c[e.id]=e.value;a()||this.setHashParam("f_"+e.id,e.value)},this)}this._filters=new f(c)},hasFilters:function(){for(var a in this._filters)if(this._validFilterKey(a))return!0;
return!1},hasFilter:function(a){return this._filters.get(a)},getFilter:function(a){return this._filters.get(a)},setFilter:function(a,e){this._filters.set(a,e);this.set("page",1);this.onFilterChange(a,e);this._permanentlyPersisted&&this.setSavedValue(a,e,"f");this._persisted&&this.setHashParam("f_"+a,e)},clearFilter:function(a){this._filters.set(a,null);this.set("page",1);this.onFilterChange(a,null);this._permanentlyPersisted&&this.removeSavedValue(a,"f");this._persisted&&this.unsetHashParam("f_"+
a)},clearAllFilters:function(){this.set("page",1);for(var a in this._filters)this._validFilterKey(a)&&(this._filters.set(a,null),this._permanentlyPersisted&&this.removeSavedValue(a,"f"),this._persisted&&this.unsetHashParam("f_"+a))},watchFilter:function(a,e){return this._filters.watch(a,e)},getFilterQuery:function(){var a={},e;for(e in this._filters)this._validFilterKey(e)&&(a["filters["+e+"]"]=this._filters[e]);return a},onFilterChange:function(a,e){},_validFilterKey:function(a){return this._filters.hasOwnProperty(a)&&
0!==a.indexOf("_")&&null!==this._filters[a]}})})},"mojo/analytics/_PersistedMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","mojo/url","dojo/Stateful"],function(l,k,h,f,a){return l(null,{postMixInProperties:function(){this.inherited(arguments);var c=f.getHashParams();c.t==this.id?(delete c.t,this._hashParams=new a(c)):this._hashParams=new a;this._persisted=!0},getAllHashParams:function(){var a={},e;for(e in this._hashParams)this._validHashKey(e)&&(a[e]=this._hashParams[e]);
return a},getHashParam:function(a){return this._hashParams.get(a)},setHashParam:function(a,e){this._hashParams.set(a,e);this.updateHash()},unsetHashParam:function(a){this._hashParams.set(a,null);this.updateHash()},restoreHashParams:function(){this.updateHash()},updateHash:function(){var a={},e;for(e in this._hashParams)this._validHashKey(e)&&(a[e]=this._hashParams[e]);a.t=this.id;f.setHashParams(a)},_validHashKey:function(a){return this._hashParams.hasOwnProperty(a)&&0!=a.indexOf("_")&&null!=this._hashParams[a]}})})},
"mojo/widgets/NoDataBlock":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/NoDataBlock.html"],function(l,k,h,f,a){return l([h,f],{templateString:a,type:"",icon:null,title:null,message:null,buttonText:null,buttonLink:null,_setTitleAttr:null,postMixInProperties:function(){var a=this._getDefaultProps(this.type);this.icon=this._validateProp(this.icon,a.icon);this.title=this._validateProp(this.title,a.title);this.message=this._validateProp(this.message,
a.message);this.buttonText=this._validateProp(this.buttonText,a.buttonText);this.buttonLink=this._validateProp(this.buttonLink,a.buttonLink)},postCreate:function(){k.toggle(this.noDataIcon,"hide",!this.icon);k.toggle(this.noDataTitle,"hide",!this.title);k.toggle(this.noDataMessage,"hide",!this.message);k.toggle(this.noDataButton,"hide",!this.buttonText||!this.buttonLink)},_getDefaultProps:function(){var a;switch(this.type){case "automations":a={icon:"empty-campaigns",title:"You haven't sent any automations yet",
message:"You can set up an automation to trigger for things like an \x3ca href\x3d'http://kb.mailchimp.com/automation/create-an-abandoned-cart-email' target\x3d'_blank'\x3eabandoned cart\x3c/a\x3e, a welcome email, and even to wish a subscriber happy birthday!",buttonText:"Set Up An Automation",buttonLink:"/#/create-campaign/explore/emailCampaign:custom"};break;case "campaigns":a={icon:"empty-campaigns",title:"You haven't sent any campaigns yet",message:"\x3ca href\x3d'http://kb.mailchimp.com/campaigns/ways-to-build/getting-started-with-campaigns' target\x3d'_blank'\x3eCampaigns\x3c/a\x3e are emails, ads, and other messages you share with contacts in your \x3ca href\x3d'http://kb.mailchimp.com/lists/growth/getting-started-with-lists' target\x3d'_blank'\x3elist\x3c/a\x3e.\x3cbr\x3eDon't have any contacts yet? No problem. Design a test email campaign and send it to yourself."};
break;case "comments":a={icon:"empty-comments",title:"Get feedback on this campaign.",message:"Start by \x3ca href\x3d'#' data-dojo-attach-point\x3d'sendTestLink'\x3esending a test email\x3c/a\x3e to your collaborators.\x3cbr\x3eWhen they reply their comments will appear here."};break;case "compliance":a={icon:"empty-notifications",title:"Everything's running smoothly!",message:"Keep up the good work! Check out our \x3ca href\x3d'http://kb.mailchimp.com/accounts/compliance-tips/general-compliance-tips' target\x3d'_blank'\x3ecompliance tips\x3c/a\x3e for best practices and to avoid potential sending pitfalls."};
break;case "ecomm":a={icon:"empty-ecomm",title:"You don't have any eCommerce data yet",message:"Once you have a \x3ca href\x3d'http://kb.mailchimp.com/integrations/e-commerce/how-to-use-mailchimp-for-e-commerce' target\x3d'_blank'\x3estore connected\x3c/a\x3e, you can reset your data here at any time."};break;case "landing-pages-reports":a={icon:"empty-landing-pages-reports",title:"No landing page reports yet",message:"Reports show useful metrics like views and clicks. Ready to start collecting data?",
buttonText:"Create a Landing Page",buttonLink:"/campaigns/#/create-campaign/explore/page"};break;case "ad-recommendations":a={icon:"empty-comments",title:"Nothing to see here",message:"Your ad's doing great so far! Here are some \x3ca href\x3d'https://blog.mailchimp.com/creating-an-effective-facebook-ad-campaign/' target\x3d'_blank'\x3ebest practices\x3c/a\x3e to keep the good vibes going."};break;case "lists":a={icon:"empty-lists",title:"You haven't created a list yet",message:"Lists are where your contacts (aka subscribers!) live. You'll need one of these to send campaigns to the outside world."};
break;case "notifications":a={icon:"empty-notifications",title:"Nothing new to report!"};break;case "organize":a={icon:"empty-general",title:"This folder is empty",message:"\x3ca href\x3d'http://kb.mailchimp.com/campaigns/ways-to-build/organize-campaigns-into-folders/' target\x3d'_blank'\x3eLearn how to organize using folders\x3c/a\x3e"};break;case "payment":a={icon:"empty-payment",title:"Looks like you don't have a payment method on file",buttonText:"Add A Payment Method",buttonLink:"/account/billinginfo/"};
break;case "reports":a={icon:"empty-reports",title:"You don't have any reports yet",message:"After you send your first campaign, you'll be able to see reports on how it performed, who opened it, and more!"};break;case "templates":a={icon:"empty-templates",title:"You don't have any saved templates",message:"A template is a saved design that can be reused when creating email campaigns."};break;case "contact-activity":a={icon:"empty-contact-activity",title:"No activity yet",message:"Subscriber, e-commerce and other activity will show up here"};
break;case "tags":a={icon:"empty-general",title:"You don't have any tags yet",message:"\x3ca href\x3d'https://kb.mailchimp.com/lists/segments/about-auto-update-and-static-segments' target\x3d'_blank'\x3eLearn about tags\x3c/a\x3e"};break;default:a={icon:"empty-general",title:"Goose egg",message:"There's no information available."}}return a},_validateProp:function(a,e){return a||e?null!==a?a:a?a:e:""}})})},"mojo/widgets/content-manager/ContentListItem":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dojo/dom-class dojo/on dojo/_base/lang dojo/_base/array dojo/text!./templates/ContentListItem.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([k,h,f],{templateString:b,contentItem:null,contentManager:null,sourceId:null,contentId:null,contentType:"image",name:"",url:null,thumbnailUrl:null,numVersions:null,meta:"",postMixInProperties:function(){this.sourceId=this.contentItem.sourceId;this.contentId=this.contentItem.contentId;this.contentType=this.contentItem.contentType;this.name=this.contentItem.name;this.url=this.contentItem.url;this.thumbnailUrl=this.contentItem.getThumbnailUrl();this.numVersions=
this.contentItem.numVersions;"file"===this.contentManager.fileList.sourceId&&this.numVersions++;this.meta=d.map(this.contentItem.getDisplayProperties(),function(a){return a.value}).join(" \u00b7 ")},postCreate:function(){e(this.itemInput,"change",m.hitch(this,"handleSelection"));e(this.domNode,"dblclick",m.hitch(this,"handleDblClick"));this.toggleVersionIndicator();c.toggle(this.gridImageNode,"hide","image"!==this.contentType);c.toggle(this.listImageNode,"hide","image"!==this.contentType)},handleDblClick:function(){this.contentManager.select(this.contentItem)},
handleSelection:function(){c.toggle(this.gridImage,"c-fileGridItem--selected")},toggleVersionIndicator:function(){c.toggle(this.gridBadge,"hide",2>this.numVersions);c.toggle(this.listBadge,"hide",2>this.numVersions)}})})},"mojo/widgets/content-manager/DetailsView":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/ready dojo/query dojo/dom-construct dojo/dom-class dojox/lang/functional/object dijit/_WidgetBase dijit/_Templated dijit/registry mojo/utils mojo/url mojo/widgets/TopSliderPane mojo/widgets/ButtonGroup mojo/widgets/content-manager/Api dojo/text!./templates/DetailsView.html dojo/text!./templates/VersionButton.html dojo/text!./templates/PropertyRow.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){var A=l([b,n],{templateString:x});return l([t],{contentManager:null,contentItem:null,currentVersion:null,versionLookUpMap:null,versionGroup:null,overlayClass:"content-manager-details-overlay",templateString:v,sourceId:null,source:null,contentId:null,name:null,_setNameAttr:function(a){this.nameNode.innerText=a;this.fileDescription.innerText=a},url:null,_setUrlAttr:{node:"imageNode",type:"attribute",attribute:"src"},iconUrl:null,_setIconUrlAttr:{node:"fileIcon",
type:"attribute",attribute:"src"},download:null,_setDownloadAttr:{node:"downloadNode",type:"attribute",attribute:"href"},postCreate:function(){a(h.hitch(this,function(){e.place(this.domNode,c("body")[0])}));f(this.closeButton,"click",this.hide.bind(this));f(this.renameLink,"click",this.handleRename.bind(this));f(this.deleteLink,"click",this.handleDelete.bind(this));f(this.insertBtn,"click",this.handleInsert.bind(this));f(this.copyUrlBtn,"click",this.handleCopyUrl.bind(this));f(this.editImageBtn,"click",
this.handleEdit.bind(this));this.render();this.refresh()},show:function(){!1==="forceOnTop"in arguments[0]&&(arguments[0].forceOnTop=!0);this.inherited(arguments)},render:function(){var a=this.contentManager.isActionAvailable("select");m.toggle(this.insertBtn,"hide",!1===a);a=null!==this.source&&(this.source.isActionSupported(w.SOURCE_ACTION_RENAME)||this.source.isActionSupported(w.SOURCE_ACTION_DOWNLOAD)||this.source.isActionSupported(w.SOURCE_ACTION_DELETE));m.toggle(this.actionLinks,"hide",!1===
a);null!==this.contentItem&&(a=!0===this.contentItem.isImage()&&this.source.isActionSupported(w.SOURCE_ACTION_EDIT),m.toggle(this.editImageBtn,"hide",!1===a),m.toggle(this.imageNode,"hide",!1===this.contentItem.isImage()),m.toggle(this.fileMetaContainer,"hide",this.contentItem.isImage()),this._showContentDetails(),this._displayVersions())},refresh:function(){w.getInfo(this.contentId,this.sourceId).then(this._setContentItem.bind(this))},_setContentItem:function(a){this.contentId=a.contentId;this.sourceId=
a.sourceId;this.contentItem=a;this.source=w.getSource(this.sourceId);this._setCurrentVersion(a)},_setCurrentVersion:function(a){this.currentVersion=a;this.render()},_displayVersions:function(){this.revisionLabel.innerText=this.source.revisionUserLabel;var a=0<this.contentItem.versions.length;m.toggle(this.revisionContainer,"hide",!a);a&&(this.versionLookUpMap={},a=[this.contentItem].concat(this.contentItem.versions),a.forEach(function(a,b){this.versionLookUpMap[b.toString()]=a}.bind(this)),this.versionGroup&&
this.versionGroup.destroy(),this.versionGroup=new u({options:a.map(function(a,b){return h.mixin({value:b.toString(),thumbnailUrl:a.getThumbnailUrl(),meta:[a.dimensions,a.size].filter(function(a){return void 0!=a}).join(" \x26middot; ")},a)}),templateString:"\x3cul\x3e\x3c/ul\x3e",itemTpl:y,activeClass:"v-buttonGroupMenuItem--active"}),this.versionGroup.placeAt(this.revisions),this.versionGroup.startup(),a=a.indexOf(this.currentVersion).toString(),this.versionGroup.setSelected(a),this.versionGroup.on("change",
function(a){this._setCurrentVersion(this.versionLookUpMap[a])}.bind(this)))},_showContentDetails:function(){this.set("name",this.contentItem.name);this.set("url",r.addProxy(this.currentVersion.url));this.set("download",this.currentVersion.download);this.set("iconUrl","/images/files/content-manager-"+this.contentItem.contentType+"-white.svg");this._showPropertyRows()},_showPropertyRows:function(){var a=this.contentItem.getDisplayProperties().concat(this.currentVersion.getDisplayProperties()),b={};
k.forEach(a,function(a){b[a.label]=a});a=d.values(b);a=k.map(a,function(a){return new A(a)});k.forEach(p.findWidgets(this.properties),function(a){a.destroyRecursive()});k.forEach(a,function(a){a.placeAt(this.properties);a.startup()},this)},handleRename:function(){this.contentManager.renameContent(this.contentItem).then(this._setContentItem.bind(this))},handleDelete:function(){this.contentManager.deleteFile(this.contentItem.contentId).then(this.hide.bind(this))},handleCopyUrl:function(){this.contentManager.copyUrl(this.currentVersion)},
handleEdit:function(){this._disableActionPane();this.contentManager.editContent(this.currentVersion,this.contentItem.contentId).then(this._enableActionPane.bind(this)).then(this._setContentItem.bind(this))},handleInsert:function(){this.contentManager.select(h.mixin({},this.contentItem,this.currentVersion));this.hide()},_disableActionPane:function(a){m.toggle(this.actionPane,"disabled-container",!0);return a},_enableActionPane:function(a){m.toggle(this.actionPane,"disabled-container",!1);return a}})})},
"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(l,k,h){var f={};k.mixin(h,{keys:function(a){var c=[],e;for(e in a)e in f||c.push(e);return c},values:function(a){var c=[],e;for(e in a)e in f||c.push(a[e]);return c},filterIn:function(a,c,e){e=e||l.global;c=h.lambda(c);var m={},d,b;for(b in a)b in f||(d=a[b],c.call(e,d,b,a)&&(m[b]=d));return m},forIn:function(a,c,e){e=e||l.global;c=h.lambda(c);for(var m in a)m in f||c.call(e,a[m],m,a);return e},
mapIn:function(a,c,e){e=e||l.global;c=h.lambda(c);var m={},d;for(d in a)d in f||(m[d]=c.call(e,a[d],d,a));return m}});return h})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(l,k,h){var f=k.getObject("lang.functional",!0,l),a={},c=1<"ab".split(/a*/).length?String.prototype.split:function(a){var b=this.split.call(this,a);(a=a.exec(this))&&0==a.index&&b.unshift("");return b},e=function(a){var b=[],e=c.call(a,/\s*->\s*/m);if(1<e.length)for(;e.length;)a=
e.pop(),b=e.pop().split(/\s*,\s*|\s+/m),e.length&&e.push("(function("+b.join(", ")+"){ return ("+a+"); })");else if(a.match(/\b_\b/))b=["_"];else{var e=a.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),f=a.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(e||f)e&&(b.push("$1"),a="$1"+a),f&&(b.push("$2"),a+="$2");else{var e=a.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[],m={};h.forEach(e,function(a){m.hasOwnProperty(a)||(b.push(a),m[a]=1)})}}return{args:b,body:a}},m=function(a){return a.length?function(){var b=a.length-1,c=f.lambda(a[b]).apply(this,arguments);for(--b;0<=b;--b)c=f.lambda(a[b]).call(this,c);return c}:function(a){return a}};k.mixin(f,{rawLambda:function(a){return e(a)},buildLambda:function(a){a=e(a);return"function("+a.args.join(",")+"){return ("+a.body+");}"},lambda:function(c){if("function"==typeof c)return c;
if(c instanceof Array)return m(c);if(a.hasOwnProperty(c))return a[c];var b=e(c);return a[c]=new Function(b.args,"return ("+b.body+");")},clearLambdaCache:function(){a={}}});return f})},"mojo/widgets/content-manager/ImportUrlDialog":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/UrlImportDialog.html dojo/on dojo/_base/event dojo/keys dojo/_base/lang dojo/Deferred dijit/Dialog".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([k,h],{templateString:f,dialog:null,
deferred:null,postCreate:function(){this.deferred=new d;var b=a(this.importButton,"click",m.hitch(this,function(a){c.stop(a);b.remove();this.resolve()})),f=a(this.importInput,"keyup",m.hitch(this,function(a){var b=a.charCode||a.keyCode;c.stop(a);b===e.ENTER&&this.importInput.value&&(f.remove(),this.resolve());c.stop(a);b===e.ESCAPE&&(f.remove(),this.cancel())}));a(this.cancelLink,"click",m.hitch(this,function(a){c.stop(a);this.cancel()}))},execute:function(){this.resolve()},resolve:function(){var a=
this.importInput.value;a?(this.deferred.resolve(a),this.dialog.hide()):this.cancel()},cancel:function(){this.deferred.cancel();this.dialog.hide()},show:function(){this.dialog=new b({title:"Import URL",content:this});this.dialog.startup();this.dialog.show();this.importInput.focus()}})})},"mojo/widgets/content-manager/RenameDialog":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/RenameDialog.html dojo/on dojo/dom-attr dojo/_base/event dojo/keys dojo/_base/lang dojo/Deferred dijit/Dialog".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k,h],{templateString:f,dialog:null,deferred:null,name:null,extension:null,postCreate:function(){this.deferred=new b;var e=this.name.lastIndexOf("."),f=this.name.substring(0,e);this.extension=this.name.substring(e);var h=a(this.renameButton,"click",d.hitch(this,function(){h.remove();this.resolve()}));c.set(this.nameInput,"value",f);var m=a(this.cancelButton,"click",d.hitch(this,function(){m.remove();this.cancel()}))},execute:function(){this.resolve()},resolve:function(){var a=
c.get(this.nameInput,"value")+this.extension;this.deferred.resolve(a);this.dialog.hide()},cancel:function(){this.deferred.cancel();this.dialog.hide()},show:function(){this.dialog=new n({title:"Rename File",content:this});this.dialog.startup();this.dialog.show();this.nameInput.select();this.own(a(this.nameInput,"keyup",d.hitch(this,function(a){(a.charCode||a.keyCode)===m.ENTER&&this.renameButton.click()})))}})})},"mojo/widgets/content-manager/UploadProgressWindow":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dijit/_Templated dijit/_Widget dijit/registry dojo/dom-style dojo/dom-class dojo/topic mojo/lib/mimetype mojo/utils mojo/lib/clipboard dojo/text!./templates/UploadProgressWindow.html dojo/text!./templates/UploadProgressItem.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){var u=l("UploadProgressItem",[c,a],{templateString:t,name:null,_setNameAttr:{node:"fileName",type:"innerText"},action:null,_setActionAttr:{node:"link",type:"innerText"},dataUrl:null,promise:null,status:null,postCreate:function(){f(this.link,"click",k.hitch(this,"onLinkClick"));this.promise.then(k.hitch(this,"onUploadFinish"),k.hitch(this,"onUploadError"));this.onUploadStart()},onUploadStart:function(){this._setProgress(10);this.type=this.type||"none";this._setThumbnail(this._getGenericFileIcon(this.type),
!0);this.set("status","uploading")},onUploadFinish:function(a){this._hideProgress();this.contentItem=a;this._setThumbnail(a.getThumbnailUrl()||this._getGenericFileIcon(this.type));this.set("status","finished");this.set("action","Copy URL")},onUploadError:function(a){this._hideProgress();d.toggle(this.link,"hide",!0);this.set("status","error");this.set("name","Failed to upload")},isUploading:function(){return"uploading"===this.status},onLinkClick:function(){this.contentItem&&(q.copy(this.contentItem.url),
p.globalPublish("show-toast",[{message:"The file URL is copied\u2014paste when you're ready.",type:"success"}]))},_setProgress:function(a){m.set(this.progress,"width",a+"%")},_hideProgress:function(){d.toggle(this.progressMeter,"hide",!0)},_setThumbnail:function(a,b){m.set(this.thumbnail,"backgroundImage","url('"+a+"')");b&&d.add(this.thumbnail,"icon")},_getGenericFileIcon:function(a){a=n.isPlainText(a)?"text":n.isImage(a)?"imageother":n.isAudio(a)||0===a.indexOf("audio")?"audio":n.isDocument(a)?
"document":n.isSpreadsheet(a)?"spreadsheet":n.isPresentation(a)?"presentation":"unknown";return"/images/files/file-manager-"+a+"-small.svg"}});return l("UploadProgressWindow",[c,a],{templateString:r,baseClass:"fileUploader",isShowing:!1,isMinimized:!1,defaultAction:"view",titleText:"Upload Manager",_setTitleTextAttr:{node:"title",type:"innerText"},postCreate:function(){f(this.closeButton,"click",k.hitch(this,"close"));f(this.minimizeButton,"click",k.hitch(this,"minimize"));b.subscribe("mojo/content-manager/api/upload",
k.hitch(this,"onUpload"))},onUpload:function(a){if(!0!==a.skipUploadPane){var b=a.file;a=a.promise;var c=new u({name:"Uploading...",dataUrl:b.data||b.data_url,promise:a,type:b.type});a.then(k.hitch(this,function(a){c.set("name",a.name);this.updateTitle()}));c.placeAt(this.uploadList,"first");this.open()}},open:function(){d.toggle(this.domNode,"hide",!1);this.updateTitle()},minimize:function(){d.toggle(this.uploadList,"hide")},close:function(){d.toggle(this.domNode,"hide",!0);d.toggle(this.uploadList,
"hide",!1);this.uploadList.innerHtml=""},updateTitle:function(){var a=this.uploadList.children.length,b=h.filter(this.uploadList.children,function(a){return!1===e.byNode(a).isUploading()}).length;this.set("titleText","Uploading "+b+" of "+a+" ("+Math.round(b/a*100)+"%)")}})})},"mojo/lib/mimetype":function(){define([],function(){return{isImage:function(l){return this._startsWith("image",l)},isAudio:function(l){return this._startsWith("audio",l)},isVideo:function(l){return this._startsWith("video",
l)},isPlainText:function(l){return this._startsWith("text",l)},isDocument:function(l){return-1!=["application/msword","application/rtf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.oasis.opendocument.text","application/pdf"].indexOf(l)},isSpreadsheet:function(l){return-1!=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.oasis.opendocument.spreadsheet"].indexOf(l)},isPresentation:function(l){return-1!=
["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.oasis.opendocument.presentation"].indexOf(l)},_startsWith:function(l,k){return k.substr(0,l.length)==l}}})},"mojo/widgets/content-manager/ConfirmOverwriteBrandLogoDialog":function(){define("dojo/_base/declare dojo/_base/event dojo/_base/lang dijit/_Widget dijit/_Templated dijit/Dialog dojo/on dojo/dom-attr dojo/keys dojo/Deferred dojo/text!./templates/ConfirmOverwriteBrandLogoDialog.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([f,a],{templateString:n,dialog:null,deferred:null,postCreate:function(){this.deferred=new b;var a=e(this.confirmButton,"click",function(){a.remove();this.resolve()}.bind(this)),c=e(this.cancelButton,"click",function(){c.remove();this.cancel()}.bind(this))},execute:function(){this.resolve()},resolve:function(){this.deferred.resolve();this.dialog.hide()},cancel:function(){this.deferred.cancel();this.dialog.hide()},getPromise:function(){return this.deferred.promise},
show:function(){this.dialog=new c({title:"Update default logo",content:this});this.dialog.startup();this.dialog.show()}})})},"mojo/widgets/ChatButtonZopim":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ChatButtonZopim.html dojo/request/xhr mojo/url mojo/user mojo/lib/flags dojo/_base/lang dojo/on dojo/dom-style dojo/dom-class mojo/lib/logger dojo/_base/array mojo/support/chat mojo/utils".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([k,
h],{templateString:f,chatUrl:"",department:"none",tag:"none",referral:"none",postCreate:function(){var a=this,d=this.chatFormButton,e=new t,f="";"kb.mailchimp.com"===u.getUrlHostname(document.referrer)&&(f=u.getUrlPath(document.referrer));e.getChatDeptStatus(function(a){a?p.remove(d,"js-hide"):p.add(d,"js-hide")});b(d,"click",function(){window.open(c.toUrl("/support/chat-form",{pt:a.department,tg:a.tag,ref:a.referral,slg:f}),"_blank","height\x3d555,width\x3d350")})}})})},"mojo/support/chat":function(){define(["dojo/_base/declare",
"dojo/request/xhr","mojo/url","dojo/_base/lang","dojo/Deferred"],function(l,k,h,f,a){return l(null,{userData:null,constructor:function(){window.$zopim||function(a,e){var f=$zopim=function(a){f._.push(a)},d=f.s=a.createElement(e),b=a.getElementsByTagName(e)[0];f.set=function(a){f.set._.push(a)};f._=[];f.set._=[];d.async=!0;d.setAttribute("charset","utf-8");d.src="//v2.zopim.com/?3b6ziEnZVB74oBc8AtnqB7kdH8QS4Zst";f.t=+new Date;d.type="text/javascript";b.parentNode.insertBefore(d,b)}(document,"script");
$zopim(function(){$zopim.livechat.hideAll()});this.userData=k.get(h.toUrl("kb/get-support-settings"),{handleAs:"json"})},getChatDeptStatus:function(a){this.userData.then(f.hitch(this,function(e){if(e.userData){var f=e.userData;$zopim(function(){$zopim.livechat.setOnConnected(function(){var d=$zopim.livechat.departments.getDepartment,d="pro"===f.user_level||!0===f.golden_monkey?d("pro"):d("technical-support");void 0===d&&(d={status:"offline"});"online"===d.status?a(!0):a(!1)})})}}))}})})},"mojo/widgets/CheckboxButtonToggle":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dojo/on dojo/query dojo/_base/array dojo/parser dojo/_base/lang dojo/dom dojo/dom-class dijit/registry dojo/ready".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([k,h],{constructor:function(){this._checked=[]},postCreate:function(){var a=this;p(function(){var c=n.findWidgets(a.domNode);c&&c.forEach(function(c,d){a._checked[d]=c.checked;f(c,"change",function(){b.toggle(a.submitButton,"disabled",a.checkStatus(d))})})})},checkStatus:function(a){var b=this;a=n.findWidgets(this.domNode);this._values=[];if(a)return a.forEach(function(a,c){b._values.push(a.checked)}),JSON.stringify(b._values)===JSON.stringify(b._checked)}})})},
"mojo/widgets/CircularLoader":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/dom dojo/query dojo/dom-construct d3/d3".split(" "),function(l,k,h,f,a,c,e){var m=2*Math.PI;return l([k],{bgColor:"#efefef",color:"#2c9ab7",loaderSize:50,animate:!0,strokeWidth:5,animDuration:3500,isAnim:!0,center:null,radius:null,postMixInProperties:function(){this.center={x:this.loaderSize/2,y:this.loaderSize/2};this.radius=this.loaderSize/2;!1===this.animate&&(this.isAnim=!1)},buildRendering:function(){this.inherited(arguments);
this.svg=e.select(this.domNode).append("svg").attr("width",this.loaderSize).attr("height",this.loaderSize).append("g").attr("transform","translate("+this.loaderSize/2+","+this.loaderSize/2+")");this.arc=e.svg.arc().innerRadius(this.radius-this.strokeWidth).outerRadius(this.radius);this.background=this.svg.append("path").datum({startAngle:1E-6,endAngle:m}).style("fill",this.bgColor).attr("d",this.arc);this.foreground=this.svg.append("path").attr("id","path-"+this.id).attr("clip-path","url(#clipPath-"+
this.id+")").datum({startAngle:1E-6,endAngle:1E-6}).style("fill",this.color).attr("d",this.arc);this.foregroundMask=this.svg.append("clipPath").attr("id","clipPath-"+this.id);this.foregroundMask.append("path").datum({startAngle:1E-6,endAngle:m}).style("fill","#990000").attr("d",this.arc)},postCreate:function(){this.render()},render:function(){this.animate&&this._animateLoader()},_animateLoader:function(){var a=this,b=function(b,c){b.attrTween("d",function(b){var f=e.interpolate(b.endAngle,c);return function(c){b.endAngle=
f(c);return a.arc(b)}})},c=function(b,c){b.attrTween("d",function(b){var f=e.interpolate(b.startAngle,c);return function(c){b.startAngle=f(c);return a.arc(b)}})};if(this.isAnim){a.foreground.transition().delay(.28*a.animDuration).duration(.43*a.animDuration).call(b,m).each("end",function(c,e){a.foreground.transition().duration(999).call(b,1E-6)});var f=a.foregroundMask.select("path");f.transition().delay(.43*a.animDuration).duration(.28*a.animDuration).call(c,m).each("end",function(b,e){f.transition().duration(999).call(c,
1E-6);a._animateLoader()})}},start:function(){this.isAnim||(this.isAnim=!0,this._animateLoader())},stop:function(){this.isAnim=!1},destroy:function(){this.svg&&c.destroy(this.svg[0][0].ownerSVGElement);this.inherited(arguments)}})})},"mojo/widgets/Clock":function(){define(["dojo/_base/declare","dijit/_Widget","d3/d3"],function(l,k,h){return l([k],{setTime:function(f){this.time=f;h.selectAll(".clock").remove();this.render()},render:function(){function f(a,b,c){if("minutes"===a.unit)return h.interpolate("rotate(0)",
"rotate("+x(+a.value)*(180/Math.PI)+")");if("hours"===a.unit)return h.interpolate("rotate(0)","rotate("+(A(+a.value%12)+z(y))*(180/Math.PI)+")")}var a=this.time.split(":"),c=[{unit:"minutes",value:a[1]},{unit:"hours",value:a[0]}],e=this.width||36,m=this.height||36,a=this.strokewidth||2,d=this.cfill||"none",b=this.cborder||"#FEBE12",k=this.chand||"#FEBE12",l=this.ccolor||"#FEBE12",q=this.transition,r=e/2,t,u,w,v,y,x=h.scale.linear().domain([0,59+59/60]).range([0,2*Math.PI]),A=h.scale.linear().domain([0,
11+59/60]).range([0,2*Math.PI]),z=h.scale.linear().domain([0,59+59/60]).range([0,Math.PI/6]),e=h.select(this.domNode).append("svg:svg").attr("class","clock").attr("width",e).attr("height",m).append("svg:g").attr("transform","translate("+r+","+r+")");e.append("svg:circle").attr("class","clockface").attr("r",r-a).attr("fill",d).attr("stroke",b).attr("stroke-width",a);u=h.svg.arc().innerRadius(0).outerRadius(2/3*r).startAngle(0).endAngle(0);w=h.svg.arc().innerRadius(0).outerRadius(2/3*r).startAngle(function(a){return x(+a.value)}).endAngle(function(a){return x(+a.value)});
t=h.svg.arc().innerRadius(0).outerRadius(.5*r).startAngle(0).endAngle(0);v=h.svg.arc().innerRadius(0).outerRadius(.5*r).startAngle(function(a){return A(+a.value%12)+z(y)}).endAngle(function(a){return A(+a.value%12)+z(y)});c=e.selectAll(".clockhand").data(c).enter().append("svg:path").attr("class","clockhand").attr("stroke",k).attr("stroke-width",a).attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("fill","none");q?c.attr("d",function(a){if("minutes"===a.unit)return y=+a.value,u();
if("hours"===a.unit)return t()}).transition().delay(333).duration(666).attrTween("transform",f):c.attr("d",function(a){if("minutes"===a.unit)return y=+a.value,w(a);if("hours"===a.unit)return v(a)});return e.append("svg:circle").attr("class","centerdot").attr("r",1.5).attr("fill","#fff").attr("stroke",l).attr("stroke-width",a)},postCreate:function(){this.render()}})})},"mojo/widgets/Coachmark":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/_base/array dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/dom-geometry dojo/dom dojo/dom-style dojo/dom-class dojo/query dojo/on dojo/dom-attr dojo/aspect mojo/utils mojo/user dojo/text!./templates/coachmark.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){return l([k,h],{coachmarkId:null,mainAttach:null,defaultAttach:"content",step:null,templateString:'\x3cdiv class\x3d"coachmark-wrapper"\x3e\x3c/div\x3e',postMixInProperties:function(){if(!(this.coachmarks&&this.coachmarks instanceof Array))throw Error("You must specify an array of coachmarks");this.inherited(arguments)},postCreate:function(){n.contains(p("body")[0],this.target)&&this.init()},init:function(){if(w.showCoachmarks){this.step=w.coachmarks[this.id];
this.step||(this.step=0);this.coachmarkId||(this.coachmarkId=this.id);if(this.mainAttach){var b=p(this.mainAttach)[0];if(b)e.place(this.domNode,b);else throw Error("The mainAttach container you passed could not be found.");}else e.place(this.domNode,p(d.byId(this.defaultAttach))[0],"last");f.forEach(this.coachmarks,a.hitch(this,function(b,c){b.domNode=e.place(a.replace(v,b),this.domNode);b.coachmarkItem=p(".coachmark",b.domNode)[0];b.attachDom=p(b.attach)[0];b.mobileAttach&&(b.mobileAttachDom=p(b.mobileAttach)[0]);
b.tabletAttach&&(b.tabletAttachDom=p(b.tabletAttach)[0]);if(!b.attachDom)throw Error("You must specify an attach point for the "+b.id+" coachmark.");var d=[];n.add(b.domNode,"step-"+(c+1));b.bg||n.add(b.domNode,"nobg");b.fixed&&n.add(b.coachmarkItem,"fixed");b.id&&n.add(b.domNode,b.id);d.length&&p(".coachmark",b.domNode).addClass(d);this.positionCoachmark(b);c===this.step&&(setTimeout(function(){n.add(b.domNode,"active")},50),this.instantiateAttachClickHandlers(b))}));p(".next-button",this.domNode).on("click",
a.hitch(this,"advanceCoachmark"));this.onActive()}},instantiateAttachClickHandlers:function(a){var b=this;this.currentAttachClickHandler=q(a.attachDom,"click",function(a){b.advanceCoachmark(a)});a.mobileAttach&&(this.currentMobileAttachClickHandler=q(a.mobileAttachDom,"click",function(a){b.advanceCoachmark(a)}));a.tabletAttach&&(this.currentTabletAttachClickHandler=q(a.tabletAttachDom,"click",function(a){b.advanceCoachmark(a)}))},destroyAttachClickHandlers:function(a){this.currentAttachClickHandler&&
this.currentAttachClickHandler.remove();this.currentMobileAttachClickHandler&&this.currentMobileAttachClickHandler.remove();this.currentTabletAttachClickHandler&&this.currentTabletAttachClickHandler.remove()},onActive:function(){var a=this;a.repositionTimer={};a.scrollTimer={};this.repositionListener=this.own(q(window,"resize",function(){clearTimeout(a.repositionTimer);a.repositionTimer=setTimeout(function(){w.coachmarks[a.id]&&w.coachmarks[a.id]>a.step||f.forEach(a.coachmarks,function(b,c){c===a.step&&
(b.attachDimensions=m.position(b.attachDom),a.positionCoachmark(b))})},350)}));mojo.nav&&t.after(mojo.nav,"toggleProMode",function(){setTimeout(function(){w.coachmarks[a.id]&&w.coachmarks[a.id]>a.step||f.forEach(a.coachmarks,function(b,c){c===a.step&&(b.attachDimensions=m.position(b.attachDom),a.positionCoachmark(b))})},250)})},positionCoachmark:function(c){if("undefined"===typeof c.coachmarkDimensions||0===c.coachmarkDimensions.w&&0===c.coachmarkDimensions.h)c.coachmarkDimensions=m.position(c.coachmarkItem),
this.positionTimeout=setTimeout(a.hitch(this,function(){this.positionCoachmark(c)}),10);else{var e=c.desktopPosition;c.attachDimensions=m.position(c.attachDom);if("xlphone"==u.getCurrentBreakpoint()||"tablet"==u.getCurrentBreakpoint())c.mobilePosition&&(e=c.mobilePosition),c.mobileAttach&&(c.attachDimensions=m.position(c.mobileAttachDom));"tablet"==u.getCurrentBreakpoint()&&(c.tabletPosition&&(e=c.tabletPosition),c.tabletAttach&&(c.attachDimensions=m.position(c.tabletAttachDom)));var f,h,k;this.mainAttach?
m.position(p(this.mainAttach)[0]):k=m.position(p(d.byId(this.defaultAttach))[0]);switch(e){case "left-center":f=c.attachDimensions.y+c.attachDimensions.h/2-c.coachmarkDimensions.h/2;h=c.attachDimensions.x+(c.attachDimensions.w+65);this.mainAttach||(h-=k.x,f-=k.y);coachmarkPosition={top:f,left:h};break;case "left-top":f=c.attachDimensions.y+(c.attachDimensions.h/2-65);h=c.attachDimensions.x+(c.attachDimensions.w+65);this.mainAttach||(h-=k.x,f-=k.y);coachmarkPosition={top:f,left:h};break;case "right-center":f=
c.attachDimensions.y+c.attachDimensions.h/2-c.coachmarkDimensions.h/2;h=c.attachDimensions.x-c.coachmarkDimensions.w-c.attachDimensions.w/2;this.mainAttach||(h-=k.x,f-=k.y);coachmarkPosition={top:f,left:h};break;case "top-right":f=c.attachDimensions.y+c.attachDimensions.h+65;h=c.attachDimensions.x-c.coachmarkDimensions.w+c.attachDimensions.w/2+20;this.mainAttach||(h-=k.x,f-=k.y);coachmarkPosition={top:f,left:h};break;case "top-left":f=c.attachDimensions.y+c.attachDimensions.h+65;h=c.attachDimensions.x;
this.mainAttach||(h-=k.x,f-=k.y);coachmarkPosition={top:f,left:h};break;case "bottom-left":f=c.attachDimensions.y-c.attachDimensions.h-c.coachmarkDimensions.h-65;h=c.attachDimensions.x;coachmarkPosition={top:f,left:h};break;default:f=c.attachDimensions.y+c.attachDimensions.h/2-c.coachmarkDimensions.h/2,h=c.attachDimensions.x+(c.attachDimensions.w+65),this.mainAttach||(h-=k.x,f-=k.y),coachmarkPosition={top:f,left:h}}n.remove(c.coachmarkItem,this.coachmarkPositions);n.add(c.coachmarkItem,"cm-"+e);b.set(c.coachmarkItem,
{top:parseInt(coachmarkPosition.top,10)+"px",left:parseInt(coachmarkPosition.left,10)+"px"})}},coachmarkPositions:"cm-top-left cm-top-center cm-top-right cm-right-top cm-right-center cm-right-bottom cm-bottom-left cm-bottom-center cm-bottom-right cm-left-bottom cm-left-center cm-left-top".split(" "),advanceCoachmark:function(b){b.preventDefault();b.stopPropagation();this.step++;this.markAsViewed();this.destroyAttachClickHandlers();p(".coachmark-item",this.domNode).forEach(a.hitch(this,function(a,
b){n.remove(a,"active");b===this.step&&(n.toggle(a,"active"),this.coachmarks[b].attachDimensions=m.position(this.coachmarks[b].attachDom),this.positionCoachmark(this.coachmarks[b]),this.instantiateAttachClickHandlers(this.coachmarks[b]))}));this.coachmarks.length<=this.step&&n.remove(this.domNode,"active")},markAsViewed:function(){this.coachmarkId&&w.markCoachmark(this.coachmarkId,this.step)}})})},"mojo/widgets/CodeEditor":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Templated dojo/text!./templates/CodeEditor.html dojo/on dojo/dom dojo/dom-attr dojo/dom-style dojo/html dojo/_base/lang dojo/dom-construct dojo/dom-class dijit/registry dojo/query mojo/app/wizard mojo/user mojo/utils mojo/widgets/FileManager dojo/topic codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return l([k,h],{templateString:f,id:"code-editor",widgetsInTemplate:!0,constructor:function(a){b.mixin(this,a);if(!this.targetContainer)throw Error("A targetContainer that specifies where the editor should be placed is required.");if(!this.iframe)throw Error("An iframe is required so that CodeEditor knows where to refresh when changes are made.");},postCreate:function(){this.iframe=r(this.iframe)[0];this.targetContainer=r(this.targetContainer)[0];
n.place(this.domNode,this.targetContainer);e.set(this.editorTextarea,"value",this.contentToEdit);this.applyCodeMirrorToDom(this.editorTextarea);a(this.saveButton,"click",b.hitch(this,function(a){a.preventDefault();this._updateTimer&&clearTimeout(this._updateTimer);w.toggleButtonLoadingState(this.saveButton,"saving...");this.updateContentFromCodeMirror(this.getHTML())}));a(this.fullScreenButton,"click",b.hitch(this,function(a){a.preventDefault();p.toggle(this.codeEditor,"fixed");a=r("span.freddicon",
this.fullScreenButton)[0];p.toggle(a,["maximize","minimize"])}));a(this.fileManagerButton,"click",b.hitch(this,function(a){a.stopPropagation();a.preventDefault();v.isShown()||v.show({actions:"copy"})}));y.subscribe("mojo/filemanager/action",function(a,b){v.hide()})},applyCodeMirrorToDom:function(a){this._textArea=a;if(null!==this._textArea){this.editorInstance=x.fromTextArea(this._textArea,{mode:"htmlmixed",autofocus:!0,tabMode:"indent",indentUnit:2,smartIndent:!1,theme:this.editorTheme,autoClearEmptyLines:!0,
lineWrapping:!0,lineNumbers:!0,extraKeys:{"Ctrl-S":b.hitch(this,function(a){clearTimeout(this._updateTimer);w.toggleButtonLoadingState(this.saveButton,"saving...");this.updateContentFromCodeMirror(this.getHTML());return!1}),"Cmd-S":b.hitch(this,function(a){clearTimeout(this._updateTimer);w.toggleButtonLoadingState(this.saveButton,"saving...");this.updateContentFromCodeMirror(this.getHTML());return!1})}});var c=this.editorInstance.addLineClass(0,"activeline");this.editorInstance.on("cursorActivity",
b.hitch(this,function(){var a=this.editorInstance.getLineHandle(this.editorInstance.getCursor().line);a!=c&&(this.editorInstance.removeLineClass(c,"background","activeline"),c=this.editorInstance.addLineClass(a,"background","activeline"))}));this.editorInstance.on("change",b.hitch(this,function(){clearTimeout(this._updateTimer);this._textArea.value=this.getHTML();this._updateTimer=setTimeout(b.hitch(this,function(){w.toggleButtonLoadingState(this.saveButton,"saving...");this.updateContentFromCodeMirror(this.getHTML())}),
3E3)}));this.editorInstance.focus()}},_updateTimer:{},updateContentFromCodeMirror:function(a){t.showIframeLoadingMessage(this.iframe);var b=this;switch(this.editingType){case "template":t.syncTemplateHtml(this.modelId,a,!0).then(function(){t.refreshIframes();w.toggleButtonLoadingState(b.saveButton)});break;default:var c=q.byId("inline-css")&&q.byId("inline-css").checked?"Y":"N";t.syncCampaignHtml(a,c,!0).then(function(){t.refreshIframes();w.toggleButtonLoadingState(b.saveButton)})}},changeTheme:function(a){this.editorInstance.setOption("theme",
a);u.saveSetting("code_mirror_theme",a)},getHTML:function(){return this.editorInstance.getValue()}})})},"mojo/widgets/ColorPicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/query dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/string dojox/widget/ColorPicker dijit/focus dojo/on dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){return l(d,{animatePoint:!1,customColors:{},attachInput:null,inputBlurHandler:null,customColorTemplate:"\x3cli class\x3d'mojoCustomColor' style\x3d'background:${color}'\x3e\x26nbsp\x3c/li\x3e",
customColorContainerTemplate:"\x3ctd colspan\x3d'3'\x3e\x3cdiv class\x3d'mojoCustomColorContainer'\x3e\x3clabel class\x3d'above0 mojoCustomColorLabel'\x3e${label}\x3c/label\x3e\x3cul class\x3d'mojoCustomColors'\x3e\x3c/ul\x3e\x3cdiv class\x3d'clear'/\x3e\x3c/div\x3e\x3c/td\x3e",_createColor:function(b,c){var d=m.substitute(this.customColorTemplate,{color:c}),h=a.place(d,f("ul.mojoCustomColors",b)[0]);this.connect(h,"onclick",function(){this.setColor(e.get(h,"backgroundColor"),!0)})},_setTimer:function(a){if(a.node==
this.cursorNode||a.node==this.hueCursorNode)b.focus(a.node),h.setSelectable(this.domNode,!1),this._timer=setInterval(k.hitch(this,"_updateColor"),45)},_setHuePoint:function(a){var d=this.PICKER_HUE_SELECTOR_H/2,f=c.position(this.hueNode,!0);a=a.pageY-f.y-d;this.animatePoint?fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:a,left:0,onEnd:k.hitch(this,function(){this._updateColor(!0);b.focus(this.hueCursorNode)})}).play():(e.set(this.hueCursorNode,"top",a+"px"),this._updateColor(!1))},
_setPoint:function(a){var d=this.PICKER_SAT_SELECTOR_H/2,f=this.PICKER_SAT_SELECTOR_W/2,h=c.position(this.colorUnderlay,!0),d=a.pageY-h.y-d,f=a.pageX-h.x-f;a&&b.focus(a.target);this.animatePoint?fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:d,left:f,onEnd:k.hitch(this,function(){this._updateColor(!0);b.focus(this.cursorNode)})}).play():(e.set(this.cursorNode,{left:f+"px",top:d+"px"}),this._updateColor(!1))},_updateColor:function(){this.inherited(arguments,[!0])},postCreate:function(){this.inherited(arguments);
for(var b in this.customColors)if(this.customColors[b].length){this.customColorsNode=a.create("tr");f("\x3e tbody",this.domNode).append(this.customColorsNode);for(var c=m.substitute(this.customColorContainerTemplate,{label:b}),c=a.place(c,this.customColorsNode),d=0;d<this.customColors[b].length;d++)this._createColor(c,this.customColors[b][d])}e.set(this.domNode,{position:"absolute",display:"none"})},attachTo:function(a){this.attachInput!==a&&(this.attachInput=a,this.setColor(a.value));return this},
show:function(a){var b=this,d=n(document,"click",function(a){f(a.target).parents(".dojoxColorPicker").length||a.target===b.attachInput||(d.remove(),b.hide())});this.startup();a||(a=c.position(this.attachInput,!0),a={top:a.y+a.h+"px",left:a.x+"px"});a.display="block";e.set(this.domNode,a)},hide:function(){e.set(this.domNode,"display","none")}})})},"mojo/widgets/ConfirmInput":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/on dojo/query dojo/dom-attr dojo/text!./templates/confirmInput.html dojo/NodeList-traverse dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e){return l([k,h],{templateString:e,confirm:"CONFIRM",helptip:"",error:"Please enter the text exactly as it is displayed to confirm.",active:!0,postCreate:function(){var c=a(this.domNode).closest("form"),d=this;c&&f(c,"submit",function(a){d.active&&!d.validate()&&(a.stopImmediatePropagation(),a.preventDefault())})},validate:function(){if(c.get(this.confirmInput,"value")!=this.confirm)return a(this.confirmError).style("display","").html(this.error),!1;a(this.confirmError).style("display",
"none");window.scrollTo(0,0);return!0},clearInputField:function(){this.confirmInput.value=""}})})},"mojo/widgets/ContactCopy":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_WidgetsInTemplateMixin dojo/dom dojo/on dojo/request/xhr dojo/ready mojo/url".split(" "),function(l,k,h,f,a,c,e,m,d){return l([k,h,f],{startup:function(){c(this.select,"change",this._onChange.bind(this))},_onChange:function(a){a=this.select.value;"0"!==a&&this._getContactFormData(a).then(this._setFormData.bind(this))},
_getContactFormData:function(a){return e.post(d.toUrl("account/copy-from"),{data:{from:a},handleAs:"json"})},_setFormData:function(b){for(var d in b)if(a.byId(d)){var e=b[d];a.byId(d).value=e;c.emit(a.byId(d),"change",{bubbles:!0,cancelable:!0})}}})})},"mojo/widgets/ContactSupportForm":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/contact-support-form.html dijit/registry dojo/query dojo/on dojo/io-query dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-form dojo/dom dojo/html dojo/parser mojo/utils mojo/url mojo/lib/logger velocity/velocity dojo/request/xhr dojo/NodeList-traverse dojo/NodeList-manipulate velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z){return l([k,h],{templateString:f,widgetsInTemplate:!0,fields:{},is_logged_in:!1,site_key:null,constructor:function(a,b){this.is_logged_in=a||!1;this.site_key=b},postCreate:function(){this.inherited(arguments);this._checkForSupportKnob();this._checkForKbRef();z.get(y.toUrl("kb/get-support-settings"),{handleAs:"json"}).then(b.hitch(this,function(a){a.userData&&(a.userData.name&&q.set(t.byId("name"),"value",a.userData.name),a.userData.username&&q.set(t.byId("username"),
"value",a.userData.username),a.userData.email&&q.set(t.byId("email"),"value",a.userData.email))})).then(b.hitch(this,function(){this.is_logged_in||(window.grecaptcha.render("captcha-container",{sitekey:this.site_key,theme:"light"}),p.remove(t.byId("captcha-wrapper"),"hide"),p.remove(t.byId("screenshotDiv"),"!margin-bottom--lv5"))}));var a=this;e(this.formNode,"submit",function(b){b.preventDefault();b.stopPropagation();q.set("submit","disabled",!0);z.post(y.toUrl("kb/contact-form-post"),{data:a._getFormData(),
headers:{"Content-Type":!1},handleAs:"json"}).then(function(b){if(b.success)n.place('\x3cdiv class\x3d"feedback-block success section"\x3e\x3cdiv class\x3d"lastUnit size1of1"\x3e\x3cdiv class\x3d"media"\x3e\x3cdiv class\x3d"media-image"\x3e\x3cspan class\x3d"freddicon tick-circle-large"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"media-body "\x3e\x3ch4\x3eAll done\x3c/h4\x3e'+b.message+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",a.formNode,"only"),!0===b.is_logged_in&&x.info("support","Help-TechnicalSupport-SendEmailSuccess",
{endpoint:x.stdPath(window.location.pathname)});else{q.set("submit","disabled",!1);c(".invalid-error, .feedback-block",this.domNode).forEach(n.destroy);c("input, select, textarea",this.domNode).removeClass("invalid valid");n.place('\x3cdiv class\x3d"feedback-block error section"\x3e\x3cdiv class\x3d"lastUnit size1of1"\x3e\x3cdiv class\x3d"media"\x3e\x3cdiv class\x3d"media-image"\x3e\x3cspan class\x3d"freddicon cross-circle-large"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"media-body "\x3e\x3ch4\x3eIt seems there is a problem\x3c/h4\x3e'+
b.message+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",a.formNode,"first");for(var d in b.errors){var e=c("[name\x3d"+d+"]",a.formNode);e.addClass("invalid");e.closest("fieldset").after('\x3cdiv class\x3d"invalid-error"\x3e'+b.errors[d]+"\x3c/div\x3e")}!0===b.is_logged_in&&x.info("support","Help-TechnicalSupport-SendEmailError",{endpoint:x.stdPath(window.location.pathname)})}})})},startup:function(){var b=this;this.inherited(arguments);w.parse(this.formNode).then(function(){c("[data-topics]",
this.domNode).addClass("hide");e(a.byId("topic"),"change",function(){b._showRecommendedArticles(this.value);b._showRelatedFields(this.value)});var f=c("[name\x3d'have-ticket']",b.domNode),h=c("[data-element\x3d'subject']")[0];d.forEach(f,function(a){e(a,"change",function(){h.children[0].innerHTML="yes"===a.value?"Ticket Number":"Subject"})})})},_getFormData:function(){var a=new FormData,b=r.toObject(this.formNode),c;for(c in b)b.hasOwnProperty(c)&&a.append(c,b[c]);(b=t.byId("screenshot").files[0])&&
a.append("screenshot",b);return a},_showRecommendedArticles:function(a){var b=t.byId("recommended-articles"),d=c(".open",this.domNode),e=c('[data-element\x3d"'+a+'"]',this.dommNode)[0];0<d.length?(d.removeClass("open"),A(d,"transition.slideUpOut",{complete:function(){"undefined"===typeof e?p.add(b,"hide"):(p.add(e,"open"),A(e,"transition.slideDownIn",450))},duration:450})):"undefined"!=typeof e&&(p.remove(b,"hide"),p.add(e,"open"),A(e,"transition.slideDownIn",450))},_showRelatedFields:function(a){c("[data-topics]",
this.domNode).forEach(function(b,c,e){c=JSON.parse(q.get(b,"data-topics"));-1!=d.indexOf(c,a)?p.remove(b,"hide"):p.add(b,"hide")})},_checkForSupportKnob:function(){var a=window.location.href,a=a.substring(a.indexOf("?")+1,a.length),a=m.queryToObject(a);a.ref&&n.create("input",{type:"hidden",value:a.ref,name:"ref"},this.formNode,"last")},_checkForKbRef:function(){"kb.mailchimp.com"===v.getUrlHostname(document.referrer)&&n.create("input",{type:"hidden",value:v.getUrlPath(document.referrer),name:"kb_slg"},
this.formNode,"last")}})})},"mojo/widgets/CountRemainingCharacters":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/query dojo/on dojo/sniff mojo/utils dijit/_Widget".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([b],{regexAstralSymbols:/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,characters:280,postCreate:function(){this.defaultText||(this.domNode.innerHTML=this.characters+" characters");if(this.inputField){this.countTextNormal=a.contains(this.domNode,"font-weight--normal")?
!0:!1;var b=e.selector("#"+this.inputField,"keyup");this.own(e(window.document,b,this._handleKeyup.bind(this)));this.shouldCountOnBoot&&(b=c("#"+this.inputField),0!==b.length&&this._countRemainingCharacters(b[0]))}},_handleKeyup:function(a){this._countRemainingCharacters(a.target)},_countRemainingCharacters:function(b){var c=b.value.replace(this.regexAstralSymbols,"_").length;b.value.match(this.regexAstralSymbols)&&f.has(b,"maxlength")&&m("chrome")&&(c=b.value.length);this.remaining=this.characters-
c;var e=null;0>=c?(e=this.characters+" characters",f.set(b,"maxlength",this.characters)):e=this.remaining+d.plural(this.characters-c," character")+" remaining";this.domNode.innerHTML=e;a.toggle(this.domNode,"v-textColor--error opaque",10>this.remaining);this.countTextNormal&&a.toggle(this.domNode,"font-weight--normal",10<=this.remaining)}})})},"mojo/widgets/CountUp":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin"],function(l,k,h){var f=function(a,c,e,f,d,b){for(var h=
0,k=["webkit","moz","ms","o"],l=0;l<k.length&&!window.requestAnimationFrame;++l)window.requestAnimationFrame=window[k[l]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[k[l]+"CancelAnimationFrame"]||window[k[l]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,b){var c=(new Date).getTime(),d=Math.max(0,16-(c-h)),e=window.setTimeout(function(){a(c+d)},d);h=c+d;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});
this.easeOutExpo=function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)*1024/1023+b};this.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",postFormatter:null,easingFn:null};for(var r in b)b.hasOwnProperty(r)&&(this.options[r]=b[r]);""===this.options.separator&&(this.options.useGrouping=!1);this.options.prefix||(this.options.prefix="");this.options.suffix||(this.options.suffix="");this.options.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo;this.d="string"===typeof a?
document.getElementById(a):a;this.startVal=Number(c);this.endVal=Number(e);this.countDown=this.startVal>this.endVal;this.frameVal=this.startVal;this.decimals=Math.max(0,f||0);this.dec=Math.pow(10,this.decimals);this.duration=1E3*Number(d)||2E3;var t=this;this.version=function(){return"1.6.1"};this.printValue=function(a){a=isNaN(a)?"--":t.formatNumber(a);"INPUT"==t.d.tagName?this.d.value=a:"text"==t.d.tagName||"tspan"==t.d.tagName?this.d.textContent=a:this.d.innerHTML=a};this.count=function(a){t.startTime||
(t.startTime=a);t.timestamp=a;a-=t.startTime;t.remaining=t.duration-a;t.frameVal=t.options.useEasing?t.countDown?t.startVal-t.options.easingFn.call(t,a,0,t.startVal-t.endVal,t.duration):t.options.easingFn.call(t,a,t.startVal,t.endVal-t.startVal,t.duration):t.countDown?t.startVal-a/t.duration*(t.startVal-t.endVal):t.startVal+a/t.duration*(t.endVal-t.startVal);t.frameVal=t.countDown?t.frameVal<t.endVal?t.endVal:t.frameVal:t.frameVal>t.endVal?t.endVal:t.frameVal;t.frameVal=Math.floor(t.frameVal*t.dec)/
t.dec;t.printValue(t.frameVal);a<t.duration?t.rAF=requestAnimationFrame(t.count):t.callback&&t.callback()};this.start=function(a){t.callback=a;t.rAF=requestAnimationFrame(t.count);return!1};this.pauseResume=function(){t.paused?(t.paused=!1,delete t.startTime,t.duration=t.remaining,t.startVal=t.frameVal,requestAnimationFrame(t.count)):(t.paused=!0,cancelAnimationFrame(t.rAF))};this.reset=function(){t.paused=!1;delete t.startTime;t.startVal=c;cancelAnimationFrame(t.rAF);t.printValue(t.startVal)};this.update=
function(a){cancelAnimationFrame(t.rAF);t.paused=!1;delete t.startTime;t.startVal=t.frameVal;t.endVal=Number(a);t.countDown=t.startVal>t.endVal;t.rAF=requestAnimationFrame(t.count)};this.formatNumber=function(a){a=a.toFixed(t.decimals);var b,c;b=(a+"").split(".");a=b[0];b=1<b.length?t.options.decimal+b[1]:"";c=/(\d+)(\d{3})/;if(t.options.useGrouping)for(;c.test(a);)a=a.replace(c,"$1"+t.options.separator+"$2");a=t.options.prefix+a+b+t.options.suffix;null!=t.options.postFormatter&&(a=t.options.postFormatter(a));
return a};t.printValue(t.startVal)};return l([k,h],{templateString:"\x3cspan\x3e\x3c/span\x3e",target:null,startVal:0,endVal:100,decimals:2,duration:2,options:null,postCreate:function(){this.inherited(arguments);this.target||(this.target=this.domNode);(new f(this.target,this.startVal,this.endVal,this.decimals,this.duration,this.options)).start()}})})},"mojo/widgets/DeliveryStatus":function(){define("dojo/_base/declare mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/DeliveryStatus.html mojo/widgets/ProgressCircle dojo/dom-construct dojo/dom-style dojo/html dojo/on mojo/app/campaigns dojo/_base/lang dojo/Stateful mojo/url dojo/string dojo/request/xhr mojo/Poll dijit/Dialog dojo/dom-form dojo/query dojo/dom-attr dojo/dom".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B){return l("DeliveryStatus",[h,f,a,r],{templateString:c,widgetsInTemplate:!0,campaignId:null,emailsDelivered:null,emailsIntended:null,status:"",allowedStatuses:["loading","progress","success","canceling","canceled"],whyNotCanCancelCode:null,constructor:function(){this.inherited(arguments);this.messages={loading:{primary:"We're sending your campaign...",secondary:null},progress:{primary:"We're sending your campaign...",secondary:null},success:{primary:"Your campaign has been delivered!",
secondary:null},canceling:{primary:"Your campaign has been canceled.",secondary:"We\u2019ll notify you as soon as we know which subscribers received this campaign."},canceled:{primary:"Your campaign has been canceled",secondary:"${numRecipients} out of ${numIntended} subscribers received this campaign."}};this.whyNotCanCancelMessages={0:"This delivery can't be stopped because your campaign has already been canceled.",1:"This delivery can't be stopped because your campaign has been deleted.",2:"This delivery can't be stopped because your campaign list has been deleted.",
3:"This delivery can't be stopped because your campaign is not a regular or Plain-text campaign.",4:"This delivery can't be stopped because your campaign has not been sent.",5:"This delivery can't be stopped because your campaign's recipient count is fewer than 10,000 subscribers.",6:"This delivery can't be stopped because your campaign has finished sending.",7:"This delivery can't be stopped because your campaign was sent more than three days ago.",9:"You need Admin or Manager permissions to stop this delivery.",
10:"This delivery can't be stoppped because this campaign isn't being tracked."}},postCreate:function(){this.inherited(arguments);this.updateStatus();this.poll=new v(q.hitch(this,this.updateStatus),5E3);this.poll.start();this.progressMeter=new e;this.progressMeter.placeAt(this.progressMeterContainer);n(this.cancelSendLink,"click",q.hitch(this,function(){this.confirmCancellation(this.campaignId)}));this.watch("status",function(a,b,c){if(-1!=this.allowedStatuses.indexOf(c))switch(this.updateMessaging(c),
c){case "loading":this.progressMeter.set("status","loading");break;case "progress":this.progressMeter.set("status","progress");break;case "success":this.progressMeter.set("status","success");this.canCancel(!1);this.poll.stop();break;case "canceling":this.progressMeter.set("status","canceled");this.canCancel(!1);break;case "canceled":this.progressMeter.set("status","canceled"),this.canCancel(!1),this.poll.stop()}})},updateStatus:function(){w.get(t.toUrl("campaigns/get-delivery-status"),{handleAs:"json",
query:{id:this.campaignId}}).then(q.hitch(this,function(a){a.success&&a.data?this.updateData(a.data):this.poll.stop()}))},updateData:function(a){d.set(this.domNode,"display",a.enabled?"block":"none");0<=a.emailsDelivered&&(this.emailsDelivered=a.emailsDelivered);0<=a.emailsIntended&&(this.emailsIntended=a.emailsIntended);a.whyNotCanCancel&&a.whyNotCanCancel.code&&(this.whyNotCanCancelCode=a.whyNotCanCancel.code);a.campaignCanceled?a.campaignCancelComplete?this.set("status","canceled"):this.set("status",
"canceling"):a.sendConfirmed?this.set("status","success"):0<a.percentComplete?(this.set("status","progress"),this.setPercentComplete(a.percentComplete)):this.set("status","loading");this.canCancel(a.canCancel)},getWhyNotCanCancelReason:function(){var a=parseInt(this.whyNotCanCancelCode);return this.whyNotCanCancelMessages.hasOwnProperty(a)?this.whyNotCanCancelMessages[a]:"This delivery can't be stoppped for an unknown reason. Please contact support for more information."},updateMessaging:function(a){-1!=
this.allowedStatuses.indexOf(a)&&(this.messages[a].primary?(b.set(this.statusMessagePrimary,this.messages[a].primary),d.set(this.statusMessagePrimary,"display","block")):d.set(this.statusMessagePrimary,"display","none"),this.messages[a].secondary?(null!==this.emailsDelivered&&null!==this.emailsIntended?(a=u.substitute(this.messages[a].secondary,{numRecipients:this.emailsDelivered,numIntended:this.emailsIntended}),b.set(this.statusMessageSecondary,a)):b.set(this.statusMessageSecondary,this.messages[a].secondary),
"canceled"===this.status&&(a=" \x3ca href\x3d'"+t.toUrl("/reports/activity/sent?id\x3d"+this.campaignId)+"' target\x3d'_blank'\x3eView the recipients\x3c/a\x3e",m.place(a,this.statusMessageSecondary,"last")),d.set(this.statusMessageSecondary,"display","block")):d.set(this.statusMessageSecondary,"display","none"),b.set(this.whyNotCanCancelMessage,this.getWhyNotCanCancelReason()))},isComplete:function(){return"success"===this.status||"canceled"===this.status},setPercentComplete:function(a){"undefined"!=
typeof a&&this.progressMeter.setPercent(a)},canCancel:function(a){a?(d.set(this.cancelSendLink,"display","block"),d.set(this.whyNotCanCancelMessage,"display","none")):(d.set(this.cancelSendLink,"display","none"),"loading"===this.status||"progress"===this.status?d.set(this.whyNotCanCancelMessage,"display","block"):d.set(this.whyNotCanCancelMessage,"display","none"))},confirmCancellation:function(a){var b=this,c=new y({title:"Are you sure?",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){n(c.domNode,
".cancel-button:click",function(a){a.stopPropagation();a.preventDefault();c.hide()});A("form",c.domNode).on("submit",function(a){a.stopPropagation();a.preventDefault();k.toggleButtonLoadingState(B.byId("confirmBtn"),"Please wait...");z.set(B.byId("confirmBtn"),"disabled",!0);w.post(z.get(this,"action"),{data:x.toObject(this),handleAs:"json"}).then(function(a){a.success?(k.toast("Campaign send has been successfully canceled."),b.set("status","canceling")):k.toast("There was a problem canceling your campaign send. Please try again.",
"error");c.hide()},function(a){c.hide();k.toast("There was a problem canceling your campaign send. Please try again.","error")})})}});c.setHref(t.toUrl("campaigns/confirm-cancel",{id:a}));c.show()}})})},"mojo/widgets/ProgressCircle":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dojo/text!./templates/ProgressCircle.html dojo/on dojo/query dojo/dom-attr dojo/_base/lang dojo/Stateful d3/d3 dojo/NodeList-traverse dojo/NodeList-manipulate".split(" "),function(l,k,h,f,a,c,e,
m,d,b){var n=2*Math.PI,p=function(a,c){a.transition().ease("linear").delay(0).duration(c).attrTween("transform",function(){return b.interpolateString("rotate(0)","rotate(360)")})},q=function(a,c,d){a.styleTween(c,function(){return b.interpolate(this.style[c],d)})};return l("ProgressCircle",[k,h,d],{templateString:f,percentComplete:0,circleSize:72,pathWidth:2,pathBackgroundColor:"#e0e0e0",progressColor:"#52bad5",successColor:"#72c1b0",errorColor:"#EE836E",endValue:100,canceled:!1,cancelComplete:!1,
loading:!0,loaderDuration:1E3,status:"",allowedStatuses:["loading","progress","success","canceling","canceled"],buildRendering:function(){this.inherited(arguments);this.svg=b.select(this.progressCircle).append("svg").attr("width",this.circleSize).attr("height",this.circleSize).append("g").attr("transform","translate("+this.circleSize/2+","+this.circleSize/2+")");this.arc=b.svg.arc().innerRadius(this.circleSize/2-this.pathWidth).outerRadius(this.circleSize/2).startAngle(0);this.bg=this.svg.append("path").datum({endAngle:n}).style("fill",
this.pathBackgroundColor).attr("d",this.arc)},postCreate:function(){this.render();this.watch("status",function(a,b,c){if(-1!=this.allowedStatuses.indexOf(c)){switch(c){case "loading":this.toggleForeground("off");this.toggleTextValue("off");this.toggleLoader("on");break;case "progress":this.toggleLoader("off");this.toggleForeground("on");this.toggleTextValue("on");break;case "success":this.toggleLoader("off");this.toggleForeground("on");this.toggleTextValue("off");this.set("percentComplete",100);break;
case "canceling":this.set("canceled",!0);this.toggleForeground("off");this.toggleTextValue("off");this.toggleLoader("on");break;case "canceled":this.set("canceled",!0),this.set("cancelComplete",!0),this.toggleLoader("off"),this.toggleForeground("on"),this.toggleTextValue("off"),this.set("percentComplete",100)}this.render()}})},toggleLoader:function(a){if("on"===a&&"undefined"===typeof this.loader){this.loader=this.svg.append("path").datum({endAngle:.2*n}).style("fill",this._getStatusColor()).attr("d",
this.arc);var b=this;p(b.loader,b.loaderDuration);this.loaderIntervalId=setInterval(function(){p(b.loader,b.loaderDuration)},b.loaderDuration)}else"off"===a&&this.loader&&(this.loader.transition().delay(0).call(q,"fill",this.pathBackgroundColor),this.loader.remove(),delete this.loader,clearInterval(this.loaderIntervalId))},toggleForeground:function(a){"on"===a&&"undefined"===typeof this.foreground?this.foreground=this.svg.append("path").datum({endAngle:this.percentComplete/100*n}).style("fill",this._getStatusColor()).attr("d",
this.arc):"off"===a&&this.foreground&&(this.foreground.remove(),delete this.foreground)},toggleTextValue:function(a){"on"===a&&"undefined"===typeof this.textValue?this.textValue=this.svg.append("text").attr("x",0).attr("y",0).attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size","17px").attr("font-weight","600").text(this.percentComplete+"%"):"off"===a&&this.textValue&&(this.textValue.remove(),delete this.textValue)},render:function(){var a=this,c=function(c,d,e){c.attrTween("d",
function(c){var e=b.interpolate(c.endAngle,d);return function(b){c.endAngle=e(b);a.textValue&&a.textValue.text(parseInt(100*c.endAngle/n,10)+"%");return a.arc(c)}})};this.foreground&&this.foreground.transition().delay(222).duration(666).call(c,a.percentComplete/100*n,a.percentComplete).call(q,"fill",a._getStatusColor());this.textValue&&this.textValue.transition().delay(222).duration(333).styleTween("fill",function(c,d,e){if(a.isCanceled())return b.interpolate(e,a._getStatusColor())}).styleTween("opacity",
function(c,d,e){if(a.isComplete())return b.interpolate(e,0)});b.select(this.successImage).transition().delay(1333).duration(333).styleTween("opacity",function(c,d,e){return"success"===a.status?b.interpolate(e,1):b.interpolate(e,0)}).styleTween("transform",function(a,c,d){return b.interpolate(d,"scale(1)")});b.select(this.cancelImage).transition().delay(1333).duration(333).styleTween("opacity",function(c,d,e){return"canceled"===a.status?b.interpolate(e,1):b.interpolate(e,0)}).styleTween("transform",
function(a,c,d){return b.interpolate(d,"scale(1)")})},setPercent:function(a){"undefined"!=typeof a&&(this.set("percentComplete",a),this.render())},isLoading:function(){return"undefined"!==typeof this.loader},isCanceled:function(){return this.canceled},isSuccess:function(){return this.isComplete()&&!this.isCanceled()},isComplete:function(){return 100===this.percentComplete},_getStatusColor:function(){return this.isCanceled()?this.errorColor:this.isSuccess()?this.successColor:this.progressColor}})})},
"mojo/app/campaigns":function(){define("dojo/dom dojo/dom-attr dojo/query dojo/_base/lang dojo/dom-form dojo/dom-style dojo/io-query dojo/request/xhr dojo/dom-construct dojo/dom-class dojox/html/entities dijit/Dialog dijit/registry dojo/Deferred mojo/utils mojo/url mojo/Pusher dojo/text!./templates/unpauseAutoresponderDialog.html dojo/NodeList-manipulate mojo/widgets/ConfirmInput".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){var y=function(a){h(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();
b.preventDefault();a.hide()})};return{confirmDeletion:function(b,c,d){c||(c="campaign");var e=new p({title:"Are you sure?",onHide:function(){e.destroyRecursive()},onDownloadEnd:function(){y(e);h("form",e.domNode).on("submit",function(f){f.stopPropagation();f.preventDefault();f=a.toObject(this);var h=0,l;for(l in f)f.hasOwnProperty(l)&&0==l.indexOf("id[")&&h++;m.post(k.get(this,"action"),{data:a.toObject(this)}).then(function(){e.hide();d?d():b.render();t.toast(h+" "+c+(1!=h?"s":"")+" successfully deleted")},
function(){e.hide();t.toast("There was a problem deleting your "+c+(1!=h?"s":"")+". Please try again.")})})}});e.setHref(u.toUrl("campaigns/confirm-delete",{"id[]":b.getSelection()}));e.show()},deleteFolder:function(a,b,c){return 0<c?this._showDeleteFolderConfirmation(a,b):m.post(u.toUrl("/campaigns/folders/delete"),{data:{id:a},handleAs:"json"}).then(function(a){t.toast("Folder successfully deleted");return a})},_showDeleteFolderConfirmation:function(b,c){var d=new r,e=new p({title:"Delete Folder",
onHide:function(){e.destroyRecursive()},onDownloadEnd:function(){y(e);h("form",e.domNode).on("submit",function(b){b.stopPropagation();b.preventDefault();m.post(k.get(this,"action"),{data:a.toObject(this),handleAs:"json"}).then(function(a){d.resolve(a);e.hide();t.toast("Folder successfully deleted")})})}});e.setHref(c+(-1==c.indexOf("?")?"?":"\x26")+"id\x3d"+b);e.show();return d},addFolder:function(a,b){return m.post(b,{handleAs:"json",data:{name:a}})},renameFolder:function(a,b,c){return m.post(c,
{data:{id:a,name:b}})},unpauseAutoresponder:function(a,b){if(0<b){var c=new p({title:"Resume Automation",content:f.replace(v,{count:b}),onHide:function(){c.destroyRecursive()}});y(c);h("#unpause-send").on("click",f.hitch(this,function(){this._unpause(a,!1)}));h("#unpause-no-send").on("click",f.hitch(this,function(){this._unpause(a,!0)}));c.show()}else document.location.href=u.toUrl("campaigns/reactivate",{"return":1,id:a})},_unpause:function(a,b){document.location.href=u.toUrl("campaigns/reactivate",
{id:a,"return":1,ignore_queue:b?1:0})},foldersArchive:function(){var a=u.toUrl("campaigns/folders/archive");setTimeout(function(){var b=window.open(a,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d500");t.checkPopupWin(b)},0)},handleCommentUpdates:function(a){var b=this;w.load().then(function(c){c.subscribe(a).bind("change",function(a){var c=h(".new-comments-notification[data-campaign-id\x3d"+a.campaign_id+"]");c&&b.getUnreadFeedbackCount(a.campaign_id).then(function(a){0<
a.num&&c.style("display","");c.attr("title","You have "+a.num+" new comment"+(1<a.num?"s":""));c.children(".new-comment-count").html(a.num)})})})},getUnreadFeedbackCount:function(a){return m.get(u.toUrl("campaigns/feedback/unread-feedbacks"),{handleAs:"json",query:{id:a}})},showPauseModal:function(a,b,c){var d="scheduled the campaign, \x3cstrong\x3e"+b+"\x3c/strong\x3e to be sent";"rss"===c&&(d="started the RSS campaign, \x3cstrong\x3e"+b+"\x3c/strong\x3e");l.byId("pause-action").innerHTML=d;k.set(l.byId("pause-link"),
"href",u.toUrl("campaigns/wizard/pause",{"id[]":a}));q.byId("pause-dialog").show()},showRenameModal:function(a,b){var c=[["'","#039"]].concat(n.html,n.latin),c=n.decode(b,c),d=l.byId("rename-field");d.value=c;k.set(d,"data-cid",a);k.set(d,"data-oldname",c);q.byId("rename").show()}}})},"mojo/Poll":function(){define(["dojo/_base/declare"],function(l){return l("Poll",[],{intervalId:null,pollFunction:null,intervalTime:null,constructor:function(k,h){this.pollFunction=k;this.intervalTime=h},start:function(k,
h){this.pollFunction=k||this.pollFunction;this.intervalTime=h||this.intervalTime;this.stop();this.intervalId=setInterval(this.pollFunction,this.intervalTime)},stop:function(){clearInterval(this.intervalId)},getFakeData:function(){return 10}})})},"mojo/widgets/DoughnutChart":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/dom dojo/dom-construct dojo/on dojo/dom-geometry mojo/utils d3/d3".split(" "),function(l,k,h,f,a,c,e,m,d){var b=2*Math.PI;return l([k],{circleSize:65,
pathWidth:9,pathBackgroundColor:"#e0e0e0",chartProgressBar:"#52bad5",startValue:0,animateOnVisibility:!0,buildRendering:function(){this.inherited(arguments);this.endValue=this.domNode.innerHTML;a.empty(this.domNode);var c,e;c=d.select(this.domNode).append("svg").attr("width",this.circleSize).attr("height",this.circleSize).append("g").attr("transform","translate("+this.circleSize/2+","+this.circleSize/2+")");this.arc=e=d.svg.arc().innerRadius(this.circleSize/2-this.pathWidth).outerRadius(this.circleSize/
2).startAngle(0);c.append("path").datum({endAngle:b}).style("fill",this.pathBackgroundColor).attr("d",e);this.textValue=c.append("text").attr("x",2).attr("y",-1).attr("text-anchor","middle").attr("dominant-baseline","central").attr("class","fwb p small-meta").style("fill","#484848").text(this.startValue+"%");this.path=c.append("path").datum({endAngle:this.startValue/100*b}).style("fill",this.chartProgressBar).attr("d",e)},animateDoughnut:function(){var a=this;a.path.transition().delay(222).duration(1500).call(function(c,
e){c.attrTween("d",function(c){var f=d.interpolate(c.endAngle,e);return function(d){c.endAngle=f(d);a.textValue&&a.textValue.text(parseInt(100*c.endAngle/b,10)+"%");return a.arc(c)}})},a.endValue/100*b,a.startValue)},postCreate:function(){if(this.animateOnVisibility)m.onVisibility(this.domNode,h.hitch(this,this.animateDoughnut));else this.animateDoughnut()}})})},"mojo/widgets/DrillNav":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/drillNav.html dojo/_base/lang dojo/dom-construct".split(" "),
function(l,k,h,f,a,c){return l("mojo.widgets.DrillNav",[k,h],{templateString:f,itemTemplateString:'\x3cli\x3e\x3ca href\x3d"#"\x3e{name}\x3c/a\x3e\x3c/li\x3e',addNavItem:function(e){return c.place(c.toDom(a.replace(this.itemTemplateString,e)),this.mainNav)}})})},"mojo/widgets/EmojiPicker":function(){define("dojo/_base/declare mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_FocusMixin dijit/form/DropDownButton dijit/TooltipDialog dojo/text!./templates/EmojiPicker.html dojo/keys dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-style dojo/on dojo/query dojo/has dojo/_base/array dojo/_base/lang dojo/NodeList-manipulate dojox/html/entities dojo/sniff".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){return l("EmojiPicker",[h,f,a,c],{templateString:d,origInput:null,rangeStore:null,inZone:!1,constructor:function(){this.categories=[{label:"People",active:!0,emoji:"1f604 1f603 1f600 1f60a 263a 1f609 1f60d 1f618 1f61a 1f617 1f619 1f61c 1f61d 1f61b 1f633 1f601 1f614 1f60c 1f612 1f61e 1f623 1f622 1f602 1f62d 1f62a 1f625 1f630 1f605 1f613 1f629 1f62b 1f628 1f631 1f620 1f621 1f624 1f616 1f606 1f60b 1f637 1f60e 1f634 1f635 1f632 1f61f 1f626 1f627 1f608 1f47f 1f62e 1f62c 1f610 1f615 1f62f 1f636 1f607 1f60f 1f611 1f472 1f473 1f46e 1f477 1f482 1f476 1f466 1f467 1f468 1f469 1f474 1f475 1f471 1f47c 1f478 1f63a 1f638 1f63b 1f63d 1f63c 1f640 1f63f 1f639 1f63e 1f479 1f47a 1f648 1f649 1f64a 1f480 1f47d 1f4a9 1f525 2728 1f31f 1f4ab 1f4a5 1f4a2 1f4a6 1f4a7 1f4a4 1f4a8 1f442 1f440 1f443 1f445 1f444 1f44d 1f44e 1f44c 1f44a 270a 270c 1f44b 270b 1f450 1f446 1f447 1f449 1f448 1f64c 1f64f 261d 1f44f 1f4aa 1f6b6 1f3c3 1f483 1f46b 1f46a 1f46c 1f46d 1f48f 1f491 1f46f 1f646 1f645 1f481 1f64b 1f486 1f487 1f485 1f470 1f64e 1f64d 1f647 1f3a9 1f451 1f452 1f45f 1f45e 1f461 1f460 1f462 1f455 1f454 1f45a 1f457 1f3bd 1f456 1f458 1f459 1f4bc 1f45c 1f45d 1f45b 1f453 1f380 1f302 1f484 1f49b 1f499 1f49c 1f49a 2764 1f494 1f497 1f493 1f495 1f496 1f49e 1f498 1f48c 1f48b 1f48d 1f48e 1f464 1f465 1f4ac 1f463 1f4ad".split(" ")},
{label:"Nature",emoji:"1f436 1f43a 1f431 1f42d 1f439 1f430 1f438 1f42f 1f428 1f43b 1f437 1f43d 1f42e 1f417 1f435 1f412 1f434 1f411 1f418 1f43c 1f427 1f426 1f424 1f425 1f423 1f414 1f40d 1f422 1f41b 1f41d 1f41c 1f41e 1f40c 1f419 1f41a 1f420 1f41f 1f42c 1f433 1f40b 1f404 1f40f 1f400 1f403 1f405 1f407 1f409 1f40e 1f410 1f413 1f415 1f416 1f401 1f402 1f432 1f421 1f40a 1f42b 1f42a 1f406 1f408 1f429 1f43e 1f490 1f338 1f337 1f340 1f339 1f33b 1f33a 1f341 1f343 1f342 1f33f 1f33e 1f344 1f335 1f334 1f332 1f333 1f330 1f331 1f33c 1f310 1f31e 1f31d 1f31a 1f311 1f312 1f313 1f314 1f315 1f316 1f317 1f318 1f31c 1f31b 1f319 1f30d 1f30e 1f30f 1f30b 1f30c 1f320 2b50 2600 26c5 2601 26a1 2614 2744 26c4 1f300 1f301 1f308 1f30a".split(" ")},
{label:"Objects",emoji:"1f38d 1f49d 1f38e 1f392 1f393 1f38f 1f386 1f387 1f390 1f391 1f383 1f47b 1f385 1f384 1f381 1f38b 1f389 1f38a 1f388 1f38c 1f52e 1f3a5 1f4f7 1f4f9 1f4fc 1f4bf 1f4c0 1f4bd 1f4be 1f4bb 1f4f1 260e 1f4de 1f4df 1f4e0 1f4e1 1f4fa 1f4fb 1f50a 1f509 1f508 1f507 1f514 1f515 1f4e2 1f4e3 23f3 231b 23f0 231a 1f513 1f512 1f50f 1f510 1f511 1f50e 1f4a1 1f526 1f506 1f505 1f50c 1f50b 1f50d 1f6c1 1f6c0 1f6bf 1f6bd 1f527 1f529 1f528 1f6aa 1f6ac 1f4a3 1f52b 1f52a 1f48a 1f489 1f4b0 1f4b4 1f4b5 1f4b7 1f4b6 1f4b3 1f4b8 1f4f2 1f4e7 1f4e5 1f4e4 2709 1f4e9 1f4e8 1f4ef 1f4eb 1f4ea 1f4ec 1f4ed 1f4ee 1f4e6 1f4dd 1f4c4 1f4c3 1f4d1 1f4ca 1f4c8 1f4c9 1f4dc 1f4cb 1f4c5 1f4c6 1f4c7 1f4c1 1f4c2 2702 1f4cc 1f4ce 2712 270f 1f4cf 1f4d0 1f4d5 1f4d7 1f4d8 1f4d9 1f4d3 1f4d4 1f4d2 1f4da 1f4d6 1f516 1f4db 1f52c 1f52d 1f4f0 1f3a8 1f3ac 1f3a4 1f3a7 1f3bc 1f3b5 1f3b6 1f3b9 1f3bb 1f3ba 1f3b7 1f3b8 1f47e 1f3ae 1f0cf 1f3b4 1f004 1f3b2 1f3af 1f3c8 1f3c0 26bd 26be 1f3be 1f3b1 1f3c9 1f3b3 26f3 1f6b5 1f6b4 1f3c1 1f3c7 1f3c6 1f3bf 1f3c2 1f3ca 1f3c4 1f3a3 2615 1f375 1f376 1f37c 1f37a 1f37b 1f378 1f379 1f377 1f374 1f355 1f354 1f35f 1f357 1f356 1f35d 1f35b 1f364 1f371 1f363 1f365 1f359 1f358 1f35a 1f35c 1f372 1f362 1f361 1f373 1f35e 1f369 1f36e 1f366 1f368 1f367 1f382 1f370 1f36a 1f36b 1f36c 1f36d 1f36f 1f34e 1f34f 1f34a 1f34b 1f352 1f347 1f349 1f353 1f351 1f348 1f34c 1f350 1f34d 1f360 1f346 1f345 1f33d".split(" ")},
{label:"Places",emoji:"1f3e0 1f3e1 1f3eb 1f3e2 1f3e3 1f3e5 1f3e6 1f3ea 1f3e9 1f3e8 1f492 26ea 1f3ec 1f3e4 1f307 1f306 1f3ef 1f3f0 26fa 1f3ed 1f5fc 1f5fe 1f5fb 1f304 1f305 1f303 1f5fd 1f309 1f3a0 1f3a1 26f2 1f3a2 1f6a2 26f5 1f6a4 1f6a3 2693 1f680 2708 1f4ba 1f681 1f682 1f68a 1f689 1f69e 1f686 1f684 1f685 1f688 1f687 1f69d 1f68b 1f683 1f68e 1f68c 1f68d 1f699 1f698 1f697 1f695 1f696 1f69b 1f69a 1f6a8 1f693 1f694 1f692 1f691 1f690 1f6b2 1f6a1 1f69f 1f6a0 1f69c 1f488 1f68f 1f3ab 1f6a6 1f6a5 26a0 1f6a7 1f530 26fd 1f3ee 1f3b0 2668 1f5ff 1f3aa 1f3ad 1f4cd 1f6a9 1f1ef 1f1f5 1f1f0 1f1f7 1f1e9 1f1ea 1f1e8 1f1f3 1f1fa 1f1f8 1f1eb 1f1f7 1f1ea 1f1f8 1f1ee 1f1f9 1f1f7 1f1fa 1f1ec 1f1e7".split(" ")},
{label:"Symbols",emoji:"31-20e3 32-20e3 33-20e3 34-20e3 35-20e3 36-20e3 37-20e3 38-20e3 39-20e3 30-20e3 1f51f 1f522 23-20e3 1f523 2b06 2b07 2b05 27a1 1f520 1f521 1f524 2197 2196 2198 2199 2194 2195 1f504 25c0 25b6 1f53c 1f53d 21a9 21aa 2139 23ea 23e9 23eb 23ec 2935 2934 1f197 1f500 1f501 1f502 1f195 1f199 1f192 1f193 1f196 1f4f6 1f3a6 1f201 1f22f 1f233 1f235 1f234 1f232 1f250 1f239 1f23a 1f236 1f21a 1f6bb 1f6b9 1f6ba 1f6bc 1f6be 1f6b0 1f6ae 1f17f 267f 1f6ad 1f237 1f238 1f202 24c2 1f6c2 1f6c4 1f6c5 1f6c3 1f251 3299 3297 1f191 1f198 1f194 1f6ab 1f51e 1f4f5 1f6af 1f6b1 1f6b3 1f6b7 1f6b8 26d4 2733 2747 274e 2705 2734 1f49f 1f19a 1f4f3 1f4f4 1f170 1f171 1f18e 1f17e 1f4a0 27bf 267b 2648 2649 264a 264b 264c 264d 264e 264f 2650 2651 2652 2653 26ce 1f52f 1f3e7 1f4b9 1f4b2 1f4b1 a9 ae 2122 274c 203c 2049 2757 2753 2755 2754 2b55 1f51d 1f51a 1f519 1f51b 1f51c 1f503 1f55b 1f567 1f550 1f55c 1f551 1f55d 1f552 1f55e 1f553 1f55f 1f554 1f560 1f555 1f556 1f557 1f558 1f559 1f55a 1f561 1f562 1f563 1f564 1f565 1f566 2716 2795 2796 2797 2660 2665 2663 2666 1f4ae 1f4af 2714 2611 1f518 1f517 27b0 3030 303d 1f531 25fc 25fb 25fe 25fd 25aa 25ab 1f53a 1f532 1f533 26ab 26aa 1f534 1f535 1f53b 2b1c 2b1b 1f536 1f537 1f538 1f539".split(" ")}]},
buildRendering:function(){this.inherited(arguments);this.emojiDropDown.startup();v.forEach(this.categories,y.hitch(this,function(a){var b=a.label.replace(/\s/g,"").toLowerCase(),c=p.place('\x3ci title\x3d"'+a.label+'" class\x3d"esprite e-cat-icon e-mc-'+b+'"\x3e\x3c/i\x3e',this.catNavContainer),d=p.place('\x3cdiv class\x3d"e-cat e-'+b+' hide"\x3e\x3c/div\x3e',this.catEmojiContainer);v.forEach(a.emoji,y.hitch(this,function(a){p.place('\x3ci class\x3d"esprite e-'+a+'"\x3e\x3c/i\x3e',d)}));a.hasOwnProperty("active")&&
!0===a.active&&(q.add(c,"active"),q.remove(d,"hide"))}))},postCreate:function(){this.origInput=u("input[type\x3dtext], textarea",this.containerNode)[0];if(!this.origInput)throw Error("Emoji picker requires one input!");r.set(this.origInput,"display","none");t(this.emojiTooltip.domNode,".e-cat .esprite:click",y.hitch(this,function(a){a=a.target.className.split("esprite e-")[1];this.insertEmoji(a)}));t(this.emojiTooltip.domNode,".e-cat-nav .esprite:click",function(a){a=a.target.title.toLowerCase();
u(".e-cat-icon").removeClass("active");u(".e-mc-"+a).addClass("active");u(".e-cat").addClass("hide");u(".e-"+a).removeClass("hide")});(!w("trident")||10>=w("ie"))&&t(this.fauxInput,"paste",function(a){window.clipboardData?a=window.clipboardData.getData("Text"):(a.preventDefault(),a=a.clipboardData.getData("text/plain"));a=A.encode(a);200<("undefined"===typeof this.lastPaste?1E3:new Date-this.lastPaste)&&(this.lastPaste=new Date,window.clipboardData?document.execCommand("paste",!1,a):document.execCommand("insertHTML",
!1,a))});t(this.fauxInput,"mousedown",y.hitch(this,function(a){this.inZone=!0}));t(document.body,"mouseup",y.hitch(this,function(a){this.inZone&&(this.setRangeStore(a),this.inZone=!1)}));t(this.fauxInput,"keyup, paste, blur",y.hitch(this,function(a){this.setRangeStore();k.parseEmoji(this.fauxInput);this.updateOrigInput(a)}));t(this.fauxInput,"keydown",function(a){a.keyCode===b.ENTER&&a.preventDefault()});t(this.fauxInput,"keypress",function(a){a.stopPropagation()});this.updateFauxInput()},updateOrigInput:function(a){a=
a||{};var b="";v.forEach(this.fauxInput.childNodes,y.hitch(this,function(a){switch(a.nodeType){case 1:a.getAttribute("alt")&&(b+=a.getAttribute("alt"));break;default:a.nodeValue&&(b+=a.nodeValue)}}));this.origInput.value=b;t.emit(this.origInput,"keyup",a)},updateFauxInput:function(a){a=a||{};var b=A.encode(this.origInput.value),b=this.buildFragment(b);k.parseEmoji(b.frag);this.fauxInput.innerHTML="";this.fauxInput.appendChild(b.frag);t.emit(this.origInput,"keyup",a)},_onBlur:function(){this.rangeStore=
null;k.parseEmoji(this.fauxInput);this.inherited(arguments)},insertEmoji:function(a){a=k.emojiImgHtml(a);this.pasteHtmlAtCaret(a);this.updateOrigInput()},buildFragment:function(a){var b=document.createElement("div");b.innerHTML=a;a=document.createDocumentFragment();var c;b.firstChild&&(c=a.appendChild(b.firstChild));return{frag:a,lastNode:c}},pasteHtmlAtCaret:function(a){a=this.buildFragment(a);this.rangeStore?(this.rangeStore=this.rangeStore.cloneRange(),this.rangeStore.deleteContents(),this.rangeStore.insertNode(a.frag),
a.lastNode&&(this.rangeStore.setStartAfter(a.lastNode),this.rangeStore.collapse(!0))):this.fauxInput.appendChild(a.frag)},setRangeStore:function(a){if(window.getSelection){var b=window.getSelection(),c=b.getRangeAt&&b.rangeCount?b.getRangeAt(0):null,d=a&&a.target?Array.prototype.indexOf.call(this.fauxInput.childNodes,a.target):-1;c&&this.isValidRange(c)?this.rangeStore=c:this.rangeStore=null;-1===d||c&&!c.collapsed||(c=document.createRange(),d=this.fauxInput.childNodes[d],a.clientX-d.x>.45*d.width?
c.setStartAfter(d):c.setStartBefore(d),c.collapse(!0),b.removeAllRanges(),b.addRange(c),this.rangeStore=c)}else this.rangeStore=null},isValidRange:function(a){a=a.commonAncestorContainer;return a.isContentEditable||a.parentNode.isContentEditable}})})},"mojo/widgets/FilteredSearch":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/FilteredSearch.html dojo/on dojo/_base/lang dojo/dom-attr dojo/topic dojo/dom-class dojo/debounce dojo/query dojo/keys".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([k,h],{templateString:f,placeholder:"Search",wait:250,searchTopic:null,onChange:function(a){},onFocus:function(a){},onBlur:function(a){},onKeyDown:function(a){},postCreate:function(){var e=this;this.own(a(this.filteredInput,"focus",c.hitch(this,function(a){this.onFocus(a)})),a(this.filteredInput,"blur",c.hitch(this,function(a){this.onBlur(a)})),a(this.filteredInput,"keydown",c.hitch(this,function(a){this.onKeyDown(a)})),a(this.filteredInput,"keyup",b(function(a){switch(a.charCode||
a.keyCode){case p.ESCAPE:e._clearSearch();break;case p.TAB:case p.DOWN_ARROW:case p.UP_ARROW:break;case p.ENTER:if(0===this.value.length)break;default:if(0===this.value.length){e._clearSearch();break}m.publish("search/"+e.searchTopic,this.value);d.remove(e.filteredClear,"hide");e.onChange(this.value)}},this.wait)),a(this.filteredClear,"click",function(a){e._clearSearch();a.preventDefault()}))},setValue:function(a){this.filteredInput.value=a||"";d.toggle(this.filteredClear,"hide",!a)},getValue:function(){return this.filteredInput.value},
onClear:function(){},_clearSearch:function(){d.add(this.filteredClear,"hide");this.filteredInput.value="";this.onClear()}})})},"mojo/widgets/FixableWrapper":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/query dojo/dom-geometry dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/FixableWrapper.html".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([e,m,d],{templateString:b,wrapDistanceFromTopOfPage:0,wrapHeight:0,distanceFromTopOfWrap:0,
_onScroll:function(){var b=a.position(this.domNode.parentNode).y<=this.fixedThreshold+this.wrapDistanceFromTopOfPage,d=a.getContentBox(this.domNode).h+this.distanceFromTopOfWrap<this.wrapHeight;k.toggle(this.domNode,this.fixedClass,b&&d);c.set(this.domNode,{top:b&&d?this.fixedThreshold+this.wrapDistanceFromTopOfPage+"px":""})},_onResize:function(b){this.wrapDistanceFromTopOfPage=a.position(this.wrapper).y;this.wrapHeight=a.getContentBox(this.wrapper).h;this.distanceFromTopOfWrap=this.domNode.offsetTop},
postCreate:function(){var a=f("#wrap");if(a[0])this.wrapper=a[0],this._onResize(),h(this.wrapper,"scroll",this._onScroll.bind(this)),h(window,"resize",this._onResize.bind(this));else throw"Global element #wrap must exist on the page to use this widget.";}})})},"mojo/widgets/HelpDialog":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Dialog"],function(l,k,h){return l(h,{hide:function(){this.inherited(arguments);setTimeout(k.hitch(this,this.destroyRecursive),500)}})})},"mojo/widgets/HelpTip":function(){define(["dojo/_base/declare",
"dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/text!./templates/HelpTip.html"],function(l,k,h,f,a){return l([k,h,f],{templateString:a,widgetsInTemplate:!0,label:"What's this?"})})},"mojo/widgets/HorizontalSliderNoMouseWheel":function(){define(["dojo/_base/declare","dijit/form/HorizontalSlider"],function(l,k){return l(k,{_mouseWheeled:function(){}})})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){var z=k("dijit.form._SliderMover",n,{onMouseMove:function(b){var c=this.widget,d=c._abspos;d||(d=c._abspos=a.position(c.sliderBarContainer,!0),c._setPixelValue_=m.hitch(c,"_setPixelValue"),c._isReversed_=c._isReversed());b=b[c._mousePixelCoord]-d[c._startingPixelCoord];c._setPixelValue_(c._isReversed_?d[c._pixelCount]-b:b,d[c._pixelCount],!1)},destroy:function(a){n.prototype.destroy.apply(this,arguments);var b=this.widget;b._abspos=null;b._setValueAttr(b.value,
!0)}});h=k("dijit.form.HorizontalSlider",[y,x],{templateString:A,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:t.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(a){this.disabled||this.readOnly||a.altKey||a.ctrlKey||a.metaKey||this._setValueAttr(this.value,!0)},_onKeyDown:function(a){if(!(this.disabled||this.readOnly||a.altKey||a.ctrlKey||a.metaKey)){switch(a.keyCode){case e.HOME:this._setValueAttr(this.minimum,!1);break;case e.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?e.RIGHT_ARROW:e.LEFT_ARROW:this.increment(a);break;case !1===this._descending?e.DOWN_ARROW:e.UP_ARROW:case !1===this._descending?
e.PAGE_DOWN:e.PAGE_UP:this.increment10(a);break;case this._descending||this.isLeftToRight()?e.LEFT_ARROW:e.RIGHT_ARROW:this.decrement(a);break;case !1===this._descending?e.UP_ARROW:e.DOWN_ARROW:case !1===this._descending?e.PAGE_UP:e.PAGE_DOWN:this.decrement10(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(a){this.disabled||this.readOnly||(d("ie")||u.focus(this.sliderHandle),a.stopPropagation(),a.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},
_onBarClick:function(b){if(!this.disabled&&!this.readOnly&&this.clickSelect){u.focus(this.sliderHandle);b.stopPropagation();b.preventDefault();var c=a.position(this.sliderBarContainer,!0),d=b[this._mousePixelCoord]-c[this._startingPixelCoord];this._setPixelValue(this._isReversed()?c[this._pixelCount]-d:d,c[this._pixelCount],!0);this._movable.onMouseDown(b)}},_setPixelValue:function(a,b,c){if(!this.disabled&&!this.readOnly){var d=this.discreteValues;if(1>=d||Infinity==d)d=b;d--;this._setValueAttr(Math.max(Math.min((this.maximum-
this.minimum)*Math.round(a/(b/d))/d+this.minimum,this.maximum),this.minimum),c)}},_setValueAttr:function(a,b){this._set("value",a);this.valueNode.value=a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var c=this.maximum>this.minimum?(a-this.minimum)/(this.maximum-this.minimum):0,d=!1===this._descending?this.remainingBar:this.progressBar,e=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);
if(b&&0<this.slideDuration&&d.style[this._progressPixelSize]){var h=this,m={},k=parseFloat(d.style[this._progressPixelSize]),l=this.slideDuration*(c-k/100);0!=l&&(0>l&&(l=0-l),m[this._progressPixelSize]={start:k,end:100*c,units:"%"},this._inProgressAnim=f.animateProperty({node:d,duration:l,onAnimate:function(a){e.style[h._progressPixelSize]=100-parseFloat(a[h._progressPixelSize])+"%"},onEnd:function(){delete h._inProgressAnim},properties:m}),this._inProgressAnim.play())}else d.style[this._progressPixelSize]=
100*c+"%",e.style[this._progressPixelSize]=100*(1-c)+"%"},_bumpValue:function(b,d){if(!(this.disabled||this.readOnly||this.maximum<=this.minimum)){var e=c.getComputedStyle(this.sliderBarContainer),f=a.getContentBox(this.sliderBarContainer,e),e=this.discreteValues;if(1>=e||Infinity==e)e=f[this._pixelCount];e--;f=(this.value-this.minimum)*e/(this.maximum-this.minimum)+b;0>f&&(f=0);f>e&&(f=e);f=f*(this.maximum-this.minimum)/e+this.minimum;this._setValueAttr(f,d)}},_onClkBumper:function(a){this.disabled||
this.readOnly||!this.clickSelect||this._setValueAttr(a,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==e.PAGE_DOWN?-this.pageIncrement:-1)},decrement10:function(a){this._bumpValue(a.keyCode==e.PAGE_DOWN?-this.pageIncrement:-10)},increment:function(a){this._bumpValue(a.keyCode==e.PAGE_UP?this.pageIncrement:
1)},increment10:function(a){this._bumpValue(a.keyCode==e.PAGE_UP?this.pageIncrement:10)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>a.wheelDelta?-1:1,!0)},startup:function(){this._started||(l.forEach(this.getChildren(),function(a){this[a.container]!=this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},_typematicCallback:function(a,b,c){if(-1==a)this._setValueAttr(this.value,!0);else this[b==(this._descending?this.incrementButton:
this.decrementButton)?"decrement":"increment"](c)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display="",this.decrementButton.style.display="");var a=p('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);
this.showButtons&&this.own(w.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),w.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));this.own(r(this.domNode,q.wheel,m.hitch(this,"_mouseWheeled")));var a=k(z,{widget:this});this._movable=new b(this.sliderHandle,{mover:a});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});
h._Mover=z;return h})},"mojo/widgets/ImportLoader":function(){define("dojo/_base/declare mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ImportLoader.html mojo/widgets/ProgressCircle dojo/dom-construct dojo/dom-style dojo/html dojo/on mojo/app/campaigns dojo/_base/lang dojo/Stateful mojo/url dojo/string dojo/request/xhr mojo/Poll dijit/Dialog dojo/dom-form dojo/query dojo/dom-attr dojo/dom".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,
w,v,y,x,A,z,B){return l("ImportLoader",[h,f,a,r],{templateString:c,widgetsInTemplate:!0,status:"",percent:!1,allowedStatuses:["working","complete","reverting","reverted"],constructor:function(){this.messages={working:{primary:"We're importing your list!",secondary:"You can navigate away from this page - importing won't be affected."},complete:{primary:"Your import is complete!",secondary:"\x3ca onclick\x3d'window.location.reload()' href\x3d''\x3eRefresh this page\x3c/a\x3e to update the table below."},
reverting:{primary:"We're reverting your list!",secondary:"You can navigate away from this page - reverting won't be affected."},reverted:{primary:"Your import has been undone!",secondary:"\x3ca onclick\x3d'window.location.reload()' href\x3d''\x3eRefresh this page\x3c/a\x3e to update the table below."}}},postCreate:function(){this.inherited(arguments);this.updateStatus();this.poll=new v(q.hitch(this,this.updateStatus),5E3);this.poll.start();this.progressMeter=new e;this.progressMeter.placeAt(this.progressMeterContainer);
this.watch("status",function(a,b,c){if(-1!=this.allowedStatuses.indexOf(c))if(this.updateMessaging(c),this.percent||this.isComplete())switch(c){case "working":case "reverting":this.progressMeter.set("status","progress");break;case "complete":case "reverted":this.progressMeter.set("status","success"),this.poll.stop()}else this.progressMeter.set("status","loading")})},updateStatus:function(){w.get(t.toUrl("lists/members/import-loader"),{handleAs:"json",query:{import_id:this.import_id}}).then(q.hitch(this,
function(a){a.success&&a.data?this.updateData(a.data):this.poll.stop()}))},updateData:function(a){d.set(this.domNode,"display",a?"block":"none");this.percent=-1!=a.percent;this.set("status",a.status);!this.percent||"working"!=a.status&&"reverting"!=a.status||this.setPercentComplete(a.percent)},updateMessaging:function(a){-1!=this.allowedStatuses.indexOf(a)&&(this.messages[a].primary?(b.set(this.statusMessagePrimary,this.messages[a].primary),d.set(this.statusMessagePrimary,"display","block")):d.set(this.statusMessagePrimary,
"display","none"),this.messages[a].secondary?(b.set(this.statusMessageSecondary,this.messages[a].secondary),d.set(this.statusMessageSecondary,"display","block")):d.set(this.statusMessageSecondary,"display","none"))},isComplete:function(){return"complete"===this.status||"reverted"===this.status},setPercentComplete:function(a){"undefined"!=typeof a&&this.progressMeter.setPercent(a)}})})},"mojo/widgets/InterpolateNumber":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/dom dojo/query dojo/dom-construct mojo/utils d3/d3".split(" "),
function(l,k,h,f,a,c,e,m){return l([k],{animDuration:1333,animDelay:500,numDecimals:0,easing:"linear",startVal:0,endVal:100,formatNumber:",",animateOnVisibility:!0,changeOnWatch:!0,postMixInProperties:function(){this.startVal=this.startVal.toString()},buildRendering:function(){this.inherited(arguments);this.endVal=this.domNode.innerHTML;this.domNode.innerHTML=this.startVal},animateNumber:function(){var a=this,b=a.startVal,c=a.endVal;m.select(this.domNode).transition().ease(a.easing).duration(this.animDuration).delay(this.animDelay).tween("text",
function(){var e=m.select(this),f=m.interpolate(b,c);return function(b){b=parseFloat(f(b));e.text(m.format(a.formatNumber)(b.toFixed(a.numDecimals)));a.changeOnWatch=!0;a.startVal=c}});a.watch("endVal",function(){a.changeOnWatch&&(a.changeOnWatch=!1,a.animateNumber())})},postCreate:function(){if(this.animateOnVisibility)e.onVisibility(this.domNode,h.hitch(this,this.animateNumber));else this.animateNumber()}})})},"mojo/widgets/KbSearch":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/io-query dojo/_base/array dojo/request dojo/parser dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dijit/registry mojo/url mojo/lib/logger dojo/request/script mojo/context velocity/velocity codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed velocity/velocity.ui mojo/user mojo/lib/flags".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I){var L=l([k,h,f],{overlayClass:"kb-overlay",searching:!1,lastSearch:"",basePath:G.flagIsOn(I.SEND_KB_REQ_TO_PLUMS)?"kb-api":"kb",extraLoadingAnimation:G.flagIsOn(I.SEND_KB_REQ_TO_PLUMS),postMixInProperties:function(){L._main||(L._main=this)},postCreate:function(){var b=this;a(b.searchForm,"submit",function(a){a.preventDefault();a=b.searchInput.value;b.searching||b._searchAll(a)});a(b.clearIcon,"click",function(a){a.preventDefault();
b.clearSearch()});a(b.searchInput,"keyup",function(a){(a.charCode||a.keyCode)===w.ESCAPE?b.clearSearch():(a=b.searchInput.value,""===a&&b.toggleResults(!1),a!==b.lastSearch&&b.toggleSearchIcon(!1))});a(this.domNode,"a[data-kb-article]:click",function(a){a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||(a.preventDefault(),a.stopPropagation(),a=r.get(this,"data-kb-article"),b.show(),b.showArticle(a))});a(this.backLink,"click",function(a){a.preventDefault();a.stopPropagation();b.toggleContentPanel(!1)});
a(this.domNode,"[data-kb-paging]:click",function(a){a.preventDefault();a.stopPropagation();a=r.get(this,"data-kb-paging");b._pageArticles(a)});a(this.closeButton,"click",n.hitch(this,"hide"));this.toggleResults(!1);this.toggleContentPanel(!1)},onShow:function(){"undefined"!==typeof this.recommendedArticlesContainer&&this._showRecommendedArticles()},clearSearch:function(){this.searchInput.value="";this.searchInput.focus();this.toggleResults(!1);this.toggleSearchIcon(!1)},showArticle:function(d){this.extraLoadingAnimation&&
(this.toggleSearchIcon(!1),this.toggleSearchLoader(!0));this._getArticle(d).then(n.hitch(this,function(d){this.contentContainer.innerHTML=d;this.toggleContentPanel(!0);this.extraLoadingAnimation&&(this.toggleSearchIcon(!0),this.toggleSearchLoader(!1));c(".kb-article-code textarea",this.contentContainer).forEach(function(a){C.fromTextArea(a,{mode:"text/html",readOnly:!0,tabMode:"indent",theme:"default",autoClearEmptyLines:!0,lineWrapping:!0})});b.parse(this.contentContainer);a(c("#email-support",this.domNode),
"click",n.hitch(this,function(a){a.preventDefault();a.stopPropagation();A.get(z.solvvyUrl).then(n.hitch(this,function(){this.showContactForm()},function(a){throw a;}));x.pythia.logEvent("Help_ContactSupport_ClickEmailButton")}))}))},showContactForm:function(){d.get(y.toUrl("kb/contact-form"),{handleAs:"json"}).then(n.hitch(this,function(a){var c=this.contentContainer;m.forEach(v.findWidgets(c),function(a){a.destroyRecursive()});this.toggleContentPanel(!0);c.innerHTML=a.content;require(["mojo/widgets/ContactSupportForm"],
function(a){(new a(!0)).placeAt(p.byId("contact-form-container"));b.parse(c)})}))},toggleSearchIcon:function(a){t.toggle(this.clearIcon,"hide",!a);t.toggle(this.searchIcon,"hide",a)},toggleContentPanel:function(a){q.set(this.searchPanel,"display",a?"none":"");q.set(this.contentPanel,"display",a?"":"none");this.contentPanel.scrollIntoView()},toggleResults:function(a){this.recommendedContainer&&q.set(this.recommendedContainer,"display",a?"none":"");q.set(this.resultsContainer,"display",a?"":"none")},
toggleSearchLoader:function(a){t.toggle(this.searchLoader,"hide",!a)},_searchAll:function(a){if(!this.searching){this.searching=!0;this.lastSearch=a;this.toggleSearchLoader(!0);var c=d.get(y.toUrl(this.basePath+"/search"),{handleAs:"text",query:{term:a}});c.then(n.hitch(this,function(c){this.searching=!1;this.toggleSearchLoader(!1);this.toggleSearchIcon(!0);this._destroySearchWidgets();this.resultsList.innerHTML=c;this.toggleResults(!0);b.parse(this.resultsList);window.ga("send","event","KB","Search",
a)}));return c}},_destroySearchWidgets:function(){m.forEach(v.findWidgets(this.resultsList),function(a){a.destroyRecursive()})},_pageArticles:function(a){var b=v.byId("kb-search-article-tab");b&&d.get(y.toUrl(this.basePath+"/search-articles"),{handleAs:"text",query:{term:this.lastSearch,page:1>a?1:a}}).then(function(a){b.setContent(a)})},_getArticle:function(a){return d.get(y.toUrl(this.basePath+"/article"),{handleAs:"text",query:{path:a}})},_showRecommendedArticles:function(){if(!0!==this.recommendedArticlesVisible){this.toggleSearchIcon(!1);
this.toggleSearchLoader(!0);var a=window.location.href,a=a.substring(a.indexOf("?")+1,a.length),a=e.queryToObject(a),b="general";/\/ads/.test(window.location.pathname)&&void 0!==typeof a.type&&(b=a.type);d.get(y.toUrl(this.basePath+"/recommended-articles"),{handleAs:"text",query:{channel:b}}).then(n.hitch(this,function(a){this.recommendedArticlesContainer.innerHTML=a;this.recommendedArticlesVisible=!0;this.toggleSearchIcon(!0);this.toggleSearchLoader(!1)}))}}});L.main=function(){return L._main?L._main:
null};return L})},"mojo/widgets/KbSearchContent":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dojo/on dojo/parser dojo/query dojo/io-query dojo/request dijit/registry mojo/url mojo/lib/logger mojo/user mojo/lib/flags dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/KbSearchContent.html codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed".split(" "),function(l,k,h,f,
a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B){return l([x,A],{templateString:z,searching:!1,lastSearch:"",basePath:v.flagIsOn(y.SEND_KB_REQ_TO_PLUMS)?"kb-api":"kb",postCreate:function(){var e=this;b(e.searchForm,"submit",function(a){a.preventDefault();a=e.searchInput.value;e.searching||e._searchAll(a)});b(e.clearIcon,"click",function(a){a.preventDefault();e.clearSearch()});b(e.searchInput,"keyup",function(a){(a.charCode||a.keyCode)===d.ESCAPE?e.clearSearch():(a=e.searchInput.value,""===a&&e.toggleResults(!1),
a!==e.lastSearch&&e.toggleSearchIcon(!1))});b(this.domNode,"a[data-kb-article]:click",function(a){a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||(a.preventDefault(),a.stopPropagation(),a=c.get(this,"data-kb-article"),e.showArticle(a))});b(this.backLink,"click",function(b){b.preventDefault();b.stopPropagation();e.toggleContentPanel(!1);"none"===a.get(f.byId("kb-results"),"display")&&a.set(f.byId("hide-on-search"),"display","")});b(this.domNode,"[data-kb-paging]:click",function(a){a.preventDefault();a.stopPropagation();
a=c.get(this,"data-kb-paging");e._pageArticles(a)});b(p("#emergency-support"),"click",k.hitch(this,function(b){b.preventDefault();b.stopPropagation();this.showContactForm();a.set(f.byId("hide-on-search"),"display","none")}));this.toggleResults(!1);this.toggleContentPanel(!1)},clearSearch:function(){this.searchInput.value="";this.searchInput.focus();this.toggleResults(!1);this.toggleSearchIcon(!1)},showArticle:function(a){this._getArticle(a).then(k.hitch(this,function(a){this.contentContainer.innerHTML=
a;this.toggleContentPanel(!0);p(".kb-article-code textarea",this.contentContainer).forEach(function(a){B.fromTextArea(a,{mode:"text/html",readOnly:!0,tabMode:"indent",theme:"default",autoClearEmptyLines:!0,lineWrapping:!0})});n.parse(this.contentContainer);b(p("#email-support",this.domNode),"click",k.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.showContactForm();w.pythia.logEvent("Help_ContactSupport_ClickEmailButton")}))}))},showContactForm:function(){r.get(u.toUrl("kb/contact-form"),
{handleAs:"json"}).then(k.hitch(this,function(a){var b=this.contentContainer;h.forEach(t.findWidgets(b),function(a){a.destroyRecursive()});this.toggleContentPanel(!0);b.innerHTML=a.content;require(["mojo/widgets/ContactSupportForm"],function(c){(new c(a.is_logged_in,a.site_key)).placeAt(f.byId("contact-form-container"));n.parse(b)});var c=q.queryToObject(window.location.search);c.topic&&(t.byId("topic").set("value",c.topic),e.add(f.byId("topicSelect"),"hide"))}))},toggleSearchIcon:function(a){e.toggle(this.clearIcon,
"hide",!a);e.toggle(this.searchIcon,"hide",a)},toggleContentPanel:function(b){a.set(this.searchPanel,"display",b?"none":"");a.set(this.contentPanel,"display",b?"":"none");a.set(this.contentPanel,"opacity",b?"1":".4");this.contentPanel.scrollIntoView()},toggleResults:function(b){a.set(this.resultsContainer,"display",b?"":"none");a.set(f.byId("hide-on-search"),"display",b?"none":"")},toggleSearchLoader:function(a){e.toggle(this.searchLoader,"hide",!a)},_searchAll:function(a){if(!this.searching)return this.searching=
!0,this.lastSearch=a,this.toggleSearchLoader(!0),a=r.get(u.toUrl(this.basePath+"/search"),{handleAs:"text",query:{term:a}}),a.then(k.hitch(this,function(a){this.searching=!1;this.toggleSearchLoader(!1);this.toggleSearchIcon(!0);this._destroySearchWidgets();this.resultsList.innerHTML=a;this.toggleResults(!0);n.parse(this.resultsList)})),a},_destroySearchWidgets:function(){h.forEach(t.findWidgets(this.resultsList),function(a){a.destroyRecursive()})},_pageArticles:function(a){var b=t.byId("kb-search-article-tab");
b&&r.get(u.toUrl(this.basePath+"/search-articles"),{handleAs:"text",query:{term:this.lastSearch,page:1>a?1:a}}).then(function(a){b.setContent(a)})},_getArticle:function(a){return r.get(u.toUrl(this.basePath+"/article"),{handleAs:"text",query:{path:a}})}})})},"mojo/widgets/LinkPicker":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/linkPicker.html dojo/dom dojo/on dojo/topic dojo/_base/lang dojo/_base/event dojo/_base/array dojo/_base/query dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/io-query dojo/keys dijit/Dialog mojo/widgets/FileManager mojo/utils mojo/user mojo/lib/flags".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B){return l("mojo.widgets.LinkPicker",[k,h,f],{templateString:a,anchors:[],showButtons:!0,showRemoveLink:!0,abandonedCartEnabled:!1,landingPagesLinks:[],constructor:function(a){window.app&&window.app.landingPagesLinks&&(this.landingPagesLinks=window.app.landingPagesLinks)},refreshInputs:function(){this.linkType.set("value","regularLink");if(this.href){var a=this.href,b=this.landingPagesLinks.map(function(a){return a.link});if(a.match("mailto:")){a=
a.replace("mailto:","");this.linkType.set("value","emailLink");var c={},b=-1==a.indexOf("?")?a:a.substring(0,a.indexOf("?"));-1!=a.indexOf("?")&&(a=a.substring(a.indexOf("?")+1,a.length),a=a.replace(/&#039;/g,"'"),c=w.queryToObject(a));this.emailInput.value=b;c.subject&&(this.subjectInput.value=c.subject);c.body&&(this.emailBodyInput.value=c.body)}else 0<=n.indexOf(b,a)?(this.linkType.set("value","landingPageLink"),this.selectLandingPage.set("value",a)):this.abandonedCartEnabled&&"*|CART:URL|*"==
a.trim()?this.linkType.set("value","abandonCartLink"):this.hrefInput.value=this.href}this.targetCheckbox.set("checked",!0);this.attrs&&(this.titleInput.value=this.attrs.title?this.attrs.title:"",this.linkClassInput.value=this.attrs["class"]?this.attrs["class"]:"",this.attrs.target&&this.targetCheckbox.set("checked","_blank"==this.attrs.target));this.showSection()},postCreate:function(){this.showButtons||t.set(this.buttonGroup,"display","none");this.showRemoveLink||t.set(this.removeLinkContainer,"display",
"none");this.anchors.length&&(q.empty(this.selectAnchor),n.forEach(this.anchors,d.hitch(this,function(a){q.place('\x3coption value\x3d"'+a+'"\x3e'+a+"\x3c/option\x3e",this.selectAnchor)})));this.abandonedCartEnabled||this.linkType.removeOption("abandonCartLink");0===this.landingPagesLinks.length?this.linkType.removeOption("landingPageLink"):n.forEach(this.landingPagesLinks,d.hitch(this,function(a){this.selectLandingPage.addOption({value:a.link,label:a.title})}));var a=this;this.own(e(this.cancelBtn,
"click",d.hitch(this,"_cancel")),e(this.saveBtn,"click",d.hitch(this,"_save")),e(this.removeLink,"click",d.hitch(this,"_remove")),e(this.advancedToggle,"click",d.hitch(this,function(a){a.preventDefault();A.disclosureElement(this.advancedOptions,a.currentTarget,!0)})),e(this.linkType,"change",function(){a.showSection()}),e(this.changeFileLink,"click",function(b){b.stopPropagation();b.preventDefault();a._openFileManager()}),m.subscribe("mojo/filemanager/hide",function(){a.dialog&&a._closedForFileManager&&
(a._closedForFileManager=!1,a.dialog.show())}));this.refreshInputs()},showSection:function(){var a=p(".linkType",this.domNode).addClass("hide").filter("."+this.linkType.value).removeClass("hide").query("input")[0];a&&a.focus();"fileLink"==this.linkType.value&&this._openFileManager()},_openFileManager:function(){this.dialog&&(this._closedForFileManager=!0,this.dialog.hide());x.show({actions:"select, rename, copy",onSelect:d.hitch(this,function(a){x.hide();this.linkToFile(a)})})},show:function(){this.dialog=
new y({title:"Insert or Edit Link",content:this.domNode,"class":"link-modal dijitDialog--fullScreen@phone",style:"width:450px;"});this.dialog.startup();this.own(e(this.dialog.containerNode,"keydown",d.hitch(this,function(a){if(this.dialog.open){var c=a.target||a.srcElement;a.keyCode==v.ENTER&&c!=this.emailBodyInput&&(b.stop(a),this._save())}})));q.place(this.dialog.domNode,p("body")[0],"first");this.dialog.show();var a=p(".linkType:not(.hide) input",this.domNode)[0];a&&a.focus();window.top&&window.top.app&&
window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.setScreenState({state:"linkDialog",backAction:d.hitch(this,this._cancel)})},hide:function(a){return this.dialog.hide().then(d.hitch(this,function(){window.top&&window.top.app&&window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.removeStateQueue();a&&this.destroy()}))},linkToFile:function(a){u.set(this.fileUrlInput,"value",a)},_save:function(){this.hide(!1).then(d.hitch(this,function(){this.onSave(this.getLink());
this.destroy()}))},getLink:function(){var a,b;switch(this.linkType.value){case "abandonCartLink":b="*|CART:URL|*";break;case "emailLink":b="mailto:"+this.emailInput.value;this.subjectInput.value&&(b+="?subject\x3d"+encodeURIComponent(this.subjectInput.value));this.emailBodyInput.value&&(b+=(encodeURIComponent(this.subjectInput.value)?"\x26":"?")+"body\x3d"+encodeURIComponent(this.emailBodyInput.value));a=this.emailInput.value;break;case "anchorLink":b=""!=this.selectAnchor.value?"#"+this.selectAnchor.value:
"";a=this.selectAnchor.value;break;case "fileLink":b=this.fileUrlInput.value;decodeURIComponent(b).match(/^((http[s]?:|ftp:|mailto:|tel:|#|\*\|))/gi)||(b="http://"+b);a=b;break;case "landingPageLink":a=b=this.selectLandingPage.value;break;default:b=this.hrefInput.value,decodeURIComponent(b).match(/^((http[s]?:|ftp:|mailto:|tel:|#|\*\|))/gi)||(b="http://"+b),a=b}return{href:b,text:a,attrs:{"class":this.linkClassInput.value,title:this.titleInput.value,target:u.get(this.targetCheckbox,"checked")?this.targetCheckbox.value:
"_self"}}},_cancel:function(){this.onCancel();this.hide(!0)},_remove:function(){this.onRemove();this.hide(!0)},onSave:function(a){},onCancel:function(){},onRemove:function(){}})})},"dojo/_base/query":function(){define(["../query","./NodeList"],function(l){return l})},"mojo/widgets/LiveDialog":function(){define(["dojo/_base/declare","dijit/Dialog"],function(l,k){return l(k,{hide:function(){this._alreadyInitialized&&(this.execute(),this.inherited("hide",arguments))}})})},"mojo/widgets/LocalNavBar":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/on dojo/parser dojo/dom dojo/dom-class dojo/query dojo/_base/lang".split(" "),
function(l,k,h,f,a,c,e,m){return l([k],{bindEvents:function(){var a=this;h(this.menuBarToggle,"click",function(){c.toggle(a.menuBar,"block")})},postCreate:function(){this.menuBar=e(this.domNode).children("nav")[0];this.menuBarToggle=e(this.domNode).children("p")[0];this.bindEvents()}})})},"mojo/widgets/LocalNavGroup":function(){define(["dojo/_base/declare","./ButtonGroup"],function(l,k){return l([k],{templateString:'\x3cul class\x3d"flex border-bottom"\x3e\x3c/ul\x3e',itemTpl:'\x3cli class\x3d"c-buttonGroupItem"\x3e\x3cbutton type\x3d"button" data-mc-value\x3d"{value}" title\x3d"{title}" class\x3d"c-buttonGroupButton normal-meta v-buttonGroupUnderlined no-transform"\x3e{label}\x3c/button\x3e\x3c/li\x3e',
activeClass:"v-buttonGroupUnderlined--active"})})},"mojo/widgets/MainNavigation":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dojo/on dojo/query dojo/_base/array dojo/_base/window dojo/parser dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dojo/keys dojo/ready mojo/widgets/PhoneNavigation mojo/widgets/TabletNavigation mojo/widgets/AccountMenu mojo/widgets/GlobalSearch mojo/widgets/KbSearch mojo/widgets/_SlideCard mojo/widgets/_Overlay dijit/registry velocity/velocity mojo/KeyShortcuts".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D){var F=l([k,h,A,z],{postMixInProperties:function(){F._main||(F._main=this)},postCreate:function(){var b=/\w*-overlay/;this.trapEvents();this.setupMobileNav();f(this.hamburger,"click",function(a){a.preventDefault();a.stopPropagation();u.main().show();w.main().show();v.main().hide("account-menu--active")});f(this.helpButton,"click",function(a){a.preventDefault();a.stopPropagation();x.main().show("kb-search");v.main().hide("account-menu--active");
window.ga("send","event","Account Menu","Help",window.location.pathname)});D.onKey("h",function(a){x.main().show("kb-search");v.main().hide("account-menu--active")});this.searchButton&&(f(this.searchButton,"click",function(a){a.preventDefault();a.stopPropagation();y.main().show("global-search");v.main().hide("account-menu--active")}),D.onKey("s",function(a){y.main().show("global-search");v.main().hide("account-menu--active")}));this.listsSearch();f(this.accountButton,"click",function(b){b.preventDefault();
b.stopPropagation();v.main().toggle("account-menu--active");f(a(".wrap")[0],"click",function(a){a.stopPropagation();v.main().hide("account-menu--active")})});D.onEsc(function(a){a.stopPropagation();var c;b.exec(p.get(e.doc.documentElement,"class"))&&(c=b.exec(p.get(e.doc.documentElement,"class"))[0]);switch(c){case "mobile-overlay":u.main().hide();w.main().hide();break;case "search-overlay":y.main().hide();break;case "kb-overlay":x.main().hide()}});this._handleNavigationEvents()},_handleNavigationEvents:function(){t(function(){var a=
!1;f(w.main(),"hide",function(){a||(a=!0,u.main().hide({animate:!1}).then(function(){a=!1}))});f(u.main(),"hide",function(){a||(a=!0,w.main().hide({animate:!1}).then(function(){a=!1}))})})},trapEvents:function(){var a=document.documentElement,b;f(window,"scroll",function(){clearTimeout(b);a.style.pointerEvents||(a.style.pointerEvents="none");b=setTimeout(function(){a.style.pointerEvents=""},125)})},setupMobileNav:function(){a(".mobile-top-nav").on("click",function(a){a.preventDefault();a.stopPropagation();
q.toggle(this,"active")})},listsSearch:function(){a(".lists-search").on("click",function(a){a.preventDefault();a.stopPropagation();y.main().show("global-search");v.main().hide("account-menu--active")})}});F.main=function(){return F._main?F._main:null};return F})},"mojo/widgets/PhoneNavigation":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_Overlay mojo/widgets/_SlideCard dojo/on dojo/query dojo/_base/array dojo/parser dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-class dijit/registry velocity/velocity".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){var w=l([k,h,f,a],{overlayClass:"mobile-overlay",postMixInProperties:function(){w._main||(w._main=this)},postCreate:function(){c(this.slideNotifications,"click",b.hitch(this,"slideCard",this.notificationsCard,null));this.slideAccount&&c(this.slideAccount,"click",b.hitch(this,"slideCard",this.accountCard,this.accountSearchField));c(this.slideBackNotifications,"click",b.hitch(this,"closeCard",this.notificationsCard));c(this.slideBackAccount,"click",b.hitch(this,
"closeCard",this.accountCard));this.accountSearchField&&c(this.accountSearchField,"keyup",function(a){var b=this.value.toLowerCase();e(".phone-account-list .acl-account").forEach(function(a){var c=q.get(a,"data-account-name").toLowerCase();a.style.display=0>c.indexOf(b)?"none":""})});c(this.closeButton,"click",b.hitch(this,"hide"))}});w.main=function(){return w._main?w._main:null};return w})},"mojo/widgets/TabletNavigation":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/parser dojo/_base/lang dojo/dom dijit/registry velocity/velocity".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){var q=l([k,h,f],{overlayClass:"mobile-overlay",postMixInProperties:function(){q._main||(q._main=this)},postCreate:function(){a(this.closeButton,"click",d.hitch(this,"hide"))}});q.main=function(){return q._main?q._main:null};return q})},"mojo/widgets/MeterLarge":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/MeterLarge.html dojo/dom-class dojo/dom-style dojo/dom-geometry velocity/velocity".split(" "),function(l,
k,h,f,a,c,e,m){return l([k,h],{templateString:f,type:null,value:null,label:"You",leftLabel:"Negative",rightLabel:"Positive",meterClass:null,postCreate:function(){this._initStyles();this._setPopover();this.animateFill()},_initStyles:function(){"spectrum"==this.type&&(this.meterClass="spectrum",a.remove(this.meterAverage,"hide"));this.meterClass&&a.add(this.meterBarNode,this.meterClass)},_setPopover:function(){var a=e.position(this.popover).w;c.set(this.popover,"right",Math.round(a/2*-1)+"px")},animateFill:function(){m(this.meterFill,
{width:this.value+"%"},{easing:"easeInOut",duration:50<=this.value?1500:1E3})}})})},"mojo/widgets/MultivariateSlider":function(){define(["dojo/_base/declare","dijit/form/HorizontalSlider","dojo/dom-construct","dojo/dom"],function(l,k,h,f){return l([k],{potential:0,potentialBarHtml:'\x3cdiv role\x3d"presentation" class\x3d"absolute dijitSliderBar dijitSliderBarH dijitSliderPotentialBar dijitSliderPotentialBarH"\x3e\x3c/div\x3e',fauxRemainingBarHtml:'\x3cdiv role\x3d"presentation" class\x3d"absolute dijitSliderBar dijitSliderBarH fauxRemainingBar fauxRemainingBarH"\x3e\x3c/div\x3e',
sliderValueLabelHtml:'\x3cp class\x3d"fwb slidervalue last"\x3e\x3c/p\x3e',sliderValueLabel:null,potentialBar:null,postMixInProperties:function(){this.inherited(arguments);this.potential=this.maximum},_setValueAttr:function(a,c){this.potential>=a?this.inherited(arguments):this.inherited(arguments,[this.potential]);this.updateLabel()},_setPotentialAttr:function(a){this.potential=a;this.updatePotentialWidth()},_setTotalAttr:function(a){this.updateCount(a)},_getPotentialBarWidth:function(){return(this.potential-
this.minimum)/(this.maximum-this.minimum)*100+"%"},postCreate:function(){this.inherited(arguments);this.potentialBar=h.place(this.potentialBarHtml,this.remainingBar,"after");this.potentialBar.style.width="100%";this.progressBar.style.width="0%";this.potentialBar.style.zIndex=1;this.fauxRemainingBar=h.place(this.fauxRemainingBarHtml,this.potentialBar,"after");this.fauxRemainingBar.style.width="100%";this.fauxRemainingBar.style.background="#f2f2f2";f.byId("variationCount").innerHTML=1;this.sliderValueLabel=
h.place(this.sliderValueLabelHtml,this.domNode,"last");this.progressBar.style.cursor="pointer";this.remainingBar.style.cursor="pointer";this.updateLabel()},updateLabel:function(){this.sliderValueLabel&&(this.sliderValueLabel.innerHTML=this.value,this.remainingBar.style.width=this._getPotentialBarWidth())},updatePotentialWidth:function(){this.potentialBar&&(this.potentialBar.style.width=this._getPotentialBarWidth(),this.remainingBar.style.width=this._getPotentialBarWidth())},updateCount:function(a){f.byId("variationCount").innerHTML=
a}})})},"mojo/widgets/Notifications":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/on dojo/topic dojo/query dojo/request dojo/_base/lang mojo/url velocity/velocity".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([k,h],{dismissEvent:"mojo/widgets/Notifications/dismiss",postCreate:function(){this.own(m(this.domNode,m.selector("a[data-mc-dismiss-link]","click"),p.hitch(this,function(a){a=c.get(a.target,
"data-mc-dismiss-link");this.removeNotifications(a)})));this.own(m(this.dismissAllNotifications,"click",p.hitch(this,function(a){this.removeNotifications()})));this.updateNotificationCounts();d.subscribe(this.dismissEvent,p.hitch(this,function(a){this.removeNotificationElements(a)}))},removeNotifications:function(a){n.post(q.toUrl("account/callback/"+(a?"delete-notification":"delete-all-notifications")),{data:{id:a},preventCache:!0,handleAs:"text"});d.publish(this.dismissEvent,a)},removeNotificationElements:function(a){var c=
this;a=b("[data-mc-notification"+(a?"\x3d'"+a+"'":"")+"]",this.domNode);r(a,"transition.slideRightBigOut",{duration:333,complete:function(a){a.forEach(function(a){e.destroy(a)});c.updateNotificationCounts()}})},updateNotificationCounts:function(){var c=b("[data-mc-notification]",this.domNode).length,d=0>=c;b("[data-mc-notification-count]").forEach(function(b){b.innerHTML=c;a.toggle(b,"hide",d)});a.toggle(this.dismissAllNotifications,"invisible",d);f.set(this.noDataDom,"display",d?"":"none")}})})},
"mojo/widgets/OneTrustModal":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/on"],function(l,k,h){return l([k],{startup:function(){h(this.domNode,"click",function(f){"undefined"!==typeof window.Optanon&&"function"===typeof window.Optanon.ToggleInfoDisplay&&(f.preventDefault(),window.Optanon.ToggleInfoDisplay())})}})})},"mojo/widgets/PredictedDemographics":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./predicted-demographics/templates/predictedDemographics.html dojo/text!./predicted-demographics/templates/genderChart.html dojo/text!./predicted-demographics/templates/ageRangeChart.html mojo/widgets/predicted-demographics/genderChart mojo/widgets/predicted-demographics/ageRangeChart mojo/widgets/ButtonGroup mojo/widgets/predicted-demographics/api mojo/url dojo/_base/lang dojo/_base/array dojo/on dojo/dom-attr dojo/dom-class".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){f=l([k,h,f],{listId:null,campaignId:null,chart:null,chartId:"",chartData:{},legendId:"",metricOptions:"subscribers recipients opens clicks purchases revenue".split(" "),_initChart:function(a){(this.chartData=a)&&1<Object.keys(this.chartData).length&&this._setupMetricControls()},_setupMetricControls:function(){var a=[],c;for(c in this.chartData)this.chartData.hasOwnProperty(c)&&-1!=this.metricOptions.indexOf(c)&&null!=this.chartData[c]&&a.push({value:c,label:c});
a[0]&&(this.tabs=new b({options:a,templateString:'\x3cul class\x3d"flex"\x3e\x3c/ul\x3e',itemTpl:'\x3cli class\x3d"c-buttonGroupItem"\x3e\x3cbutton type\x3d"button" data-mc-value\x3d"{value}" title\x3d"{title}" class\x3d"c-buttonGroupButton v-buttonGroupUnderlined v-buttonGroupUnderlined--compact"\x3e{label}\x3c/button\x3e\x3c/li\x3e',activeClass:"v-buttonGroupUnderlined--active"}),this.tabs.placeAt(this.metricToggler),this.tabs.startup(),this.tabs.setSelected(a[0].value),this.tabs.on("change",q.hitch(this,
"_changeMetric")))},_changeMetric:function(a){this.currentMetric=a;if(-1!=this.metricOptions.indexOf(a))this._updateChart(a);else throw Error("Unhandled metric");},_updateChart:function(a){this.chart.changeMetric(a)}});var v=l([f],{templateString:c,chartId:"genderChartContainer",legendId:"genderLegendContainer",postCreate:function(){(this.campaignId?n.getCampaignGenderData(this.campaignId):n.getListGenderData(this.listId)).then(q.hitch(this,"_initChart"))},_initChart:function(){this.inherited(arguments);
this.chart=new m({chartId:this.chartId,legendId:this.legendId,chartData:this.chartData})}}),y=l([f],{templateString:e,previousData:null,postCreate:function(){(this.campaignId?n.getCampaignGenderByAgeRangeData(this.campaignId):n.getListGenderByAgeRangeData(this.listId)).then(q.hitch(this,"_initChart"))},_initChart:function(){this.inherited(arguments);this.chart=new d({chartData:this.chartData,chartContainer:this.chartContainer})}});return l([k,h],{templateString:a,listId:null,campaignId:null,postCreate:function(){this.genderChart=
new v({listId:this.listId,campaignId:this.campaignId});this.genderChart.placeAt(this.genderChartContainer);this.genderChart.startup();this.ageRangeChart=new y({listId:this.listId,campaignId:this.campaignId});this.ageRangeChart.placeAt(this.ageRangeChartContainer);this.ageRangeChart.startup()}})})},"mojo/widgets/predicted-demographics/genderChart":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/query dojo/on dojo/debounce mojo/colors mojo/widgets/CountUp".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([k],{chartId:null,legendId:null,chartData:null,metric:null,previousData:[],postCreate:function(){var a=Object.keys(this.chartData)[0];this.changeMetric(a);n(window,"resize",p(h.hitch(this,"_renderChart"),500))},_renderChart:function(){var a={type:"pie",dataProvider:this.getCurrentChartData(),titleField:"gender",valueField:"count",pathToImages:"/charts/amcharts/images/",colors:[q.yellow5,q.green4,q.violet4,q.orange5],marginBottom:0,marginLeft:0,marginTop:0,
startDuration:0,pullOutRadius:"0%",angle:0,depth3D:0,minRadius:2,innerRadius:"80%",labelsEnabled:!1,fontFamily:"'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif",fontSize:13,percentFormatter:{precision:1,decimalSeparator:".",thousandsSeparator:","},balloonText:'\x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e \x3cspan class\x3d"capitalize"\x3e[[title]]s\x3c/span\x3e',balloon:{borderThickness:0,animationDuration:.25,fadeOutDuration:.25,shadowColor:"transparent",horizontalPadding:12,
verticalPadding:6,color:q.white,fillColor:q.dark,cornerRadius:3,fillAlpha:1,textAlign:"left"}};this.amchart=AmCharts.makeChart(this.chartId,a)},_renderLegend:function(){var d=a.byId(this.legendId);m.empty(d);f.forEach(this.getCurrentChartData(),h.hitch(this,function(a,b){var c=this.previousData[b];m.place('\x3cdiv class\x3d"unit size1of2 small-meta capitalize fwb nowrap"\x3e\x3cspan class\x3d"swatch v-bg-gender-'+a.gender+'"\x3e\x3c/span\x3e\x3cspan data-mc-group\x3d"countUp" data-mc-value-start\x3d"'+
(c?c.percent:0)+'" data-mc-value-end\x3d"'+a.percent+'"\x3e\x3c/span\x3e% \x3cspan class\x3d"fwn"\x3e'+a.gender+"\x3c/span\x3e\x3c/div\x3e",d)}));this.previousData=this.getCurrentChartData();b('[data-mc-group\x3d"countUp"]',d).forEach(function(a){var b=new r({startVal:c.get(a,"data-mc-value-start"),endVal:c.get(a,"data-mc-value-end"),decimals:1,duration:.5});b.placeAt(a);b.startup()})},_renderNoData:function(){d.set(this.chartId,"height","175px");e.add(this.chartId,"grayscale no-clicky");this.metric=
!1;this._renderChart()},changeMetric:function(a){this.metric=a;this.chartData[this.metric]?(d.set(this.chartId,"height","150px"),this._renderLegend(),this._renderChart()):this._renderNoData()},getCurrentChartData:function(){var a=[{gender:"female",count:25},{gender:"male",count:75}];return this.chartData[this.metric]?this.chartData[this.metric]:a}})})},"mojo/colors":function(){define([],function(){return{black:"#000",white:"#FFF","base-gray":"#F2F2F2",dark:"#373737",blue:"#52BAD5",green:"#72C1B0",
yellow:"#FED156",red:"#E85C41",red1:"#fed6cc",red3:"#fca58e",red6:"#f95c32",green1:"#bff5e8",green3:"#73e8cc",green4:"#4de2bf",green6:"#00d6a3",green7:"#00c193",blue1:"#bfecfa",blue3:"#73d5f3",blue6:"#00b3ea",yellow1:"#fff2cf",yellow3:"#ffe395",yellow5:"#ffd45b",yellow6:"#ffcc3e",pink1:"#ff76a4",pink3:"#ffb4cd",pink6:"#ff76a4",violet1:"#decef3",violet3:"#b593e5",violet4:"#a175de",violet6:"#793ad0",orange1:"#ffe8bf",orange3:"#ffcc73",orange5:"#ffb126",orange6:"#ffa300"}})},"mojo/widgets/predicted-demographics/ageRangeChart":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/meterRow.html dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/query mojo/widgets/CountUp velocity/velocity".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){var t=l([k,h],{templateString:f,label:null,startVal:0,endVal:null,colorClasses:{female:"v-bg-gender-female",male:"v-bg-gender-male",other:"v-bg-gender-other",unknown:"v-bg-gender-unknown"},postCreate:function(){this.inherited(arguments);this._renderMeterRow()},_renderMeterRow:function(){this.meterLabel.innerHTML=this.label;for(var a in this.genders){var c=this.startGenders?this.startGenders[a].percent:this.genders[a].percent,d=this.genders[a].percent;this.genders.hasOwnProperty(a)&&
b.place('\x3cdiv data-mc-group\x3d"animateWidth" data-end-value\x3d"'+d+'" class\x3d"'+this.colorClasses[a]+'" style\x3d"width:'+c+'%;"\x3e\x3c/div\x3e',this.meterContainer)}p("[data-mc-group\x3d'animateWidth']").forEach(function(a){endVal=m.get(a,"data-end-value");r(a,{width:endVal+"%"},{easing:"easeIn",duration:500})});n.set(this.meterContainer,"width",this.startVal+"%");r(this.meterContainer,{width:this.endVal+"%"},{easing:"easeIn",duration:500,delay:10});this.countUp=new q({startVal:this.startVal,
endVal:this.endVal,decimals:1,duration:.5});this.countUp.placeAt(this.meterValue);this.countUp.startup()}});return l([k],{chartData:null,chartContainer:null,previousData:null,postCreate:function(){var a=Object.keys(this.chartData)[0];(a=this.chartData[a])?this._renderChart(a):this._renderNoData()},_renderChart:function(d){b.empty(this.chartContainer);c.forEach(d,a.hitch(this,function(a,b){(new t({label:a.age_range,startVal:this.previousData?this.previousData[b].percent:0,endVal:a.percent,startGenders:this.previousData?
this.previousData[b].genders:null,genders:a.genders})).placeAt(this.chartContainer)}));this.previousData=d},_renderNoData:function(){d.add(this.chartContainer,"grayscale no-clicky");this._renderChart([{age_range:"18-24",percent:0},{age_range:"50-34",percent:0},{age_range:"35-44",percent:0},{age_range:"45-54",percent:0},{age_range:"55-64",percent:0},{age_range:"64+",percent:0}])},changeMetric:function(a){this.chartData[a]?this._renderChart(this.chartData[a]):this._renderNoData()}})})},"mojo/widgets/predicted-demographics/api":function(){define(["dojo/request",
"dojo/_base/lang","mojo/url"],function(l,k,h){return{getCampaignGenderData:function(f){return this._getGenderData({campaign_id:f})},getListGenderData:function(f){return this._getGenderData({list_id:f})},getCampaignGenderByAgeRangeData:function(f){return this._getGenderByAgeRangeData({campaign_id:f})},getListGenderByAgeRangeData:function(f){return this._getGenderByAgeRangeData({list_id:f})},_getGenderData:function(f){return l.get(h.toUrl("/predicted-demographics/get-gender-data"),{handleAs:"json",
query:f})},_getGenderByAgeRangeData:function(f){return l.get(h.toUrl("/predicted-demographics/get-gender-by-age-range-data"),{handleAs:"json",query:f})}}})},"mojo/widgets/ProgressDots":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on dojo/query mojo/colors velocity/velocity dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ProgressDots.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([n,p],{templateString:q,
staticDotTemplate:{"data-mc-group":"progressDot","class":"c-progress_step border-radius--rounded inline-block float-left margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0 v-bg-gray-light"},selectableDotTemplate:{"data-mc-group":"progressDot","data-index":"0","class":"c-progress_step button border-radius--rounded inline-block float-left padding--lv0 margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0 v-bg-gray-light"},isSelectable:!1,stepNum:3,activeStepIndex:1,postCreate:function(){for(var b,
c=0;c<this.stepNum;)this.isSelectable?(b=a.create("button",this.selectableDotTemplate),this._setupSelectableDot(b,c+1)):b=a.create("div",this.staticDotTemplate),a.place(b,this.progressContainer),c++;this.setActiveDot(null)},_setupSelectableDot:function(a,b){h.set(a,"data-index",b);h.set(a,"title","Page "+b);e(a,"click",k.hitch(this,function(a){a=h.get(a.target,"data-index");this.set("onDotSelect",+a)}))},setActiveDot:function(a){a=null===a?this.activeStepIndex:a;var b=this.activeStepIndex;this.activeStepIndex=
Math.min(Math.max(a,1),this.stepNum);a=m(this.progressContainer).children();this._animateActive(a[b-1],a[this.activeStepIndex-1],b<this.stepNum+1)},nextStep:function(){this.setActiveDot(this.activeStepIndex+1)},prevStep:function(){this.setActiveDot(this.activeStepIndex-1)},setStepNum:function(c){if(c!==this.stepNum){for(var d=0,e=Math.abs(this.stepNum-c);d<e;){if(c<this.stepNum){var f=m(this.progressContainer).children();this._animateOut(f[f.length-(1+d)],125*d)}else this.isSelectable?(f=a.create("button",
this.selectableDotTemplate),this._setupSelectableDot(f,this.stepNum+d+1)):f=a.create("div",this.progressDotTemplate),a.place(f,this.progressContainer),b(f,{translateY:"12px",scale:"0.5",opacity:"0"},{duration:0}),this._animateIn(f,100*d);d++}this.stepNum=c;this.setActiveDot(null)}},_animateActive:function(a,c,e){e=null===e?!0:e;b(c,"stop");a!==c&&!0===e&&(b(a,"stop"),b(a,{translateY:"0",scale:"1.0",backgroundColor:"#d0d0d0"},{duration:250}));b.animate(c,{translateY:"-4px",scale:"1.25",backgroundColor:d.blue},
{duration:100,complete:function(){b.animate(c,{translateY:"2px",scale:"1.1"},{duration:200,complete:function(){b.animate(c,{translateY:"0",scale:"1.2"},{duration:250})}})}})},_animateOut:function(c,d){b(c,"stop");b(c,{backgroundColor:"#d0d0d0",scale:"1"},{duration:200});b(c,{translateY:["12px",[.55,-1.4,.82,.63],"0"],scale:["0","linear","1.0"],opacity:["0",[.7,-.03,.82,.63],"1.0"]},{duration:250,delay:d,complete:function(){b(c,{width:["0","linear",c.width],padding:["0","linear","1.0"],margin:["0",
"linear","1.0"]},{duration:150,complete:function(){a.destroy(c)}})}})},_animateIn:function(a,c){b(a,{translateY:["0",[.2,3,1.5,.8],"12px"],scale:["1",[.3,2,.8,.6],"0"],opacity:["1.0",[.05,-.05,.8,.6],"0"]},{duration:300,delay:c})}})})},"mojo/widgets/Renderable":function(){define("dojo/_base/declare dojo/_base/lang dojo/html dojo/query dojo/parser dijit/_WidgetBase dijit/_AttachMixin vendor/lodash-amd/template".split(" "),function(l,k,h,f,a,c,e,m){return l([c,e],{state:{},searchContainerNode:!0,parseContent:!0,
constructor:function(a){if(this.requiredProps){var b=this.requiredProps.filter(function(b){return void 0===a[b]});if(0<b.length)throw"\ud83e\udd13 The following properties are missing from "+this.widgetName+": "+b.join(", ");}if(!this.templateString)throw Error("No templateString provided to Renderable Widget");this.watch("state",this._update.bind(this))},setState:function(a){this.set("state",k.mixin({},this.state,a))},willUpdate:function(){},_update:function(a,b,c){this.shouldUpdate(b,c)&&(this.willUpdate(b,
c),this.render())},shouldUpdate:function(a,b){return JSON.stringify(a)!==JSON.stringify(b)},buildRendering:function(){this.inherited(arguments);this.template=m(this.templateString);this.render()},preserveFocus:function(a){this._focusOnNextRender=(a="blur"===a.type&&a.relatedTarget?a.relatedTarget:a.target)&&a.id;this._focusonNextRenderCaretPosition=a.selectionStart},_restoreFocus:function(){if(this._focusOnNextRender){var a=document.getElementById(this._focusOnNextRender);a&&(this._setCursorPositon(a,
this._focusonNextRenderCaretPosition),a.focus(),this.__focusonNextRenderCaretPosition=this._focusOnNextRender=null)}},_setCursorPositon:function(a,b){if(a.setSelectionRange)return a.setSelectionRange(b,b),!0;if(a.createTextRange){var c=a.createTextRange();c.collapse(!0);c.moveEnd("character",b);c.moveStart("character",b);c.select();return!0}return!1},render:function(){this._detachTemplateNodes(this.domNode);h.set(this.domNode,this.template(this.state));this._attachTemplateNodes(this.domNode);this.parseContent&&
a.parse({rootNode:this.domNode,propsThis:this});this._restoreFocus()}})})},"mojo/widgets/ResizeTextarea":function(){define(["dojo/_base/declare","dijit/_Widget","dojo/dom","dojo/on"],function(l,k,h,f){return l([k],{postCreate:function(){var a=this.domNode;a.style.overflow="hidden";a.style.minHeight=a.offsetHeight+"px";var c=a.offsetHeight-a.clientHeight;f(a,"keyup",function(){a.style.height="auto";a.style.height=parseInt(a.scrollHeight+c,10)+"px"})}})})},"mojo/widgets/SegmentDial":function(){define("dojo/_base/declare dojo/_base/lang dijit/_Widget dijit/_Templated dojo/text!./templates/segmentDial.html dojo/parser dojo/dom-class d3/d3 dojo/NodeList-traverse dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e,m){return l([h,f],{templateString:a,maxValue:8,value:1,setValue:function(a){this.render()},render:function(){var a;a=this.width||160;var b=this.height||160,c=this.radius||a/2,e=m.scale.linear().range([0,360]).domain([0,this.maxValue]);a=m.select(this.segmentDial).append("svg:svg").attr("class","dial block").attr("width",a).attr("height",b).attr("style","margin: 0 auto").append("svg:g").attr("transform","translate("+c+", "+c+")");a.append("svg:circle").attr("r",c-4).attr("class",
"dial").style("fill","white").attr("stroke","#e0e0e0").attr("stroke-width",8);this.dial=a;this.arc=b=m.svg.arc().innerRadius(c-8).outerRadius(c).startAngle(0);this.path=a.append("svg:path").datum({endAngle:0}).style("fill","#52bad5").attr("d",b);a.append("svg:g").attr("class","ticks").selectAll(".tick").data(m.range(0,this.maxValue)).enter().append("svg:line").attr("class","tick").attr("x1",-1).attr("x2",-1).attr("y1",c+1).attr("y2",c-9).attr("transform",function(a){return"rotate("+(180+e(a))+")"}).style("fill",
"none").attr("stroke-width",4).attr("stroke","white")},drawArc:function(a,b){var c=2*Math.PI/this.maxValue*b;this.path.datum({endAngle:2*Math.PI/this.maxValue*a}).transition().ease("elastic",1,2).duration(200).call(function(a,b,c){a.attrTween("d",function(a){var d=m.interpolate(a.endAngle,b);return function(b){a.endAngle=d(b);return c(a)}})},c,this.arc)},updateLabel:function(){e.toggle(this.maxLabel,"hide",this.value<this.maxValue);var a=this;m.select(this.valueLabel).transition().duration(200).tween("text",
function(){var b=m.select(this),c=m.interpolate(b.text(),a.value);return function(a){b.text(Math.round(c(a)))}})},updateZeroLabel:function(){e.toggle(this.maxZeroLabel,"hide",0<this.value)},postCreate:function(){this.render();this.watch("value",k.hitch(this,function(a,b,c){this.drawArc(b,c);this.updateLabel();this.updateZeroLabel()}))}})})},"mojo/widgets/SegmentDropdown":function(){define("dojo/_base/declare dojo/_base/lang dojo/request dojo/on dojo/dom-construct dojo/dom-class dijit/_Widget dijit/_Templated dojox/html/entities mojo/url mojo/api/segment dojo/text!./templates/segmentsDropdown.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){var q=l([e,m],{templateString:p,firstOption:null,nameAttribute:"segment_id",sourceFunction:null,sourceUrl:"/lists/segments/saved",createOption:!1,createSegmentOptionText:"Create a new segment",labels:{advanced:"Advanced",saved_pro:"Advanced",saved:"Auto-Update","static":"Static",pasted:"Pasted",fuzzy:"Fuzzy",prebuilt:"Pre-built",contacts:"Contacts","contact-status":"Contacts","subscriber-engagement":"Subscriber Engagement","customer-behavior":"Customer Behavior",
"subscriber-profile":"Demographics"},load:function(a){var b=this._update.bind(this,a);this.sourceFunction?this.sourceFunction(a).then(b):n.getSegmentGroups(a,this.sourceUrl).then(b)},_getGroupLabel:function(a){return this.labels[a]||a},_update:function(e,f){a.empty(this.segmentSelect);if(this.firstOption){var h=a.create("option",{value:q.OPTION_ENTIRE_LIST,innerHTML:this.firstOption});a.place(h,this.segmentSelect)}this.createOption&&(h=a.create("option",{value:q.OPTION_CUSTOM_SEGMENT,innerHTML:this.createSegmentOptionText,
selected:this.selected===q.OPTION_CUSTOM_SEGMENT}),a.place(h,this.segmentSelect));var m=!1;f.forEach(function(b){if(0<b.segments.length){m=!0;var c=a.create("optgroup",{label:this._getGroupLabel(b.type)});b.segments.forEach(function(e){var f=d.encode(e.name);e=b.type+":"+e.segmentId;f=a.create("option",{value:e,innerHTML:f});f.selected=this.selected===e;a.place(f,c)}.bind(this));a.place(c,this.segmentSelect)}}.bind(this));m?(c.remove(this.segmentSelect,"hide"),c.add(this.noSegments,"hide")):(this.createSegment.href=
b.toUrl("/lists/members",{id:e,open_segment:1}),c.remove(this.noSegments,"hide"),c.add(this.segmentSelect,"hide"))},postCreate:function(){var a=this.onChange;this.segmentSelect.name=this.nameAttribute;this.listId&&this.load(this.listId);this.own(f(this.segmentSelect,"change",function(b){if(a)return a(b)}))}});q.OPTION_CUSTOM_SEGMENT="_CUSTOM_";q.OPTION_ENTIRE_LIST="";return q})},"mojo/api/segment":function(){define("dojo/_base/declare dojo/request/xhr dojo/promise/all mojo/url mojo/validation/Error mojo/lib/Poller mojo/lib/request-helpers".split(" "),
function(l,k,h,f,a,c,e){var m=l(null,{constructor:function(a){this.type=a.type;this.segments=a.segments}}),d=l(null,{constructor:function(a){this.segmentId=a.id;this.name=a.name;this.listId=a.list_id;this.type=a.type;this.typeDescription=a.typeDescription;this.createdAt=a.createdDate;this.updatedAt=a.updatedDate;this.status=a.status}}),b=l(d,{constructor:function(a){this.originalPastedBlob=a.pasted.emails;this.excludeOrInclude=a.pasted.pasted_segment_options;this.malformedEmails=a.pasted.invalid_data;
this.notExistsEmails=a.pasted.not_exists;this.unsubbedEmails=a.pasted.unsubbed;this.count=a.count}}),n=l(null,{constructor:function(a){this.editorHtml=a.editor_html}}),p=l(null,{constructor:function(a){this.count=a.count}}),q={getSegmentEditorHtml:function(a,b){var c=f.toUrl("/campaigns/segments/get-editor",{list_id:a,conditions:b});return k.get(c,{handleAs:"json"}).then(function(a){return new n(a)},e.handleError)},createPastedSegment:function(a,c,d){a=f.toUrl("/campaigns/segments/create-pasted",
{list_id:a});return k.post(a,{handleAs:"json",data:{emails:c,pasted_segment_options:d}}).then(function(a){return new b(a)},e.throwError)},getSegment:function(a){a=f.toUrl("/campaigns/segments/get-segment",{segment_id:a});return k.get(a,{handleAs:"json"}).then(function(a){return"pasted"in a?new b(a):new d(a)},e.throwError)},getCount:function(a,b){var d=this._getPollableFunc(a,b),d=new c(d);d.begin();return d.getPromise()},_getPollableFunc:function(a,b){if(null===b)return q._getCustomSegmentCount.bind(null,
a,{match:"any",conditions:[]});if(0<=[q.TYPE_SAVED,q.TYPE_STATIC,q.PANE_PASTED].indexOf(b.type))return q._getSavedSegmentCount.bind(null,b.id);if(b.type===q.TYPE_PREBUILT)return q._getPrebuiltSegmentCount.bind(null,a,b.id);if(b.type===q.TYPE_CUSTOM)return q._getCustomSegmentCount.bind(null,a,b.value);if(b.type===q.TYPE_SAVED_PRO)return q._getProSavedSegmentCount.bind(null,b.id);if(b.type===q.TYPE_CUSTOM_PRO)return q._getProCustomSegmentCount.bind(null,a,b.value);throw Error("No counting function for segment type '"+
b.type+"'");},_getSavedSegmentCount:function(a){return q._makePollingRequest(f.toUrl("/segments/saved/get-recipients-count",{saved_segment_id:a}))},_getPrebuiltSegmentCount:function(a,b){return q._makePollingRequest(f.toUrl("/segments/prebuilt/get-recipients-count",{list_id:a,prebuilt_segment_id:b}))},_getCustomSegmentCount:function(a,b){return q._makePollingRequest(f.toUrl("/segments/custom/get-recipients-count",{list_id:a,segment:JSON.stringify(b)}))},_getProSavedSegmentCount:function(a){return q._makePollingRequest(f.toUrl("/segments/pro-saved/get-recipients-count",
{pro_saved_segment_id:a}))},_getProCustomSegmentCount:function(a,b){return q._makePollingRequest(f.toUrl("/segments/pro-custom/get-recipients-count",{list_id:a,ast:JSON.stringify(b)}))},_makePollingRequest:function(a){return k.get(a,{handleAs:"json"}).then(function(a){return"waiting"===a.status?c.RETRY:new p(a)},e.throwError)},getCachedPostcardSegmentGroups:function(a){return this._getCachedSegmentGroups(a,"lists/segments/saved-postcards")},_cachedSegmentGroups:{},_getCachedSegmentGroups:function(a,
b){var c=this._cachedSegmentGroups[a];return c?h().then(function(){return c}):this.getSegmentGroups(a,b).then(function(b){var c=["contact-status","prebuilt","static","saved"];b=b.sort(function(a,b){var d=c.indexOf(a.type),e=c.indexOf(b.type);return d>e?1:e===d?0:-1});return this._cachedSegmentGroups[a]=b}.bind(this))},fetchSegmentCount:function(a,b,c){return k.post(f.toUrl("/lists/segments/saved-postcard-segment-count",{id:a,segment_id:b,segment_type:c}),{handleAs:"json"}).then(function(a){return a.count})},
getSegmentGroups:function(a,b){return k.get(f.toUrl(b),{handleAs:"json",query:{id:a}}).then(function(b){return Object.keys(b).map(function(c){var e=b[c],f=Object.keys(e).map(function(b){return new d({id:b,name:e[b],list_id:a})});return new m({type:c,segments:f})})})},TYPE_SAVED:"saved",TYPE_CUSTOM:"custom",TYPE_PREBUILT:"prebuilt",TYPE_SAVED_PRO:"saved_pro",TYPE_CUSTOM_PRO:"custom_pro",TYPE_STATIC:"static",TYPE_PASTED:"pasted"};return q})},"mojo/lib/Poller":function(){define(["dojo/_base/declare",
"dojo/Deferred"],function(l,k){var h=l(null,{constructor:function(f,a){this._pollableFunc=f;this._delayStrategy=a||h.EXPONENTIAL_BACKOFF_DELAY_STRATEGY;this._previousAttempts=0;this._timeout_id=this._pollable_promise=null;this._deferred=new k(this._handleCancel.bind(this))},getPromise:function(){return this._deferred.promise},begin:function(){0===this._previousAttempts&&this._makeAttempt()},_makeAttempt:function(){this._previousAttempts++;this._pollable_promise=this._pollableFunc();this._pollable_promise.then(this._handlePollableSuccess.bind(this),
this._handlePollableError.bind(this))},_handlePollableSuccess:function(f){f!==h.RETRY?this._deferred.resolve(f):(f=this._delayStrategy(this._previousAttempts),this._timeout_id=setTimeout(this._makeAttempt.bind(this),f))},_handlePollableError:function(f){this._deferred.reject(f)},_handleCancel:function(){this._timeout_id&&clearTimeout(this._timeout_id);this._pollable_promise&&this._pollable_promise.cancel()}});h.EXPONENTIAL_BACKOFF_DELAY_STRATEGY=function(f){return 1E3*Math.pow(1.15,f)};h.RETRY="retry";
return h})},"mojo/widgets/SimpleViewAdapter":function(){define("dojo/_base/declare dojo/_base/lang dojo/parser dijit/registry mojo/widgets/_ViewAdapterBase dojo/query dojo/dom-construct dojo/NodeList-traverse".split(" "),function(l,k,h,f,a,c,e){return l([a],{placeHolder:null,constructor:function(a){var d=this.placeHolder=e.create("div");c(a).children().forEach(function(a){f.findWidgets(a).forEach(function(a){a.destroy(!0)});e.place(a,d)})},createView:function(a){a=k.clone(c(this.placeHolder).children()[a]);
h.parse(a);return a},getCount:function(){return c(this.placeHolder).length},destroy:function(){e.destroy(this.placeHolder)}})})},"mojo/widgets/_ViewAdapterBase":function(){define(["dojo/_base/declare"],function(l){return l([],{createView:function(k){},destroyView:function(k){},getCount:function(){return 0},destroy:function(){}})})},"mojo/widgets/SliderGroup":function(){define(["dojo/_base/declare","dojo/on","dojo/_base/lang","dojo/_base/array"],function(l,k,h,f){return l([],{sliders:[],maxValue:10,
minValue:1,constructor:function(a){h.mixin(this,a);f.forEach(this.sliders,h.hitch(this,"addSlider"))},addSlider:function(a){-1===f.indexOf(this.sliders,a)&&this.sliders.push(a);k(a,"change",h.hitch(this,"_updateProgress",a))},_updateProgress:function(a){f.forEach(this.sliders,h.hitch(this,function(a){var e=this._getPotential(a),f=this._getTotal();a.set("potential",e);a.set("total",f)}))},_getTotal:function(){var a=1;f.forEach(this.sliders,function(c){a*=c.value});return a},_getPotential:function(a){var c=
this.maxValue;f.forEach(this.sliders,function(e){a!=e&&(c=Math.floor(c/e.value))});return c}})})},"mojo/widgets/SliderWithLabel":function(){define(["dojo/_base/declare","dijit/form/HorizontalSlider","dojo/dom-construct","dojo/dom"],function(l,k,h,f){return l([k],{sliderLabelHtml:'\x3cdiv role\x3d"presentation" aria-hidden\x3d"true" data-mc-el\x3d"sliderValueLabel" class\x3d"slider-label alignc relative inline-block fwb small-meta border-radius--lv1"\x3e\x3c/div\x3e',postCreate:function(){this.inherited(arguments);
this.sliderLabel=h.place(this.sliderLabelHtml,this.sliderComponents,"last");this.sliderLabel.innerHTML=this.value},_mouseWheeled:function(){}})})},"mojo/widgets/StatusBar":function(){define("dojo/_base/declare dojo/_base/array dojo/debounce dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/widgets/StatusBarActions dojo/text!./templates/StatusBar.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){return l([m,d,b],{templateString:p,
actions:{},status:{},icon:{classes:""},title:"",label:"",badge:{type:"",label:""},badgeOptions:{},actionOptions:[],_createBadgeOptions:function(){this.badgeOptions.draft={type:"",label:"Draft"};this.badgeOptions.pending={type:"warning",label:"In review"};this.badgeOptions.scheduled={type:"warning",label:"Scheduled"};this.badgeOptions.active={type:"info",label:"Published"};this.badgeOptions.paused={type:"warning",label:"Paused"};this.badgeOptions.rejected={type:"error",label:"Rejected"};this.badgeOptions.completed=
{type:"success",label:"Completed"}},postMixInProperties:function(){this.inherited(arguments);this._createBadgeOptions();this.title=this.status.title;this.label=this.status.label;this.badge=this.badgeOptions[this._getStatusName()]},postCreate:function(){this.inherited(arguments);var a=this;this._createActions();this._placeActions();this._createActionOptions();this._setAvailableActions();e(window,"resize",h(function(b){a._onResize()},100))},render:function(a,b){this.placeAt(b);this._onResize();return this},
_onResize:function(){this.actionContainerDesktop&&("none"===c.get(this.actionContainerDesktop,"display")?a.place(this.actions.containerNode,this.actionsMobile):a.place(this.actions.containerNode,this.actionsDesktop))},_createActions:function(){this.actions=new n({status:this.status})},_placeActions:function(){a.place(this.actions.containerNode,this.actionsDesktop);this.actions.startup()},_createActionOptions:function(){},_setAvailableActions:function(){var a=this;k.forEach(this.actionOptions[this._getStatusName()],
function(b){k.forEach(a.actions.containerNode.childNodes,function(a){f.toggle(b,"hide",b===a)})})},_getStatusName:function(){return this.status.name}})})},"mojo/widgets/StatusBarActions":function(){define("dojo/_base/declare dojo/dom-attr mojo/context dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/StatusBarActions.html".split(" "),function(l,k,h,f,a,c,e){return l([f,a,c],{templateString:e,rootUrl:h.rootUrl,status:null,_setActionName:function(a,c){a.innerText=
c;k.set(a,"title",c)}})})},"mojo/widgets/SubscriberTableOverlay":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin mojo/widgets/_Overlay dojo/text!./templates/SubscriberTableOverlay.html dojo/on dojo/dom-attr dojo/_base/lang dojo/dom-construct mojo/url mojo/segmentation/api mojo/analytics/VisTableListMembers mojo/analytics/VisQuery mojo/google/Grid mojo/google/Query".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){var u=null,w=l([k,h,f],{overlayClass:"subscriber-table-overlay",
templateString:a,showPagination:!0,persistTableSettings:!0,postMixInProperties:function(){u||(u=this)},postCreate:function(){c(this.closeButton,"click",m.hitch(this,function(a){window.history.back()}));c(window,"popstate",m.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.hide()}))},load:function(a,c,d,e){window.history.pushState(null,null,window.location.pathname+window.location.search+"#overlay");m.mixin(this,d);c={list_id:a,type:e,ast:JSON.stringify(c)};this._createMemberTable(a,
b.toUrl("/pro/segments/popup-data"),c,{sortable:!1});this.show()},loadRegular:function(a,c,d){window.history.pushState(null,null,window.location.pathname+window.location.search+"#overlay");m.mixin(this,d);c={id:c,lid:a};this._createMemberTable(a,b.toUrl("/campaigns/segments/popup-data"),c,{sortable:!1});this._loadDescription(c);this.show()},_createMemberTable:function(a,b,c,d){n.getSubscribersVisGridQuery(a).then(m.hitch(this,function(a){this.membersTable=new p({query:new q(b,a,c),pageSize:100,options:d,
showPagination:this.showPagination,persistTableSettings:this.persistTableSettings});this.membersTable.placeAt(this.memberGridContainer)}))},_loadDescription:function(a){n.getSubcribersDescriptionQuery(a).then(m.hitch(this,function(a){this._setMemberDescription(a)}))},_setMemberDescription:function(a){this.memberDescriptionContainer.innerHTML=a},onShow:function(){},onHide:function(){this.membersTable.destroy();this._setMemberDescription("")}});return{main:function(){u||(u=new w,u.placeAt(document.body));
return u}}})},"mojo/segmentation/api":function(){define(["dojo/Deferred","dojo/request","mojo/url"],function(l,k,h){var f={};return{getConfig:function(a,c){var e=a+":"+c,m=f[e];if(!m||m.isRejected())m=k.get(h.toUrl("/lists/segments/config"),{handleAs:"json",query:{id:a,type:c}}),f[e]=m;return f[e]},getSubscribersVisGridQuery:function(a){return k.get(h.toUrl("/lists/segments/get-subscribers-vis-grid-query"),{handleAs:"json",query:{id:a}})},getSubcribersDescriptionQuery:function(a){return k.get(h.toUrl("/campaigns/segments/popup-description"),
{handleAs:"html",query:a})}}})},"mojo/analytics/VisTableListMembers":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/window dojo/window dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/html dojo/on dojo/store/Memory dojo/store/Observable dojo/text!./templates/listMembersTable.html dojo/parser ./VisTable ./parts/VisRowSelector ./_SelectableMixin dojox/mvc/sync dojox/html/entities dojo/query dojo/topic dojo/dom-geometry dojo/dom-style dijit/registry mojo/utils mojo/widgets/CircularLoader dojo/sniff dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I){return l([u,v],{templateString:r,canSelectAll:!0,dateRows:0,constructor:function(){this._syncs=[];this._queries={}},postMixInProperties:function(){this.queryFilters&&this.selectedQueryFilter&&(this.query.query=this.queryFilters[this.selectedQueryFilter]);this._queries.regular=this.query;this.segmentQuery&&(this._queries.segment=this.segmentQuery);this._toggleQuery();this.inherited(arguments)},postCreate:function(){this.dataRows=0;this.inherited(arguments);
this.watch("selectedQueryFilter",h.hitch(this,function(){this._updateActiveValue();this.query.query=this.queryFilters[this.selectedQueryFilter];this.set("page",1);this.requery()}));this._updateActiveValue();this.watch("segment",h.hitch(this,function(){var a=this.segment;a&&"started"==a.status?this.showLoader():(this._toggleQuery(),this.requery())}));this.instantiateFloatingHeader();this.loader=new G({color:"#6dc5dc",bgColor:"#d0d0d0"});this.loader.startup();this.loader.placeAt(this.loaderDom)},requery:function(){this.queryFilters&&
this.selectedQueryFilter&&(this.query.query=this.queryFilters[this.selectedQueryFilter]);this.refresh(!0)},refresh:function(a,b){var c=this;if(this.refreshing)return!1;this.refreshing=!0;c.showLoader();return this.query.getCount().then(h.hitch(this,function(b){this.set("total",b);this.total?(this._toggleNoData(!1),this._getData(a).then(function(){c.refreshing=!1;c.hideLoader();var a=B.docScroll().y;F.getAppScrollContainer();a>c.topPosition&&A(".table-pagination")[0].scrollIntoView()})):(this.refreshing=
!1,this._toggleNoData(!0),z.publish("mojo/analytics/"+c.id+"/ready"))}))},showLoader:function(){m.add(this.subscriberTableOverlay,"loading")},hideLoader:function(){m.remove(this.subscriberTableOverlay,"loading")},getActiveValue:function(){var a;switch(this.selectedQueryFilter){case "bounced":a="B";break;case "unsub":a="N";break;default:a="Y"}return a},clearSelectionModel:function(a){for(var b in this.selected)this.selected.hasOwnProperty(b)&&this._validValue(b)&&(a||!this._valueSelected(b))&&(this.selected.set(b,
!1),delete this.selected[b])},_updateActiveValue:function(){for(var a in this._queries)this._queries.hasOwnProperty(a)&&(this._queries[a].urlParams.active=this.getActiveValue())},_toggleQuery:function(){this.segment?(this.query=this._queries.segment,this.set("canSelectAll",!1)):(this.query=this._queries.regular,this.set("canSelectAll",!0))},_toggleNoData:function(a){var b;b=this.options.noMembersMsg&&!this.segment&&"active"==this.selectedQueryFilter?this.options.noMembersMsg:this.noDataMsg;a?(m.add(this.dataTable,
"hide"),m.remove(this.noData,"hide"),e.place("\x3cdiv\x3e"+b+"\x3c/div\x3e",this.noData,"only")):(m.remove(this.dataTable,"hide"),m.add(this.noData,"hide"))},_getData:function(a){var b=this;this.persistSettings();b._removeState(a);return this.query.getData(this.page,this.pageSize).then(function(c){b.dataRows=c.rows.length;if(0===b.dataRows)b.set("total",b.dataRows),b._toggleNoData(!0),m.add("hide",A(".subscriber-table-wrap")[0]);else{b.store=new q(new p({data:c.rows}));z.publish("mojo/analytics/"+
b.id+"/ready");e.empty(b.accessibleTableHeader);e.empty(b.accessibleTable);var f=[],l=e.create("tr");k.forEach(c.headers,function(a){var c;switch(a.id){case "bulk_check":c=e.create("td",{"class":"col-head row-head row-select",role:"columnheader",innerHTML:a.label},l);5<b.dataRows&&e.create("div",{"class":"vis-row-selector"},c);break;case "email_link":case "view_activity_link":c=e.create("td",{"class":"col-head row-head",role:"columnheader",innerHTML:a.label},l);break;case "list_email_id":break;default:c=
e.create("td",{"class":"col-head",role:"columnheader",innerHTML:a.label},l)}b._fieldIsSortableCheck(a.id)&&(d.set(c,"data-mojo-table-sort",a.id),m.add(c,"sortable"),b.sortAttr===a.id&&b.addSortClass(c))});"bulk_check"!==c.headers[0].id?(m.add(b.accessibleTableHeader,"no-checkbox"),m.add(b.accessibleTable,"no-checkbox"),this.noCheckbox=!0):(m.remove(b.accessibleTableHeader,"no-checkbox"),m.remove(b.accessibleTable,"no-checkbox"),this.noCheckbox=!1);1===c.headers.length&&(m.add(b.accessibleTableHeader,
"email-only"),m.add(b.accessibleTable,"email-only"));k.forEach(c.rows,function(a){var d=e.create("tr"),h,m,l;m=0;var n=/^interests/;for(h in a)if(a.hasOwnProperty(h))switch(h){case "email_link":case "view_activity_link":l=e.create("td",{"class":"row-head",title:"View Profile"});emailDiv=e.create("div",{"class":"profile-view",innerHTML:a[h]},l);e.place(emailDiv,l);e.place(l,d);m++;break;case "bulk_check":l=e.toDom(a.email_link);e.create("td",{"class":"row-head profile-select",innerHTML:a[h],title:"Email address: "+
l.innerHTML},d);m++;break;case "rating":e.create("td",{innerHTML:a[h],title:"Member Rating"},d);m++;break;default:0>k.indexOf(b.options.blacklist,h)&&("string"==typeof a[h]&&-1!=a[h].indexOf("\x3cbr")?(l=e.create("td",{title:c.headers[m].label},d),e.create("div",{"class":"address",innerHTML:a[h]},l)):h.match(n)?e.create("td",{innerHTML:x.encode(a[h]),title:c.headers[m].label},d):e.create("td",{innerHTML:a[h],title:c.headers[m].label},d)),m++}f.push(d)});5<b.dataRows?(e.place(l,b.accessibleTableHeader),
m.remove(A(".fixed-header")[0],"hide"),m.remove(A(".table-body")[0],"few-rows")):(e.place(l,b.accessibleTable),m.add(A(".fixed-header")[0],"hide"),m.add(A(".table-body")[0],"few-rows"));k.forEach(f,function(a){e.place(a,b.accessibleTable)});t.parse(b.accessibleTable);b.resize();b.rowSelector&&b.rowSelector.destroyRecursive();b.rowSelector=new w({target:b,canSelectAll:b.canSelectAll},A(".vis-row-selector",b.accessibleTableHeader)[0]);b.rowSelector=new w({target:b,canSelectAll:b.canSelectAll},A(".vis-row-selector",
b.accessibleTable)[0]);A(".selectCheckBox",this.domNode).forEach(h.hitch(this,function(c){c=D.byNode(c);a||1!=b.selected[c.value]&&1!=b.allAll?b.selected[c.value]=!1:(c.set("checked",!0),b.selected[c.value]=!0);b._syncs.push(y(b.selected,c.value,c,"checked"))}))}})},setTopPosition:function(){var a=F.getTabletNaviHeight();this.topPosition=1024>=window.innerWidth?B.position(A(".st")[0],!0).y-a:B.position(A(".st")[0],!0).y},resize:function(){var a=0;if(5<this.dataRows){var b=A("td",A(".table-header tr")[0]),
c=A("td",A(".table-contents tr")[0]),d=b.map(function(a){return a.clientWidth});d.reduce(function(a,b){return a+b});var e=c.map(function(a){return a.clientWidth});e.reduce(function(a,b){return a+b});k.forEach(b,function(a,b){var c=Math.max(e[b],d[b]);a.style.width=c+"px";a.style.minWidth=c+"px"});k.forEach(c,function(f,h){var m=Math.max(d[h],e[h]);f.style.width=m+"px";f.style.minWidth=m+"px";if(h===c.length-1){var k=A(".table-body")[0],l=A(".table-contents")[0];a=k.clientWidth-l.clientWidth-m;a>m?
(f.style.width="100%",b[h].style.width="100%"):f.style.width=m+"px"}})}else{var c=A("td",A(".table-contents tr")[0]),f=A(".table-body")[0],h=A(".table-contents")[0],m=c[c.length-1],a=f.clientWidth-h.clientWidth-m.clientWidth;0<a&&(m.style.width="100%")}},instantiateSort:function(){var a=this;n(a.domNode,".sortable:click",function(){if(!a.refreshing){var b=a.sortAttr;a.sortAttr=d.get(this,"data-mojo-table-sort");a._fieldIsSortableCheck(a.sortAttr)&&(a.sortOrder=b!=a.sortAttr?!0:!a.sortOrder,a.performSort(a.sortAttr,
a.sortOrder),a.addSortClass(this))}})},instantiateFloatingHeader:function(){var a=this,b=0;n(window,"resize",function(){var c=A("td",A(".table-header tr")[0]),d=A("td",A(".table-contents tr")[0]),e=A(".table-body")[0],f=A(".table-contents")[0];d[d.length-1].style.width=0;c[c.length-1].style.width=0;var h=Math.max(c[c.length-1].clientWidth,d[d.length-1].clientWidth);b=e.clientWidth-f.clientWidth-h;I("chrome")&&(b-=6);b>h?(c[c.length-1].style.width=b+"px",d[d.length-1].style.width=b+"px"):(c[c.length-
1].style.width=h+"px",d[d.length-1].style.width=h+"px");a.stickyHeader()});n(window,"scroll",function(){a.stickyHeader()});a.scrollCache=0;n(a.accessibleTableBody,"scroll",function(){this.scrollLeft!==a.scrollCache&&(a.accessibleTableHeaderBody.scrollLeft=this.scrollLeft,a.scrollCache=this.scrollLeft)});a.accessibleTableHeaderBody&&n(a.accessibleTableHeaderBody,"scroll",function(){this.scrollLeft!==a.scrollCache&&(a.accessibleTableBody.scrollLeft=this.scrollLeft,a.scrollCache=this.scrollLeft)})},
stickyHeader:function(){var a=A(".subscriber-table")[0],b=A(".main")[0],c=A(".content")[0],d=A(".fixed-header")[0],a=B.position(a);a.h&&(b=b?B.position(b):B.position(c),60>a.y&&d?(m.add(d,"sticky"),d.style.top=1024>=window.innerWidth?-1*b.y+60+"px":"60px"):(d.style.top=0,m.remove(d,"sticky")))},_fieldIsSortableCheck:function(a){return 0<=k.indexOf(this.query.query.sortable,a)||0<=k.indexOf(this.options.sortable,a)},_removeState:function(a){k.forEach(this._syncs,"item.remove();");this._syncs=[];this.clearSelectionModel(a)}})})},
"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(l,k,h,f){l=function(a){function c(c,d){var e=a[c];e&&(a[c]=function(f){var m;"put"===c&&(m=a.getIdentity(f));if(b)return e.apply(this,arguments);b=!0;try{var k=e.apply(this,arguments);h(k,function(a){d("object"==typeof a&&a||f,m)});return k}finally{b=!1}})}var e=[],m=0;a=k.delegate(a);a.notify=function(a,b){m++;for(var c=e.slice(),d=0,f=c.length;d<f;d++)c[d](a,b)};var d=a.query;a.query=
function(b,c){c=c||{};var l=d.apply(this,arguments);if(l&&l.forEach){var r=k.mixin({},c);delete r.start;delete r.count;var t=a.queryEngine&&a.queryEngine(b,r),u=m,w=[],v;l.observe=function(b,d){1==w.push(b)&&e.push(v=function(b,e){h(l,function(h){var k=h.length!=c.count,l,n;if(++u!=m)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var q,r=-1,v=-1;if(void 0!==e)for(l=0,n=h.length;l<n;l++){var y=h[l];if(a.getIdentity(y)==e){q=y;r=l;!t&&b||h.splice(l,
1);break}}t?b&&(t.matches?t.matches(b):t([b]).length)&&(l=-1<r?r:h.length,h.splice(l,0,b),v=f.indexOf(t(h),b),h.splice(l,1),c.start&&0==v||!k&&v==h.length?v=-1:h.splice(v,0,b)):b&&(void 0!==e?v=r:c.start||(v=a.defaultIndex||0,h.splice(v,0,b)));if((-1<r||-1<v)&&(d||!t||r!=v))for(k=w.slice(),l=0;h=k[l];l++)h(b||q,r,v)})});var k={};k.remove=k.cancel=function(){var a=f.indexOf(w,b);-1<a&&(w.splice(a,1),w.length||e.splice(f.indexOf(e,v),1))};return k}}return l};var b;c("put",function(b,c){a.notify(b,c)});
c("add",function(b){a.notify(b)});c("remove",function(b){a.notify(void 0,b)});return a};k.setObject("dojo.store.Observable",l);return l})},"mojo/analytics/VisTable":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/_base/lang dojo/dom dojo/_base/array dojo/dom-construct dojo/on dojo/dom-attr dojo/dom-class dojo/store/Memory dojo/store/Observable dojo/topic dojo/hash dojo/query mojo/user dojo/text!./templates/table.html dojo/text!./templates/noData.html ./parts/Paging ./parts/PageSizeSelect".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){var A={allowHtml:!0,pageSize:u.settings.pageSize,sort:"query"};return l([k,h],{templateString:w,showPagination:!0,persistTableSettings:!0,page:1,constructor:function(){this.store=new p(new n)},postMixInProperties:function(){this.options=f.mixin({},A,this.options);this.reloadNoDataMsg();this.setDefaults()},reloadNoDataMsg:function(){var a="egg";if(this.srcNodeRef){var b=d.get(this.srcNodeRef,"data-mojo-nodataicon");b&&(a=b)}this.noDataMsg=this.options.noDataDom?
t(this.options.noDataDom).html():this.options.noDataMsg||f.replace(v,{icon:a})},setDefaults:function(){if(this.persistTableSettings){var a=r();a&&(a=a.split("-"))&&a.length&&c.forEach(a,f.hitch(this,function(a){a=a.split(":");switch(a[0]){case "p":this.page=parseInt(a[1],10);break;case "s":this.pageSize=parseInt(a[1],10);break;case "sa":this.sortAttr=a[1];break;case "so":this.sortOrder="true"==a[1]}}));0>=this.page&&(this.page=1);100<this.pageSize&&(this.pageSize=100);this.pageSize||(this.pageSize=
this.options.pageSize);this.pageSize||(this.pageSize=25);"undefined"!==typeof this.sortAttr&&(a=this.sortOrder,"undefined"==typeof this.sortOrder&&(a=!1),this.query.setSort(this.sortAttr,a))}},persistSettings:function(){if(this.persistTableSettings){var a=[];a.push("p:"+this.page);a.push("s:"+this.pageSize);this.sortAttr&&a.push("sa:"+this.sortAttr);"undefined"!==typeof this.sortOrder&&a.push("so:"+this.sortOrder);r(a.join("-"),!0);u.saveSetting("vis_grid_page_size",this.pageSize)}},postCreate:function(){this.showPagination&&
(this.topPaging&&(this.topPaging=new y({target:this},this.topPaging)),this.topPageSizeSelect&&(this.topPageSizeSelect=new x({target:this},this.topPageSizeSelect)),this.bottomPaging&&(this.bottomPaging=new y({target:this},this.bottomPaging)),this.bottomPageSizeSelect&&(this.bottomPageSizeSelect=new x({target:this},this.bottomPageSizeSelect)));this.instantiateSort();this.watch("page",f.hitch(this,function(){this.refresh(!1,!0)}));this.watch("pageSize",f.hitch(this,function(){1==this.page?this.refresh():
this.set("page",1)}));this.options.wait||this.refresh()},instantiateSort:function(){var a=this;m(this.domNode,"th:click",function(){var b=a.sortAttr;a.sortAttr=d.get(this,"data-mojo-table-sort");if(null===a.sortable||0<=c.indexOf(a.options.sortable,a.sortAttr))a.sortOrder=b!=a.sortAttr?!0:!a.sortOrder,a.performSort(a.sortAttr,a.sortOrder),a.addSortClass(this)})},performSort:function(a,b){var d=this;"client"==this.options.sort?(e.empty(this.body),this.store.query({},{sort:[{attribute:a,descending:!b}]}).forEach(function(a){var b=
e.place("\x3ctr\x3e\x3c/tr\x3e",d.body);c.forEach(d.headers,function(c){e.place("\x3ctd\x3e"+a[c]+"\x3c/td\x3e",b)})})):"query"==this.options.sort&&(this.query.setSort(a,b),this.refresh(!1,!0))},addSortClass:function(a){t("th, .h-head").removeClass("sort-a sort-d sorted");b.add(a,this.sortOrder?"sort-a sorted":"sort-d sorted")},refresh:function(){this.refreshing=!0;this.total||this.query.getCount().then(f.hitch(this,function(a){this.set("total",a);this.total||e.place("\x3cdiv\x3e"+this.noDataMsg+
"\x3c/div\x3e",this.domNode,"only")}));var a=this;this.persistSettings();return this.query.getData(this.page,this.pageSize).then(function(f){a.headers||(a.headers=[],c.forEach(f.headers,function(f){if(!(0<=c.indexOf(a.options.blacklist,f.id))){a.headers.push(f.id);var h=e.place("\x3cth\x3e\x3cspan\x3e"+f.label+"\x3c/span\x3e\x3c/th\x3e",a.header);if(0<=c.indexOf(a.query.query.sortable,f.id)||0<=c.indexOf(a.options.sortable,f.id))d.set(h,"data-mojo-table-sort",f.id),b.add(h,"sortable"),a.sortAttr==
f.id&&a.addSortClass(h)}}));a.store=new p(new n({data:f.rows}));e.empty(a.body);c.forEach(f.rows,function(b){var d=e.place("\x3ctr\x3e\x3c/tr\x3e",a.body);c.forEach(a.headers,function(a){e.place("\x3ctd\x3e"+b[a]+"\x3c/td\x3e",d)})});q.publish("mojo/analytics/VisTable/"+a.id,a);a.refreshing=!1})}})})},"mojo/analytics/parts/Paging":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/_base/lang dojo/number dojo/on dojox/mvc/sync dojo/dom-style dojo/dom-class dijit/form/Select dijit/registry dojo/topic dojo/query dojo/text!./templates/paging.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([k,h],{templateString:r,minTotalSize:10,container:null,init:function(){e(this.target,"total",this,"total");e(this.target,"page",this,"page");e(this.target,"pageSize",this,"pageSize");this.updateAll();var a=this;c(this.prevButton,"click",function(){if(!a.target.refreshing){var b=parseInt(a.get("page"),10)-1;0>=b&&(b=1);a.set("page",b);a.scrollToTop()}});c(this.nextButton,"click",function(){if(!a.target.refreshing){var b=parseInt(a.get("page"),10)+1;a.set("page",
b);a.scrollToTop()}});this.watch("page",f.hitch(this,"_updatePages"));this.watch("pageSize",f.hitch(this,"_updatePages"));this.watch("total",f.hitch(this,"updateAll"))},scrollToTop:function(){if(this.container){var a=q("#"+this.container)[0];a&&(a.scrollTop=0)}},updateAll:function(){this._updatePages();this._updateTotalPages()},_updatePages:function(){var a=parseInt(this.pageSize),b=parseInt((this.page-1)*a,10)+1,a=b+a-1;this.startLabel.innerHTML=b;this.endLabel.innerHTML=a<this.total?a:this.total;
m.set(this.prevButton,"display",1<this.page?"inline":"none");m.set(this.nextButton,"display",a<this.total?"inline":"none")},_updateTotalPages:function(){this.totalPagesLabel.innerHTML=a.format(this.total,{pattern:"#,###"})},canDisplay:function(){return this.inherited(arguments)&&this.target.total>this.minTotalSize}})})},"mojo/analytics/parts/PageSizeSelect":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/_base/array dojox/mvc/sync dijit/form/Select dojo/text!./templates/pageSizeSelect.html".split(" "),
function(l,k,h,f,a,c,e){var m=[10,25,50,100];return l([k,h],{templateString:e,init:function(){this.pageOptions=new c({"class":"!margin--lv0 select-small valign-middle",options:f.map(m,function(a){return{label:String(a),value:String(a)}})},this.pageOptions);a(this.target,"pageSize",this.pageOptions,"value",{parse:function(a){return parseInt(a,10)}})},canDisplay:function(){return this.inherited(arguments)&&this.target.total>m[0]}})})},"mojo/analytics/parts/VisRowSelector":function(){define("dojo/_base/declare dijit/_Templated dojo/_base/lang dojo/dom dojo/_base/array dojo/dom-construct dojo/dom-class dojo/on dojo/dom-attr dojo/text!./templates/visRowSelector.html dojo/query mojo/hoverlist ./_Part dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([q,k],{templateString:b,init:function(){this.canSelectAll||e.add(this.selectAll.parentNode,"hide");p.convert(n("ul",this.domNode)[0]);this.target.allAll&&(e.remove(this.deselectAll.parentNode,"hide"),e.add(this.selectAll,"active"),e.remove(this.selectVisible,"active"));for(box in this.target.selected)if(!0===this.target.selected[box]){e.remove(this.deselectAll.parentNode,"hide");break}this.connect(this.selectAll,"click",h.hitch(this,function(){this.target.toggleAll(!0);
this.target.set("allAll",!0);e.add(this.selectAll,"active");e.remove(this.selectVisible,"active")}));this.connect(this.selectVisible,"click",h.hitch(this,function(){this.target.toggleAll(!0);this.target.set("allAll",!1);e.remove(this.selectAll,"active");e.add(this.selectVisible,"active")}));this.connect(this.deselectAll,"click",h.hitch(this,function(){this.target.toggleAll(!1);this.target.set("allAll",!1)}));this._watches.push(this.target.selected.watch(h.hitch(this,function(){this.target.isAllSelected()?
this.target.allAll||e.add(this.selectVisible,"active"):(e.remove(this.selectAll,"active"),e.remove(this.selectVisible,"active"));!this.target.isAllSelected()&&this.target.allAll&&this.target.set("allAll",!1);this.deselectAll&&this.deselectAll.parentNode&&e.toggle(this.deselectAll.parentNode,"hide",0==this.target.getSelection().length)})))}})})},"mojo/analytics/VisQuery":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/Deferred"],function(l,k,h,f){return l([],{constructor:function(a,
c,e){this.url=a;this.query=k.mixin({},c);this.urlParams=k.mixin({},e)},setSort:function(a,c){this.query.orderby=a;this.query.ascending=c;return this},resetSort:function(){this.query.orderby=null;this.query.ascending=null;return this},getCount:function(){var a=new f,c="select "+this.query.select_count;this.query.from&&(c+=" from "+this.query.from);this.query.where?(c+=" where ("+this.query.where+")",this.query.filter&&(c+=" and ("+this.query.filter+")")):this.query.filter&&(c+=" where "+this.query.filter);
this.query.groupby&&(c+=" group by "+this.query.groupby);this.query.pivot&&(c+=" pivot "+this.query.pivot);this._send(c).then(function(c){"success"==c.status?(c=parseInt(c.data[0][0].v),a.resolve(c)):a.reject("Couldn't get count")});return a},getData:function(a,c){var e=new f;a||(a=1);c||(c=25);this._send(this._buildQuery(this.query,a,c)).then(function(a){var c={headers:[]};h.forEach(a.meta,function(a){c.headers.push({id:a.id,label:a.label})});c.rows=[];h.forEach(a.data,function(a){var e={};h.forEach(a,
function(a,b){e[c.headers[b].id]=a.f?a.f:a.v});c.rows.push(e)});e.resolve(c)});return e},_send:function(a){var c="",c=(new Date).getTime(),c=-1==this.url.indexOf("?")?this.url+"?_cbt\x3d"+c:this.url+"\x26_cbt\x3d"+c;return dojo.xhrPost({url:c,content:k.mixin(this.urlParams,{q:a}),handleAs:"json"})},_buildQuery:function(a,c,e){var f="";a.select&&(f+="select "+a.select);a.from&&(f+=" from "+a.from);a.where?(f+=" where ("+a.where+")",a.filter&&(f+=" and ("+a.filter+")")):a.filter&&(f+=" where "+a.filter);
a.groupby&&(f+=" group by "+a.groupby);a.pivot&&(f+=" pivot "+a.pivot);a.orderby?(f+=" order by ",a.filter_orderby&&(f+=a.filter_orderby+", "),a.orderby=a.orderby.toLowerCase(),a.orderby.match("desc")?(a.orderby=k.trim(a.orderby.replace("desc","")),a.ascending=!1):a.orderby.toLowerCase().match("asc")&&(a.orderby=k.trim(a.orderby.replace("asc","")),a.ascending=!0),f+=a.orderby,a.ascending||(f+=" desc")):a.filter_orderby&&(f+="order by "+a.filter_orderby);f+=" limit "+e+" offset "+(c-1)*e;a.label&&
(f+=" label "+a.label);a.format&&(f+=" format "+a.format);return f}})})},"mojo/widgets/Switch":function(){define(["dojo/_base/declare","dojo/debounce","dijit/form/CheckBox","dojo/text!./templates/Switch.html"],function(l,k,h,f){return l([h],{templateString:f,baseClass:"switchWrapper",transitionTime:200,sizeClass:"",description:"",_onChangeAsync:function(){},onChange:function(a){this.inherited(arguments);this._onChangeAsync(a)},postCreate:function(){this.inherited(arguments);this.onChangeAsync&&(this._onChangeAsync=
k(this.onChangeAsync,this.transitionTime))}})})},"mojo/widgets/ThumbnailPreview":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/ThumbnailPreview.html"],function(l,k,h,f,a){return l([h,f],{templateString:a,imageUrl:null,borderStyle:"dashed",_setBorderStyleAttr:function(a){this.borderStyle=a;k.toggle(this.domNode,"border-dashed","dashed"===this.borderStyle)}})})},"mojo/widgets/Tooltip":function(){define("dojo/_base/declare dijit/_Widget dijit/_AttachMixin dijit/_FocusMixin dojo/on dojo/keys dojo/mouse dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k,h],{enableMouseEvents:!1,tooltipArrow:"v-tooltipTarget--",tooltipClass:"c-tooltip--",tooltipType:"default",setupEscEvent:function(){var b=this;a(this.domNode,"keyup",function(a){a.stopPropagation();(a.charCode||a.keyCode)===c.ESCAPE&&b.domNode.blur()})},setupMouseEvents:function(){var b=this;a(this.domNode,e.enter,function(){b.domNode.focus()});a(this.domNode,e.leave,function(){b.domNode.blur()})},showTooltip:function(){b.set(this.tooltip,"display","block");
d.add(this.domNode,this.tooltipArrow+this.tooltipType)},hideTooltip:function(){b.set(this.tooltip,"display","none");d.remove(this.domNode,this.tooltipArrow+this.tooltipType)},_onFocus:function(){this.showTooltip()},_onBlur:function(){this.hideTooltip()},postCreate:function(){this.tooltip.innerHTML=m.get(this.domNode,"data-tooltip-text")||"";m.set(this.domNode,"tabindex","0");m.set(this.domNode,"aria-describedby",this.tooltip.innerHTML);d.add(this.tooltip,this.tooltipClass+this.tooltipType);"default"===
this.tooltipType&&(b.set(this.domNode,"cursor","help"),n.place("\x3cspan data-dojo-attach-point\x3d'tooltipTriggerText'\x3e"+this.tooltipTriggerText.innerHTML+"\x3c/span\x3e",this.tooltipTriggerText,"replace"));this.setupEscEvent();this.enableMouseEvents&&this.setupMouseEvents()}})})},"mojo/widgets/UpdateCampaignDeliveryStatus":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/request/xhr mojo/url dojo/_base/lang dojo/dom-class dojo/_base/array dojo/html".split(" "),function(l,k,h,f,a,
c,e,m){var d=[],b=[],n=null;return l([k],{campaignId:null,updateType:null,removeClass:null,addClass:null,newHTML:null,constructor:function(a){if(!a.campaignId)throw Error("You must specify campaignId");if(!a.updateType)throw Error("You must specify updateType of 'replace-class' or 'replace-string'");if(!("replace-class"!==a.updateType||a.removeClass&&a.addClass))throw Error("You must specify removeClass and addClass");if("replace-string"===a.updateType&&!a.newHTML)throw Error("You must specify newHTML");
},postCreate:function(){-1===d.indexOf(this.id)&&d.push(this.id);-1===b.indexOf(this.campaignId)&&b.push(this.campaignId);null===n&&(n=setTimeout(a.hitch(this,this.checkInProgressCampaigns),0))},checkInProgressCampaigns:function(){h.get(f.toUrl("campaigns/get-send-confirmed-campaigns"),{handleAs:"json",query:{"ids[]":b}}).then(a.hitch(this,"updateCampaigns"))},updateCampaigns:function(a){e.forEach(d,function(b){b=dijit.byId(b);-1!=a.indexOf(b.campaignId)&&("replace-class"===b.updateType&&c.replace(b.domNode,
b.addClass,b.removeClass),"replace-string"===b.updateType&&m.set(b.domNode,b.newHTML))});d=[];b=[];n=null}})})},"mojo/widgets/VariateDelayInput":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/variateDelayInput.html dojo/_base/lang dojo/query dojo/dom-class dojo/dom-style dojo/dom-construct dojo/on".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){return l([k,h,f],{defaultDelay:4,defaultUnit:"hour",templateString:a,name:"",
postCreate:function(){this._initInputs();this.own(n(this.unitSelect,"change",c.hitch(this,"_updateValueInput")),n(this.delayInput,"keypress",c.hitch(this,function(a){a.charCode&&(48>a.charCode||57<a.charCode)&&(a.preventDefault(),a.stopPropagation())})),n(this.delayInput,"keyup",c.hitch(this,"_updateValueInput")));this._updateValueInput();d.set(this.domNode,"display","");var a=e(this.domNode).next()[0];a&&m.contains(a,"invalid-error")&&(b.place(a,this.errorContainer),m.remove(this.errorContainer,
"hide"))},_initInputs:function(){var a=this.defaultDelay,b=this.defaultUnit;if(this.value=+this.value)0===this.value%1440?(a=this.value/1440,b="day"):(a=this.value/60,b="hour");this.delayInput.value=a;this.unitSelect.set("value",b)},_updateValueInput:function(){var a=0,a=+this.delayInput.value;switch(this.unitSelect.value){case "hour":a*=60;break;case "day":a*=1440;break;default:throw Error("Unhandled unit type");}this.valueInput.value=a;this._toggleDelayMessage()},getDelayInHours:function(){return Math.floor(+this.valueInput.value/
60)},_toggleDelayMessage:function(){m.toggle(this.delayMessage,"hide",4<=this.getDelayInHours())}})})},"mojo/widgets/VariateSelector":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Templated dojo/text!./templates/variateSelector.html dojo/on dojo/parser dojo/_base/lang dojo/dom dojo/dom-class dojo/query".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([k,h],{templateString:f,potential:0,minimum:2,maximum:8,value:0,label:"",name:"",postMixInProperties:function(){this.potential=this.maximum},
_selectVariate:function(){this.potential>=this.minimum&&(this.set("value",this.minimum),this.onChange())},_increaseVariate:function(){this.value<this.potential&&(this.set("value",this.value+1),this.onChange())},_decreaseVariate:function(){this.value>this.minimum?(this.set("value",this.value-1),this.onChange()):0!==this.value&&(this.set("value",0),this.onChange())},_displayControls:function(){0===this.value?(this.variateControls.style.display="",d.remove(b(this.domNode).parent()[0],"mv-active")):(this.variateControls.style.display=
"block",d.add(b(this.domNode).parent()[0],"mv-active"),this.variateValue.innerHTML=this.value)},_onValueChange:function(){this.variateName.value=this.value;this._displayControls();d.toggle(this.variatePlus,"disabled",this.value>=this.maximum)},_onPotentialChange:function(){d.toggle(b(this.domNode).parent()[0],"mv-disabled",this.potential<this.minimum)},postCreate:function(){this.own(a(this.variateSelect,"click",e.hitch(this,"_selectVariate")),a(this.variatePlus,"click",e.hitch(this,"_increaseVariate")),
a(this.variateMinus,"click",e.hitch(this,"_decreaseVariate")));this.watch("value",e.hitch(this,"_onValueChange"));this.watch("potential",e.hitch(this,"_onPotentialChange"));this.watch("total",e.hitch(this,function(){d.toggle(this.variatePlus,"disabled",this.total>=this.maximum||this.potential===this.minimum&&6<=this.total)}));this._onValueChange();this._onPotentialChange()},onChange:function(){}})})},"mojo/widgets/VariateSelectorGroup":function(){define(["dojo/_base/declare","dojo/on","dojo/_base/lang",
"dojo/_base/array","dojo/aspect"],function(l,k,h,f,a){return l([],{selectors:[],maxValue:8,minValue:1,constructor:function(a){h.mixin(this,a);f.forEach(this.selectors,h.hitch(this,"addSelector"))},addSelector:function(c){-1===f.indexOf(this.selectors,c)&&this.selectors.push(c);a.after(c,"onChange",h.hitch(this,function(){this._updateValues(c)}));this._updateValues()},_updateValues:function(a){f.forEach(this.selectors,h.hitch(this,function(a){var c=this._getPotential(a),d=this.getTotal();a.set("potential",
c);a.set("total",d)}));this.onChange(this.getTotal())},getTotal:function(){var a=1;f.forEach(this.selectors,h.hitch(this,function(e){e.value&&(a*=e.value)}));return a},_getPotential:function(a){var e=this.maxValue;f.forEach(this.selectors,function(f){a!=f&&f.value&&(e=Math.floor(e/f.value))});return e},onChange:function(a){}})})},"mojo/widgets/VariateSlider":function(){define("dojo/_base/declare mojo/widgets/SliderWithLabel dijit/form/HorizontalRule dojo/dom-construct dojo/dom-style dojo/_base/array dojo/_base/lang dojo/on".split(" "),
function(l,k,h,f,a,c,e,m){return l([k],{tickMarks:null,markContainer:null,markContainerTpl:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',markTpl:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:{interval}%;"\x3e\x3c/div\x3e',minimum:0,maximum:100,discreteValues:101,intermediateChanges:!0,showButtons:!1,minTestable:10,numCombinations:0,postCreate:function(){this.inherited(arguments);this.tickMarks=[];this.watch("numCombinations",e.hitch(this,"_updateTicks"));
this.own(m(this,"change",e.hitch(this,"_updateTicks")));this._updateTicks()},_setValueAttr:function(a){this.inherited(arguments,[a>=this.minTestable?a:this.minTestable])},_updateTicks:function(){var a=[];if(1<this.numCombinations)for(var b=this.value/this.numCombinations,c=1;c<this.numCombinations;c++)a.push(b*c);this._showTicks(a)},_showTicks:function(d){this.markContainer||(this.markContainer=f.place(this.markContainerTpl,this.bottomDecoration));if(d.length<this.tickMarks.length)for(var b=d.length-
1;b<this.tickMarks.length;b++)this.tickMarks[b]&&a.set(this.tickMarks[b],"display","none");c.forEach(d,e.hitch(this,function(b,c){if(this.tickMarks[c])a.set(this.tickMarks[c],{left:b+"%",display:""});else{var d=e.replace(this.markTpl,{interval:b});this.tickMarks[c]=f.place(d,this.markContainer)}}))}})})},"dijit/form/HorizontalRule":function(){define(["dojo/_base/declare","../_Widget","../_TemplatedMixin"],function(l,k,h){return l("dijit.form.HorizontalRule",[k,h],{templateString:'\x3cdiv class\x3d"dijitRuleContainer dijitRuleContainerH"\x3e\x3c/div\x3e',
count:3,container:"containerNode",ruleStyle:"",_positionPrefix:'\x3cdiv class\x3d"dijitRuleMark dijitRuleMarkH" style\x3d"left:',_positionSuffix:"%;",_suffix:'"\x3e\x3c/div\x3e',_genHTML:function(f){return this._positionPrefix+f+this._positionSuffix+this.ruleStyle+this._suffix},_isHorizontal:!0,buildRendering:function(){this.inherited(arguments);var f;if(1==this.count)f=this._genHTML(50,0);else{var a,c=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){f=this._genHTML(0,0);for(a=1;a<
this.count-1;a++)f+=this._genHTML(c*a,a);f+=this._genHTML(100,this.count-1)}else{f=this._genHTML(100,0);for(a=1;a<this.count-1;a++)f+=this._genHTML(100-c*a,a);f+=this._genHTML(0,this.count-1)}}this.domNode.innerHTML=f}})})},"mojo/widgets/VariateWinner":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Templated dijit/_WidgetsInTemplateMixin dojo/text!./templates/variateWinner.html dojo/on dojo/parser dojo/_base/lang dojo/_base/array dojo/html dojo/dom-class dojo/dom-style".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([k,h,f],{templateString:a,winner:null,postCreate:function(){this.showSelection();this.own(c(this.sendBtn,"click",m.hitch(this,"onSelect")))},showSelection:function(){n.remove(this.selectionContainer,"hide");n.add(this.winnerContainer,"hide")},showWinner:function(a){a&&(n.add(this.selectionContainer,"hide"),n.remove(this.winnerContainer,"hide"),b.set(this.subject,a.subject),b.set(this.fromName,"From "+a.fromName+" \x26lt;"+a.fromEmail+"\x26gt;"),a.contentDescription&&
b.set(this.contentDescription,"\x26ldquo;"+a.contentDescription+"\x26rdquo;"),this._updateScreenshot(a.screenshotUrl),this.winner=a)},_updateScreenshot:function(a){p.set(this.screenshot,"background","url("+a+") no-repeat center top / cover #f2f2f2")},onSelect:function(){}})})},"mojo/widgets/ViewSwitcher":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dijit/_WidgetBase dojo/dom-construct dojo/dom-class dojo/dom-style dojo/Deferred mojo/widgets/SimpleViewAdapter velocity/velocity".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([f],{transitionMap:{fade:function(a,d){var f=new m;e.set(d,{position:"absolute",top:0,width:"100%"});c.remove(d,"hide");b(d,"fadeIn",{duration:225,complete:function(){e.set(d,{position:"relative",top:"",width:""});f.resolve()}});b(a,"fadeOut",{duration:225,complete:function(){c.add(a,"hide")}});return f.promise},slide:function(a,d,f,h){var k=new m;e.set(d,{position:"absolute",transform:f>h?"translateX(-100%)":"translateX(100%)",width:"100%"});c.remove(d,"hide");
f>h?(f={translateX:["0%","-100%"]},h={translateX:["100%"]}):(f={translateX:["0%","100%"]},h={translateX:["-100%"]});b(d,f,{duration:225,complete:function(){e.set(d,{position:"relative",top:"",width:""});k.resolve()}});b(a,h,{duration:225,complete:function(){c.add(a,"hide")}});return k.promise}},position:-1,adapter:null,viewCache:[],skipCaching:!1,isAnimating:!1,currentView:null,transition:null,startIndex:0,postCreate:function(){this.currentView=a.create("div");if(this.transition)if(this.transitionMap[this.transition])this.transitionViews=
this.transitionMap[this.transition];else throw Error("Invalid transition "+this.transition);},startup:function(){this.adapter||(this.adapter=d(this.domNode));a.place(this.currentView,this.domNode);this.setCurrentView(this.startIndex,!0)},getCurrentPosition:function(){return this.position},_getViewAt:function(a){if(!0===this.skipCaching)return this.adapter.createView(a);this.viewCache[a]||(this.viewCache[a]=this.adapter.createView(a));return this.viewCache[a]},setCurrentView:function(b,d,e){var f=
new m,h=this.currentView;if(this.isAnimating||!0!==e&&+b===+this.position)f.resolve(h);else{var l=a.create("div",{class:"hide"});a.place(this._getViewAt(b),l,"only");a.place(l,this.domNode,"after");d?(c.add(h,"hide"),c.remove(l,"hide"),this.currentView=l,this.position=b,a.destroy(h),f.resolve(l)):(this.isAnimating=!0,this.transitionViews(h,l,+this.position,+b).then(k.hitch(this,function(){this.currentView=l;this.position=b;a.destroy(h);this.isAnimating=!1;f.resolve(l)})))}return f.promise},transitionViews:function(a,
b){var d=new m;c.add(a,"hide");c.remove(b,"hide");d.resolve();return d.promise},next:function(){this.position<this.adapter.getCount()-1&&this.setCurrentView(this.position+1)},previous:function(){0<this.position&&this.setCurrentView(this.position-1)},destroy:function(){this.inherited(arguments);this.adapter.destroy();for(var b=0;b<this.viewCache.length;b++)this.viewCache[b]&&(h.findWidgets(this.viewCache[b]).forEach(function(a){a.destroyRecursive()}),a.destroy(this.viewCache[b]),this.viewCache[b]=
null)}})})},"mojo/widgets/callout":function(){define(["dojo/_base/declare","dojo/dom-class","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/callout.html"],function(l,k,h,f,a){return l([h,f],{templateString:a,icon:"light-bulb-color",columns:1,postCreate:function(){switch(this.columns){case "1 centered":k.remove(this.tipContainerNode,"c-mediaBody--centered");k.add(this.domNode,"flex-auto justify-content--center");break;case 2:k.add(this.domNode,"flex-half");break;case 3:k.add(this.domNode,
"flex-third");break;default:k.add(this.domNode,"flex-auto readable-max-width")}},show:function(){k.remove(this.domNode,"hide")},hide:function(){k.add(this.domNode,"hide")}})})},"mojo/widgets/tags/Api":function(){define("dojo/_base/declare dojo/_base/lang dojo/request dojo/hash dojox/html/entities mojo/url mojo/utils".split(" "),function(l,k,h,f,a,c,e){return{baseUrl:"/lists/members/",getContactTagStateUrl:"get-contact-tag-state",getListTagsUrl:"get-list-tags",applyTagsUrl:"add-tags-to-contacts",removeTagsUrl:"remove-tags-from-contacts",
createTagUrl:"create-list-tag",getSelectedContactsTagsUrl:"get-multi-contacts-tags",constructUrl:function(a){return c.toUrl(this.baseUrl+a)},getRequest:function(a,c,b){return h.get(a,{handleAs:b?b:"text"}).then(function(a){c&&c(a)},function(a){e.toast("Error: "+a.response.data.error)})},postRequest:function(a,c,b){return h.post(a,{handleAs:"json",data:c}).then(function(a){b&&b(a)},function(a){e.toast("Error: "+a.response.data.error)})},getTags:function(a,c,b){a=this.constructUrl(this.getContactTagStateUrl+
"?id\x3d"+c+"\x26list_id\x3d"+a);this.getRequest(a,b,"json")},getListTags:function(a,c){var b=this.constructUrl(this.getListTagsUrl+"?list_id\x3d"+a);this.getRequest(b,c,"json")},applyTagToContacts:function(a,c,b,e){a={list_email_ids:JSON.stringify(c),tag_ids:JSON.stringify([b])};c=this.constructUrl(this.applyTagsUrl);this.postRequest(c,a,e)},removeTagFromContacts:function(a,c,b,e){a={list_email_ids:JSON.stringify(c),tag_ids:JSON.stringify([b])};c=this.constructUrl(this.removeTagsUrl);this.postRequest(c,
a,e)},createTagApplyToContacts:function(c,d,b,e){c={list_email_ids:JSON.stringify(b),name:a.encode(d),list_id:c};d=this.constructUrl(this.createTagUrl);this.postRequest(d,c,e)},getSelectedContactsTags:function(a,c){var b={list_email_ids:JSON.stringify(a)},e=this.constructUrl(this.getSelectedContactsTagsUrl);this.postRequest(e,b,c)}}})},"mojo/widgets/tags/TagActionButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/tag-action-button.html".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([c,e,m],{templateString:d,tagID:null,tagName:null,tagState:null,contacts:null,mixedIcon:"/images/tags/tag-mixed-icon.svg",allIcon:"/images/tags/tag-selected-icon.svg",states:{NONE:"NONE",MIXED:"MIXED",ALL:"ALL"},postCreate:function(){this.inherited(arguments);this.setupState();a(this.tagActionButton,"click",k.hitch(this,"onTagClick"))},setupState:function(){switch(this.tagState){case this.states.MIXED:this.setupMixed();break;case this.states.ALL:this.setupAll();
break;default:this.setupNone()}},setupNone:function(){f.add(this.tagActionButton,"none");f.remove(this.noIconContainer,"hide")},setupMixed:function(){f.add(this.tagActionButton,"mixed");h.set(this.tagStateIcon,"src",this.mixedIcon);f.remove(this.hasIconContainer,"hide")},setupAll:function(){f.add(this.tagActionButton,"all");h.set(this.tagStateIcon,"src",this.allIcon);f.remove(this.hasIconContainer,"hide")},onTagClick:function(){}})})},"mojo/widgets/tags/TagBadge":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojox/html/entities dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/tag-badge.html".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([c,e,m],{templateString:d,readOnly:!0,tagID:null,tagName:null,maxTagLength:18,_setTagNameAttr:function(b){var c=b;b.length>this.maxTagLength&&(c=b.substring(0,this.maxTagLength)+"...",this.tagLabel.title=b);this.tagLabel.innerText=a.decode(c);this._set("tagName",b)},postCreate:function(){this.inherited(arguments);var a=this;this.readOnly||(f.remove(this.deleteTagButton,"hide"),this.own(h(this.deleteTagButton,"click",function(){a.onRemove(a.tagID)})))},onRemove:function(a){}})})},
"mojo/widgets/tags/TagOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/keys dojo/on dojo/dom-construct dojo/dom-class dojo/query dijit/focus dijit/registry mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_FocusMixin dojo/text!./templates/tag-overlay.html mojo/widgets/tags/TagActionButton".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([p,q,r,t],{templateString:u,tags:null,contacts:null,listId:null,tagCreationAllowed:!1,
exactMatch:!1,successCallback:null,inputLabelFind:"Find a tag",inputLabelFindCreate:"Find or create a tag",activeNode:null,isLoading:!1,postCreate:function(){this.inherited(arguments);this.setupTagInput()},setupTagInput:function(){this.tagCreationAllowed?h.set(this.tagInput,"placeholder",this.inputLabelFindCreate):h.set(this.tagInput,"placeholder",this.inputLabelFind);a(this.overlayContainer,"keydown",k.hitch(this,"handleKeydown"));a(this.tagInput,"keyup",k.hitch(this,"handleKeyup"));a(this.newTagContainer,
"click",k.hitch(this,"onCreateTag"))},getInputValue:function(){return this.tagInput.value},setInputValue:function(a){this.tagInput.value=a},setLoadingState:function(a){a?(e.remove(this.loadingContainer,"hide"),e.add(this.taggingContainer,"hide")):(e.add(this.loadingContainer,"hide"),e.remove(this.taggingContainer,"hide"));this.isLoading=a},setTags:function(a){this.tags=a},setContacts:function(a){this.contacts=a},populateTagsList:function(a){0<this.tags.length?(this.showSearchResults(a),e.add(this.noTagsContainer,
"hide")):e.remove(this.noTagsContainer,"hide");this.getInputValue()&&0<this.getInputValue().length?this.tagCreationAllowed&&!this.exactMatch?this.showCreation():this.hideCreation():this.hideCreation()},handleKeyup:function(){var a=this.getInputValue();if(a&&0<a.length){var b=this.searchTags(a);this.populateTagsList(b);this.newTagContainer.innerText=a}else this.populateTagsList(this.tags)},handleKeydown:function(a){a.keyCode===f.ENTER?(a.preventDefault(),this.handleEnterKeydown()):a.keyCode===f.DOWN_ARROW||
a.keyCode===f.UP_ARROW?this.navigate(a):e.contains(this.createNewContainer,"hide")||e.remove(this.newTagContainer,"active")},handleEnterKeydown:function(){if(this.activeNode===this.tagInput){var b=this.getNextKeyableNode(this.activeNode,this.getkeyableNodes(),"down");this.setActiveNode(b)}else a.emit(this.getActiveNode(),"click",{bubbles:!1,cancelable:!0})},navigate:function(a){a.preventDefault();var b=null;a.keyCode===f.DOWN_ARROW?b="down":a.keyCode===f.UP_ARROW&&(b="up");a=this.getkeyableNodes();
var c=this.getActiveNode(),b=this.getNextKeyableNode(c,a,b);this.setActiveNode(b)},getkeyableNodes:function(){return m(".keyable",this.overlayContainer)},getActiveNode:function(){return this.activeNode},getNextKeyableNode:function(a,b,c){a=b.indexOf(a);var d=0;"down"===c?d=a+1:"up"===c&&(d=a-1);if(!this.isKeyable(b[d])){if("down"===c){for(c=d;c<=b.length;c++)if(this.isKeyable(b[c]))return b[c];return b[0]}if("up"===c){for(c=d;0<=c;c--)if(this.isKeyable(b[c]))return b[c];return b[b.length-1]}}return b[d]},
isKeyable:function(a){return a?!e.contains(a,"hide")&&!e.contains(a.parentNode,"hide")&&e.contains(a,"keyable"):!1},setActiveNode:function(a){this.activeNode=a;a.focus()},setupTagButtons:function(a){var b=this;a.forEach(function(a){var c=new w({tagID:a.tag_id,tagName:a.tag_name,tagState:a.state});c.placeAt(b.searchResultsList,"last");c.on("tagClick",function(){b.handleTagClick(a)})})},handleTagClick:function(a){if("MIXED"===a.state||"NONE"===a.state)this.onApplyTag(a.tag_id);else if("ALL"===a.state)this.onRemoveTag(a.tag_id)},
searchTags:function(a){this.exactMatch=!1;var b=this,c=[];this.tags&&this.tags.forEach(function(d){d.tag_name.toLowerCase()===a.toLowerCase()?(b.exactMatch=!0,c.unshift(d)):-1<d.tag_name.toLowerCase().indexOf(a.toLowerCase())&&c.push(d)});return c},showSearchResults:function(a){c.empty(this.searchResultsList);1>a.length?(e.add(this.searchResultsContainer,"hide"),e.remove(this.noResultsContainer,"hide")):(a.sort(this.sortTagsByState),this.setupTagButtons(a),e.remove(this.searchResultsContainer,"hide"),
e.add(this.noResultsContainer,"hide"))},hideCreation:function(){e.add(this.createNewContainer,"hide")},showCreation:function(){e.remove(this.createNewContainer,"hide")},sortTagsByState:function(a,b){var c=0;a.state>b.state?c=1:a.state<b.state&&(c=-1);return c},refresh:function(){this.setInputValue(null);this.hideCreation();this.populateTagsList(this.tags);this.setLoadingState(!1)},onOpen:function(){var a=this;setTimeout(function(){d.focus(a.tagInput);a.activeNode=a.tagInput},500);this.refresh()},
onApplyTag:function(a){},onRemoveTag:function(a){},onCreateTag:function(){},onClose:function(){this.setInputValue(null)},onExecute:function(){}})})},"mojo/widgets/shareOverlay/EmailAddViewers":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/url mojo/lib/logger mojo/utils mojo/KeyShortcuts dojo/text!./templates/email-add-viewers.html mojo/widgets/input/ShareList velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J){return l([k,h,f],{templateString:I,postCreate:function(){d.parse(this.domNode);this.inherited(arguments);this.shareList=new L({userList:this.userList});w.place(this.shareList.domNode,this.shareListContainer);"function"===typeof this.cancelCallback&&w.place('\x3ca class\x3d"small-meta fwb underline cursor-pointer" data-action\x3d"cancel-add-viewers"\x3eCancel\x3c/a\x3e',this.domNode,"last");this.own(a(this.domNode,"[data-action\x3d'show-note']:click",
n.hitch(this,function(a){this.showNode(c("[data-element\x3d'email-note-text']")[0],"block");this.showNode(c("[data-action\x3d'cancel-note']")[0],"block");this.hideNode(c("[data-action\x3d'show-note']")[0])})),a(this.domNode,"[data-action\x3d'cancel-note']:click",n.hitch(this,function(a){this.showNode(c("[data-action\x3d'show-note']")[0]);this.hideNode(c("[data-element\x3d'email-note-text']")[0]);this.hideNode(c("[data-action\x3d'cancel-note']")[0])})))},hideNode:function(a){q.set(a,"display","none")},
showNode:function(a,b){b||(b="inline-block");q.set(a,"display",b)}})})},"mojo/widgets/input/ShareList":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dojo/_base/lang dojo/parser dojo/keys dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojo/query dojo/request/xhr dijit/focus mojo/url mojo/utils dojo/text!./templates/shareList.html dojo/text!./templates/shareListOption.html ./TagList dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){var z=l([k,h],{templateString:x,isHighlighted:!1,handleOptionClick:function(){},postCreate:function(){this._validateProps();this.setInnerHTML();this.own(a(this.domNode,"click",c.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.handleOptionClick(this)})))},_validateProps:function(){},setInnerHTML:function(){this.name?(this.boldText.innerHTML=this.name,this.subText.innerHTML="\x26middot; "+this.email):this.boldText.innerHTML=this.email},
getUserListIndex:function(){return this.userListIndex},getEmail:function(){return this.email},getTagText:function(){return this.name?this.name:this.email},highlight:function(){q.set(this.anchor,"background-color","#ccebf3")},removeHighlight:function(){q.set(this.anchor,"background-color","white")}});return l([A],{templateString:y,userList:[],searchString:"",showingDropdown:!1,usingGoogleContacts:!1,options:[],activeOption:-1,emails:[],recipients:[],setDropdownDisplayType:function(a){r(this.dropDownPopup).style("display",
a)},showDropdown:function(){this.setDropdownDisplayType("block");this.showingDropdown=!0},hideDropdown:function(){this.setDropdownDisplayType("none");this.showingDropdown=!1;this.unHighlightActiveOption();this.resetActiveOptionIndex()},userMatchesSearchString:function(a,b){var c=new RegExp(b,"i");if(!a.email)return!1;var d=!!a.email.match(c);a.name&&(d=d||!!a.name.match(c));return d},arrayObjectIndexOf:function(a,b,c){for(var d=0;d<a.length;d++)if(a[d][c]===b[c])return d;return-1},killEvent:function(a){a.preventDefault();
a.stopPropagation()},emptyList:function(){for(var a=this.tags.length-1;0<=a;a--)this.tags[a].destroy()},clearInput:function(){this.searchString="";this.tagInputDom.focus()},makeUserListSearchable:function(){this.userList.forEach(function(a){a.isSearchable=!0})},getEmails:function(){return this.emails},getRecipients:function(){return this.recipients},createOption:function(a,b){return new z({userListIndex:a,name:b.name,email:b.email,handleOptionClick:this.handleOptionSelect.bind(this)})},addOptionToDom:function(a){b.place(a.domNode,
this.selectOptions,"last");this.options.push(a)},renderSelectOptions:function(){this.options=[];b.empty(this.selectOptions);this.userList.forEach(c.hitch(this,function(a,b){this.userMatchesSearchString(a,this.searchString)&&a.isSearchable&&this.addOptionToDom(this.createOption(b,a))}))},unHighlightActiveOption:function(){0<=this.activeOption&&this.options[this.activeOption].removeHighlight()},resetActiveOptionIndex:function(){this.activeOption=-1},removeFromOptions:function(a){this.userList[a.getUserListIndex()].isSearchable=
!1;var b=this.arrayObjectIndexOf(this.options,a,"email");a.destroy();this.options.splice(b,1);this.resetActiveOptionIndex()},addToOptionsList:function(a){this.userList[a].isSearchable=!0;this.renderSelectOptions();this.clearInput()},removeTypedInput:function(){var a=this.tags[this.tags.length-1];a&&!a.hasBeenAdded&&(b.destroy(a.domNode),a.destroy())},setHiddenInputValue:function(){this.emailListInput.value=this.emails.join(",");a.emit(this.emailListInput,"change",{bubbles:!0,cancelable:!0})},createTag:function(a,
b,d){void 0===d&&(d=!0);var e=this._addTag(a);e.hasBeenAdded=!0;var f,h;d?(a=this.userList[b],f=a.email,h={email:a.email,name:a.name}):(f=a,h={email:a,name:null});this.emails.push(f);this.recipients.push(h);this.setHiddenInputValue();e.on("destroy",c.hitch(this,function(){this.emails.splice(this.emails.indexOf(f),1);this.recipients.splice(this.recipients.indexOf(h),1);this.setHiddenInputValue();d&&this.addToOptionsList(b)}))},handleOptionSelect:function(a){a||(a=this.options[this.activeOption]);this.removeTypedInput();
this.createTag(a.getTagText(),a.getUserListIndex());this.removeFromOptions(a);this.clearInput();this.renderSelectOptions()},addToUserList:function(a){this.userList=this.userList.concat(a)},getGoogleAuthUrl:function(){return w.toUrl("/templates/share/google-oauth2-authorize?oauth_redir\x3d"+encodeURI(document.URL))},googleEntryToUsers:function(a){return a.map(function(a){return{name:a.title.$t,email:a.gd$email?a.gd$email[0].address:null,isSearchable:!0}})},fetchGoogleContacts:function(){t(w.toUrl("/templates/share/google-contacts"),
{handleAs:"json"}).then(function(a){a?(a=this.googleEntryToUsers(a.feed.entry),this.addToUserList(a),this.renderSelectOptions(),this.usingGoogleContacts=!0,r(this.getGoogleData).style("display","none")):p.set(this.googleAuthLink,"href",this.getGoogleAuthUrl())}.bind(this),function(a){})},isBlockedKeyupKey:function(a){return a.keyCode===m.UP_ARROW||a.keyCode===m.DOWN_ARROW||a.keyCode===m.ENTER||a.keyCode===m.TAB||a.keyCode===m.ESCAPE},postCreate:function(){this.inherited(arguments);this.usingGoogleContacts||
this.fetchGoogleContacts();this.renderSelectOptions();this.usingGoogleContacts||q.set(this.getGoogleData,"display","block");this.own(a(this.tagInputDom,"input:keyup",c.hitch(this,function(a){this.tagValue=a.target.value;this.isBlockedKeyupKey(a)||(this.searchString=a.target.value,this.renderSelectOptions(),this.showingDropdown||this.showDropdown())})),a(this.tagInputDom,"input:keydown",c.hitch(this,function(a){switch(a.keyCode){case m.TAB:this._onTab(a);break;case m.ENTER:this._onEnter(a);break;case m.UP_ARROW:this._onUpArrow(a);
break;case m.DOWN_ARROW:this._onDownArrow(a);break;case m.ESCAPE:this._onEsc()}})),a(this.tagInputDom,"click",c.hitch(this,function(a){this.killEvent(a);this.showDropdown()})),a(document,"click",c.hitch(this,function(a){this._onEsc();this.tag&&(this.tag.isBlank()?this.tag.destroy():this._removeTagIfInvalid())})))},_addTag:function(){var a=this.inherited(arguments);this.tag=a;a.watch("mode",c.hitch(this,function(){if(a.inViewMode()&&!a.isBlank()&&!a.hasBeenAdded&&v.isValidEmailAddress(a.value)){a.hasBeenAdded=
!0;var b=a.value,d={email:a.value,name:null};this.emails.push(b);this.recipients.push(d);this.setHiddenInputValue();this.searchString="";this.renderSelectOptions();a.on("destroy",c.hitch(this,function(){this.emails.splice(this.emails.indexOf(b),1);this.recipients.splice(this.recipients.indexOf(d),1);this.setHiddenInputValue()}))}}));return a},_removeTagIfInvalid:function(){v.isValidEmailAddress(this.tagValue)||(this.tag.destroy(),this._addTag(),this.tag.editMode())},_onTab:function(a){""===this.focusedTag.value||
v.isValidEmailAddress(this.tagValue)?""===this.focusedTag.value&&-1===this.activeOption?this.hideDropdown():0<=this.activeOption&&(this.killEvent(a),this.handleOptionSelect()):(this._removeTagIfInvalid(),this.killEvent(a))},_onEnter:function(a){this._removeTagIfInvalid();this.killEvent(a);0<=this.activeOption?this.handleOptionSelect():""!==a.target.value&&(this.focusedTag.viewMode(),this.tagInputDom.focus());this.hideDropdown()},_onBackspace:function(a){this.focusedTag&&(this.focusedTag.inViewMode()?
(this.killEvent(a),this.focusedTag.destroy(),this._addTag().editMode()):this.focusedTag.isBlank()&&(this.killEvent(a),a=this._getPrevTag())&&(this.focusedTag.destroy(),a.focus(),this.setHiddenInputValue()))},_onDeleteKey:function(a){this.focusedTag&&(this.focusedTag.inViewMode()?(this.killEvent(a),this.focusedTag.destroy(),this._addTag().editMode()):this.focusedTag.isBlank()&&(this.killEvent(a),a=this._getNextTag())&&(this.focusedTag.destroy(),a.focus()))},_onUpArrow:function(a){0<this.activeOption?
(this.options[this.activeOption].removeHighlight(),this.options[this.activeOption-1].highlight(),--this.activeOption):0===this.activeOption&&(this.unHighlightActiveOption(),this.resetActiveOptionIndex())},_onDownArrow:function(a){this.activeOption<this.options.length-1&&0<=this.activeOption?(this.options[this.activeOption].removeHighlight(),this.options[this.activeOption+1].highlight(),this.activeOption+=1):-1===this.activeOption&&(this.activeOption=0,this.options[this.activeOption].highlight())},
_onEsc:function(a){this.unHighlightActiveOption();this.resetActiveOptionIndex();this.hideDropdown()}})})},"mojo/widgets/shareOverlay/EmailManageViewers":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/url mojo/lib/logger mojo/utils mojo/KeyShortcuts dojo/text!./templates/email-manage-viewers.html dojo/text!./templates/email-viewer.html mojo/widgets/shareOverlay/EmailAddViewers velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T){var V=l([k,f],{templateString:L,revokeAccess:null,resendReportLink:null,revokeCallback:function(){},resendInvitation:function(){},postCreate:function(){d.parse(this.domNode);this.inherited(arguments);this.validateProps();this.setText();this.own(a(this.revokeAccessLink,"click",n.hitch(this,function(){this.revokeCallback(this.data.email).then(this.handleRevokeResponse.bind(this))})),a(this.resendReportLink,"click",n.hitch(this,
function(){this.resendInvitation(this.resendEmailString()).then(this.handleResendResponse.bind(this))})))},destroy:function(){this.inherited(arguments);this.onDestroy()},resendEmailString:function(){var a=[];a.push({email:this.data.email,name:this.data.name});return JSON.stringify(a)},validateProps:function(){},handleRevokeResponse:function(a){!0===a.success&&(v.set(this.revokedEmail,this.data.email),q.set(this.displayMode,"display","none"),q.set(this.revokeMode,"display","block"),T(this.domNode,
"slideUp",{delay:5E3,duration:250,complete:this.destroy.bind(this)}))},handleResendResponse:function(a){1===a.recipients.length&&(this.data.initialShare=!0,this.data.sendTime=a.recipients[0].sendTime,q.set(this.resendReportLink,"display","none"),this.emptyText(),this.setText())},emptyText:function(){this.statusText.innerHTML=""},setText:function(){this.data.name?(this.boldText.innerHTML=this.data.name,this.lightText.innerHTML="\x26nbsp;\x26#8226;\x26nbsp;"+this.data.email):this.boldText.innerHTML=
this.data.email;this.data.initialShare?(u.add(this.statusFreddicon,"freddicon tick"),this.statusText.innerHTML="\x26nbsp;\x3cstrong\x3eShared\x3c/strong\x3e on "+this.data.sendTime):this.data.lastOpen?(u.add(this.statusFreddicon,"freddicon tick"),this.statusText.innerHTML="\x26nbsp;\x3cstrong\x3eViewed\x3c/strong\x3e on "+this.data.lastOpen):(q.set(this.resendReportLink,"display","inline-block"),this.statusText.innerHTML="Report has not been viewed.")},onDestroy:function(){}});return l([k,h,f],{templateString:I,
viewers:[],revokeCallback:function(){},resendInvitation:function(){},postCreate:function(){d.parse(this.domNode);this.inherited(arguments);this.buildListOfViewers()},buildListOfViewers:function(){w.empty(this.listOfViewers);this.viewers.map(n.hitch(this,function(a){var b=new V({data:a,revokeCallback:this.revokeCallback,resendInvitation:this.resendInvitation});b.on("destroy",n.hitch(this,function(){this.viewers.splice(this.viewers.indexOf(a),1);this.handleViewerDestory()}));w.place(b.domNode,this.listOfViewers,
"last")}))},unionByEmail:function(a,b){for(var c=[],d=0;d<b.length;d++){for(var e=!1,f=0;f<a.length;f++)b[d].email===a[f].email&&(e=!0);e||c.push(b[d])}return a.concat(c)},handleViewerDestory:function(){0===this.viewers.length&&T(this.domNode,"slideUp",{duration:250,complete:this.destroy.bind(this)})},updateViewers:function(a){this.viewers=this.unionByEmail(this.viewers,a);this.buildListOfViewers()},destroy:function(){this.inherited(arguments);this.onDestroy()},onDestroy:function(){}})})},"mojo/widgets/shareOverlay/PermissionsSharing":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/url mojo/lib/logger mojo/utils mojo/KeyShortcuts dojo/text!./templates/permissions-sharing.html velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L){return l([k,h,f],{templateString:I,_passwordVisible:!1,required:!1,password:"",postCreate:function(){d.parse(this.domNode);this.inherited(arguments);this.own(a(this.domNode,"[data-action\x3d'toggle-password-visibility']:click",this.togglePasswordVisibility.bind(this)))},togglePasswordVisibility:function(a){this._passwordVisible?(u.remove(a.target,"c-showPassword--hideIcon"),u.add(a.target,"c-showPassword--showIcon"),r.set(this.passwordInput,
"type","password"),v.set(a.target,"Show")):(u.remove(a.target,"c-showPassword--showIcon"),u.add(a.target,"c-showPassword--hideIcon"),r.set(this.passwordInput,"type","text"),v.set(a.target,"Hide"));this._passwordVisible=!this._passwordVisible},hasPassword:function(){return 0<this.getPassword().length},getPassword:function(){return this.passwordInput.value},setPassword:function(a){this.passwordInput.value=a}})})},"mojo/widgets/shareOverlay/ShareOverlay":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dojo/date/locale dijit/registry mojo/url mojo/lib/logger mojo/utils mojo/KeyShortcuts mojo/widgets/shareOverlay/EmailAddViewers mojo/widgets/shareOverlay/EmailManageViewers mojo/widgets/shareOverlay/PermissionsSharing mojo/widgets/shareOverlay/SocialSharing dojo/text!./templates/share-overlay.html velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T,V,P,K,M){var H=l([k,h,f,a],{templateString:K,overlayClass:"share-overlay",viewers:[],addViewers:null,manageViewers:null,postMixInProperties:function(){H._main||(H._main=this)},postCreate:function(){this.inherited(arguments);c(this.closeButton,"click",this.closeView.bind(this));L.onEsc(p.hitch(this,function(){this.isVisible()&&this.closeView()}))},validateProps:function(){if(!this.props.viewType||!this.props.assetId)return 0},setTitleHTML:function(a){y.set(this.title,
a||"document")},setTimeHTML:function(a){a?(a=C.format(new Date(a.replace(/\s/,"T")),{formatLength:"medium",timePattern:"h:mm a"}),y.set(this.sendTime,a)):y.set(this.sendTime,"")},setOverlayContent:function(a){this.overlayContent=e("[data-mc-group\x3d'overlay-content']")[0];a.enableEmailSharing&&this.createEmailSharing(a);a.enableSocialSharing&&this.createSocialSharing(a);e("[data-document-type\x3d'unset']").forEach(function(b){b.innerHTML=a.viewType});this.show().then(p.hitch(this,function(){M(this.viewContainer,
{opacity:1},{duration:333})}))},createPassword:function(a){this.permissionsWidget=new V({required:a,password:""});v.place(this.permissionsWidget.domNode,this.overlayContent,"last")},createSocialSharing:function(a){this.socialWidget=new P({title:a.title,url:a.shareUrl});v.place(this.socialWidget.domNode,this.overlayContent,"last")},openView:function(a){this.props=a;this.validateProps(a);this.setTitleHTML(a.title);this.setTimeHTML(a.sentTime);this.setOverlayContent(a)},resetHeader:function(){this.title.innerHTML=
"Document Title";this.sendTime.innerHTML="\x26nbsp;\x26#x95;\x26nbsp;Not sent"},emptyContainer:function(){this.emailWidget&&this.emailWidget.destroy();this.permissionsWidget&&this.permissionsWidget.destroy();this.socialWidget&&this.socialWidget.destroy();e("[data-mc-group\x3d'overlay-content']").empty()},onHide:function(){this.resetHeader();this.emptyContainer()},closeView:function(){M(this.viewContainer,{opacity:0},{duration:333,complete:this.hide.bind(this)})},createEmailSharing:function(a){this.fetchAlreadySharedList().then(this.buildEmailDom.bind(this))},
fetchAlreadySharedList:function(){var a=new n;this.fetchAlreadyShared().then(p.hitch(this,function(b){a.resolve(b)}));return a},revokeViewer:function(a){var b=new n;u(F.toUrl("/reports/vip-share-revoke/?id\x3d"+this.props.assetId+"\x26revoked\x3d"+a),{handleAs:"json"}).then(p.hitch(this,function(a){b.resolve(a)}));return b},fetchAlreadyShared:function(){var a=new n;u(F.toUrl("/reports/vip-share-already-shared/?id\x3d"+this.props.assetId),{handleAs:"json"}).then(function(b){a.resolve(b)},function(a){});
return a},updateManageViewers:function(a){a.map(function(a){a.initialShare=!0});this.manageViewers?this.manageViewers.updateViewers(a):this.renderManageViewers(a)},renderManageViewers:function(a){0===a.length?this.manageViewers.viewers=[]:(this.manageViewers=new T({viewers:a,revokeCallback:this.revokeViewer.bind(this),resendInvitation:this.makeSendRequest.bind(this)}),this.manageViewers.on("destroy",function(){this.manageViewers=null}.bind(this)),v.place(this.manageViewers.domNode,this.overlayContent,
"first"))},renderAddViewers:function(a){a||(a=[]);this.addViewers=new J({userList:a,usingGoogleContacts:!!a.length});v.place(this.addViewers.domNode,this.overlayContent,"last")},fetchAndSetPassword:function(a){a||(a=this.props.assetId);u(F.toUrl("/reports/vip-share-display-password?id\x3d"+a),{handleAs:"json"}).then(p.hitch(this,function(a){a.length&&(this.permissionsWidget.setPassword(a),this.manageViewers&&this.checkPasswordChange(this.manageViewers.viewers))}))},buildEmailDom:function(a){a.length&&
this.renderManageViewers(a);this.renderAddViewers();this.props.enablePassword.required&&(this.createPassword(!0),this.fetchAndSetPassword());this.shareButton=v.toDom("\x3cbutton class\x3d'p0 disabled'\x3eShare Report\x3c/button\x3e");v.place(this.shareButton,this.overlayContent,"last");this.emailsInput=e("input[name\x3d'emails']",this.domNode)[0];this.own(c(this.shareButton,"click",this.sendEmails.bind(this)),c(this.emailsInput,"change",this.updateSendButtonState.bind(this)),c(this.permissionsWidget.passwordInput,
"keyup",this.updateSendButtonState.bind(this)))},checkPasswordChange:function(a){if(0!==a.length){var b=this.permissionsWidget.getPassword(),d=this.permissionsWidget.passwordInput,e=this.permissionsWidget.passChangeWarning;c(d,"keyup",function(){d.value!==b&&0<a.length?w.remove(e,"hide"):w.add(e,"hide")})}},shareRequirementsAreMet:function(){var a=!!this.emailsInput.value.length,b=this.permissionsWidget.required?this.permissionsWidget.hasPassword():!0;return a&&b},updateSendButtonState:function(){this.shareRequirementsAreMet()?
w.remove(this.shareButton,"disabled"):w.add(this.shareButton,"disabled")},makeSendRequest:function(a,b,c){var d=new n;if(!a)return 0;b||(b=this.permissionsWidget.passwordInput.value);c||(c=this.addViewers.shareNote.value);u.post(F.toUrl("/reports/vip-share-send"),{handleAs:"json",data:{"asset-id":this.props.assetId,recipients:a,password:b,note:c}}).then(function(a){d.resolve(a)},function(a){});return d},sendEmails:function(a){var b=a.target;a=this.addViewers.shareList.getRecipients();var c=this.addViewers.shareNote.value,
d=this.permissionsWidget.passwordInput.value;w.add(b,"button-loading");y.set(b,"Sending...");this.makeSendRequest(JSON.stringify(a),d,c).then(p.hitch(this,function(a){w.remove(b,"button-loading");y.set(b,"Share Report");a.error||0===a.recipients.length?(this.errorText.innerHTML=a.error,M(this.errorBlock,"slideDown",{duration:250}),M(this.errorBlock,"slideUp",{delay:5E3,duration:250})):(M(this.successBlock,"slideDown",{duration:250}),M(this.successBlock,"slideUp",{delay:5E3,duration:250}),this.emailsInput.value=
"",this.addViewers.shareList.emptyList(),this.updateManageViewers(a.recipients))}))}});H.main=function(){return H._main?H._main:null};return H})},"mojo/widgets/shareOverlay/SocialSharing":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/url mojo/lib/logger mojo/utils mojo/KeyShortcuts dojo/text!./templates/social-sharing.html velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L){return l([k,h,f],{templateString:I,postCreate:function(){this.inherited(arguments);r.set(this.shareFacebook,"href","https://www.facebook.com/share.php?u\x3d"+this.url+"\x26t\x3d"+this.title);r.set(this.shareTwitter,"href","https://twitter.com/intent/tweet?text\x3d"+this.title+" - "+this.url);r.set(this.sharePinterest,"href","https://www.pinterest.com/pin/find/?url\x3d"+this.url)}})})},"mojo/widgets/shareOverlay/ShareOverlayCaller":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_AttachMixin dijit/_TemplatedMixin mojo/widgets/_Overlay dojo/on dojo/query dojo/_base/array dojo/request dojo/parser dojo/Deferred dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/request/xhr dojo/dom-class dojo/dom-construct dojo/html dojo/fx dojo/_base/fx dojo/fx/easing dojo/keys dijit/registry mojo/url mojo/lib/logger mojo/utils mojo/KeyShortcuts mojo/widgets/shareOverlay/ShareOverlay dojo/text!./templates/share-overlay-caller.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J){return l([k,h,f],{templateString:J,viewType:"",assetId:null,title:"",sentTime:"",enableEmailSharing:!1,enablePermissions:!1,enableSocialSharing:!1,postCreate:function(){if(0===e("[data-element\x3d'share-overlay']").length){var a=new L;e("body")[0].appendChild(a.domNode)}var b=this;this.own(c(this.containerNode,"click",function(a){a.preventDefault();a.stopPropagation();e(this).parents(".dijitPopup").style("display","none");b.openOverlay()}))},
openOverlay:function(){L.main().openView(this.params)}})})},"mojo/widgets/pages/PageBanner":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-style dojo/on dojo/query dojo/Stateful dijit/_TemplatedMixin dijit/_WidgetBase velocity/velocity velocity/velocity.ui".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([d,m],{templateString:'\x3cdiv class\x3d"mcnTemplatePageBanner"\x3e\x3cdiv class\x3d"mcnPageBannerContainer"\x3e\x3cdiv class\x3d"mcnPageBannerContentContainer" data-dojo-attach-point\x3d"contentContainer"\x3e\x3c/div\x3e\x3cdiv class\x3d"mcnCloseButton" data-dojo-attach-point\x3d"closeBtn" role\x3d"button"\x3e\x3cspan class\x3d"sr-only"\x3eclose\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
localStoragePrefix:"mc-lp-notification_"+window.location.pathname,closeBtnImage:'\x3cimg width\x3d"24" height\x3d"24" alt\x3d"close" src\x3d"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAEVQTFRFAAAA////////////////////////////////////////////////////////AAAACwsLlpaWv7+/wMDAwcHB5+fn////js+8jgAAAA90Uk5TABkaT2lvcJi1ttny8/v+KMQKuwAAAJdJREFUKM91UuEawiAIRGdp6pZzi/d/1HDo11bd/RAFTk6QSGFdiDnH4CydYfzMHbM3H/+U+IQ0Df994QuWW8//8kvk4JjEP0itjtf962K86FQ9a6nN1LKqNktOE8uzbMybGOU4eii3imvfZal6DhR7vZastAOR8lAi6UIap4wD8KqAikO58IGwJbiJsO14UHi0+DP8+z5v3a8i3EEOD1IAAAAASUVORK5CYII\x3d" /\x3e',
constructor:function(a){a&&a.isLive&&(this.model=new e(a.settings));this.inherited(arguments)},postCreate:function(){var b=window.localStorage.getItem(this.localStoragePrefix),c=!0;this.model.watch("enabled",this.updateEnabled.bind(this));this.model.watch("styles",this.updateStyles.bind(this));this.model.watch("content",this.updateContent.bind(this));this.updateContent();this.updateStyles();this.isLive&&b&&(b=JSON.parse(b),!this.isPreview&&b.hasOwnProperty("hasClosed")&&b.hasClosed&&(c=!1));h.place(this.closeBtnImage,
this.closeBtn);this.isLive?a(this.closeBtn,"click",function(){this.onClickClose()}.bind(this)):(a(this.domNode,"click",function(){this.onClickPreview()}.bind(this)),a(this.closeBtn,"click",function(a){a.preventDefault();a.stopPropagation()}));this.model.get("enabled")&&c?(f.set(this.domNode,"display","none"),this._show()):(f.set(this.domNode,"display","none"),this._hide())},updateEnabled:function(a,b,c){b!==c&&(!0===c?this._show():this._hide())},updateStyles:function(){this.resetStyles(this.domNode,
this.model.styles);this.inlineStyles(this.domNode,this.model.styles)},updateContent:function(){var a=h.toDom(this.model.get("content"));h.place(a,this.contentContainer,"only")},onClickClose:function(){this._hide(!0)},_hide:function(a){b(this.domNode,"transition.bounceUpOut",{duration:700,complete:k.hitch(this,function(){a&&(this.isLive&&window.localStorage.setItem(this.localStoragePrefix,JSON.stringify({hasClosed:!0})),this.destroy())}),display:"none"})},_show:function(){b(this.domNode,"transition.slideDownIn",
{easing:"easeInQuart",duration:400,delay:400,display:"inherit"})},destroy:function(){h.destroy(this.domNode)},dashToCamel:function(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})},inlineStyles:function(a,b){b&&b.forEach(function(b){for(var d in b.props)if(b.props.hasOwnProperty(d)){var e=b.props[d].value;if(e&&""!==e){var f=b.props[d].selector||b.selector;"mcBlockContainer"===f?c(a).style(this.dashToCamel(d),e):c(f,a).style(this.dashToCamel(d),e)}}}.bind(this));
return a},resetStyles:function(a,b){b&&b.forEach(function(b){for(var d in b.props)if(b.props.hasOwnProperty(d)){var e=b.props[d].selector||b.selector;"mcBlockContainer"===e?c(a).style(this.dashToCamel(d),null):c(e,a).style(this.dashToCamel(d),null)}}.bind(this));return a}})})},"mojo/widgets/pages/PrivacyBadge":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/on dojo/query dojo/Stateful dijit/_TemplatedMixin dijit/_WidgetBase".split(" "),function(l,k,h,f,a,c,e,m){return l([m,
e],{templateString:'\x3cdiv class\x3d"mcPrivacyBadge"\x3ePrivacy \x3cspan\x3e|\x3c/span\x3e Terms\x3c/div\x3e',templateStringLive:'\x3cdiv class\x3d"mcPrivacyBadge"\x3e\x3ca href\x3d"https://mailchimp.com/legal/privacy/" class\x3d"privacyLink" target\x3d"_blank"\x3ePrivacy\x3c/a\x3e \x3cspan style\x3d\'opacity:0.5\'\x3e|\x3c/span\x3e \x3ca href\x3d"https://mailchimp.com/legal/terms/" class\x3d"privacyLink" target\x3d"_blank"\x3eTerms\x3c/a\x3e\x3c/div\x3e',isLivePage:!1,baseStyles:{width:"85px",height:"22px",
position:"absolute",bottom:0,"border-radius":"20px","margin-left":"16px","margin-bottom":"16px","font-size":"10px","font-family":"Helvetica","text-align":"center",cursor:"pointer","padding-top":"5px"},themeStyles:{dark:{"background-color":"#242424",color:"#FFFFFF"},light:{"background-color":"#FFFFFF",color:"#373737"}},themeLinkStyles:{dark:"#FFFFFF",light:"#373737"},constructor:function(a){a&&a.isLive&&(this.templateString=this.templateStringLive,this.model=new c(a.settings));this.inherited(arguments)},
postCreate:function(){this._setStylesFromTheme();this.model.get("enabled")||this._hide();this.isLive||this.own(f(this.domNode,"click",k.hitch(this,function(){this.onClick(this)})));this.model.watch("theme",k.hitch(this,"updateTheme"));this.model.watch("enabled",k.hitch(this,"updateEnabled"))},updateTheme:function(a,b,c){b!==c&&this._setStylesFromTheme()},updateEnabled:function(a,b,c){b!==c&&(!0===c?this._show():this._hide())},_setStylesFromTheme:function(){h.set(this.domNode,k.mixin(this.baseStyles,
this.themeStyles[this.model.get("theme")]));a("a.privacyLink",this.domNode).forEach(function(a){h.set(a,"color",this.themeLinkStyles[this.model.get("theme")])}.bind(this))},_hide:function(){h.set(this.domNode,"display","none")},_show:function(){h.set(this.domNode,"display","inherit")}})})},"mojo/widgets/input/AvailableFieldInput":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin dojo/text!./templates/availableFieldInput.html".split(" "),
function(l,k,h,f,a,c,e,m){return l([c,a,e],{templateString:m,isSelected:!1,isDisabled:!1,hasRequiredToggle:!1,postCreate:function(){this.hasRequiredToggle&&this.isSelected||h.destroy(this.requiredSwitch);this.isSelected||h.destroy(this.dndHandle);this.isGroup||h.destroy(this.groupLabel);this.isSelected&&this.isDisabled&&(h.destroy(this.dndHandle),this.selectCheckbox.set("disabled",!0));this.own(f(this.domNode,"[data-mc-field-selector]:change",k.hitch(this,this.onLocalSelectedChange)),f(this.domNode,
"[data-mc-required-selector]:change",k.hitch(this,this.onLocalRequiredChange)))},onLocalRequiredChange:function(a){this.onRequiredChange(this.params.model._postKeyId,a.target.checked)},onLocalSelectedChange:function(a){this.onChange(this.model,a.target.checked)},onChange:function(a,b){},onRequiredChange:function(a){}})})},"mojo/widgets/input/Background":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dijit/_TemplatedMixin dijit/_WidgetBase dijit/_WidgetsInTemplateMixin mojo/neapolitan/style-keys dojo/text!./templates/backgroundInput.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([e,c,m],{templateString:b,selector:null,image:null,color:"",position:"",repeat:"no-repeat",size:"",postCreate:function(){this.inherited(arguments);var b=this;this.colorInput.set("value",this.color);this.fallbackColorInput.set("value",this.color);this.imageInput.set("value",this.image);this.positionInput.set("value",this.position);this.repeatInput.set("value",this.repeat);this.sizeInput.set("value",this.size);"page"===window.app.campaignType&&f.destroy(this.fallbackColorKB);
this.own(a(this.chooseImageLink,"click",function(a){a.preventDefault();a.stopPropagation();b.imageInput.chooseImage()}),a(this.imageInput,"change",function(){b._fireChangeEvent("image",b.imageInput.get("value"))}),a(this.colorInput,"change",function(){if(!b._hasImage()){var a=b.colorInput.value;b.fallbackColorInput.set("value",a);b._fireChangeEvent("color",a)}}),a(this.fallbackColorInput,"change",function(){if(b._hasImage()){var a=b.fallbackColorInput.value;b.colorInput.set("value",a);b._fireChangeEvent("color",
a)}}),a(this.positionInput,"change",function(){b._fireChangeEvent("position",b.positionInput.get("value"))}),a(this.sizeInput,"change",function(){b._fireChangeEvent("size",b.sizeInput.get("value"))}),a(this.repeatInput,"change",function(){b._fireChangeEvent("repeat",b.repeatInput.get("value"))}));this._toggleContainers()},_fireChangeEvent:function(a,b){this.set(a,b);this.onChange("background-"+a,b)},_setImageAttr:function(a){this._set("image",a);this._toggleContainers()},_hasImage:function(){return this.image&&
"none"!==this.image},_toggleContainers:function(){h.toggle(this.noImageContainer,"hide",this._hasImage());h.toggle(this.withImageContainer,"hide",!this._hasImage())},updateValue:function(a,b){switch(a){case d.BG_COLOR:this._hasImage()?this.fallbackColorInput.set("value",b):this.colorInput.set("value",b);break;case d.BG_IMAGE:this.set("image",b);this.imageInput.set("value",b);break;case d.BG_POSITION:this.positionInput.set("value",b);break;case d.BG_SIZE:this.sizeInput.set("value",b);break;case d.BG_REPEAT:this.repeatInput.set("value",
b)}},onChange:function(a,b){}})})},"mojo/neapolitan/style-keys":function(){define([],function(){var l={FONT_FAMILY:"font-family",FONT_SIZE:"font-size",FONT_WEIGHT:"font-weight",FONT_STYLE:"font-style",COLOR:"color",TEXT_DECORATION:"text-decoration",TEXT_ALIGN:"text-align",LINE_HEIGHT:"line-height",LETTER_SPACING:"letter-spacing",BG_COLOR:"background-color",BG_IMAGE:"background-image",BG_SIZE:"background-size",BG_POSITION:"background-position",BG_REPEAT:"background-repeat",FLEX:"flex"};l.FONT_STYLES_PROPS=
[l.FONT_WEIGHT,l.FONT_STYLE,l.TEXT_DECORATION];l.FONT_PROPS=[l.FONT_FAMILY,l.COLOR,l.FONT_SIZE,l.LINE_HEIGHT,l.TEXT_ALIGN,l.LETTER_SPACING,l.FONT_WEIGHT,l.FONT_STYLE,l.TEXT_DECORATION];l.BG_PROPS=[l.BG_COLOR,l.BG_IMAGE,l.BG_SIZE,l.BG_POSITION,l.BG_REPEAT];return l})},"mojo/widgets/input/BackgroundImage":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/text!./templates/backgroundImageInput.html mojo/neapolitan/widgets/ImageRow dojo/on".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([k,h],{templateString:e,value:"none",postCreate:function(){this.inputContainerNode=this.domNode;this.imageRow=new m({image:this._cssToImage(this.value),actions:["edit"]});this.imageRow.startup();f.place(this.imageRow.domNode,this.imageRowContainer);this.imageRow.on("change",c.hitch(this,function(){this._set("value",this._imageToCss(this.imageRow.image));this.onChange();this._toggleRemoveAction()}));this.own(d(this.removeLink,"click",c.hitch(this,function(){this.imageRow.removeImage()})));
this._toggleRemoveAction()},chooseImage:function(){this.imageRow.openFileManager()},_updateImageRow:function(){this.imageRow&&(this.imageRow.updateImage(this._cssToImage(this.value)),this._toggleRemoveAction())},_setValueAttr:function(a){this._set("value",a);this._updateImageRow()},_toggleRemoveAction:function(){a.toggle(this.removeLink,"hide",null==this.imageRow.image)},_imageToCss:function(a){return a&&a.src?'url("'+a.src+'")':"none"},_cssToImage:function(a){if((a=a.match(/^url\((.+)\)/))&&a[1]){a=
a[1];var c=a[0],d=a[a.length-1];return{src:'"'==c||"'"==c&&c==d?a.substr(1,a.length-2):a}}return null},onChange:function(a){}})})},"mojo/neapolitan/widgets/ImageRow":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/imageRow.html dojo/text!./templates/imageRowMobile.html dojo/on dojo/when dojo/_base/lang dojo/_base/xhr dojo/_base/connect dojo/_base/array dojo/dom-construct dojo/dom dojo/dom-style dojo/dom-class dojo/dom-attr dojo/keys dojo/query dojo/topic vendor/lodash-amd/difference mojo/widgets/LinkPicker mojo/widgets/FileManager mojo/ImageEditor mojo/utils mojo/url mojo/user mojo/lib/flags mojo/api/brand-assets dojo/NodeList-dom".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L){return l([k,h],{templateString:f,templateStringMobile:a,isMobile:!1,image:null,actionTpl:'\x3cli\x3e\x3ca href\x3d"#" data-action-type\x3d"{action}"\x3e{actionLabel}\x3c/a\x3e\x3c/li\x3e',actionTplMobile:'\x3cdiv class\x3d"{containerClassNames}"\x3e\x3ca href\x3d"#" data-action-type\x3d"{action}" class\x3d"{actionClassNames}"\x3e{actionLabel}\x3c/a\x3e\x3c/div\x3e',feedbackActionTpl:'\x26nbsp;\x3ca href\x3d"#" data-action-type\x3d"{action}"\x3e{actionLabel}\x3c/a\x3e',
actions:null,_restrictions:null,renderingType:null,aspectRatio:"16:9",defaultSubtitle:"",constructor:function(a){a.isMobile&&(this.isMobile=a.isMobile,this.templateString=this.templateStringMobile);this.renderingType=a.renderingType;this.image=null},postMixInProperties:function(){this.actions||(this.actions=this.isMobile?["link","alt"]:["edit","link","alt"]);this._restrictions={}},addMinWidthRestriction:function(a,b,c){this._restrictions.minWidth={message:b,action:c,isValid:function(b){return b.width>=
a}};this.checkRestrictions()},addMaxWidthRestriction:function(a,b,c){this._restrictions.maxWidth={message:b,action:c,isValid:function(b){return b.width<=a}};this.checkRestrictions()},restrictAspectRatio:function(a,b){var c=this;this._restrictions.aspectRatio={message:"The proportions of this image differ from the one next to it.",action:"crop",isValid:function(d){var e=d.width/a,f=Math.round(d.height/e);if(f=d.width>=a&&f!==b){var h=d.height%b;0===h?d=d.width+":"+Math.round(e*b):(h=d.height-h,d=Math.round(d.width/
e*(h/b)),d=d<a?a+":"+b:d+":"+h);c.aspectRatio=d}return!f}};this.checkRestrictions()},checkRestrictions:function(){this._hideRestrictionFeedback();if(this.image)for(var a in this._restrictions)if(this._restrictions.hasOwnProperty(a)){var b=this._restrictions[a];if(!b.isValid(this.image)){this._showRestrictionFeedback(b);break}}},_onImageChange:function(){this._brandChangeListener&&this._brandChangeListener.remove();this.image&&this.image.src===I.MERGE_TAG&&(this._brandChangeListener=y.subscribe(I.TOPIC_CHANGES,
function(a){a=a.value;null!==a?this._contentItemSelected(a):this._imageSelected(I.DEFAULT_LOGO_URL,null,null,{width:196})}.bind(this)));this.render()},render:function(){this._renderMeta();this._renderImage();this._renderActions();this.checkRestrictions()},setActions:function(a){this.actions=a;this._renderActions()},toggleUploadMessage:function(a){r.set(this.uploadOverlay,"display",a?"block":"")},toggleDragHandle:function(a){this.isMobile||t.toggle(this.dndHandle,"hide",!a)},postCreate:function(){var a=
this;this.watch("image",this._onImageChange.bind(this));this.render();this.own(c(this.domNode,"a:click",function(b){var c=u.get(this,"data-action-type");null!==c&&(b.preventDefault(),b.stopPropagation());switch(c){case "browse":a.openFileManager();break;case "remove":a.removeImage();break;case "link":a.openLinkPicker();break;case "alt":a.openAltTextForm();break;case "edit":a.openImageEditor();break;case "crop":a.openAspectRatioEditor();break;case "resize":a.openResizeEditor()}}),c(this.altTextBtn,
"click",function(){a.closeAltTextForm()}),c(this.altTextInput,"keypress",function(b){b.keyCode===w.ENTER&&(b.preventDefault(),b.stopPropagation(),a.closeAltTextForm())}))},addImage:function(a){this.set("image",a);this.render()},updateImage:function(a){this.set("image",a);this.render()},removeImage:function(){null!==this.image&&(this.set("image",null),this.onChange("image"));this.onRemove()},openFileManager:function(){z.show({actions:"select, rename, copy",allowedFileTypes:"image",onSelectContentItem:m.hitch(this,
function(a){this._contentItemSelected(a);z.hide()})})},openLinkPicker:function(){this.linkPickerConnects&&n.forEach(this.linkPickerConnects,this.disconnect);this.linkPickerConnects=[];var a=this.image?this.image.link:{},a=m.mixin({anchors:window.getAllAnchors()},a);this.linkPicker=new A(a);this.linkPickerConnects.push(this.connect(this.linkPicker,"onSave",function(a){this._setImageLink(a)}));this.linkPickerConnects.push(this.connect(this.linkPicker,"onRemove",function(){this._setImageLink()}));this.linkPicker.show()},
openAltTextForm:function(){this.image&&(this.altTextInput.value=this.image.alt);t.contains(this.altTextContainer,"hide")&&t.remove(this.altTextContainer,"hide");this.altTextInput.focus()},closeAltTextForm:function(){this.image&&(this.image.alt=this.altTextInput.value);t.add(this.altTextContainer,"hide");this.updateImage(this.image);this.onChange("altText")},openImageEditor:function(){B.open(this.image.src).then(m.hitch(this,function(a){return z.importFromUrl(a,!0,this.image.contentId)})).then(m.hitch(this,
function(a){a="data"in a?a.data:a;this._imageSelected(a.url,a.contentId)}),this._showEditErrorToast)},openResizeEditor:function(){var a=this.image.contentId;D.removeProxy(this.image.src);B.open(this.image.src,["resize"]).then(m.hitch(this,function(b){return z.importFromUrl(b,!0,a)})).then(m.hitch(this,function(a){a="data"in a?a.data:a;this._imageSelected(a.url,a.contentId)}),this._showEditErrorToast)},openAspectRatioEditor:function(){var a=this.image.contentId;B.open(this.image.src,["crop"],{cropPresets:this.aspectRatio}).then(m.hitch(this,
function(b){return z.importFromUrl(b,!0,a)})).then(m.hitch(this,function(a){a="data"in a?a.data:a;this._imageSelected(a.url,a.contentId)}),this._showEditErrorToast)},_showEditErrorToast:function(a){C.toast("Drats, unable to save edits!","warning")},_renderImage:function(){this.imageNode.src=this._getIconImageUrl()},_getIconImageUrl:function(){return this.image?"*|BRAND:LOGO|*"===this.image.src?I.hasCustomBrandUrl()?I.getBrandUrl():"/images/icons/empty-image.svg":this.image.src:"/images/icons/empty-image.svg"},
_renderMeta:function(){this.image?(this.image.alt?(this.titleNode.innerHTML=this.image.alt,this._updateImageName(this.subtitleNode)):(this._updateImageName(this.titleNode),this.subtitleNode.innerHTML=""),this.dimensionNode.innerHTML=this.image.width&&this.image.height?this.image.width+" \x26times; "+this.image.height:""):(this.titleNode.innerHTML="Upload an image",this.subtitleNode.innerHTML=this.defaultSubtitle,this.dimensionNode.innerHTML="")},_renderActions:function(){p.empty(this.actionList);
var a=["browse"];if(this.image){var b=[];"*|BRAND:LOGO|*"===this.image.src&&b.push("edit");b=x(this.actions,b);a=a.concat(b)}else 0<=this.actions.indexOf("remove")&&a.push("remove");var c="";n.forEach(a,m.hitch(this,function(a){var b={action:a,actionLabel:this._getActionLabel(a)},d=this.actionTpl;this.isMobile&&(d=this.actionTplMobile,b.containerClassNames=this._getActionContainerClassNames(a),b.actionClassNames=this._getActionClassNames(a));c+=m.replace(d,b)}));p.place(c,this.actionList)},_getActionLabel:function(a){switch(a){case "browse":a=
this.image?"Replace":"Browse";break;case "alt":a=this.isMobile?"Edit Alt Text":"Alt";break;case "edit":a="Edit";break;case "link":a=this.isMobile?"Edit Link":"Link";break;case "remove":a="Remove";break;default:a=""}return a},_getActionContainerClassNames:function(a){switch(a){case "browse":a="flex-full margin-bottom--lv2";break;case "alt":a="flex-half margin-bottom--lv2";break;case "edit":a="flex-half margin-bottom--lv2";break;case "link":a="flex-half margin-bottom--lv2";break;case "remove":a="flex-full margin-bottom--lv2 text-align--center";
break;default:a="flex--1"}return a},_getActionClassNames:function(a){switch(a){case "browse":a="full-width button p0 margin-right--lv0";break;case "alt":a="full-width button margin-right--lv0";break;case "edit":a="full-width button margin-right--lv0";break;case "link":a="full-width button margin-right--lv0";break;case "remove":a="";break;default:a=""}return a},_updateImageName:function(a){this.image.name?a.innerText=this.image.name:this.image.contentId&&this.image.src!==I.MERGE_TAG?(a.innerText="Loading",
z.getInfo(this.image.contentId).then(function(b){a.innerText=b.name},m.hitch(this,function(){a.innerText=this._imageName()}))):a.innerText=this._imageName()},_setImageLink:function(a){this.image.link=a;this.updateImage(this.image);this.onChange("link")},_imageName:function(){if(!this.image||!this.image.src)return null;var a=this.image.src,a=a.substring(a.lastIndexOf("/")+1,a.length);"*|BRAND:LOGO|*"===a&&(a="Your Default Logo");return a},_contentItemSelected:function(a){this._imageSelected(a.getDisplayUrl(),
a.contentId,a.getCanonicalUrl(),a.getFixedParameters())},_imageSelected:function(a,b,c,d){d=d||{};B.getImageInfo(a).then(m.hitch(this,function(a){a=m.mixin({},this.image,{alt:"",src:c||a.url,width:a.width,height:a.height,originalUrl:a.originalUrl,contentId:b?b:null},d);this.updateImage(a);this.onChange("image")}))},_showRestrictionFeedback:function(a){var b=a.message;a.action&&!this.isMobile&&(b+=m.replace(this.feedbackActionTpl,{action:a.action,actionLabel:a.actionLabel||"Let's fix it"}));"page"!==
this.renderingType&&(this.feedbackNode.innerHTML=b,t.remove(this.feedbackContainer,"hide"))},showRestrictionFeedback:function(a,b,c){this._showRestrictionFeedback({action:a,actionLabel:c,message:b})},_hideRestrictionFeedback:function(){t.add(this.feedbackContainer,"hide");this.feedbackNode.innerHTML=""},onChange:function(a){},onRemove:function(){}})})},"vendor/lodash-amd/difference":function(){define(["./_baseDifference","./_baseFlatten","./_baseRest","./isArrayLikeObject"],function(l,k,h,f){return h(function(a,
c){return f(a)?l(a,k(c,1,f,!0)):[]})})},"vendor/lodash-amd/_baseDifference":function(){define("./_SetCache ./_arrayIncludes ./_arrayIncludesWith ./_arrayMap ./_baseUnary ./_cacheHas".split(" "),function(l,k,h,f,a,c){return function(e,m,d,b){var n=-1,p=k,q=!0,r=e.length,t=[],u=m.length;if(!r)return t;d&&(m=f(m,a(d)));b?(p=h,q=!1):200<=m.length&&(p=c,q=!1,m=new l(m));a:for(;++n<r;){var w=e[n],v=null==d?w:d(w),w=b||0!==w?w:0;if(q&&v===v){for(var y=u;y--;)if(m[y]===v)continue a;t.push(w)}else p(m,v,b)||
t.push(w)}return t}})},"vendor/lodash-amd/_arrayIncludes":function(){define(["./_baseIndexOf"],function(l){return function(k,h){return!(null==k||!k.length)&&-1<l(k,h,0)}})},"vendor/lodash-amd/_baseIndexOf":function(){define(["./_baseFindIndex","./_baseIsNaN","./_strictIndexOf"],function(l,k,h){return function(f,a,c){return a===a?h(f,a,c):l(f,k,c)}})},"vendor/lodash-amd/_baseIsNaN":function(){define([],function(){return function(l){return l!==l}})},"vendor/lodash-amd/_strictIndexOf":function(){define([],
function(){return function(l,k,h){--h;for(var f=l.length;++h<f;)if(l[h]===k)return h;return-1}})},"vendor/lodash-amd/_arrayIncludesWith":function(){define([],function(){return function(l,k,h){for(var f=-1,a=null==l?0:l.length;++f<a;)if(h(k,l[f]))return!0;return!1}})},"vendor/lodash-amd/_baseFlatten":function(){define(["./_arrayPush","./_isFlattenable"],function(l,k){function h(f,a,c,e,m){var d=-1,b=f.length;c||(c=k);for(m||(m=[]);++d<b;){var n=f[d];0<a&&c(n)?1<a?h(n,a-1,c,e,m):l(m,n):e||(m[m.length]=
n)}return m}return h})},"vendor/lodash-amd/_isFlattenable":function(){define(["./_Symbol","./isArguments","./isArray"],function(l,k,h){var f=l?l.isConcatSpreadable:void 0;return function(a){return h(a)||k(a)||!!(f&&a&&a[f])}})},"vendor/lodash-amd/isArrayLikeObject":function(){define(["./isArrayLike","./isObjectLike"],function(l,k){return function(h){return k(h)&&l(h)}})},"mojo/widgets/input/BackgroundPosition":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/form/Select","./_WithLabelMixin"],
function(l,k,h,f){return l([h,f],{label:"Background Position",maxHeight:-1,constructor:function(a){this.options=[{label:"Top",value:"top"},{label:"Center",value:"center"},{label:"Bottom",value:"bottom"}];a.isOptional&&this.options.unshift({label:"Not specified",value:""})}})})},"mojo/widgets/input/_WithLabelMixin":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-construct","dojo/dom-class","dojo/NodeList-manipulate"],function(l,k,h,f){return l(null,{skipContainer:!1,label:"Unknown",
subLabel:!1,subLabelClasses:"c-paneLabel--small fwn padding--lv0",postCreate:function(){this.inherited(arguments);if(!this.skipContainer){var a="\x3cdiv class\x3d'style-field selfclear style-"+this.label.toLowerCase().replace(" ","")+"'\x3e\x3c/div\x3e";k(this.domNode).wrap(a);this.inputContainerNode=this.domNode.parentNode;this.labelNode=h.place("\x3clabel\x3e"+this.label+"\x3c/label\x3e",this.inputContainerNode,"first");this.subLabel&&f.add(this.labelNode,this.subLabelClasses)}}})})},"mojo/widgets/input/BackgroundRepeat":function(){define(["dojo/_base/declare",
"dojo/_base/array","dijit/form/Select","./_WithLabelMixin"],function(l,k,h,f){return l([h,f],{label:"Background Repeat",maxHeight:-1,constructor:function(a){this.options=[{label:"None",value:"no-repeat"},{label:"Horizontal",value:"repeat-x"},{label:"Vertical",value:"repeat-y"},{label:"Both",value:"repeat"}];a.isOptional&&this.options.unshift({label:"Not specified",value:""})}})})},"mojo/widgets/input/BackgroundSize":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/form/Select","./_WithLabelMixin"],
function(l,k,h,f){return l([h,f],{label:"Background Size",maxHeight:-1,options:[],constructor:function(a){this.options=[{label:"Auto",value:"auto"},{label:"Cover",value:"cover"},{label:"Contain",value:"contain"}];a.isOptional&&this.options.unshift({label:"Not specified",value:""})}})})},"mojo/widgets/input/Border":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/_base/array dojo/_base/lang dojo/string dojo/on dijit/_WidgetBase dijit/form/Select dijit/form/TextBox ./Color ./_WithResetLinkMixin".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([m,p],{value:null,initialized:!1,label:"Border",postCreate:function(){this.isOptional=!0;this.inherited(arguments);this.originalValue=this.value;var c=this._parseBorder(this.value),m=[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Dashed",value:"dashed"},{label:"Dotted",value:"dotted"},{label:"Double",value:"double"},{label:"Groove",value:"groove"},{label:"Ridge",value:"ridge"},{label:"Inset",value:"inset"},{label:"Outset",value:"outset"}];
f.forEach(m,function(a){a.label="\x3cspan class\x3d'mojoPreviewSelect border-style "+a.value+"'\x3e"+a.label+"\x3c/span\x3e"});this.leftContainer=h.place("\x3cdiv class\x3d'unit size1of2 !padding-left--lv0 full-width--xltablet'\x3e\x3c/div\x3e",this.domNode);this.rightContainer=h.place("\x3cdiv class\x3d'lastUnit size1of2 !padding-left-right--lv0 full-width--xltablet float--left'\x3e\x3c/div\x3e",this.domNode);this.styleInput=(new d({options:m,maxHeight:-1,value:c.style,"class":"!margin-bottom--lv1"})).placeAt(this.leftContainer);
m=h.place('\x3cdiv class\x3d"float-left mojoBorderWidth"\x3e\x3c/div\x3e',this.rightContainer);this.widthInput=(new b({value:c.width})).placeAt(m);k.add(this.widthInput.domNode,"small-number");this.colorInput=new n({value:c.color,skipContainer:!0});this.colorInput.startup();this.colorInput.placeAt(this.rightContainer);this.own(e(this.widthInput,"change",a.hitch(this,function(){this.widthInput.set("value",this._getWidthValue(),!1);this._onChange()})),e(this.styleInput,"change",a.hitch(this,function(){this._toggleStyleInputs(this.styleInput.value);
this._onChange()})),e(this.colorInput,"change",a.hitch(this,"_onChange")));this._toggleStyleInputs(c.style);this.toggleResetLink(""!=this.value&&"0"!=this.value);this.initialized=!0},_setValueAttr:function(a){this.inherited(arguments);if(this.initialized){this.setInputValues(a);var b=this.get("value");this.toggleResetLink(""!=b&&0!=b);this.onChange(b)}},_getValueAttr:function(){if(this.initialized){var a=this._getWidthValue();return a?a+" "+this.styleInput.get("value")+" "+this.colorInput.get("value"):
0}return this.inherited(arguments)},_getWidthValue:function(){var a=this.widthInput.get("value"),b="px";0<=a.indexOf("em")?(b="em",a=parseFloat(a)):a=parseInt(a);return(a=isNaN(a)||0>a?0:a)?a+b:a},_parseBorder:function(a){var b=(a?a:"").replace(";","").split(" ");a=b[0]?b[0]:"0";var d=b[1]?c.trim(b[1]):"none",b=b[2]?c.trim(b[2]):"";return{width:c.trim(a),style:c.trim(d),color:b}},setInputValues:function(a){this.initialized&&(a=this._parseBorder(a),this.widthInput.set("value",a.width,!1),this.styleInput.set("value",
a.style,!1),this.colorInput.set("value",a.color,!1),this.colorInput._updateColor())},_toggleStyleInputs:function(a){"none"===a?k.add(this.rightContainer,"hide"):(0===parseInt(this.widthInput.value,10)?this.widthInput.set("value","1px",!1):this.widthInput.set("value",this._getWidthValue(),!1),k.remove(this.rightContainer,"hide"))},onChange:function(a){},_onChange:function(){var a=this.get("value");this.toggleResetLink(""!=a&&0!=a);this.onChange(a)},onReset:function(){this.set("value","0");this.styleInput.set("value",
"none",!1);this._toggleStyleInputs("none")},reset:function(){this.set("value",this.originalValue);this.setInputValues(this.originalValue)}})})},"mojo/widgets/input/Color":function(){define("dojo/_base/declare dijit/form/TextBox dojo/dom-construct dojo/dom-class dojo/dom-style dojo/keys dojo/_base/Color mojo/neapolitan/widgets/ColorPicker ./_WithResetLinkMixin".split(" "),function(l,k,h,f,a,c,e,m,d){var b=null;return l([k,d],{label:"Color",valueOnEmpty:"",noColorEnabled:!1,postCreate:function(){if(!b||
b._destroyed)b=new m,b.startup(),h.place(b.domNode,document.body);(this.picker=b)&&this.picker.addInput(this);f.add(this.domNode,"c-colorInput");this.colorSwatch=h.place("\x3cdiv class\x3d'c-colorInput_previewSwatch' title\x3d'Color preview'/\x3e",this.domNode,"first");this.inherited(arguments);this.toggleResetLink(null===this.value||!this._isEmptyValue(this.value));this.toggleUnsetIndicator();this.on("keydown",function(a){a.keyCode===c.ENTER&&(a.stopPropagation(),a.preventDefault(),this._setValueAttr(this.get("value"),
!0))})},onChange:function(){var a=this.value;this.toggleResetLink(!this._isEmptyValue(a));this.toggleUnsetIndicator();if(!this._isEmptyValue(a)){var b=e.fromString("#"+a.replace(/#/g,"")),b=b||e.fromString(a),a=null==b?"#ffffff":b.toHex();this.set("value",a,!1)}},_isEmptyValue:function(a){return null===a||""===a||a===this.valueOnEmpty},_setValueAttr:function(a){null!==a&&""!==a||a===this.valueOnEmpty?this.inherited(arguments):this.inherited(arguments,[this.valueOnEmpty]);this.textbox.value=this._isEmptyValue(a)?
"":a;this._updateColor()},_updateColor:function(){this.colorSwatch&&a.set(this.colorSwatch,"backgroundColor",this.value)},startup:function(){this.inherited(arguments);this._updateColor()},onReset:function(){this.set("value",this.valueOnEmpty)},toggleUnsetIndicator:function(){f.toggle(this.colorSwatch,"v-unsetSwatch",this._isEmptyValue(this.value))}})})},"mojo/widgets/input/_WithResetLinkMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-construct dojo/on dojo/dom-style dojo/dom-class dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e){return l([],{label:"Unknown",skipContainer:!1,isOptional:!1,resetLink:null,labelNode:null,inputContainerNode:null,subLabel:!1,subLabelClasses:"c-paneLabel--small fwn padding--lv0",postCreate:function(){this.inherited(arguments);if(!this.skipContainer){var c="\x3cdiv class\x3d'style-field selfclear style-"+this.label.toLowerCase().replace(" ","")+"'\x3e\x3c/div\x3e";h(this.domNode).wrap(c);this.inputContainerNode=this.domNode.parentNode;this.labelNode=f.place("\x3clabel\x3e"+
this.label+"\x3c/label\x3e",this.inputContainerNode,"first");this.subLabel&&e.add(this.labelNode,this.subLabelClasses);this.isOptional&&(this.resetLink=f.place("\x3ca href\x3d'#' class\x3d'small-meta margin--lv2'\x3eRemove\x3c/a\x3e",h("label",this.inputContainerNode)[0]),this.own(a(this.resetLink,"click",k.hitch(this,"_resetHandler"))))}},_resetHandler:function(a){a.stopPropagation();a.preventDefault();this.onReset();this.toggleResetLink(!1)},toggleResetLink:function(a){this.resetLink&&c.set(this.resetLink,
"display",a?"":"none")},onReset:function(){}})})},"mojo/widgets/input/DateTime":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/dateTime.html dojo/string dojo/date/locale dojo/_base/array dojo/_base/lang dojo/on dojo/dom-construct dijit/form/DateTextBox".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){return l([k,h,f],{label:"Date / Time",templateString:a,tzLabel:"",datePattern:"MMM d yyyy",minDate:null,required:!0,minuteValues:["00",
"15","30","45"],name:"",value:"",postCreate:function(){var a=null;if(this.value){var c=this._parseDateTime(this.value),a=c.date;this.hourSelect.value=c.time.hour;this._initMinuteSelect(c.time.minute);this.meridiemSelect.value=c.time.meridiem}this.dateInput=new p({value:a,required:this.required,constraints:{min:this.minDate,datePattern:this.datePattern}},this.dateInput);this.dateInput.startup();this.own(b(this.hourSelect,"change",d.hitch(this,"_updateFormInput")),b(this.minuteSelect,"change",d.hitch(this,
"_updateFormInput")),b(this.meridiemSelect,"change",d.hitch(this,"_updateFormInput")),b(this.dateInput,"change",d.hitch(this,"_updateFormInput")));this._updateFormInput()},_parseDateTime:function(a){var b=a.split(" ");a=d.trim(b[0]);var c=d.trim(b[1]).split(":"),b=+d.trim(c[0]),c=+d.trim(c[1]),e=12<=b?"PM":"AM";12!=b&&(b=0===b?12:b%12);return{date:a,time:{hour:b,minute:c,meridiem:e}}},_updateFormInput:function(){if(this.dateInput.value){var a=e.format(this.dateInput.value,{selector:"date",datePattern:"y-MM-dd"}),
b=this._getHourValue()+":"+this.minuteSelect.value,a=a+" "+b;this.value=this.formInput.value=a;this.onChange(a)}},_getHourValue:function(){var a=+this.hourSelect.value,b=this.meridiemSelect.value;12===a&&"AM"===b?a=0:"PM"===b&&12!==a&&(a+=12);return a=c.pad(a,2,"0")},_initMinuteSelect:function(a){var b=this;m.forEach(this.minuteValues,function(a){a=n.create("option",{value:a,label:a,innerHTML:a});b.minuteSelect.add(a)});a&&this._setMinutes(a)},_setMinutes:function(a){this._validMinute(a)?this.minuteSelect.value=
a:(m.some(this.minuteValues,d.hitch(this,function(b){return b>a?(this.minuteSelect.value=b,!0):!1})),this.minuteSelect.value||(this.minuteSelect.value=this.minuteValues[0]))},_validMinute:function(a){return m.some(this.minuteValues,function(b){return a&&+b===+a})},onChange:function(a){}})})},"mojo/widgets/input/DaysWeek":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom dojo/store/Memory dojo/store/Observable dojo/store/DataStore dojox/form/CheckedMultiSelect".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([d],{dropDown:"true",multiple:"true",selectAll:"false",postCreate:function(){this.inherited(arguments);var a=this;this.labelText||(this.labelText="Select days");(new c({idProperty:"value",data:[{label:"Monday",value:"monday",shortLabel:"Mon",dayOfWeek:"1"},{label:"Tuesday",value:"tuesday",shortLabel:"Tue",dayOfWeek:"2"},{label:"Wednesday",value:"wednesday",shortLabel:"Wed",dayOfWeek:"3"},{label:"Thursday",value:"thursday",shortLabel:"Thu",dayOfWeek:"4"},{label:"Friday",
value:"friday",shortLabel:"Fri",dayOfWeek:"5"},{label:"Saturday",value:"saturday",shortLabel:"Sat",dayOfWeek:"6"},{label:"Sunday",value:"sunday",shortLabel:"Sun",dayOfWeek:"0"}]})).query().forEach(function(c){"true"===a.selectAll&&(c.selected="true");a.addOption(c)});f(this,"change",function(){var a=h.filter(this.options,function(a){return a.selected});if(this.dropDown&&this.dropDownButton&&a){var b=-1!=h.indexOf(this.get("value"),"monday"),c=-1!=h.indexOf(this.get("value"),"tuesday"),d=-1!=h.indexOf(this.get("value"),
"wednesday"),e=-1!=h.indexOf(this.get("value"),"thursday"),f=-1!=h.indexOf(this.get("value"),"friday"),m=-1!=h.indexOf(this.get("value"),"saturday"),k=-1!=h.indexOf(this.get("value"),"sunday");if(b&&c&&d&&e&&f&&m&&k)this.dropDownButton.set("label","Every day");else if(b&&c&&d&&e&&f&&!m&&!k)this.dropDownButton.set("label","Weekdays");else if(b||c||d||e||f||!m||!k){var l="";h.forEach(a,function(a){l+=(l.length?", ":"")+a.shortLabel});this.dropDownButton.set("label",l)}else this.dropDownButton.set("label",
"Weekends")}a.length||this.dropDownButton.set("label",this.labelText)});f(this,"click",function(){this.dropDownButton.openDropDown()})},startup:function(){this.inherited(arguments)}})})},"dojo/store/DataStore":function(){define("../_base/lang ../_base/declare ../Deferred ../_base/array ./util/QueryResults ./util/SimpleQueryEngine".split(" "),function(l,k,h,f,a,c){return k("dojo.store.DataStore",null,{target:"",constructor:function(a){l.mixin(this,a);if(!1 in a){var c;try{c=this.store.getIdentityAttributes()}catch(d){}this.idProperty=
!c||!idAttributes[0]||this.idProperty}a=this.store.getFeatures();a["dojo.data.api.Read"]||(this.get=null);a["dojo.data.api.Identity"]||(this.getIdentity=null);a["dojo.data.api.Write"]||(this.put=this.add=null)},idProperty:"id",store:null,queryEngine:c,_objectConverter:function(a){function c(a){for(var e={},f=d.getAttributes(a),h=0;h<f.length;h++){var k=f[h],l=d.getValues(a,k);if(1<l.length){for(k=0;k<l.length;k++){var w=l[k];"object"==typeof w&&d.isItem(w)&&(l[k]=c(w))}w=l}else w=d.getValue(a,k),
"object"==typeof w&&d.isItem(w)&&(w=c(w));e[f[h]]=w}b in e||!d.getIdentity||(e[b]=d.getIdentity(a));return e}var d=this.store,b=this.idProperty;return function(b){return a(b&&c(b))}},get:function(a,c){var d,b,f=new h;this.store.fetchItemByIdentity({identity:a,onItem:this._objectConverter(function(a){f.resolve(d=a)}),onError:function(a){f.reject(b=a)}});if(void 0!==d)return null==d?void 0:d;if(b)throw b;return f.promise},put:function(a,c){c=c||{};var d="undefined"!=typeof c.id?c.id:this.getIdentity(a),
b=this.store,f=this.idProperty,k=new h;"undefined"==typeof d?(b.newItem(a),b.save({onComplete:function(){k.resolve(a)},onError:function(a){k.reject(a)}})):b.fetchItemByIdentity({identity:d,onItem:function(d){if(d){if(!1===c.overwrite)return k.reject(Error("Overwriting existing object not allowed"));for(var h in a)h!=f&&a.hasOwnProperty(h)&&b.getValue(d,h)!=a[h]&&b.setValue(d,h,a[h])}else{if(!0===c.overwrite)return k.reject(Error("Creating new object not allowed"));b.newItem(a)}b.save({onComplete:function(){k.resolve(a)},
onError:function(a){k.reject(a)}})},onError:function(a){k.reject(a)}});return k.promise},add:function(a,c){(c=c||{}).overwrite=!1;return this.put(a,c)},remove:function(a){var c=this.store,d=new h;this.store.fetchItemByIdentity({identity:a,onItem:function(a){try{null==a?d.resolve(!1):(c.deleteItem(a),c.save(),d.resolve(!0))}catch(e){d.reject(e)}},onError:function(a){d.reject(a)}});return d.promise},query:function(c,m){var d,b=new h(function(){d.abort&&d.abort()});b.total=new h;var k=this._objectConverter(function(a){return a});
d=this.store.fetch(l.mixin({query:c,onBegin:function(a){b.total.resolve(a)},onComplete:function(a){b.resolve(f.map(a,k))},onError:function(a){b.reject(a)}},m));return a(b)},getIdentity:function(a){return a[this.idProperty]}})})},"dojox/form/CheckedMultiSelect":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/event dojo/dom-geometry dojo/dom-class dojo/dom-construct dojo/i18n dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/Menu dijit/MenuItem dijit/Tooltip dijit/form/_FormSelectWidget dijit/form/ComboButton dojo/text!dojox/form/resources/_CheckedMultiSelectMenuItem.html dojo/text!dojox/form/resources/_CheckedMultiSelectItem.html dojo/text!dojox/form/resources/CheckedMultiSelect.html dojo/i18n!dojox/form/nls/CheckedMultiSelect dijit/form/CheckBox".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){var z=l("dojox.form._CheckedMultiSelectItem",[d,b,n],{templateString:y,baseClass:"dojoxMultiSelectItem",option:null,parent:null,disabled:!1,readOnly:!1,postMixInProperties:function(){this._type=this.parent.multiple?{type:"checkbox",baseClass:"dijitCheckBox"}:{type:"radio",baseClass:"dijitRadio"};this.disabled||(this.disabled=this.option.disabled=this.option.disabled||!1);this.readOnly||(this.readOnly=this.option.readOnly=this.option.readOnly||!1);
this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.labelNode.innerHTML=this.option.label},_changeBox:function(){this.get("disabled")||this.get("readOnly")||(this.parent.multiple?this.option.selected=this.checkBox.get("value")&&!0:this.parent.set("value",this.option.value),this.parent._updateSelection(),this.parent.focus())},_onClick:function(a){this.get("disabled")||this.get("readOnly")?f.stop(a):this.checkBox._onClick(a)},_updateBox:function(){this.checkBox.set("value",
this.option.selected)},_setDisabledAttr:function(a){this.disabled=a||this.option.disabled;this.checkBox.set("disabled",this.disabled);c.toggle(this.domNode,"dojoxMultiSelectDisabled",this.disabled)},_setReadOnlyAttr:function(a){this.checkBox.set("readOnly",a);this.readOnly=a}}),B=l("dojox.form._CheckedMultiSelectMenu",q,{multiple:!1,buildRendering:function(){this.inherited(arguments);var a=this.menuTableNode=this.domNode,b=this.domNode=e.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}});
a.parentNode&&a.parentNode.replaceChild(b,a);c.remove(a,"dijitMenuTable");b.className=a.className+" dojoxCheckedMultiSelectMenu";a.className="dijitReset dijitMenuTable";a.setAttribute("role","listbox");b.setAttribute("role","presentation");b.appendChild(a)},resize:function(b){b&&(a.setMarginBox(this.domNode,b),"w"in b&&(this.menuTableNode.style.width="100%"))},onClose:function(){this.inherited(arguments);this.menuTableNode&&(this.menuTableNode.style.width="")},onItemClick:function(a,b){"undefined"==
typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled||a.readOnly)return!1;if(!this.multiple)this.onExecute();a.onClick(b)}}),C=l("dojox.form._CheckedMultiSelectMenuItem",r,{templateString:v,option:null,parent:null,iconClass:"",postMixInProperties:function(){this.parent.multiple?(this._iconClass="dojoxCheckedMultiSelectMenuCheckBoxItemIcon",this._type={type:"checkbox"}):(this._iconClass="",this._type={type:"hidden"});this.disabled=this.option.disabled;this.checked=this.option.selected;
this.label=this.option.label;this.readOnly=this.option.readOnly;this.inherited(arguments)},onChange:function(a){},_updateBox:function(){c.toggle(this.domNode,"dojoxCheckedMultiSelectMenuItemChecked",!!this.option.selected);this.domNode.setAttribute("aria-checked",this.option.selected);this.inputNode.checked=this.option.selected;this.parent.multiple||c.toggle(this.domNode,"dijitSelectSelectedOption",!!this.option.selected)},_onClick:function(a){this.disabled||this.readOnly||(this.parent.multiple?(this.option.selected=
!this.option.selected,this.parent.onChange(),this.onChange(this.option.selected)):this.option.selected||(h.forEach(this.parent.getChildren(),function(a){a.option.selected=!1}),this.option.selected=!0,this.parent.onChange(),this.onChange(this.option.selected)));this.inherited(arguments)}});return l("dojox.form.CheckedMultiSelect",u,{templateString:x,baseClass:"dojoxCheckedMultiSelect",required:!1,invalidMessage:"$_unset_$",_message:"",dropDown:!1,labelText:"",tooltipPosition:[],postMixInProperties:function(){this.inherited(arguments);
this._nlsResources=m.getLocalization("dojox.form","CheckedMultiSelect",this.lang);"$_unset_$"==this.invalidMessage&&(this.invalidMessage=this._nlsResources.invalidMessage)},_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var a=this.srcNodeRef.selectedIndex||0;this.value=this.options[0<=a?a:0].value}this.dropDown&&(c.toggle(this.selectNode,"dojoxCheckedMultiSelectHidden"),this.dropDownMenu=new B({id:this.id+"_menu",style:"display: none;",multiple:this.multiple,
onChange:k.hitch(this,"_updateSelection")}))},startup:function(){this.inherited(arguments);this.dropDown&&(this.dropDownButton=new w({label:this.labelText,dropDown:this.dropDownMenu,baseClass:"dojoxCheckedMultiSelectButton",maxHeight:this.maxHeight},this.comboButtonNode))},_onMouseDown:function(a){a.preventDefault()},validator:function(){return this.required?h.some(this.getOptions(),function(a){return a.selected&&null!=a.value&&0!=a.value.toString().length}):!0},validate:function(a){t.hide(this.domNode);
(a=this.isValid(a))||this.displayMessage(this.invalidMessage);return a},isValid:function(a){return this.validator()},getErrorMessage:function(a){return this.invalidMessage},displayMessage:function(a){t.hide(this.domNode);a&&t.show(a,this.domNode,this.tooltipPosition)},onAfterAddOptionItem:function(a,b){},_addOptionItem:function(a){var b;this.dropDown?(b=new C({option:a,parent:this.dropDownMenu}),this.dropDownMenu.addChild(b)):(b=new z({option:a,parent:this,disabled:this.disabled,readOnly:this.readOnly}),
this.wrapperDiv.appendChild(b.domNode));this.onAfterAddOptionItem(b,a)},_refreshState:function(){this.validate(this.focused)},onChange:function(a){this._refreshState()},reset:function(){this.inherited(arguments);t.hide(this.domNode)},_updateSelection:function(){this.inherited(arguments);this._handleOnChange(this.value);h.forEach(this._getChildren(),function(a){a._updateBox()});e.empty(this.containerNode);var a=this;h.forEach(this.value,function(b){b=e.create("option",{value:b,label:b,selected:"selected"});
e.place(b,a.containerNode)});if(this.dropDown&&this.dropDownButton){var b=0,c="";h.forEach(this.options,function(a){a.selected&&(b++,c=a.label)});this.dropDownButton.set("label",this.multiple?k.replace(this._nlsResources.multiSelectLabelText,{num:b}):c)}},_getChildren:function(){return this.dropDown?this.dropDownMenu.getChildren():h.map(this.wrapperDiv.childNodes,function(a){return p.byNode(a)})},invertSelection:function(a){this.multiple&&(h.forEach(this.options,function(a){a.selected=!a.selected}),
this._updateSelection())},_setDisabledAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDownButton.set("disabled",a);h.forEach(this._getChildren(),function(b){b&&b.set&&b.set("disabled",a)})},_setReadOnlyAttr:function(a){this.inherited(arguments);"readOnly"in this.attributeMap&&this[this.attributeMap.readOnly].setAttribute("readonly",a);this.readOnly=a;h.forEach(this._getChildren(),function(b){b&&b.set&&b.set("readOnly",a)})},uninitialize:function(){t.hide(this.domNode);h.forEach(this._getChildren(),
function(a){a.destroyRecursive()});this.inherited(arguments)}})})},"mojo/widgets/input/Display":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/form/Select","./_WithLabelMixin"],function(l,k,h,f){return l([h,f],{label:"Display",constructor:function(){this.options=[{label:"Show",value:"block"},{label:"Hide",value:"none"}]}})})},"mojo/widgets/input/Flex":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/form/Select","./_WithLabelMixin"],function(l,k,h,f){return l([h,
f],{label:"Width",defaultOptions:[{label:"100%",value:"1 1 100%"},{label:"90%",value:"0 0 90%"},{label:"80%",value:"0 0 80%"},{label:"70%",value:"0 0 70%"},{label:"60%",value:"0 0 60%"},{label:"50%",value:"0 0 50%"},{label:"25%",value:"0 0 25%"}],constructor:function(a){this.options=a.options||this.defaultOptions;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.selectContainer=k.place("\x3cdiv class\x3d'unit !padding-left--lv0 full-width--xltablet'\x3e\x3c/div\x3e",
this.domNode.parentNode);k.place(this.domNode,this.selectContainer)}})})},"mojo/widgets/input/Font":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/fontInput.html dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/_base/array dojo/on mojo/user mojo/lib/flags mojo/neapolitan/style-keys mojo/widgets/input/FontFamily mojo/widgets/input/FontSize mojo/widgets/input/Color mojo/widgets/input/TextAlign mojo/widgets/input/LineHeight mojo/widgets/input/FontStyle mojo/widgets/input/LetterSpacing".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return l([k,h,f],{templateString:a,selector:null,properties:null,isOptional:!1,familyInput:null,sizeInput:null,colorInput:null,alignInput:null,lineHeightInput:null,spacingInput:null,styleInput:null,useExtendedWebFonts:!1,postMixInProperties:function(){this.properties||(this.properties={});this._commonInputProps={isOptional:this.isOptional,selector:this.selector,subLabel:!0}},postCreate:function(){this.properties.hasOwnProperty(q.FONT_FAMILY)&&this._addFamilyInput(this.properties[q.FONT_FAMILY]);
this.properties.hasOwnProperty(q.FONT_SIZE)&&this._addSizeInput(this.properties[q.FONT_SIZE]);this.properties.hasOwnProperty(q.COLOR)&&this._addColorInput(this.properties[q.COLOR]);this.properties.hasOwnProperty(q.TEXT_ALIGN)&&this._addAlignInput(this.properties[q.TEXT_ALIGN]);this.properties.hasOwnProperty(q.LINE_HEIGHT)&&this._addLineHeightInput(this.properties[q.LINE_HEIGHT]);this.properties.hasOwnProperty(q.LETTER_SPACING)&&this._addSpacingInput(this.properties[q.LETTER_SPACING]);this._hasStyleProperties()&&
this._addFontStyleInput()},updateValue:function(a,b){switch(a){case q.FONT_FAMILY:this.familyInput.set("value",b,!1);break;case q.FONT_SIZE:this.sizeInput.set("value",b,!1);break;case q.COLOR:this.colorInput.set("value",b,!1);break;case q.TEXT_ALIGN:this.alignInput.set("value",b,!1);break;case q.LINE_HEIGHT:this.lineHeightInput.set("value",b,!1);break;case q.LETTER_SPACING:this.spacingInput.set("value",b,!1);break;case q.FONT_WEIGHT:case q.FONT_STYLE:case q.TEXT_DECORATION:this.styleInput.updateValue(a,
b)}},_hasStyleProperties:function(){return d.some(q.FONT_STYLES_PROPS,m.hitch(this,function(a){return this.properties.hasOwnProperty(a)}))},_addFamilyInput:function(a){this.familyInput=new r(m.mixin({value:a,label:"Font",webfont_enable:!0,useExtendedWebFonts:this.useExtendedWebFonts},this._commonInputProps));this.familyInput.startup();c.place(this.familyInput.inputContainerNode,this.familyContainer,"only");e.remove(this.familyContainer,"hide");this.own(b(this.familyInput,"change",m.hitch(this,function(){this.onChange(q.FONT_FAMILY,
this.familyInput.value)})))},_addSizeInput:function(a){this.sizeInput=new t(m.mixin({label:"Size",value:a},this._commonInputProps));this.sizeInput.startup();c.place(this.sizeInput.inputContainerNode,this.sizeContainer,"only");e.remove(this.sizeColorContainer,"hide");e.remove(this.sizeContainer,"hide");this.own(b(this.sizeInput,"change",m.hitch(this,function(){this.onChange(q.FONT_SIZE,this.sizeInput.value)})))},_addColorInput:function(a){this.colorInput=new u(m.mixin({value:a},this._commonInputProps));
this.colorInput.startup();c.place(this.colorInput.inputContainerNode,this.colorContainer,"only");e.remove(this.sizeColorContainer,"hide");e.remove(this.colorContainer,"hide");this.own(b(this.colorInput,"change",m.hitch(this,function(){this.onChange(q.COLOR,this.colorInput.value)})))},_addFontStyleInput:function(){this.styleInput=new y(m.mixin({label:"Styles",properties:this.properties},this._commonInputProps));c.place(this.styleInput.inputContainerNode,this.styleContainer,"only");e.remove(this.styleAlignContainer,
"hide");e.remove(this.styleContainer,"hide");this.own(b(this.styleInput,"change",m.hitch(this,function(a,b){this.onChange(a,b)})))},_addAlignInput:function(a){this.alignInput=new w(m.mixin({label:"Align",value:a},this._commonInputProps));this.alignInput.startup();c.place(this.alignInput.inputContainerNode,this.alignContainer,"only");e.remove(this.styleAlignContainer,"hide");e.remove(this.alignContainer,"hide");this.own(b(this.alignInput,"change",m.hitch(this,function(){this.onChange(q.TEXT_ALIGN,
this.alignInput.value)})))},_addLineHeightInput:function(a){this.lineHeightInput=new v(m.mixin({value:a},this._commonInputProps));this.lineHeightInput.startup();c.place(this.lineHeightInput.inputContainerNode,this.lineHeightContainer,"only");e.remove(this.lineHeightSpacingContainer,"hide");e.remove(this.lineHeightContainer,"hide");this.own(b(this.lineHeightInput,"change",m.hitch(this,function(){this.onChange(q.LINE_HEIGHT,this.lineHeightInput.value)})))},_addSpacingInput:function(a){this.spacingInput=
new x(m.mixin({label:"Spacing",value:a},this._commonInputProps));this.spacingInput.startup();c.place(this.spacingInput.inputContainerNode,this.spacingContainer,"only");e.remove(this.lineHeightSpacingContainer,"hide");e.remove(this.spacingContainer,"hide");this.own(b(this.spacingInput,"change",m.hitch(this,function(){this.onChange(q.LETTER_SPACING,this.spacingInput.value)})))},onChange:function(a,b){}})})},"mojo/widgets/input/FontFamily":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dijit/form/Select dijit/MenuSeparator dojo/text!./templates/optGroupLabel.html mojo/widgets/input/_WithLabelMixin".split(" "),
function(l,k,h,f,a,c,e,m,d){var b=[{label:"Arial",value:"Arial, 'Helvetica Neue', Helvetica, sans-serif"},{label:"Comic Sans",value:"'Comic Sans MS', 'Marker Felt-Thin', Arial, sans-serif"},{label:"Courier New",value:"'Courier New', Courier, 'Lucida Sans Typewriter', 'Lucida Typewriter', monospace"},{label:"Georgia",value:"Georgia, Times, 'Times New Roman', serif"},{label:"Helvetica",value:"'Helvetica Neue', Helvetica, Arial, Verdana, sans-serif"},{label:"Lucida",value:"'Lucida Sans Unicode', 'Lucida Grande', sans-serif"},
{label:"Tahoma",value:"Tahoma, Verdana, Segoe, sans-serif"},{label:"Times New Roman",value:"'Times New Roman', Times, Baskerville, Georgia, serif"},{label:"Trebuchet MS",value:"'Trebuchet MS', 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Tahoma, sans-serif"},{label:"Verdana",value:"Verdana, Geneva, sans-serif"}],n=[{label:"Arvo",value:"'Arvo', 'Courier', Georgia, serif"},{label:"Lato",value:"'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Lora",value:"'Lora', Georgia, 'Times New Roman', serif"},
{label:"Merriweather",value:"'Merriweather', Georgia, 'Times New Roman', serif"},{label:"Merriweather Sans",value:"'Merriweather Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Noticia Text",value:"'Noticia Text', Georgia, 'Times New Roman', serif"},{label:"Open Sans",value:"'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Playfair Display",value:"'Playfair Display', Georgia, 'Times New Roman', serif"},{label:"Roboto",value:"'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif"},
{label:"Source Sans Pro",value:"'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif"}],p=[{label:"Archivo Narrow",value:"'Archivo Narrow', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Caveat",value:"'Caveat', Arial, sans-serif"},{label:"Dancing Script",value:"'Dancing Script', Arial, sans-serif"},{label:"Josefin Slab",value:"'Josefin Slab', Georgia, Times New Roman, serif"},{label:"Karla",value:"'Karla', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Montserrat",
value:"'Montserrat', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Nunito",value:"'Nunito', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"PT Serif",value:"'PT Serif', Courier, Georgia, serif"},{label:"Raleway",value:"'Raleway', 'Helvetica Neue', Helvetica, Arial, sans-serif"},{label:"Space Mono",value:"'Space Mono', Courier, Georgia, serif"}],q=l([e],{templateString:m,label:""});return l([c,d],{label:"Font Family",webfont_enable:!1,maxHeight:-1,"class":"!margin-bottom--lv0",
constructor:function(a){this.options=h.clone(b);if(a.webfont_enable){if(a.useExtendedWebFonts){var c=h.clone(n).concat(h.clone(p));c.sort(function(a,b){return a.label<b.label?-1:1});this.options=this.options.concat(c)}else this.options=this.options.concat(h.clone(n));this.options.unshift({optGroup:!0,optGroupLabel:"Standard web fonts",label:"",value:""});this.options.splice(b.length+1,0,{optGroup:!0,optGroupLabel:"Custom web fonts",label:"",value:""})}k.forEach(this.options,function(a){a.optGroup||
(a.label='\x3cspan class\x3d"mojoFontFamilyInputLabel" style\x3d"font-family: '+a.value+'" \x3e'+a.label+"\x3c/span\x3e")});a.isOptional&&this.options.unshift({label:"Not specified",value:""})},startup:function(){this.inherited(arguments);this._toggleWebFontWarning()},_setValueAttr:function(a){var b=a;null==this.options[b]&&k.some(this.options,function(a){return 0<=a.label.indexOf(b)||0==a.value.replace('"',"").indexOf(b)?(b=a.value,!0):!1});this.inherited(arguments,[b]);this._toggleWebFontWarning()},
_fillContent:function(){this.inherited(arguments);a.toggle(this.dropDown.domNode,"dijitSelectWithOptionGroup",this.webfont_enable)},_getMenuItemForOption:function(a){return a.optGroup?new q({label:a.optGroupLabel}):this.inherited(arguments)},_toggleWebFontWarning:function(){if(this._created&&this.webfont_enable&&!window.app.isPageTemplate){var b=this.value,c=n.some(function(a){return a.value===b});this.webfontWarning||(this.webfontWarning=f.place("\x3cp class\x3d'font-weight--bold small-meta dim-el'\x3eIf an email client \x3ca href\x3d'http://kb.mailchimp.com/campaigns/design/limitations-of-html-email' target\x3d'_blank'\x3edoesn't support web fonts\x3c/a\x3e, we'll use a similar standard font instead.\x3c/p\x3e",
this.domNode,"after"));a.toggle(this.webfontWarning,"hide",!c)}}})})},"mojo/widgets/input/FontSize":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/keys dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_WithLabelMixin dijit/_HasDropDown dijit/DropDownMenu dijit/MenuItem dojo/text!./templates/fontSize.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q){var r=l("mojo.widgets.input.FontSize._Menu",n,{baseClass:"mojoFontSizeInput_menu dijitMenu",
autoFocus:!0,focus:function(){var a=!1,b=this.parentWidget.value;b&&k.forEach(this.getChildren(),function(c){c.label&&b===c.label&&(a=!0,this.focusChild(c,!1))},this);a||this.inherited(arguments)}});return l([c,e,m,b,d],{label:"Font Size",templateString:q,sizes:[9,10,11,12,13,14,16,18,24,30,36,48,60,72],initialized:!1,value:null,postCreate:function(){this.inherited(arguments);this._populateFontMenu();this._setInputValue(this.value);this.own(f(this.textInput,"change",h.hitch(this,function(){this.set("value",
this.textInput.value)})),f(this.textInput,"keypress",h.hitch(this,function(b){b.charOrCode===a.ENTER&&this.set("value",this.textInput.displayedValue)})));this.initialized=!0},_populateFontMenu:function(){var a=this;a.dropDown=new r({parentWidget:this});k.forEach(this.sizes,function(b){var c=new p({label:b+"px",onClick:function(){a.set("value",b)}});a.dropDown.addChild(c)})},_setInputValue:function(a){this.textInput.set("value",a)},_setValueAttr:function(a){null===a&&(a="");(a=a.toString().replace(/[^0-9]/g,
""))?(a=+a,200<a&&(a=200),a+="px"):this.isOptional||(a=this.sizes[0]+"px");this._set("value",a);this.initialized&&(this._setInputValue(a),this.onChange(a))},onChange:function(a){}})})},"mojo/widgets/input/TextAlign":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/textAlignInput.html dojo/on dojo/query dojo/dom-attr ./_WithResetLinkMixin".split(" "),function(l,k,h,f,a,c,e,m){return l([k,h,m],{templateString:f,initialized:!1,buildRendering:function(){this.name||
(this.name=this.id+"_textAlign");this.inherited(arguments)},postCreate:function(){var c=this;this.originalValue=this.value;c.inherited(arguments);c.initialized=!0;c._toggleActive();this.own(a(this.domNode,"[type\x3dradio]:change",function(){c.set("value",this.value)}))},_setValueAttr:function(a){this._set("value",a);this.initialized&&this._toggleActive();this.onChange(a)},_toggleActive:function(){var a=this.get("value");if(a){var b=c("[type\x3dradio][value\x3d"+a+"]",this.domNode)[0];b&&(b.checked=
!0)}else if(b=c("[type\x3dradio]:checked",this.domNode)[0])b.checked=!1;this.toggleResetLink(""!==a)},onReset:function(){this.set("value","")},reset:function(){this.set("value",this.originalValue)},onChange:function(a){}})})},"mojo/widgets/input/LineHeight":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/form/Select","./_WithLabelMixin"],function(l,k,h,f){return l([h,f],{label:"Line height",constructor:function(a){this.options=[{label:"Normal",value:"100%"},{label:"Slight",value:"125%"},
{label:"1 1/2 spacing",value:"150%"},{label:"Double space",value:"200%"}];a.isOptional&&this.options.unshift({label:"Not specified",value:""})}})})},"mojo/widgets/input/FontStyle":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin ./_WithLabelMixin dojo/_base/lang dojo/dom-construct dojo/query dojo/on".split(" "),function(l,k,h,f,a,c,e,m){return l([k,h,f],{label:"Font Style",templateString:'\x3cdiv class\x3d"mojoFontStyle flex"\x3e\x3c/div\x3e',_checkboxTpl:'\x3cinput type\x3d"checkbox" class\x3d"v-visuallyHidden v-buttonGroupControl" id\x3d"{id}" value\x3d"{value}"\x3e\x3clabel for\x3d"{id}" class\x3d"v-buttonGroupLabel"\x3e\x3cspan class\x3d"freddicon {icon}"\x3e\x3c/span\x3e\x3c/label\x3e',
selector:null,fontStyle:null,fontWeight:null,textDecoration:null,properties:null,_inputs:null,postMixInProperties:function(){this.properties||(this.properties={});this._inputs={}},postCreate:function(){this.inherited(arguments);this.properties.hasOwnProperty("font-weight")&&this._addInput("bold","text-bold");this.properties.hasOwnProperty("font-style")&&this._addInput("italic","text-italics");this.properties.hasOwnProperty("text-decoration")&&(this._addInput("underline","text-underline"),this._addInput("strikethrough",
"text-strikethrough"));e("[type\x3dcheckbox]",this.domNode).forEach(a.hitch(this,function(a){this._inputs[a.value]=a}));for(var c in this.properties)this.properties.hasOwnProperty(c)&&this.updateValue(c,this.properties[c]);this.own(m(this.domNode,"[type\x3dcheckbox]:change",a.hitch(this,"_updateProperties")));this.watch(a.hitch(this,function(a,c,d){c=null;switch(a){case "fontWeight":c="font-weight";break;case "fontStyle":c="font-style";break;case "textDecoration":c="text-decoration"}if(c)this.onChange(c,
d)}))},updateValue:function(a,b){switch(a){case "font-weight":this._inputs.bold.checked=b&&"bold"===b.toLowerCase();break;case "font-style":this._inputs.italic.checked=b&&"italic"===b.toLowerCase();break;case "text-decoration":var c="";"string"===typeof b&&(c=b.toLowerCase());var e=0<=c.indexOf("line-through"),c=0<=c.indexOf("underline");this._inputs.strikethrough.checked=e;this._inputs.underline.checked=c}},_addInput:function(d,b){c.place(a.replace(this._checkboxTpl,{id:this.id+"_"+d,value:d,icon:b}),
this.domNode)},_updateProperties:function(){var a=this._inputs.bold,b=this._inputs.italic,c=this._inputs.underline,e=this._inputs.strikethrough;a&&this.set("fontWeight",a.checked?"bold":"normal");b&&this.set("fontStyle",b.checked?"italic":"normal");c&&e&&(a=[],c.checked&&a.push("underline"),e.checked&&a.push("line-through"),this.set("textDecoration",a.length?a.join(" "):"none"))},onChange:function(a,b){}})})},"mojo/widgets/input/LetterSpacing":function(){define(["dojo/_base/declare","dijit/form/Select",
"./_WithLabelMixin"],function(l,k,h){return l([k,h],{label:"Letter Spacing",range:5,maxHeight:-1,"class":"!margin-bottom--lv0",constructor:function(){this.options=[];for(var f=-this.range;0>f;f++)this.options.push({label:f+"px",value:f+"px"});this.options.push({label:"Normal",value:"normal"});for(f=0;f<=this.range;f++)this.options.push({label:f+"px",value:f+"px"})}})})},"mojo/widgets/input/InfoMenuItem":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dijit/MenuItem"],
function(l,k,h,f){return h([f],{badgeTpl:'\x3cspan class\x3d"badge {badgeType} margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0"\x3e{badge}\x3c/span\x3e',metaTpl:'{label}\x3cdiv class\x3d"fwn dim-el"\x3e{meta}\x3c/div\x3e',mediaTpl:'\x3cdiv class\x3d"selfclear"\x3e\x3cdiv class\x3d"float-left u-square--lv1 margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\x3cimg src\x3d"{imageSrc}" height\x3d"36"\x3e\x3c/div\x3e\x3cdiv class\x3d"float-left"\x3e\x3cdiv class\x3d"line-height--lv3"\x3e{label}\x3c/div\x3e\x3cdiv class\x3d"fwn dim-el line-height--lv3"\x3e{meta}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
_setLabelAttr:function(a){var c=this.option.badge,e=this.option.badgeType,f=this.option.imageSrc,d=this.option.meta||"";c&&(a+=l.replace(this.badgeTpl,{badge:c,badgeType:e}));f?a=l.replace(this.mediaTpl,{imageSrc:f,label:a,meta:d}):d&&(a=l.replace(this.metaTpl,{label:a,meta:d}));this.inherited(arguments,[a])}})})},"mojo/widgets/input/InfoSelect":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/query dijit/form/Select dijit/MenuSeparator mojo/widgets/input/InfoMenuItem".split(" "),
function(l,k,h,f,a,c,e){return k([a],{_fillContent:function(){this.inherited(arguments);this.srcNodeRef&&h.forEach(this.options,l.hitch(this,function(a){var c=f("[value\x3d"+a.value+"]",this.srcNodeRef)[0];c&&(a.meta=c.getAttribute("data-meta"),a.imageSrc=c.getAttribute("data-image-src"),a.skip=c.getAttribute("data-skip"),a.badge=c.getAttribute("data-badge"),a.badgeType=c.getAttribute("data-badge-type")||"info")}))},_getMenuItemForOption:function(a){if(a.value||a.label){var d=l.hitch(this,"_setValueAttr",
a);a=new e({option:a,label:("text"===this.labelType?(a.label||"").toString().replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;"):a.label)||this.emptyLabel,onClick:d,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:a.disabled||!1});a.focusNode.setAttribute("role","option");return a}return new c({ownerDocument:this.ownerDocument})},_addOptionItem:function(a){this.dropDown&&!a.skip&&this.dropDown.addChild(this._getMenuItemForOption(a))}})})},"mojo/widgets/input/Measurement":function(){define("dojo/_base/declare dojo/dom-construct dijit/_WidgetBase dijit/form/TextBox dojo/string ./_WithLabelMixin".split(" "),
function(l,k,h,f,a,c){return l([h,c],{baseClass:"mojoMeasurementInput",_setValueAttr:function(c){c=c.replace(/ /g,"");null===c.match("%")?(this.suffix="px",c.match("px")&&(c=a.trim(c.replace("px","")))):this.suffix="";null!=this.input&&this.input.set("value",c,!1);this._updateSuffix();var f=this.get("value");this._set("value",c+this.suffix);if(f!=c)this.onChange(c+this.suffix);this.inherited(arguments,[c])},postCreate:function(){this.originalValue=this.get("value");this.input=new f({value:this.get("value")});
this.input.startup();this.input.placeAt(this.domNode);this.set("value",this.get("value"));this.suffixDom=k.place('\x3cspan class\x3d"suffix"\x3e'+this.suffix+"\x3c/span\x3e",this.domNode);this.connect(this.input,"onChange","_setValueAttr");this.inherited(arguments)},_updateSuffix:function(){this.suffixDom&&(this.suffixDom.innerHTML=this.suffix)},reset:function(){this.set("value",this.originalValue)},onChange:function(a){}})})},"mojo/widgets/input/PageWidth":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/string dijit/_WidgetBase dijit/form/Select ./_WithLabelMixin".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([e,d],{value:null,initialized:!1,label:"Page Width",postCreate:function(){this.isOptional=!0;this.inherited(arguments);var b=this.originalValue=this.value,c=[{label:"780px",value:"780px"},{label:"960px",value:"960px"},{label:"1224px",value:"1224px"},{label:"1332px",value:"1332px"},{label:"100%",value:"100%"}];c.forEach(function(a){a.label="\x3cspan class\x3d'mojoFontSizeInput_menu'\x3e"+a.label+"\x3c/span\x3e"});this.container=f.place("\x3cdiv class\x3d'unit size1of2 !padding-left--lv0 full-width--xltablet'\x3e\x3c/div\x3e",
this.domNode);this.styleInput=(new m({options:c,maxHeight:-1,value:b,"class":"!margin-bottom--lv1"})).placeAt(this.container);this.own(a(this.styleInput,"change",k.hitch(this,function(){this._onChange()})));this.initialized=!0},_setValueAttr:function(a){this.inherited(arguments);if(this.initialized){this.setInputValues(a);var c=this.get("value");this.onChange(c)}},_getValueAttr:function(){return this.initialized?this.styleInput.get("value"):this.inherited(arguments)},setInputValues:function(a){this.initialized&&
this.styleInput.set("value",a,!1)},onChange:function(a){},_onChange:function(){var a=this.get("value");this.onChange(a)}})})},"mojo/widgets/input/PercentageWidth":function(){define(["dojo/_base/declare","dojo/dom-construct","dijit/form/Select","./_WithLabelMixin"],function(l,k,h,f){return l([h,f],{label:"Width",defaultOptions:[{label:"100%",value:"100%"},{label:"90%",value:"90%"},{label:"80%",value:"80%"},{label:"70%",value:"70%"},{label:"60%",value:"60%"},{label:"50%",value:"50%"},{label:"25%",value:"25%"}],
constructor:function(a){this.options=a.options||this.defaultOptions;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.selectContainer=k.place("\x3cdiv class\x3d'unit !padding-left--lv0 full-width--xltablet'\x3e\x3c/div\x3e",this.domNode.parentNode);k.place(this.domNode,this.selectContainer)}})})},"mojo/widgets/input/TagAutocomplete":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/keys dojo/dom-class dojo/dom-geometry dojo/dom-style dijit/focus mojo/widgets/input/_TagBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_FocusMixin dojo/text!./templates/tagAutocomplete.html dijit/form/FilteringSelect dojo/store/Memory dojox/html/entities".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([d,b,n,p],{templateString:q,store:null,autoComplete:!0,queryExpr:"${0}",postCreate:function(){a.add(this.inputField._buttonNode,"hide");this.inputField.autoComplete=this.autoComplete;this.inputField.store=this.store;this.inputField.queryExpr=this.queryExpr;this.own(h(this,"click",k.hitch(this,function(a){m.focus(this.domNode);a.stopPropagation();a.preventDefault()})),h(this,"dblclick",k.hitch(this,"_onDblClick")),h(this.removeBtn,"click",k.hitch(this,
function(a){a.stopPropagation();a.preventDefault();this.destroy()})),h(this.inputField,"change",k.hitch(this,function(){var a=this.inputField.item;a&&(this.setValue(a.id),this.setLabel(a.name));this.inputField.focusNode.blur();this.tagList.moveToNewTag()})));this.setValue(this.value);this.viewMode()},getCurrentInput:function(){return this.inputField.focusNode.value||""},isBlank:function(){return!this.getValue()&&(this.inViewMode()||!this.getCurrentInput())},setLabel:function(a){this.inherited(arguments);
this._updateValue()},viewMode:function(){this.domNode&&(a.add(this.domNode,"view-mode"),a.remove(this.domNode,"edit-mode"));this.focused&&a.add(this.domNode,"active");this._updateValue();this.inputField.focusNode.blur();this.inherited(arguments)},editMode:function(){this.domNode&&(a.remove(this.domNode,"view-mode"),a.add(this.domNode,"edit-mode"));this._adjustTextInput();m.focus(this.inputField.focusNode);a.remove(this.domNode,"active");this.inherited(arguments)},_updateValue:function(){this.tagLabel.innerHTML=
u.encode(this.getLabel());this._adjustTextInput()},_adjustTextInput:function(){var a=c.position(this.tagLabel).w+50;e.set(this.inputField,"width",a+"px")},focus:function(){m.focus(this.domNode);this._onFocus()},_onFocus:function(){a.toggle(this.domNode,"active",this.inViewMode());this.inherited(arguments)},_onBlur:function(){a.remove(this.domNode,"active");this.viewMode();this.inherited(arguments)},_onDblClick:function(){this.inViewMode()&&(this.editMode(),this.inputField.select())}})})},"mojo/widgets/input/Visibility":function(){define(["dojo/_base/declare",
"dijit/form/Select","./_WithLabelMixin"],function(l,k,h){return l([k,h],{label:"Visibility",constructor:function(){this.options=[{label:"Show",value:"visible"},{label:"Hide",value:"hidden"}]}})})},"mojo/widgets/index/stats/StatsContainer":function(){define("dojo/_base/declare dojo/_base/lang mojo/context dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/StatsContainer.html".split(" "),function(l,k,h,f,a,c,e){return l([f,a,c],{templateString:e,rootUrl:h.rootUrl,
postCreate:function(){this.inherited(arguments)}})})},"mojo/widgets/index/resources/ResourcesContainer":function(){define("dojo/_base/declare dojo/_base/lang mojo/context dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ResourcesContainer.html".split(" "),function(l,k,h,f,a,c,e){return l([f,a,c],{templateString:e,rootUrl:h.rootUrl,postCreate:function(){this.inherited(arguments)}})})},"mojo/widgets/index/recommendations/RecommendationCard":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/widgets/index/recommendations/RecommendationItem dojo/text!./templates/RecommendationCard.html".split(" "),
function(l,k,h,f,a,c,e,m){return l([e,a,c],{templateString:m,inProgress:!1,postMixInProperties:function(){this.inherited(arguments);this.header=this.data.header.card;this.timeLabel=this.time;this.inProgressLabel=this.data.label.inProgress;var a=this.inProgress?"inProgress":"notStarted";this.ctaText=this.data.cta[a].text;this.ctaLink=this.data.cta[a].link;this.marketingLink=this.data.links.marketing;this.kbLink=this.data.links.kb},postCreate:function(){this.inherited(arguments);this.toggleInProgress()},
_addEventListeners:function(){this.inherited(arguments);f(this.notStartedCta,"click",k.hitch(this,function(){this._openFrontDoor(this.ctaLink)}))},setAsPrimaryAction:function(){h.add(this.notStartedCta,"p1");h.add(this.inProgressCta,"p1")},clearPrimaryAction:function(){h.remove(this.notStartedCta,"p1");h.remove(this.inProgressCta,"p1")},toggleInProgress:function(){h.toggle(this.inProgressLabel,"display--none",!1===this.inProgress);h.toggle(this.notStartedLabel,"display--none",!0===this.inProgress);
h.toggle(this.inProgressBtn,"display--none",!1===this.inProgress);h.toggle(this.notStartedBtn,"display--none",!0===this.inProgress)}})})},"mojo/widgets/index/recommendations/RecommendationItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/on mojo/context mojo/intentOverlay velocity/velocity dijit/_WidgetBase".split(" "),function(l,k,h,f,a,c,e,m){return l([m],{rootUrl:a.rootUrl,isFeatured:!1,data:{},estimatedTime:{LOW:{label:"5-10 MIN"}},postMixInProperties:function(){this.inherited(arguments);
this.time=this.estimatedTime[this.data.label.time].label},postCreate:function(){this.inherited(arguments);this.intentOverlay=c.getIntentOverlay();this._addEventListeners()},_addEventListeners:function(){this.dismissBtn&&f(this.dismissBtn,"click",k.hitch(this,function(a){this.set("onDismiss",this)}))},_openFrontDoor:function(a){this.intentOverlay.set("createButtonLocation","dashboard");this.intentOverlay.router.go(a)},hide:function(){var a=new h;e(this.domNode,{opacity:[0,"easeOut",1]},{duration:150,
complete:k.hitch(this,function(){a.resolve()})});return a}})})},"mojo/intentOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-attr dojo/dom-class dojo/dom-style dojo/on dojo/topic dojo/aspect dojo/store/Memory dojo/request/xhr dojo/query dojo/router dojo/keys dijit/_Widget dijit/_Templated mojo/user mojo/utils mojo/utils/date mojo/url mojo/lib/flags mojo/lib/logger mojo/widgets/TopSliderPane mojo/widgets/Autocomplete dojo/text!./intent-overlay/templates/IntentOverlay.html dojo/text!./intent-overlay/templates/SliderPaneWrapper.html ./intent-overlay/api ./intent-overlay/PathwayCardList ./intent-overlay/BlueprintCard ./intent-overlay/ConfigOverlay velocity/velocity vendor/lodash-amd/find".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T,V,P){var K=l([C],{templateString:G,content:F,titleText:"Intent Overlay",blueprints:null,searchTopic:"intents",routeHistory:[],activePane:null,createButtonLocation:"deep link",createFlowStartedAt:null,postCreate:function(){this.inherited(arguments);this.activePane=this.intentsIntroContainer;this.createFlowStartedAt=x.getCurrentTimestamp();var a=I.list().then(k.hitch(this,function(a){this.blueprints=a;this.dataStore=new n({data:this.blueprints});
this.renderBlueprints(this.blueprints);this.filteredSearch=new D({placeholder:"Search ads, automations, and campaigns",wait:500,searchTopic:this.searchTopic,suggestions:this.getSearchSuggestions(),onSuggestionSelected:k.hitch(this,function(a){var b=this.blueprints.filter(function(b){return b.id===a.value})[0],b=b?b.searchKeywords[0]:a.label;this.filteredSearch.set("searchText",b);this.runSearch(b)}),shouldOnlySuggestOnFocus:!0},this.intentsFilteredSearch);this.searchSubscription=d.subscribe("search/"+
this.searchTopic,this.runSearch.bind(this));this.own(m(this.exploreIntentsButton,"click",function(){r.go("/create-campaign/explore")}),m(this.backLink,"click",k.hitch(this,function(){r.go(this.routeHistory.pop()||"/create-campaign")})),m(this.filteredSearch,"clear",k.hitch(this,function(){"intentsSearchResultsContainer"===this.activePane.dataset.dojoAttachPoint&&r.go(this.routeHistory.pop()||"/create-campaign")})),m(this.closeLink,"click",k.hitch(this,function(){r.go("/")})));return this.blueprints}));
r.register("/",k.hitch(this,function(){this.hide()}));r.register("/create-campaign",k.hitch(this,function(){this.routeHistory=[];this.clearSearch();B.info("campaigns-front-door","User view",{view:"front_door.intro",create_button_location:this.createButtonLocation,referer_page:window.location.pathname});this._showIntentsIntroContainer();this.show()}));r.register("/create-campaign/explore",k.hitch(this,function(){this._showIntentsContainer();B.info("campaigns-front-door","User view",{view:"front_door.pathways"});
this.routeHistory.push("/create-campaign");this.show()}));r.register("/create-campaign/search",k.hitch(this,function(a){this._showSearchContainer();0>=a.oldPath.length-24&&this.routeHistory.push(a.oldPath);B.info("campaigns-front-door","User view",{view:"front_door.search"});this.show()}));r.register("/create-campaign/explore/:blueprintId",k.hitch(this,function(b){var c=b.params.blueprintId.split(":"),d=c[0],e=c[1];b.oldPath.indexOf(d)!==b.newPath.indexOf(d)&&"emailCampaign:custom"!==b.params.blueprintId&&
this.routeHistory.push(b.oldPath||"/create-campaign/explore");B.info("campaigns-front-door","User view",{view:"blueprint",blueprint_id:d,option_id:e});this.configView=new T({createButtonLocation:this.createButtonLocation,createFlowStartedAt:this.createFlowStartedAt,onClose:k.hitch(this,function(){r.go(this.routeHistory.pop())}),onTabChange:function(a){r.go("/create-campaign/explore/"+d+":"+a)}});f.empty(this.configurationView);f.place(this.configView.domNode,this.configurationView);a.then(k.hitch(this,
function(a){a=P(a,{id:d});this.configView.set("optionId",e);this.configView.set("blueprint",a)}));this._showConfigurationViewContainer();this.show();e?ga("send","pageview","/campaign-create/explore/"+d+":"+e):ga("send","pageview","/campaign-create/explore/"+d)}));r.startup();this.router=r;v.flagIsOn(z.MULTICHANNEL_DIRECT_MAIL)&&c.remove(this.postcardShortcut,"hide")},_onShowCallback:function(){this.bindKeys();this.domNode.focus()},_onHideCallback:function(){this.unbindKeys();d.publish("/mojo/IntentOverlay/closed")},
bindKeys:function(){this.keybindings=m(document,"keyup",k.hitch(this,function(a){switch(a.charCode||a.keyCode){case t.ESCAPE:r.go("/");break;case t.TAB:var b=q("[tabindex\x3d0]",this.topBarActions),c=q("[tabindex\x3d0]",this.activePane),b=b.concat(c);a=a.shiftKey?b.length-1:0;-1===b.indexOf(document.activeElement)&&b[a].focus()}}))},unbindKeys:function(){this.keybindings&&this.keybindings.remove()},clearSearch:function(){this.filteredSearch&&this.filteredSearch.get("searchText")&&this.filteredSearch.set("searchText",
"")},runSearch:function(a){a&&r.go("/create-campaign/search");var b=this._searchResults(a),d=b.length;B.info("campaigns-front-door","Search terms logged",{search_terms:a.trim(),results_count:d});0===d?q("strong",this.noResults.noDataMessage)[0].innerText='"'+a+'"':(this.intentsSearchCount.innerText=d,this.intentsSearchTerm.innerText=a);c.toggle(this.resultsHeader,"hide",0===d);c.toggle(this.noResults.domNode,"hide",0<d);a=this.createBlueprintCards(b);this.renderSearchResultBlueprintCards(a)},_fuzzyMatch:function(a,
b){var c=b.length,d=a.length;if(d>c)return!1;if(d===c)return a===b;var e=0,f=0;a:for(;e<d;e++){for(var h=a.charCodeAt(e);f<c;)if(b.charCodeAt(f++)===h)continue a;return!1}return!0},_searchResults:function(a){var b=this,c=a.trim().split(/\s+/);return this.dataStore.query(function(a){var d=0,e=!1;a.matchRank=0;h.forEach(c,function(c){3<=c.length&&(0<h.filter(a.title.split(/\s+/),function(a){return b._fuzzyMatch(c.toLowerCase(),a.toLowerCase())}).length&&d++,-1<a.description.toLowerCase().indexOf(c.toLowerCase())&&
d++,a.searchKeywords&&h.some(a.searchKeywords,function(a){return b._fuzzyMatch(c.toLowerCase(),a.toLowerCase())})&&d++);a.searchKeywords&&h.some(a.searchKeywords,function(a){return c.toLowerCase()===a.toLowerCase()})&&d++;a.featured&&"featured"===c.toLowerCase()&&d++});0<d&&(e=!0,a.matchRank=d);return e},{sort:[{attribute:"matchRank",descending:!0}]})},_setActivePane:function(a,b){var d=this;b=k.mixin({backLink:!0,intentsSearchContainer:!0},b);if(this[a]!==this.activePane){var f=this.activePane.dataset.dojoAttachPoint,
h=this[a].dataset.dojoAttachPoint,m,l;if("configurationViewContainer"===f||"intentsIntroContainer"===h)m="-100%",l="0%";else if("intentsIntroContainer"===f||"configurationViewContainer"===h)m="0%",l="-100%";e.set(this[a],{display:"inline-block","min-height":"0px",opacity:".2"});V(this[a],{translateX:[l,"easeOutExpo",m],"min-height":"400px",opacity:"1"},{duration:250,complete:function(){e.set(d[a],{"-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":"",transform:"",display:"",
"max-height":"","min-height":"",opacity:""})}});e.set(this.activePane,{display:"inline-block","min-height":"0px","max-height":"100%",opacity:".8"});V(this.activePane,{translateX:[l,"easeOutSine",m],"max-height":"400px","min-height":"400px",opacity:"0"},{duration:250,complete:function(){e.set(d.activePane,{"-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":"",transform:"",display:"none","max-height":"","min-height":"",opacity:""});d.activePane=d[a]}})}else this.activePane=
this[a];Object.keys(b).forEach(function(a){c.toggle(this[a],"invisible",!b[a])},this)},_showIntentsIntroContainer:function(){this.clearSearch();a.set(this.backLink,"tabindex","-1");this._setActivePane("intentsIntroContainer",{backLink:!1})},_showIntentsContainer:function(){this.clearSearch();a.set(this.backLink,"tabindex","0");this._setActivePane("intentsContainer")},_showSearchContainer:function(){a.set(this.backLink,"tabindex","0");this._setActivePane("intentsSearchResultsContainer",{backLink:!0,
intentsSearchContainer:!0})},_showConfigurationViewContainer:function(){a.set(this.backLink,"tabindex","0");this._setActivePane("configurationViewContainer",{intentsSearchContainer:!1})},renderBlueprints:function(a){var b=this._getPathways(v.isAnyEcomm).map(function(b,c){var d=a.filter(function(a){return a.isPartOfPathway(b.id)});return new L({title:b.title,id:b.id,description:b.description,blueprints:this.createBlueprintCards(d),isOpen:0===c})},this);f.empty(this.pathwaysList);b.map(k.hitch(this,
function(a){f.place(a.domNode,this.pathwaysList)}))},_getPathways:function(a){return a?[{id:"build-your-brand",title:"Build your brand",description:"Ready to find your people? Spread the word and grow your list with these campaigns."},{id:"connect-with-contacts",title:"Connect with your contacts",description:"You've got their attention. Now's the time to tell your story and show off your products."},{id:"sell-more-stuff",title:"Sell more stuff",description:"There are lots of ways to encourage people to buy."},
{id:"boost-customer-loyalty",title:"Boost customer loyalty",description:"Take good care of your best customers, and they'll keep coming back."},{id:"bring-people-back",title:"Bring people back",description:"Reconnect with customers who haven't visited your store in a while."}]:[{id:"build-your-brand",title:"Build your brand",description:"Ready to find your people? Spread the word and grow your list with these campaigns."},{id:"connect-with-contacts",title:"Connect with your contacts",description:"You've got their attention. Now's the time to tell your story and show off your work."},
{id:"sell-more-stuff",title:"Get results",description:"Inspire people to take action. Encourage donations, event signups, downloads, or other things you'd like people to do."},{id:"boost-customer-loyalty",title:"Boost loyalty",description:"Take good care of people, and they'll keep coming back."},{id:"bring-people-back",title:"Bring people back",description:"Reconnect with people who haven't engaged with you in a while."}]},renderSearchResultBlueprintCards:function(a){f.empty(this.intentSearchCards);
a.forEach(k.hitch(this,function(a){f.place(a.domNode,this.intentSearchCards,"last")}))},createBlueprintCards:function(a){return a.map(function(a){return new J({blueprint:a})},this)},getSearchSuggestions:function(){return["Featured campaigns","Automation campaigns","Ad campaigns","Welcome or education series"].map(function(a){return{label:a,value:a}})}}),M=null;return{getIntentOverlay:function(){M||(M=new K,M.startup());return M}}})},"dojo/router":function(){define(["./router/RouterBase"],function(l){return new l({})})},
"dojo/router/RouterBase":function(){define(["dojo/_base/declare","dojo/hash","dojo/topic"],function(l,k,h){function f(a,e,f){var d,b,h,k;d=this.callbackQueue;h=b=!1;e=[{stopImmediatePropagation:function(){b=!0},preventDefault:function(){h=!0},oldPath:e,newPath:f,params:a}];if(a instanceof Array)e=e.concat(a);else for(k in a)e.push(a[k]);a=0;for(k=d.length;a<k;++a)b||d[a].apply(null,e);return!h}var a;a=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,
"")};return l(null,{_routes:null,_routeIndex:null,_started:!1,_currentPath:"",idMatch:/:(\w[\w\d]*)/g,idReplacement:"([^\\/]+)",globMatch:/\*(\w[\w\d]*)/,globReplacement:"(.+)",constructor:function(a){this._routes=[];this._routeIndex={};for(var e in a)a.hasOwnProperty(e)&&(this[e]=a[e])},register:function(a,e){return this._registerRoute(a,e)},registerBefore:function(a,e){return this._registerRoute(a,e,!0)},go:function(c,e){var f;if("string"!==typeof c)return!1;c=a(c);(f=this._handlePathChange(c))&&
k(c,e);return f},startup:function(a){if(!this._started){var e=this,f=k();this._started=!0;this._hashchangeHandle=h.subscribe("/dojo/hashchange",function(){e._handlePathChange.apply(e,arguments)});f?this._handlePathChange(f):this.go(a,!0)}},destroy:function(){this._hashchangeHandle&&this._hashchangeHandle.remove();this._routeIndex=this._routes=null},_handlePathChange:function(a){var e,f,d,b,h,k,l,r,t=this._routes,u=this._currentPath;if(!this._started||a===u)return f;f=!0;e=0;for(d=t.length;e<d;++e)if(h=
t[e],k=h.route.exec(a)){if(h.parameterNames)for(l=h.parameterNames,r={},f=0,b=l.length;f<b;++f)r[l[f]]=k[f+1];else r=k.slice(1);f=h.fire(r,u,a)}f&&(this._currentPath=a);return f},_convertRouteToRegExp:function(a){a=a.replace(this.idMatch,this.idReplacement);a=a.replace(this.globMatch,this.globReplacement);return new RegExp("^"+a+"$")},_getParameterNames:function(a){var e=this.idMatch,f=this.globMatch,d=[],b;for(e.lastIndex=0;null!==(b=e.exec(a));)d.push(b[1]);null!==(b=f.exec(a))&&d.push(b[1]);return 0<
d.length?d:null},_indexRoutes:function(){var a,e,f,d,b=this._routes;d=this._routeIndex={};a=0;for(e=b.length;a<e;++a)f=b[a],d[f.route]=a},_registerRoute:function(a,e,h){var d,b,k,l,q,r=this,t=this._routes,u=this._routeIndex;d=this._routeIndex[a];(b="undefined"!==typeof d)&&(k=t[d]);k||(k={route:a,callbackQueue:[],fire:f});l=k.callbackQueue;"string"==typeof a&&(k.parameterNames=this._getParameterNames(a),k.route=this._convertRouteToRegExp(a));h?l.unshift(e):l.push(e);b||(d=t.length,u[a]=d,t.push(k));
q=!1;return{remove:function(){var a,b;if(!q){a=0;for(b=l.length;a<b;++a)l[a]===e&&l.splice(a,1);0===l.length&&(t.splice(d,1),r._indexRoutes());q=!0}},register:function(b,d){return r.register(a,b,d)}}}})})},"mojo/utils/date":function(){define([],function(){return{getCurrentTimestamp:function(){return Math.round(Date.now()/1E3)}}})},"mojo/intent-overlay/api":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request dojo/request/xhr dojo/Deferred mojo/url vendor/lodash-amd/camelCase vendor/lodash-amd/object".split(" "),
function(l,k,h,f,a,c,e,m,d){function b(a){return a.filter(function(a){return 0<a.automated_groups.length}).reduce(function(a,b){b.automated_groups.forEach(function(c){var d=m(c.title);a[d]=a[d]||{key:d,title:c.title,blueprints:[]};a[d].blueprints.push(b)});return a},{})}var n=l(null,{type:null,name:null,value:null,label:null,constructor:function(a){this.type=a.type;this.name=a.name;this.value=a.value;this.label=a.label},toString:function(){return"OptionField\x3d("+this.type+", "+this.name+")"}});
n.fromObject=function(a,b){var c=k.mixin({},b,{name:a});return new n(c)};var p=l(null,{id:null,title:null,description:null,type:null,fields:null,parameters:null,constructor:function(a,b){this.id=a.id;this.title=a.title;this.description=a.description||"";this.blurbs=a.blurbs||[];var c=a.type;if(!1===p.isValidType(c))throw new RangeError("Unknown type '"+c+"' building Option '"+this.id+"'");this.type=c;this.fields=p.buildFields(a.fields);this.parameters=a.parameters||{};"custom"===this.id&&(this.groupedAutomations=
b)},getEndpoint:function(){var a=this.type,b=null;switch(a){case "campaign":case "regular":case "plaintext":case "variate":case "rss":b="/campaigns/create";break;case "automation":b="/automations/create";break;case "abandoned_browse":b="/automations/abandoned-browse/create";break;case "abandoned_cart":b="/automations/abandoned-cart/create";break;case "transactional":b="/automations/transactional/create";break;case "facebook":case "google":b="/ads/create";break;case "signup_form_popup":b="/lists/signup-forms/popup/editor";
break;case "postcard":b="/postcards/create";break;case "landing_page":b="/landing-pages/create";break;case "embedded_form":b="/lists/integration/embeddedcode";break;default:throw Error("Unknown type "+a);}return e.toUrl(b)}});p.isValidType=function(a){return 0<="campaign regular plaintext variate rss automation abandoned_browse abandoned_cart transactional facebook google signup_form_popup landing_page postcard postcard_recurring embedded_form".split(" ").indexOf(a)};p.buildFields=function(a){return d.entries(a).map(function(a){return n.fromObject(a[0],
a[1])},this)};var q=l(null,{id:null,title:null,description:null,pathways:null,featured:null,options:null,searchKeywords:null,constructor:function(a,b){this.id=a.id;this.title=a.title;this.description=a.description;this.pathways=a.pathways;this.featured=a.featured;this.searchKeywords=a.search_keywords;this.options=a.options.map(function(a){return new p(a,b)})},isPartOfPathway:function(a){return-1!==this.pathways.indexOf(a)}});return{list:function(){return a.get(e.toUrl("channels/blueprints"),{handleAs:"json",
query:null}).then(function(a){var c=b(a.blueprints);return a.blueprints.map(function(a){return new q(a,c)})})}}})},"vendor/lodash-amd/camelCase":function(){define(["./capitalize","./_createCompounder"],function(l,k){return k(function(h,f,a){f=f.toLowerCase();return h+(a?l(f):f)})})},"vendor/lodash-amd/capitalize":function(){define(["./toString","./upperFirst"],function(l,k){return function(h){return k(l(h).toLowerCase())}})},"vendor/lodash-amd/upperFirst":function(){define(["./_createCaseFirst"],
function(l){return l("toUpperCase")})},"vendor/lodash-amd/_createCaseFirst":function(){define(["./_castSlice","./_hasUnicode","./_stringToArray","./toString"],function(l,k,h,f){return function(a){return function(c){c=f(c);var e=k(c)?h(c):void 0,m=e?e[0]:c.charAt(0);c=e?l(e,1).join(""):c.slice(1);return m[a]()+c}}})},"vendor/lodash-amd/_castSlice":function(){define(["./_baseSlice"],function(l){return function(k,h,f){var a=k.length;f=void 0===f?a:f;return!h&&f>=a?k:l(k,h,f)}})},"vendor/lodash-amd/_baseSlice":function(){define([],
function(){return function(l,k,h){var f=-1,a=l.length;0>k&&(k=-k>a?0:a+k);h=h>a?a:h;0>h&&(h+=a);a=k>h?0:h-k>>>0;k>>>=0;for(h=Array(a);++f<a;)h[f]=l[f+k];return h}})},"vendor/lodash-amd/_hasUnicode":function(){define([],function(){var l=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/;return function(k){return l.test(k)}})},"vendor/lodash-amd/_stringToArray":function(){define(["./_asciiToArray","./_hasUnicode","./_unicodeToArray"],function(l,k,h){return function(f){return k(f)?
h(f):l(f)}})},"vendor/lodash-amd/_asciiToArray":function(){define([],function(){return function(l){return l.split("")}})},"vendor/lodash-amd/_unicodeToArray":function(){define([],function(){var l=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;
return function(k){return k.match(l)||[]}})},"vendor/lodash-amd/_createCompounder":function(){define(["./_arrayReduce","./deburr","./words"],function(l,k,h){var f=/['\u2019]/g;return function(a){return function(c){return l(h(k(c).replace(f,"")),a,"")}}})},"vendor/lodash-amd/_arrayReduce":function(){define([],function(){return function(l,k,h,f){var a=-1,c=null==l?0:l.length;for(f&&c&&(h=l[++a]);++a<c;)h=k(h,l[a],a,l);return h}})},"vendor/lodash-amd/deburr":function(){define(["./_deburrLetter","./toString"],
function(l,k){var h=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,f=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g;return function(a){return(a=k(a))&&a.replace(h,l).replace(f,"")}})},"vendor/lodash-amd/_deburrLetter":function(){define(["./_basePropertyOf"],function(l){return l({"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E",
"\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y",
"\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g",
"\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n",
"\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W",
"\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"})})},"vendor/lodash-amd/words":function(){define(["./_asciiWords","./_hasUnicodeWord","./toString","./_unicodeWords"],function(l,k,h,f){return function(a,c,e){a=h(a);c=e?void 0:c;return void 0===c?k(a)?f(a):l(a):a.match(c)||[]}})},"vendor/lodash-amd/_asciiWords":function(){define([],function(){var l=
/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;return function(k){return k.match(l)||[]}})},"vendor/lodash-amd/_hasUnicodeWord":function(){define([],function(){var l=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;return function(k){return l.test(k)}})},"vendor/lodash-amd/_unicodeWords":function(){define([],function(){var l=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:(?:1ST|2ND|3RD|(?![123])\dTH)\b)|\d*(?:(?:1st|2nd|3rd|(?![123])\dth)\b)|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;
return function(k){return k.match(l)||[]}})},"vendor/lodash-amd/object":function(){define("./assign ./assignIn ./assignInWith ./assignWith ./at ./create ./defaults ./defaultsDeep ./entries ./entriesIn ./extend ./extendWith ./findKey ./findLastKey ./forIn ./forInRight ./forOwn ./forOwnRight ./functions ./functionsIn ./get ./has ./hasIn ./invert ./invertBy ./invoke ./keys ./keysIn ./mapKeys ./mapValues ./merge ./mergeWith ./omit ./omitBy ./pick ./pickBy ./result ./set ./setWith ./toPairs ./toPairsIn ./transform ./unset ./update ./updateWith ./values ./valuesIn".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T,V,P,K,M,H,X,R,N,Q,S,Y,O,W,da,ca,Da){return{assign:l,assignIn:k,assignInWith:h,assignWith:f,at:a,create:c,defaults:e,defaultsDeep:m,entries:d,entriesIn:b,extend:n,extendWith:p,findKey:q,findLastKey:r,forIn:t,forInRight:u,forOwn:w,forOwnRight:v,functions:y,functionsIn:x,get:A,has:z,hasIn:B,invert:C,invertBy:D,invoke:F,keys:G,keysIn:I,mapKeys:L,mapValues:J,merge:T,mergeWith:V,omit:P,omitBy:K,pick:M,pickBy:H,result:X,set:R,setWith:N,
toPairs:Q,toPairsIn:S,transform:Y,unset:O,update:W,updateWith:da,values:ca,valuesIn:Da}})},"vendor/lodash-amd/assign":function(){define("./_assignValue ./_copyObject ./_createAssigner ./isArrayLike ./_isPrototype ./keys".split(" "),function(l,k,h,f,a,c){var e=Object.prototype.hasOwnProperty;return h(function(h,d){if(a(d)||f(d))k(d,c(d),h);else for(var b in d)e.call(d,b)&&l(h,b,d[b])})})},"vendor/lodash-amd/assignIn":function(){define(["./_copyObject","./_createAssigner","./keysIn"],function(l,k,h){return k(function(f,
a){l(a,h(a),f)})})},"vendor/lodash-amd/assignWith":function(){define(["./_copyObject","./_createAssigner","./keys"],function(l,k,h){return k(function(f,a,c,e){l(a,h(a),f,e)})})},"vendor/lodash-amd/at":function(){define(["./_baseAt","./_flatRest"],function(l,k){return k(l)})},"vendor/lodash-amd/_baseAt":function(){define(["./get"],function(l){return function(k,h){for(var f=-1,a=h.length,c=Array(a),e=null==k;++f<a;)c[f]=e?void 0:l(k,h[f]);return c}})},"vendor/lodash-amd/_flatRest":function(){define(["./flatten",
"./_overRest","./_setToString"],function(l,k,h){return function(f){return h(k(f,void 0,l),f+"")}})},"vendor/lodash-amd/flatten":function(){define(["./_baseFlatten"],function(l){return function(k){return(null==k?0:k.length)?l(k,1):[]}})},"vendor/lodash-amd/create":function(){define(["./_baseAssign","./_baseCreate"],function(l,k){return function(h,f){var a=k(h);return null==f?a:l(a,f)}})},"vendor/lodash-amd/_baseAssign":function(){define(["./_copyObject","./keys"],function(l,k){return function(h,f){return h&&
l(f,k(f),h)}})},"vendor/lodash-amd/_baseCreate":function(){define(["./isObject"],function(l){var k=Object.create;return function(){function h(){}return function(f){if(!l(f))return{};if(k)return k(f);h.prototype=f;f=new h;h.prototype=void 0;return f}}()})},"vendor/lodash-amd/defaults":function(){define(["./_apply","./assignInWith","./_baseRest","./_customDefaultsAssignIn"],function(l,k,h,f){return h(function(a){a.push(void 0,f);return l(k,void 0,a)})})},"vendor/lodash-amd/defaultsDeep":function(){define(["./_apply",
"./_baseRest","./_customDefaultsMerge","./mergeWith"],function(l,k,h,f){return k(function(a){a.push(void 0,h);return l(f,void 0,a)})})},"vendor/lodash-amd/_customDefaultsMerge":function(){define(["./_baseMerge","./isObject"],function(l,k){function h(a,c,e,m,d,b){k(a)&&k(c)&&(b.set(c,a),l(a,c,f,h,b),b["delete"](c));return a}var f;return h})},"vendor/lodash-amd/_baseMerge":function(){define("./_Stack ./_assignMergeValue ./_baseFor ./_baseMergeDeep ./isObject ./keysIn".split(" "),function(l,k,h,f,a,
c){function e(d,b,n,p,q){d!==b&&h(b,function(c,h){if(a(c))q||(q=new l),f(d,b,h,n,e,p,q);else{var u=p?p(d[h],c,h+"",d,b,q):m;u===m&&(u=c);k(d,h,u)}},c)}var m;return e})},"vendor/lodash-amd/_assignMergeValue":function(){define(["./_baseAssignValue","./eq"],function(l,k){return function(h,f,a){(void 0===a||k(h[f],a))&&(void 0!==a||f in h)||l(h,f,a)}})},"vendor/lodash-amd/_baseMergeDeep":function(){define("./_assignMergeValue ./_cloneBuffer ./_cloneTypedArray ./_copyArray ./_initCloneObject ./isArguments ./isArray ./isArrayLikeObject ./isBuffer ./isFunction ./isObject ./isPlainObject ./isTypedArray ./toPlainObject".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return function(t,u,w,v,y,x,A){var z=t[w],B=u[w],C=A.get(B);if(C)l(t,w,C);else{u=x?x(z,B,w+"",t,u,A):void 0;if(C=void 0===u){var D=e(B),F=!D&&d(B),G=!D&&!F&&q(B);u=B;if(D||F||G)e(z)?u=z:m(z)?u=f(z):F?(C=!1,u=k(B,!0)):G?(C=!1,u=h(B,!0)):u=[];else if(p(B)||c(B))if(u=z,c(z))u=r(z);else{if(!n(z)||v&&b(z))u=a(B)}else C=!1}C&&(A.set(B,u),y(u,B,v,x,A),A["delete"](B));l(t,w,u)}}})},"vendor/lodash-amd/_cloneBuffer":function(){define(["./_root"],function(l){var k="object"==
typeof exports&&exports&&!exports.nodeType&&exports,h=k&&"object"==typeof module&&module&&!module.nodeType&&module,f=(l=h&&h.exports===k?l.Buffer:void 0)?l.allocUnsafe:void 0;return function(a,c){if(c)return a.slice();var e=a.length,e=f?f(e):new a.constructor(e);a.copy(e);return e}})},"vendor/lodash-amd/_cloneTypedArray":function(){define(["./_cloneArrayBuffer"],function(l){return function(k,h){var f=h?l(k.buffer):k.buffer;return new k.constructor(f,k.byteOffset,k.length)}})},"vendor/lodash-amd/_cloneArrayBuffer":function(){define(["./_Uint8Array"],
function(l){return function(k){var h=new k.constructor(k.byteLength);(new l(h)).set(new l(k));return h}})},"vendor/lodash-amd/_copyArray":function(){define([],function(){return function(l,k){var h=-1,f=l.length;for(k||(k=Array(f));++h<f;)k[h]=l[h];return k}})},"vendor/lodash-amd/_initCloneObject":function(){define(["./_baseCreate","./_getPrototype","./_isPrototype"],function(l,k,h){return function(f){return"function"!=typeof f.constructor||h(f)?{}:l(k(f))}})},"vendor/lodash-amd/toPlainObject":function(){define(["./_copyObject",
"./keysIn"],function(l,k){return function(h){return l(h,k(h))}})},"vendor/lodash-amd/mergeWith":function(){define(["./_baseMerge","./_createAssigner"],function(l,k){return k(function(h,f,a,c){l(h,f,a,c)})})},"vendor/lodash-amd/entries":function(){define(["./toPairs"],function(l){return l})},"vendor/lodash-amd/toPairs":function(){define(["./_createToPairs","./keys"],function(l,k){return l(k)})},"vendor/lodash-amd/_createToPairs":function(){define(["./_baseToPairs","./_getTag","./_mapToArray","./_setToPairs"],
function(l,k,h,f){return function(a){return function(c){var e=k(c);return"[object Map]"==e?h(c):"[object Set]"==e?f(c):l(c,a(c))}}})},"vendor/lodash-amd/_baseToPairs":function(){define(["./_arrayMap"],function(l){return function(k,h){return l(h,function(f){return[f,k[f]]})}})},"vendor/lodash-amd/_setToPairs":function(){define([],function(){return function(l){var k=-1,h=Array(l.size);l.forEach(function(f){h[++k]=[f,f]});return h}})},"vendor/lodash-amd/entriesIn":function(){define(["./toPairsIn"],function(l){return l})},
"vendor/lodash-amd/toPairsIn":function(){define(["./_createToPairs","./keysIn"],function(l,k){return l(k)})},"vendor/lodash-amd/extend":function(){define(["./assignIn"],function(l){return l})},"vendor/lodash-amd/extendWith":function(){define(["./assignInWith"],function(l){return l})},"vendor/lodash-amd/findKey":function(){define(["./_baseFindKey","./_baseForOwn","./_baseIteratee"],function(l,k,h){return function(f,a){return l(f,h(a,3),k)}})},"vendor/lodash-amd/_baseFindKey":function(){define([],function(){return function(l,
k,h){var f;h(l,function(a,c,e){if(k(a,c,e))return f=c,!1});return f}})},"vendor/lodash-amd/findLastKey":function(){define(["./_baseFindKey","./_baseForOwnRight","./_baseIteratee"],function(l,k,h){return function(f,a){return l(f,h(a,3),k)}})},"vendor/lodash-amd/_baseForOwnRight":function(){define(["./_baseForRight","./keys"],function(l,k){return function(h,f){return h&&l(h,f,k)}})},"vendor/lodash-amd/_baseForRight":function(){define(["./_createBaseFor"],function(l){return l(!0)})},"vendor/lodash-amd/forIn":function(){define(["./_baseFor",
"./_castFunction","./keysIn"],function(l,k,h){return function(f,a){return null==f?f:l(f,k(a),h)}})},"vendor/lodash-amd/_castFunction":function(){define(["./identity"],function(l){return function(k){return"function"==typeof k?k:l}})},"vendor/lodash-amd/forInRight":function(){define(["./_baseForRight","./_castFunction","./keysIn"],function(l,k,h){return function(f,a){return null==f?f:l(f,k(a),h)}})},"vendor/lodash-amd/forOwn":function(){define(["./_baseForOwn","./_castFunction"],function(l,k){return function(h,
f){return h&&l(h,k(f))}})},"vendor/lodash-amd/forOwnRight":function(){define(["./_baseForOwnRight","./_castFunction"],function(l,k){return function(h,f){return h&&l(h,k(f))}})},"vendor/lodash-amd/functions":function(){define(["./_baseFunctions","./keys"],function(l,k){return function(h){return null==h?[]:l(h,k(h))}})},"vendor/lodash-amd/_baseFunctions":function(){define(["./_arrayFilter","./isFunction"],function(l,k){return function(h,f){return l(f,function(a){return k(h[a])})}})},"vendor/lodash-amd/functionsIn":function(){define(["./_baseFunctions",
"./keysIn"],function(l,k){return function(h){return null==h?[]:l(h,k(h))}})},"vendor/lodash-amd/has":function(){define(["./_baseHas","./_hasPath"],function(l,k){return function(h,f){return null!=h&&k(h,f,l)}})},"vendor/lodash-amd/_baseHas":function(){define([],function(){var l=Object.prototype.hasOwnProperty;return function(k,h){return null!=k&&l.call(k,h)}})},"vendor/lodash-amd/invert":function(){define(["./constant","./_createInverter","./identity"],function(l,k,h){return k(function(f,a,c){f[a]=
c},l(h))})},"vendor/lodash-amd/_createInverter":function(){define(["./_baseInverter"],function(l){return function(k,h){return function(f,a){return l(f,k,h(a),{})}}})},"vendor/lodash-amd/_baseInverter":function(){define(["./_baseForOwn"],function(l){return function(k,h,f,a){l(k,function(c,e,m){h(a,f(c),e,m)});return a}})},"vendor/lodash-amd/invertBy":function(){define(["./_baseIteratee","./_createInverter"],function(l,k){var h=Object.prototype.hasOwnProperty;return k(function(f,a,c){h.call(f,a)?f[a].push(c):
f[a]=[c]},l)})},"vendor/lodash-amd/invoke":function(){define(["./_baseInvoke","./_baseRest"],function(l,k){return k(l)})},"vendor/lodash-amd/_baseInvoke":function(){define(["./_apply","./_castPath","./last","./_parent","./_toKey"],function(l,k,h,f,a){return function(c,e,m){e=k(e,c);c=f(c,e);e=null==c?c:c[a(h(e))];return null==e?void 0:l(e,c,m)}})},"vendor/lodash-amd/last":function(){define([],function(){return function(l){var k=null==l?0:l.length;return k?l[k-1]:void 0}})},"vendor/lodash-amd/_parent":function(){define(["./_baseGet",
"./_baseSlice"],function(l,k){return function(h,f){return 2>f.length?h:l(h,k(f,0,-1))}})},"vendor/lodash-amd/mapKeys":function(){define(["./_baseAssignValue","./_baseForOwn","./_baseIteratee"],function(l,k,h){return function(f,a){var c={};a=h(a,3);k(f,function(e,f,d){l(c,a(e,f,d),e)});return c}})},"vendor/lodash-amd/merge":function(){define(["./_baseMerge","./_createAssigner"],function(l,k){return k(function(h,f,a){l(h,f,a)})})},"vendor/lodash-amd/omit":function(){define("./_arrayMap ./_baseClone ./_baseUnset ./_castPath ./_copyObject ./_customOmitClone ./_flatRest ./_getAllKeysIn".split(" "),
function(l,k,h,f,a,c,e,m){return e(function(d,b){var e={};if(null==d)return e;var p=!1;b=l(b,function(a){a=f(a,d);p||(p=1<a.length);return a});a(d,m(d),e);p&&(e=k(e,7,c));for(var q=b.length;q--;)h(e,b[q]);return e})})},"vendor/lodash-amd/_baseClone":function(){define("./_Stack ./_arrayEach ./_assignValue ./_baseAssign ./_baseAssignIn ./_cloneBuffer ./_copyArray ./_copySymbols ./_copySymbolsIn ./_getAllKeys ./_getAllKeysIn ./_getTag ./_initCloneArray ./_initCloneByTag ./_initCloneObject ./isArray ./isBuffer ./isObject ./keys".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){function x(B,C,D,F,G,I){var L,J=C&1,T=C&2,V=C&4;D&&(L=G?D(B,F,G,I):D(B));if(L!==A)return L;if(!v(B))return B;if(F=u(B)){if(L=q(B),!J)return e(B,L)}else{var P=p(B),K="[object Function]"==P||"[object GeneratorFunction]"==P;if(w(B))return c(B,J);if("[object Object]"==P||"[object Arguments]"==P||K&&!G){if(L=T||K?{}:t(B),!J)return T?d(B,a(L,B)):m(B,f(L,B))}else{if(!z[P])return G?B:{};L=r(B,P,x,J)}}I||(I=new l);if(G=I.get(B))return G;I.set(B,L);var T=V?T?
n:b:T?keysIn:y,M=F?A:T(B);k(M||B,function(a,b){M&&(b=a,a=B[b]);h(L,b,x(a,C,D,b,B,I))});return L}var A,z={};z["[object Arguments]"]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object DataView]"]=z["[object Boolean]"]=z["[object Date]"]=z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Map]"]=z["[object Number]"]=z["[object Object]"]=z["[object RegExp]"]=z["[object Set]"]=z["[object String]"]=z["[object Symbol]"]=
z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0;z["[object Error]"]=z["[object Function]"]=z["[object WeakMap]"]=!1;return x})},"vendor/lodash-amd/_arrayEach":function(){define([],function(){return function(l,k){for(var h=-1,f=null==l?0:l.length;++h<f&&!1!==k(l[h],h,l););return l}})},"vendor/lodash-amd/_baseAssignIn":function(){define(["./_copyObject","./keysIn"],function(l,k){return function(h,f){return h&&l(f,k(f),h)}})},"vendor/lodash-amd/_copySymbols":function(){define(["./_copyObject",
"./_getSymbols"],function(l,k){return function(h,f){return l(h,k(h),f)}})},"vendor/lodash-amd/_copySymbolsIn":function(){define(["./_copyObject","./_getSymbolsIn"],function(l,k){return function(h,f){return l(h,k(h),f)}})},"vendor/lodash-amd/_getSymbolsIn":function(){define(["./_arrayPush","./_getPrototype","./_getSymbols","./stubArray"],function(l,k,h,f){return Object.getOwnPropertySymbols?function(a){for(var c=[];a;)l(c,h(a)),a=k(a);return c}:f})},"vendor/lodash-amd/_getAllKeysIn":function(){define(["./_baseGetAllKeys",
"./_getSymbolsIn","./keysIn"],function(l,k,h){return function(f){return l(f,h,k)}})},"vendor/lodash-amd/_initCloneArray":function(){define([],function(){var l=Object.prototype.hasOwnProperty;return function(k){var h=k.length,f=k.constructor(h);h&&"string"==typeof k[0]&&l.call(k,"index")&&(f.index=k.index,f.input=k.input);return f}})},"vendor/lodash-amd/_initCloneByTag":function(){define("./_cloneArrayBuffer ./_cloneDataView ./_cloneMap ./_cloneRegExp ./_cloneSet ./_cloneSymbol ./_cloneTypedArray".split(" "),
function(l,k,h,f,a,c,e){return function(m,d,b,n){var p=m.constructor;switch(d){case "[object ArrayBuffer]":return l(m);case "[object Boolean]":case "[object Date]":return new p(+m);case "[object DataView]":return k(m,n);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return e(m,n);case "[object Map]":return h(m,
n,b);case "[object Number]":case "[object String]":return new p(m);case "[object RegExp]":return f(m);case "[object Set]":return a(m,n,b);case "[object Symbol]":return c(m)}}})},"vendor/lodash-amd/_cloneDataView":function(){define(["./_cloneArrayBuffer"],function(l){return function(k,h){var f=h?l(k.buffer):k.buffer;return new k.constructor(f,k.byteOffset,k.byteLength)}})},"vendor/lodash-amd/_cloneMap":function(){define(["./_addMapEntry","./_arrayReduce","./_mapToArray"],function(l,k,h){return function(f,
a,c){a=a?c(h(f),1):h(f);return k(a,l,new f.constructor)}})},"vendor/lodash-amd/_addMapEntry":function(){define([],function(){return function(l,k){l.set(k[0],k[1]);return l}})},"vendor/lodash-amd/_cloneRegExp":function(){define([],function(){var l=/\w*$/;return function(k){var h=new k.constructor(k.source,l.exec(k));h.lastIndex=k.lastIndex;return h}})},"vendor/lodash-amd/_cloneSet":function(){define(["./_addSetEntry","./_arrayReduce","./_setToArray"],function(l,k,h){return function(f,a,c){a=a?c(h(f),
1):h(f);return k(a,l,new f.constructor)}})},"vendor/lodash-amd/_addSetEntry":function(){define([],function(){return function(l,k){l.add(k);return l}})},"vendor/lodash-amd/_cloneSymbol":function(){define(["./_Symbol"],function(l){var k=(l=l?l.prototype:void 0)?l.valueOf:void 0;return function(h){return k?Object(k.call(h)):{}}})},"vendor/lodash-amd/_baseUnset":function(){define(["./_castPath","./last","./_parent","./_toKey"],function(l,k,h,f){return function(a,c){c=l(c,a);a=h(a,c);return null==a||delete a[f(k(c))]}})},
"vendor/lodash-amd/_customOmitClone":function(){define(["./isPlainObject"],function(l){return function(k){return l(k)?void 0:k}})},"vendor/lodash-amd/omitBy":function(){define(["./_baseIteratee","./negate","./pickBy"],function(l,k,h){return function(f,a){return h(f,k(l(a)))}})},"vendor/lodash-amd/pickBy":function(){define(["./_arrayMap","./_baseIteratee","./_basePickBy","./_getAllKeysIn"],function(l,k,h,f){return function(a,c){if(null==a)return{};var e=l(f(a),function(a){return[a]});c=k(c);return h(a,
e,function(a,d){return c(a,d[0])})}})},"vendor/lodash-amd/_basePickBy":function(){define(["./_baseGet","./_baseSet","./_castPath"],function(l,k,h){return function(f,a,c){for(var e=-1,m=a.length,d={};++e<m;){var b=a[e],n=l(f,b);c(n,b)&&k(d,h(b,f),n)}return d}})},"vendor/lodash-amd/_baseSet":function(){define(["./_assignValue","./_castPath","./_isIndex","./isObject","./_toKey"],function(l,k,h,f,a){return function(c,e,m,d){if(!f(c))return c;e=k(e,c);for(var b=-1,n=e.length,p=n-1,q=c;null!=q&&++b<n;){var r=
a(e[b]),t=m;if(b!=p){var u=q[r],t=d?d(u,r,q):void 0;void 0===t&&(t=f(u)?u:h(e[b+1])?[]:{})}l(q,r,t);q=q[r]}return c}})},"vendor/lodash-amd/pick":function(){define(["./_basePick","./_flatRest"],function(l,k){return k(function(h,f){return null==h?{}:l(h,f)})})},"vendor/lodash-amd/_basePick":function(){define(["./_basePickBy","./hasIn"],function(l,k){return function(h,f){return l(h,f,function(a,c){return k(h,c)})}})},"vendor/lodash-amd/result":function(){define(["./_castPath","./isFunction","./_toKey"],
function(l,k,h){return function(f,a,c){a=l(a,f);var e=-1,m=a.length;m||(m=1,f=void 0);for(;++e<m;){var d=null==f?void 0:f[h(a[e])];void 0===d&&(e=m,d=c);f=k(d)?d.call(f):d}return f}})},"vendor/lodash-amd/set":function(){define(["./_baseSet"],function(l){return function(k,h,f){return null==k?k:l(k,h,f)}})},"vendor/lodash-amd/setWith":function(){define(["./_baseSet"],function(l){return function(k,h,f,a){return null==k?k:l(k,h,f,"function"==typeof a?a:void 0)}})},"vendor/lodash-amd/transform":function(){define("./_arrayEach ./_baseCreate ./_baseForOwn ./_baseIteratee ./_getPrototype ./isArray ./isBuffer ./isFunction ./isObject ./isTypedArray".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return function(n,p,q){var r=c(n),t=r||e(n)||b(n);p=f(p,4);if(null==q){var u=n&&n.constructor;q=t?r?new u:[]:d(n)?m(u)?k(a(n)):{}:{}}(t?l:h)(n,function(a,b,c){return p(q,a,b,c)});return q}})},"vendor/lodash-amd/unset":function(){define(["./_baseUnset"],function(l){return function(k,h){return null==k?!0:l(k,h)}})},"vendor/lodash-amd/update":function(){define(["./_baseUpdate","./_castFunction"],function(l,k){return function(h,f,a){return null==h?h:l(h,f,k(a))}})},"vendor/lodash-amd/_baseUpdate":function(){define(["./_baseGet",
"./_baseSet"],function(l,k){return function(h,f,a,c){return k(h,f,a(l(h,f)),c)}})},"vendor/lodash-amd/updateWith":function(){define(["./_baseUpdate","./_castFunction"],function(l,k){return function(h,f,a,c){c="function"==typeof c?c:void 0;return null==h?h:l(h,f,k(a),c)}})},"vendor/lodash-amd/valuesIn":function(){define(["./_baseValues","./keysIn"],function(l,k){return function(h){return null==h?[]:l(h,k(h))}})},"mojo/intent-overlay/PathwayCardList":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/dom-class dojo/query dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/PathwayCardList.html ./BlueprintCard vendor/pluralize/pluralize".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([e,m,d],{templateString:b,blueprintCountText:null,postMixInProperties:function(){var a=this.blueprints.length;this.blueprintCountText=a+p(" Campaign",a)},postCreate:function(){this.isOpen&&(a.toggle(this.detailsSummary,["disclosure-open","disclosure-closed"]),a.remove(this.detailsContent,"display--none"));f(this,"click",k.hitch(this,function(){a.toggle(this.detailsSummary,["disclosure-open","disclosure-closed"]);a.toggle(this.detailsContent,"display--none")}));
this.renderBlueprintCards()},renderBlueprintCards:function(){h.empty(this.list);this.blueprints.map(function(a){h.place(a.domNode,this.list)},this)},_onFocus:function(b){"mouse"!==b&&(a.add(this.detailsSummary,"disclosure-open"),a.remove(this.detailsSummary,"disclosure-closed"),a.remove(this.detailsContent,"display--none"),this.blueprints[0].focus())}})})},"mojo/intent-overlay/BlueprintCard":function(){define("dojo/_base/declare dojo/_base/lang dijit/registry dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dom-class dojo/on dojo/topic dojo/text!./templates/BlueprintCard.html mojo/intent-overlay/ChannelIcon".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([f,a,c],{templateString:b,blueprint:null,isVisible:!1,cardClass:"",postMixInProperties:function(){this.inherited(arguments);this.title=this.blueprint.title;this.pathways=this.blueprint.pathways;this.description=this.blueprint.description;this.types=this.blueprint.types;this.channel=this.blueprint.options[0].type||"none"},postCreate:function(){this.blueprint.options.map(function(a){e.toggle(this.cardAutomation,"display--block",-1!==["automation","variate","transactional",
"rss","abandoned_browse"].indexOf(a.type))},this)},focus:function(){this.cardLink.focus()}})})},"mojo/intent-overlay/ChannelIcon":function(){define(["dojo/_base/declare","mojo/widgets/Renderable"],function(l,k){return l([k],{templateString:'\x3cdiv class\x3d"c-channelIcon ${this.getChannelIcon()}"\x3e\x3c/div\x3e',icons:{"c-channelIcon--ad":["facebook","google"],"c-channelIcon--site":["signup_form_popup","embedded_form"],"c-channelIcon--postcard":["postcard"],"c-channelIcon--page":["page","landing_page"],
"c-channelIcon--email":"email regular plaintext variate rss transactional".split(" ")},getChannelIcon:function(){return Object.keys(this.icons).filter(function(h){return-1!==this.icons[h].indexOf(this.channel)},this)[0]}})})},"vendor/pluralize/pluralize":function(){(function(l,k){"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?module.exports=k():"function"===typeof define&&define.amd?define(function(){return k()}):l.pluralize=k()})(this,function(){function l(a){return"string"===
typeof a?new RegExp("^"+a+"$","i"):a}function k(a,b){return a===b?b:a===a.toUpperCase()?b.toUpperCase():a[0]===a[0].toUpperCase()?b.charAt(0).toUpperCase()+b.substr(1).toLowerCase():b.toLowerCase()}function h(a,b){return a.replace(/\$(\d{1,2})/g,function(a,c){return b[c]||""})}function f(a,b,c){if(!a.length||d.hasOwnProperty(a))return b;for(a=c.length;a--;){var e=c[a];if(e[0].test(b))return b.replace(e[0],function(a,b,c){var d=h(e[1],arguments);return""===a?k(c[b-1],d):k(a,d)})}return b}function a(a,
b,c){return function(d){var e=d.toLowerCase();return b.hasOwnProperty(e)?k(d,e):a.hasOwnProperty(e)?k(d,a[e]):f(e,d,c)}}function c(a,b,d){a=1===b?c.singular(a):c.plural(a);return(d?b+" ":"")+a}var e=[],m=[],d={},b={},n={};c.plural=a(n,b,e);c.singular=a(b,n,m);c.addPluralRule=function(a,b){e.push([l(a),b])};c.addSingularRule=function(a,b){m.push([l(a),b])};c.addUncountableRule=function(a){"string"===typeof a?d[a.toLowerCase()]=!0:(c.addPluralRule(a,"$0"),c.addSingularRule(a,"$0"))};c.addIrregularRule=
function(a,c){c=c.toLowerCase();a=a.toLowerCase();n[a]=c;b[c]=a};[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],
["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(a){return c.addIrregularRule(a[0],
a[1])});[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,
"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(a){return c.addPluralRule(a[0],
a[1])});[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,
"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,
"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(a){return c.addSingularRule(a[0],a[1])});["advice","adulthood","agenda","aid","alcohol","ammo","athletics","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","commerce","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health",
"herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","traffic","transporation","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(c.addUncountableRule);
return c})},"mojo/intent-overlay/ConfigOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/on dijit/layout/TabContainer dijit/layout/ContentPane dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/user mojo/lib/flags mojo/lib/logger mojo/widgets/Renderable dojo/text!./templates/ConfigOverlay.html ./ConfigurationView mojo/intent-overlay/AutomationConfigurationView".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([m,
d,b],{templateString:t,blueprint:null,optionId:null,createButtonLocation:null,createFlowStartedAt:null,getOptionView:function(a){var b;switch(a.id){case "custom":b=w;break;default:b=u}return new b({blueprint:this.blueprint,onCancel:this.onClose.bind(this),option:a,createButtonLocation:this.createButtonLocation,createFlowStartedAt:this.createFlowStartedAt})},postCreate:function(){this.inherited(arguments);this.watch("blueprint",k.hitch(this,function(a,b,c){this.render()}))},buildTabs:function(){var a=
this.blueprint.options;this.tabContainer&&this.tabContainer.destroy();this.tabContainer=new c({doLayout:!1},this.configView);a.forEach(k.hitch(this,function(a){a=new e({optionId:a.id,title:a.title,content:this.getOptionView(a),selected:a.id===this.optionId});this.tabContainer.addChild(a)}));this.tabContainer.startup();setTimeout(k.hitch(this,function(){this.tabContainer.resize();f.add(this.tabContainer.tablist.domNode,"text-align--center noborder");f.add(this.tabContainer.tablist.containerNode,"full-width")}),
0);this.tabContainer.watch("selectedChildWidget",k.hitch(this,function(a,b,c){this.onTabChange(c.optionId)}))},render:function(){h.empty(this.configView);if(this.blueprint)if(1<this.blueprint.options.length)this.buildTabs();else{var a=this.getOptionView(this.blueprint.options[0]);h.place(a.domNode,this.configView)}}})})},"mojo/intent-overlay/ConfigurationView":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-attr dojo/dom-class dojo/on dojo/promise/all dijit/registry dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/url mojo/utils mojo/utils/date mojo/user mojo/lib/flags mojo/api/member-list mojo/api/ecommerce-store mojo/api/connected-sites mojo/api/page dojo/text!./templates/ConfigurationView.html ./SelectInput ./TextInput ./HiddenInput vendor/lodash-amd/every vendor/lodash-amd/template mojo/intent-overlay/ChannelIcon".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G){var I=function(a){return null!==a&&""!==a};return l([d,b,n],{templateString:A,noOptionsFeedbackDescription:F('For now, you can send this campaign to \x3cstrong\x3e\x3c%- email %\x3e\x3c/strong\x3e. But if you want to share it with others, you\'ll need to \x3ca href\x3d"${link}"\x3ecreate a list\x3c/a\x3e.'),noOptionsRequiredFeedbackDescription:F('Before you can get started you\'ll need to \x3ca href\x3d"${link}"\x3ecreate a list\x3c/a\x3e.'),
noOptionsConnectedSiteStoreDescription:F('If you need help, we\u2019ve got you covered. \x3ca href\x3d"${link}"\x3eConnect your site\x3c/a\x3e, or check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/integrations/e-commerce/how-to-use-mailchimp-for-e-commerce#Connect-Your-Store"\x3eHow to Use MailChimp for E-Commerce\x3c/a\x3e.'),noOptionsLandingPagesStoreDescription:F('If you have an online store, we recommend you \x3ca href\x3d"${link}"\x3econnect it to MailChimp\x3c/a\x3e so you can pull products into landing pages and track ROI.'),
noOptionsConnectedSiteDescription:F('If you need help, we\u2019ve got you covered. \x3ca href\x3d"${link}"\x3eConnect your site\x3c/a\x3e, or learn \x3ca target\x3d"_blank" href\x3d"https://kb.mailchimp.com/integrations/connected-sites/about-connected-sites"\x3ehow site connection works\x3c/a\x3e.'),noLandingPageToPromote:F('Before we can create your ad, you\u2019ll need to build and publish a landing page that includes a signup block. Want some help? Find out more \x3ca href\x3d"${link}"\x3eabout landing pages\x3c/a\x3e.'),
noPopupFormDescription:F('Before you can create this type of campaign, you\u2019ll need to \x3ca href\x3d"${link}"\x3eadd a pop-up form to your website\x3c/a\x3e.'),blueprint:null,option:null,title:null,description:null,blurbs:[],inputs:[],hiddenTimeToCreateInput:null,createButtonLocation:null,createFlowStartedAt:null,postMixInProperties:function(){this.inherited(arguments);this.connectYourStoreLink=this.option&&"remarketingAd"===this.option.id?p.toUrl("/account/connected-sites/app-selection",{referrer_url:location.pathname+
location.hash+(":"+this.option.id),feature_title:this.option.title}):p.toUrl("/account/connected-sites/wizard");this.createLandingPageLink=p.toUrl("/campaigns/#/create-campaign/explore/page");this.title=1===this.blueprint.options.length?this.option.title:this.blueprint.title;this.description=this.option.description;this.type=this.option.type;this.option.blurbs&&(this.blurbs=this.option.blurbs)},postCreate:function(){this.inherited(arguments);c(this.cancelLink,"click",k.hitch(this,"onCancel"));this.buildForm();
this.validateForm()},buildForm:function(){f.set(this.form,"action",this.option.getEndpoint());h.empty(this.formInputs);this.inputs=this.getInputs();this.inputs.map(k.hitch(this,function(a,b){a.startup();0===b&&a.focus&&a.focus();h.place(a.domNode,this.formInputs)}));"landing_page"===this.type&&h.place("\x3cspan class\x3d'field-help margin-bottom--lv4' style\x3d'display: block;'\x3eYou'll be able to segment your list by signup source to target people who subscribe from your landing page.\x3c/span\x3e",
this.formInputs,"last")},getInputs:function(){var a=q.entries(this.option.parameters).map(function(a){return new C({name:a.key,value:a.value})},this);this.hiddenTimeToCreateInput=new C({name:"time_to_create",value:null});var b=[new C({name:"source",value:"blueprint_"+this.blueprint.id+"_option_"+this.option.id}),new C({name:"create_location",value:this.createButtonLocation}),this.hiddenTimeToCreateInput],c=this.option.fields.map(this.getInputForField.bind(this)),d=c.filter(function(a){return a.optionsAreRequired});
if(0<d.length){var f=d.map(function(a){return a.optionsRequest});q.toggleButtonLoadingState(this.formSubmit);e(f).then(this.toggleSubmitButton.bind(this,d))}return[].concat(b).concat(a).concat(c)},toggleSubmitButton:function(b){q.toggleButtonLoadingState(this.formSubmit);var c=b.filter(function(a){return 0===a.options.length});b=0<b.filter(function(a){return"page_id"===a.name}).length;c=0===c.length;a.toggle(this.formSubmit,"hide",!c);b?a.toggle(this.createLpButton,"hide",c):a.toggle(this.connectButton,
"hide",c)},validateForm:function(){var a=this.inputs.map(function(a){return a.isValid?a.isValid():!0});D(a)?f.remove(this.formSubmit,"disabled"):f.set(this.formSubmit,"disabled","disabled")},handleSubmit:function(b){a.add(this.formSubmit,"button-loading");f.set(this.formSubmit,"disabled","disabled");(b=this.hiddenTimeToCreateInput)&&b.setValue(r.getCurrentTimestamp()-this.createFlowStartedAt)},getInputForField:function(a){var b=a.name,c=a.type,d=a.value,e=w.filters,f=y.filters,h={getOptions:w.list,
name:b,defaultLabel:"Select a list",labelKey:"name",valueKey:"listId",validators:[I],onChange:this.validateForm.bind(this),noOptionsFeedback:{title:"Hold up! We don't see any lists in your account.",description:this.noOptionsFeedbackDescription({email:t.email,link:p.toUrl("/lists/new-list")})}};if("name"===c)return a={label:a.label||"Campaign Name",name:b},d&&(a.value=d),new B(a);if("list"===c)return new z(k.mixin({},h,{mcDefaultValue:"__default_list__",noOptionsFeedback:{title:"Hold up! We don't see any lists in your account.",
description:this.noOptionsFeedbackDescription({email:t.email,link:p.toUrl("/lists/new-list")})}}));if("list_required"===c)return new z(k.mixin({},h,{noOptionsFeedback:{title:"Hold up! We don't see any lists in your account.",description:this.noOptionsRequiredFeedbackDescription({link:p.toUrl("/lists/new-list")})}}));if("list_bday"===c)return new z(k.mixin({},h,{defaultLabel:"Select a list with a birthday merge field",filter:e.hasBirthday,noOptionsFeedback:{title:"Uh oh. We don't see any lists with a birthday field.",
description:'Before you create this campaign, you\'ll need to add the missing data. Want some help? Check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/lists/manage-contacts/manage-list-and-signup-form-fields"\x3eManage List and Signup Form Fields\x3c/a\x3e.'}}));if("list_date"===c)return new z(k.mixin({},h,{defaultLabel:"Select a list with a date merge field",filter:e.hasDate,noOptionsFeedback:{title:"Uh oh. We don't see any lists with a date field.",description:'Before you create this campaign, you\'ll need to add the missing data. Want some help? Check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/lists/manage-contacts/manage-list-and-signup-form-fields"\x3eManage List and Signup Form Fields\x3c/a\x3e.'}}));
if("list_group"===c)return new z(k.mixin({},h,{defaultLabel:"Select a list with groups",filter:e.hasGroup,noOptionsFeedback:{title:"Uh oh. We don't see any lists with groups.",description:'Before you create this campaign, you\'ll need to add the missing data. Want some help? Check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/lists/groups/getting-started-with-groups"\x3eGetting Started With Groups\x3c/a\x3e.'}}));if("list_merge"===c)return new z(k.mixin({},h,{defaultLabel:"Select a list with fields",
filter:e.hasMergeField,noOptionsFeedback:{title:"Uh oh. We don't see any lists with fields.",description:'Before you create this campaign, you\'ll need to add the missing data. Want some help? Check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/lists/manage-contacts/manage-list-and-signup-form-fields"\x3eManage List and Signup Form Fields\x3c/a\x3e.'}}));if("list_100"===c)return new z(k.mixin({},h,{defaultLabel:"Select a list with at least 100 contacts",filter:e.hasAtLeast100Contacts,
noOptionsFeedback:{title:"Hold up! You'll need to collect some more contacts, first.",description:'Ad campaigns need at least 100 list contacts. To grow your list, try \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/lists/signup-forms/share-your-signup-form"\x3esharing your signup form\x3c/a\x3e.'}}));if("list_store_v3"===c)return new z(k.mixin({},h,{defaultLabel:"Select a list with a store",optionsAreRequired:!0,filter:e.hasEcommerceStore,noOptionsFeedback:{title:"Wait! We don't see any lists with a store.",
description:'Before you create this campaign, you\'ll need to add the missing data. Check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/integrations/e-commerce/how-to-use-mailchimp-for-e-commerce#Connect-Your-Store"\x3eHow to Use MailChimp for E-Commerce: Connect Your Store\x3c/a\x3e.'}}));if("list_popup_form"===c)return new z(k.mixin({},h,{defaultLabel:"Select a list connected to a pop-up form.",optionsAreRequired:!0,filter:e.hasPopupForm,noOptionsFeedback:{title:"Oops, there\u2019s no pop-up form connected to your list.",
description:this.noPopupFormDescription({link:p.toUrl("/#/create-campaign/explore/sitePopup")})}}));d={title:"Wait! Connect your site or store to add this campaign.",description:this.noOptionsConnectedSiteStoreDescription({link:this.connectYourStoreLink})};"landing_page"===this.type&&(d={title:"Let's connect your store!",description:this.noOptionsLandingPagesStoreDescription({link:this.connectYourStoreLink})});if("store"===c||"store_v3"===c||"store_v3_required"===c)return new z({getOptions:v.list,
optionsAreRequired:"store_v3_required"===c,name:b,defaultLabel:"Select a store",labelKey:"name",valueKey:"storeId",validators:"store_v3_required"===c?[I]:[],onChange:this.validateForm.bind(this),noOptionsFeedback:d});if("store_abandoned_browse"===c)return new z({getOptions:v.listAbandonedBrowse,optionsAreRequired:!0,name:b,defaultLabel:"Select a store",labelKey:"siteUrl",valueKey:"storeId",onChange:this.validateForm.bind(this),noOptionsFeedback:{title:"Wait! This campaign requires a store connection.",
description:this.noOptionsConnectedSiteStoreDescription({link:this.connectYourStoreLink})}});if("published_active_landing_page"===c)return new z({getOptions:x.listPublishedSignupPages,optionsAreRequired:!0,name:b,defaultLabel:"Select A Page",labelKey:"title",valueKey:"pageId",validators:[I],onChange:this.validateForm.bind(this),noOptionsFeedback:{title:"Hang on! You\u2019ll need to build a landing page first.",description:this.noLandingPageToPromote({link:"https://mailchimp.com/features/landing-pages/"})}});
if("connected_site"===c||"connected_site_required"===c||"connected_site_store"===c)return new z({getOptions:y.list,optionsAreRequired:!0,name:b,defaultLabel:"Select a Connected Site",labelKey:"name",valueKey:"siteId",validators:"connected_site"===c?[]:[I],filter:"connected_site_store"===c?f.hasStore:null,onChange:this.validateForm.bind(this),noOptionsFeedback:{title:"Wait! Connect your site or store to add this campaign.",description:this.noOptionsConnectedSiteDescription({link:this.connectYourStoreLink})}});
throw Error("No input found for field '"+a+"'");}})})},"mojo/api/member-list":function(){define(["dojo/_base/declare","dojo/request/xhr","dojo/when","vendor/lodash-amd/values","mojo/url"],function(l,k,h,f,a){var c=l(null,{constructor:function(a){this.type=a.field_type;this.name=a.name;this.var=a.var}}),e=l(null,{constructor:function(a){this.listId=a.list_id;this.type=a.list_type;this.name=a.name;this.size=a.size;this.mergeFields=(a.merge_fields||[]).map(function(a){return new c(a)});this.hasInterestGroups=
0<f(a.interest_groups).length;this.hasMergeFields=1<f(a.merge_fields).length;this.hasEcommerceStore=a.has_ecommerce_store;this.totalContacts=a.total_contacts;this.totalSubscribers=a.total_subscribers;this.hasPopupForm=a.has_popup_form},hasMergeFieldOfType:function(a){return 0<this.mergeFields.filter(function(c){return c.type===a}).length},hasMergeFieldWithValue:function(a){return 0<this.mergeFields.filter(function(c){return c.var===a}).length}}),m,d;return{list:function(){return k.get(a.toUrl("channels/get-all-lists"),
{handleAs:"json",query:null}).then(function(a){return a.map(function(a){return new e(a)})})},cachedList:function(){return d?h(d):m?m:m=this.list.apply(this,arguments).then(function(a){return d=a})},filters:{hasBirthday:function(a){return a.hasMergeFieldOfType("birthday")},hasDate:function(a){return a.hasMergeFieldOfType("date")},hasGroup:function(a){return a.hasInterestGroups},hasMergeField:function(a){return a.hasMergeFields},hasEcommerceStore:function(a){return a.hasEcommerceStore},hasAtLeast100Contacts:function(a){return 100<=
a.totalContacts},hasPopupForm:function(a){return a.hasPopupForm}}}})},"mojo/api/ecommerce-store":function(){define(["dojo/_base/declare","dojo/request/xhr","mojo/url"],function(l,k,h){var f=l(null,{constructor:function(a){this.name=a.name;this.storeId=a.store_id;this.listId=a.list_id||null;this.siteUrl=a.site_url}});return{filters:{hasMemberList:function(a){return a.listId}},list:function(){return k.get(h.toUrl("channels/get-active-stores"),{handleAs:"json",query:null}).then(function(a){return a.map(function(a){return new f(a)})})},
listAbandonedBrowse:function(){return k.get(h.toUrl("channels/get-abandonedbrowse-stores"),{handleAs:"json",query:null}).then(function(a){return a.map(function(a){return new f(a)})})}}})},"mojo/api/connected-sites":function(){define(["dojo/_base/declare","dojo/request/xhr","mojo/url"],function(l,k,h){var f=l(null,{constructor:function(a){this.name=a.name;this.siteId=a.site_id;this.siteUrl=a.site_url;this.storeId=a.store_id}});return{filters:{hasStore:function(a){return a.storeId}},list:function(){return k.get(h.toUrl("channels/connected-sites"),
{handleAs:"json",query:null}).then(function(a){return a.map(function(a){return new f(a)})})}}})},"mojo/api/page":function(){define("dojo/_base/declare dojo/_base/lang dojo/request/xhr vendor/lodash-amd/values vendor/lodash-amd/some mojo/url".split(" "),function(l,k,h,f,a,c){var e={patchById:function(a,d){return h.post(c.toUrl("/landing-pages/patch",{id:a}),{handleAs:"json",data:{patch:JSON.stringify(d)}}).then(this.createFromProperties.bind(this))},createFromProperties:function(a){return new d(a)},
listPublishedSignupPages:function(){return h.get(c.toUrl("channels/get-published-signup-pages"),{handleAs:"json",query:null}).then(function(a){return a.map(function(a){return new d(a)})})},acceptTerms:function(){return h.get(c.toUrl("landing-pages/accept-terms?id"+this.model.pageId),{handleAs:"json"})}},m=l(null,{constructor:function(a){this.rootDomain=a.page_url.root_domain;this.campaignToken=a.page_url.campaign_token;this.brandToken=a.page_url.brand_token;this.mostRecentArchiveMapping=a.page_url.mostRecentArchiveMapping;
this.mostRecentArchiveMappingCanEdit=a.page_url.mostRecentArchiveMappingCanEdit;this.canCustomizeArchiveUrl=a.page_url.canCustomizeArchiveUrl;this.brands=a.page_url.brands;this.url=a.page_url.url;this.isDuplicateCampUrl=a.page_url.is_duplicate}}),d=l(null,{constructor:function(a){this._timestamp=Date.now();this.type=a.type;this.pageId=a.page_id;this.list={id:a.list_id,name:a.list_name,captchaEnabled:a.captcha_enabled};this.store={id:a.store_id,name:a.store_name};this.name=a.name;this.title=a.title;
this.status=a.status;this.createdAt=a.created_at;this.updatedAt=a.updated_at;this.publishedAt=a.published_at;this.unpublishedAt=a.unpublished_at;this.hasBrokenBlocks=a.has_broken_blocks;this.hasDefaultBlockContent=a.has_default_block_content;this.hasSignupForm=a.page_has_signup_block;this.renderedHtml=a.rendered_html;this.isContentReady=a.is_content_ready;this.campaignUrl=new m(a);this.canSend=a.can_send;this.screenshotUrl=a.screenshot_url;this.tracking_settings=a.tracking_settings},patch:function(a){a||
(a={});var c={};a.name&&(c=k.mixin({},c,{name:a.name}));a.listId&&(c=k.mixin({},c,{list_id:a.listId}));a.storeId&&(c=k.mixin({},c,{store_id:a.storeId}));a.title&&(c=k.mixin({},c,{title:a.title}));a.campaign_url&&a.campaign_url.campaign_token&&(c=k.mixin({},c,{campaign_token:a.campaign_url.campaign_token}));a.campaign_url&&a.campaign_url.hasOwnProperty("brand_token")&&(c=k.mixin({},c,{brand_token:a.campaign_url.brand_token}));a.tracking_settings&&(c=k.mixin({},c,{tracking_settings:a.tracking_settings}));
return e.patchById(this.pageId,c)}});return e})},"vendor/lodash-amd/some":function(){define(["./_arraySome","./_baseIteratee","./_baseSome","./isArray","./_isIterateeCall"],function(l,k,h,f,a){return function(c,e,m){var d=f(c)?l:h;m&&a(c,e,m)&&(e=void 0);return d(c,k(e,3))}})},"vendor/lodash-amd/_baseSome":function(){define(["./_baseEach"],function(l){return function(k,h){var f;l(k,function(a,c,e){f=h(a,c,e);return!f});return!!f}})},"mojo/intent-overlay/SelectInput":function(){define("dojo/_base/declare dojo/html dojo/dom-construct dojo/when dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/Select mojo/validation/Error dojo/text!./templates/NoOptions.html vendor/lodash-amd/template vendor/lodash-amd/isEmpty".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([a,c,e],{templateString:'\x3cdiv\x3e\x3cspan role\x3d"presentation" aria-hidden\x3d"true" data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:20, strokeWidth: 3" class\x3d"border-radius--lv1"\x3e\x3c/span\x3e\x3c/div\x3e',noOptionsTemplate:n(b),options:[],validators:[],mcDefaultValue:null,filter:!1,postCreate:function(){this.inherited(arguments);this.optionsRequest=f(this.getOptions()).then(this.mapOptions.bind(this)).then(this.render.bind(this))},
mapOptions:function(a){return this.options=a.map(function(a,b){return{label:a[this.labelKey],value:a[this.valueKey],disabled:this.filter?!this.filter(a):!1}},this).sort(function(a){return a.disabled?1:-1})},getValue:function(){return this.select?this.select.get("value"):this.mcDefaultValue},isValid:function(){var a=this.getValue();return this.validators.reduce(function(b,c){return c(a)&&b},!0)},render:function(a){var b=a.filter(function(a){return!a.disabled});if(0===b.length)return k.set(this.domNode,
this.noOptionsTemplate(this.noOptionsFeedback));this.select=new m({name:this.name,labelType:"text",options:[{value:"",label:this.defaultLabel}].concat(a),"class":"select-small full-width",onChange:this.onChange});1===b.length&&this.select.set("value",b[0]);h.empty(this.domNode);this.select.placeAt(this.domNode);this.select.startup();return this}})})},"vendor/lodash-amd/isEmpty":function(){define("./_baseKeys ./_getTag ./isArguments ./isArray ./isArrayLike ./isBuffer ./_isPrototype ./isTypedArray".split(" "),
function(l,k,h,f,a,c,e,m){var d=Object.prototype.hasOwnProperty;return function(b){if(null==b)return!0;if(a(b)&&(f(b)||"string"==typeof b||"function"==typeof b.splice||c(b)||m(b)||h(b)))return!b.length;var n=k(b);if("[object Map]"==n||"[object Set]"==n)return!b.size;if(e(b))return!l(b).length;for(var p in b)if(d.call(b,p))return!1;return!0}})},"mojo/intent-overlay/TextInput":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/TextInput.html"],function(l,
k,h,f){return l([k,h],{label:null,name:null,value:null,templateString:f,constructor:function(a){this.label=a.label;this.value=a.value||"";this.name=a.name},focus:function(){this.input.focus()}})})},"mojo/intent-overlay/HiddenInput":function(){define(["dojo/_base/declare","mojo/widgets/Renderable"],function(l,k){return l([k],{templateString:'\x3cinput type\x3d"hidden" name\x3d"\x3c%- name %\x3e" value\x3d"\x3c%- value %\x3e" /\x3e',constructor:function(h){this.state={name:h.name,value:h.value}},setValue:function(h){this.setState({value:h})}})})},
"vendor/lodash-amd/every":function(){define(["./_arrayEvery","./_baseEvery","./_baseIteratee","./isArray","./_isIterateeCall"],function(l,k,h,f,a){return function(c,e,m){var d=f(c)?l:k;m&&a(c,e,m)&&(e=void 0);return d(c,h(e,3))}})},"vendor/lodash-amd/_arrayEvery":function(){define([],function(){return function(l,k){for(var h=-1,f=null==l?0:l.length;++h<f;)if(!k(l[h],h,l))return!1;return!0}})},"vendor/lodash-amd/_baseEvery":function(){define(["./_baseEach"],function(l){return function(k,h){var f=!0;
l(k,function(a,c,e){return f=!!h(a,c,e)});return f}})},"mojo/intent-overlay/AutomationConfigurationView":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dijit/registry dojo/dom-construct dojo/dom-class mojo/widgets/Renderable mojo/intent-overlay/BlueprintCard mojo/lib/logger dojo/text!./templates/AutomationConfigurationView.html".split(" "),function(l,k,h,f,a,c,e,m,d,b){var n=l([e],{state:{isCustom:!1},createButtonLocation:null,templateString:b,constructor:function(){n._bootupListeners()},
postMixInProperties:function(){this.groups=this.option.groupedAutomations},toggleCustom:function(){this.setState({isCustom:!this.state.isCustom})},render:function(){var b=f.byId("automationTabContainer");b&&b.destroy();this.inherited(arguments);this.state.isCustom||(Object.keys(this.groups).forEach(function(b){this.groups[b].blueprints.map(function(c){c=new m({blueprint:c,cardClass:"c-blueprintCard_simple"});a.place(c.domNode,this["contentPane-"+b],"last")},this)},this),setTimeout(k.hitch(this,function(){f.byId("automationTabContainer").resize()}),
0))},destroy:function(){this.inherited(arguments);n.destroyTopicListeners()}});n._startupListener=null;n._selectListener=null;n._bootupListeners=function(){n._startupListener=h.subscribe("automationTabContainer-startup",function(a){n._logSubtabView(a.selected)});n._selectListener=h.subscribe("automationTabContainer-selectChild",n._logSubtabView)};n._logSubtabView=function(a){d.info("campaigns-front-door","User view",{view:"automation",subtab:a.name})};n.destroyTopicListeners=function(){var a=n._startupListener;
a&&a.remove();(a=n._selectListener)&&a.remove()};return n})},"mojo/widgets/index/recommendations/RecommendationContainer":function(){define("dojo/_base/declare dojo/_base/lang dojo/debounce dojo/Deferred dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on dojo/query dojo/request dojox/html/entities dijit/registry mojo/context mojo/url mojo/user mojo/utils velocity/velocity mojo/widgets/ProgressDots mojo/widgets/index/recommendations/RecommendationCard mojo/widgets/index/recommendations/RecommendationFeature dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/RecommendationContainer.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D){var F=["gray","green","pink","purple","yellow"],G=["pink","purple"],I=["Pick up where you left off","Almost done","Keep going","Great work so far"];return l([z,B,C],{templateString:D,templateGhostCard:"\x3cdiv class\x3d'c-bannerCard--ghost display--inline-block'\x3e\x3c/div\x3e",rootUrl:r.rootUrl,state:null,trackingData:{pageName:"Home"},recs:null,recData:[],recWidgets:[],progressDotWidget:null,hasFeatured:!0,featureBackgroundColor:"",cardBackgroundColor:"",
pageIndex:1,pageCount:0,cardsPerPage:null,inProgressLabelIndex:-1,cardProperties:{width:0,marginLeft:0,marginRight:0},postMixInProperties:function(){this.inherited(arguments);this.surveyLink="https://mailchimp.wufoo.com/forms/z1kb59al01x883i/def/field10\x3d"+u.userId},buildRendering:function(){this.inherited(arguments);this._onSectionStateUpdate("state",null,this.state)},postCreate:function(){this.inherited(arguments);this._updateRecData();this._setFeatureBackgroundColor();this._setCardBackgroundColor();
this._checkHasFeatured();this._checkScreenSize();this._updatePageCount();this._initProgressDots();this._onNewPage("pageIndex",null,this.pageIndex);this._addEventListeners()},_setFeatureBackgroundColor:function(){this.featureBackgroundColor=this._getRandomOption(F)},_setCardBackgroundColor:function(){this.cardBackgroundColor=this._getRandomOption(G)},_checkHasFeatured:function(){if(0===this.recData.length)this.hasFeatured=!1;else{for(var a=!1,b=0;b<this.recData.length;b++)"started"===this.recData[b].status&&
(a=!0);this.hasFeatured=!a}},_checkScreenSize:function(){var c;b("[data-mc-group\x3d'slot-itemContainer']").forEach(function(a){"none"!==m.get(a,"display")&&(c=a)});e.place(this.itemContainer,c);e.place(this.emptyContainer,c);this.cardsPerPage=+a.get(c,"data-max-cards")},_initProgressDots:function(){this.progressDotWidget=new y({isSelectable:!0,stepNum:this.pageCount,activeStepIndex:this.pageIndex});this.progressDotWidget.placeAt(this.progressDots,"last");this._toggleDisplay(this.progressDotWidget.domNode,
1>=this.pageCount)},_updateRecData:function(){this.recData=[];for(var a,b=0;b<Object.keys(this.recs).length;b++)a=this.recs[Object.keys(this.recs)[b]],this.recData.push({id:Object.keys(this.recs)[b],status:a.status,score:a.score,header:{feature:p.encode(a.featured_title),card:p.encode(a.title)},message:p.encode(a.message),label:{time:p.encode(a.estimated_time),inProgress:this._getInProgressLabel()},image:p.encode(a.image_url),cta:{feature:{text:p.encode(a.featured_cta),link:p.encode(a.action_url)},
notStarted:{text:p.encode(a.cta),link:p.encode(a.action_url)},inProgress:{text:p.encode(a.in_progress_cta),link:p.encode(a.edit_url)}},links:{kb:p.encode(a.link_url),marketing:p.encode(a.marketing_url)}});this._sortRecs()},_sortRecs:function(){var a=this.recData.filter(function(a){return"started"===a.status},this).sort(function(a,b){return+a.score<+b.score?-1:1},this),b=this.recData.filter(function(a){return"active"===a.status},this).sort(function(a,b){return+a.score<+b.score?-1:1},this);this.recData=
a.concat(b)},_getInProgressLabel:function(){this.inProgressLabelIndex++;this.inProgressLabelIndex>=I.length&&(this.inProgressLabelIndex=0);return I[this.inProgressLabelIndex]},_handleDismissRec:function(a,c){n.post(t.toUrl("/index/dismiss-recommendation"),{data:{rec_id:a},handleAs:"json"}).then(k.hitch(this,function(a){c&&(this.hasFeatured=!1);this.recs=a.recommendations;this._updateRecData();this._setCardHeaderText();this._updatePageCount();if(!(0>=this.pageCount))if(this._updatePageIndex(),1===
this.pageIndex&&c||1===this.recData.length&&this.hasFeatured||0===this.recWidgets.length)this._onNewPage("pageIndex",null,this.pageIndex);else{var d=this._getPageStartIndex(),f=d+(this.cardsPerPage-1),h=b(".c-bannerCard--ghost")[0];this._animShrinkOut(h).then(k.hitch(this,function(){e.destroy(h)}));var m=e.toDom(this.templateGhostCard);e.place(m,this.itemContainer);this._animGrowIn(m).then(k.hitch(this,function(){f<this.recData.length&&(e.destroy(m),this._createSingleCard(this.recData[f]));this.recWidgets.forEach(k.hitch(this,
function(a){a.clearPrimaryAction()}));this._getIsFirstCard(d)&&this.recWidgets[0].setAsPrimaryAction()}))}}))},_buildNewPage:function(){this._destroyAllRecWidgets();this._toggleHeader();this._toggleSurvey();var a=1===this.pageIndex&&this.hasFeatured;this._displayFeatureStyle(a);this._toggleButton(this.featureDismissBtn,!a);setTimeout(k.hitch(this,function(){e.empty(this.itemContainer);a?this._createFeature():this._createCards()}),100)},_displayFeatureStyle:function(a){c.remove(this.bannerContainer,
"c-bannerContainer--"+this.featureBackgroundColor);c.remove(this.bannerContainer,"c-bannerContainer--"+this.cardBackgroundColor);c.remove(this.bannerPattern,"c-bannerPattern--"+this.cardBackgroundColor);a?c.add(this.bannerContainer,"c-bannerContainer--"+this.featureBackgroundColor):(c.add(this.bannerContainer,"c-bannerContainer--"+this.cardBackgroundColor),c.add(this.bannerPattern,"c-bannerPattern--"+this.cardBackgroundColor))},_createFeature:function(){var a=this.recData[0];a&&(a=new A({isFeatured:!0,
data:a}),this._setupRecWidget(a))},_createCards:function(){var a,b=0,c=this._getPageStartIndex(),d=this._getIsFirstCard(c);this._setCardHeaderText();for(var f=c;f<c+this.cardsPerPage;f++){a=this.recData[f];if(!a)break;a=this._createSingleCard(a);d&&(a.setAsPrimaryAction(),d=!1);b++}b=this.cardsPerPage-b;for(b;0<b;b--)c=e.toDom(this.templateGhostCard),e.place(c,this.itemContainer)},_getPageStartIndex:function(){var a=this.pageIndex*this.cardsPerPage-this.cardsPerPage;this.hasFeatured&&(a-=this.cardsPerPage-
1);return a},_getIsFirstCard:function(a){return this.hasFeatured&&1===a||!this.hasFeatured&&0===a},_createSingleCard:function(a){a=new x({isFeatured:!1,inProgress:"started"===a.status,data:a});this._setupRecWidget(a);return a},_setupRecWidget:function(a){m.set(a.domNode,"opacity",0);this._animFadeIn(a.domNode);a.placeAt(this.itemContainer,"last");a.watch("onDismiss",k.hitch(this,function(a,b,c){this._onDismissRec(c)}));this.recWidgets.push(a);1===this.pageIndex&&this.hasFeatured?(this.trackingData.recommendations=
[],this.trackingData.recommendations.push(a.data.header.feature)):(this.trackingData.recommendations=[],this.trackingData.recommendations.push(a.data.header.card));w.pushToDataLayer(this.trackingData)},_destroyAllRecWidgets:function(){for(var a=this.recWidgets.length;0<=--a;)this._destroySingleWidget(this.recWidgets[a]);this.recWidgets=[]},_destroySingleWidget:function(a){var b=new f,c=e.toDom(this.templateGhostCard);m.set(c,"display","none");e.place(c,a.domNode,"after");for(var d=this.trackingData.recommendations.length;1<=
--d;)(this.trackingData.recommendations[d]===a.data.header.card||a.data.header.feature)&&this.trackingData.recommendations.splice(d,1);w.pushToDataLayer(this.trackingData);a.hide().then(k.hitch(this,function(){m.set(c,"display","inline-block");a.destroyRecursive();b.resolve()}));return b},_updatePageCount:function(){var a=this.recData.length;this.hasFeatured&&a--;this.pageCount=Math.ceil(a/this.cardsPerPage);this.hasFeatured&&this.pageCount++;this.progressDotWidget&&(this.progressDotWidget.setStepNum(this.pageCount),
this._toggleDisplay(this.progressDotWidget.domNode,1>=this.pageCount));0>=this.pageCount&&(this.set("state","closed"),this._setContentsEmpty())},_updatePageIndex:function(){this.pageIndex>this.pageCount&&(this.pageIndex=this.pageCount);this._toggleButton(this.prevBtn,1===this.pageIndex);this._toggleButton(this.nextBtn,this.pageIndex===this.pageCount);this.progressDotWidget.setActiveDot(this.pageIndex)},_toggleSurvey:function(){var a="closed"===this.state,b=0>=this.pageCount;this._toggleDisplay(this.surveyLink,
1===this.pageIndex&&this.hasFeatured||a||b)},_toggleHeader:function(){var a=1===this.pageIndex&&this.hasFeatured,b="closed"===this.state;0<this.pageCount&&this._toggleDisplay(this.openHeader,a||b);this._toggleDisplay(this.closedHeader,!b)},_setCardHeaderText:function(){var a=this.hasFeatured&&2>=this.recData.length||!this.hasFeatured&&1>=this.recData||1>=this.cardsPerPage;c.toggle(this.headerPlural,"display--none",a);c.toggle(this.headerSingular,"display--none",!a)},_setContentsEmpty:function(){this._displayFeatureStyle(!1);
this._toggleDisplay(this.itemContainer,!0);this._toggleDisplay(this.emptyContainer,!1);this._toggleDisplay(this.openHeader,!0);this._toggleDisplay(this.surveyLink,!0);this._toggleButton(this.featureDismissBtn,!0);this._toggleButton(this.prevBtn,!0);this._toggleButton(this.nextBtn,!0);this.progressDotWidget&&this._toggleDisplay(this.progressDotWidget.domNode,!0);this._toggleDisplay(this.closedHeaderWithRecs,!0);this._toggleDisplay(this.closedHeaderEmpty,!1)},_addEventListeners:function(){this.watch("state",
this._onSectionStateUpdate);this.watch("pageIndex",this._onNewPage);d(window,"resize",h(k.hitch(this,function(a){this._onScreenResize()},1E3)));this.progressDotWidget.watch(("onDotSelect",k.hitch(this,function(a,b,c){"onDotSelect"===a&&this.set("pageIndex",c)})));this.prevBtn&&d(this.prevBtn,"click",k.hitch(this,function(a){this.set("pageIndex",this.pageIndex-1)}));this.nextBtn&&d(this.nextBtn,"click",k.hitch(this,function(a){this.set("pageIndex",this.pageIndex+1)}));this.toggleSectionBtn&&d(this.toggleSectionBtn,
"click",k.hitch(this,function(a){this.set("state","open"===this.state?"closed":"open")}));this.featureDismissBtn&&d(this.featureDismissBtn,"click",k.hitch(this,function(a){this.hasFeatured&&this._onDismissRec(this.recWidgets[0])}))},_onScreenResize:function(){this._checkScreenSize();this._updatePageCount();this._onNewPage("pageIndex",null,1)},_onSectionStateUpdate:function(a,b,d){a="open"===d;d=1===this.pageIndex&&this.hasFeatured;u.saveSessionSetting("onboarding-recommendations-closed",!1===a);c.toggle(this.bannerContainer,
"c-bannerContainer--closed",!1===a);this._toggleDisplay(this.openContent,!1===a);c.toggle(this.toggleSectionBtnIcon,"menu-down",!1===a);c.toggle(this.toggleSectionBtnIcon,"menu-up",!0===a);this._toggleButton(this.featureDismissBtn,!1===a||!d);this.toggleSectionBtn.title=a?"Close":"Open";this._toggleHeader();null!==b&&this._toggleSurvey()},_onNewPage:function(a,b,c){0>=this.pageCount||(this.pageIndex=c,this._updatePageIndex(),this._buildNewPage())},_onDismissRec:function(a){for(var b=this.recWidgets.length;0<=
--b;)a===this.recWidgets[b]&&this.recWidgets.splice(b,1);this.cardProperties.width=m.get(a.domNode,"width")+"px";this.cardProperties.marginLeft=m.get(a.domNode,"marginLeft")+"px";this.cardProperties.marginRight=m.get(a.domNode,"marginRight")+"px";var c=a.isFeatured,d=a.data.id;this._destroySingleWidget(a).then(k.hitch(this,function(){this._handleDismissRec(d,c)}))},_toggleButton:function(a,b){c.toggle(a,"disable",b);this._toggleDisplay(a,b)},_toggleDisplay:function(a,b){var c=new f,d=m.get(a,"display");
b&&"none"!==d?this._animFadeOut(a).then(function(){c.resolve()}):b||"none"!==d||this._animFadeIn(a).then(function(){c.resolve()});return c},_getRandomOption:function(a){return a[Math.floor(Math.random()*(a.length-1+1))+1-1]},_animFadeIn:function(a){var b=new f;c.remove(a,"display--none");m.set(a,"opacity",0);v(a,{opacity:1},{display:"",delay:150,duration:175,complete:k.hitch(this,function(){b.resolve()})});return b},_animFadeOut:function(a){var b=new f;v(a,{opacity:0},{display:"none",duration:175,
complete:k.hitch(this,function(){b.resolve()})});return b},_animGrowIn:function(a){var b=new f;v(a,{width:[this.cardProperties.width,"easeOut",0],marginLeft:[this.cardProperties.marginLeft,"easeOut",0],marginRight:[this.cardProperties.marginRight,"easeOut",0]},{display:"",duration:175,complete:k.hitch(this,function(){b.resolve()})});return b},_animShrinkOut:function(a){var b=new f;v(a,{width:[0,"easeOut",this.cardProperties.width],marginLeft:[0,"easeOut",this.cardProperties.marginLeft],marginRight:[0,
"easeOut",this.cardProperties.marginRight]},{display:"none",duration:175,complete:k.hitch(this,function(){b.resolve()})});return b}})})},"mojo/widgets/index/recommendations/RecommendationFeature":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/widgets/index/recommendations/RecommendationItem dojo/text!./templates/RecommendationFeature.html".split(" "),function(l,k,h,f,a,c,e,m){return l([e,a,c],{templateString:m,
postMixInProperties:function(){this.inherited(arguments);this.header=this.data.header.feature;this.message=this.data.message;this.timeLabel=this.time;this.image=this.data.image;this.ctaText=this.data.cta.feature.text;this.ctaLink=this.data.cta.feature.link;this.marketingLink=this.data.links.marketing},postCreate:function(){this.inherited(arguments);h.toggle(this.messageContainer,"display--none","NO MESSAGE"===this.message)},_addEventListeners:function(){this.inherited(arguments);f(this.cta,"click",
k.hitch(this,function(){this._openFrontDoor(this.ctaLink)}))}})})},"mojo/widgets/index/campaigns/CampaignContainer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dojo/promise/all mojo/api/outreach mojo/context mojo/lib/flags mojo/user dijit/form/Select mojo/widgets/campaigns/EmailSlat mojo/widgets/campaigns/AdSlat mojo/widgets/campaigns/AutomationSlat mojo/widgets/campaigns/PageSlat mojo/widgets/campaigns/PostcardSlat dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/CampaignContainer.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){return l([u,w,v],{templateString:y,rootUrl:e.rootUrl,activeSlats:[],maxCampaignResults:3,filterType:"",postCreate:function(){this.inherited(arguments);this._initFilterSelect();this.filterType=this.filterTypeSelect.value;this._addEventListeners();this.updateCampaignData()},_initFilterSelect:function(){var a=[{label:"Email",value:"regular"},{label:"Automation",value:"automation_all"},{label:"Ad",value:"ad_all"},{label:"Page",value:"page"}];d.flagIsOn(m.MULTICHANNEL_DIRECT_MAIL)&&
a.push({label:"Postcard",value:"postcard"});this.filterTypeSelect=new b({options:a},this.filterTypeSelect)},updateCampaignData:function(){c.list({per_page:this.maxCampaignResults,"filters[bucket]":"homepage","filters[type]":this.filterType}).then(k.hitch(this,function(a){this._renderSlats(a.items)}))},_addEventListeners:function(){f(this.filterTypeSelect,"change",k.hitch(this,function(a){this.filterType=a;this.updateCampaignData()}))},_renderSlats:function(a){this.activeSlats.forEach(k.hitch(this,
function(a,b){a.destroyRecursive()}));a.forEach(k.hitch(this,function(a,b){var c;c={model:a,mode:"condensed"};c=a.isAd()?new p(c):a.isAutomation()?new q(c):a.isPostcard()?new t(c):a.isPage()?new r(c):new n(c);c.placeAt(this.campaignList,"last");this.activeSlats.push(c);h.add(c.domNode,"display--block")}))}})})},"mojo/api/outreach":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/request/xhr","mojo/url"],function(l,k,h,f){var a=l(null,{constructor:function(a){this.uniqueId=a.unique_id;
this.campaignId=a.campaign_id;this.pageId=a.page_id;this.automationId=a.automation_id;this.autoresponderId=a.autoresponder_id;this.adId=a.ad_id;this.title=a.title;this.titleLink=a.title_link;this.status=a.status;this.statusReason=a.status_reason;this.bucket=a.bucket;this.type=a.type;this.typeLabel=a.type_label;this.listName=a.list?a.list.name:null;this.createdAt=a.created_at?new Date(a.created_at):null;this.updatedAt=a.updated_at?new Date(a.updated_at):null;this.publishedAt=a.published_at?new Date(a.published_at):
null;this.pausedAt=a.paused_at?new Date(a.paused_at):null;var e=a.updated_at||a.created_at;this.lastUpdatedDate=e?new Date(e):null;this.lastUpdatedBy=a.last_updated_by;this.sendDate=a.send_time?new Date(a.send_time):null;this.canceledDate=a.canceled_at?new Date(a.canceled_at):null;this.wasCanceledByNetwork=a.was_canceled_by_facebook;this.lastDeliveryDate=a.last_delivery_time?new Date(a.last_delivery_time):null;this.rssLastSendDate=a.rss_last_send_time?new Date(a.rss_last_send_time):null;this.rssScheduleString=
a.rss_schedule_string;this.rssScheduleHour=a.rss_schedule_hour;this.sendPercentage=a.delivery_status_percentage;this.isTimewarp=a.is_timewarp;this.audience=a.email_source_name;this.hasSegment=a.has_segment;this.stats=a.stats;this.startDate=a.start_time?new Date(a.start_time):null;this.endDate=a.end_time?new Date(a.end_time):null;this.availableActions=a.available_actions;this.autoresponderTriggerString=a.autoresponder_trigger_string;this.totalEmailsCount=a.total_emails_count;this.pausedEmailsCount=
a.paused_emails_count;this.workflowType=a.workflow_type;this.storeName=a.store_name;this.needsAttention=a.needs_attention;this.pageUrl=a.page_url;this.hasStore=a.has_store;this.hasSignUpForm=a.has_signup_form;this.shouldShowComplianceMessage=a.should_show_compliance_message;this.shouldShowSendErrorMessage=a.should_show_send_error_message;this.editUrl=a.edit_url;this.hasUpdatesWhilePublished=a.has_updates_while_published},isAd:function(){return-1<["facebook","google"].indexOf(this.type)},isAutomation:function(){return-1<
["autoresponder","automation"].indexOf(this.type)},isPostcard:function(){return"postcard"===this.type},isPage:function(){return-1<["page"].indexOf(this.type)}});return{STATUS_REASON_COMPLIANCE:"compliance",list:function(a){var e=k.clone(a);a["filters[folder]"]||"unfiled"!==a["filters[type]"]||(e["filters[type]"]=void 0,e["filters[folder]"]=0);"automation"===a["filters[type]"]&&(e["filters[type]"]="automation_all");return h.get(f.toUrl("/channels"),{handleAs:"json",query:e}).then(k.hitch(this,function(a){return{items:a.items.map(function(a){return k.mixin(a,
{bucket:e["filters[bucket]"]||""})}).map(this._createFromProperties.bind(this)),count:a.count}}))},_createFromProperties:function(c){return new a(c)}}})},"mojo/widgets/campaigns/EmailSlat":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/_base/lang dojox/html/entities mojo/utils mojo/app/campaigns ./Slat".split(" "),function(l,k,h,f,a,c,e,m){return l([m],{channelIcon:"c-channelIcon--email",statusContent:{sent:{label:"Sent",badge:"success",description:"Sent \x3cstrong\x3e{sendDate}\x3c/strong\x3e to {sends} recipients",
timewarpDescription:"Sent \x3cstrong\x3e{sendDate}\x3c/strong\x3e.\x3cbr/\x3eCompleted on \x3cstrong\x3e{lastDeliveryDate}.\x3c/strong\x3e",timewarpDescriptionWithoutDelivery:"Sent \x3cstrong\x3e{sendDate}\x3c/strong\x3e.",timewarpDescriptionFuture:"Delivering at \x3cstrong\x3e{sendDate}\x3c/strong\x3e local time.\x3cbr/\x3eSending will complete on \x3cstrong\x3e{lastDeliveryDate}\x3c/strong\x3e"},canceled:{label:"Canceled",badge:"error",description:"Canceled \x3cstrong\x3e{canceledDate}\x3c/strong\x3e"},
save:{label:"Draft",badge:"",description:"Edited \x3cstrong\x3e{lastUpdatedDate}\x3c/strong\x3e by {lastUpdatedBy}"},sending:{label:"Sending",badge:"info",description:"\x3cstrong\x3eSending...\x3c/strong\x3e ({sendPercentage}% complete)"},active:{label:"Sending",badge:"info",description:"Last sent on {rssLastSendDate}\x3cbr/\x3eSends \x3cstrong\x3e{rssScheduleString} at {rssScheduleHour}\x3c/strong\x3e when new posts are added",unsentDescription:"This campaign has not sent yet.\x3cbr/\x3eSends \x3cstrong\x3e{rssScheduleString} at {rssScheduleHour}\x3c/strong\x3e when new posts are added"},
schedule:{label:"Scheduled",badge:"warning",description:"Scheduled for \x3cstrong\x3e{sendDate}\x3c/strong\x3e",timewarpDescription:"Timewarp scheduled for \x3cstrong\x3e{sendDate}\x3c/strong\x3e"},paused:{label:"Paused",badge:"warning",description:"Paused \x3cstrong\x3e{lastUpdatedDate}\x3c/strong\x3e"},disconnected:{label:"Not connected",badge:"warning",description:"Your store is not connected."}},typeContent:{regular:{label:"Regular"},rss:{label:"RSS"},variate:{label:"Multivariate"},absplit:{label:"A/B Test"},
plaintext:{label:"Plain Text"},transactional:{label:"Order Notification"},automation:{label:"Automation"},autoresponder:{label:"Autoresponder"},reconfirm:{label:"Reconfirmation"},inspection:{label:"Inspection"}},statsOrder:["opens","clicks","revenue"],statsContent:{subscribers:{label:"Subscribers"},opens:{label:"Opens"},clicks:{label:"Clicks"},revenue:{label:"Revenue"}},actions:{edit:{label:"Edit"},view:{label:"View email"},replicate:{label:"Replicate"},social:{label:"Social Share"},sent:{label:"Sent Campaigns"},
comments:{label:"New Comments"},pause:{label:"Pause"},conversations:{label:"New Conversations"},report:{label:"View Report"},pauseandedit:{label:"Pause and Edit",onClick:function(){e.showPauseModal(this.model.campaignId,a.encode(this.model.title),this.model.type)}},rename:{label:"Rename",onClick:function(){e.showRenameModal(this.model.uniqueId,a.encode(this.model.title))}},unpause:{label:"Unpause"},replicatetoautomation:{label:"Replicate to Automation"},resolve:{label:"Resolve"}},_buildTypeName:function(){var a=
this.model.type;switch(a){case "transactional":case "rss":var b=this.template_typeIcon.innerHTML;this.node_typeName.innerHTML=this.typeContent[a]?b+this.typeContent[a].label:"";break;default:this.inherited(arguments)}},buildAdditionalMetaData:function(){if(this.statusContent[this.model.status]){var a=this.statusContent[this.model.status].description;this.model.isTimewarp&&"sent"===this.model.status?(a=new Date,a=this.model.lastDeliveryDate?this.model.lastDeliveryDate>a?this.statusContent[this.model.status].timewarpDescriptionFuture:
this.statusContent[this.model.status].timewarpDescription:this.statusContent[this.model.status].timewarpDescriptionWithoutDelivery):this.model.isTimewarp&&this.statusContent[this.model.status].timewarpDescription?a=this.statusContent[this.model.status].timewarpDescription:"active"!==this.model.status||this.model.rssLastSendDate?"sending"===this.model.status&&null===this.model.sendPercentage&&(a=this.statusContent.save.description):a=this.statusContent[this.model.status].unsentDescription;this.node_additionalMetaData.innerHTML=
f.replace(a||"",f.hitch(this,function(a,d){switch(d){case "sends":return this.model.stats&&this.model.stats.subscribers?c.getThousandsString(this.model.stats.subscribers&&this.model.stats.subscribers.value||0):"";case "lastUpdatedDate":case "sendDate":case "canceledDate":case "lastDeliveryDate":case "rssLastSendDate":return this.model[d]?c.getDateString(this.model[d]):"";default:return void 0!==this.model[d]&&null!==this.model[d]?this.model[d]:""}}))}},buildListName:function(){var a=this.model.storeName||
this.model.listName;this.node_listName.appendChild(c.compileTemplate(a?this.template_listName:"",{listName:a+" "+(this.model.hasSegment?"(segment)":"")}))}})})},"mojo/widgets/campaigns/Slat":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/on dojo/_base/lang dojo/date/locale dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/DropDownMenu dijit/MenuItem dijit/form/ComboButton mojo/widgets/Clock mojo/analytics/parts/SelectCheckBox mojo/url mojo/utils mojo/user mojo/lib/flags mojo/api/outreach dojo/text!./templates/Slat.html dojo/text!./templates/SlatCondensed.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z){return l([m,d,b],{templateString:A,id:0,title:"",status:"",listName:"",type:"",channelIcon:"",stats:{},actions:{},statusContent:{},typeContent:{},statsOrder:[],statsContent:{},constructor:function(a){this.model=a.model;this.title=this.model.title;this.mode=a.mode},_buildActionDropDown:function(){var a=this.model.availableActions;if(a&&0<a.length){var b;1<a.length&&(b=new n({"class":"mc-dropdown"}),a.forEach(c.hitch(this,function(a){var c=a.label;
if(a&&!a.is_primary){var d=new p({label:this._generateLinkHTML(this.actions[c].label,a.href)});!a.href&&this.actions[c].onClick&&(d.onClick=this.actions[c].onClick.bind(this));b.addChild(d)}})));if(a=this._getPrimaryAction(a)){var d=new q({label:this._generateLinkHTML(this.actions[a.label].label,a.href),dropDown:b});!a.href&&this.actions[a.label].onClick&&(d.onClick=this.actions[a.label].onClick.bind(this));h.add(d.domNode,"c-slatButton button-small");h.toggle(d.domNode,"c-campaignManager_slat_actions_single",
!b);d.placeAt(this.node_actions,"replace")}}},_buildTypeName:function(){var a=this.model.type;this.node_typeName.innerHTML=this.typeContent[a]?this.typeContent[a].label:""},_buildStatusBadge:function(){var a=this.statusContent[this.model.status];a&&(this.node_badge.innerHTML=a.label,h.add(this.node_badge,a.badge))},_buildStats:function(){var a=this.model.stats;a&&this.statsOrder.forEach(c.hitch(this,function(b){var d=a[b],e=d?Object.keys(d):[],f=this.statsContent[b]?this.statsContent[b].label:"",
h=w.compileTemplate(this.template_statWrapper,{});e.forEach(c.hitch(this,function(a){var b="percent"===a;a=d[a];b=w.compileTemplate(this.template_statDetails,{type:1<e.length?"c-campaignManager_slat_stat_"+(b?"primary":"secondary"):"",value:(Number(a)?w.numberFormat(a,b?1:0,".",","):a)+(b?"%":""),name:f});h.appendChild(b)}));this.node_stats.appendChild(h)}))},_buildCheckbox:function(){(new t({value:this.model.uniqueId})).placeAt(this.node_selectCheckBox,"replace")},_buildTitleAction:function(){var b=
this.node_titleLink,c=this._getPrimaryAction(this.model.availableActions);this.model.titleLink?f.set(b,"href",this.model.titleLink):c&&(c.href?f.set(b,"href",c.href):a(b,"click",this.actions[c.label].onClick.bind(this)))},_buildComplianceMessage:function(){this.model.shouldShowComplianceMessage&&this.node_complianceMessage.appendChild(w.compileTemplate(this.template_complianceMessage,{message:"There is a compliance issue with this campaign."}))},_buildSendingErrorMessage:function(){this.model.shouldShowSendErrorMessage&&
this.node_sendErrorMessage.appendChild(w.compileTemplate(this.template_sendErrorMessage,{message:"We were unable to send this campaign."}))},buildAdditionalMetaData:function(){},buildChannelIcon:function(){h.add(this.node_channelIcon,this.channelIcon)},buildListName:function(){},_generateLinkHTML:function(a,b){var c=k.create("a",{innerHTML:a});b&&f.set(c,"href",b);return c.outerHTML},_getPrimaryAction:function(a){return a.filter(function(a){return a.is_primary})[0]},postMixInProperties:function(){"condensed"===
this.mode&&(this.templateString=z)},postCreate:function(){"condensed"===this.mode?(this._buildTitleAction(),this._buildTypeName(),this._buildStats()):(this._buildCheckbox(),this._buildStatusBadge(),this._buildActionDropDown(),this._buildTitleAction(),this._buildTypeName(),this._buildStats(),this._buildComplianceMessage(),this._buildSendingErrorMessage(),this.buildChannelIcon());this.buildAdditionalMetaData();this.buildListName()}})})},"mojo/analytics/parts/SelectCheckBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/query dijit/registry dijit/form/CheckBox".split(" "),
function(l,k,h,f,a,c){var e=null;return l([c],{baseClass:"dijitCheckBox selectCheckBox",postCreate:function(){this.inherited(arguments);h.after(this,"onClick",k.hitch(this,function(c){if(c.shiftKey&&null!=e){c=f(".selectCheckBox");var d=this.domNode,b=null,h=null;if(c.some(function(a,c){if(a==d||e==a)null==b?b=c:h=c;return null!=b&&null!=h}))for(var k=b;k<=h;k++){var l=a.byNode(c[k]);l.disabled||l.set("value",this.get("value"))}}e=this.domNode}),!0)}})})},"mojo/widgets/campaigns/AdSlat":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/_base/lang dojox/html/entities mojo/utils mojo/app/placards mojo/app/campaigns dijit/registry ./Slat".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([b],{channelIcon:"c-channelIcon--ad",statusContent:{scheduled:{label:"Scheduled",badge:"warning",description:"Scheduled to post on \x3cstrong\x3e{startDate}\x3c/strong\x3e"},paused:{label:"Paused",badge:"warning",description:"Paused on \x3cstrong\x3e{pausedAt}\x3c/strong\x3e"},pending:{label:"In Review",badge:"warning",description:"In review since \x3cstrong\x3e{publishedAt}.\x3c/strong\x3e We'll notify you when it's ready."},active:{label:"Published",badge:"info",
description:"Published on {startDate} \x3cstrong\x3e{reach}\x3c/strong\x3e"},rejected:{label:"Rejected",badge:"error",description:"Resolve any issues to resubmit your ad for approval."},completed:{label:"Completed",badge:"success",description:"Completed on {endDate} \x3cstrong\x3e{reach}\x3c/strong\x3e"},canceled:{label:"Canceled",badge:"error",description:"Canceled on \x3cstrong\x3e{canceledDate}\x3c/strong\x3e",byNetworkDescription:"Canceled on \x3cstrong\x3e{canceledDate}\x3c/strong\x3e by {networkName}"},
draft:{label:"Draft",badge:"",description:"Edited on \x3cstrong\x3e{updatedAt}\x3c/strong\x3e"},finalized:{label:"Finalized",badge:"",description:"Finalized on \x3cstrong\x3e{endDate}\x3c/strong\x3e"},partialRejected:{label:"Some Rejected",badge:"warning",description:"Partially published on \x3cstrong\x3e{startDate}\x3c/strong\x3e"},partialPending:{label:"Some In Review",badge:"warning",description:"Partially published on \x3cstrong\x3e{startDate}\x3c/strong\x3e"}},typeContent:{facebook:{label:"Ad Campaign",
networkName:"Facebook"},google:{label:"Google remarketing ad",networkName:"Google"}},statsOrder:["impressions","clicks","revenue"],statsContent:{clicks:{label:"Clicks"},reach:{label:"Reach"},impressions:{label:"Impressions"},revenue:{label:"Revenue"}},actions:{edit:{label:"Edit"},view:{label:"View ad"},report:{label:"View Report"},replicate:{label:"Replicate"},rename:{label:"Rename",onClick:function(){m.showRenameModal(this.model.uniqueId,a.encode(this.model.title))}},pause:{label:"Pause",onClick:function(){e.pauseAd(this.model.uniqueId,
this.model.type).then(function(){d.byId("campaigns-list").render()})}},unpause:{label:"Unpause",onClick:function(){e.unpauseAd(this.model.uniqueId,this.model.type).then(function(){d.byId("campaigns-list").render()})}},cancel:{label:"End",onClick:function(){e.confirmCancel(this.model.uniqueId,this.model.type).then(function(){d.byId("campaigns-list").render()})}}},_buildTypeName:function(){this.node_typeName.innerHTML=this.model.typeLabel},buildAdditionalMetaData:function(){if(this.statusContent[this.model.status]){var a=
this.statusContent[this.model.status].description;this.model.wasCanceledByNetwork&&(a=this.statusContent[this.model.status].byNetworkDescription);this.node_additionalMetaData.innerHTML=f.replace(a||"",f.hitch(this,function(a,b){switch(b){case "lastUpdatedDate":case "pausedAt":case "startDate":case "endDate":case "publishedAt":case "updatedAt":case "canceledDate":return this.model[b]?c.getDateString(this.model[b]):"";case "networkName":return this.typeContent[this.model.type].networkName;case "reach":return this.model.stats&&
this.model.stats.reach?"\x26middot; "+c.getThousandsString(this.model.stats.reach&&this.model.stats.reach.value||0)+" reached":"";default:return this.model[b]||""}}))}},buildListName:function(){this.node_listName.appendChild(c.compileTemplate(this.model.audience?this.template_listName:"",{listName:this.model.audience+" "+(this.model.hasSegment?"(segment)":"")}))}})})},"mojo/app/placards":function(){define("dojo/dom dojo/dom-attr dojo/query dojo/dom-form dojo/request dijit/Dialog dojo/Deferred mojo/url mojo/utils".split(" "),
function(l,k,h,f,a,c,e,m,d){var b=function(a){h(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return{confirmUnpublishPage:function(l,p){var q=new e,r=new c({title:"Are you sure?",onHide:function(){r.destroyRecursive()},onDownloadEnd:function(){b(r);h("form",r.domNode).on("submit",function(b){b.stopPropagation();b.preventDefault();a.post(k.get(this,"action"),{data:f.toObject(this),handleAs:"json"}).then(function(a){r.hide();switch(a.status){case "success":q.resolve(a);
d.toast('"'+p+'" was successfully unpublished');break;case "error":q.reject(a);break;default:q.reject("Unknown status `"+a.status+"`. "+(a.error_msg||""))}},function(){r.hide();q.reject()})})}});r.setHref(m.toUrl("landing-pages/confirm-unpublish-page",{id:l}));r.show();return q},confirmCancel:function(d){var l=new e,q=new c({title:"End your campaign?",onHide:function(){q.destroyRecursive()},onDownloadEnd:function(){b(q);h("form",q.domNode).on("submit",function(b){b.stopPropagation();b.preventDefault();
a.post(k.get(this,"action"),{data:f.toObject(this),handleAs:"json"}).then(function(a){q.hide();switch(a.status){case "success":l.resolve(a);break;case "error":l.reject(a);break;default:l.reject("Unknown status `"+a.status+"`. "+(a.error_msg||""))}},function(){q.hide();l.reject()})})}});q.setHref(m.toUrl("ads/confirm-cancel",{id:d}));q.show();return l},confirmExtension:function(d,l,q){var r=new e,t=new c({title:"Are you sure?",onHide:function(){t.destroyRecursive()},onDownloadEnd:function(){b(t);h("form",
t.domNode).on("submit",function(b){b.stopPropagation();b.preventDefault();a.post(k.get(this,"action"),{data:f.toObject(this),handleAs:"json"}).then(function(a){t.hide();switch(a.status){case "success":r.resolve(a);break;case "error":r.reject(a);break;default:r.reject("Unknown status `"+a.status+"`. "+(a.error_msg||""))}},function(){t.hide();r.reject()})})}});t.setHref(m.toUrl("ads/confirm-budget-extension",{id:d,budget:l,end_time:q}));t.show();return r},confirmDeleteAd:function(d,l){var q=new e,r=
new c({title:"Delete this ad?",onHide:function(){r.destroyRecursive()},onDownloadEnd:function(){b(r);h("form",r.domNode).on("submit",function(b){b.stopPropagation();b.preventDefault();a.post(k.get(this,"action"),{data:f.toObject(this),handleAs:"json"}).then(function(a){r.hide();switch(a.status){case "success":q.resolve(a);break;case "error":q.reject(a);break;default:q.reject("Unknown status `"+a.status+"`. "+(a.error_msg||""))}},function(){r.hide();q.reject()})})}});r.setHref(m.toUrl("ads/google/confirm-delete-ad",
{id:d,index:l}));r.show();return q},pauseAd:function(b){var c=new e;a.post(m.toUrl("/ads/pause",{id:b}),{handleAs:"json"}).then(function(a){switch(a.status){case "success":c.resolve(a);break;case "error":c.reject(a);break;default:c.reject("Unknown status "+a.status)}});return c},unpauseAd:function(b){var c=new e;a.post(m.toUrl("/ads/unpause",{id:b}),{handleAs:"json"}).then(function(a){switch(a.status){case "success":c.resolve(a);break;case "error":c.reject(a);break;default:c.reject("Unknown status "+
a.status)}});return c}}})},"mojo/widgets/campaigns/AutomationSlat":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on mojo/views/automations/index mojo/utils mojo/url ./Slat".split(" "),function(l,k,h,f,a,c,e,m){return l([m],{channelIcon:"c-channelIcon--email",statusContent:{sending:{label:"Sending",badge:"info",description:"Sending since \x3cstrong\x3e{startDate}\x3c/strong\x3e"},somepaused:{label:"Some Paused",badge:"warning",description:"{totalEmailsCount} emails, {pausedEmailsCount} paused on \x3cstrong\x3e{lastUpdatedDate}\x3c/strong\x3e"},
save:{label:"Draft",badge:"",description:"Edited on \x3cstrong\x3e{lastUpdatedDate}\x3c/strong\x3e by {lastUpdatedBy}"},draft:{label:"Draft",badge:"",description:"Edited on \x3cstrong\x3e{lastUpdatedDate}\x3c/strong\x3e by {lastUpdatedBy}"},active:{label:"Active",badge:"info",description:"Active since \x3cstrong\x3e{startDate}\x3c/strong\x3e"},paused:{label:"Paused",badge:"warning",description:"Paused on \x3cstrong\x3e{lastUpdatedDate}\x3c/strong\x3e"}},typeContent:{automation:{label:"Automation"}},
statsOrder:["opens","clicks","revenue"],statsContent:{opens:{label:"Opens"},clicks:{label:"Clicks"},revenue:{label:"Revenue"}},actions:{replicate:{label:"Replicate",onClick:function(){(new a).showReplicationModal(this.model.automationId)}},report:{label:"View Report"},edit:{label:"Edit"},pause:{label:"Pause"},view:{label:"View"},unpause:{label:"Unpause"},replicatetoautomation:{label:"Replicate to Automation"},resolve:{label:"Resolve"}},_buildTypeName:function(){this.typeContent[this.model.type]&&
!this.model.autoresponderId&&(this.node_typeName.innerHTML=this.template_typeIcon.innerHTML+this.model.workflowType||this.typeContent[this.model.type].label)},buildListName:function(){this.model.autoresponderId||this.node_listName.appendChild(c.compileTemplate(this.model.listName?this.template_listName:"",{listName:this.model.listName+" "+(this.model.hasSegment?"(segment)":"")}))},buildAdditionalMetaData:function(){if(this.statusContent[this.model.status]){var a=this.statusContent[this.model.status].description,
b=this.template_typeIcon.innerHTML,m="draft"===this.model.status||"save"===this.model.status;this.model.autoresponderId&&(a=m?b+"This automation is incomplete.":b+"{autoresponderTriggerString}");this.node_additionalMetaData.innerHTML=k.replace(a||"",k.hitch(this,function(a,b){switch(b){case "lastUpdatedDate":case "startDate":return this.model[b]?c.getDateString(this.model[b]):"";default:return this.model[b]||""}}));this.model.autoresponderId&&(m?a=h.toDom("\x3ca href\x3d'"+e.toUrl("/campaigns/show?id\x3d"+
this.model.autoresponderId)+"'\x3eFinish setup\x3c/a\x3e"):(a=h.toDom("\x3ca href\x3d'#0'\x3eWho will get this next?\x3c/a\x3e"),f(a,"click",k.hitch(this,function(a){a.preventDefault();a=e.toUrl("/autoresponders/queue-popup?id\x3d"+this.model.autoresponderId);a=window.open(a,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");c.checkPopupWin(a)}))),h.place(h.toDom("\x3cbr /\x3e"),this.node_additionalMetaData),h.place(a,this.node_additionalMetaData))}}})})},
"mojo/views/automations/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/topic dojo/dom-class dojo/dom-attr mojo/url dijit/Dialog".split(" "),function(l,k,h,f,a,c,e,m,d){return l([k],{onReady:function(){f(h("[data-mc-automations-add-workflow]"),"click",function(a){a=e.get(this,"data-mc-automations-add-workflow");var b=new d({title:"Add Automation",href:m.toUrl("/automations/add-automation-modal?workflow\x3d"+a),onDownloadEnd:function(){h(".cancel",b.domNode).on("click",
function(a){a.stopPropagation();a.preventDefault();b.hide()})},onHide:function(){b.destroyRecursive()}});b.show()});var b=h("[data-mc-automations\x3d'recommended-block']")[0],k=a.subscribe("mojo/analytics/campaigns-list/ready",function(){c.remove(b,"hide");k.remove()})},showReplicationModal:function(a){var c=new d({title:"Replicate Automation",href:m.toUrl("/automations/replicate-automation-modal",{id:a}),onDownloadEnd:function(){h(".cancel",c.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();
c.hide()})},onHide:function(){c.destroyRecursive()}});c.show()}})})},"mojo/widgets/campaigns/PageSlat":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/_base/lang dojox/html/entities dijit/registry mojo/utils mojo/lib/clipboard mojo/app/placards mojo/app/campaigns mojo/widgets/checklist-editor/PagePublish ./Slat mojo/url mojo/user mojo/lib/flags mojo/widgets/FeedbackBlock".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([p],{channelIcon:"c-channelIcon--page",statusContent:{published:{label:"Published",
badge:"success",landing_page_url:"\x3ca title\x3d{pageUrl} href\x3d{pageUrl}\x3e{pageUrl}\x3c/a\x3e",description:"Edited \x3cstrong\x3e{lastUpdatedDate}\x3c/strong\x3e by {lastUpdatedBy}"},unpublished:{label:"Unpublished",badge:"",description:"Edited \x3cstrong\x3e{lastUpdatedDate}\x3c/strong\x3e by {lastUpdatedBy}"},draft:{label:"Draft",badge:"",description:"Edited \x3cstrong\x3e{lastUpdatedDate}\x3c/strong\x3e by {lastUpdatedBy}"}},actions:{edit:{label:"Edit"},view:{label:"View landing page"},replicate:{label:"Replicate"},
rename:{label:"Rename",onClick:function(){b.showRenameModal(this.model.uniqueId,a.encode(this.model.title))}},publish:{label:"Publish",onClick:function(a){a.preventDefault();document.location.href=q.toUrl("/landing-pages/publish",{id:this.model.pageId})}},unpublish:{label:"Unpublish",onClick:function(){var a=this;d.confirmUnpublishPage(this.model.pageId,this.model.title).then(function(){c.byId("campaigns-list").render()},function(){e.toast('Unable to unpublish "'+a.model.title+'". Please try again in a few minutes.',
"error")})}},report:{label:"View Report"},copy_url:{label:"Copy URL",onClick:function(){this.copyUrl()}}},_constructStats:function(){var a=["visits","clicks"],b={visits:{label:"Visits"},clicks:{label:"Clicks"}};this.model.hasStore&&(a=a.concat("revenue"),b.revenue={label:"Revenue"});this.model.hasSignUpForm&&(a=a.concat("signups"),b.signups={label:"Subscribes"});this.statsOrder=a;this.statsContent=b},postCreate:function(){this._constructStats();this.inherited(arguments);this.addUnpublishedEditsFeedback()},
_buildTypeName:function(){this.node_typeName.innerHTML=this.model.typeLabel},buildAdditionalMetaData:function(){if(this.statusContent[this.model.status]){var a=this.statusContent[this.model.status].description;this.node_additionalMetaData_url.innerHTML=f.replace(this.statusContent[this.model.status].landing_page_url||"",{pageUrl:this.model.pageUrl});this.node_additionalMetaData.innerHTML=f.replace(a||"",f.hitch(this,function(a,b){switch(b){case "lastUpdatedDate":case "pausedAt":case "startDate":case "endDate":case "publishedAt":case "updatedAt":case "canceledDate":return this.model[b]?
e.getDateString(this.model[b]):"";default:return this.model[b]||""}}))}},buildListName:function(){var a;this.model.hasStore&&this.model.storeName?a="Store: "+this.model.storeName:this.model.listName&&(a="List: "+this.model.listName);this.node_listName.appendChild(e.compileTemplate(a?this.template_listName:"",{listName:a+" "+(this.model.hasSegment?"(segment)":"")}))},copyUrl:function(){m.copy(this.model.pageUrl);e.toast('The "'+this.model.title+'" URL was was copied to your clipboard. Go forth and share!')},
addUnpublishedEditsFeedback:function(){if(this.model.hasUpdatesWhilePublished){var a=new u({message:"You've made changes that have not been published. "+this._generateLinkHTML("Keep editing and publish",this.model.editUrl),type:"warning"});k.remove(a.domNode,"section");a.placeAt(this.node_additionalMetaData,"after")}}})})},"mojo/widgets/checklist-editor/PagePublish":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style mojo/widgets/Renderable dojo/text!./templates/_publish.html dijit/registry mojo/freddieanim mojo/url".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([a],{templateString:c,campaignId:null,constructor:function(a){this.state={model:a.model};this.pageId=a.model.pageId},postCreate:function(){this.setupFreddieSend()},showSendNowDialog:function(){e.byId(this.publishModal.id).show()},setupFreddieSend:function(){this.freddieSend=new m.FreddieSend("freddie-send","confirm-send-button")},sendConfirmed:function(){e.byId(this.publishModal.id).set("title","Publishing...");e.byId(this.publishModal.id).set("closable",!1);f.set(this.confirmSendPre,
"display","none");f.set(this.confirmSendAction,"display","none");f.set(this.confirmSendPost,"display","block");document.location.href=d.toUrl("/landing-pages/publish",{id:this.pageId})}})})},"mojo/freddieanim":function(){define("dojo/_base/declare dojo/dom dojo/query dojo/dom-class dojo/_base/array dojo/on vendor/snap/snap.svg dojo/NodeList-dom".split(" "),function(l,k,h,f,a,c,e){var m={},d={},b={};k={};k.FreddieSend=l([],{constructor:function(a,b){this.elId=a;this.btnClass=b;this.s=e("#"+this.elId);
this.freddieButton={};this.bgCircle={};this.svgDOM=this.actionBtn=null;this.bgCircle.mask=this.s.circle(150,150,125);this.bgCircle.mask.attr({fill:"#FFFFFF",stroke:"#000000",strokeWidth:0});h("."+this.btnClass)&&(this.actionBtn=h("."+this.btnClass));e.load("/images/svg-freddie/freddie-send/send-it.svg",this.onLoaded);m=this},onLoaded:function(a){m.svgDOM=a;m.freddieButton.button=m.svgDOM.select("#button");m.freddieButton.hand=m.svgDOM.select("#hand-normal");m.freddieButton.handClicked=m.svgDOM.select("#hand-clicked");
m.bgCircle.circle=m.svgDOM.select("#bg-circle");m.freddieButton.handClicked.attr({"class":"hide"});m.s.group(m.bgCircle.circle,m.freddieButton.button,m.freddieButton.hand,m.freddieButton.handClicked).attr({mask:m.bgCircle.mask});m.freddieButton.hand.attr({"class":"shakeAndPoint"});m.freddieButton.surface=m.freddieButton.button.select("#button-surface");m.freddieButton.buttonbody=m.freddieButton.button.select("#button-body");m.freddieButton.bang=m.freddieButton.button.select("#bang");m.setUpEvents();
m.s.add(m.svgDOM);setTimeout(function(){m.generateSweat(5,5E3)},2E3)},Drop:function(a){var b=60*Math.random()+100,c=55*Math.random()+45,d=40*Math.random()+160,e={};e.posX=b;e.posY=c;e.size=0;e.stroke="#5B3E45";e.fill="#D6EDEE";e.strokeWidth="2";e.delay=a;e.s=m.s;var f=e.s.paper.path("M11.5,13.3c0,2.5-1.5,3.5-4,3.5s-4-1-4-3.5s4-10.2,4-10.2S11.5,10.8,11.5,13.3z");f.attr({stroke:e.stroke,fill:"#93CBC3",opacity:0,strokeWidth:2.0604,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10});f.transform(String("t"+
e.posX+","+e.posY+"s0.6,0.6"));f.attr({"class":"sweat"});e.slide=function(){setTimeout(function(){f.animate({opacity:1},500,mina.easeout,function(){f.animate({transform:String("t"+b+","+d)},1E3,mina.easeout,function(){f.animate({opacity:0},250,mina.easein,function(){f.remove()})})})},a)};return e},generateSweat:function(a,b){for(var c=0;c<a;c++)(new m.Drop(Math.random()*(b-500)+500)).slide()},setUpEvents:function(){var a=m.actionBtn.on("mouseover",function(){"clicked"!==m.s.attr("class")&&m.generateSweat(5,
8E3);m.freddieButton.surface.animate({fill:"#E85D41"},333,mina.easein);m.freddieButton.buttonbody.animate({fill:"#E85D41"},333,mina.easein)}),b=m.actionBtn.on("mouseout",function(){m.freddieButton.surface.animate({fill:"#CC3B23"},333,mina.easein);m.freddieButton.buttonbody.animate({fill:"#CC3B23"},333,mina.easein)}),c=m.actionBtn.on("click",function(){m.s.attr({"class":"clicked"});m.freddieButton.hand.attr({"class":""});m.s.selectAll("path.sweat").remove();a.remove();b.remove();c.remove();m.freddieButton.hand.animate({transform:"t0,25"},
300,mina.easeout,function(){m.freddieButton.hand.attr({"class":"hide"});m.freddieButton.handClicked.attr({"class":""});m.freddieButton.surface.animate({cy:186.1},300,mina.easeout,function(){});m.freddieButton.bang.animate({transform:"t0,5"},300,mina.easeout,function(){});m.freddieButton.surface.attr({fill:"#E85D41"});m.freddieButton.buttonbody.attr({fill:"#E85D41"})})})}});k.HighFive=l([],{constructor:function(a){this.elId=a;this.s=e("#"+this.elId);this.bgCircle={};this.svgDOM=null;this.svgs={};this.timesClicked=
0;this.bgCircle.mask=this.s.circle(200,200,200);this.bgCircle.mask.attr({fill:"#FFFFFF",stroke:"#000000",strokeWidth:0});this.bgCircle.bg=this.s.circle(200,200,200);this.bgCircle.bg.attr({fill:"#97D2C4"});e.load("/images/svg-freddie/high-five/high-five-all.svg",this.loadAndInit);d=this},loadAndInit:function(a){d.svgDOM=a;d.svgs._01=d.svgDOM.select("#high-five-01");d.svgs._02=d.svgDOM.select("#high-five-02");d.svgs._03=d.svgDOM.select("#high-five-03");d.svgs._03.palm=d.svgDOM.select("#palm");d.svgs._03.fingerprintsGrp=
d.svgDOM.select("#fingerprints");d.svgs._03.fingerprints=d.svgDOM.selectAll("#fingerprints \x3e *");d.s.group(d.bgCircle.bg,d.svgs._01,d.svgs._02,d.svgs._03).attr({mask:d.bgCircle.mask});d.s.add(d.svgDOM);d.svgs._01.initStr="s0.6r-30t-100,280";d.svgs._01.transform(d.svgs._01.initStr);d.svgs._02.initStr="t-50,25";d.svgs._02.attr({opacity:0});d.svgs._02.transform(d.svgs._02.initStr);d.svgs._03.initStr="t-50,30";d.svgs._03.attr({opacity:0});d.svgs._03.transform(d.svgs._03.initStr);h("#fingertips \x3e ellipse").addClass("fingertip");
d.setUpEvents();d.animate01()},animate01:function(){f.remove("content","relative");setTimeout(function(){d.svgs._01.animate({transform:"t-50,60"},400,mina.backout,function(){setTimeout(function(){d.svgs._01.animate({opacity:0},30,mina.linear,function(){d.svgs._01.attr({display:"none"});d.animate02()})},100)})},500)},animate02:function(){d.svgs._02.animate({opacity:1},10,mina.linear,function(){d.svgs._02.animate({opacity:0},30,mina.linear,function(){d.svgs._02.attr({display:"none"})})});d.animate03()},
animate03:function(){d.svgs._03.animate({opacity:1},30,mina.linear,function(){d.bgCircle.bg.animate({fill:"#FFFFFF"},10,mina.linear,function(){d.bgCircle.bg.animate({fill:"#97D2C4"},10)});d.svgs._03.animate({transform:"s1.05t-50,0"},600,mina.elastic,function(){d.svgs._03.animate({transform:"t-50,5"},1E3,mina.elastic);d.svgs._03.fingerprintsGrp.animate({opacity:0},500)})})},setUpEvents:function(){h("#"+d.elId).on("click",function(){d.s.attr("class")||d.s.attr({"class":"clicked"});5>d.timesClicked?
(d.resetHighFive(),d.animate01(),d.makeRed()):window.open("http://mailchimp.com/fast-fives/","_blank")})},resetHighFive:function(){d.svgs._01.attr({display:"block"});d.svgs._01.transform(d.svgs._01.initStr);d.svgs._01.attr({opacity:1});d.svgs._02.attr({display:"block"});d.svgs._02.transform(d.svgs._02.initStr);d.svgs._03.attr({opacity:0});d.svgs._03.fingerprintsGrp.attr({opacity:1});d.svgs._03.fingerprintsGrp.inAnim()[0]&&d.svgs._03.fingerprintsGrp.inAnim()[0].stop();d.svgs._03.transform(d.svgs._03.initStr)},
makeRed:function(){var b=["#CCB59E","#D8B5A3","#E6B6A7","#F3B7AC","#D3978C"];d.svgs._03.palm.animate({fill:["#C3B49B","#CCB59E","#D8B5A3","#E6B6A7","#F3B7AC"][d.timesClicked]},600,mina.easein);a.forEach(d.svgs._03.fingerprints,function(a,c){a.animate({fill:b[d.timesClicked]},600,mina.easein)});d.timesClicked++}});k.RockOn=l([],{constructor:function(a){this.elId=a;this.s=e("#"+this.elId);this.bgCircle={};this.svgDOM=null;this.svgs={};this.bgCircle.mask=this.s.circle(200,200,200);this.bgCircle.mask.attr({fill:"#FFFFFF",
stroke:"#000000",strokeWidth:0});this.bgCircle.bg=this.s.circle(200,200,200);this.bgCircle.bg.attr({fill:"#52BAD5"});e.load("/images/svg-freddie/rock-on/rock-on-freddie.svg",this.loadAndInit);b=this},loadAndInit:function(a){b.svgDOM=a;b.svgs.all=b.svgDOM.select("#all");b.svgs.benthorns=b.svgDOM.select("#bent-horns");b.svgs.straighthorns=b.svgDOM.select("#straight-horns");b.s.group(b.bgCircle.bg,b.svgs.all).attr({mask:b.bgCircle.mask});b.s.add(b.svgDOM);b.svgs.all.initStr="s0.6r20,200,350t300,200";
b.svgs.all.transform(b.svgs.all.initStr);b.svgs.straighthorns.attr({opacity:0});b.startRocking()},startRocking:function(){f.remove("content","relative");setTimeout(function(){b.svgs.all.animate({transform:"s1.1r-5,200,350"},500,mina.easeinout,function(){b.svgs.straighthorns.animate({opacity:1},20,mina.linear,function(){b.svgs.benthorns.animate({opacity:0},10,mina.linear,function(){});b.svgs.all.animate({transform:"s1r0,200,350"},300,mina.backout,function(){b.svgs.all.attr({"class":"rockingHover"})})})})},
750)}});return k})},"vendor/snap/snap.svg":function(){(function(l){var k=/[\.\/]/,h=function(){},f=function(a,b){return a-b},a,c,e={n:{}},m=function(d,b){d=String(d);var e=c,h=Array.prototype.slice.call(arguments,2),k=m.listeners(d),l=0,t,u=[],w={},v=[],y=a;a=d;for(var x=c=0,A=k.length;x<A;x++)"zIndex"in k[x]&&(u.push(k[x].zIndex),0>k[x].zIndex&&(w[k[x].zIndex]=k[x]));for(u.sort(f);0>u[l];)if(t=w[u[l++]],v.push(t.apply(b,h)),c)return c=e,v;for(x=0;x<A;x++)if(t=k[x],"zIndex"in t)if(t.zIndex==u[l]){v.push(t.apply(b,
h));if(c)break;do if(l++,(t=w[u[l]])&&v.push(t.apply(b,h)),c)break;while(t)}else w[t.zIndex]=t;else if(v.push(t.apply(b,h)),c)break;c=e;a=y;return v.length?v:null};m._events=e;m.listeners=function(a){a=a.split(k);var b=e,c,f,h,m,l,u,w,v=[b],y=[];h=0;for(m=a.length;h<m;h++){w=[];l=0;for(u=v.length;l<u;l++)for(b=v[l].n,c=[b[a[h]],b["*"]],f=2;f--;)if(b=c[f])w.push(b),y=y.concat(b.f||[]);v=w}return y};m.on=function(a,b){a=String(a);if("function"!=typeof b)return function(){};for(var c=a.split(k),f=e,
m=0,l=c.length;m<l;m++)f=f.n,f=f.hasOwnProperty(c[m])&&f[c[m]]||(f[c[m]]={n:{}});f.f=f.f||[];m=0;for(l=f.f.length;m<l;m++)if(f.f[m]==b)return h;f.f.push(b);return function(a){+a==+a&&(b.zIndex=+a)}};m.f=function(a){var b=[].slice.call(arguments,1);return function(){m.apply(null,[a,null].concat(b).concat([].slice.call(arguments,0)))}};m.stop=function(){c=1};m.nt=function(c){return c?(new RegExp("(?:\\.|\\/|^)"+c+"(?:\\.|\\/|$)")).test(a):a};m.nts=function(){return a.split(k)};m.off=m.unbind=function(a,
b){if(a){var c=a.split(k),f,h,l,t,u,w,v=[e];t=0;for(u=c.length;t<u;t++)for(w=0;w<v.length;w+=l.length-2){l=[w,1];f=v[w].n;if("*"!=c[t])f[c[t]]&&l.push(f[c[t]]);else for(h in f)f.hasOwnProperty(h)&&l.push(f[h]);v.splice.apply(v,l)}t=0;for(u=v.length;t<u;t++)for(f=v[t];f.n;){if(b){if(f.f){w=0;for(c=f.f.length;w<c;w++)if(f.f[w]==b){f.f.splice(w,1);break}!f.f.length&&delete f.f}for(h in f.n)if(f.n.hasOwnProperty(h)&&f.n[h].f){l=f.n[h].f;w=0;for(c=l.length;w<c;w++)if(l[w]==b){l.splice(w,1);break}!l.length&&
delete f.n[h].f}}else for(h in delete f.f,f.n)f.n.hasOwnProperty(h)&&f.n[h].f&&delete f.n[h].f;f=f.n}}else m._events=e={n:{}}};m.once=function(a,b){var c=function(){m.unbind(a,c);return b.apply(this,arguments)};return m.on(a,c)};m.version="0.4.2";m.toString=function(){return"You are running Eve 0.4.2"};l.eve=m;"undefined"!=typeof module&&module.exports?module.exports=m:"undefined"!=typeof define?define("eve",[],function(){return m}):l.eve=m})(this);(function(l,k){"function"===typeof define&&define.amd?
define([],function(){return k(l,l.eve)}):k(l,l.eve)})(this,function(l,k){var h=function(a){var c={},e=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||l.msRequestAnimationFrame||function(a){setTimeout(a,16)},f=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},d=0,b="M"+(+new Date).toString(36),h=function(a){if(null==a)return this.s;var b=this.s-a;this.b+=this.dur*b;this.B+=this.dur*
b;this.s=a},k=function(a){if(null==a)return this.spd;this.spd=a},q=function(a){if(null==a)return this.dur;this.s=this.s*a/this.dur;this.dur=a},r=function(){delete c[this.id];a("mina.stop."+this.id,this)},t=function(){this.pdif||(delete c[this.id],this.pdif=this.get()-this.b)},u=function(){this.pdif&&(this.b=this.get()-this.pdif,delete this.pdif,c[this.id]=this)},w=function(){var b=0,d;for(d in c)if(c.hasOwnProperty(d)){var h=c[d],k=h.get();b++;h.s=(k-h.b)/(h.dur/h.spd);1<=h.s&&(delete c[d],h.s=1,
b--,function(b){setTimeout(function(){a("mina.finish."+b.id,b)})}(h));if(f(h.start))for(var k=[],l=0,n=h.start.length;l<n;l++)k[l]=+h.start[l]+(h.end[l]-h.start[l])*h.easing(h.s);else k=+h.start+(h.end-h.start)*h.easing(h.s);h.set(k)}b&&e(w)},v=function(a,f,m,l,B,C,D){a={id:b+(d++).toString(36),start:a,end:f,b:m,s:0,dur:l-m,spd:1,get:B,set:C,easing:D||v.linear,status:h,speed:k,duration:q,stop:r,pause:t,resume:u};c[a.id]=a;f=0;for(var F in c)if(c.hasOwnProperty(F)&&(f++,2==f))break;1==f&&e(w);return a};
v.time=Date.now||function(){return+new Date};v.getById=function(a){return c[a]||null};v.linear=function(a){return a};v.easeout=function(a){return Math.pow(a,1.7)};v.easein=function(a){return Math.pow(a,.48)};v.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var b=.48-a/1.04,c=Math.sqrt(.1734+b*b);a=c-b;b=-c-b;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1)+Math.pow(Math.abs(b),1/3)*(0>b?-1:1)+.5;return 3*(1-a)*a*a+a*a*a};v.backin=function(a){return 1==a?1:a*a*(2.70158*a-1.70158)};v.backout=function(a){if(0==
a)return 0;--a;return a*a*(2.70158*a+1.70158)+1};v.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1};v.bounce=function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a};return l.mina=v}("undefined"==typeof k?function(){}:k),f=function(){function a(a,b){if(a){if(a.tagName)return D(a);if(a instanceof x)return a;if(null==b)return a=K.doc.querySelector(a),D(a)}return new C(null==
a?"100%":a,null==b?"100%":b)}function c(a,b){if(b){"string"==typeof a&&(a=c(a));if("string"==typeof b)return"xlink:"==b.substring(0,6)?a.getAttributeNS(Ua,b.substring(6)):"xml:"==b.substring(0,4)?a.getAttributeNS(Ca,b.substring(4)):a.getAttribute(b);for(var d in b)if(b[M](d)){var e=H(b[d]);e?"xlink:"==d.substring(0,6)?a.setAttributeNS(Ua,d.substring(6),e):"xml:"==d.substring(0,4)?a.setAttributeNS(Ca,d.substring(4),e):a.setAttribute(d,e):a.removeAttribute(d)}}else a=K.doc.createElementNS(Ca,a);return a}
function e(a,b){b=H.prototype.toLowerCase.call(b);return"finite"==b?isFinite(a):"array"==b&&(a instanceof Array||Array.isArray&&Array.isArray(a))?!0:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||W.call(a).slice(8,-1).toLowerCase()==b}function f(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor,c;for(c in a)a[M](c)&&(b[c]=f(a[c]));return b}function d(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("\u2400"),h=d.cache=d.cache||
{},m=d.count=d.count||[];if(h[M](f)){a:for(var e=m,m=f,k=0,l=e.length;k<l;k++)if(e[k]===m){e.push(e.splice(k,1)[0]);break a}return c?c(h[f]):h[f]}1E3<=m.length&&delete h[m.shift()];m.push(f);h[f]=a.apply(b,e);return c?c(h[f]):h[f]}return d}function b(a,c,d,e,f,h){return null==f?(a-=d,c-=e,a||c?(180*N.atan2(-c,-a)/O+540)%360:0):b(a,c,f,h)-b(d,e,f,h)}function n(a){return a%360*O/180}function p(a){return 180*a/O%360}function q(a,b,c,d,e,f){null==b&&"[object SVGMatrix]"==W.call(a)?(this.a=a.a,this.b=
a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f):null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}function r(a){var b=[];a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,c,d){d=d.split(/\s*,\s*|\s+/);"rotate"==c&&1==d.length&&d.push(0,0);"scale"==c&&(2==d.length&&d.push(0,0),1==d.length&&d.push(d[0],0,0));"skewX"==c?b.push(["m",1,0,N.tan(n(d[0])),1,0,0]):"skewY"==c?b.push(["m",1,N.tan(n(d[0])),0,1,0,0]):b.push([c.charAt(0)].concat(d));
return a});return b}function t(a,b){var c=tb(a),d=new q;if(c)for(var e=0,f=c.length;e<f;e++){var h=c[e],m=h.length,k=H(h[0]).toLowerCase(),l=h[0]!=k,n=l?d.invert():0,p;"t"==k&&2==m?d.translate(h[1],0):"t"==k&&3==m?l?(m=n.x(0,0),k=n.y(0,0),l=n.x(h[1],h[2]),n=n.y(h[1],h[2]),d.translate(l-m,n-k)):d.translate(h[1],h[2]):"r"==k?2==m?(p=p||b,d.rotate(h[1],p.x+p.width/2,p.y+p.height/2)):4==m&&(l?(l=n.x(h[2],h[3]),n=n.y(h[2],h[3]),d.rotate(h[1],l,n)):d.rotate(h[1],h[2],h[3])):"s"==k?2==m||3==m?(p=p||b,d.scale(h[1],
h[m-1],p.x+p.width/2,p.y+p.height/2)):4==m?l?(l=n.x(h[2],h[3]),n=n.y(h[2],h[3]),d.scale(h[1],h[1],l,n)):d.scale(h[1],h[1],h[2],h[3]):5==m&&(l?(l=n.x(h[3],h[4]),n=n.y(h[3],h[4]),d.scale(h[1],h[2],l,n)):d.scale(h[1],h[2],h[3],h[4])):"m"==k&&7==m&&d.add(h[1],h[2],h[3],h[4],h[5],h[6])}return d}function u(b,c){if(null==c){var d=!0;c="linearGradient"==b.type||"radialGradient"==b.type?b.node.getAttribute("gradientTransform"):"pattern"==b.type?b.node.getAttribute("patternTransform"):b.node.getAttribute("transform");
if(!c)return new q;c=r(c)}else c=a._.rgTransform.test(c)?H(c).replace(/\.{3}|\u2026/g,b._.transform||""):r(c),e(c,"array")&&(c=a.path?a.path.toString.call(c):H(c)),b._.transform=c;var f=t(c,b.getBBox(1));if(d)return f;b.matrix=f}function w(b){var c=a._.someDefs;if(c&&kb(c.ownerDocument.documentElement,c))return c;b=b.node.ownerSVGElement&&D(b.node.ownerSVGElement)||b.node.parentNode&&D(b.node.parentNode)||a.select("svg")||a(0,0);c=b.select("defs");c=null==c?!1:c.node;c||(c=B("defs",b.node).node);
return a._.someDefs=c}function v(a,b,d){function e(a){if(null==a)return"";if(a==+a)return a;c(l,{width:a});return l.getBBox().width}function f(a){if(null==a)return"";if(a==+a)return a;c(l,{height:a});return l.getBBox().height}function h(c,e){null==b?k[c]=e(a.attr(c)):c==b&&(k=e(null==d?a.attr(c):d))}var m=w(a),k={},l=m.querySelector(".svg---mgr");l||(l=c("rect"),c(l,{width:10,height:10,"class":"svg---mgr"}),m.appendChild(l));switch(a.type){case "rect":h("rx",e),h("ry",f);case "image":h("width",e),
h("height",f);case "text":h("x",e);h("y",f);break;case "circle":h("cx",e);h("cy",f);h("r",e);break;case "ellipse":h("cx",e);h("cy",f);h("rx",e);h("ry",f);break;case "line":h("x1",e);h("x2",e);h("y1",f);h("y2",f);break;case "marker":h("refX",e);h("markerWidth",e);h("refY",f);h("markerHeight",f);break;case "radialGradient":h("fx",e);h("fy",f);break;case "tspan":h("dx",e);h("dy",f);break;default:h(b,e)}return k}function y(a){e(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var b=0,c=0,d=
this.node;this[b];)delete this[b++];for(b=0;b<a.length;b++)"set"==a[b].type?a[b].forEach(function(a){d.appendChild(a.node)}):d.appendChild(a[b].node);for(var f=d.childNodes,b=0;b<f.length;b++)this[c++]=D(f[b]);return this}function x(a){if(a.snap in hb)return hb[a.snap];var b=this.id=Aa(),c;try{c=a.ownerSVGElement}catch(d){}this.node=a;c&&(this.paper=new C(c));this.type=a.tagName;this.anims={};this._={transform:[]};a.snap=b;hb[b]=this;if("g"==this.type){this.add=y;for(var e in C.prototype)C.prototype[M](e)&&
(this[e]=C.prototype[e])}}function A(a){for(var b,c=0,d=a.length;c<d;c++)if(b=b||a[c])return b}function z(a){this.node=a}function B(a,b){var d=c(a);b.appendChild(d);d=D(d);d.type=a;return d}function C(a,b){var d,e,f,h=C.prototype;if(a&&"svg"==a.tagName){if(a.snap in hb)return hb[a.snap];d=new x(a);e=a.getElementsByTagName("desc")[0];f=a.getElementsByTagName("defs")[0];e||(e=c("desc"),d.node.appendChild(e));f||(f=c("defs"),d.node.appendChild(f));d.defs=f;for(var m in h)h[M](m)&&(d[m]=h[m]);d.paper=
d.root=d}else d=B("svg",K.doc.body),c(d.node,{height:b,version:1.1,width:a,xmlns:Ca});return d}function D(a){return!a||a instanceof x||a instanceof z?a:"svg"==a.tagName?new C(a):new x(a)}function F(){return this.selectAll("stop")}function G(b,d){var e=c("stop"),f={offset:+d+"%"};b=a.color(b);f["stop-color"]=b.hex;1>b.opacity&&(f["stop-opacity"]=b.opacity);c(e,f);this.node.appendChild(e);return this}function I(){if("linearGradient"==this.type){var b=c(this.node,"x1")||0,d=c(this.node,"x2")||1,e=c(this.node,
"y1")||0,f=c(this.node,"y2")||0;return a._.box(b,e,N.abs(d-b),N.abs(f-e))}b=this.node.r||0;return a._.box((this.node.cx||.5)-b,(this.node.cy||.5)-b,2*b,2*b)}function L(a,b){function d(a,b){for(var c=(b-m)/(a-l),e=l;e<a;e++)h[e].offset=+(+m+c*(e-l)).toFixed(2);l=a;m=b}var e=A(k("snap.util.grad.parse",null,b)),f;if(!e)return null;e.params.unshift(a);f="l"==e.type.toLowerCase()?J.apply(0,e.params):T.apply(0,e.params);e.type!=e.type.toLowerCase()&&c(f.node,{gradientUnits:"userSpaceOnUse"});var h=e.stops,
e=h.length,m=0,l=0;e--;for(var n=0;n<e;n++)"offset"in h[n]&&d(n,h[n].offset);h[e].offset=h[e].offset||100;d(e,h[e].offset);for(n=0;n<=e;n++){var p=h[n];f.addStop(p.color,p.offset)}return f}function J(a,b,d,e,f){a=B("linearGradient",a);a.stops=F;a.addStop=G;a.getBBox=I;null!=b&&c(a.node,{x1:b,y1:d,x2:e,y2:f});return a}function T(a,b,d,e,f,h){a=B("radialGradient",a);a.stops=F;a.addStop=G;a.getBBox=I;null!=b&&c(a.node,{cx:b,cy:d,r:e});null!=f&&null!=h&&c(a.node,{fx:f,fy:h});return a}function V(b){return function(d){k.stop();
d instanceof z&&1==d.node.childNodes.length&&("radialGradient"==d.node.firstChild.tagName||"linearGradient"==d.node.firstChild.tagName||"pattern"==d.node.firstChild.tagName)&&(d=d.node.firstChild,w(this).appendChild(d),d=D(d));if(d instanceof x)if("radialGradient"==d.type||"linearGradient"==d.type||"pattern"==d.type){d.node.id||c(d.node,{id:d.id});var e=sa(d.node.id)}else e=d.attr(b);else e=a.color(d),e.error?(e=L(w(this),d))?(e.node.id||c(e.node,{id:e.id}),e=sa(e.node.id)):e=d:e=H(e);d={};d[b]=e;
c(this.node,d);this.node.style[b]=""}}function P(a){var b=[];a=a.childNodes;for(var c=0,d=a.length;c<d;c++){var e=a[c];3==e.nodeType&&b.push(e.nodeValue);"tspan"==e.tagName&&(1==e.childNodes.length&&3==e.firstChild.nodeType?b.push(e.firstChild.nodeValue):b.push(P(e)))}return b}a.version="0.2.0";a.toString=function(){return"Snap v"+this.version};a._={};var K={win:l,doc:l.document};a._.glob=K;var M="hasOwnProperty",H=String,X=parseFloat,R=parseInt,N=Math,Q=N.max,S=N.min,Y=N.abs,O=N.PI,W=Object.prototype.toString,
da=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,ca=/^url\(#?([^)]+)\)$/,Da=/[,\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]+/,ua=/[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,
eb={hs:1,rg:1},fb=/([a-z])[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,La=/([rstm])[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,
ja=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,ob=0,ta="S"+(+new Date).toString(36),Aa=function(){return ta+(ob++).toString(36)},Ua="http://www.w3.org/1999/xlink",Ca="http://www.w3.org/2000/svg",hb={},sa=a.url=function(a){return"url('#"+a+"')"};a._.$=
c;a._.id=Aa;a.format=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;c.replace(b,function(a,b,c,d,f){b=b||d;e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))});return e=(null==e||e==d?a:e)+""};return function(b,d){return H(b).replace(a,function(a,b){return c(a,b,d)})}}();var Xb=function(){function a(){this.parentNode.removeChild(this)}return function(b,c){var d=K.doc.createElement("img"),e=K.doc.body;d.style.cssText="position:absolute;left:-9999em;top:-9999em";
d.onload=function(){c.call(d);d.onload=d.onerror=null;e.removeChild(d)};d.onerror=a;e.appendChild(d);d.src=b}}();a._.clone=f;a._.cacher=d;a.rad=n;a.deg=p;a.angle=b;a.is=e;a.snapTo=function(a,b,c){c=e(c,"finite")?c:10;if(e(a,"array"))for(var d=a.length;d--;){if(Y(a[d]-b)<=c)return a[d]}else{a=+a;d=b%a;if(d<c)return b-d;if(d>a-c)return b-d+a}return b};(function(a){function b(a){return a[0]*a[0]+a[1]*a[1]}function c(a){var d=N.sqrt(b(a));a[0]&&(a[0]/=d);a[1]&&(a[1]/=d)}a.add=function(a,b,c,d,e,f){var h=
[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];b=[[a,c,e],[b,d,f],[0,0,1]];a&&a instanceof q&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(c=0;3>c;c++){for(d=e=0;3>d;d++)e+=m[a][d]*b[d][c];h[a][c]=e}this.a=h[0][0];this.b=h[1][0];this.c=h[0][1];this.d=h[1][1];this.e=h[0][2];this.f=h[1][2];return this};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new q(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/
a)};a.clone=function(){return new q(this.a,this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,b){return this.add(1,0,0,1,a,b)};a.scale=function(a,b,c,d){null==b&&(b=a);(c||d)&&this.add(1,0,0,1,c,d);this.add(a,0,0,b,0,0);(c||d)&&this.add(1,0,0,1,-c,-d);return this};a.rotate=function(a,b,c){a=n(a);b=b||0;c=c||0;var d=+N.cos(a).toFixed(9);a=+N.sin(a).toFixed(9);this.add(d,a,-a,d,b,c);return this.add(1,0,0,1,-b,-c)};a.x=function(a,b){return a*this.a+b*this.c+this.e};a.y=function(a,b){return a*
this.b+b*this.d+this.f};a.get=function(a){return+this[H.fromCharCode(97+a)].toFixed(4)};a.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var d=[[this.a,this.c],[this.b,this.d]];a.scalex=N.sqrt(b(d[0]));c(d[0]);a.shear=d[0][0]*d[1][0]+d[0][1]*d[1][1];d[1]=[d[1][0]-d[0][0]*a.shear,d[1][1]-d[0][1]*a.shear];a.scaley=
N.sqrt(b(d[1]));c(d[1]);a.shear/=a.scaley;var e=-d[0][1],d=d[1][1];0>d?(a.rotate=p(N.acos(d)),0>e&&(a.rotate=360-a.rotate)):a.rotate=p(N.asin(e));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this.split();return a.isSimple?(a.scalex=+a.scalex.toFixed(4),a.scaley=+a.scaley.toFixed(4),
a.rotate=+a.rotate.toFixed(4),(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(q.prototype);a.Matrix=q;a.getRGB=d(function(b){if(!b||(b=H(b)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Za};if("none"==b)return{r:-1,g:-1,b:-1,hex:"none",toString:Za};!eb[M](b.toLowerCase().substring(0,2))&&
"#"!=b.charAt()&&(b=Ta(b));if(!b)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Za};var c,d,f,h,m;if(b=b.match(da)){b[2]&&(f=R(b[2].substring(5),16),d=R(b[2].substring(3,5),16),c=R(b[2].substring(1,3),16));b[3]&&(f=R((m=b[3].charAt(3))+m,16),d=R((m=b[3].charAt(2))+m,16),c=R((m=b[3].charAt(1))+m,16));b[4]&&(m=b[4].split(ua),c=X(m[0]),"%"==m[0].slice(-1)&&(c*=2.55),d=X(m[1]),"%"==m[1].slice(-1)&&(d*=2.55),f=X(m[2]),"%"==m[2].slice(-1)&&(f*=2.55),"rgba"==b[1].toLowerCase().slice(0,4)&&(h=X(m[3])),
m[3]&&"%"==m[3].slice(-1)&&(h/=100));if(b[5])return m=b[5].split(ua),c=X(m[0]),"%"==m[0].slice(-1)&&(c/=100),d=X(m[1]),"%"==m[1].slice(-1)&&(d/=100),f=X(m[2]),"%"==m[2].slice(-1)&&(f/=100),"deg"!=m[0].slice(-3)&&"\u00b0"!=m[0].slice(-1)||(c/=360),"hsba"==b[1].toLowerCase().slice(0,4)&&(h=X(m[3])),m[3]&&"%"==m[3].slice(-1)&&(h/=100),a.hsb2rgb(c,d,f,h);if(b[6])return m=b[6].split(ua),c=X(m[0]),"%"==m[0].slice(-1)&&(c/=100),d=X(m[1]),"%"==m[1].slice(-1)&&(d/=100),f=X(m[2]),"%"==m[2].slice(-1)&&(f/=100),
"deg"!=m[0].slice(-3)&&"\u00b0"!=m[0].slice(-1)||(c/=360),"hsla"==b[1].toLowerCase().slice(0,4)&&(h=X(m[3])),m[3]&&"%"==m[3].slice(-1)&&(h/=100),a.hsl2rgb(c,d,f,h);c=S(N.round(c),255);d=S(N.round(d),255);f=S(N.round(f),255);h=S(Q(h,0),1);b={r:c,g:d,b:f,toString:Za};b.hex="#"+(16777216|f|d<<8|c<<16).toString(16).slice(1);b.opacity=e(h,"finite")?h:1;return b}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Za}},a);a.hsb=d(function(b,c,d){return a.hsb2rgb(b,c,d).hex});a.hsl=d(function(b,c,d){return a.hsl2rgb(b,
c,d).hex});a.rgb=d(function(a,b,c,d){if(e(d,"finite")){var f=N.round;return"rgba("+[f(a),f(b),f(c),+d.toFixed(2)]+")"}return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)});var Ta=function(a){var b=K.doc.getElementsByTagName("head")[0];Ta=d(function(a){if("red"==a.toLowerCase())return"rgb(255, 0, 0)";b.style.color="rgb(255, 0, 0)";b.style.color=a;a=K.doc.defaultView.getComputedStyle(b,"").getPropertyValue("color");return"rgb(255, 0, 0)"==a?null:a});return Ta(a)},jb=function(){return"hsb("+[this.h,
this.s,this.b]+")"},Dc=function(){return"hsl("+[this.h,this.s,this.l]+")"},Za=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},va=function(b,c,d){null==c&&e(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(d=b.b,c=b.g,b=b.r);null==c&&e(b,string)&&(d=a.getRGB(b),b=d.r,c=d.g,d=d.b);if(1<b||1<c||1<d)b/=255,c/=255,d/=255;return[b,c,d]},gb=function(b,c,d,f){b=N.round(255*b);c=N.round(255*c);d=N.round(255*d);b={r:b,g:c,b:d,opacity:e(f,"finite")?f:1,
hex:a.rgb(b,c,d),toString:Za};e(f,"finite")&&(b.opacity=f);return b};a.color=function(b){var c;e(b,"object")&&"h"in b&&"s"in b&&"b"in b?(c=a.hsb2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.opacity=1,b.hex=c.hex):e(b,"object")&&"h"in b&&"s"in b&&"l"in b?(c=a.hsl2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.opacity=1,b.hex=c.hex):(e(b,"string")&&(b=a.getRGB(b)),e(b,"object")&&"r"in b&&"g"in b&&"b"in b&&!("error"in b)?(c=a.rgb2hsl(b),b.h=c.h,b.s=c.s,b.l=c.l,c=a.rgb2hsb(b),b.v=c.b):(b={hex:"none"},b.r=b.g=b.b=b.h=b.s=b.v=b.l=
-1,b.error=1));b.toString=Za;return b};a.hsb2rgb=function(a,b,c,d){e(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o);var f,h,m;a=360*a%360/60;m=c*b;b=m*(1-Y(a%2-1));c=f=h=c-m;a=~~a;c+=[m,b,0,0,b,m][a];f+=[b,m,m,b,0,0][a];h+=[0,0,b,m,m,b][a];return gb(c,f,h,d)};a.hsl2rgb=function(a,b,c,d){e(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h);if(1<a||1<b||1<c)a/=360,b/=100,c/=100;var f,h,m;a=360*a%360/60;m=2*b*(.5>c?c:1-c);b=m*(1-Y(a%2-1));c=f=h=c-m/2;a=~~a;c+=[m,b,0,0,b,m][a];
f+=[b,m,m,b,0,0][a];h+=[0,0,b,m,m,b][a];return gb(c,f,h,d)};a.rgb2hsb=function(a,b,c){c=va(a,b,c);a=c[0];b=c[1];c=c[2];var d,e;d=Q(a,b,c);e=d-S(a,b,c);a=((0==e?null:d==a?(b-c)/e:d==b?(c-a)/e+2:(a-b)/e+4)+360)%6*60/360;return{h:a,s:0==e?0:e/d,b:d,toString:jb}};a.rgb2hsl=function(a,b,c){c=va(a,b,c);a=c[0];b=c[1];c=c[2];var d,e,f;d=Q(a,b,c);e=S(a,b,c);f=d-e;a=((0==f?null:d==a?(b-c)/f:d==b?(c-a)/f+2:(a-b)/f+4)+360)%6*60/360;d=(d+e)/2;return{h:a,s:0==f?0:.5>d?f/(2*d):f/(2-2*d),l:d,toString:Dc}};a.parsePathString=
function(b){if(!b)return null;var c=a.path(b);if(c.arr)return a.path.clone(c.arr);var d={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},f=[];e(b,"array")&&e(b[0],"array")&&(f=a.path.clone(b));f.length||H(b).replace(fb,function(a,b,c){var e=[];a=b.toLowerCase();c.replace(ja,function(a,b){b&&e.push(+b)});"m"==a&&2<e.length&&(f.push([b].concat(e.splice(0,2))),a="l",b="m"==b?"l":"L");"o"==a&&1==e.length&&f.push([b,e[0]]);if("r"==a)f.push([b].concat(e));else for(;e.length>=d[a]&&(f.push([b].concat(e.splice(0,
d[a]))),d[a]););});f.toString=a.path.toString;c.arr=a.path.clone(f);return f};var tb=a.parseTransformString=function(b){if(!b)return null;var c=[];e(b,"array")&&e(b[0],"array")&&(c=a.path.clone(b));c.length||H(b).replace(La,function(a,b,d){var e=[];b.toLowerCase();d.replace(ja,function(a,b){b&&e.push(+b)});c.push([b].concat(e))});c.toString=a.path.toString;return c};a._.svgTransform2string=r;a._.rgTransform=/^[a-z][\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*-?\.?\d/i;
a._.transform2matrix=t;a._unit2px=v;var kb=K.doc.contains||K.doc.compareDocumentPosition?function(a,b){var c=9==a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a==d||!!(d&&1==d.nodeType&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16))}:function(a,b){if(b)for(;b;)if(b=b.parentNode,b==a)return!0;return!1};a._.getSomeDefs=w;a.select=function(a){return D(K.doc.querySelector(a))};a.selectAll=function(b){b=K.doc.querySelectorAll(b);for(var c=(a.set||Array)(),
d=0;d<b.length;d++)c.push(D(b[d]));return c};(function(b){function d(a){function b(a,d){var e=c(a.node,d);(e=(e=e&&e.match(m))&&e[2])&&"#"==e.charAt()&&(e=e.substring(1))&&(k[e]=(k[e]||[]).concat(function(b){var e={};e[d]=sa(b);c(a.node,e)}))}function e(a){var b=c(a.node,"xlink:href");b&&"#"==b.charAt()&&(b=b.substring(1))&&(k[b]=(k[b]||[]).concat(function(b){a.attr("xlink:href","#"+b)}))}var f=a.selectAll("*"),h,m=/^\s*url\(("|'|)(.*)\1\)\s*$/;a=[];for(var k={},l=0,n=f.length;l<n;l++){h=f[l];b(h,
"fill");b(h,"stroke");b(h,"filter");b(h,"mask");b(h,"clip-path");e(h);var p=c(h.node,"id");p&&(c(h.node,{id:h.id}),a.push({old:p,id:h.id}))}l=0;for(n=a.length;l<n;l++)if(f=k[a[l].old])for(h=0,p=f.length;h<p;h++)f[h](a[l].id)}function f(a,b,c){return function(d){d=d.slice(a,b);1==d.length&&(d=d[0]);return c?c(d):d}}function m(a){return function(){var b=a?"\x3c"+this.type:"",c=this.node.attributes,d=this.node.childNodes;if(a)for(var e=0,f=c.length;e<f;e++)b+=" "+c[e].name+'\x3d"'+c[e].value.replace(/"/g,
'\\"')+'"';if(d.length){a&&(b+="\x3e");e=0;for(f=d.length;e<f;e++)3==d[e].nodeType?b+=d[e].nodeValue:1==d[e].nodeType&&(b+=D(d[e]).toString());a&&(b+="\x3c/"+this.type+"\x3e")}else a&&(b+="/\x3e");return b}}b.attr=function(a,b){if(!a)return this;if(e(a,"string"))if(1<arguments.length){var c={};c[a]=b;a=c}else return A(k("snap.util.getattr."+a,this));for(var d in a)a[M](d)&&k("snap.util.attr."+d,this,a[d]);return this};b.getBBox=function(b){var c=this;"use"==c.type&&(c=c.original);if(c.removed)return{};
var d=c._;if(b)return d.bboxwt=a.path.get[c.type]?a.path.getBBox(c.realPath=a.path.get[c.type](c)):a._.box(c.node.getBBox()),a._.box(d.bboxwt);c.realPath=(a.path.get[c.type]||a.path.get.deflt)(c);d.bbox=a.path.getBBox(a.path.map(c.realPath,c.matrix));return a._.box(d.bbox)};var l=function(){return this.string};b.transform=function(a){var b=this._;if(null==a){a=new q(this.node.getCTM());var d=u(this),e=d.toTransformString();return{string:H(d)==H(this.matrix)?b.transform:e,globalMatrix:a,localMatrix:d,
diffMatrix:a.clone().add(d.invert()),global:a.toTransformString(),local:e,toString:l}}a instanceof q&&(a=a.toTransformString());u(this,a);this.node&&("linearGradient"==this.type||"radialGradient"==this.type?c(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?c(this.node,{patternTransform:this.matrix}):c(this.node,{transform:this.matrix}));return this};b.parent=function(){return D(this.node.parentNode)};b.append=b.add=function(a){if(a){if("set"==a.type){var b=this;a.forEach(function(a){b.add(a)});
return this}a=D(a);this.node.appendChild(a.node);a.paper=this.paper}return this};b.appendTo=function(a){a&&(a=D(a),a.append(this));return this};b.prepend=function(a){if(a){a=D(a);var b=a.parent();this.node.insertBefore(a.node,this.node.firstChild);this.add&&this.add();a.paper=this.paper;this.parent()&&this.parent().add();b&&b.add()}return this};b.prependTo=function(a){a=D(a);a.prepend(this);return this};b.before=function(a){if("set"==a.type){var b=this;a.forEach(function(a){var c=a.parent();b.node.parentNode.insertBefore(a.node,
b.node);c&&c.add()});this.parent().add();return this}a=D(a);var c=a.parent();this.node.parentNode.insertBefore(a.node,this.node);this.parent()&&this.parent().add();c&&c.add();a.paper=this.paper;return this};b.after=function(a){a=D(a);var b=a.parent();this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node);this.parent()&&this.parent().add();b&&b.add();a.paper=this.paper;return this};b.insertBefore=function(a){a=D(a);var b=this.parent();
a.node.parentNode.insertBefore(this.node,a.node);this.paper=a.paper;b&&b.add();a.parent()&&a.parent().add();return this};b.insertAfter=function(a){a=D(a);var b=this.parent();a.node.parentNode.insertBefore(this.node,a.node.nextSibling);this.paper=a.paper;b&&b.add();a.parent()&&a.parent().add();return this};b.remove=function(){var a=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;a&&a.add();return this};b.select=function(a){return D(this.node.querySelector(a))};
b.selectAll=function(b){b=this.node.querySelectorAll(b);for(var c=(a.set||Array)(),d=0;d<b.length;d++)c.push(D(b[d]));return c};b.asPX=function(a,b){null==b&&(b=this.attr(a));return+v(this,a,b)};b.use=function(){var a,b=this.node.id;b||(b=this.id,c(this.node,{id:b}));a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?B(this.type,this.node.parentNode):B("use",this.node.parentNode);c(a.node,{"xlink:href":"#"+b});a.original=this;return a};b.clone=function(){var a=D(this.node.cloneNode(!0));
c(a.node,"id")&&c(a.node,{id:a.id});d(a);a.insertAfter(this);return a};b.toDefs=function(){w(this).appendChild(this.node);return this};b.pattern=function(a,b,d,f){var h=B("pattern",w(this));null==a&&(a=this.getBBox());e(a,"object")&&"x"in a&&(b=a.y,d=a.width,f=a.height,a=a.x);c(h.node,{x:a,y:b,width:d,height:f,patternUnits:"userSpaceOnUse",id:h.id,viewBox:[a,b,d,f].join(" ")});h.node.appendChild(this.node);return h};b.marker=function(a,b,d,f,h,m){var k=B("marker",w(this));null==a&&(a=this.getBBox());
e(a,"object")&&"x"in a&&(b=a.y,d=a.width,f=a.height,h=a.refX||a.cx,m=a.refY||a.cy,a=a.x);c(k.node,{viewBox:[a,b,d,f].join(" "),markerWidth:d,markerHeight:f,orient:"auto",refX:h||0,refY:m||0,id:k.id});k.node.appendChild(this.node);return k};var n=function(a,b,c,d){"function"!=typeof c||c.length||(d=c,c=h.linear);this.attr=a;this.dur=b;c&&(this.easing=c);d&&(this.callback=d)};a.animation=function(a,b,c,d){return new n(a,b,c,d)};b.inAnim=function(){var a=[],b;for(b in this.anims)this.anims[M](b)&&function(b){a.push({anim:new n(b._attrs,
b.dur,b.easing,b._callback),curStatus:b.status(),status:function(a){return b.status(a)},stop:function(){b.stop()}})}(this.anims[b]);return a};a.animate=function(a,b,c,d,e,f){"function"!=typeof e||e.length||(f=e,e=h.linear);var m=h.time();a=h(a,b,m,m+d,h.time,c,e);f&&k.once("mina.finish."+a.id,f);return a};b.stop=function(){for(var a=this.inAnim(),b=0,c=a.length;b<c;b++)a[b].stop();return this};b.animate=function(a,b,c,d){"function"!=typeof c||c.length||(d=c,c=h.linear);a instanceof n&&(d=a.callback,
c=a.easing,b=c.dur,a=a.attr);var m=[],l=[],p={},q,r,t,v=this,x;for(x in a)if(a[M](x)){v.equal?(t=v.equal(x,H(a[x])),q=t.from,r=t.to,t=t.f):(q=+v.attr(x),r=+a[x]);var u=e(q,"array")?q.length:1;p[x]=f(m.length,m.length+u,t);m=m.concat(q);l=l.concat(r)}q=h.time();var w=h(m,l,q,q+b,h.time,function(a){var b={},c;for(c in p)p[M](c)&&(b[c]=p[c](a));v.attr(b)},c);v.anims[w.id]=w;w._attrs=a;w._callback=d;k.once("mina.finish."+w.id,function(){delete v.anims[w.id];d&&d.call(v)});k.once("mina.stop."+w.id,function(){delete v.anims[w.id]});
return v};var p={};b.data=function(b,c){var d=p[this.id]=p[this.id]||{};if(0==arguments.length)return k("snap.data.get."+this.id,this,d,null),d;if(1==arguments.length){if(a.is(b,"object")){for(var e in b)b[M](e)&&this.data(e,b[e]);return this}k("snap.data.get."+this.id,this,d[b],b);return d[b]}d[b]=c;k("snap.data.set."+this.id,this,c,b);return this};b.removeData=function(a){null==a?p[this.id]={}:p[this.id]&&delete p[this.id][a];return this};b.outerSVG=b.toString=m(1);b.innerSVG=m()})(x.prototype);
a.parse=function(a){var b=K.doc.createDocumentFragment(),c=!0,d=K.doc.createElement("div");a=H(a);a.match(/^\s*<\s*svg(?:\s|>)/)||(a="\x3csvg\x3e"+a+"\x3c/svg\x3e",c=!1);d.innerHTML=a;if(a=d.getElementsByTagName("svg")[0])if(c)b=a;else for(;a.firstChild;)b.appendChild(a.firstChild);d.innerHTML="";return new z(b)};z.prototype.select=x.prototype.select;z.prototype.selectAll=x.prototype.selectAll;a.fragment=function(){for(var b=Array.prototype.slice.call(arguments,0),c=K.doc.createDocumentFragment(),
d=0,e=b.length;d<e;d++){var f=b[d];f.node&&f.node.nodeType&&c.appendChild(f.node);f.nodeType&&c.appendChild(f);"string"==typeof f&&c.appendChild(a.parse(f).node)}return new z(c)};(function(a){a.el=function(a,b){return B(a,this.node).attr(b)};a.rect=function(a,b,c,d,f,h){var m;null==h&&(h=f);e(a,"object")&&"x"in a?m=a:null!=a&&(m={x:a,y:b,width:c,height:d},null!=f&&(m.rx=f,m.ry=h));return this.el("rect",m)};a.circle=function(a,b,c){var d;e(a,"object")&&"cx"in a?d=a:null!=a&&(d={cx:a,cy:b,r:c});return this.el("circle",
d)};a.image=function(a,b,d,f,h){var m=B("image",this.node);if(e(a,"object")&&"src"in a)m.attr(a);else if(null!=a){var k={"xlink:href":a,preserveAspectRatio:"none"};null!=b&&null!=d&&(k.x=b,k.y=d);null!=f&&null!=h?(k.width=f,k.height=h):Xb(a,function(){c(m.node,{width:this.offsetWidth,height:this.offsetHeight})});c(m.node,k)}return m};a.ellipse=function(a,b,c,d){var f=B("ellipse",this.node);e(a,"object")&&"cx"in a?f.attr(a):null!=a&&f.attr({cx:a,cy:b,rx:c,ry:d});return f};a.path=function(a){var b=
B("path",this.node);e(a,"object")&&!e(a,"array")?b.attr(a):a&&b.attr({d:a});return b};a.group=a.g=function(b){var c=B("g",this.node);c.add=y;for(var d in a)a[M](d)&&(c[d]=a[d]);1==arguments.length&&b&&!b.type?c.attr(b):arguments.length&&c.add(Array.prototype.slice.call(arguments,0));return c};a.text=function(a,b,c){var d=B("text",this.node);e(a,"object")?d.attr(a):null!=a&&d.attr({x:a,y:b,text:c||""});return d};a.line=function(a,b,c,d){var f=B("line",this.node);e(a,"object")?f.attr(a):null!=a&&f.attr({x1:a,
x2:c,y1:b,y2:d});return f};a.polyline=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b=B("polyline",this.node);e(a,"object")&&!e(a,"array")?b.attr(a):null!=a&&b.attr({points:a});return b};a.polygon=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b=B("polygon",this.node);e(a,"object")&&!e(a,"array")?b.attr(a):null!=a&&b.attr({points:a});return b};(function(){a.gradient=function(a){return L(this.defs,a)};a.gradientLinear=function(a,b,
c,d){return J(this.defs,a,b,c,d)};a.gradientRadial=function(a,b,c,d,e){return T(this.defs,a,b,c,d,e)};a.toString=function(){var a=K.doc.createDocumentFragment(),b=K.doc.createElement("div"),d=this.node.cloneNode(!0);a.appendChild(b);b.appendChild(d);c(d,{xmlns:Ca});b=b.innerHTML;a.removeChild(a.firstChild);return b};a.clear=function(){for(var a=this.node.firstChild,b;a;)b=a.nextSibling,"defs"!=a.tagName&&a.parentNode.removeChild(a),a=b}})()})(C.prototype);a.ajax=function(a,b,c,d){var f=new XMLHttpRequest,
h=Aa();if(f){if(e(b,"function"))d=c,c=b,b=null;else if(e(b,"object")){var m=[],l;for(l in b)b.hasOwnProperty(l)&&m.push(encodeURIComponent(l)+"\x3d"+encodeURIComponent(b[l]));b=m.join("\x26")}f.open(b?"POST":"GET",a,!0);f.setRequestHeader("X-Requested-With","XMLHttpRequest");b&&f.setRequestHeader("Content-type","application/x-www-form-urlencoded");c&&(k.once("snap.ajax."+h+".0",c),k.once("snap.ajax."+h+".200",c),k.once("snap.ajax."+h+".304",c));f.onreadystatechange=function(){4==f.readyState&&k("snap.ajax."+
h+"."+f.status,d,f)};if(4==f.readyState)return f;f.send(b);return f}};a.load=function(b,c,d){a.ajax(b,function(b){b=a.parse(b.responseText);d?c.call(d,b):c(b)})};k.on("snap.util.attr.mask",function(a){if(a instanceof x||a instanceof z){k.stop();a instanceof z&&1==a.node.childNodes.length&&(a=a.node.firstChild,w(this).appendChild(a),a=D(a));if("mask"==a.type)var b=a;else b=B("mask",w(this)),b.node.appendChild(a.node),!b.node.id&&c(b.node,{id:b.id});c(this.node,{mask:sa(b.id)})}});(function(a){k.on("snap.util.attr.clip",
a);k.on("snap.util.attr.clip-path",a);k.on("snap.util.attr.clipPath",a)})(function(a){if(a instanceof x||a instanceof z){k.stop();if("clipPath"==a.type)var b=a;else b=B("clipPath",w(this)),b.node.appendChild(a.node),!b.node.id&&c(b.node,{id:b.id});c(this.node,{"clip-path":sa(b.id)})}});k.on("snap.util.attr.fill",V("fill"));k.on("snap.util.attr.stroke",V("stroke"));var lb=/^([lr])(?:\(([^)]*)\))?(.*)$/i;k.on("snap.util.grad.parse",function(a){a=H(a);var b=a.match(lb);if(!b)return null;a=b[1];var c=
b[2],b=b[3],c=c.split(/\s*,\s*/).map(function(a){return+a==a?+a:a});1==c.length&&0==c[0]&&(c=[]);b=b.split("-");b=b.map(function(a){a=a.split(":");var b={color:a[0]};a[1]&&(b.offset=a[1]);return b});return{type:a,params:c,stops:b}});k.on("snap.util.attr.d",function(b){k.stop();e(b,"array")&&e(b[0],"array")&&(b=a.path.toString.call(b));b=H(b);b.match(/[ruo]/i)&&(b=a.path.toAbsolute(b));c(this.node,{d:b})})(-1);k.on("snap.util.attr.#text",function(a){k.stop();a=H(a);for(a=K.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);
this.node.appendChild(a)})(-1);k.on("snap.util.attr.path",function(a){k.stop();this.attr({d:a})})(-1);k.on("snap.util.attr.viewBox",function(a){a=e(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):e(a,"array")?a.join(" "):a;c(this.node,{viewBox:a});k.stop()})(-1);k.on("snap.util.attr.transform",function(a){this.transform(a);k.stop()})(-1);k.on("snap.util.attr.r",function(a){"rect"==this.type&&(k.stop(),c(this.node,{rx:a,ry:a}))})(-1);k.on("snap.util.attr.textpath",function(a){k.stop();if("text"==
this.type){var b,d;if(!a&&this.textPath){for(a=this.textPath;a.node.firstChild;)this.node.appendChild(a.node.firstChild);a.remove();delete this.textPath}else if(e(a,"string")?(b=w(this),a=D(b.parentNode).path(a),b.appendChild(a.node),b=a.id,a.attr({id:b})):(a=D(a),a instanceof x&&(b=a.attr("id"),b||(b=a.id,a.attr({id:b})))),b)if(a=this.textPath,d=this.node,a)a.attr({"xlink:href":"#"+b});else{for(a=c("textPath",{"xlink:href":"#"+b});d.firstChild;)a.appendChild(d.firstChild);d.appendChild(a);this.textPath=
D(a)}}})(-1);k.on("snap.util.attr.text",function(a){if("text"==this.type){for(var b=this.node,d=function(a){var b=c("tspan");if(e(a,"array"))for(var f=0;f<a.length;f++)b.appendChild(d(a[f]));else b.appendChild(K.doc.createTextNode(a));b.normalize&&b.normalize();return b};b.firstChild;)b.removeChild(b.firstChild);for(a=d(a);a.firstChild;)b.appendChild(a.firstChild)}k.stop()})(-1);var Yb={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,
"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,
mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};k.on("snap.util.attr",function(a){var b=k.nt(),d={},b=b.substring(b.lastIndexOf(".")+1);d[b]=a;var e=b.replace(/-(\w)/gi,function(a,b){return b.toUpperCase()}),
b=b.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});Yb[M](b)?this.node.style[e]=null==a?"":a:c(this.node,d)});k.on("snap.util.getattr.transform",function(){k.stop();return this.transform()})(-1);k.on("snap.util.getattr.textpath",function(){k.stop();return this.textPath})(-1);(function(){function b(c){return function(){k.stop();var b=K.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+c);return"none"==b?b:a(K.doc.getElementById(b.match(ca)[1]))}}function d(a){return function(b){k.stop();
var d="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==b||!b)this.node.style[d]="none";else if("marker"==b.type){var e=b.node.id;e||c(b.node,{id:b.id});this.node.style[d]=sa(e)}}}k.on("snap.util.getattr.marker-end",b("end"))(-1);k.on("snap.util.getattr.markerEnd",b("end"))(-1);k.on("snap.util.getattr.marker-start",b("start"))(-1);k.on("snap.util.getattr.markerStart",b("start"))(-1);k.on("snap.util.getattr.marker-mid",b("mid"))(-1);k.on("snap.util.getattr.markerMid",b("mid"))(-1);k.on("snap.util.attr.marker-end",
d("end"))(-1);k.on("snap.util.attr.markerEnd",d("end"))(-1);k.on("snap.util.attr.marker-start",d("start"))(-1);k.on("snap.util.attr.markerStart",d("start"))(-1);k.on("snap.util.attr.marker-mid",d("mid"))(-1);k.on("snap.util.attr.markerMid",d("mid"))(-1)})();k.on("snap.util.getattr.r",function(){if("rect"==this.type&&c(this.node,"rx")==c(this.node,"ry"))return k.stop(),c(this.node,"rx")})(-1);k.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){k.stop();var a=P(this.node);
return 1==a.length?a[0]:a}})(-1);k.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);k.on("snap.util.getattr.viewBox",function(){k.stop();var b=c(this.node,"viewBox").split(Da);return a._.box(+b[0],+b[1],+b[2],+b[3])})(-1);k.on("snap.util.getattr.points",function(){var a=c(this.node,"points");k.stop();return a.split(Da)});k.on("snap.util.getattr.path",function(){var a=c(this.node,"d");k.stop();return a});k.on("snap.util.getattr",function(){var a=k.nt(),a=a.substring(a.lastIndexOf(".")+
1),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});return Yb[M](b)?K.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue(b):c(this.node,a)});a.getElementByPoint=function(a,b){var c,d,e=K.doc.elementFromPoint(a,b);if(K.win.opera&&"svg"==e.tagName){c=e;d=c.getBoundingClientRect();c=c.ownerDocument;var f=c.body,h=c.documentElement;c=d.top+(g.win.pageYOffset||h.scrollTop||f.scrollTop)-(h.clientTop||f.clientTop||0);d=d.left+(g.win.pageXOffset||h.scrollLeft||f.scrollLeft)-(h.clientLeft||
f.clientLeft||0);f=e.createSVGRect();f.x=a-d;f.y=b-c;f.width=f.height=1;c=e.getIntersectionList(f,null);c.length&&(e=c[c.length-1])}return e?D(e):null};a.plugin=function(b){b(a,x,C,K)};return K.win.Snap=a}();f.plugin(function(a,c,e,f){function d(a){var b=d.ps=d.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var c in b)b.hasOwnProperty(c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])});return b[a]}function b(a,b,c,d){null==a&&(a=b=c=d=0);null==b&&(b=a.y,c=a.width,d=a.height,
a=a.x);return{x:a,y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:H.min(c,d)/2,r2:H.max(c,d)/2,r0:H.sqrt(c*c+d*d)/2,path:z(a,b,c,d),vb:[a,b,c,d].join(" ")}}function h(){return this.join(",").replace(K,"$1")}function k(a){a=P(a);a.toString=h;return a}function l(a,b,c,d,e,f,h,m,k){if(null==k)return y(a,b,c,d,e,f,h,m);if(0>k||y(a,b,c,d,e,f,h,m)<k)k=void 0;else{var n=.5,p=1-n,q;for(q=y(a,b,c,d,e,f,h,m,p);.01<S(q-k);)n/=2,p+=(q<k?1:-1)*n,q=y(a,b,c,d,e,f,h,m,p);k=p}return t(a,b,c,d,e,f,
h,m,k)}function r(b,d){function e(a){return+(+a).toFixed(3)}return a._.cacher(function(a,f,h){a instanceof c&&(a=a.attr("d"));a=J(a);for(var m,k,n,p,r="",v={},x=0,u=0,w=a.length;u<w;u++){n=a[u];if("M"==n[0])m=+n[1],k=+n[2];else{p=l(m,k,n[1],n[2],n[3],n[4],n[5],n[6]);if(x+p>f){if(d&&!v.start){m=l(m,k,n[1],n[2],n[3],n[4],n[5],n[6],f-x);r+=["C"+e(m.start.x),e(m.start.y),e(m.m.x),e(m.m.y),e(m.x),e(m.y)];if(h)return r;v.start=r;r=["M"+e(m.x),e(m.y)+"C"+e(m.n.x),e(m.n.y),e(m.end.x),e(m.end.y),e(n[5]),e(n[6])].join();
x+=p;m=+n[5];k=+n[6];continue}if(!b&&!d)return m=l(m,k,n[1],n[2],n[3],n[4],n[5],n[6],f-x)}x+=p;m=+n[5];k=+n[6]}r+=n.shift()+n}v.end=r;return m=b?x:d?v:t(m,k,n[0],n[1],n[2],n[3],n[4],n[5],1)},null,a._.clone)}function t(a,b,c,d,e,f,h,m,k){var l=1-k,n=Q(l,3),p=Q(l,2),q=k*k,r=q*k,t=n*a+3*p*k*c+3*l*k*k*e+r*h,n=n*b+3*p*k*d+3*l*k*k*f+r*m,p=a+2*k*(c-a)+q*(e-2*c+a),r=b+2*k*(d-b)+q*(f-2*d+b),v=c+2*k*(e-c)+q*(h-2*e+c),q=d+2*k*(f-d)+q*(m-2*f+d);a=l*a+k*c;b=l*b+k*d;e=l*e+k*h;f=l*f+k*m;m=90-180*H.atan2(p-v,r-q)/
X;return{x:t,y:n,m:{x:p,y:r},n:{x:v,y:q},start:{x:a,y:b},end:{x:e,y:f},alpha:m}}function u(c,d,e,f,h,m,k,l){a.is(c,"array")||(c=[c,d,e,f,h,m,k,l]);c=L.apply(null,c);return b(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)}function w(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function v(a,c){a=b(a);c=b(c);return w(c,a.x,a.y)||w(c,a.x2,a.y)||w(c,a.x,a.y2)||w(c,a.x2,a.y2)||w(a,c.x,c.y)||w(a,c.x2,c.y)||w(a,c.x,c.y2)||w(a,c.x2,c.y2)||(a.x<c.x2&&a.x>c.x||c.x<a.x2&&c.x>a.x)&&(a.y<c.y2&&
a.y>c.y||c.y<a.y2&&c.y>a.y)}function y(a,b,c,d,e,f,h,m,k){null==k&&(k=1);k=(1<k?1:0>k?0:k)/2;for(var l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],n=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,q=0;12>q;q++)var r=k*l[q]+k,t=r*(r*(-3*a+9*c-9*e+3*h)+6*a-12*c+6*e)-3*a+3*c,r=r*(r*(-3*b+9*d-9*f+3*m)+6*b-12*d+6*f)-3*b+3*d,p=p+n[q]*H.sqrt(t*t+r*r);return k*p}function x(a,b,c){a=J(a);b=J(b);for(var d,e,f,h,m,k,l,n,p,q,r=c?0:[],x=0,w=a.length;x<
w;x++)if(p=a[x],"M"==p[0])d=m=p[1],e=k=p[2];else{"C"==p[0]?(p=[d,e].concat(p.slice(1)),d=p[6],e=p[7]):(p=[d,e,d,e,m,k,m,k],d=m,e=k);for(var z=0,A=b.length;z<A;z++)if(q=b[z],"M"==q[0])f=l=q[1],h=n=q[2];else{"C"==q[0]?(q=[f,h].concat(q.slice(1)),f=q[6],h=q[7]):(q=[f,h,f,h,l,n,l,n],f=l,h=n);var B;var C=p,D=q;B=c;var G=u(C),F=u(D);if(v(G,F)){for(var G=y.apply(0,C),F=y.apply(0,D),G=~~(G/5),F=~~(F/5),X=[],I=[],V={},L=B?0:[],Q=0;Q<G+1;Q++){var P=t.apply(0,C.concat(Q/G));X.push({x:P.x,y:P.y,t:Q/G})}for(Q=
0;Q<F+1;Q++)P=t.apply(0,D.concat(Q/F)),I.push({x:P.x,y:P.y,t:Q/F});for(Q=0;Q<G;Q++)for(C=0;C<F;C++){var M=X[Q],K=X[Q+1],D=I[C],P=I[C+1],H=.001>S(K.x-M.x)?"y":"x",T=.001>S(P.x-D.x)?"y":"x",O;O=M.x;var W=M.y,Y=K.x,yb=K.y,mb=D.x,Ha=D.y,$a=P.x,Ma=P.y;if(N(O,Y)<R(mb,$a)||R(O,Y)>N(mb,$a)||N(W,yb)<R(Ha,Ma)||R(W,yb)>N(Ha,Ma))O=void 0;else{var Ob=(O*yb-W*Y)*(mb-$a)-(O-Y)*(mb*Ma-Ha*$a),za=(O*yb-W*Y)*(Ha-Ma)-(W-yb)*(mb*Ma-Ha*$a),Pa=(O-Y)*(Ha-Ma)-(W-yb)*(mb-$a);if(Pa){var Ob=Ob/Pa,za=za/Pa,Pa=+Ob.toFixed(2),
Va=+za.toFixed(2);O=Pa<+R(O,Y).toFixed(2)||Pa>+N(O,Y).toFixed(2)||Pa<+R(mb,$a).toFixed(2)||Pa>+N(mb,$a).toFixed(2)||Va<+R(W,yb).toFixed(2)||Va>+N(W,yb).toFixed(2)||Va<+R(Ha,Ma).toFixed(2)||Va>+N(Ha,Ma).toFixed(2)?void 0:{x:Ob,y:za}}else O=void 0}O&&V[O.x.toFixed(4)]!=O.y.toFixed(4)&&(V[O.x.toFixed(4)]=O.y.toFixed(4),M=M.t+S((O[H]-M[H])/(K[H]-M[H]))*(K.t-M.t),D=D.t+S((O[T]-D[T])/(P[T]-D[T]))*(P.t-D.t),0<=M&&1>=M&&0<=D&&1>=D&&(B?L++:L.push({x:O.x,y:O.y,t1:M,t2:D})))}B=L}else B=B?0:[];if(c)r+=B;else{G=
0;for(F=B.length;G<F;G++)B[G].segment1=x,B[G].segment2=z,B[G].bez1=p,B[G].bez2=q;r=r.concat(B)}}}return r}function A(a){var c=d(a);if(c.bbox)return P(c.bbox);if(!a)return b();a=J(a);for(var e=0,f=0,h=[],m=[],k,l=0,n=a.length;l<n;l++)k=a[l],"M"==k[0]?(e=k[1],f=k[2],h.push(e),m.push(f)):(e=L(e,f,k[1],k[2],k[3],k[4],k[5],k[6]),h=h.concat(e.min.x,e.max.x),m=m.concat(e.min.y,e.max.y),e=k[5],f=k[6]);a=R.apply(0,h);k=R.apply(0,m);h=N.apply(0,h);m=N.apply(0,m);m=b(a,k,h-a,m-k);c.bbox=P(m);return m}function z(a,
b,c,d,e){if(e)return[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]];a=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];a.toString=h;return a}function B(a,b,c,d,e){null==e&&null==d&&(d=c);if(null!=e){var f=Math.PI/180;a=[["M",a+c*Math.cos(-d*f),b+c*Math.sin(-d*f)],["A",c,c,0,+(180<e-d),0,a+c*Math.cos(-e*f),b+c*Math.sin(-e*f)]]}else a=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,
1,1,0,-2*d],["z"]];a.toString=h;return a}function C(b){var c=d(b);if(c.abs)return k(c.abs);V(b,"array")&&V(b&&b[0],"array")||(b=a.parsePathString(b));if(!b||!b.length)return[["M",0,0]];var e=[],f=0,m=0,l=0,q=0,r=0;"M"==b[0][0]&&(f=+b[0][1],m=+b[0][2],l=f,q=m,r++,e[0]=["M",f,m]);for(var t=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),v,x,u=r,w=b.length;u<w;u++){e.push(v=[]);x=b[u];r=x[0];if(r!=r.toUpperCase())switch(v[0]=r.toUpperCase(),v[0]){case "A":v[1]=x[1];
v[2]=x[2];v[3]=x[3];v[4]=x[4];v[5]=x[5];v[6]=+(x[6]+f);v[7]=+(x[7]+m);break;case "V":v[1]=+x[1]+m;break;case "H":v[1]=+x[1]+f;break;case "R":for(var y=[f,m].concat(x.slice(1)),z=2,A=y.length;z<A;z++)y[z]=+y[z]+f,y[++z]=+y[z]+m;e.pop();e=e.concat(T(y,t));break;case "O":e.pop();y=B(f,m,x[1],x[2]);y.push(y[0]);e=e.concat(y);break;case "U":e.pop();e=e.concat(B(f,m,x[1],x[2],x[3]));v=["U"].concat(e[e.length-1].slice(-2));break;case "M":l=+x[1]+f,q=+x[2]+m;default:for(z=1,A=x.length;z<A;z++)v[z]=+x[z]+
(z%2?f:m)}else if("R"==r)y=[f,m].concat(x.slice(1)),e.pop(),e=e.concat(T(y,t)),v=["R"].concat(x.slice(-2));else if("O"==r)e.pop(),y=B(f,m,x[1],x[2]),y.push(y[0]),e=e.concat(y);else if("U"==r)e.pop(),e=e.concat(B(f,m,x[1],x[2],x[3])),v=["U"].concat(e[e.length-1].slice(-2));else for(y=0,z=x.length;y<z;y++)v[y]=x[y];r=r.toUpperCase();if("O"!=r)switch(v[0]){case "Z":f=l;m=q;break;case "H":f=v[1];break;case "V":m=v[1];break;case "M":l=v[v.length-2],q=v[v.length-1];default:f=v[v.length-2],m=v[v.length-
1]}}e.toString=h;c.abs=k(e);return e}function D(a,b,c,d){return[a,b,c,d,c,d]}function F(a,b,c,d,e,f){var h=1/3,m=2/3;return[h*a+m*c,h*b+m*d,h*e+m*c,h*f+m*d,e,f]}function G(b,c,d,e,f,h,m,k,l,n){var p=120*X/180,q=X/180*(+f||0),r=[],v,t=a._.cacher(function(a,b,c){var d=a*H.cos(c)-b*H.sin(c);a=a*H.sin(c)+b*H.cos(c);return{x:d,y:a}});if(n)w=n[0],v=n[1],h=n[2],x=n[3];else{v=t(b,c,-q);b=v.x;c=v.y;v=t(k,l,-q);k=v.x;l=v.y;H.cos(X/180*f);H.sin(X/180*f);v=(b-k)/2;w=(c-l)/2;x=v*v/(d*d)+w*w/(e*e);1<x&&(x=H.sqrt(x),
d*=x,e*=x);var x=d*d,u=e*e,x=(h==m?-1:1)*H.sqrt(S((x*u-x*w*w-u*v*v)/(x*w*w+u*v*v)));h=x*d*w/e+(b+k)/2;var x=x*-e*v/d+(c+l)/2,w=H.asin(((c-x)/e).toFixed(9));v=H.asin(((l-x)/e).toFixed(9));w=b<h?X-w:w;v=k<h?X-v:v;0>w&&(w=2*X+w);0>v&&(v=2*X+v);m&&w>v&&(w-=2*X);!m&&v>w&&(v-=2*X)}if(S(v-w)>p){var r=v,u=k,y=l;v=w+p*(m&&v>w?1:-1);k=h+d*H.cos(v);l=x+e*H.sin(v);r=G(k,l,d,e,f,0,m,u,y,[v,r,h,x])}h=v-w;f=H.cos(w);p=H.sin(w);m=H.cos(v);v=H.sin(v);h=H.tan(h/4);d=4/3*d*h;h*=4/3*e;e=[b,c];b=[b+d*p,c-h*f];c=[k+d*
v,l-h*m];k=[k,l];b[0]=2*e[0]-b[0];b[1]=2*e[1]-b[1];if(n)return[b,c,k].concat(r);r=[b,c,k].concat(r).join().split(",");n=[];k=0;for(l=r.length;k<l;k++)n[k]=k%2?t(r[k-1],r[k],q).y:t(r[k],r[k+1],q).x;return n}function I(a,b,c,d,e,f,h,m,k){var l=1-k;return{x:Q(l,3)*a+3*Q(l,2)*k*c+3*l*k*k*e+Q(k,3)*h,y:Q(l,3)*b+3*Q(l,2)*k*d+3*l*k*k*f+Q(k,3)*m}}function L(a,b,c,d,e,f,h,m){var k=e-2*c+a-(h-2*e+c),l=2*(c-a)-2*(e-c),n=a-c,p=(-l+H.sqrt(l*l-4*k*n))/2/k,k=(-l-H.sqrt(l*l-4*k*n))/2/k,q=[b,m],r=[a,h];"1e12"<S(p)&&
(p=.5);"1e12"<S(k)&&(k=.5);0<p&&1>p&&(p=I(a,b,c,d,e,f,h,m,p),r.push(p.x),q.push(p.y));0<k&&1>k&&(p=I(a,b,c,d,e,f,h,m,k),r.push(p.x),q.push(p.y));k=f-2*d+b-(m-2*f+d);l=2*(d-b)-2*(f-d);n=b-d;p=(-l+H.sqrt(l*l-4*k*n))/2/k;k=(-l-H.sqrt(l*l-4*k*n))/2/k;"1e12"<S(p)&&(p=.5);"1e12"<S(k)&&(k=.5);0<p&&1>p&&(p=I(a,b,c,d,e,f,h,m,p),r.push(p.x),q.push(p.y));0<k&&1>k&&(p=I(a,b,c,d,e,f,h,m,k),r.push(p.x),q.push(p.y));return{min:{x:R.apply(0,r),y:R.apply(0,q)},max:{x:N.apply(0,r),y:N.apply(0,q)}}}function J(a,b){var c=
!b&&d(a);if(!b&&c.curve)return k(c.curve);var e=C(a),f=b&&C(b),h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(G.apply(0,[b.x,b.y].concat(a.slice(1))));break;case "S":c=b.x+(b.x-(b.bx||b.x));d=b.y+(b.y-(b.by||b.y));a=["C",c,d].concat(a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));
b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(F(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(F(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(D(b.x,b.y,a[1],a[2]));break;case "H":a=["C"].concat(D(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(D(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(D(b.x,b.y,b.X,b.Y))}return a},n=function(a,b){if(7<a[b].length){a[b].shift();for(var c=a[b];c.length;)a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1);v=
N(e.length,f&&f.length||0)}},q=function(a,b,c,d,h){a&&b&&"M"==a[h][0]&&"M"!=b[h][0]&&(b.splice(h,0,["M",d.x,d.y]),c.bx=0,c.by=0,c.x=a[h][1],c.y=a[h][2],v=N(e.length,f&&f.length||0))},r=0,v=N(e.length,f&&f.length||0);for(;r<v;r++){e[r]=l(e[r],h);n(e,r);f&&(f[r]=l(f[r],m));f&&n(f,r);q(e,f,h,m,r);q(f,e,m,h,r);var t=e[r],x=f&&f[r],u=t.length,w=f&&x.length;h.x=t[u-2];h.y=t[u-1];h.bx=M(t[u-4])||h.x;h.by=M(t[u-3])||h.y;m.bx=f&&(M(x[w-4])||m.x);m.by=f&&(M(x[w-3])||m.y);m.x=f&&x[w-2];m.y=f&&x[w-1]}f||(c.curve=
k(e));return f?[e,f]:e}function T(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]});c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}e=c.prototype;
var V=a.is,P=a._.clone,K=/,?([a-z]),?/gi,M=parseFloat,H=Math,X=H.PI,R=H.min,N=H.max,Q=H.pow,S=H.abs;f=r(1);var Y=r(),O=r(0,1),W=a._unit2px;a.path=d;a.path.getTotalLength=f;a.path.getPointAtLength=Y;a.path.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return O(a,b).end;a=O(a,c,1);return b?O(a,b).end:a};e.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};e.getPointAtLength=function(a){return Y(this.attr("d"),a)};e.getSubpath=function(b,c){return a.path.getSubpath(this.attr("d"),
b,c)};a._.box=b;a.path.findDotsAtSegment=t;a.path.bezierBBox=u;a.path.isPointInsideBBox=w;a.path.isBBoxIntersect=v;a.path.intersection=function(a,b){return x(a,b)};a.path.intersectionNumber=function(a,b){return x(a,b,1)};a.path.isPointInside=function(a,b,c){var d=A(a);return w(d,b,c)&&1==x(a,[["M",b,c],["H",d.x2+10]],1)%2};a.path.getBBox=A;a.path.get={path:function(a){return a.attr("path")},circle:function(a){a=W(a);return B(a.cx,a.cy,a.r)},ellipse:function(a){a=W(a);return B(a.cx,a.cy,a.rx,a.ry)},
rect:function(a){a=W(a);return z(a.x,a.y,a.width,a.height,a.rx,a.ry)},image:function(a){a=W(a);return z(a.x,a.y,a.width,a.height)},text:function(a){a=a.node.getBBox();return z(a.x,a.y,a.width,a.height)},g:function(a){a=a.node.getBBox();return z(a.x,a.y,a.width,a.height)},symbol:function(a){a=a.getBBox();return z(a.x,a.y,a.width,a.height)},line:function(a){return"M"+[a.attr("x1"),a.attr("y1"),a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+
a.attr("points")+"z"},svg:function(a){a=a.node.getBBox();return z(a.x,a.y,a.width,a.height)},deflt:function(a){a=a.node.getBBox();return z(a.x,a.y,a.width,a.height)}};a.path.toRelative=function(b){var c=d(b),e=String.prototype.toLowerCase;if(c.rel)return k(c.rel);a.is(b,"array")&&a.is(b&&b[0],"array")||(b=a.parsePathString(b));var f=[],m=0,l=0,q=0,r=0,v=0;"M"==b[0][0]&&(m=b[0][1],l=b[0][2],q=m,r=l,v++,f.push(["M",m,l]));for(var t=b.length;v<t;v++){var x=f[v]=[],u=b[v];if(u[0]!=e.call(u[0]))switch(x[0]=
e.call(u[0]),x[0]){case "a":x[1]=u[1];x[2]=u[2];x[3]=u[3];x[4]=u[4];x[5]=u[5];x[6]=+(u[6]-m).toFixed(3);x[7]=+(u[7]-l).toFixed(3);break;case "v":x[1]=+(u[1]-l).toFixed(3);break;case "m":q=u[1],r=u[2];default:for(var w=1,y=u.length;w<y;w++)x[w]=+(u[w]-(w%2?m:l)).toFixed(3)}else for(f[v]=[],"m"==u[0]&&(q=u[1]+m,r=u[2]+l),x=0,w=u.length;x<w;x++)f[v][x]=u[x];u=f[v].length;switch(f[v][0]){case "z":m=q;l=r;break;case "h":m+=+f[v][u-1];break;case "v":l+=+f[v][u-1];break;default:m+=+f[v][u-2],l+=+f[v][u-
1]}}f.toString=h;c.rel=k(f);return f};a.path.toAbsolute=C;a.path.toCubic=J;a.path.map=function(a,b){if(!b)return a;var c,d,e,f,h,m,k;a=J(a);e=0;for(h=a.length;e<h;e++)for(k=a[e],f=1,m=k.length;f<m;f+=2)c=b.x(k[f],k[f+1]),d=b.y(k[f],k[f+1]),k[f]=c,k[f+1]=d;return a};a.path.toString=h;a.path.clone=k});f.plugin(function(a,c,e,f){var d=Math.max,b=Math.min,h=function(a){this.items=[];this.length=0;this.type="set";if(a)for(var b=0,c=a.length;b<c;b++)a[b]&&(this[this.items.length]=this.items[this.items.length]=
a[b],this.length++)};c=h.prototype;c.push=function(){for(var a,b,c=0,d=arguments.length;c<d;c++)if(a=arguments[c])b=this.items.length,this[b]=this.items[b]=a,this.length++;return this};c.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};c.forEach=function(a,b){for(var c=0,d=this.items.length;c<d&&!1!==a.call(b,this.items[c],c);c++);return this};c.remove=function(){for(;this.length;)this.pop().remove();return this};c.attr=function(a){for(var b=0,c=this.items.length;b<
c;b++)this.items[b].attr(a);return this};c.clear=function(){for(;this.length;)this.pop()};c.splice=function(a,c,e){a=0>a?d(this.length+a,0):a;c=d(0,b(this.length-a,c));var f=[],m=[],k=[],l;for(l=2;l<arguments.length;l++)k.push(arguments[l]);for(l=0;l<c;l++)m.push(this[a+l]);for(;l<this.length-a;l++)f.push(this[a+l]);var y=k.length;for(l=0;l<y+f.length;l++)this.items[a+l]=this[a+l]=l<y?k[l]:f[l-y];for(l=this.items.length=this.length-=c-y;this[l];)delete this[l++];return new h(m)};c.exclude=function(a){for(var b=
0,c=this.length;b<c;b++)if(this[b]==a)return this.splice(b,1),!0;return!1};c.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this};c.getBBox=function(){for(var a=[],c=[],e=[],f=[],h=this.items.length;h--;)if(!this.items[h].removed){var m=this.items[h].getBBox();a.push(m.x);c.push(m.y);e.push(m.x+m.width);f.push(m.y+m.height)}a=b.apply(0,a);c=b.apply(0,c);e=d.apply(0,e);f=d.apply(0,f);return{x:a,y:c,x2:e,y2:f,width:e-a,height:f-c,cx:a+(e-a)/2,cy:c+(f-c)/
2}};c.clone=function(a){a=new h;for(var b=0,c=this.items.length;b<c;b++)a.push(this.items[b].clone());return a};c.toString=function(){return"Snap\u2018s set"};c.type="set";a.set=function(){var a=new h;arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0));return a}});f.plugin(function(a,c,e,f){function d(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,
a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function b(b,c,e){c=v(c).replace(/\.{3}|\u2026/g,b);b=a.parseTransformString(b)||[];c=a.parseTransformString(c)||[];for(var f=Math.max(b.length,c.length),h=[],m=[],k=0,l,n,p,q;k<f;k++){p=b[k]||d(c[k]);q=c[k]||d(p);if(p[0]!=q[0]||"r"==p[0].toLowerCase()&&(p[2]!=q[2]||p[3]!=q[3])||"s"==p[0].toLowerCase()&&(p[3]!=q[3]||p[4]!=q[4])){b=a._.transform2matrix(b,e());c=a._.transform2matrix(c,e());h=[["m",b.a,b.b,b.c,b.d,b.e,b.f]];m=[["m",c.a,c.b,c.c,c.d,c.e,c.f]];break}h[k]=
[];m[k]=[];l=0;for(n=Math.max(p.length,q.length);l<n;l++)l in p&&(h[k][l]=p[l]),l in q&&(m[k][l]=q[l])}return{from:t(h),to:t(m),f:r(h)}}function h(a){return a}function k(a){return function(b){return+b.toFixed(3)+a}}function l(b){return a.rgb(b[0],b[1],b[2])}function r(a){var b=0,c,d,e,f,h,m,k=[];c=0;for(d=a.length;c<d;c++){h="[";m=['"'+a[c][0]+'"'];e=1;for(f=a[c].length;e<f;e++)m[e]="val["+b++ +"]";h+=m+"]";k[c]=h}return Function("val","return Snap.path.toString.call(["+k+"])")}function t(a){for(var b=
[],c=0,d=a.length;c<d;c++)for(var e=1,f=a[c].length;e<f;e++)b.push(a[c][e]);return b}var u={},w=/[a-z]+$/i,v=String;u.stroke=u.fill="colour";c.prototype.equal=function(c,d){var e,f;e=v(this.attr(c)||"");var m=this;if(e==+e&&d==+d)return{from:+e,to:+d,f:h};if("colour"==u[c])return e=a.color(e),f=a.color(d),{from:[e.r,e.g,e.b,e.opacity],to:[f.r,f.g,f.b,f.opacity],f:l};if("transform"==c||"gradientTransform"==c||"patternTransform"==c)return d instanceof a.Matrix&&(d=d.toTransformString()),a._.rgTransform.test(d)||
(d=a._.svgTransform2string(d)),b(e,d,function(){return m.getBBox(1)});if("d"==c||"path"==c)return e=a.path.toCubic(e,d),{from:t(e[0]),to:t(e[1]),f:r(e[0])};if("points"==c)return e=v(e).split(","),f=v(d).split(","),{from:e,to:f,f:function(a){return a}};f=e.match(w);var C=v(d).match(w);return f&&f==C?{from:parseFloat(e),to:parseFloat(d),f:k(f)}:{from:this.asPX(c),to:this.asPX(c,d),f:h}}});f.plugin(function(a,c,e,f){var d=c.prototype,b="createTouch"in f.doc;c="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");
var h={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},l=function(a){a="y"==a?"scrollTop":"scrollLeft";return f.doc.documentElement[a]||f.doc.body[a]},q=function(){this.returnValue=!1},r=function(){return this.originalEvent.preventDefault()},t=function(){this.cancelBubble=!0},u=function(){return this.originalEvent.stopPropagation()},w=function(){if(f.doc.addEventListener)return function(a,c,d,e){var f=b&&h[c]?h[c]:c,m=function(f){var m=l("y"),k=l("x");if(b&&h.hasOwnProperty(c))for(var q=
0,v=f.targetTouches&&f.targetTouches.length;q<v;q++)if(f.targetTouches[q].target==a||a.contains(f.targetTouches[q].target)){v=f;f=f.targetTouches[q];f.originalEvent=v;f.preventDefault=r;f.stopPropagation=u;break}return d.call(e,f,f.clientX+k,f.clientY+m)};c!==f&&a.addEventListener(c,m,!1);a.addEventListener(f,m,!1);return function(){c!==f&&a.removeEventListener(c,m,!1);a.removeEventListener(f,m,!1);return!0}};if(f.doc.attachEvent)return function(a,b,c,d){var e=function(a){a=a||f.win.event;var b=l("y"),
e=l("x"),e=a.clientX+e,b=a.clientY+b;a.preventDefault=a.preventDefault||q;a.stopPropagation=a.stopPropagation||t;return c.call(d,a,e,b)};a.attachEvent("on"+b,e);return function(){a.detachEvent("on"+b,e);return!0}}}(),v=[],y=function(a){for(var c=a.clientX,d=a.clientY,e=l("y"),f=l("x"),h,m=v.length;m--;){h=v[m];if(b)for(var n=a.touches&&a.touches.length,q;n--;){if(q=a.touches[n],q.identifier==h.el._drag.id||h.el.node.contains(q.target)){c=q.clientX;d=q.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();
break}}else a.preventDefault();c+=f;d+=e;k("snap.drag.move."+h.el.id,h.move_scope||h.el,c-h.el._drag.x,d-h.el._drag.y,c,d,a)}},x=function(b){a.unmousemove(y).unmouseup(x);for(var c=v.length,d;c--;)d=v[c],d.el._drag={},k("snap.drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,b);v=[]};for(e=c.length;e--;)(function(b){a[b]=d[b]=function(c,d){a.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:w(this.shape||this.node||f.doc,b,c,d||this)}));return this};
a["un"+b]=d["un"+b]=function(a){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==b&&(c[d].f==a||!a)){c[d].unbind();c.splice(d,1);!c.length&&delete this.events;break}return this}})(c[e]);d.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)};d.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var A=[];d.drag=function(b,c,d,e,f,h){function m(l,n,p){(l.originalEvent||l).preventDefault();this._drag.x=n;this._drag.y=p;this._drag.id=l.identifier;!v.length&&a.mousemove(y).mouseup(x);
v.push({el:this,move_scope:e,start_scope:f,end_scope:h});c&&k.on("snap.drag.start."+this.id,c);b&&k.on("snap.drag.move."+this.id,b);d&&k.on("snap.drag.end."+this.id,d);k("snap.drag.start."+this.id,f||e||this,n,p,l)}if(!arguments.length){var l;return this.drag(function(a,b){this.attr({transform:l+(l?"T":"t")+[a,b]})},function(){l=this.transform().local})}this._drag={};A.push({el:this,start:m});this.mousedown(m);return this};d.undrag=function(){for(var b=A.length;b--;)A[b].el==this&&(this.unmousedown(A[b].start),
A.splice(b,1),k.unbind("snap.drag.*."+this.id));!A.length&&a.unmousemove(y).unmouseup(x);return this}});f.plugin(function(a,c,e,f){e=e.prototype;var d=/^\s*url\((.+)\)/,b=String,h=a._.$;a.filter={};e.filter=function(d){var e=this;"svg"!=e.type&&(e=e.paper);d=a.parse(b(d));var f=a._.id(),m=h("filter");h(m,{id:f,filterUnits:"userSpaceOnUse"});m.appendChild(d.node);e.defs.appendChild(m);return new c(m)};k.on("snap.util.getattr.filter",function(){k.stop();var c=h(this.node,"filter");if(c)return(c=b(c).match(d))&&
a.select(c[1])});k.on("snap.util.attr.filter",function(b){if(b instanceof c&&"filter"==b.type){k.stop();var d=b.node.id;d||(h(b.node,{id:b.id}),d=b.id);h(this.node,{filter:a.url(d)})}b&&"none"!=b||(k.stop(),this.node.removeAttribute("filter"))});a.filter.blur=function(b,c){null==b&&(b=2);return a.format('\x3cfeGaussianBlur stdDeviation\x3d"{def}"/\x3e',{def:null==c?b:[b,c]})};a.filter.blur.toString=function(){return this()};a.filter.shadow=function(b,c,d,e){e=e||"#000";null==d&&(d=4);"string"==typeof d&&
(e=d,d=4);null==b&&(b=0,c=2);null==c&&(c=b);e=a.color(e);return a.format('\x3cfeGaussianBlur in\x3d"SourceAlpha" stdDeviation\x3d"{blur}"/\x3e\x3cfeOffset dx\x3d"{dx}" dy\x3d"{dy}" result\x3d"offsetblur"/\x3e\x3cfeFlood flood-color\x3d"{color}"/\x3e\x3cfeComposite in2\x3d"offsetblur" operator\x3d"in"/\x3e\x3cfeMerge\x3e\x3cfeMergeNode/\x3e\x3cfeMergeNode in\x3d"SourceGraphic"/\x3e\x3c/feMerge\x3e',{color:e,dx:b,dy:c,blur:d})};a.filter.shadow.toString=function(){return this()};a.filter.grayscale=function(b){null==
b&&(b=1);return a.format('\x3cfeColorMatrix type\x3d"matrix" values\x3d"{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/\x3e',{a:.2126+.7874*(1-b),b:.7152-.7152*(1-b),c:.0722-.0722*(1-b),d:.2126-.2126*(1-b),e:.7152+.2848*(1-b),f:.0722-.0722*(1-b),g:.2126-.2126*(1-b),h:.0722+.9278*(1-b)})};a.filter.grayscale.toString=function(){return this()};a.filter.sepia=function(b){null==b&&(b=1);return a.format('\x3cfeColorMatrix type\x3d"matrix" values\x3d"{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/\x3e',
{a:.393+.607*(1-b),b:.769-.769*(1-b),c:.189-.189*(1-b),d:.349-.349*(1-b),e:.686+.314*(1-b),f:.168-.168*(1-b),g:.272-.272*(1-b),h:.534-.534*(1-b),i:.131+.869*(1-b)})};a.filter.sepia.toString=function(){return this()};a.filter.saturate=function(b){null==b&&(b=1);return a.format('\x3cfeColorMatrix type\x3d"saturate" values\x3d"{amount}"/\x3e',{amount:1-b})};a.filter.saturate.toString=function(){return this()};a.filter.hueRotate=function(b){return a.format('\x3cfeColorMatrix type\x3d"hueRotate" values\x3d"{angle}"/\x3e',
{angle:b||0})};a.filter.hueRotate.toString=function(){return this()};a.filter.invert=function(b){null==b&&(b=1);return a.format('\x3cfeComponentTransfer\x3e\x3cfeFuncR type\x3d"table" tableValues\x3d"{amount} {amount2}"/\x3e\x3cfeFuncG type\x3d"table" tableValues\x3d"{amount} {amount2}"/\x3e\x3cfeFuncB type\x3d"table" tableValues\x3d"{amount} {amount2}"/\x3e\x3c/feComponentTransfer\x3e',{amount:b,amount2:1-b})};a.filter.invert.toString=function(){return this()};a.filter.brightness=function(b){null==
b&&(b=1);return a.format('\x3cfeComponentTransfer\x3e\x3cfeFuncR type\x3d"linear" slope\x3d"{amount}"/\x3e\x3cfeFuncG type\x3d"linear" slope\x3d"{amount}"/\x3e\x3cfeFuncB type\x3d"linear" slope\x3d"{amount}"/\x3e\x3c/feComponentTransfer\x3e',{amount:b})};a.filter.brightness.toString=function(){return this()};a.filter.contrast=function(b){null==b&&(b=1);return a.format('\x3cfeComponentTransfer\x3e\x3cfeFuncR type\x3d"linear" slope\x3d"{amount}" intercept\x3d"{amount2}"/\x3e\x3cfeFuncG type\x3d"linear" slope\x3d"{amount}" intercept\x3d"{amount2}"/\x3e\x3cfeFuncB type\x3d"linear" slope\x3d"{amount}" intercept\x3d"{amount2}"/\x3e\x3c/feComponentTransfer\x3e',
{amount:b,amount2:.5-b/2})};a.filter.contrast.toString=function(){return this()}});return f})},"mojo/widgets/campaigns/PostcardSlat":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/_base/lang dojox/html/entities mojo/utils mojo/app/campaigns ./Slat".split(" "),function(l,k,h,f,a,c,e,m){h={draft:{label:"Draft",badge:"",description:"Edited \x3cstrong\x3e{lastUpdatedDate}\x3c/strong\x3e by {lastUpdatedBy}"},sent:{label:"Sent",badge:"success",description:"Sent \x3cstrong\x3e{sendDate}\x3c/strong\x3e to {sends} recipients"},
processing:{label:"Processing",badge:"info",description:""},compliance:{label:"Rejected",badge:"error",description:""}};l=l([m],{channelIcon:"c-channelIcon--postcard",statusContent:h,statsOrder:[],typeContent:{postcard:{label:"Postcard"}},actions:{edit:{label:"Edit"},report:{label:"View Report"},rename:{label:"Rename",onClick:function(){e.showRenameModal(this.model.uniqueId,a.encode(this.model.title))}},view:{label:"View Postcard"}},buildAdditionalMetaData:function(){this.statusContent[this.model.status]&&
(this.node_additionalMetaData.innerHTML=f.replace(this.statusContent[this.model.status].description||"",f.hitch(this,function(a,b){switch(b){case "lastUpdatedDate":case "sendDate":return this.model[b]?c.getDateString(this.model[b]):"";default:return void 0!==this.model[b]&&null!==this.model[b]?this.model[b]:""}})))},buildListName:function(){var a=this.model.storeName||this.model.listName;this.node_listName.appendChild(c.compileTemplate(a?this.template_listName:"",{listName:a+" "+(this.model.hasSegment?
"(segment)":"")}))},_buildStatusBadge:function(){var a=this.statusContent[this.model.statusReason]||this.statusContent[this.model.status];a&&(this.node_badge.innerHTML=a.label,k.add(this.node_badge,a.badge))}});l.STATUS_CONTENT=h;return l})},"mojo/widgets/ecommerce/ProductPicker":function(){define("dojo/_base/declare dojo/_base/lang dojo/request dojo/on dojo/dom-class dojo/dom-attr dojo/aspect dojo/Deferred dojo/store/Memory dojo/store/Cache dojo/store/util/QueryResults dojox/html/entities dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/FilteringSelect dojo/text!./templates/productPicker.html dojo/text!./templates/productResultItem.html dijit/Dialog mojo/url".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){var A=l([d],{storeId:null,query:function(a){a=k.isString(a)?a:a.name.toString();a=x.toUrl("/ecommerce/products-search",{store_id:this.storeId,term:a});a=h(a,{handleAs:"json"}).then(function(a){return a.map(function(a){a.image_url=x.addProxy(a.image_url);return{product:a,id:a.product_id,name:p.decode(a.title),label:k.replace(v,a)}})});a.total=a.then(function(a){return a.length});return n(a)}}),z=l([q,r,t],{templateString:w,stores:null,deferredInsert:null,
dialogTitle:"Select a product",_readyPromise:null,_dataStores:null,_pickType:null,postMixInProperties:function(){this._dataStores={}},postCreate:function(){this._readyPromise=this._getStores().then(k.hitch(this,function(a){this.stores=a.stores;this._initInputs()}));this.own(f(this.cancelBtn,"click",k.hitch(this,function(){this._hide()})),f(this.saveBtn,"click",k.hitch(this,function(){switch(this._pickType){case "product":var a=this._getMemoryStore(this.storeSelect.value);this.productSearchInput.value&&
(a=a.get(this.productSearchInput.value),this._productsChosen([a.product]));break;case "topSellers":this._returnTopSellers();break;default:throw Error("Unknown pick type:"+this._pickType);}})))},chooseProduct:function(){this._pickType="product";this.deferredInsert=new m;this._readyPromise.then(k.hitch(this,function(){this._show()}));return this.deferredInsert.promise},chooseProductFromStore:function(b){this._pickType="product";this.deferredInsert=new m;this._readyPromise.then(k.hitch(this,function(){this._show();
this.storeSelect.value=b;this.productSearchInput.store=null;this.productSearchInput.reset();this.productSearchInput.store=this._getMemoryStore(this.storeSelect.value);a.add(this.storeContainer,"hide")}));return this.deferredInsert.promise},chooseTopSellers:function(){this._pickType="topSellers";this.deferredInsert=new m;this._readyPromise.then(k.hitch(this,function(){1<this.stores.length?(a.add(this.productSearchContainer,"hide"),this.saveBtn.innerHTML="Select",this.dialogTitle="Select a store",this._show()):
1===this.stores.length&&this._returnTopSellers()}));return this.deferredInsert.promise},chooseTopSellersFromStore:function(a){this._pickType="topSellers";this.deferredInsert=new m;this._readyPromise.then(k.hitch(this,function(){1<this.stores.length&&(this.storeSelect.value=a,this.productSearchInput.store=null,this.productSearchInput.reset(),this.productSearchInput.store=this._getMemoryStore(this.storeSelect.value));this._returnTopSellers()}));return this.deferredInsert.promise},_toggleInsertBtn:function(){switch(this._pickType){case "product":c.set(this.saveBtn,
"disabled",!this.productSearchInput.value);break;default:c.remove(this.saveBtn,"disabled")}},_productsChosen:function(a){this.deferredInsert.resolve(a);this._hide()},_initInputs:function(){this.stores.forEach(k.hitch(this,function(a){this.storeSelect.addOption({value:a.store_id,label:a.name})}));1===this.stores.length&&a.add(this.storeContainer,"hide");this.productSearchInput=new u({autoComplete:!1,queryExpr:"${0}",labelAttr:"label",labelType:"html",placeHolder:"Search by name",invalidMessage:"No product found.",
required:!1},this.productSearchInput);this.productSearchInput.startup();this.productSearchInput.store=this._getMemoryStore(this.storeSelect.value);this.own(f(this.storeSelect,"change",k.hitch(this,function(){this.productSearchInput.store=null;this.productSearchInput.reset();this.productSearchInput.store=this._getMemoryStore(this.storeSelect.value)})),f(this.productSearchInput,"change",k.hitch(this,function(){this._toggleInsertBtn()})))},_getMemoryStore:function(a){this._dataStores[a]||(this._dataStores[a]=
new b(new A({storeId:a}),new d));return this._dataStores[a]},_getStores:function(){return h.get(x.toUrl("/ecommerce/stores"),{handleAs:"json"})},_returnTopSellers:function(){h.get(x.toUrl("/ecommerce/products-search"),{query:{store_id:this.storeSelect.value,type:"topSellers"},handleAs:"json"}).then(k.hitch(this,function(a){this._productsChosen(a)}))},_show:function(){this.dialog=new y({title:this.dialogTitle,content:this.domNode,style:"width:450px;","class":"dijitDialog--fullScreen@phone"});e.after(this.dialog,
"hide",k.hitch(this,function(){this.destroy()}));this.dialog.startup();this.dialog.show();this._toggleInsertBtn()},_hide:function(){this.dialog?this.dialog.hide():this.destroy()},destroy:function(){this.inherited(arguments)}}),B=null,C=function(){B&&B._hide();B=new z;B.startup();return B};return{chooseProduct:function(){return C().chooseProduct()},chooseProductFromStore:function(a){return C().chooseProductFromStore(a)},chooseTopSellers:function(){return C().chooseTopSellers()},chooseTopSellersFromStore:function(a){return C().chooseTopSellersFromStore(a)}}})},
"dojo/store/Cache":function(){define(["../_base/lang","../when"],function(l,k){var h=function(f,a,c){c=c||{};return l.delegate(f,{query:function(e,h){var d=f.query(e,h);d.forEach(function(b){c.isLoaded&&!c.isLoaded(b)||a.put(b)});return d},queryEngine:f.queryEngine||a.queryEngine,get:function(c,h){return k(a.get(c),function(d){return d||k(f.get(c,h),function(b){b&&a.put(b,{id:c});return b})})},add:function(c,h){return k(f.add(c,h),function(d){a.add(d&&"object"==typeof d?d:c,h);return d})},put:function(c,
h){a.remove(h&&h.id||this.getIdentity(c));return k(f.put(c,h),function(d){a.put(d&&"object"==typeof d?d:c,h);return d})},remove:function(c,h){return k(f.remove(c,h),function(d){return a.remove(c,h)})},evict:function(c){return a.remove(c)}})};l.setObject("dojo.store.Cache",h);return h})},"mojo/widgets/dashboard-feedback/GenericFeedbackPage":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-style dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-form dojo/keys dojo/on dojo/query dojo/request dojo/request/xhr dijit/form/RadioButton dijit/form/CheckBox dijit/_Templated dijit/_TemplatedMixin dijit/_Widget dijit/_WidgetsInTemplateMixin mojo/url mojo/utils mojo/widgets/TopSliderPane mojo/widgets/dashboard-feedback/_DashboardFeedbackMixin dojo/text!mojo/widgets/templates/feedback-template/SliderPaneWrapper.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F){var G=l([C,y,A,D],{templateString:F,postMixInProperties:function(){t.get(z.toUrl("/dashboard/feedback-data/"),{handleAs:"json",query:{formHash:this.formHash}}).then(k.hitch(this,function(a){this.data=a;this.renderFormFields(a,this)}))},postCreate:function(){this.inherited(arguments)}}),I=null;return{_getFeedbackPane:function(a){I&&I.destroyRecursive();I=new G({formHash:a});I.startup();return I},show:function(a){return this._getFeedbackPane(a).show(a)},
hide:function(){return this._getFeedbackPane().hide()},isShown:function(){return I&&I.displayActive}}})},"mojo/widgets/dashboard-feedback/_DashboardFeedbackMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-style dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-form dojo/keys dojo/on dojo/query dojo/request dojo/request/xhr dijit/form/RadioButton dijit/form/CheckBox dijit/_Templated dijit/_TemplatedMixin dijit/_Widget dijit/_WidgetsInTemplateMixin dijit/_WidgetBase mojo/url mojo/utils".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C){return l([z],{renderFormFields:function(a,e){this.rootNode=d.create("form",{id:"feedback-post",action:"",method:"POST"});d.create("input",{type:"hidden",name:"hash",value:a.form.Hash},this.rootNode);var f=d.create("div",{"class":"lastUnit size1of2 section"},this.rootNode);d.create("h1",{innerHTML:a.form.Name,"class":"padding-top--lv8"},f);var h=[],m,k,l,n,q,r,v,x;a.fields.forEach(function(a){a.ID.includes("Field")&&("radio"===a.Type?(h.push(a.ID),
m=d.create("div",{"class":"field-wrapper"},f),k=d.create("fieldset",{name:a.ID},m),d.create("legend",{innerHTML:a.Title},k),a.Choices.forEach(function(b){l=d.create("label",{"class":"radio",innerHTML:b.Label},k);n=d.create("div",null,l,"first");q=new u({value:b.Label,name:a.ID},n);q.startup()})):"select"===a.Type?(m=d.create("div",{"class":"field-wrapper"},f),d.create("legend",{innerHTML:a.Title},m),r=d.create("select",{"data-dojo-attach-point":a.ID,name:a.ID},m),a.Choices.forEach(function(a){"Select One"===
a.Label?d.create("option",{value:"",innerHTML:a.Label},r):d.create("option",{value:a.Label,innerHTML:a.Label},r)})):"email"===a.Type||"number"===a.Type?(m=d.create("div",{"class":"field-wrapper"},f),l=d.create("label",{innerHTML:a.Title},m),"email"===a.Type?d.create("input",{"data-dojo-attach-point":a.ID,type:a.Type,name:a.ID+"email",id:a.ID+"email"},m):d.create("input",{"data-dojo-attach-point":a.ID,type:a.Type,name:a.ID,id:a.ID},m)):"checkbox"===a.Type?(m=d.create("div",{"class":"field-wrapper"},
f),k=d.create("fieldset",null,m),d.create("legend",{innerHTML:a.Title},k),a.SubFields.forEach(function(a){l=d.create("label",{innerHTML:a.Label},k);v=d.create("div",null,l,"first");x=new w({name:a.ID,value:a.Label,checked:!1,required:!0},v);x.startup()})):"textarea"===a.Type&&(m=d.create("div",{"class":"field-wrapper"},f),l=d.create("label",{innerHTML:a.Title},m),d.create("textarea",{"data-dojo-attach-point":a.ID,type:a.Type,name:a.ID,id:a.ID},m)))});for(var y="",z=0;z<h.length;z++)y+=""===y?h[z]:
","+h[z];z=d.create("input",{type:"submit","class":"button p0",value:"submit"},f);p(z,"click",function(d){d.stopPropagation();d.preventDefault();d=b.toObject(c.byId("feedback-post"));var f=B.toUrl("/dashboard/feedback-post");t.post(f,{data:d,handleAs:"json",query:{formHash:a.form.Hash,extraFields:y}}).then(function(a){"error"===a.status?C.showFormErrors(c.byId("feedback-post"),a.errors):"success"===a.status&&(C.toast("Your feedback is much appreciated!"),e.hide())},function(a){})});d.place(this.rootNode,
this.content,"replace")}})})},"mojo/widgets/content-manager/DeselectAll":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dijit/_Templated dojo/text!./templates/DeselectAll.html mojo/utils mojo/analytics/parts/_Part".split(" "),function(l,k,h,f,a,c,e){return l([e,f],{templateString:a,label:"item",init:function(){this.target.selected.watch(k.hitch(this,"updateTotal"));h(this.deselectBtn,"click",k.hitch(this,function(){this.target.toggleAll(!1)}))},updateTotal:function(){var a=this.target.getSelection().length,
a=a+" "+c.plural(a,this.label);this.desktopLabel.innerHTML=a;this.mobileLabel.innerHTML=a}})})},"mojo/widgets/content-manager/DisplayToggle":function(){define(["dojo/_base/declare","mojo/analytics/parts/DisplayToggle","dojo/dom-class"],function(l,k,h){return l([k],{init:function(){this.inherited(arguments)},_showGrid:function(f){this.inherited(arguments);var a=this.target.domNode.parentNode;h.remove(a,"grid-active");h.toggle(a,"v-gridView--active",f);h.toggle(a,"v-listView--active",!f)}})})},"mojo/analytics/parts/DisplayToggle":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/text!./templates/displayToggle.html dojo/on dojo/_base/lang dojo/dom-class mojo/user".split(" "),
function(l,k,h,f,a,c,e,m){return l([k,h],{templateString:f,displayGrid:m.settings.fileManagerShowGrid,init:function(){a(this.grid,"click",c.hitch(this,function(){this._showGrid(!0)}));a(this.list,"click",c.hitch(this,function(){this._showGrid(!1)}));this._showGrid(this.displayGrid)},_showGrid:function(a){this.displayGrid=a;m.saveSetting("filemanager_show_grid",a);var b=this.target.domNode.parentNode;a?(e.add(b,"grid-active"),e.replace(this.grid,"v-buttonGroupBordered--active","depressed"),e.replace(this.list,
"depressed","v-buttonGroupBordered--active")):(e.remove(b,"grid-active"),e.replace(this.list,"v-buttonGroupBordered--active","depressed"),e.replace(this.grid,"depressed","v-buttonGroupBordered--active"))},onChange:function(a){}})})},"mojo/widgets/contact-table/FilterBar":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on mojo/url dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/filter-bar.html".split(" "),function(l,k,h,f,a,
c,e,m,d){return l([c,e,m],{templateString:d,postCreate:function(){f(this.closeButton,"click",k.hitch(this,"onClose"))},onClose:function(){}})})},"mojo/widgets/contact-table/SegmentationBar":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on mojo/url dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/segmentation-bar.html".split(" "),function(l,k,h,f,a,c,e,m,d){return l([c,e,m],{templateString:d,postCreate:function(){f(this.closeButton,
"click",k.hitch(this,"onClose"))},onClose:function(){}})})},"mojo/widgets/contact-table/TopLevelSelectionBar":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on mojo/url mojo/analytics/parts/_Part dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/top-level-selection-bar.html ./FilterBar ./SegmentationBar".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([e,m,d,b],{templateString:n,filterBar:null,segmentBar:null,
postCreate:function(){this.createSecondaryBars();this.setupListeners()},createSecondaryBars:function(){this.filterBar=new p;this.filterBar.placeAt(this.filterBarContainer,"only");a(this.filterBar,"close",k.hitch(this,"closeSecondary"));this.segmentBar=new q;this.segmentBar.placeAt(this.segmentBarContainer,"only");a(this.segmentBar,"close",k.hitch(this,"closeSecondary"))},setupListeners:function(){a(this.filterButton,"click",k.hitch(this,"handleFilterButtonClick"));a(this.segmentButton,"click",k.hitch(this,
"handleSegmentButtonClick"))},handleFilterButtonClick:function(){h.add(this.topLevelBarContainer,"hide");h.remove(this.filterBarContainer,"hide")},handleSegmentButtonClick:function(){h.add(this.topLevelBarContainer,"hide");h.remove(this.segmentBarContainer,"hide")},closeSecondary:function(){h.remove(this.topLevelBarContainer,"hide");h.add(this.filterBarContainer,"hide");h.add(this.segmentBarContainer,"hide")}})})},"mojo/widgets/contact-profile/Actions":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-construct dojo/topic dojo/dom-class dijit/registry mojo/url mojo/utils dijit/form/Select dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/user mojo/lib/flags dojo/text!./templates/actions.html ./Api".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([n,p,q],{templateString:u,memberID:null,listID:null,isSubscribed:null,isAdminUnsubscribed:null,isSubscriberUnsubscribed:null,isPending:null,isTransactional:null,isDeleted:null,hardDeleteContact:!1,isHardDeleted:!1,postCreate:function(){this.inherited(arguments);this.setupSelect()},setupSelect:function(){f.empty(this.actionsSelectContainer);if(!1!==r.flagIsOn(t.GDPR_FORGET_SUBSCRIBER)||!this.isTransactional&&!this.isDeleted)if(!r.flagIsOn(t.GDPR_FORGET_SUBSCRIBER)||
!this.isHardDeleted){var a=[];a.push({label:"Actions",value:"actions"});this.isDeleted?(a.push({label:"Delete",value:"hard-delete"}),this.ActionSelect=new b({name:"actionSelect",options:a}),this.ActionSelect.placeAt(this.actionsSelectContainer),this.ActionSelect.startup(),this.ActionSelect.on("change",k.hitch(this,"handleSelect"))):(this.isSubscribed&&a.push({label:"Unsubscribe",value:"unsubscribe"}),this.isAdminUnsubscribed&&a.push({label:"Subscribe",value:"subscribe"}),this.isSubscriberUnsubscribed&&
!this.isPending&&a.push({label:"Resend Confirmation",value:"resend"}),r.flagIsOn(t.GPDR_SUBSCRIBER_EXPORT)&&r.hasRole("admin")&&a.push({label:"Export",value:"export"}),r.flagIsOn(t.GDPR_FORGET_SUBSCRIBER)?this.isSubscribed||this.isAdminUnsubscribed?a.push({label:"Delete",value:"delete"}):a.push({label:"Delete",value:"hard-delete"}):(this.isSubscribed||this.isAdminUnsubscribed)&&a.push({label:"Delete",value:"delete"}),r.flagIsOn(t.GDPR_FORGET_SUBSCRIBER)?this.isVIP&&!this.isTransactional?a.push({label:"Remove VIP",
value:"remove-vip"}):this.canAddVIP&&!this.isTransactional&&a.push({label:"Add VIP",value:"add-vip"}):this.isVIP?a.push({label:"Remove VIP",value:"remove-vip"}):this.canAddVIP&&a.push({label:"Add VIP",value:"add-vip"}),1<a.length&&(this.ActionSelect=new b({name:"actionSelect",options:a}),this.ActionSelect.placeAt(this.actionsSelectContainer),this.ActionSelect.startup(),this.ActionSelect.on("change",k.hitch(this,"handleSelect"))))}},handleSelect:function(a){switch(a){case "unsubscribe":this.unsubscribeModal.show();
break;case "subscribe":this.subscribeModal.show();break;case "resend":this.resendModal.show();break;case "export":this.exportContact();break;case "delete":r.flagIsOn(t.GDPR_FORGET_SUBSCRIBER)?this.gdprDeleteModal.show():this.deleteModal.show();break;case "hard-delete":this.gdprHardDeleteModal.show();break;case "add-vip":this.addVIP();break;case "remove-vip":this.removeVIP()}this.ActionSelect.attr("value","actions")},dismissModals:function(){this.unsubscribeModal.hide();this.subscribeModal.hide();
this.resendModal.hide();this.deleteModal.hide()},unsubscribeMember:function(){var a=this;w.unsubscribeMember(this.memberID,function(){a.toastCallback("Contact successfully unsubscribed.")})},subscribeMember:function(){var a=this;w.subscribeMember(this.memberID,function(){a.toastCallback("Contact successfully subscribed.")})},resendMember:function(){var a=this;w.resendMember(this.memberID,function(){a.toastCallback("Confirmation email resent to contact.")})},deleteMember:function(){var a=!1;r.flagIsOn(t.GDPR_FORGET_SUBSCRIBER)?
(this.hardDeleteContact=this.hardDeleteRadio.checked,a=this.confirmDelete.validate()):a=!0;a&&(d.toggleButtonLoadingState(this.deleteBtn.domNode,"Deleting..."),w.deleteMember(this.memberID,this.deleteMemberCallback.bind(this),this.hardDeleteContact))},hardDeleteMember:function(){var a=this.gdprHardDeleteRadio.checked,b=this.gdprHardDeleteConfirm.validate();!0===a&&!0===b&&(d.toggleButtonLoadingState(this.gdprHardDeleteBtn.domNode,"Deleting..."),w.deleteMember(this.memberID,this.deleteMemberCallback.bind(this),
!0))},deleteMemberCallback:function(){window.location.replace(m.toUrl("/lists/members/?id\x3d"+this.listID))},addVIP:function(){var a=this;w.addVIP(this.memberID,function(){a.toastCallback("Contact added to VIP.")})},removeVIP:function(){var a=this;w.removeVIP(this.memberID,function(){a.toastCallback("Contact removed from VIP.")})},exportContact:function(){window.location.replace(m.toUrl("/lists/members/build-export?id\x3d"+this.memberID))},toastCallback:function(b){this.dismissModals();b&&d.toast(b);
a.publish("contact-profile/action")},hydrate:function(a){this.isSubscribed=a.isSubscribed;this.isAdminUnsubscribed=a.isAdminUnsubscribed;this.isSubscriberUnsubscribed=a.isSubscriberUnsubscribed;this.isPending=a.isPending;this.isTransactional=a.isTransactional;this.isDeleted=a.isDeleted;this.dismissModals();this.setupSelect()}})})},"mojo/widgets/contact-profile/Api":function(){define("dojo/_base/declare dojo/_base/lang dojo/request dojo/hash dojox/html/entities mojo/url mojo/utils".split(" "),function(l,
k,h,f,a,c,e){return{baseUrl:"/lists/members/",getProfileOverviewUrl:"get-subscriber-profile",getVIPUrl:"get-VIP-status",addVIPUrl:"add-gmonkey",removeVIPUrl:"rem-gmonkey",getStarRatingUrl:"get-star-rating",unsubscribeMemberUrl:"unsubscribe",subscribeMemberUrl:"subscribe",resendMemberUrl:"resubscribe",deleteMemberUrl:"delete",saveNoteUrl:"add-note",deleteNoteUrl:"delete-note",getBasicInfoUrl:"contact-basic-info",getCustomInfoUrl:"contact-merge-info",getAllInfoUrl:"contact-all-merge-info",getGroupsInfoUrl:"get-groups",
getGdprInfoUrl:"gdpr-info",getMetaInfoUrl:"contact-meta-info",saveLanguageUrl:"set-language",saveFormatUrl:"edit-optin-post",getSocialInfoUrl:"contact-social",getActivityFeedUrl:"feed",constructUrl:function(a,d,b){return c.toUrl(this.baseUrl+a+this.constructQueryString(d,b))},constructQueryString:function(a,c){var b="";a&&(b+="?id\x3d"+a);if(c)for(var e in c)c.hasOwnProperty(e)&&(b+="\x26"+e+"\x3d"+c[e]);return b},getRequest:function(a,c,b,e){return h.get(a,{handleAs:e?e:"text"}).then(function(a){c&&
c(a)},function(a){b&&b(a)})},postRequest:function(a,c,b,e){return h.post(a,{handleAs:"json",data:c}).then(function(a){b&&b(a)},function(a){e&&e(a)})},getProfileOverview:function(a,c){var b=this.constructUrl(this.getProfileOverviewUrl,a);this.getRequest(b,c,null,"json")},getVIPStatus:function(a,c){var b=this.constructUrl(this.getVIPUrl,a);this.getRequest(b,c,null,"json")},addVIP:function(a,c){var b=this.constructUrl(this.addVIPUrl,a);this.getRequest(b,c,null,"text")},removeVIP:function(a,c){var b=
this.constructUrl(this.removeVIPUrl,a);this.getRequest(b,c,null,"text")},getStarRating:function(a,c){var b=this.constructUrl(this.getStarRatingUrl,a);this.getRequest(b,c,null,"json")},unsubscribeMember:function(a,c){var b=this.constructUrl(this.unsubscribeMemberUrl,a);this.getRequest(b,c,null,"text")},subscribeMember:function(a,c){var b=this.constructUrl(this.subscribeMemberUrl,a);this.getRequest(b,c,null,"text")},resendMember:function(a,c){var b=this.constructUrl(this.resendMemberUrl,a);this.getRequest(b,
c,null,"text")},deleteMember:function(a,c,b){a=this.constructUrl(this.deleteMemberUrl,a,{hard_delete:b,redirect:!1});this.getRequest(a,c,null,"text")},addNote:function(a,c,b){a=this.constructUrl(this.saveNoteUrl,a,{note:c});this.getRequest(a,b,null,"text")},editNote:function(a,c,b,e){a=this.constructUrl(this.saveNoteUrl,a,{note:c,"note-id":b});this.getRequest(a,e,null,"text")},deleteNote:function(a,c,b){a=this.constructUrl(this.deleteNoteUrl,a,{"note-id":c});this.getRequest(a,b,null,"text")},getInfoList:function(a,
c,b){switch(c){case "basic":this.getBasicInfo(a,b);break;case "custom":this.getCustomInfo(a,b);break;case "all":this.getAllInfo(a,b);break;case "groups":this.getGroupsInfo(a,b);break;case "gdpr":this.getGdprInfo(a,b);break;case "meta":this.getMetaInfo(a,b);break;case "social":this.getSocialInfo(a,b)}},getBasicInfo:function(a,c){var b=this.constructUrl(this.getBasicInfoUrl,a);this.getRequest(b,c,null,"json")},getAllInfo:function(a,c){var b=this.constructUrl(this.getAllInfoUrl,a);this.getRequest(b,
c,null,"json")},getCustomInfo:function(a,c){var b=this.constructUrl(this.getCustomInfoUrl,a);this.getRequest(b,c,null,"json")},getGroupsInfo:function(a,c){var b=this.constructUrl(this.getGroupsInfoUrl,a);this.getRequest(b,c,null,"json")},getGdprInfo:function(a,c){var b=this.constructUrl(this.getGdprInfoUrl,a);this.getRequest(b,c,null,"json")},getMetaInfo:function(a,c){var b=this.constructUrl(this.getMetaInfoUrl,a);this.getRequest(b,c,null,"json")},submitMetaInfo:function(a,c,b){var e=this;c=this.constructUrl(this.saveLanguageUrl,
a,{lang:c});this.getRequest(c,function(){var c=e.constructUrl(e.saveFormatUrl,a,{email_type:b});e.getRequest(c,function(){f("");location.reload()},null,"text")},null,"text")},getSocialInfo:function(a,c){var b=this.constructUrl(this.getSocialInfoUrl,a);this.getRequest(b,function(a){var b=[];a.forEach(function(a){a.value&&b.push(a)});c(b)},null,"json")},getActivityFeed:function(a,c,b,e,f){b={slice_size:e,slice_start:b};c&&"all"!==c&&(b.types=c);a=this.constructUrl(this.getActivityFeedUrl,a,b);this.getRequest(a,
f,null,"json")},structureActivityFeed:function(a){var c=[],b="",f=[];a.forEach(function(a){if(a.creation_time.date&&0<a.creation_time.date.length){var h=new Date(a.formatted_user_time),k=e.getDateOnlyString(h,!1);k!==b&&(b=k,f=[],c.push({date:b,feed:f}));a.displayTime=e.getTimeString(h,!1);f.push(a)}});return c}}})},"mojo/widgets/contact-profile/ActivityFeed":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-construct dojo/dom-class dojo/request/xhr dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/activity-feed.html mojo/widgets/NoDataBlock mojo/widgets/contact-profile/activity-feed/ConversationFeedItem mojo/widgets/contact-profile/activity-feed/EcommFeedItem mojo/widgets/contact-profile/activity-feed/EmailFeedItem mojo/widgets/contact-profile/activity-feed/NoteFeedItem mojo/widgets/contact-profile/activity-feed/SubUnsubFeedItem ./Api".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){return l([m,d,b],{templateString:n,memberID:null,activityFeed:null,slice:null,size:null,activities:null,next_slice:null,postCreate:function(){this.slice=0;this.size=15;this.activities=[];this.inherited(arguments);this.structureTypeFilter();this.getActivityFeed();this.handleNoteCreation()},startup:function(){h(this.showMoreActivitiesButton,"click",k.hitch(this,"showMoreActivities"))},populateFeed:function(){var a=this;this.handleEmptyState();this.handleViewMoreButton();
this.activityFeed.forEach(function(b,c){b.date&&0<b.date.length&&(0<c&&f.place("\x3c/ul\x3e",a.feedListContainer),f.place("\x3ch4 class\x3d'!margin-bottom--lv2 !padding-top--lv4'\x3e"+b.date+"\x3c/h4\x3e",a.feedListContainer),f.place("\x3cul class\x3d'feed-date-entry' id\x3d'date-"+c+"'\x3e",a.feedListContainer));b.feed.forEach(function(b){switch(b.activity_type){case "conversation":b.label="Conversation";a.createConversationFeedItem(b,c);break;case "order":b.label="Purchased";b.icon="/images/contact-profile/purchase.svg";
a.createEcommFeedItem(b,c);break;case "sent":b.label="Was Sent";b.icon="/images/contact-profile/send.svg";a.createEmailFeedItem(b,c);break;case "open":b.label="Opened";b.icon="/images/contact-profile/open.svg";a.createEmailFeedItem(b,c);break;case "click":b.label="Clicked";b.icon="/images/contact-profile/click.svg";a.createEmailFeedItem(b,c);break;case "bounce":b.label="hard"===b.bounce_type?"Hard bounced":"soft"===b.bounce_type?"Soft bounced":"Bounced";b.icon="/images/contact-profile/bounce.svg";
a.createEmailFeedItem(b,c);break;case "note":b.label=b.created_by+" wrote a note:";b.memberID=a.memberID;b.refreshFeed=k.hitch(a,"resetFeed");a.createNoteFeedItem(b,c);break;case "subscribe":b.label="Subscribed";b.icon="/images/contact-profile/sub.svg";a.createSubUnsubFeedItem(b,c);break;case "unsub":b.label="Unsubscribed",b.icon="/images/contact-profile/unsub.svg",a.createSubUnsubFeedItem(b,c)}})})},handleEmptyState:function(){0<this.activityFeed.length?a.add(this.emptyBlock,"hide"):(f.empty(this.feedListContainer),
a.remove(this.emptyBlock,"hide"))},handleViewMoreButton:function(){this.next_slice?a.remove(this.showMoreActivitiesButton,"hide"):a.add(this.showMoreActivitiesButton,"hide")},createConversationFeedItem:function(a,b){var c=new q({data:a});this.placeFeedItem(c,b)},createEcommFeedItem:function(a,b){var c=new r({data:a});this.placeFeedItem(c,b)},createEmailFeedItem:function(a,b){var c=new t({data:a});this.placeFeedItem(c,b)},createNoteFeedItem:function(a,b){var c=new u({data:a});this.placeFeedItem(c,
b)},createSubUnsubFeedItem:function(a,b){var c=new w({data:a});this.placeFeedItem(c,b)},placeFeedItem:function(a,b){a.placeAt("date-"+b,"last")},getActivityFeed:function(a){v.getActivityFeed(this.memberID,a,this.slice,this.size,k.hitch(this,"hydrate"))},handleFilterChange:function(){this.typeFilter=this.activityTypeFilter.get("value");this.resetFeed()},handleNoteCreation:function(){var a=this;e.subscribe("contact-profile/note-added",function(){k.hitch(a,"resetFeed")()})},resetFeed:function(){this.activities=
[];this.getActivityFeed(this.typeFilter)},showMoreActivities:function(){v.getActivityFeed(this.memberID,this.typeFilter,this.next_slice,this.size,k.hitch(this,"hydrate"))},structureTypeFilter:function(){var a=this.activityTypeFilter,b={all:"All Activity",ecomm:"E-commerce",sent:"Sends",opens:"Opens",clicks:"Clicks",bounces:"Bounces",unsubs:"Unsubscribes",note:"Notes",conversation:"Conversations"},c=Object.keys(b).map(function(a){return{value:a,label:b[a],selected:!0}});a.addOption(c);h(a,"change",
k.hitch(this,"handleFilterChange"))},hydrate:function(a){this.activities=this.activities.concat(a.activities);this.activityFeed=v.structureActivityFeed(this.activities);this.next_slice=a.next_slice_start;f.empty(this.feedListContainer);this.populateFeed()}})})},"mojo/widgets/contact-profile/activity-feed/ConversationFeedItem":function(){define("dojo/_base/declare dojo/_base/lang mojo/url dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!../templates/activity-feed/activity-item-conversation.html".split(" "),
function(l,k,h,f,a,c,e){return l([f,a,c],{templateString:e,data:null,campaignConversationUrl:null,postMixInProperties:function(){this.campaignConversationUrl=h.toUrl("/reports/conversations/view?id\x3d"+this.data.campaign_id+"\x26co_id\x3d"+this.data.thread_id)}})})},"mojo/widgets/contact-profile/activity-feed/EcommFeedItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct mojo/url dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/widgets/contact-profile/activity-feed/EcommOrderItem dojo/text!../templates/activity-feed/activity-item-ecomm-order.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([c,e,m],{templateString:b,data:null,purchaseCount:null,items_left:null,postMixInProperties:function(){var a=0;this.data.order_items.forEach(function(b){a+=b.quantity});this.purchaseCount=a;this.items_left=this.purchaseCount-2;this.orderItemCount=this.data.order_items.length;this.order_items=this.data.order_items},postCreate:function(){switch(this.orderItemCount){case 0:break;case 1:this.createOrderItem(this.order_items[0],this.leftItemContainer);break;case 2:this.createOrderItem(this.order_items[0],
this.leftItemContainer);this.createOrderItem(this.order_items[1],this.centerItemContainer);break;case 3:this.createOrderItem(this.order_items[0],this.leftItemContainer);this.createOrderItem(this.order_items[1],this.centerItemContainer);this.createOrderItem(this.order_items[2],this.rightItemContainer);break;default:this.createOrderItem(this.order_items[0],this.leftItemContainer),this.createOrderItem(this.order_items[1],this.centerItemContainer),this.data.order_url?this.createSeeMoreLink():this.createPlusText()}},
createOrderItem:function(a,b){(new d({item:a})).placeAt(b)},createSeeMoreLink:function(){f.create("a",{innerHTML:"\x26#43; "+this.items_left+" more",href:this.data.order_url,target:"_blank","class":"padding-top--lv2"},this.rightItemContainer)},createPlusText:function(){f.create("p",{innerHTML:"\x26#43; "+this.items_left+" more","class":"padding-top--lv2"},this.rightItemContainer)}})})},"mojo/widgets/contact-profile/activity-feed/EcommOrderItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-class dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!../templates/activity-feed/activity-item-ecomm-order-item.html".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([c,e,m],{templateString:d,item:null,postCreate:function(){h.set(this.orderItemImage,"background-image","url('"+this.item.image_url+"')");this.item.product_url&&(f.add(this.orderItemContainer,"cursor-pointer"),a(this,"click",k.hitch(this,function(){window.open(this.item.product_url,"_blank").focus()})));1<this.item.quantity&&f.remove(this.quantityBadge,"hide")}})})},"mojo/widgets/contact-profile/activity-feed/EmailFeedItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct mojo/url dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!../templates/activity-feed/activity-item-email.html".split(" "),
function(l,k,h,f,a,c,e,m){return l([a,c,e],{templateString:m,data:null,campaignUrl:null,postMixInProperties:function(){this.campaignUrl=f.toUrl("/campaigns/show?id\x3d"+this.data.campaign_id)},postCreate:function(){"click"===this.data.activity_type&&h.place("\x3ca href\x3d'"+this.data.link_clicked+"' target\x3d'_blank'\x3ea link\x3c/a\x3e in ",this.linkClickedContainer)}})})},"mojo/widgets/contact-profile/activity-feed/NoteFeedItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/on dojox/html/entities mojo/url dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/text!../templates/activity-feed/activity-item-note.html mojo/widgets/contact-profile/AddNote ../Api".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([m,d,b],{templateString:p,data:null,noteText:null,postCreate:function(){this.inherited(arguments)},showEditNoteUI:function(){var a=new q({memberID:this.data.memberID,noteID:this.data.note_id,noteText:this.data.note_text,editSuccessCallback:k.hitch(this,"editSuccessCallback"),showCancel:!0,cancelFunction:k.hitch(this,"hideNoteEdit")});f.add(this.noteItemContainer,"hide");a.placeAt(this.editNoteContainer)},hideNoteEdit:function(){f.remove(this.noteItemContainer,
"hide");h.empty(this.editNoteContainer)},editSuccessCallback:function(){this.hideNoteEdit();this.data.refreshFeed()},showDeleteConfirmationUI:function(){f.add(this.noteItemContainer,"hide");f.remove(this.deleteNoteContainer,"hide")},hideDeleteConfirmationUI:function(){f.remove(this.noteItemContainer,"hide");f.add(this.deleteNoteContainer,"hide")},deleteNote:function(){r.deleteNote(this.data.memberID,this.data.note_id,this.data.refreshFeed)}})})},"mojo/widgets/contact-profile/AddNote":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/request/xhr dojo/dom-class dojo/topic mojo/url dojox/html/entities dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/add-note.html ./Api".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([d,b,n],{templateString:p,noteHeader:null,memberID:null,noteID:null,editSuccessCallback:null,maxChars:1E3,charCount:0,remainingChars:1E3,noteText:null,showCancel:null,cancelFunction:null,postCreate:function(){this.inherited(arguments);this.setupInput()},setupInput:function(){this.noteText?(this.noteTextarea.value=this.noteText,this.noteHeader.innerText="Edit Note",this.saveNoteButton.innerText="Save Note",this.showCancel&&this.cancelFunction&&(a.remove(this.cancelNoteButton,
"hide"),h(this.cancelNoteButton,"click",k.hitch(this,"cancelFunction")))):this.noteHeader.innerText="Write a Note";h(this.saveNoteButton,"click",k.hitch(this,"saveNote"));h(this.noteTextarea,"keyup",k.hitch(this,"updateCharCount"));this.updateCharCount()},updateCharCount:function(){this.charCount=this.noteTextarea.value.length;this.remainingChars=this.maxChars-this.charCount;this.noteText=this.noteTextarea.value;this.remainingCharsContainer.innerHTML=m.encode(this.remainingChars.toString());0<this.charCount&&
this.charCount<=this.maxChars?a.remove(this.saveNoteButton,"disabled"):a.add(this.saveNoteButton,"disabled")},saveNote:function(){this.memberID&&0<this.charCount&&(this.noteID?q.editNote(this.memberID,this.noteText,this.noteID,this.editSuccessCallback):q.addNote(this.memberID,this.noteText,k.hitch(this,"resetInput")))},resetInput:function(){this.noteTextarea.value="";this.updateCharCount();c.publish("contact-profile/note-added")}})})},"mojo/widgets/contact-profile/activity-feed/SubUnsubFeedItem":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct mojo/url dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!../templates/activity-feed/activity-item-sub-unsub.html".split(" "),
function(l,k,h,f,a,c,e,m){return l([a,c,e],{templateString:m,data:null,postCreate:function(){var a=this.unsubContentContainer,b="\x3cspan\x3e with the reason: "+this.data.unsubscribe_reason+"\x3c/span\x3e";this.data.is_admin_unsubscribed&&h.place("\x3cspan\x3eadmin action.\x3c/span\x3e",a);this.data.is_admin_unsubscribed||this.data.campaign_id||(h.place("\x3cspan\x3ean unsubscribe form\x3c/span\x3e",a),h.place(b,a));if(this.data.campaign_id){var c="\x3ca class\x3d'text-decoration--underline' href\x3d'"+
f.toUrl("/campaigns/show?id\x3d"+this.data.campaign_id)+"' target\x3d'_blank'\x3e"+this.data.campaign_title+"\x3c/a\x3e";h.place(c,a);h.place(b,a)}}})})},"mojo/widgets/contact-profile/ContactFields":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojox/html/entities mojo/url mojo/utils mojo/widgets/contact-profile/FieldsList dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/contact-fields.html ./Api".split(" "),function(l,k,h,f,a,c,e,
m,d,b,n,p){return l([m,d,b],{templateString:n,memberID:null,openRate:null,clickRate:null,currency_symbol:null,has_ecomm:null,ecomm_total:null,order_average:null,has_social:null,social_profile_buy_module:null,connectStoreUrl:null,gdprEnabled:!1,postCreate:function(){this.inherited(arguments);this.setupLists();this.has_ecomm?h.remove(this.ecommEngagementContainer,"hide"):h.remove(this.nonEcommEngagementContainer,"hide");this.has_social||h.remove(this.enhanceContainer,"hide");this.social_profile_buy_module&&
h.remove(this.socialProfileLink,"hide")},postMixInProperties:function(){this.openRate*=100;this.openRate=this.openRate===Math.floor(this.openRate)?c.numberFormat(this.openRate,0,".",""):c.numberFormat(this.openRate,1,".","");this.clickRate*=100;this.clickRate=this.clickRate===Math.floor(this.clickRate)?c.numberFormat(this.clickRate,0,".",""):c.numberFormat(this.clickRate,1,".","");this.ecomm_total=c.numberFormat(this.ecomm_total,2,".",",");this.order_average=c.numberFormat(this.order_average,2,".",
",");this.connectStoreUrl=a.toUrl("/account/connected-sites/wizard/");this.social_profile_buy_module=a.toUrl(this.social_profile_buy_module)},setupLists:function(){(new e({listName:"Profile Information",memberID:this.memberID,listEndpoint:"all",editModalID:"edit-profile-dialog"})).placeAt(this.contactFieldsContainer);(new e({listName:"Groups",memberID:this.memberID,listEndpoint:"groups",editModalID:"edit-groups-dialog"})).placeAt(this.contactFieldsContainer);this.gdprEnabled&&(new e({listName:"GDPR",
memberID:this.memberID,listEndpoint:"gdpr",editModalID:"edit-gdpr-dialog"})).placeAt(this.contactFieldsContainer);(new e({listName:"Other",memberID:this.memberID,listEndpoint:"meta",editModalID:"edit-meta-dialog"})).placeAt(this.contactFieldsContainer);this.has_social&&(new e({listName:"Social Profiles",listItems:this.socialInfoList,memberID:this.memberID,listEndpoint:"social"})).placeAt(this.contactFieldsContainer)}})})},"mojo/widgets/contact-profile/FieldsList":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/on dojo/hash dijit/registry dojox/html/entities mojo/widgets/contact-profile/FieldsListItem dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/fields-list.html ./Api".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([b,n,p],{templateString:q,memberID:null,listName:null,listItems:null,listEndpoint:null,editModalID:null,postCreate:function(){this.inherited(arguments);r.getInfoList(this.memberID,this.listEndpoint,k.hitch(this,"hydrate"));var b=this;this.editModalID&&(f.remove(this.editLink,"hide"),a(this.editLink,"click",function(){e.byId(b.editModalID).show();c(b.editModalID)}))},createListItems:function(){0<this.listItems.length?(f.remove(this.listOuterContainer,
"hide"),Object.keys(this.listItems).forEach(function(a){(new d({data:{label:this.listItems[a].label,value:this.listItems[a].value,type:this.listItems[a].type}})).placeAt(this.listContainer,"last")},this)):h.destroy(this.listOuterContainer)},getListItemType:function(a){return a.isLocation?"location":a.isSocial?"social":"normal"},hydrate:function(a){this.listItems=a;this.createListItems()}})})},"mojo/widgets/contact-profile/FieldsListItem":function(){define("dojo/_base/declare dojo/_base/lang dojox/html/entities dojo/dom-construct dojo/query dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dojo/text!./templates/fields-list-item-container.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([e,m,d],{templateString:n,data:null,defaultValue:"\x26mdash;",postCreate:function(){this.inherited(arguments);this.createListItem()},createListItem:function(){var d;switch(this.data.type){case "location":var e=this.data.value.name?this.data.value.name:"Unknown",h=this.data.value.lat&&this.data.value.long?"http://maps.google.com/maps?q\x3d"+this.data.value.lat+","+this.data.value.long:null,k=this.data.value.cc?"https://cdn-images.mailchimp.com/icons/flags_iso/flat/16/"+
this.data.value.cc+".png":null;d="\x3cp class\x3d'contact-field' title\x3d'"+e+"'\x3e";h&&(d+="\x3ca href\x3d'"+h+"' target\x3d'_blank'\x3e"+e+"\x3c/a\x3e");k&&(d+="\x3cimg class\x3d'valign-middle padding-left--lv1' src\x3d'"+k+"'/\x3e");d+="\x3c/p\x3e";break;case "link":d="\x3cp class\x3d'contact-field' title\x3d'"+this.data.value+"'\x3e\x3ca href\x3d'"+this.data.value+"' target\x3d'_blank'\x3e"+this.data.value+"\x3c/a\x3e\x3c/p\x3e";break;case "staticModal":d="\x3cp class\x3d'contact-field' title\x3d'"+
this.data.value+"'\x3e\x3ca href\x3d'#' class\x3d'staticModalLink'\x3e"+this.data.value+"\x3c/a\x3e\x3c/p\x3e";break;default:d=this.data.value?"\x3cp class\x3d'contact-field' title\x3d'"+this.data.value+"'\x3e"+this.data.value+"\x3c/p\x3e":"\x3cp class\x3d'contact-field dim-el'\x3e"+this.defaultValue+"\x3c/p\x3e"}f.place(d,this.valueContainer);(d=a(".staticModalLink")[0])&&c(d,"click",function(){b.byId("form-version-dialog").show()})}})})},"mojo/widgets/contact-profile/ProfileOverview":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/on dojo/hash dojo/parser dojo/topic dijit/registry dojox/html/entities mojo/utils mojo/url mojo/widgets/contact-profile/Actions mojo/widgets/contact-profile/StarRating mojo/widgets/FeedbackBlock dijit/form/Select dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/profile-overview.html ./Api".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){return l([w,v,y],{templateString:x,memberID:null,listID:null,memberAvatar:null,memberName:null,hasPredictedDemo:null,predictedGender:null,predictedAge:null,originatingSource:null,originatingTimestamp:null,statusBadge:null,isSubscribed:null,isAdminUnsubscribed:null,isSubscriberUnsubscribed:null,isPending:null,isTransactional:null,isVIP:null,canAddVIP:null,isDeleted:null,isHardDeleted:!1,postCreate:function(){this.getProfileOverview();this.setupListeners()},
setupProfile:function(){f.add(this.profileOverviewContainer,"hide");this.handleFeedbackBlocks();this.handleBadges();this.createSelect();this.createStarRating();this.memberAvatar&&h.place("\x3cimg src\x3d"+this.memberAvatar+" class\x3d'border-radius--lv1' style\x3d'object-fit:contain;'/\x3e",this.avatarContainer,"only");this.nameContainer.innerText=this.memberName;this.originatingSource=h.toDom(this.originatingSource);h.place(this.originatingSource,this.originatingSourceContainer,"only");if(this.originatingTimestamp&&
this.originatingTimestamp.date){var a=this.originatingTimestamp.date.split("-").join("/"),a=a.substr(0,a.indexOf(".")),a=new Date(a);this.originatingTimestamp=" on "+n.getDateOnlyString(a,!1)+" at "+n.getTimeString(a,!1);this.originatingTimestampContainer.innerText=this.originatingTimestamp}this.hasPredictedDemo?(this.genderContainer.innerText=this.predictedGender,this.ageContainer.innerText=this.predictedAge,f.remove(this.predictedDemoContainer,"hide")):f.add(this.predictedDemoContainer,"hide");
f.remove(this.profileOverviewContainer,"hide")},setupListeners:function(){m.subscribe("contact-profile/action",k.hitch(this,"getProfileOverview"))},handleFeedbackBlocks:function(){this.isTransactional&&this.createFeedbackBlock("This person is only eligible for \x3ca href\x3d'http://kb.mailchimp.com/integrations/e-commerce/best-practices-for-e-commerce-subscribers#Understand-E-Commerce-Customers-and-Permission' target\x3d'_blank'\x3etransactional emails\x3c/a\x3e.");this.isDeleted&&this.createFeedbackBlock("This contact is deleted.")},
createFeedbackBlock:function(a){this.feedbackBlock=new t({message:a,type:"warning"});this.feedbackBlock.placeAt(this.feedbackBlockContainer,"last")},handleBadges:function(){h.empty(this.statusBadgeContainer);this.statusBadge=h.toDom(this.statusBadge);h.place(this.statusBadge,this.statusBadgeContainer,"last");this.isVIP?f.remove(this.vipBadge,"hide"):f.add(this.vipBadge,"hide")},createSelect:function(){h.empty(this.actionsContainer);var a=new q({memberID:this.memberID,listID:this.listID,isSubscribed:this.isSubscribed,
isAdminUnsubscribed:this.isAdminUnsubscribed,isSubscriberUnsubscribed:this.isSubscriberUnsubscribed,isPending:this.isPending,isTransactional:this.isTransactional,isDeleted:this.isDeleted,isHardDeleted:this.isHardDeleted,isVIP:this.isVIP,canAddVIP:this.canAddVIP});a.placeAt(this.actionsContainer,"only");a.startup()},createStarRating:function(){h.empty(this.starRatingContainer);var a=new r({memberID:this.memberID});a.placeAt(this.starRatingContainer,"only");a.startup()},getProfileOverview:function(){A.getProfileOverview(this.memberID,
k.hitch(this,"hydrate"))},hydrate:function(a){this.memberAvatar=a.memberAvatar;this.memberName=a.memberName;this.hasPredictedDemo=a.hasPredictedDemo;this.predictedGender=a.predictedGender;this.predictedAge=a.predictedAge;this.originatingSource=a.originatingSource;this.originatingTimestamp=a.originatingTimestamp;this.statusBadge=a.statusBadge;this.isSubscribed=a.isSubscribed;this.isAdminUnsubscribed=a.isAdminUnsubscribed;this.isSubscriberUnsubscribed=a.isSubscriberUnsubscribed;this.isPending=a.isPending;
this.isTransactional=a.isTransactional;this.isVIP=a.isVIP;this.canAddVIP=a.canAddVIP;this.isDeleted=a.isDeleted;this.setupProfile()}})})},"mojo/widgets/contact-profile/StarRating":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/star-rating.html ./Api".split(" "),function(l,k,h,f,a,c,e,m,d){return l([a,c,e],{templateString:m,memberID:null,starRating:null,postCreate:function(){this.inherited(arguments);
this.getStarRating()},createStarRating:function(){for(var a="",c=1;5>=c;c++)a=this.starRating>=c?a+'\x3cli role\x3d"presentation"\x3e\x3cspan class\x3d"freddicon star-fill"\x3e\x3c/span\x3e\x3c/li\x3e':a+'\x3cli role\x3d"presentation"\x3e\x3cspan class\x3d"freddicon graystar-fill"\x3e\x3c/span\x3e\x3c/li\x3e';f.place(a,this.starListContainer,"last")},getStarRating:function(){d.getStarRating(this.memberID,k.hitch(this,"hydrate"))},hydrate:function(a){this.starRating=a.starRating;this.createStarRating()}})})},
"mojo/widgets/contact-profile/Tags":function(){define("dojo/_base/declare dojo/_base/lang dojo/keys dojo/on dojo/dom-construct dojo/dom-class dojo/query dijit/registry dijit/form/DropDownButton mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/tags.html mojo/widgets/tags/TagBadge mojo/widgets/tags/TagOverlay ../tags/Api".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([n,p,q],{templateString:r,memberID:null,listID:null,contactTagsList:null,
listTags:null,taggingButton:null,tagOverlay:null,tagBadgeHandles:[],postCreate:function(){this.inherited(arguments);w.getTags(this.listID,this.memberID,k.hitch(this,"hydrate"));this.tagOverlay=new u({tags:this.listTags,contacts:[this.memberID],listId:this.listID,tagCreationAllowed:!0,successCallback:k.hitch(this,"successCallback")});this.taggingButton=new d({label:"",dropDown:this.tagOverlay},this.taggingButton);this.taggingButton.startup();this.setupListeners()},populateCurrentTags:function(){var b=
this;this.destroyCurrentTags();1>this.contactTagsList.length?(a.empty(this.contactTagsListContainer),c.remove(this.noContactTags,"hide")):(c.add(this.noContactTags,"hide"),this.contactTagsList.forEach(function(a){a=new t({tagID:a.tag_id,tagName:a.tag_name,readOnly:!1});a.placeAt(b.contactTagsListContainer,"last");a=f(a,"remove",k.hitch(b,"removeTagFromContact"));b.tagBadgeHandles.push(a)}))},destroyCurrentTags:function(){a.empty(this.contactTagsListContainer);this.tagBadgeHandles.forEach(function(a){a.remove()});
this.tagBadgeHandles=[]},setupListeners:function(){f(this.tagOverlay,"applyTag",k.hitch(this,"applyTagToContact"));f(this.tagOverlay,"removeTag",k.hitch(this,"removeTagFromContact"));f(this.tagOverlay,"createTag",k.hitch(this,"createTag"))},applyTagToContact:function(a){w.applyTagToContacts(this.listId,[this.memberID],a,k.hitch(this,"successCallback"))},removeTagFromContact:function(a){w.removeTagFromContacts(this.listID,[this.memberID],a,k.hitch(this,"successCallback"))},createTag:function(){w.createTagApplyToContacts(this.listID,
this.tagOverlay.getInputValue(),[this.memberID],k.hitch(this,"successCallback"))},successCallback:function(){w.getTags(this.listID,this.memberID,k.hitch(this,"hydrate"));b.toast("Successfully updated contact's tags");this.taggingButton.closeDropDown();this.tagOverlay.setLoadingState(!0)},hydrate:function(a){var b=this;this.contactTagsList=a.contact_tags;this.listTags=a.list_tags;this.listTags.forEach(function(a){b.contactTagsList.forEach(function(b){b.tag_id===a.tag_id&&(a.state="ALL")});a.state||
(a.state="NONE")});this.populateCurrentTags();this.tagOverlay.setTags(this.listTags);this.tagOverlay.refresh()}})})},"mojo/widgets/checklist-editor/Container":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-construct dojo/dom-class dojo/when mojo/widgets/Renderable ./Item dojo/text!./templates/container.html".split(" "),function(l,k,h,f,a,c,e,m,d){return l([e],{templateString:d,renderedItems:null,positions:{before:"headerContainer","default":"primaryItemsContainer",after:"secondaryItemsContainer"},
constructor:function(a){this.state={model:a.model}},save:function(a){return c(this.onSave(a,this.state.model),this._setModel.bind(this))},_setModel:function(a){this.setState({model:a})},setActiveItem:function(){this.renderedItems.forEach(function(a){a.state.isActive||a.setState({isDisabled:!0})});this.toggleSidebarIsItemActive(!0);this.status.setState({isItemActive:!0})},clearActiveItem:function(){this.renderedItems.forEach(function(a){a.setState({isDisabled:!1})});this.toggleSidebarIsItemActive(!1);
this.status.setState({isItemActive:!1})},toggleSidebarIsItemActive:function(a){this.sidebar&&this.sidebar.setState({isItemActive:a})},render:function(){this.inherited(arguments);this.renderItems();this.renderStatus();this.renderSidebar()},renderSidebar:function(){if(this.sidebarWidget){this.sidebar&&this.sidebar.destroy();var b=this.sidebarContainer;a.remove(b,"hide");this.sidebar=new this.sidebarWidget({model:this.state.model});this.sidebar.placeAt(b)}},renderStatus:function(){var a=this.state.model,
c=this.items.filter(function(c){return c.isComplete(a)&&c.isValid(a)}),d=c.length===this.items.length,e=this.items.length-c.length;this.status&&this.status.destroy();var f=h.byId("slot-campaignChecklistStatusBar");this.status=new this.statusWidget({model:a,completeItems:c,isReady:d,remainingItems:e});this.status.placeAt(f)},renderItems:function(){this.renderedItems=this.items.map(function(a){var c=this.positions[a.position||"default"];a=new (a.widget||m)(k.mixin({},a,{onSave:this.save.bind(this),
onActivate:this.setActiveItem.bind(this),onDeactivate:this.clearActiveItem.bind(this),model:this.state.model}));a.placeAt(this[c]);return a},this)}})})},"mojo/widgets/checklist-editor/Item":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class mojo/widgets/Renderable dojo/text!./templates/item.html".split(" "),function(l,k,h,f,a,c){return l([a],{saveLabel:"Save",cancelLabel:"Cancel",errorLabel:"Resolve",templateString:c,classNames:["c-slatMeta","c-checklistSlat","flex","padding--lv3"],
state:{isActive:!1,isDisabled:!1,isEmpty:!0,isSaving:!1,isValid:!1},canToggleAvailability:!0,constructor:function(a){this.isComplete=a.isComplete||a.contentWidget.isComplete;this.isValid=a.isValid||a.contentWidget.isValid;this.state.isActive=a.isActive||!1;this.state.isDisabled=a.isDisabled||!1;this.state.isReadOnly=!!a.isReadOnly;this.extraProps=a.extraProps||{};this.actionLabel||(this.actionLabel="Add "+a.label);this.editLabel||(this.editLabel="Edit "+a.label);if(!this.isComplete)throw new RangeError("content editor item must have isComplete defined as a function");
if(!this.isValid)throw new RangeError("content editor item must have isValid defined as a function");this.canToggleAvailability="boolean"===typeof a.canToggleAvailability?a.canToggleAvailability:this.canToggleAvailability},render:function(){this.inherited(arguments);this.createNewContentWidget();this.content.placeAt(this.itemContent)},createNewContentWidget:function(){this.content=new this.contentWidget(k.mixin({actionLabel:this.actionLabel,activate:this.activate.bind(this),cancel:this.cancel.bind(this),
description:this.description,isActive:this.state.isActive,isComplete:this.isComplete(this.model),isPending:this.isPending&&this.isPending(this.model),isSaving:this.state.isSaving,isValid:this.isValid(this.model),model:this.model,onSave:this.onSave.bind(this)},this.extraProps))},cancel:function(a){a.preventDefault();this.createNewContentWidget();this.deactivate();this.setState({errors:{}})},activate:function(){this.setState({isActive:!0});this.onActivate()},deactivate:function(){this.setState({isActive:!1});
this.onDeactivate()},setState:function(){var a=arguments[0];"boolean"!==typeof a.isDisabled||this.canToggleAvailability||(a=k.clone(a),delete a.isDisabled);this.inherited(arguments,[a])}})})},"mojo/widgets/checklist-editor/NotifySenders":function(){define("dojo/_base/declare dojo/_base/lang mojo/widgets/Renderable mojo/api/campaign dojo/text!./templates/_notify-senders.html dijit/Dialog mojo/url".split(" "),function(l,k,h,f,a,c,e){return l([h],{templateString:a,notifyUrl:e.toUrl("/campaigns/wizard/notify"),
notifySendersModal:null,constructor:function(a){this.notifySendersModal=new c({title:"Notify Senders"});a=a.model;this.defaultMessage='I finished the "'+a.name+"\" campaign, reviewed the pre-delivery checklist and it's ready to send.";this.state={campaignId:a.campaignId,message:this.defaultMessage,admins:null,selectedAdmins:{},errorMessage:"",isSaving:!1};f.getAdminsForUser().then(k.hitch(this,function(a){this.setState({admins:a,selectedAdmins:this.getDefaultSelectedAdmins(a)})}))},getDefaultSelectedAdmins:function(a){return a.reduce(k.hitch(this,
function(a,b){a[b.id]=!0;return a}),{})},render:function(){this.inherited(arguments);this.placeAt(this.notifySendersModal.containerNode)},cancel:function(a){a.preventDefault();this.notifySendersModal.hide()},submit:function(a){a.preventDefault();0<this.state.admins.filter(function(a){return this.state.selectedAdmins[a.id]},this).length?a.target.submit():this.setState({errorMessage:"You must choose at least one person to notify."})},updateMessage:function(a){this.state.message=a.target.value},updateSelectedAdmins:function(a,
c){this.state.selectedAdmins[a]=c},show:function(){this.setState({message:this.defaultMessage,selectedAdmins:this.getDefaultSelectedAdmins(this.state.admins||[]),errorMessage:""});this.notifySendersModal.show()}})})},"mojo/api/campaign":function(){define("dojo/_base/declare dojo/_base/lang dojo/request/xhr dojox/html/entities vendor/lodash-amd/values vendor/lodash-amd/some mojo/lib/Poller mojo/lib/request-helpers mojo/lib/flags mojo/context mojo/api/segment mojo/user mojo/widgets/content-manager/Api mojo/url ./campaign/PresendChecksCollection".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){var u=l(null,{constructor:function(a){this.type=a.type;this.id=a.id;this.name=a.name;this.value=a.value}}),w=l(null,{constructor:function(a){this.mustBePruned=a.must_be_pruned;this.mustUndoImports=a.must_undo_imports;this.mustReconfirm=a.must_reconfirm;this.mustReconfirmExternal=a.must_reconfirm_external;this.hasRecentReconfirmation=a.has_recent_reconfirmation;this.reconfirmCount=a.reconfirm_count;this.hasDraftReconfirmation=a.has_draft_reconfirmation},hasBlockingIssues:function(){return c([this.mustBePruned,
this.mustUndoImports,this.mustReconfirmExternal])}}),v=l(null,{constructor:function(a){this.listId=a.list_id;this.name=a.name;this.createdAt=new Date(a.created_at);this.isDeleted=!0===a.is_deleted;this.deletedAt=new Date(a.deleted_at);this.isDisabled=!0===a.is_disabled;this.defaults={fromName:a.defaults.from_name,fromEmail:a.defaults.from_email,fromEmailIsVerified:a.defaults.from_email_verified,subject:a.defaults.subject};this.mergeFields=a.merge_fields;this.complianceStatus=new w(a.compliance_status)}}),
y=l([u],{constructor:function(a){this.count=a.count}});u.createFromProperties=function(a){return null===a?null:"pasted"===a.type?new y(a):new u(a)};var x=l(null,{constructor:function(a){this.count=null;this.recipientsAreReady=a.recipients_are_ready;this.segment=u.createFromProperties(a.segment);this.personalizeToTag=a.content.to_email||"";a.list&&(this.count="send_count"in a&&this.recipientsAreReady?a.send_count:null,this.listId=a.list.list_id,this.listName=a.list.name)},needsRecipientCount:function(){return!0!==
this.recipientsAreReady}});x.requestRecipientCount=function(a){x._countRequest||(x._countRequest=a.getRecipientCountRequest(),x._countRequest.then(x._clearCountRequest));return x._countRequest};x.cancelRecipientCount=function(){x._countRequest&&!x._countRequest.isFulfilled()&&(x._countRequest.cancel(),x._clearCountRequest())};x._clearCountRequest=function(){x._countRequest=null};x.getRecipientsPatchFromData=function(a){var b={};"listId"in a&&(b=k.mixin({},b,{list_id:a.listId}));"segment"in a&&(b=
k.mixin({},b,{segment:a.segment}));"personalizeToTag"in a&&(b=k.mixin({},b,{content:{to_email:a.personalizeToTag}}));return b};var A=l(null,{constructor:function(a){this.maxFileSize=a.max_file_size;this.maxFiles=a.max_files;this.shouldAutopost=a.should_autopost;this.content=a.content;this.fileData=a.file_data?a.file_data.map(function(a){return{selectedVersionUrl:a.selected_version_url,fileData:a.file_item?new q.FileItem(a.file_item):null}}):null}}),z=l(null,{constructor:function(a){this.maxFileSize=
a.max_file_size;this.maxFiles=a.max_files;this.shouldAutopost=a.should_autopost;this.content=a.content;this.fileData=a.file_data?a.file_data.map(function(a){return{selectedVersionUrl:a.selected_version_url,fileData:a.file_item?new q.FileItem(a.file_item):null}}):null}});z.getPatchFromData=function(a){var b={},c={};"shouldAutopost"in a&&(c.ig_should_autopost=a.shouldAutopost);"content"in a&&(c.auto_ig_content=a.content);"fileData"in a&&(c.auto_ig_file_data=a.fileData);return b=k.mixin({},b,{social:k.mixin({},
b.social,c)})};A.getPatchFromData=function(a){var b={};"shouldAutopost"in a&&(b=k.mixin({},b,{content:{auto_tweet:a.shouldAutopost}}));var c={};"content"in a&&(c.auto_tweet_content=a.content);"fileData"in a&&(c.auto_tweet_file_data=a.fileData);return b=k.mixin({},b,{social:k.mixin({},b.social,c)})};var B=l(null,{constructor:function(a){this.maxFileSize=a.max_file_size;this.maxFiles=a.max_files;this.pageIds=a.page_ids;this.content=a.content;this.fileData=a.file_data?a.file_data.map(function(a){return{selectedVersionUrl:a.selected_version_url,
fileData:a.file_item?new q.FileItem(a.file_item):null}}):null;this.shouldAutopost=!(!this.pageIds||!this.content)}});B.getPatchFromData=function(a){var b={};"pageIds"in a&&(b=k.mixin({},b,{content:{auto_fb_post:Array.isArray(a.pageIds)?a.pageIds.join(","):null}}));var c={};"content"in a&&(c.auto_fb_content=a.content);"fileData"in a&&(c.auto_fb_file_data=a.fileData);return b=k.mixin({},b,{social:k.mixin({},b.social,c)})};var C=l(null,{constructor:function(a){this.twitter=new A(a.social.twitter);this.facebook=
new B(a.social.facebook);this.instagram=new z(a.social.instagram)}});C.getSocialPatchFromData=function(a){var b={};"twitter"in a&&(b=k.mixin({},b,A.getPatchFromData(a.twitter)));"facebook"in a&&(b=k.mixin({},b,B.getPatchFromData(a.facebook)));"instagram"in a&&(b=k.mixin({},b,z.getPatchFromData(a.instagram)));return b};var D=l(null,{constructor:function(a){this.fromName=a.content.from_name;this.fromEmail=a.content.from_email;this.isVerifiedEmail=a.content.is_verified_email}}),F=l(null,{constructor:function(a){this.subject=
a.content.subject;this.previewText=a.content.preview_text;this.shortUrlLength=a.content.short_url.length}}),G=l(null,{constructor:function(a){a&&(this.useConversation=a.content.use_conversation,this.convertVideo=a.content.convert_video,this.trackOpens=a.content.track_opens,this.trackClicksHTML=a.content.track_clicks_html,this.trackClicksText=a.content.track_clicks_text,this.analytics=a.content.analytics,this.analyticsTag=a.content.analytics_tag,this.ecomm360=a.content.ecomm360,this.clicktale=a.content.clicktale,
this.clicktaleTag=a.content.clicktale_tag,this.gooal=a.content.gooal,this.googleEnabled=a.google_enabled,this.isGoalAvailable=a.is_goal_available,this.isGoalEnabled=a.is_goal_enabled,this.convoNotifierCount=a.convo_notifier_account,this.crmSfExists=a.crm.salesforce,this.crmJavExists=a.crm.capsule,a.crm.salesforce&&(this.crmSfCreateNotes=a.crm.salesforce.create_notes,this.crmSfCreateCampaign=a.crm.salesforce.create_campaign),a.crm.capsule&&(this.crmJavCreateNotes=a.crm.capsule.create_notes))}}),I=
l(null,{constructor:function(a){a.promotion&&(this.promotion=a.promotion,this.promotionIsEnabled=a.promotion.is_enabled,this.promotionIsComplete=a.promotion.is_complete)}}),L=l(null,{constructor:function(a){this.nonaccountRecipients=a?a.nonaccount_recipients:[];this.accountRecipients=a?a.account_recipients:[];this.recipients=a?a.recipients:[]},getDefaultTestEmails:function(){return this.nonaccountRecipients.join(", ")}}),J=l(null,{constructor:function(a){this.rootDomain=a.campaign_url.root_domain;
this.campaignToken=a.campaign_url.campaign_token;this.brandToken=a.campaign_url.brand_token;this.mostRecentArchiveMapping=a.campaign_url.mostRecentArchiveMapping;this.mostRecentArchiveMappingCanEdit=a.campaign_url.mostRecentArchiveMappingCanEdit;this.canCustomizeArchiveUrl=a.campaign_url.canCustomizeArchiveUrl;this.brands=a.campaign_url.brands;this.url=a.campaign_url.url;this.isDuplicateCampaignUrl=a.campaign_url.is_duplicate}}),T=l(null,{constructor:function(a){var b=a.compliance_status;this.accountReviewIsRequired=
b.account_review_is_required;this.exceedsSingleCampaignLimit=b.exceeds_single_campaign_limit;this.exceedsDailyCampaignLimit=b.exceeds_daily_campaign_limit;this.exceedsAvailableCredits=b.exceeds_available_credits;this.creditsLeft=b.credits_left;this.minimumPackage=b.minimum_package;this.egpPredictionWarning=a.egp_prediction_warning},hasBlockingIssues:function(){return c([this.exceedsSingleCampaignLimit,this.exceedsDailyCampaignLimit,this.exceedsAvailableCredits,this.egpPredictionWarning])}}),V=l(null,
{constructor:function(a){this.id=a.id;this.name=a.name}}),P={patchById:function(a,b){var c=r.toUrl("/campaigns/api/patch",{campaign_id:a});return h.post(c,{handleAs:"json",data:{patch:JSON.stringify(b)}}).then(this.createFromProperties.bind(this),m.throwError)},createFromProperties:function(a){return new H(a)},CampaignRecipients:x,getAdminsForUser:function(a){return h.post(r.toUrl("/campaigns/users-to-notify"),{handleAs:"json"}).then(function(a){return a&&a.map(function(a){return new V(a)})})}},K=
function(a,b){return a&&!p.hasRole(b)?{canResolve:!1,message:"admin"===b?"An admin must resolve this.":"A manager or admin must resolve this."}:{canResolve:!0}},M=function(a){var b,c={scope:null,descriptionShort:null,descriptionLong:null,title:null,resolution:{action:{title:null,attr:null},roleNeeded:"author",canResolve:null,cantResolveMessage:null}};b=a.list;if(a&&a.egpPredictionWarning){c.scope="list";if("no_send"===a.egpPrediction.actionRequired)return c.descriptionShort="MailChimp's abuse prevention system has identified issues with the addresses on "+
f.encode(a.list.name)+".",c.descriptionLong=["MailChimp's abuse prevention system, Omnivore, has identified some issues with the addresses on \x3cstrong\x3e"+f.encode(a.list.name)+"\x3c/strong\x3e that have never been sent to through our system.",'Omnivore has indicated that these addresses may cause high \x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/about-abuse-complaints" target\x3d"_blank"\x3eabuse complaints\x3c/a\x3e or \x3ca href\x3d"http://kb.mailchimp.com/delivery/deliverability-research/soft-vs-hard-bounces" target\x3d"_blank"\x3ebounce rates\x3c/a\x3e, and could contain \x3ca href\x3d"http://kb.mailchimp.com/lists/managing-subscribers/about-spamtraps" target\x3d"_blank"\x3espamtrap addresses\x3c/a\x3e. These are serious issues when it comes to email marketing and delivery.  The issues with these addresses will need to be resolved before the list can be sent to.',
'Remember that all lists used in your MailChimp account must be current and up-to-date, and comply with our \x3ca href\x3d"http://mailchimp.com/legal/" target\x3d"_blank"\x3eTerms of Use and Acceptable Use Policies\x3c/a\x3e. Our Knowledge Base has further information about \x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/examples-of-compliant-and-non-compliant-lists" target\x3d"_blank"\x3esupported lists\x3c/a\x3e and \x3ca href\x3d"http://kb.mailchimp.com/lists/growth/best-practices-for-lists" target\x3d"_blank"\x3ebest practices\x3c/a\x3e.'],
c.resolution.action.attr="data-dojo-attach-event\x3d'click: openReconfirmDialog'",c.resolution.action.title="Resolve",c.resolution.roleNeeded="manager",b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=b.canResolve?null:b.message,c;c.descriptionShort="MailChimp's abuse prevention system has identified issues with your recent import.";c.descriptionLong=['MailChimp\'s abuse prevention system, Omnivore, automatically scanned your recent import. Omnivore flagged the list for having a large number of addresses that may cause complaints, high bounce rates, or blacklistings. \x3ca href\x3d"http://mailchimp.com/resources/research" target\x3d"_blank"\x3eOur research\x3c/a\x3e shows that this can lead to increased abuse and complaint rates. This is known as a \'stale\' list. Stale lists are often older lists, and may not have been sent to in some time, are collected through supported methods, and/or improperly managed for bounces and unsubscribe requests.',
"Internet Service Providers and email services set limits on the number of emails that report abuse, send to spam traps, and generate high bounce rates. When those limits are exceeded, the sender of the emails can be blocked from further sending."];c.resolution.action.attr="data-dojo-attach-event\x3d'click: openBounceWarningDialog'";c.resolution.action.title="Resolve";c.resolution.roleNeeded="manager";b=K(c.resolution.action,c.resolution.roleNeeded);c.resolution.canResolve=b.canResolve;c.resolution.cantResolveMessage=
b.canResolve?null:b.message;return c}return!p.canSend&&p.whyNotSend?(c.title="Sending Disabled",c.descriptionLong=[p.whyNotSend],c.descriptionShort=c.descriptionLong[0],c.scope="account",p.isPaused&&(c.resolution.roleNeeded="admin",c.resolution.action={attr:null,title:null}),b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=b.canResolve?null:b.message,c):b&&b.complianceStatus&&b.complianceStatus.mustReconfirm&&!a.isReconfirm?(a=b.complianceStatus.reconfirmCount,
c.scope="list",c.title="Reconfirmation status",c.descriptionLong=[a+" email "+(1===a?"address has":"addresses have been removed for reconfirmation.")],c.descriptionShort=c.descriptionLong[0],c.resolution.action={},c.resolution.action.attr='href\x3d"'+r.toUrl("/campaigns/show-or-create",{type:"reconfirm",list_id:b.listId})+'"',b.complianceStatus.hasDraftReconfirmation?(c.descriptionLong[1]="A \x3ca href\x3d"+r.toUrl("campaigns/show-or-create",{type:"reconfirm",list_id:b.listId})+"\x3ereconfirmation campaign\x3c/a\x3e for those addresses has been created but not sent yet.",
c.resolution.action.title="show reconfirmation campaign"):(c.descriptionLong[1]="You can send this campaign now or \x3ca href\x3d"+r.toUrl("campaigns/show-or-create",{type:"reconfirm",list_id:b.listId})+"\x3ecreate a reconfirmation campaign\x3c/a\x3e to give the removed addresses a chance to opt-in before sending.",c.resolution.action.title="create a reconfirmation campaign"),c.resolution.roleNeeded="author",b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=
b.canResolve?null:b.message,c):b&&b.complianceStatus&&b.complianceStatus.hasRecentReconfirmation?(c.scope="list",c.title="Reconfirmation status",c.descriptionLong=["You've sent a reconfirmation campaign recently. To give those addresses a chance to resubscribe to your list, we recommend waiting at least 48 hours before sending this campaign."],c.descriptionShort="You've sent a reconfirmation campaign recently.",c.resolution.action={attr:null,title:null},c):b&&b.complianceStatus&&b.complianceStatus.mustReconfirmExternal?
(c.title="Sending Disabled",c.descriptionLong=["You must reconfirm this list before you can send to it."],c.descriptionShort=c.descriptionLong[0],c.resolution.roleNeeded="manager",c.resolution.action={attr:'href\x3d"'+r.toUrl("/lists/members/reconfirm-external",{id:b.listId})+'"',title:"export and remove addresses"},c.scope="list",b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=b.canResolve?null:b.message,c):b&&b.complianceStatus&&
b.complianceStatus.mustBePruned?(c.title="Sending Disabled",c.descriptionLong=["You must prune unengaged subscribers from this list before you can send to it."],c.descriptionShort=c.descriptionLong[0],c.resolution.roleNeeded="manager",c.resolution.action={attr:'href\x3d"'+r.toUrl("/lists/members/prune",{id:a.recipients.listId})+'"',title:"resolve"},c.scope="list",b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=b.canResolve?null:
b.message,c):b&&b.isDisabled?(c.title="Sending Disabled",c.descriptionLong=["The list you are sending to is disabled."],c.descriptionShort=c.descriptionLong[0],c.resolution.roleNeeded="manager",c.resolution.action={attr:'href\x3d"'+r.toUrl("/account")+'"',title:"resolve"},c.scope="list",b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=b.canResolve?null:b.message,c):b&&b.complianceStatus&&b.complianceStatus.mustUndoImports?(c.title=
"Sending Disabled",c.descriptionLong=["Before you can send to this list, you'll need to undo some recent list imports."],c.descriptionShort=c.descriptionLong[0],c.resolution.roleNeeded="manager",c.resolution.action={attr:'href\x3d"'+r.toUrl("/account")+'"',title:"resolve"},c.scope="list",b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=b.canResolve?null:b.message,c):a&&a.complianceStatus.exceedsAvailableCredits?(c.title="Not Enough Credits",
"free"===p.userLevel?(c.descriptionLong=["This exceeds the sending limit for your Forever Free account."],c.descriptionShort=[c.descriptionLong[0]]):(c.descriptionLong=["Your account does not have enough email credits to send this campaign. You would need to purchase \x3cb\x3e"+a.complianceStatus.creditsLeft+" credit"+(a.complianceStatus.creditsLeft-1?"s":"")+"\x3c/b\x3e in order to send it."],c.descriptionShort=c.descriptionLong[0]),c.resolution.roleNeeded="manager",c.resolution.action={attr:'href\x3d"'+
r.toUrl("/account/billing-plan/",{credits:a.complianceStatus.creditsLeft})+'"',title:"resolve"},c.scope="list",b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=b.canResolve?null:b.message,p.flagIsOn(d.BILLING_LOG_CONVERSION_POINTS)&&h.get(r.toUrl("/account/users/log-conversion",{user_id:p.userId,reason:c.descriptionLong[0],event:"User campaign send blocked",activePage:"campaigns/edit"})),c):a&&a.complianceStatus&&a.complianceStatus.exceedsSingleCampaignLimit?
(c.title="Free Account Limit",c.descriptionLong=["Free accounts are not allowed to send to more than \x3cb\x3e"+p.freeLimit+"\x3c/b\x3e recipients in a single campaign."],c.descriptionShort=c.descriptionLong[0],c.resolution.roleNeeded="manager",c.resolution.action={attr:'href\x3d"'+r.toUrl("/account/billing-plan")+'"',title:"resolve"},c.scope="list",b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=b.canResolve?null:b.message,p.flagIsOn(d.BILLING_LOG_CONVERSION_POINTS)&&
h.get(r.toUrl("/account/users/log-conversion",{user_id:p.userId,reason:c.descriptionLong[0],event:"User campaign send blocked",activePage:"campaigns/edit"})),c):a&&a.complianceStatus&&a.complianceStatus.exceedsDailyCampaignLimit?(c.title="Free Account Limit",c.descriptionLong=["Free accounts are not allowed to send to more than \x3cb\x3e"+p.freeLimit+"\x3c/b\x3e recipients in a single day.","There have been \x3cb\x3e"+p.sentToday+"\x3c/b\x3e sends in the past 24 hours. This send includes \x3cb\x3e"+
a.recipients.count+"\x3c/b\x3e, which would exceed the limit by \x3cb\x3e"+(p.sentToday+a.recipients.count-p.freeLimit)+"\x3c/b\x3e.\x3c/p\x3e"],c.descriptionShort=c.descriptionLong[0],c.resolution.roleNeeded="manager",c.resolution.action={attr:'href\x3d"'+r.toUrl("/account/billing-plan")+'"',title:"resolve"},c.scope="list",b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=b.canResolve?null:b.message,p.flagIsOn(d.BILLING_LOG_CONVERSION_POINTS)&&
h.get(r.toUrl("/account/users/log-conversion",{user_id:p.userId,reason:c.descriptionLong[0]+". "+c.descriptionLong[1],event:"User campaign send blocked",activePage:"campaigns/edit"})),c):a&&0===a.recipients.count?(c.descriptionLong=["To send, you need at least 1 subscriber in your list."],c.descriptionShort=c.descriptionLong[0],c.scope="list",b=K(c.resolution.action,c.resolution.roleNeeded),c.resolution.canResolve=b.canResolve,c.resolution.cantResolveMessage=b.canResolve?null:b.message,p.flagIsOn(d.BILLING_LOG_CONVERSION_POINTS)&&
h.get(r.toUrl("/account/users/log-conversion",{user_id:p.userId,reason:c.descriptionLong[0],event:"User campaign send blocked",activePage:"campaigns/edit"})),c):null},H=l(null,{constructor:function(a){this._timestamp=Date.now();this.campaignId=a.campaign_id;this.createdAt=new Date(a.created_at);this.status=a.status;this.name=a.content.title||a.content.subject;this.screenshotUrl=a.screenshot_url;this.hasBrokenBlocks=a.has_broken_blocks;this.hasDefaultBlockContent=a.has_default_block_content;this.presendChecks=
new t(a.presend_checks);this.renderedHtml=a.rendered_html;this.isContentReady=a.is_content_ready;this.useAutoFooter=a.use_auto_footer;this.isHtmlNewerThanPlainText=a.is_html_newer_than_plain_text;this.plainTextLastUpdatedAt=a.plain_text_last_updated_at;this.hasRewards=a.has_rewards;this.fromDomain=a.from_domain;this.testsSent=a.tests_sent;this.isCanceled=a.is_canceled;this.canceledAt=a.canceled_at?new Date(a.canceled_at):null;this.sendTime=a.send_time?new Date(a.send_time):null;this.deliveryPercentage=
a.delivery_percentage;this.notificationRecipients=a.notification_recipients;this.canTimewarp=a.can_timewarp;(this.egpPredictionWarning=a.egp_prediction_warning)&&a.egp_prediction&&(this.egpPrediction={actionRequired:a.egp_prediction.action_required,initialReason:a.egp_prediction.initial_reason,userSignedName:a.egp_prediction.user_signed_name});this.complianceStatus=new T(a);this.list=a.list?new v(a.list):null;this.social=new C(a);this.recipients=new x(a);this.from=new D(a);this.content=new F(a);this.promotion=
new I(a);this.recentCampaigns=a.recent_campaigns;this.lastTestSend=new L(a.last_test_send);this.campaignUrl=new J(a);this.settingsAndTracking=new G(a);a.list&&(this.fromDefaultName=a.list.defaults.default_name,this.fromDefaultEmail=a.list.defaults.default_email,this.fromDefaultVerifiedEmail=a.list.defaults.default_email_verified,this.fromDefaultSubject=a.list.defaults.default_subject);this.errorState=M(this)},patch:function(a){a||(a={});var b={};a.name&&(b.content=k.mixin({},b.content,{title:a.name}));
a.from&&(b.content=k.mixin({},b.content,{from_name:a.from.fromName,from_email:a.from.fromEmail}));a.content&&(a.content.subject||a.content.previewText)&&(b.content=k.mixin({},b.content,{subject:a.content.subject,preview_text:a.content.previewText}));if(a.recipients){var c=x.getRecipientsPatchFromData(a.recipients),b=k.mixin({},b,c);"listId"in a.recipients&&(b=k.mixin({},b,{list_id:a.recipients.listId}));"segment"in a.recipients&&(b=k.mixin({},b,{segment:a.recipients.segment}));"personalizeToTag"in
a.recipients&&(b=k.mixin({},b,{content:{to_email:a.recipients.personalizeToTag}}))}a.campaign_url&&(void 0!==a.campaign_url.campaign_token||a.campaign_url.brand_token)&&(b=k.mixin({},b,{campaign_token:a.campaign_url.campaign_token},a.campaign_url.brand_token?{list:{brand:{brand_token:a.campaign_url.brand_token}}}:{}));a.social&&(c=C.getSocialPatchFromData(a.social),b=k.mixin({},b,c));a.settingsAndTracking&&(b.content=k.mixin({},b.content,{use_conversation:a.settingsAndTracking.useConversation,convert_video:a.settingsAndTracking.convertVideo,
track_opens:a.settingsAndTracking.trackOpens,track_clicks_html:a.settingsAndTracking.trackClicksHTML,track_clicks_text:a.settingsAndTracking.trackClicksText,analytics:a.settingsAndTracking.analytics,analytics_tag:a.settingsAndTracking.analyticsTag,ecomm360:a.settingsAndTracking.ecomm360,clicktale:a.settingsAndTracking.clicktale,clicktale_tag:a.settingsAndTracking.clicktaleTag,gooal:a.settingsAndTracking.gooal}),b.crm=k.mixin({},b.crm,{salesforce:{create_notes:a.settingsAndTracking.crmSfCreateNotes,
create_campaign:a.settingsAndTracking.crmSfCreateCampaign},capsule:{create_notes:a.settingsAndTracking.crmJavCreateNotes}}));return P.patchById(this.campaignId,b)},getRecipientCountRequest:function(){var a=this,b=new e(function(){return a.patch({}).then(function(a){if(a.recipients.needsRecipientCount())return e.RETRY})});b.begin();return b.getPromise()}});return P})},"mojo/api/campaign/PresendChecksCollection":function(){define(["dojo/_base/declare","vendor/lodash-amd/some","vendor/lodash-amd/find",
"./PresendCheck"],function(l,k,h,f){return l(null,{constructor:function(a){this.presendChecks=a.map(function(a){return new f(a)})},hasCheckWithCode:function(a){return k(this.presendChecks,{code:a})},getCheckWithCode:function(a){return h(this.presendChecks,{code:a})}})})},"mojo/api/campaign/PresendCheck":function(){define(["dojo/_base/declare"],function(l){l=l(null,{constructor:function(k){this.type=k.type;this.code=k.code;this.heading=k.heading;this.details=k.details}});l.TYPE_ERROR="error";l.TYPE_WARNING=
"warning";l.TYPE_SUCCESS="success";l.CODE_DEFAULT_IMAGE_CONTENT=117;return l})},"mojo/widgets/checklist-editor/PresendWarningRow":function(){define(["dojo/_base/declare","mojo/widgets/Renderable","mojo/api/campaign/PresendCheck","dojo/text!./templates/presend-warning-row.html"],function(l,k,h,f){var a=l([k],{templateString:f,constructor:function(c){this.state={iconClasses:a.getIconClassesForPresendCheck(c.presendCheck),plaintextMessage:a.getMessageForPresendCheck(c.presendCheck)}}});a.getIconClassesForPresendCheck=
function(a){return["warn-circle","warn-circle-color"]};a.getMessageForPresendCheck=function(a){return a.details};return a})},"mojo/widgets/checklist-editor/SendNow":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style mojo/widgets/Renderable dojo/text!./templates/_send-now.html dijit/registry mojo/freddieanim mojo/url".split(" "),function(l,k,h,f,a,c,e,m,d){return l([a],{templateString:c,campaignId:null,postCreate:function(){this.setupFreddieSend()},constructor:function(a){this.state=
{model:a.model};this.campaignId=a.model.campaignId},showSendNowDialog:function(){e.byId(this.sendNowModal.id).show()},setupFreddieSend:function(){this.freddieSend=new m.FreddieSend("freddie-send","confirm-send-button")},sendConfirmed:function(){e.byId(this.sendNowModal.id).set("title","Sending...");e.byId(this.sendNowModal.id).set("closable",!1);f.set(this.confirmSendPre,"display","none");f.set(this.confirmSendAction,"display","none");f.set(this.confirmSendPost,"display","block");document.location.href=
d.toUrl("/campaigns/wizard/send",{id:this.campaignId})}})})},"mojo/widgets/checklist-editor/SendPostcard":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-class mojo/widgets/Renderable dojo/text!./templates/_send-postcard.html dijit/registry mojo/freddieanim mojo/url mojo/user mojo/lib/flags mojo/api/postcard".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([c],{templateString:e,formUrl:b.toUrl("postcards/send"),getPrimaryPreSendMessage:function(){var a=
n.currencySymbol+this.state.model.maxBudgetInUserCurrency,b=this.state.model.list.name,c=this.state.model.segment&&this.state.model.segment.name;return this.state.model.audienceStrategy===q.AUDIENCE_STRATEGY_CONTACTS?"You\u2019ll spend up to \x3cstrong\x3e"+a+"\x3c/strong\x3e to reach people on \x3cstrong\x3e"+c+"\x3c/strong\x3e in your \x3cstrong\x3e"+b+"\x3c/strong\x3e list.":"You\u2019ll spend up to \x3cstrong\x3e"+a+"\x3c/strong\x3e to reach people similar to contacts on \x3cstrong\x3e"+c+"\x3c/strong\x3e in your \x3cstrong\x3e"+
b+"\x3c/strong\x3e list."},getSecondaryPreSendMessage:function(){return"Any unused budget will be saved for future postcard campaigns."},constructor:function(a){this.state={model:a.model,CVV:a.CVV,csrfToken:n.__csrfToken}},postCreate:function(){this.setupFreddieSend()},showDialog:function(){"internal"!==n.type&&(a.add(h.byId("skip-smithers"),"hide"),a.add(h.byId("skip-rrd"),"hide"),a.add(h.byId("skip-rrd-smithers"),"hide"));var b=m.byId(this.sendPostcardModal.id);b.onHide=function(){b.destroyRecursive()};
b.show()},setupFreddieSend:function(){this.freddieSend=new d.FreddieSend("freddie-send","confirm-send-button")},sendConfirmedSkipRRD:function(a){this.sendConfirmed(a,!0,!1)},sendConfirmedSkipSmithers:function(a){this.sendConfirmed(a,!1,!0)},sendConfirmedSkipRRDAndSmithers:function(a){this.sendConfirmed(a,!0,!0)},sendConfirmed:function(a,b,c){m.byId(this.sendPostcardModal.id).set("title","Sending...");m.byId(this.sendPostcardModal.id).set("closable",!1);f.set(this.confirmSendPre,"display","none");
f.set(this.confirmSendAction,"display","none");f.set(this.confirmSendPost,"display","block");b&&(document.getElementById("hidden-skip-rrd-input").value=!0);c&&(document.getElementById("hidden-skip-smithers-input").value=!0);this.state.CVV&&(document.getElementById("hidden-cc-security-input").value=this.state.CVV);document.getElementById("postcard-confirm-send").submit()}})})},"mojo/api/postcard":function(){define("dojo/_base/declare dojo/_base/lang dojo/request/xhr dojo/promise/all dojo/Deferred mojo/url mojo/lib/request-helpers".split(" "),
function(l,k,h,f,a,c,e){var m,d=l(null,{constructor:function(a){this.listId=a.list_id;this.name=a.name}}),b=l(null,{constructor:function(a){this.id=a.id;this.type=a.type;this.name=a.segment_name}}),n=l(null,{constructor:function(a){this.frontFileId=a.front_file_id;this.backTitle=a.back_title;this.backMessage=a.back_message;this.backFileId=a.back_file_id;this.frontFileUrl=a.front_file_url;this.backFileUrl=a.back_file_url;this.promoCodeId=a.promo_code_id;this.promoRuleId=a.promo_rule_id;this.promoStoreId=
a.promo_store_id}});n.getPatchFromData=function(a){if(null===a)return{};var b={};"frontFileId"in a&&(b.front_file_id=a.frontFileId);"frontFileUrl"in a&&(b.front_file_url=a.frontFileUrl);"backTitle"in a&&(b.back_title=a.backTitle);"backMessage"in a&&(b.back_message=a.backMessage);"backFileId"in a&&(b.back_file_id=a.backFileId);"backFileUrl"in a&&(b.back_file_url=a.backFileUrl);"promoStoreId"in a&&(b.promo_store_id=a.promoStoreId);"promoCodeId"in a&&(b.promo_code_id=a.promoCodeId);"promoRuleId"in a&&
(b.promo_rule_id=a.promoRuleId);return b};var p=l(null,{constructor:function(a){this.location_id=a.location_id;this.ui_name=a.ui_name;this.radius_miles=a.radius_miles;this.location_type=a.location_type}}),q=l(null,{constructor:function(a){this.id=a.location_id;this.type=a.location_type;this.name=a.display_name||a.ui_name},mustHaveRadius:function(){return"community"===this.type||"district"===this.type}}),r=l(null,{constructor:function(a){this.frontHtml=a.front_html;this.backHtml=a.back_html}}),t=l(null,
{constructor:function(a){this.optimisticCount=a.optimistic_count;this.pessimisticCount=a.pessimistic_count}}),u=l(null,{constructor:function(a){this.strategy=a.strategy;a=a.settings;this.settings=null===a?null:{interval:a.interval,startDate:a.start_date?new Date(1E3*a.start_date):null}}});u.getPatchFromData=function(a){return{strategy:a.strategy,settings:{start_date:parseInt(a.settings.startDate.getTime()/1E3,10),interval:a.settings.interval}}};var w={PostcardLocation:p,PostcardLocationSuggestion:q,
PostcardSegment:b,AUDIENCE_STRATEGY_CONTACTS:"contacts",AUDIENCE_STRATEGY_LOOKALIKE:"lookalike",POSTCARD_STATUS_DRAFT:"draft",POSTCARD_STATUS_PROCESSING:"processing",POSTCARD_STATUS_SENT:"sent",POSTCARD_STATUS_COMPLIANCE:"compliance",POSTCARD_STATUS_REASON_COMPLIANCE:"compliance",createFromProperties:function(a){return new m(a)},mockedPostcard:null,patchMocked:function(a){this.mockedPostcard=k.mixin({},this.mockedPostcard,a);a.list_id&&(this.mockedPostcard.list={list_id:a.list_id,name:"Mocked List Name"});
return f().then(this.createFromProperties.bind(this,this.mockedPostcard))},patchById:function(a,b){return h.post(c.toUrl("/postcards/patch",{id:a}),{handleAs:"json",data:{patch:JSON.stringify(b)}}).then(this.createFromProperties.bind(this))},fetchLocationSuggestions:function(a){return a&&3<=a.length&&100>=a.length?h.get(c.toUrl("/location-autocomplete/search",{q:a}),{handleAs:"json"}).then(function(a){return a.map(function(a){return new q(a)})}):f().then(function(){return[]})},getContentPreview:function(a){return h.post(c.toUrl("/postcards/content/get-preview"),
{handleAs:"json",data:n.getPatchFromData(a)}).then(function(a){return new r(a)},e.throwError)},getBillingSidebarHTML:function(a){return h.post(c.toUrl("postcards/billing-summary"),{data:{id:a},handleAs:"text"})},getPotentialRecipients:function(a,b,d){return h.post(c.toUrl("/postcards/potential-recipients"),{data:{max_budget_in_user_currency:a,list_segment_count:b,location_id:d?d.id:null},handleAs:"json"}).then(function(a){return new t(a)})},getMaximumMaxBudget:function(a,b,d){return h.post(c.toUrl("/postcards/maximum-budget"),
{data:{id:a,list_segment_count:b,audience_strategy:d},handleAs:"json"}).then(function(a){return a.maximum_max_budget_in_user_currency})}};m=l(null,{constructor:function(a){this._timestamp=Date.now();this.name=a.title;this.postcardId=a.postcard_id;this.audienceStrategy=a.audience_strategy||null;this.list=a.list?new d(a.list):null;this.segment=a.segment?new b(a.segment):null;this.maxBudgetInUserCurrency=a.max_budget_in_user_currency?Math.floor(a.max_budget_in_user_currency):null;this.maxBudgetInUSD=
a.max_budget_in_usd||null;this.location=a.location_filters&&0<a.location_filters.length?new p(a.location_filters[0]):null;this.remainingQuantity=a.number_of_postcards_available;this.content=new n(a.content);this.updatedAt=a.updated_at?new Date(a.updated_at):null;this.status=a.status||null;this.statusReason=a.status_reason||null;this.uniqueID=a.unique_id||null;this.shouldShowSendErrorMessage=a.should_show_send_error_message;a.automation_trigger&&(this.automationTrigger=new u(a.automation_trigger))},
patch:function(a){a=a||{};var b={};a.listId&&(b=k.mixin(b,{list_id:a.listId}));a.name&&(b=k.mixin(b,{title:a.name}));void 0!==a.segment&&(b=k.mixin(b,{segment:a.segment}));void 0!==a.audienceStrategy&&(b=k.mixin(b,{audience_strategy:a.audienceStrategy}));void 0!==a.location&&(b=k.mixin(b,{location_filters:a.location?[a.location]:null}));void 0!==a.content&&(b=k.mixin(b,{content:n.getPatchFromData(a.content)}));void 0!==a.maxBudgetInUserCurrency&&(b=k.mixin(b,{max_budget_in_user_currency:a.maxBudgetInUserCurrency}));
void 0!==a.automationTrigger&&(b=k.mixin(b,{automation_trigger:u.getPatchFromData(a.automationTrigger)}));return w.mockedPostcard?w.patchMocked(b):w.patchById(this.postcardId,b)},getSupportedAudienceStrategies:function(){return"recurring"===this.automationTrigger.strategy?[w.AUDIENCE_STRATEGY_LOOKALIKE]:[w.AUDIENCE_STRATEGY_CONTACTS,w.AUDIENCE_STRATEGY_LOOKALIKE]}});return w})},"mojo/widgets/checklist-editor/status/CampaignStatus":function(){define("dojo/_base/lang dojo/_base/declare dojo/date/locale dojo/text!./templates/campaign-status.html mojo/widgets/Renderable mojo/user mojo/url mojo/utils ../SendNow ./_SendLater ../NotifySenders".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return k([a],{templateString:f,finishLaterUrl:e.toUrl("/campaigns"),state:{isItemActive:!1},constructor:function(a){this.state.model=a.model;this.state.completeItems=a.completeItems;this.state.remainingItems=a.remainingItems;this.state.isReady=a.isReady;this.state.hasPro=c.pro;this.state.isManager=c.hasRole("manager");this.state.heading="Create your email campaign!";this.state.subHeading="Draft email";var b=[{classes:"c-slatButton button",otherAttrs:"disabled\x3d'disabled'",
value:"Schedule",enabledAction:"openSendLaterModal"},{classes:"c-slatButton button p1",otherAttrs:"disabled\x3d'disabled'",value:"Send",enabledAction:"openSendNowModal"}],d=[{classes:"c-slatButton button",otherAttrs:"disabled\x3d'disabled'",value:"I'm finished",enabledAction:"openNotifySendersModal"}];this.state.buttons=this.state.isManager?b:d;this.state.shouldShowFinishLaterLink=!0;this.state.icon={classes:"c-channelIcon c-channelIcon--email"};b=this.state.isReady;this.campaignStatusBadge={ad:{scheduled:{label:"Scheduled",
badge:"warning"},paused:{label:"Paused",badge:"warning"},pending:{label:"In Review",badge:"warning"},active:{label:"Published",badge:"info"},rejected:{label:"Rejected",badge:"error"},completed:{label:"Completed",badge:"success"},canceled:{label:"Canceled",badge:"error"},draft:{label:"Draft",badge:""},finalized:{label:"Finalized",badge:""}},automation:{sending:{label:"Sending",badge:"info"},somepaused:{label:"Some Paused",badge:"warning"},save:{label:"Draft",badge:""},draft:{label:"Draft",badge:""},
active:{label:"Active",badge:"info"},paused:{label:"Paused",badge:"warning"}},email:{sent:{label:"Sent",badge:"success"},canceled:{label:"Canceled",badge:"error"},save:{label:"Draft",badge:""},sending:{label:"Sending",badge:"info"},active:{label:"Sending",badge:"info"},schedule:{label:"Scheduled",badge:"warning"},paused:{label:"Paused",badge:"warning"},disconnected:{label:"Not connected",badge:"warning"}}};this.campaignType="email";if(a.model.errorState&&"account"===a.model.errorState.scope)this.state.heading=
a.model.errorState.title,this.state.subHeading=a.model.errorState.descriptionShort,this.state.buttons[0].classes="c-slatButton button p2"+a.model.errorState.resolution.canResolve?"":" disabled",a.model.errorState.resolution.action&&a.model.errorState.resolution.action.attr&&(this.state.buttons[0].value=a.model.errorState.resolution.action.title,this.state.buttons[0].otherAttrs=a.model.errorState.resolution.action.attr);else if(this.state.model.isCanceled&&this.state.hasPro)this.state.heading="Your email campaign was canceled.",
this.state.subHeading="Canceled on "+this._getDateString(this.state.model.canceledAt),this.state.buttons=[{classes:"c-slatButton button p0",value:"View Results"}],this.state.shouldShowFinishLaterLink=!1;else if("sending"===this.state.model.status&&this.state.hasPro)this.state.heading="Your email campaign is sending!",this.state.subHeading=this.state.model.deliveryPercentage+"% sent",this.state.buttons=[{classes:"c-slatButton button p2",value:"Stop Delivery"}],this.state.shouldShowFinishLaterLink=
!1;else if("canceling"===this.state.model.status&&this.state.hasPro)this.state.heading="We're canceling the delivery.",this.state.subHeading="This could take a few minutes.",this.state.buttons=[],this.state.shouldShowFinishLaterLink=!1;else if("sent"===this.state.model.status)this.state.heading="Your email campaign was delivered!",this.state.subHeading="Sent on "+this._getDateString(this.state.model.sendTime),this.state.buttons=[{classes:"c-slatButton button p0",value:"View Results"}],this.state.shouldShowFinishLaterLink=
!1;else if("paused"===this.state.model.status)this.state.heading="Your email campaign is paused.",this.state.subHeading="Paused",this.state.buttons=[{classes:"c-slatButton button",value:"Resume Campaign",otherAttrs:"data-dojo-attach-event\x3d'click: openSendLaterModal'"},{classes:"c-slatButton button p1",otherAttrs:"data-dojo-attach-event\x3d'click: openSendNowModal'",value:"Send Now"}];else if("schedule"===this.state.model.status)this.state.heading="Your email campaign is scheduled.",this.state.subHeading=
"Scheduled to send on "+this._getDateString(this.state.model.sendTime),this.state.buttons=[{classes:"c-slatButton button",value:"Pause Campaign"}],this.state.shouldShowFinishLaterLink=!1;else if(b)this.state.heading="Your email campaign is ready to send!",this.state.buttons=this.state.buttons.map(function(a){return l.mixin({},a,{otherAttrs:"data-dojo-attach-event\x3d'click: "+a.enabledAction+"'"})});else if(4<=this.state.remainingItems)this.state.heading="Let's get started!";else if(2<=this.state.remainingItems)this.state.heading=
"Keep it up!";else if(1===this.state.remainingItems)this.state.heading="You're almost finished!";else if(0===this.state.remainingItems)throw this.state.heading="Error",this.state.subHeading="We've made a huge mistake.",Error("Checklist thinks it is complete, but is still not in `isReady` state");},openSendLaterModal:function(){(new b({model:this.model})).showSendLaterDialog()},openSendNowModal:function(){(new d({model:this.model})).showSendNowDialog()},openNotifySendersModal:function(){this.notifySendersModal||
(this.notifySendersModal=new n({model:this.model}));this.notifySendersModal.show()},_getDateString:function(a){var b=new Date;return h.format(a,{selector:"date",datePattern:"MMMM"})+" "+m.getDayWithOrdinal(a.getDate())+(b.getFullYear()!==a.getFullYear()?", "+a.getFullYear():"")+" "+h.format(a,{selector:"date",datePattern:"h:mm a v"})}})})},"mojo/widgets/checklist-editor/status/_SendLater":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-class dojo/topic dojo/dom dojo/query dojo/fx dojo/date/locale mojo/widgets/Renderable mojo/widgets/Previewer mojo/widgets/Clock mojo/utils mojo/user mojo/url dojo/text!./templates/_send-later.html mojo/widgets/campaigns/PlainTextDialog mojo/neapolitan/ShareSettings dijit/registry mojo/app/wizard".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){return l([n],{campaignId:null,templateString:w,constructor:function(a){var c=a.model.sendTime,d=null===c;d&&(c=new Date,c.setHours(c.getHours()+1));var e=b.format(new Date,"MMMM d yyy"),f=c.getMinutes(),f=f-f%15;d&&0===f&&(f=15);this.state={paidOrAgency:t.hasPaid,timezoneLabel:t.timezoneLabel,minimumScheduleTime:e,scheduledDate:b.format(c,{datePattern:"yyyy-MM-dd",selector:"date"}),scheduledHour:-1<[0,12].indexOf(c.getHours())?12:c.getHours()%12,
scheduledMinute:f,scheduledAMPM:12<=c.getHours()?"PM":"AM",canTimewarp:a.model.canTimewarp,formAction:u.toUrl("/campaigns/wizard/schedule"),sendCount:a.model.recipients.count,listName:a.model.recipients.listName};this.campaignId=a.model.campaignId;this.inherited(arguments)},showSendLaterDialog:function(){var a=x.byId(this.sendLaterModal.id);this.setupScheduleOptions();a.show()},setupScheduleOptions:function(){h.forEach(["single-delivery","timewarp-on","optimize-on"],function(b){x.byId(b)&&f(x.byId(b),
"click",function(){var c=m(".schedule-meta"),d=m("."+b+" ~ div");c.forEach(function(b){a.contains(b,"hide")||a.add(b,"hide")});d.forEach(function(b){a.remove(b,"hide")})})});x.byId("optimize-on")&&(f(x.byId("optimize-on"),"click",k.hitch(this,"_getOptimalSendTime")),f(x.byId("schedule-date"),"change",k.hitch(this,function(){x.byId("optimize-on").checked&&this._getOptimalSendTime()})),f(m(".optimize-option")[0],".try-again:click",k.hitch(this,function(){this._getOptimalSendTime(!0)})))},_getOptimalSendTime:function(b){m(".optimize-option p").addClass("hide");
a.remove("optimizing","hide");var c=x.byId("schedule-date").valueNode.value;A.optimizeSendTime(this.campaignId,c,b).then(function(b){if(b.hour){b=parseInt(b.hour,10);var c=12<=b?"PM":"AM",d=b%12;0===d&&(d=12)}"undefined"===typeof d||isNaN(d)?(m("#optimized-error .message").html("We couldn't find an optimal time for you."),m(".optimize-option p").addClass("hide"),a.remove("optimized-error","hide")):(m("#optimized-hour").html(d+" "+c),m(".optimize-option p").addClass("hide"),a.remove("optimized","hide"),
e.byId("schedule-hour-optimized").value=d,e.byId("schedule-meridiem-optimized").value=c)},function(b){var c='There was an unknown error. \x3ca href\x3d"#" class\x3d"try-again"\x3eTry again.\x3c/a\x3e';if(b.message)c=b.message;else switch(b.reason){case "unavailable":c="This feature is currently not available. Try again at a later time."}m("#optimized-error .message").html(c);m(".optimize-option p").addClass("hide");a.remove("optimized-error","hide")})},doSchedule:function(){e.byId("schedule-form").submit()}})})},
"mojo/widgets/campaigns/PlainTextDialog":function(){define("dijit/Dialog dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/on dojo/dom-attr dojo/request dojo/topic mojo/url mojo/utils dojo/text!./templates/plainTextForm.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){var q,r,t=function(a){return"campaigns/plain-text/success/"+a},u=new k([h,f],{templateString:p,campaignId:null,postCreate:function(){this.own(c(this.cancelBtn,"click",a.hitch(this,"_onCancel")),c(this.regenBtn,
"click",a.hitch(this,"_onRegen")),c(this.saveBtn,"click",a.hitch(this,"_onSave")))},setPlainText:function(a){this.textInput.value=a},getPlainTextFor:function(c){this.campaignId=c;c=m.get(b.toUrl("campaigns/get-text",{id:c}),{handleAs:"json"});c.then(a.hitch(this,function(a){r.setPlainText(a.content)}));return c},_onSave:function(){n.toggleButtonLoadingState(this.saveBtn);m.post(b.toUrl("campaigns/text-update"),{data:{id:this.campaignId,text:this.textInput.value},handleAs:"json"}).then(a.hitch(this,
function(a){if("error"!==a&&(q.hide(),d.publish(t(this.campaignId)),this.onSave))this.onSave();n.toggleButtonLoadingState(this.saveBtn)}))},_onRegen:function(){n.toggleButtonLoadingState(this.regenBtn);m.post(b.toUrl("campaigns/regen-text"),{data:{id:this.campaignId},handleAs:"json"}).then(a.hitch(this,function(a){switch(a.status){case "error":n.toggleButtonLoadingState(this.regenBtn);break;default:e.set(this.textInput,"value",a.content),n.toggleButtonLoadingState(this.regenBtn)}}))},_onCancel:function(a){a.preventDefault();
a.stopPropagation();q.hide()}});return{successTopic:t,show:function(a,b){q||(r=new u({onSave:b}),r.startup(),q=new l({"class":"edit-plaintext-dialog",style:"width:760px",title:"Edit Plain-Text Version",content:r.domNode}));r.getPlainTextFor(a).then(function(){q.show()})},hide:function(){q.hide()}}})},"mojo/neapolitan/ShareSettings":function(){define("../../dojo/_base/declare dijit/_Widget dijit/_Templated mojo/FileDrag mojo/widgets/TopSliderPane dojo/text!./templates/socialShare.html dojo/on dojo/_base/event dojo/dom dojo/request dojo/request/iframe dojo/dom-style dojo/dom-attr dojo/html dojo/has dojo/_base/window dojo/_base/lang dojo/_base/array dojo/Deferred dojox/html/entities dojo/dom-construct dojo/dom-class dojo/query dojo/topic mojo/context mojo/widgets/FileManager mojo/url mojo/lib/flags mojo/user dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L){return l([a],{content:c,badgeText:"Social cards preview",paneClasses:"socialshare-container",campaignId:null,images:[],currentImageIndex:0,promotion:{},onSave:null,constructor:function(){this.actions=this._defaultActions},postMixInProperties:function(){this.inherited(arguments);this.rootUrl=D.rootUrl},postCreate:function(){this.inherited(arguments);setTimeout(function(){B(".pr-preview-link").on("click",function(a){dojo.hasClass(this,
"active")||(B(".pr-preview-link.active").removeClass("active"),B(".pr-preview").style("display","none"),B(this).addClass("active"),d.byId("pr-"+q.get(this,"data-tag")).style.display="block");return!1})},500);var a=this,c=function(b){b&&(a.promotion.image_url=b,b=G.addProxy(b),B(".pr-img").attr("src",b),B(".pr-img-bg").style("backgroundImage","url("+b+")"))},f=function(b){(a.promotion.description=b)&&B(".pr-desc").html(x.encode(b))},h=function(a){a&&B(".pr-subject").html(x.encode(a))},k=function(b){(a.promotion.title=
b)&&B(".pr-title").html(x.encode(b));b.match(/\*\|([\w|\s:]+)\|\*/g)?(z.add(a.socialShareTitle,"invalid"),z.remove(a.invalidTitle,"hide"),z.add(a.saveAndClose,"disabled")):(z.remove(a.socialShareTitle,"invalid"),z.add(a.invalidTitle,"hide"),z.remove(a.saveAndClose,"disabled"))},m=function(b){(a.promotion.enabled=b)?(z.add(a.disabledView,"hide"),z.remove(a.settingsView,"hide"),z.remove(a.promotionPreview,"disabled")):(z.remove(a.disabledView,"hide"),z.add(a.settingsView,"hide"),z.add(a.promotionPreview,
"disabled"))},l=function(){a.currentImageIndex=a.images.indexOf(a.promotion.image_url);var b=-1<a.currentImageIndex;1>a.images.length?(z.add(a.imageDetails,"hide"),z.remove(a.uploadNoImages,"hide"),z.add(a.uploadWithImages,"hide")):(z.remove(a.imageDetails,"hide"),z.add(a.uploadNoImages,"hide"),z.remove(a.uploadWithImages,"hide"));1>a.currentImageIndex?z.add(a.prevImage,"disabled"):z.remove(a.prevImage,"disabled");b&&a.currentImageIndex>=a.images.length-1?z.add(a.nextImage,"disabled"):z.remove(a.nextImage,
"disabled");r.set(a.imageIndex,""+(a.currentImageIndex+1));r.set(a.totalImages,""+a.images.length);b?(z.remove(a.imageCount,"hide"),z.add(a.chooseCampaign,"hide")):(z.add(a.imageCount,"hide"),z.remove(a.chooseCampaign,"hide"))};this.own(e(this.socialShareDescription,"keyup",w.hitch(this,function(){f(this.socialShareDescription.value)})));this.own(e(this.socialShareTitle,"keyup",w.hitch(this,function(){k(this.socialShareTitle.value)})));this.own(e(this.prevImage,"click",w.hitch(this,function(){0<this.currentImageIndex&&
(c(this.images[--this.currentImageIndex]),l())})));this.own(e(this.nextImage,"click",w.hitch(this,function(){this.currentImageIndex<this.images.length-1&&(c(this.images[++this.currentImageIndex]),l())})));this.own(e(this.enableSwitch,"change",w.hitch(this,function(){m(this.enableSwitch.checked)})));this.own(e(this.saveAndClose,"click",w.hitch(this,function(){!this.enableSwitch.checked||this.socialShareTitle.value&&this.socialShareDescription.value&&a.promotion.image_url?this.hide():z.remove(this.incompleteWarning,
"hide")})));this.own(e(this.saveAndCloseAnyway,"click",w.hitch(this,function(){this.hide()})));this.own(e(this.editCampaign,"click",w.hitch(this,function(){this.hide()})));this.own(B(".upload-image").on("click",w.hitch(this,function(){F.show({zIndex:96,actions:"select, rename, copy",allowedFileTypes:"image",onSelect:function(a,b,d){c(a);l();F.hide()},forceOnTop:!0})})));b.post(G.toUrl("campaigns/wizard/social-card"),{handleAs:"json",data:{id:this.campaignId}}).then(w.hitch(this,function(a){if(a){this.images=
a.campaign_images;m(a.enabled);this.enableSwitch.setChecked(a.enabled);a.title&&(this.socialShareTitle.value=a.title,k(a.title));a.description&&(this.socialShareDescription.value=a.description,f(a.description));a.subject&&("string"===typeof a.subject?h(a.subject):h(a.subject["GROUP:A"]));var b=a.from_name;b&&B(".pr-fromname").html(b);b=a.domain;B(".pr-domain").html(b);a.image?(c(a.image),this.currentImageIndex=this.images.indexOf(a.image)):c(this.images[0]);l();p.set(d.byId("share-settings"),"visibility",
"visible");B("body").addClass("slider-editor")}}))},destroy:function(){A.destroy("share-settings");B(".socialshare-container")&&B(".socialshare-container").forEach(A.destroy)},savePromotion:function(){this.promotion.title&&this.promotion.title.match(/\*\|([\w|\s:]+)\|\*/g)&&(this.promotion.title="");return b.post(G.toUrl("campaigns/wizard/social-card/save"),{handleAs:"json",data:{id:this.campaignId,description:this.promotion.description,image_url:this.promotion.image_url,title:this.promotion.title,
enabled:this.promotion.enabled}}).then(w.hitch(this,function(a){B("body").removeClass("slider-editor");return a}))},_onHideCallback:function(){var a=this.savePromotion();this.onSave&&a.then(w.hitch(this,function(){this.onSave(this.promotion);this.destroy()}))}})})},"mojo/widgets/checklist-editor/status/PageStatus":function(){define("dojo/_base/lang dojo/_base/declare dojo/text!./templates/page-status.html mojo/widgets/Renderable mojo/user mojo/url mojo/utils mojo/widgets/checklist-editor/PagePublish mojo/lib/page/statustypes mojo/views/campaigns/wizard/confirm dijit/Dialog ./_SendLater".split(" "),
function(l,k,h,f,a,c,e,m,d){return k([f],{templateString:h,finishLaterUrl:c.toUrl("/campaigns"),errorPageNotFoundUrl:"https://mailchi.mp/404",state:{isItemActive:!1},constructor:function(b){this.state.model=b.model;this.state.completeItems=b.completeItems;this.state.remainingItems=b.remainingItems;this.state.isReady=b.isReady;this.state.shouldShowFinishLaterLink=!0;this.state.hasPro=a.pro;this.state.heading="Let's get started!";this.state.subHeading="Draft landing page";this.state.buttons=[{classes:"c-slatButton button p1",
otherAttrs:"disabled\x3d'disabled'",value:"Publish"}];this.state.icon={classes:"c-channelIcon c-channelIcon--page"};this.pageStatusBadge={};this.pageStatusBadge[d.DRAFT]={label:"Draft",badge:""};this.pageStatusBadge[d.PUBLISHED]={label:"Published",badge:"success"};this.pageStatusBadge[d.UNPUBLISHED]={label:"Unpublished",badge:""};this.campaignType="page";if(this.state.model.status===d.PUBLISHED)this.state.heading="Your landing page is live.",this.state.subHeading='\x3ca href\x3d"'+this.state.model.campaignUrl.url+
'" target\x3d"_blank" title\x3d"'+this.state.model.title+'"\x3e'+this.state.model.campaignUrl.url+"\x3c/a\x3e",this.state.shouldShowFinishLaterLink=!1,this.state.buttons=[{classes:"c-slatButton button p1",otherAttrs:"data-dojo-attach-event\x3d'click: openPublishPage'",value:"Promote Your Page"}];else if(this.state.model.status===d.UNPUBLISHED)this.state.heading="Your landing page is not live.",this.state.subHeading='Visitors who try to access your landing page URL will see this \x3ca href\x3d"'+this.errorPageNotFoundUrl+
'" target\x3d"_blank" title\x3d"Landing Page Not Found Error"\x3eerror page.\x3c/a\x3e',this.state.shouldShowFinishLaterLink=!1,this.state.buttons=[{classes:"c-slatButton button p1",otherAttrs:"data-dojo-attach-event\x3d'click: openPublishPage'",value:"Publish"}];else if(!this.state.model.canSend)this.state.heading="Publishing Disabled",this.state.subHeading="";else if(this.state.isReady)this.state.heading="Ready to publish!",this.state.subHeading="Don\u2019t worry, no one will see it until you share the URL. You can make changes to a published landing page at any time.",
this.state.buttons=[{classes:"c-slatButton button p1",otherAttrs:"data-dojo-attach-event\x3d'click: openPublishPage'",value:"Publish"}];else if(4<=this.state.remainingItems)this.state.heading="Let's get started!",this.state.subHeading="";else if(2<=this.state.remainingItems)this.state.heading="A few more things to do.",this.state.subHeading="";else if(1===this.state.remainingItems)this.state.heading="Almost done! 1 more thing to do.",this.state.subHeading="";else if(0===this.state.remainingItems)throw this.state.heading=
"Error",this.state.subHeading="We've made a huge mistake.",Error("Checklist thinks it is complete, but is still not in `isReady` state");},openPublishPage:function(){this.setState({buttons:[{classes:"c-slatButton button p0",value:"Publishing..."}]});document.location.href=c.toUrl("/landing-pages/publish",{id:this.state.model.pageId})}})})},"mojo/lib/page/statustypes":function(){define([],function(){return{DRAFT:"draft",UNPUBLISHED:"unpublished",PUBLISHED:"published"}})},"mojo/views/campaigns/wizard/confirm":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-attr dojo/query dojo/dom-class dojo/dom-style dojo/html dojo/fx dojo/_base/fx dojo/request dojo/on dojo/number dijit/registry mojo/utils mojo/url mojo/Pusher mojo/app/pro/segment mojo/app/wizard mojo/freddieanim mojo/neapolitan/utils mojo/neapolitan/ShareSettings mojo/widgets/Clock mojo/widgets/campaigns/CampaignUrlErrorDialog".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F){return l([k],{isRequestMapperDown:!1,campaignId:null,listId:null,title:"",sendCount:0,scheduledUserTime:null,sendCountWaiting:!1,onReady:function(){w.parseEmoji(document.body);A.repositionFlashBlock();A.moveFinalAction(this.$el.deliveryOptions);this.initNotifyDialog();this.setupFreddieSend();this.setupBatchDelivery();this.setupScheduleOptions();this.checkSendCountReady();this.isRequestMapperDown&&new F({campaignUrl:this.campaignUrl,campaignId:this.campaignId})},
setupFreddieSend:function(){this.freddieSend=new z.FreddieSend("freddie-send","confirm-send-button")},setupBatchDelivery:function(){var b=a.byId("batch-count");b&&r(b,"change",h.hitch(this,function(){this.$el.batchCountLabel.innerHTML=t.format(Math.floor((this.sendCount?this.sendCount:0)/b.value),{places:0})}))},setupScheduleOptions:function(){f.forEach(["single-delivery","timewarp-on","optimize-on"],function(a){u.byId(a)&&r(u.byId(a),"click",function(){var b=e(".schedule-meta"),c=e("."+a+" ~ div");
b.forEach(function(a){m.contains(a,"hide")||m.add(a,"hide")});c.forEach(function(a){m.remove(a,"hide")})})});u.byId("optimize-on")&&(r(u.byId("optimize-on"),"click",h.hitch(this,"_getOptimalSendTime")),r(u.byId("schedule-date"),"change",h.hitch(this,function(){u.byId("optimize-on").checked&&this._getOptimalSendTime()})),r(e(".optimize-option")[0],".try-again:click",h.hitch(this,function(){this._getOptimalSendTime(!0)})));this._setupScheduledClock()},checkSendCountReady:function(){this.sendCountWaiting&&
this._pingSendCount()},_pingSendCount:function(a){a||(a=1E3);1E4<a&&(a=1E4);setTimeout(h.hitch(this,function(){q.get(v.toUrl("/campaigns/wizard/check-send-count",{id:this.campaignId}),{handleAs:"json"}).then(h.hitch(this,function(b){b.finished?window.location.reload():this._pingSendCount(2*a)}))}),a)},_setupScheduledClock:function(){var b=this;this.scheduleClock=new D({time:this.scheduledUserTime,width:42,height:42,cborder:"#373737",chand:"#373737",ccolor:"#373737",transition:!1},this.$el.scheduleClock);
a.byId("schedule-hour")&&(r(a.byId("schedule-hour"),"change",function(c){b.scheduleClock.setTime(this.value+":"+a.byId("schedule-minute").value)}),r(a.byId("schedule-minute"),"change",function(c){b.scheduleClock.setTime(a.byId("schedule-hour").value+":"+this.value)}));a.byId("schedule-hour-timewarp")&&(r(a.byId("schedule-hour-timewarp"),"change",function(c){b.scheduleClock.setTime(this.value+":"+a.byId("schedule-minute-timewarp").value)}),r(a.byId("schedule-minute-timewarp"),"change",function(c){b.scheduleClock.setTime(a.byId("schedule-hour-timewarp").value+
":"+this.value)}))},openSocialShare:function(a,f,h){h=h?h:"fill-large";var k="warn-"+h,l="tick-"+h;this.shareSettings&&this.shareSettings.destroy();f=e("[data-social-share\x3d"+a+"]")[0];if(!f)throw Error("No social share container found");var n=e('[data-social-share-el\x3d"pr-container"]',f)[0],p=e('[data-social-share-el\x3d"pr-thumbnail"]',f)[0],q=e('[data-social-share-el\x3d"pr-title"]',f)[0],r=e('[data-social-share-el\x3d"desc"]',f)[0],t=e('[data-social-share-el\x3d"pr-desc"]',f)[0],v=e('[data-social-share-el\x3d"button"]',
f)[0],x=e('[data-social-share-el\x3d"icon"]',f)[0];this.shareSettings=new C({campaignId:a,titleText:this.title,onSave:function(a){a.enabled&&a.description&&a.image_url&&a.title?(m.remove(x,k),m.add(x,l),m.remove(v,"p0"),b.set(v,"edit"),b.set(r,"Excellent! Your social card is ready to roll."),d.set(n,"display",""),c.set(p,"src",a.image_url),b.set(q,a.title),b.set(t,a.description)):a.enabled?(m.remove(x,l),m.add(x,k),m.add(v,"p0"),b.set(v,"resolve"),d.set(n,"display","none"),b.set(r,"Heads up! Your social cards need a few more details.")):
(m.remove(x,l),m.add(x,k),m.add(v,"p0"),b.set(v,"resolve"),d.set(n,"display","none"),b.set(r,"You have not enabled Social Cards for your campaign."))}});this.shareSettings.show()},initNotifyDialog:function(){var a=u.byId("author-finished");if(a)e("form",a.domNode).on("submit",function(b){e("input[type\x3dcheckbox]:checked",a.domNode).length||(b.stopPropagation(),b.preventDefault(),e(".error",a.domNode).html("You must choose at least one person to notify.").style("display",""))})},sendConfirmed:function(a){try{u.byId("confirm-send").set("title",
"Sending..."),u.byId("confirm-send").set("closable",!1),u.byId("confirm-send").onCancel=function(){return!1},d.set("confirm-send-pre","display","none"),d.set("confirm-send-action","display","none"),d.set("confirm-send-post","display","block")}catch(b){}setTimeout(function(){document.location.href=v.toUrl("/campaigns/wizard/send",{id:a})},600)},prepareSchedule:function(b){var c=e(".goToNextStepContainer")[0],f=a.byId("av-content"),k=e(".schedule")[0];n.wipeIn({node:k,duration:500}).play();"none"!==
d.get(c,"display")&&(p.animateProperty({node:f,duration:500,properties:{bottom:0}}).play(),p.animateProperty({node:c,duration:500,properties:{height:0,opacity:0},onEnd:h.hitch(this,function(){this._scrollToBottom()})}).play(),this._toggleSched(b))},cancelSchedule:function(b){var c=e(".goToNextStepContainer")[0],f=a.byId("av-content"),k=e(".schedule")[0];n.wipeOut({node:k,duration:500}).play();0==d.get(c,"opacity")&&(p.animateProperty({node:f,duration:500,properties:{bottom:60}}).play(),p.animateProperty({node:c,
duration:500,properties:{height:60,opacity:1},onEnd:h.hitch(this,function(){this._scrollToBottom();this._toggleSched(b)})}).play())},_scrollToBottom:function(){var b=a.byId("av-content"),c=e(".bottom-page")[0];B.smoothScroll({node:c,win:b,duration:800}).play()},_toggleSched:function(b){if(m.contains("delivery-options","open")){m.add("schedule-"+b,"hide");m.add("schedule-delivery-options","hide");m.remove("delivery-options","open");var c=u.byId("batch-delivery-on");c&&(c.attr("checked",!1),d.set("batch-options",
"display","none"));n.wipeOut({node:a.byId("schedule-"+b+"-panel"),duration:200}).play()}else m.remove("schedule-"+b,"hide"),m.add("delivery-options","open"),m.contains("schedule-delivery-options","hide")&&m.remove("schedule-delivery-options","hide"),n.wipeIn({node:a.byId("schedule-"+b+"-panel"),duration:200}).play()},doSchedule:function(){null!=u.byId("timewarp-on")&&u.byId("timewarp-on").checked?u.byId("confirm-timewarp").show():a.byId("schedule-form").submit()},acceptTermsDialog:function(){this.acceptEgpTerms(this.campaignId,
function(){u.byId("accept-terms-dialog").show()})},acceptEgpTerms:function(b,c){var d=a.byId("accept-terms-signature").value;q.post(v.toUrl("/campaigns/accept-egp-terms"),{data:{sig:d,id:b},handleAs:"json"}).then(function(a){"success"===a.status?document.location.reload(!0):(alert(a.msg),c())})},savePermissionReminder:function(){var b=a.byId("permission-reminder").value,b=b.replace(/^\s+/,"").replace(/\s+$/,""),c=u.byId("permission-dialog");b||(alert("Please provide a permission reminder"),c.show());
q.post(v.toUrl("/lists/set-permission-reminder"),{data:{id:this.listId,reminder:b},handleAs:"json"}).then(function(a){"success"==a.status?document.location.reload(!0):(alert(a.msg),c.show())})},_getOptimalSendTime:function(b){e(".optimize-option p").addClass("hide");m.remove("optimizing","hide");var c=u.byId("schedule-date").valueNode.value;A.optimizeSendTime(this.campaignId,c,b).then(function(b){if(b.hour){b=parseInt(b.hour,10);var c=12<=b?"PM":"AM",d=b%12;0===d&&(d=12)}"undefined"===typeof d||isNaN(d)?
(e("#optimized-error .message").html("We couldn't find an optimal time for you."),e(".optimize-option p").addClass("hide"),m.remove("optimized-error","hide")):(e("#optimized-hour").html(d+" "+c),e(".optimize-option p").addClass("hide"),m.remove("optimized","hide"),a.byId("schedule-hour-optimized").value=d,a.byId("schedule-meridiem-optimized").value=c)},function(a){var b='There was an unknown error. \x3ca href\x3d"#" class\x3d"try-again"\x3eTry again.\x3c/a\x3e';if(a.message)b=a.message;else switch(a.reason){case "unavailable":b=
"This feature is currently not available. Try again at a later time."}e("#optimized-error .message").html(b);e(".optimize-option p").addClass("hide");m.remove("optimized-error","hide")})}})})},"mojo/app/pro/segment":function(){define(["dojo/request","dojo/io-query","mojo/utils","mojo/url"],function(l,k,h,f){var a=f.toUrl("pro/segments/count"),c=f.toUrl("pro/segments/popup");return{refreshSegmentCount:function(c,f,d){return l.post(a,{data:{list_id:c,type:d,ast:JSON.stringify(f)},handleAs:"json"})},
popupSegment:function(a,f,d){a=c+"?list_id\x3d"+a+"\x26type"+d+"\x26ast\x3d"+JSON.stringify(f);a=window.open(a,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");h.checkPopupWin(a);return!1},getCachedCount:function(a,c){return l.get(f.toUrl("pro/segments/cached-count"),{query:{list_id:a,segment_id:c},handleAs:"json"})},getSegment:function(a,c){return l.get(f.toUrl("pro/segments/view",{list_id:a,segment_id:c}),{handleAs:"json"})},
saveReportSegment:function(a,c,d,b,h){a={id:c,segment_id:d,ast:JSON.stringify(h),name:b,list_id:a};a=k.objectToQuery(a);window.location.href=f.toUrl("pro/reports/save-segment?"+a)},runListSegment:function(a,c,d,b){return l.post(f.toUrl("pro/segments/run"),{data:{list_id:a,segment_id:c,name:d,ast:JSON.stringify(b)},handleAs:"json"})},reRunSegment:function(a,c){return l.post(f.toUrl("pro/segments/re-run"),{data:{list_id:a,segment_id:c},handleAs:"json"})},setListSegment:function(a,c){return l.post(f.toUrl("pro/segments/select-segment"),
{data:{list_id:a,segment_id:c},handleAs:"json"})},deleteSegment:function(a,c){return l.post(f.toUrl("pro/segments/delete"),{data:{list_id:a,segment_id:c},handleAs:"json"})}}})},"mojo/neapolitan/utils":function(){define("dojo/query dojo/dom-style dojo/dom-construct dojo/_base/array dojo/_base/lang dojo/_base/fx dojox/fx/_base dojox/fx/_core dojo/dom-geometry mojo/utils".split(" "),function(l,k,h,f,a,c,e,m,d,b){var n={extend:function(){var b,c,d,e,f,h=arguments[0]||{},k=1,m=arguments.length,l=!1;"boolean"===
typeof h&&(l=h,h=arguments[1]||{},k=2);"object"===typeof h||a.isFunction(h)||(h={});m===k&&(h=this,--k);for(;k<m;k++)if(null!=(b=arguments[k]))for(c in b)b.hasOwnProperty(c)&&(d=h[c],e=b[c],h!==e&&(l&&e&&((f=a.isArray(e))||a.isObject(e))?(f?(f=!1,d=d&&a.isArray(d)?d:[]):d=d&&a.isObject(d)?d:{},h[c]=n.extend(l,d,e)):void 0!==e&&(h[c]=e)));return h},dashToCamel:function(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})},cloneWithStyles:function(b){var c=a.clone(b),
d=function(a,b){for(var c=k.get(a),e={},f=0;f<c.length;f++){var h=c[f],m=n.dashToCamel(h);e[m]=c.getPropertyValue(h)}k.set(b,e);var p=l(b).children();l(a).children().forEach(function(a,b){d(a,p[b])})};d(b,c);return c},smoothScroll:function(b){b.target=d.position(b.node);var e=b.target.x,f=b.target.y,h=new c.Animation(a.mixin({beforeBegin:function(){this.curve&&delete this.curve;h.curve=new m([b.win.scrollLeft,b.win.scrollTop],[e-50,f-50])},onAnimate:function(a){b.win.scrollLeft=a[0];b.win.scrollTop=
a[1]}},b));return h},createStyles:function(a){var c=a.createElement("style");l("head",a).append(c);var d=[];return{add:function(e){d.push(e);if(c.styleSheet){var h="";f.forEach(d,function(a){h+=a});c.styleSheet.cssText=h}else l(c).append(e);b.globalPublish("mojo/style-block/updated",[a])},remove:function(){c.styleSheet?c.styleSheet.cssText="":h.destroy(c);b.globalPublish("mojo/style-block/updated",[a])}}},inlineStyles:function(a,b){b&&b.forEach(function(b){for(var c in b.props)if(b.props.hasOwnProperty(c)){var d=
b.props[c].value;if(d&&""!==d){var e=b.props[c].selector||b.selector;"mcBlockContainer"===e?l(a).style(n.dashToCamel(c),d):l(e,a).style(n.dashToCamel(c),d)}}});return a},resetStyles:function(a,b){b&&b.forEach(function(b){for(var c in b.props)if(b.props.hasOwnProperty(c)){var d=b.props[c].selector||b.selector;"mcBlockContainer"===d?l(a).style(n.dashToCamel(c),null):l(d,a).style(n.dashToCamel(c),null)}});return a},encodeSafeUrl:function(a){var b={"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#039;"};
return a.replace(/[<>"']/g,function(a){return b[a]})}};return n})},"mojo/widgets/campaigns/CampaignUrlErrorDialog":function(){define("dijit/Dialog dojo/_base/declare dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dojo/on dojo/dom-class dojo/request/xhr mojo/url dojo/text!./templates/CampaignUrlErrorDialog.html".split(" "),function(l,k,h,f,a,c,e,m,d,b){return k([f,a],{templateString:b,campaignUrl:"",campaignId:"",saveAndExitUrl:d.toUrl("campaigns"),continueButtonLabel:"Continue",cancelButtonLabel:"Save for later",
saveInstructions:"You can choose to save your campaign as a draft and try again later, or continue to build your campaign now and send with this default campaign URL:",postCreate:function(){var a=new l({title:"Campaign URL Error",content:this.domNode,closable:!1});c(this.continueButton,"click",h.hitch(this,function(){e.add(this.continueButton,"button-loading");this.disablePrettyUrl().then(function(){a.hide()})}));this.onCancel&&c(this.cancelButton,"click",h.hitch(this,function(b){this.onCancel(b);
a.hide()}));a.show()},disablePrettyUrl:function(a){return m(d.toUrl("campaigns/wizard/disable-pretty-url"),{query:{id:this.campaignId},handleAs:"json"})}})})},"mojo/widgets/checklist-editor/status/PostcardStatus":function(){define("dojo/_base/lang dojo/_base/declare dojo/topic dojo/text!./templates/postcard-status.html mojo/widgets/Renderable mojo/widgets/checklist-editor/items/PostcardBillingSidebar mojo/widgets/campaigns/PostcardSlat mojo/user mojo/url mojo/utils mojo/api/postcard mojo/lib/flags ../SendPostcard".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return k([a],{templateString:f,finishLaterUrl:d.toUrl("/campaigns"),POSTCARD_STATUS_DRAFT:n.POSTCARD_STATUS_DRAFT,POSTCARD_STATUS_PROCESSING:n.POSTCARD_STATUS_PROCESSING,POSTCARD_STATUS_SENT:n.POSTCARD_STATUS_SENT,POSTCARD_STATUS_COMPLIANCE:n.POSTCARD_STATUS_COMPLIANCE,POSTCARD_STATUS_REASON_COMPLIANCE:n.POSTCARD_STATUS_REASON_COMPLIANCE,state:{isItemActive:!1,billingInfo:null},constructor:function(a){this.state.model=a.model;this.state.isReady=a.isReady;this.state.icon=
{classes:"c-channelIcon c-channelIcon--postcard"};this.own(h.subscribe(c.SIDEBAR_UPDATED_TOPIC,function(a){this.sidebarInstance=a;this.setState({billingInfo:this.sidebarInstance.getPaymentInfo()})}.bind(this)))},_getStatusText:function(){if(this.state.model.status===this.POSTCARD_STATUS_PROCESSING)return"Your postcard is processing.";if(this.state.model.status===this.POSTCARD_STATUS_SENT)return"Your postcard has been sent!";if(this.state.model.statusReason===this.POSTCARD_STATUS_REASON_COMPLIANCE)return"Your postcard has been rejected.";
switch(this.completeItems.length){case 2:return"Keep it up!";case 3:return"Your postcard is ready to send!";default:return"Let's get started!"}},_redirectToReport:function(){window.location.href=d.toUrl("/reports/summary?id\x3d"+this.state.model.uniqueID)},_getStatusBadgeLabel:function(){return(e.STATUS_CONTENT[this.model.statusReason]||e.STATUS_CONTENT[this.model.status]).label},_getStatusBadgeClass:function(){return(e.STATUS_CONTENT[this.model.statusReason]||e.STATUS_CONTENT[this.model.status]).badge},
_getLastUpdatedDateString:function(){return b.getDateString(this.model.updatedAt)},_canBeSent:function(){var a=this.state.billingInfo&&this.state.billingInfo.hasPaymentMethod,b=this.state.billingInfo&&this.state.billingInfo.isPaymentRequired,c=!!this.sidebarInstance;return this.state.isReady&&!this.state.isItemActive&&m.hasRole("manager")&&m.canSend&&c&&(a||!b)},_openSendNowModal:function(a){(new q(l.mixin({},a,{model:this.state.model}))).showDialog()},send:function(){var a=this.sidebarInstance&&
this.sidebarInstance.getPaymentInfo();!a||a.isCVVRequired&&!a.CVV?this.sidebarInstance.toggleCVVError(!0):(this.sidebarInstance.toggleCVVError(!1),this._openSendNowModal({CVV:a.CVV}))}})})},"mojo/widgets/checklist-editor/items/PostcardBillingSidebar":function(){define("dojo/_base/declare dojo/dom-class dojo/topic mojo/widgets/Renderable mojo/widgets/ContactBillingModal mojo/api/postcard dojo/text!./templates/postcard-billing-sidebar.html".split(" "),function(l,k,h,f,a,c,e){l=l([f],{templateString:e,
parseContent:!1,state:{content:null,isItemActive:!1},constructor:function(a){this.refreshSidebarContent(a.model.postcardId)},refreshSidebarContent:function(a){c.getBillingSidebarHTML(a).then(function(a){this.setState({content:a});h.publish("mojo/widgets/checklist-editor/items/PostcardBillingSidebar/SIDEBAR_UPDATED",this)}.bind(this))},toggleCVVError:function(a){var c=this.domNode.querySelector("[data-mc-el\x3d'ccSecurityError']"),b=this.domNode.querySelector("[data-mc-el\x3d'ccSecurity']");c&&b&&
(k.toggle(c,"hide",!a),k.toggle(b,"invalid",a),a&&b.focus())},_bindEventListeners:function(){var c=this.domNode.querySelector("[data-mc-el\x3d'editPaymentAnchor'], [data-mc-el\x3d'addPaymentAnchor']");c&&(this.editContactBillingModal&&this.editContactBillingModal.destroy(),this.editContactBillingModal=new a({step:"payment",workflowMode:!0,onClose:this.refreshSidebarContent.bind(this,this.model.postcardId)},c))},_disableSidebar:function(){var a=this.domNode.querySelector("[data-mc-el\x3d'ccSecurity']");
a&&a.setAttribute("disabled","disabled");(a=this.domNode.querySelector("[data-mc-el\x3d'editPaymentAnchor']"))&&a.parentNode.removeChild(a);(a=this.domNode.querySelector(".disclosure-closed"))&&a.parentNode.removeChild(a);this.domNode.children[0].classList.add("c-disabledSlat")},getPaymentInfo:function(){var a=this.domNode.querySelector("[data-mc-el\x3d'ccSecurity']"),c=this.domNode.querySelector("[data-mc-el\x3d'oneTimeFeeLabel']"),c=c?Number(c.innerText.replace(/[^\d\.]/g,"")):0;return{hasPaymentMethod:!!this.domNode.querySelector("[data-mc-el\x3d'editPaymentAnchor']"),
isCVVRequired:!!this.domNode.querySelector("[data-mc-el\x3d'ccSecurity']"),CVV:a?a.value:null,isPaymentRequired:0<c}},render:function(){this.inherited(arguments);this.state.content&&(this.state.isItemActive?this._disableSidebar():this._bindEventListeners())}});l.SIDEBAR_UPDATED_TOPIC="mojo/widgets/checklist-editor/items/PostcardBillingSidebar/SIDEBAR_UPDATED";return l})},"mojo/widgets/checklist-editor/items/AcceptTermsDialog":function(){define("dojo/_base/declare mojo/widgets/campaigns/CampaignArchiveUrl mojo/user mojo/widgets/Renderable mojo/url dojo/text!./templates/accept-terms-dialog.html".split(" "),
function(l,k,h,f,a,c){return l([f],{templateString:c,constructor:function(a){this.state={egpPrediction:a.model.egpPrediction}}})})},"mojo/widgets/campaigns/CampaignArchiveUrl":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/on dojo/dom-attr dojo/dom-class dojo/dom-style dojo/request/xhr dojo/debounce mojo/url mojo/utils mojo/validate dojo/Deferred dojo/dom dojo/query dojo/_base/array dojo/text!./templates/CampaignArchiveUrl.html vendor/lodash-amd/trim".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){var x=/[^\w\s-]/g;return l([k,h],{label:"Campaign URL",templateString:v,showInput:!0,showFullPreview:!0,rootDomain:null,campaignToken:null,brandToken:null,hasEditedCampaignUrl:!1,urlExistResponse:null,campaignId:null,inputSetter:null,editMode:!1,originalValue:null,rootDomainToken:null,originalInput:null,urlExistsPath:"campaigns/campaign-archive-url-exists",postCreate:function(){this.inherited(arguments);var a=this;a.originalValue=a.campaignToken;a.rootDomainToken=
"http://"+this.rootDomain+"/"+this.brandToken+"/";if(this.originalInput=u("input[type\x3dtext]",this.containerNode)[0])m.set(this.originalInput,"display","none"),""!==this.originalInput.value?this.campaignToken=this.originalInput.value:this.originalInput.value=this.campaignToken,w.forEach(this.containerNode.children,function(b){e.contains(b,"invalid-error")&&e.add(a.urlTokenInput,"invalid")});e.toggle(this.urlTokenInput,"hide",!this.showInput);e.toggle(this.urlTokenCharCount,"hide",!this.showInput);
e.toggle(this.campaignUrlPreview,"hide",!this.showFullPreview);this.campaignToken&&(this.urlTokenInput.value=this.campaignToken,this.campaignTokenWrap.innerHTML=this.campaignToken,this.rootDomainTokenWrap.innerHTML=this.rootDomainToken,e.add(this.campaignTokenWrap,"c-campaignArchiveUrl_token"),this.campaignTokenNum.innerHTML=150-this.campaignToken.length,this.editMode||this.value===a.originalValue||""===this.value||a.campaignUrlExists(this.campaignToken));this._initCampaignArchiveInput();this.inputSetter&&
this._initInputSetter();this.watch("inputSetter",function(){this._initInputSetter()})},_initCampaignArchiveInput:function(){var d=this;a(this.urlTokenInput,"keyup",b(function(){""===this.value&&d.hasEditedCampaignUrl?p.addError(d.urlTokenInput,"Please complete your campaign URL"):d.editMode||this.value===d.originalValue||this.value.match(x)||d.campaignUrlExists(this.value)},1E3));a(this.urlTokenInput,"keyup",f.hitch(this,function(){this.hasEditedCampaignUrl=!0;this._setUrlValue(this.urlTokenInput,
this.campaignTokenWrap)}));a(this.urlTokenInput,"focus",f.hitch(this,function(){e.add(this.campaignTokenWrap,"c-campaignArchiveUrl_token--editing")}));a(this.urlTokenInput,"blur",f.hitch(this,function(){e.remove(this.campaignTokenWrap,"c-campaignArchiveUrl_token--editing");this.campaignToken=this._removeExtraDashes(this.campaignToken);c.set(this.urlTokenInput,"value",this.campaignToken);this.campaignTokenWrap.innerHTML=this.campaignToken;this.originalInput&&c.set(this.originalInput,"value",this.campaignToken)}))},
_initInputSetter:function(){var d=this;a(this.inputSetter,"keyup",b(function(){d.campaignUrlExists(d.urlTokenInput.value)},1E3));a(this.inputSetter,"keyup",f.hitch(this,function(){this.hasEditedCampaignUrl||(this.campaignToken=this._makeValidUrl(this.inputSetter),this.campaignToken=this._removeExtraDashes(this.campaignToken),c.set(this.urlTokenInput,"value",this.campaignToken),p.checkInputLength(this.urlTokenInput,this.campaignTokenNum.id,150),this.campaignTokenWrap.innerHTML=this.campaignToken,this.originalInput&&
c.set(this.originalInput,"value",this.campaignToken))}))},_setUrlValue:function(a,b){p.removeErrors(a);this.campaignToken=this._makeValidUrl(a,!0);e.contains(this.campaignTokenWrap,"c-campaignArchiveUrl_token")||e.add(this.campaignTokenWrap,"c-campaignArchiveUrl_token");p.checkInputLength(a,this.campaignTokenNum.id,150);b.innerHTML=this.campaignToken;this.originalInput&&(c.set(this.originalInput,"value",this.campaignToken),p.removeErrors(this.originalInput))},_makeValidUrl:function(a,b){var c=a.value;
c.match(x)&&b?(q.playDenyAnimation(a),p.addError(a,"Customized campaign path must only contain one or more lowercase letters and/or numbers. A single dash or underscore may be used only to separate words.")):p.removeErrors(a);return this.getCampaignTokenFromString(c)},_removeExtraDashes:function(a){return a.replace(/^[_-]|[_-]$/g,"")},_createNewUrl:function(a){a&&(this.campaignToken=a);return this.rootDomainToken+this.campaignToken},refresh:function(){this._setUrlValue(this.urlTokenInput,this.campaignTokenWrap)},
campaignUrlExists:function(a){a=a||this.campaignToken;var b=this;a=b._removeExtraDashes(a);return d(n.toUrl(this.urlExistsPath),{query:{id:b.campaignId,brand_token:b.brandToken,campaign_token:a},handleAs:"json"}).then(function(a){b.urlExistResponse=a.status;if(a.error&&b.urlTokenInput)return p.addError(b.urlTokenInput,a.error),!0;p.removeErrors(b.urlTokenInput);return!1})},getCampaignTokenFromString:function(a){a=(a||"").toString().toLowerCase().replace(/[^a-z0-9_\s-]/g,"").trim().replace(/_+/g,"_").replace(/[\s]/g,
"-").replace(/-+_/g,"-").replace(/_-+/g,"_").replace(/-+/g,"-");return a=y(a,"_-")},editUrl:function(){var a=new r,b=this,e=b._removeExtraDashes(b.campaignToken);b.campaignToken=e;c.set(this.urlTokenInput,"value",this.campaignToken);b.urlTokenInput.innerHTML=this.campaignToken;d(n.toUrl("campaigns/edit-url"),{query:{id:b.campaignId,archived_brand_token:b.brandToken,new_token:b.campaignToken},handleAs:"json"}).then(function(c){c.url=b._createNewUrl();a.resolve({promise:"success",response:c});c.error&&
p.addError(b.urlTokenInput,c.error)},function(a){a&&a.response&&a.response.data&&a.response.data.error&&p.addError(b.urlTokenInput,a.response.data.error)});return a}})})},"mojo/validate":function(){define("dojo/_base/declare dojo/query dojo/dom-class dojo/on dojo/dom-construct dojo/_base/lang dojo/dom-attr dojo/Deferred velocity/velocity dojo/NodeList-traverse".split(" "),function(l,k,h,f,a,c,e,m,d){return{validateForm:function(a,d){var f=!0;k("input[type\x3dtext], input[type\x3durl]",a).forEach(c.hitch(this,
function(a){switch(e.get(a,"data-mcValidate")){case "required":a.value||(d||this.invalidateField(a,"This field is required, yo."),f=!1)}}));var h=[];k("input[type\x3dradio]",a).forEach(c.hitch(this,function(a){switch(e.get(a,"data-mcValidate")){case "required":a=e.get(a,"name"),0>h.indexOf(a)&&(h.push(a),k("input[name\x3d"+a+"]::checked").length||(a=k("input[name\x3d"+a+"]"),d||this.invalidateField(a[a.length-1],"This field is required, yo."),f=!1))}}));k("select",a).forEach(c.hitch(this,function(a){switch(e.get(a,
"data-mcValidate")){case "required":a.value||(d||this.invalidateField(a,"This field is required, yo."),f=!1)}}));return f},invalidateField:function(b,d){h.add(b,"invalid");var m=e.get(b,"type"),l=k(b).next(".invalid-error")[0];"radio"===m&&(l=k(b).parents(".field-wrapper").next(".invalid-error")[0]);l?l.textContent=d:(l=a.create("div",{"class":"invalid-error",textContent:d}),"radio"===m?a.place(l,k(b).parents(".field-wrapper")[0],"after"):a.place(l,b,"after"));l="keydown";switch(b.tagName){case "INPUT":"radio"===
m&&(l="change");break;case "SELECT":l="change";break;default:l="keydown"}if("radio"===m)var r=e.get(b,"name"),t=k("input[name\x3d"+r+"]").on("change",c.hitch(this,function(a){a=k("input[name\x3d"+r+"]");this.resetInvalidField(a[a.length-1]);t.remove()}));else t=f(b,l,c.hitch(this,function(a){this.resetInvalidField(b);t.remove()}))},resetInvalidField:function(b){var c=e.get(b,"type");h.remove(b,"invalid");(b="radio"===c?k(b).parents(".field-wrapper").next(".invalid-error")[0]:k(b).next(".invalid-error")[0])&&
a.destroy(b)},playDenyAnimation:function(a){var c=new m;d(a,{translateX:-11},{duration:50,complete:function(){d(a,{translateX:11},{duration:50,complete:function(){d(a,{translateX:-11},{duration:50,complete:function(){d(a,{translateX:11},{duration:50,complete:function(){d(a,{translateX:-11},{duration:50,complete:function(){d(a,{translateX:11},{duration:50,complete:function(){d(a,{translateX:0},{duration:50});c.resolve()}})}})}})}})}})}});return c}}})},"vendor/lodash-amd/trim":function(){define("./_baseToString ./_castSlice ./_charsEndIndex ./_charsStartIndex ./_stringToArray ./toString".split(" "),
function(l,k,h,f,a,c){var e=/^\s+|\s+$/g;return function(m,d,b){if((m=c(m))&&(b||void 0===d))return m.replace(e,"");if(!m||!(d=l(d)))return m;m=a(m);b=a(d);d=f(m,b);b=h(m,b)+1;return k(m,d,b).join("")}})},"vendor/lodash-amd/_charsEndIndex":function(){define(["./_baseIndexOf"],function(l){return function(k,h){for(var f=k.length;f--&&-1<l(h,k[f],0););return f}})},"vendor/lodash-amd/_charsStartIndex":function(){define(["./_baseIndexOf"],function(l){return function(k,h){for(var f=-1,a=k.length;++f<a&&
-1<l(h,k[f],0););return f}})},"mojo/widgets/checklist-editor/items/BounceWarningDialog":function(){define("dojo/_base/declare mojo/widgets/campaigns/CampaignArchiveUrl mojo/user mojo/widgets/Renderable mojo/url dojo/text!./templates/bounce-warning-dialog.html".split(" "),function(l,k,h,f,a,c){return l([f],{templateString:c,constructor:function(a){this.state={egpPrediction:a.model.egpPrediction}}})})},"mojo/widgets/checklist-editor/items/CampaignName":function(){define(["dojo/_base/declare","dojo/_base/lang",
"mojo/widgets/Renderable","mojo/utils","dojo/text!./templates/campaign-name.html"],function(l,k,h,f,a){return l([h],{templateString:a,validationMessage:"Your campaign name is too long.",constructor:function(a){this.state={isActive:!1,isDisabled:!1,isSaving:!1,error:"",name:a.model.name||""}},edit:function(a){a.preventDefault();this.state.isDisabled||this.setState({isActive:!0});this.onActivate()},cancel:function(a){a.preventDefault();this.state.name=this.model.name;this.setState({isActive:!1,error:""});
this.onDeactivate()},validate:function(a){return 100<f.getSymbolLength(a)?this.validationMessage:null},updateValue:function(a){var e={};e[a.target.name]=a.target.value;e.error=this.validate(a.target.value);this.preserveFocus(a);this.setState(e)},shouldUpdate:function(a){return"name"===a?!1:this.inherited(arguments)},save:function(a){a.preventDefault();this.setState({isSaving:!0});this.onSave({name:this.state.name}).then(k.hitch(this,function(){this.setState({isActive:!1,isSaving:!1});this.onDeactivate()}),
k.hitch(this,function(a){this.setState({isSaving:!1});this.onDeactivate()}))}})})},"mojo/widgets/checklist-editor/items/CampaignUrl":function(){define("dojo/_base/declare dojo/_base/lang dojo/io-query dijit/Dialog mojo/widgets/Renderable mojo/widgets/checklist-editor/items/CampaignUrlDialog dojo/text!./templates/campaign-url.html".split(" "),function(l,k,h,f,a,c,e){l=l([a],{templateString:e,constructor:function(a){var d=!!h.queryToObject(window.location.search).is_duplicate;this.state={isDisabled:!1,
list:a.model.list,rootDomain:a.model.campaignUrl.rootDomain,campaignToken:a.model.campaignUrl.campaignToken,brandToken:a.model.campaignUrl.brandToken,mostRecentArchiveMapping:a.model.campaignUrl.mostRecentArchiveMapping,mostRecentArchiveMappingCanEdit:a.model.campaignUrl.mostRecentArchiveMappingCanEdit,canCustomizeArchiveUrl:a.model.campaignUrl.canCustomizeArchiveUrl,isDuplicateCampaignUrl:a.model.campaignUrl.isDuplicateCampaignUrl||d};this.campaignUrlDialogContent=new c({model:a.model,onSave:a.onSave,
openDialog:this.openDialog.bind(this),closeDialog:this.closeDialog.bind(this)});this.campaignUrlDialog=new f({title:"Edit Campaign URL",content:this.campaignUrlDialogContent})},openDialog:function(){this.state.isDisabled||this.campaignUrlDialog.show()},closeDialog:function(){this.campaignUrlDialog.hide()}});l.isValid=function(a){return!a.campaignUrl.isDuplicateCampaignUrl};l.isComplete=function(a){return""!==a.campaignUrl.campaignToken};return l})},"mojo/widgets/checklist-editor/items/CampaignUrlDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/request/xhr mojo/url mojo/widgets/campaigns/CampaignArchiveUrl mojo/user mojo/widgets/Renderable mojo/lib/request-helpers mojo/validation/Error dojo/text!./templates/campaign-url-dialog.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([m],{templateString:n,urlExistsPath:"campaigns/campaign-archive-url-exists",constructor:function(a){a.urlExistsPath&&(this.urlExistsPath=a.urlExistsPath);this.state={errors:{},list:a.model.list,campaignId:a.model.campaignId,rootDomain:a.model.campaignUrl.rootDomain,campaignToken:a.model.campaignUrl.campaignToken,brandToken:a.model.campaignUrl.brandToken,isSaving:!1,user:{hasVerifiedCustomDomain:e.hasVerifiedCustomDomain,isActivelyPaying:e.isActivelyPaying},
brands:a.model.campaignUrl.brands};a.model.content?(this.state.subject=a.model.content.subject,this.state.isPage=!1):this.state.isPage=!0;this.campaignArchiveUrl=new c({urlExistsPath:this.urlExistsPath})},getData:function(){return{campaign_url:{brand_token:this.state.brandToken,campaign_token:this.campaignArchiveUrl.getCampaignTokenFromString(this.state.campaignToken)}}},setCampaignToken:function(a){this.setState({campaignToken:a})},setValue:function(a){a.target?(a=this.campaignArchiveUrl.getCampaignTokenFromString(a.target.value),
this.state.campaignToken=a):this.setState({brandToken:a})},save:function(a){this.getData();this.campaignUrlExists().then(this._successHandler.bind(this),this._errorHandler.bind(this))},_errorHandler:function(a){this.setState({errors:{campaignToken:a.message}})},_successHandler:function(){this.onSave(this.getData());this.closeDialog()},campaignUrlExists:function(){var c=this.state.campaignToken?this.state.campaignToken.replace(/^[_-]|[_-]$/g,""):null;return f(a.toUrl(this.urlExistsPath),{query:{id:this.state.campaignId,
brand_token:this.state.brandToken,campaign_token:c},handleAs:"json"}).then(function(a){if(a.error)throw new b(a.error);return a},d.throwError)}})})},"mojo/widgets/checklist-editor/items/CharCount":function(){define(["dojo/_base/declare","dojo/dom-class","mojo/widgets/Renderable","dojo/text!./templates/char-count.html"],function(l,k,h,f){return l([h],{state:{charCountRemaining:null},templateString:f,setCount:function(a){this.setState({charCountRemaining:a})},render:function(){this.inherited(arguments);
k.add(this.domNode,"display--inline")}})})},"mojo/widgets/checklist-editor/items/Content":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom dojo/dom-class dijit/registry dojo/topic dojox/html/entities mojo/widgets/Renderable mojo/widgets/Previewer mojo/widgets/campaigns/PlainTextDialog mojo/neapolitan/ShareSettings ./_SendTest mojo/user mojo/api/campaign/PresendCheck dojo/text!./templates/content.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){l=l([d],{templateString:u,
constructor:function(a){this.state={PresendCheck:t,promotion:a.model.promotion.promotion||"",promotionIsEnabled:a.model.promotion.promotionIsEnabled||"",promotionIsComplete:a.model.promotion.promotionIsComplete||"",isLimitedTrial:!r.hasPaid}},getData:function(){return{content:{}}},previewContent:function(){this.previewer||(this.previewer=new b({previewId:this.model.campaignId,previewType:"campaign",titleText:m.encode(this.model.title),showMergeInfo:!0}));this.previewer.show()},editPlainText:function(){n.show(this.model.campaignId,
k.hitch(this,function(){this.onSave()}))},showShareSettings:function(){this.shareSettings&&this.shareSettings.destroy();this.shareSettings=new p({campaignId:this.model.campaignId,titleText:m.encode(this.model.title),onSave:k.hitch(this,function(a){this.onSave()})});this.shareSettings.show()},openModal:function(){this.sendTestModal&&this.sendTestModal.destroy();r.getUserLogins().then(this._openModal.bind(this))},_openModal:function(a){this.sendTestModal=new q({model:this.model,userLogins:a});this.sendTestModal.show()}});
l.isComplete=function(a){return a.renderedHtml};l.isValid=function(a){return a.isContentReady};return l})},"mojo/widgets/checklist-editor/items/_SendTest":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom dojo/dom-class dojo/query dojo/topic dijit/registry mojo/widgets/Renderable mojo/widgets/Previewer mojo/widgets/campaigns/PlainTextDialog mojo/neapolitan/ShareSettings mojo/app/wizard mojo/utils mojo/user mojo/widgets/Dialog dojo/text!./templates/_send-a-test.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([d],{templateString:w,constructor:function(a){this.state={campaign:a.model,userLoginsInfo:[],mode:"form"};this._setAvailableUserLoginsInfo(a.userLogins)},_createLoginLastTest:function(a,b){return a&&-1<a.indexOf(b)},_createInNotificationRecipients:function(a,b){return a&&-1<a.indexOf(b.toString())},_shouldShowLoginsAsOption:function(){return 0<this.state.campaign.lastTestSend.accountRecipients.length},getData:function(){return{content:{}}},_setAvailableUserLoginsInfo:function(a){for(var b=
this.state.campaign,c=[],d=0;d<a.length;d++)c.push({login_email:a[d].login_email,login_id:a[d].login_id,login_name:a[d].login_name,login_last_test:this._createLoginLastTest(b.lastTestSend.recipients,a[d].login_email),in_notification_recipients:this._createInNotificationRecipients(b.notificationRecipients,a[d].login_id)});this.state.userLoginsInfo=c},_sendTest:function(){q.sendTest("null","campaign",this.model.campaignId,this.sendTestInput).then(this._handleSendTestSuccess.bind(this),this._handleSendTestError.bind(this))},
_handleSendTestSuccess:function(){this.setState({mode:"success",errorMessage:null})},_handleSendTestError:function(a){this.setState({mode:"error",errorMessage:a})},_handleSendTestKeyPress:function(a){13===a.keyCode&&c(".send-test-button")[0].click()},disclosureElementA:function(){r.disclosureElement("sendtest-users",this.disclosureElementLabelA,!0)},disclosureElementB:function(){r.disclosureElement("top-bar",this.disclosureElementLabelB,!0)},disclosureElementC:function(){r.disclosureElement("sendtest-notifications",
this.disclosureElementLabelC,!0)},resetSendTestDialog:function(){this.setState({mode:"form",errorMessage:null})},show:function(){this.dialog=new u({title:"Send a Test Email",content:this});this.dialog.startup();this.dialog.show()},hide:function(){var a=this.dialog.hide();a&&a.then(function(){this.dialog.destroy();this.dialog=null}.bind(this));return!1}})})},"mojo/widgets/checklist-editor/items/From":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-construct dojo/_base/array dojo/text!./templates/from.html mojo/widgets/checklist-editor/items/ItemButtons mojo/widgets/Renderable mojo/user mojo/validation/email ./_VerifyDomain".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){l=l([d],{templateString:e,userRole:b.role,FROM_NAME_MAX_LENGTH:100,VERIFY_EMAIL_ERROR:1,constructor:function(a){var b=a.model,c=b.list?b.list.defaults:{},d=b.from.fromEmail||c.fromEmail||"";this.isVerifiedEmail=""!==c.fromEmail&&d===c.fromEmail?c.fromEmailIsVerified:b.from.isVerifiedEmail;this.state={model:b,fromName:b.from.fromName||c.fromName||"",fromEmail:d,errors:a.errors||{},campaignId:b.campaignId,emailDomain:b.from.fromEmail?b.from.fromEmail.split("@")[1]:
""};this.state.isValid=!!this.state.fromEmail&&!!this.state.fromName},getData:function(){return{from:{fromName:this.state.fromName,fromEmail:this.state.fromEmail}}},onSaveError:function(a){this.setState({errors:a.errors})},validate:function(a,b){var c="";"from_name"===a&&""===b&&(c="Please enter a value");if("from_email"===a){var d=n(b);""===b&&(c="Please enter a value");d&&(c=d.message)}return c?c:null},validEmail:function(){var a=this.state.fromEmail,b=n(a);return""===a||b?!1:!0},setValue:function(a){var b=
this.validate(a.target.id,a.target.value),c=k.clone(this.state.errors);b?c[a.target.id]=b?{message:b}:null:delete c[a.target.id];b={errors:c};b[a.target.name]=a.target.value;b.isValid=0===Object.keys(c).length;this.preserveFocus(a);this.setState(b)},isDMARC:function(){var a=this.state.fromEmail,b=a.split("@")[0];return c.some("@aol @yahoo @ymail @rocketmail @mail.ru @kb.ru @list.ru @inbox.ru".split(" "),function(b){return 0<=a.indexOf(b)})&&0!==b.length?(this.state.DMARCEmail=a.split("@").join(".")+
"@send.mailchimpapp.com",!0):!1},showVerifyModal:function(){this.VerifyDomain||(this.VerifyDomain=new p({model:this.state}));this.VerifyDomain.openVerifyModal()},render:function(){this.inherited(arguments);this.isActive&&(this.itemButtons&&this.itemButtons.destroy(),this.itemButtons=new m({label:"From",getData:this.getData.bind(this),onSave:this.onSave,cancel:this.cancel,activate:this.activate,deactivate:this.deactivate,isActive:this.isActive,isValid:this.state.fromEmail&&this.state.fromName&&this.state.isValid,
onSaveError:this.onSaveError.bind(this)}),this.itemButtons.placeAt(this.fromItemButtonsContainer))}});l.isComplete=function(a){return null!==a.from.fromName&&null!==a.from.fromEmail};l.isValid=function(a){return null!==a.from.fromName&&null!==a.from.fromEmail&&a.from.isVerifiedEmail};return l})},"mojo/widgets/checklist-editor/items/ItemButtons":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class mojo/widgets/Renderable dojo/text!./templates/item-buttons.html".split(" "),function(l,
k,h,f,a,c){return l([a],{saveLabel:"Save",cancelLabel:"Cancel",errorLabel:"Resolve",templateString:c,state:{isSaving:!1},save:function(a){a.preventDefault();this.setState({errors:{},isSaving:!0});a=this.getData();this.onSave(a).then(this._handleSuccessfulSave.bind(this),this._handleErrorSave.bind(this))},_handleSuccessfulSave:function(){this._destroyed||this.setState({isSaving:!1})},_handleErrorSave:function(a){if(!this._destroyed){if(this.onSaveError)this.onSaveError(a);this.setState({isSaving:!1})}}})})},
"mojo/validation/email":function(){define([],function(){return function(l){var k=/^[0-9a-zA-Z_.\+-]+$/,h=/^\.|\.$/;if(1!==(l.match(/@/g)||[]).length)return Error("An email address must contain a single @.");l=l.split("@");var f=l[0],a=l[1];if(0===l[0].length)return Error("The username portion of the email address is empty");if(/^\+|\+$/.test(f)||h.test(f)||!k.test(f))return Error("The username portion of the email address is invalid (the portion after the @: "+l[0]+")");if(!/^[a-z0-9][a-z0-9\.\-_]*\.[a-z]+$/i.test(a))return Error("The domain portion of the email address is invalid (the portion after the @: "+
l[1]+")");var c=!1,e=!1;"example spam spamtrap yahoogroups googlegroups mailinator guerrillamailblock tyldd tempemail noclickemail".split(" ").forEach(function(e){var d=a.split(".");e===d[0].toLowerCase()&&(c=!0)});["spamtrap","^spam$"].forEach(function(a){-1<f.toLowerCase().search(a)&&(e=!0)});return c||e?Error("This email address looks fake or invalid. Please enter a real email address."):null}})},"mojo/widgets/checklist-editor/items/_VerifyDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class mojo/widgets/Renderable dojo/text!./templates/_verify-domain.html dijit/registry mojo/url".split(" "),
function(l,k,h,f,a,c,e,m){return l([a],{templateString:c,getData:function(){return{content:{}}},openVerifyModal:function(){this.verify=e.byId(this.verifyDomainModal.id);var a=this.model.fromEmail,b=this.model.campaignId,a=m.toUrl("/account/verify-domain?step\x3dadd-new\x26domain\x3d"+this.getDomain(a)+"\x26cid\x3d"+b+"\x26email\x3d"+a);this.verify.setHref(a);this.verify.show()},getDomain:function(a){return a.split("@")[1]},closeVerifyModal:function(){this.verify.hide()},render:function(){this.inherited(arguments);
window.onDomainVerifySuccess=this.closeVerifyModal.bind(this)}})})},"mojo/widgets/checklist-editor/items/List":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dijit/registry mojo/widgets/Renderable mojo/widgets/checklist-editor/items/ItemButtons mojo/api/member-list mojo/url mojo/utils dojo/text!./templates/list.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){l=l([c],{templateString:n,_originalListId:null,state:{listOptions:[],listId:null,listName:"",changedList:!1},
constructor:function(a){this._originalListId=a.model.list.id;this.state.listId=a.model.list.id;this.state.listName=a.model.list.name;this.state.type=a.model.type},postCreate:function(){m.list().then(this.setListOptions.bind(this))},getData:function(){return{listId:this.state.listId,listName:this.state.listName}},getOptionMeta:function(a){var b=a.totalSubscribers.toLocaleString()+" subscribed contacts";a.hasEcommerceStore&&(b+=" \x26middot; Store connected");return b},setListOptions:function(a){this.setState({listOptions:a})},
onListChange:function(a){var b=!1;this._originalListId!==a&&(b=!0);this.setState({listId:Number(a),isValid:!!a,changedList:b})},getListTagOptions:function(){var a=this.state.listOptions.map(k.hitch(this,function(a){var b=this.state.listId&&a.listId===this.state.listId?!0:!1;return{value:a.listId,label:a.name,data:{meta:this.getOptionMeta(a)},selected:b}}));a.unshift({label:"Choose a list"});return a},render:function(){this.inherited(arguments);this.isActive&&(this.itemButtons&&this.itemButtons.destroy(),
this.itemButtons=new e({label:"List",getData:this.getData.bind(this),onSave:this.onSave,cancel:this.cancel,activate:this.activate,isActive:this.isActive,isValid:this.state.listId?!0:this.state.isValid}),this.itemButtons.placeAt(this.itemButtonsContainer),"page"===this.state.type?f.place("\x3cspan class\x3d'field-help'\x3eYou'll be able to segment your list by signup source to target people who subscribe from your landing page.\x3c/span\x3e",this.segmentExplanationContainer):h.add(this.segmentExplanationContainer,
"hide"))}});l.isComplete=function(a){return!!a.listId};l.isValid=l.isComplete;return l})},"mojo/widgets/checklist-editor/items/PageContent":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class mojo/widgets/Renderable dojo/text!./templates/page-content.html mojo/widgets/Previewer".split(" "),function(l,k,h,f,a,c,e){l=l([a],{templateString:c,constructor:function(a){this.state={}},getData:function(){return{content:{}}},previewContent:function(){this.previewer||(this.previewer=
new e({previewId:this.model.pageId,previewType:"page",titleText:this.model.name,showMergeInfo:!1}));this.previewer.show()}});l.isComplete=function(a){return a.renderedHtml};l.isValid=function(a){return a.isContentReady};return l})},"mojo/widgets/checklist-editor/items/PageSettings":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/xhr mojo/widgets/Renderable mojo/url mojo/user mojo/lib/flags mojo/lib/page/settings vendor/lodash-amd/find dojo/text!./templates/page-settings.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([f],{templateString:b,isTrackingFlagOn:c.flagIsOn(e.LANDING_PAGES_TRACKING_SETTINGS_UI),constructor:function(b){this.state={listId:b.model.list.id,captchaEnabled:b.model.list.captchaEnabled,captchaUrl:a.toUrl("/lists/settings/defaults",{id:b.model.list.id}),isActive:!1,isSaving:!1,isValid:b.isValid};if(this.isTrackingFlagOn&&b.model.tracking_settings){b=b.model.tracking_settings;var c=b.items,d=m.TYPES;this.state.tracking={mailchimpTrackingEnabled:this.checkEnabledByType(c,
d.mailchimp),googleAnalyticsTrackingEnabled:this.checkEnabledByType(c,d.googleAnalytics),facebookPixelTrackingEnabled:this.checkEnabledByType(c,d.facebookPixel),googleAnalyticsTag:this.getPropertyBySettingTypeAndDataName(c,d.googleAnalytics,m.DATA_NAMES.googleAnalyticsTrackingId),facebookPixelId:this.getPropertyBySettingTypeAndDataName(c,d.facebookPixel,m.DATA_NAMES.facebookPixel)};this.state.setting={acceptedTerms:b.did_accept_terms}}},activate:function(){this.setState({isActive:!0});this.onActivate()},
deactivate:function(){this.setState({isActive:!1});this.onDeactivate()},checkEnabledByType:function(a,b){return void 0!==d(a,{setting_type:b,enabled:!0})},getPropertyBySettingTypeAndDataName:function(a,b,c){a=d(a,{setting_type:b});return void 0===a||void 0===a.data?void 0:a.data[c]},handleAcceptTerms:function(){this.setState({isSaving:!0});this.acceptTerms().then(k.hitch(this,function(a){this.setState({isSaving:!1});"success"===a.status&&this.setState({setting:{acceptedTerms:!0}})}))}})})},"mojo/lib/page/settings":function(){define([],
function(){return{TYPES:{mailchimp:0,facebookPixel:1,googleAnalytics:2},DATA_NAMES:{facebookPixel:"fb_pixel",googleAnalyticsTrackingId:"ga_tracking_id"}}})},"mojo/widgets/checklist-editor/items/PageTitle":function(){define("dojo dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-attr dijit dijit/Tooltip dijit/Dialog mojo/utils mojo/lib/ServiceUnavailableError mojo/widgets/Renderable mojo/widgets/campaigns/CampaignArchiveUrl mojo/widgets/campaigns/CampaignUrlErrorDialog mojo/widgets/checklist-editor/items/CharCount mojo/widgets/checklist-editor/items/SubjectDialog mojo/widgets/checklist-editor/items/ValidationErrors mojo/widgets/checklist-editor/items/ItemButtons dojo/text!./templates/emojiTooltip.html dojo/text!./templates/page-title.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){l=k([p],{templateString:x,TITLE_MAX_LENGTH:150,titleErrorMsg:"Please enter a page title.",constructor:function(a){this.state={errors:a.errors||{},title:a.model.title||"",dirtyFields:{}};this.inherited(arguments);this.titleCharCount=new t({maxCharacterLength:this.TITLE_MAX_LENGTH});this.titleValidationErrors=new w;this.onSave=a.onSave},getData:function(){return{title:this.state.title}},setValue:function(a){var b,c={};if(a.target){this.preserveFocus(a);
b=a.target.value;var d=this.validate("title",b);d&&(c.title=d)}else b=a;c={errors:c};c[a.target.name]=a.target.value;c.title=b;this.setState(c)},onSaveError:function(a){},validate:function(a,b){var c;"title"===a&&""===b&&(c=this.titleErrorMsg);return c},render:function(){""===this.domNode.innerHTML&&this.inherited(arguments);this.isActive&&(this.itemButtons&&this.itemButtons.destroy(),this.titleCharCount.placeAt(this.titleCharCountContainer),this.titleCharCount.setCount(this.TITLE_MAX_LENGTH-b.getSymbolLength(this.state.title)),
this.itemButtons=new v({label:"Page Title",getData:this.getData.bind(this),onSaveError:this.onSaveError.bind(this),onSave:this.onSave,cancel:this.cancel,activate:this.activate,deactivate:this.deactivate,isActive:this.isActive,isValid:0===Object.keys(this.state.errors).length}),this.itemButtons.placeAt(this.itemButtonsContainer))}});l.isComplete=function(a){return a.title&&"Untitled Page"!==a.title};l.isValid=function(a){return 150>=b.getSymbolLength(a.title)};return l})},"mojo/widgets/checklist-editor/items/SubjectDialog":function(){define(["dojo/_base/declare",
"dijit/Dialog","mojo/widgets/Renderable","dojo/text!./templates/subjectDialog.html"],function(l,k,h,f){return l([h],{templateString:f})})},"mojo/widgets/checklist-editor/items/ValidationErrors":function(){define(["dojo/_base/declare","mojo/widgets/Renderable","dojo/text!./templates/validationErrors.html"],function(l,k,h){return l([k],{state:{errors:""},templateString:h})})},"mojo/widgets/checklist-editor/items/PageTitleUrl":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/io-query dojo/request/xhr dijit/Dialog mojo/url mojo/widgets/Renderable mojo/widgets/campaigns/CampaignArchiveUrl mojo/widgets/checklist-editor/items/CampaignUrlDialog mojo/widgets/checklist-editor/items/ItemButtons dojo/text!./templates/page-title-url.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){l=l([m],{templateString:p,TITLE_MAX_LENGTH:150,urlExistsPath:"landing-pages/page-url-exists",constructor:function(a){var e=!!f.queryToObject(window.location.search).is_duplicate;this.state={errors:a.errors||{},list:a.model.list,title:a.model.title||"",campaignTokenIsTitle:a.model.campaignUrl.campaignToken?!1:!0,campaignUrl:a.model.campaignUrl,mostRecentArchiveMapping:a.model.campaignUrl.mostRecentArchiveMapping,mostRecentArchiveMappingCanEdit:a.model.campaignUrl.mostRecentArchiveMappingCanEdit,
canCustomizeArchiveUrl:a.model.campaignUrl.canCustomizeArchiveUrl,isDuplicateCampaignUrl:a.model.campaignUrl.isDuplicateCampaignUrl||e};this.pageUrlDialogContent=new b({model:a.model,onSave:this.onDialogSave.bind(this),openDialog:this.openDialog.bind(this),closeDialog:this.closeDialog.bind(this)});this.pageUrlDialog=new c({title:"Edit Landing Page URL",content:this.pageUrlDialogContent});this.campaignArchiveUrl=new d({urlExistsPath:this.urlExistsPath})},onDialogSave:function(a){return this.params.onSave(k.mixin(this.getData(),
a))},onTitleSave:function(a){this.state.errors={};if(this.state.campaignTokenIsTitle){var b=new h;this.campaignUrlExists(this.state.campaignUrl.campaignToken).then(k.hitch(this,function(c){c.error?(this.setState({isDuplicateCampaignUrl:!0}),b.reject()):(b.then(k.hitch(this,function(){return this.params.onSave(a)})),b.resolve())}));return b.promise}return this.params.onSave(a)},validate:function(a,b){var c;"title"===a&&""===b&&(c="Please enter a page title.");return c?c:null},openDialog:function(){this.state.campaignTokenIsTitle&&
this.pageUrlDialogContent.setCampaignToken(this.state.campaignUrl.campaignToken);this.pageUrlDialog.show()},closeDialog:function(){this.pageUrlDialog.hide()},setValue:function(a){var b,c,d={};if(a.target){if(this.preserveFocus(a),b=a.target.value,c=this.validate("title",b))d.title=c}else b=a;c=k.clone(b);d={errors:d};d[a.target.name]=a.target.value;d.title=b;this.state.campaignTokenIsTitle&&(a=this.campaignArchiveUrl.getCampaignTokenFromString(c),this.state.campaignTokenIsTitle&&(this.state.campaignUrl.campaignToken=
a,d.campaignUrl=this.state.campaignUrl,this.pageUrlDialogContent.setCampaignToken(a)));this.setState(d)},getData:function(){return this.state.campaignTokenIsTitle?{title:this.state.title,campaign_url:{campaign_token:this.state.campaignUrl.campaignToken}}:{title:this.state.title}},render:function(){this.inherited(arguments);this.state.canCustomizeArchiveUrl&&this.isActive&&(this.itemButtons&&this.itemButtons.destroy(),this.itemButtons=new n({label:"Page Title",getData:this.getData.bind(this),onSave:this.onTitleSave.bind(this),
cancel:this.cancel,activate:this.activate,isActive:this.isActive,isValid:!this.state.errors||!this.state.errors.title}),this.itemButtons.placeAt(this.itemButtonsContainer))},campaignUrlExists:function(b){return a(e.toUrl(this.urlExistsPath),{query:{id:this.model.pageId,brand_token:this.state.campaignUrl.brandToken,campaign_token:b},handleAs:"json"})}});l.isValid=function(a){return a.title&&0<a.title.length};l.isComplete=function(a){return a.title&&"Untitled Page"!==a.title&&!!a.campaignUrl.campaignToken};
return l})},"mojo/widgets/checklist-editor/items/PageUrl":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/io-query dojo/request/xhr dijit/Dialog mojo/lib/flags mojo/url mojo/user mojo/widgets/Renderable mojo/widgets/campaigns/CampaignArchiveUrl mojo/widgets/checklist-editor/items/CampaignUrlDialog mojo/widgets/checklist-editor/items/ItemButtons dojo/text!./templates/page-url.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){l=l([b],{templateString:r,TITLE_MAX_LENGTH:150,
urlExistsPath:"landing-pages/page-url-exists",verifiedDomainPath:m.toUrl("/account/domains/"),constructor:function(a){var b=!!f.queryToObject(window.location.search).is_duplicate,c=this._getCampaignToken(a.model.campaignUrl),e=this._getBrandToken(a.model.campaignUrl);this.state={errors:a.errors||{},list:a.model.list,campaignUrl:a.model.campaignUrl,campaignToken:c,brandToken:e,rootDomain:a.model.campaignUrl.rootDomain,canCustomizeArchiveUrl:a.model.campaignUrl.canCustomizeArchiveUrl,isDuplicateCampaignUrl:a.model.campaignUrl.isDuplicateCampaignUrl||
b,user:{hasVerifiedCustomDomain:d.hasVerifiedCustomDomain,isActivelyPaying:d.isActivelyPaying},brands:a.model.campaignUrl.brands};this.campaignArchiveUrl=new n({urlExistsPath:this.urlExistsPath})},_getCampaignToken:function(a,b){return a.campaignToken?a.campaignToken:null},_getBrandToken:function(a){return a.brandToken?a.brandToken:null},setValue:function(a){a.target?(this.preserveFocus(a),this.setState({campaignToken:this.campaignArchiveUrl.getCampaignTokenFromString(a.target.value)})):this.setState({brandToken:a})},
getData:function(){return{campaign_url:{brand_token:this.state.brandToken,campaign_token:this.campaignArchiveUrl.getCampaignTokenFromString(this.state.campaignToken)}}},save:function(a){a=this.getData();return this.campaignUrlExists(a.campaign_url.campaign_token).then(this._successHandler.bind(this),this._errorHandler.bind(this))},_errorHandler:function(a){this.setState({errors:{campaignToken:a.response.data.error}})},_successHandler:function(a){if(a.status)this.setState({errors:{campaignToken:a.error}});
else this.onSave(this.getData())},render:function(){this.inherited(arguments);this.state.canCustomizeArchiveUrl&&this.isActive&&(this.itemButtons&&this.itemButtons.destroy(),this.itemButtons=new q({label:"URL",getData:this.getData.bind(this),onSave:this.save.bind(this),cancel:this.cancel,activate:this.activate,isActive:this.isActive,isValid:""!==this.state.campaignToken}),this.itemButtons.placeAt(this.itemButtonsContainer))},campaignUrlExists:function(b){return a(m.toUrl(this.urlExistsPath),{query:{id:this.model.pageId,
brand_token:this.state.campaignUrl.brandToken,campaign_token:b},handleAs:"json"})}});l.isValid=function(a){return!a.campaignUrl.isDuplicateCampaignUrl};l.isComplete=function(a){return a.campaignUrl.campaignToken?!!a.campaignUrl.campaignToken:!1};return l})},"mojo/widgets/checklist-editor/items/PostcardContent":function(){define("dojo/_base/declare dojo/debounce dojo/_base/lang dojo/promise/all dojo/dom-class mojo/widgets/Renderable mojo/widgets/checklist-editor/items/ItemButtons mojo/widgets/checklist-editor/items/_PostcardPreview mojo/neapolitan/widgets/ImageRow mojo/widgets/FileManager mojo/ImageEditor mojo/url mojo/user mojo/lib/flags mojo/api/postcard mojo/api/promoCode mojo/api/ecommerce-store mojo/api/brand-assets dojo/text!./templates/postcard-content.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){l=l([c],{isPromoCodeFlagEnabled:q.flagIsOn(r.MULTICHANNEL_DIRECT_MAIL_PROMO_CODES),NO_GIFS_MESSAGE:"Whoops. We can't mail a GIF.",RECOMMENDED_SIZE_MESSAGE:"Heads up, this may look a little blurry when printed. For the best quality, use an image at least {dimensions}px.",TYPING_SPEED_DEBOUNCE:300,BODY_TEXT_MAX_CHARACTERS:500,connectYourStoreLink:p.toUrl("/account/connected-sites/wizard/"),templateString:y,defaultPreviewContent:{backTitle:"Big enticing headline",
backMessage:"Use this space to tell people about your newest product or an upcoming event. Or just send out a thank you to your most valuable customers. Your call!"},imageRows:{mainImage:null,logoImage:null},requiredImages:["mainImage"],recommendedDimensions:{mainImage:[1875,1350]},state:{isFetchingStores:!1,isFetchingPromoCodes:!1,isPromoCodeVisible:!1,stores:null,promoCodes:[],promoStoreId:null,promoCodeId:null,promoRuleId:null},_promoCodesCache:{},constructor:function(a){var b=a.model;this.state.previewData=
null;this.state.previewToggleSide="front";this.state.promoStoreId=b.content.promoStoreId;this.state.promoRuleId=b.content.promoRuleId;this.state.promoCodeId=b.content.promoCodeId;this.state.headingText=b.content.backTitle;this.state.bodyText=b.content.backMessage;this.state.isPromoCodeVisible=!!this.state.promoStoreId;this.state.mainImage=b.content.frontFileUrl?{contentId:b.content.frontFileId,url:b.content.frontFileUrl,src:b.content.frontFileUrl}:null;this.state.logoImage=b.content.backFileUrl?{contentId:b.content.backFileId,
url:b.content.backFileUrl,src:b.content.backFileUrl}:null;this.fetchStores();this.fetchPreviewContent();this.fetchPreviewContentDebounced=k(this.fetchPreviewContent,this.TYPING_SPEED_DEBOUNCE);this.state.promoStoreId&&this.fetchPromoCodes(this.state.promoStoreId);this.watch("state",function(a,b,c){this.isAPreviewUpdateTheOnlyThingThatHappened(b,c)&&this.renderPreviews()}.bind(this));a.isActive&&this.fetchImageMetaData(Object.keys(this.imageRows))},isAPreviewUpdateTheOnlyThingThatHappened:function(a,
b){var c=JSON.stringify(h.mixin({},a,{previewData:null})),d=JSON.stringify(h.mixin({},b,{previewData:null}));return c===d&&a.previewData!==b.previewData},isFrontOfCardValid:function(){return this.state.mainImage&&"gif"!==this.state.mainImage.fileExtension?!0:!1},isBackOfCardValid:function(){return this.state.logoImage&&"gif"===this.state.logoImage.fileExtension||this.state.promoStoreId&&(!this.state.promoCodeId||!this.state.promoRuleId)?!1:!!(this.state.headingText&&this.state.bodyText&&this.isBodyTextValid())},
isBodyTextValid:function(){return this.state.bodyText.length<=this.BODY_TEXT_MAX_CHARACTERS},togglePromoCode:function(a){a?this.setState({isPromoCodeVisible:!0}):this.setState({isPromoCodeVisible:!1,promoStoreId:null,promoCodeId:null,promoRuleId:null})},handleStoreChange:function(a){""===a&&(a=null);this.setState({promoStoreId:a})},handlePromoCodeChange:function(a){var b=this.state.promoCodes.filter(function(b){return b.promoCodeId===a})[0];b?this.setState({promoCodeId:b.promoCodeId,promoRuleId:b.promoRuleId}):
this.setState({promoCodeId:null,promoRuleId:null});this.fetchPreviewContentDebounced()},renderPreviews:function(){this.frontPreview&&this.frontPreview.destroy();this.backPreview&&this.backPreview.destroy();var b=this.state.previewData||{};this.frontPreview=new m({name:"Front",previewContent:this.isFrontOfCardValid()?b.frontHtml:null,isLoading:!this.state.previewData});this.backPreview=new m({name:"Back",previewContent:b.backHtml,isLoading:!this.state.previewData,onReady:function(b){this.clippedContentWarning&&
a.toggle(this.clippedContentWarning,"hide",!b)}.bind(this)});this.frontPreview.placeAt(this.frontPreviewContainer);this.backPreview.placeAt(this.backPreviewContainer);this.isActive&&(b="front"===this.state.previewToggleSide,a.toggle(this.frontPreviewContainer,"hide-desktop",!b),a.toggle(this.backPreviewContainer,"hide-desktop",b),b?(this.frontToggleRadio.setAttribute("checked",!0),this.backToggleRadio.removeAttribute("checked")):(this.backToggleRadio.setAttribute("checked",!0),this.frontToggleRadio.removeAttribute("checked")))},
renderActionButtons:function(){this.itemButtons&&this.itemButtons.destroy();this.itemButtons=new e({label:"Content",getData:this.getData.bind(this),onSave:this.onSave,cancel:this.cancel,activate:this.activate,isActive:this.isActive,isValid:this.isFrontOfCardValid()&&this.isBackOfCardValid()});this.itemButtons.placeAt(this.itemButtonsContainer)},shouldUpdate:function(a,b){return!this.isAPreviewUpdateTheOnlyThingThatHappened(a,b)},willUpdate:function(a,b){null!==b.promoStoreId&&a.promoStoreId!==b.promoStoreId&&
this.fetchPromoCodes(b.promoStoreId)},render:function(){this.inherited(arguments);this.isActive&&(this.renderActionButtons(),Object.keys(this.imageRows).forEach(function(a){var b=this.state[a],c=this.imageRows[a],e=this.recommendedDimensions[a],f=b&&(b.name||b.src===v.MERGE_TAG),k=-1===this.requiredImages.indexOf(a);c&&c.destroy();c=f?["edit"]:["browse"];f&&k&&c.push("remove");this.imageRows[a]=new d({defaultSubtitle:e?"Recommended size: "+e.join(" \x26times; ")+" px":null,actions:c,image:f?b:null,
onChange:this.onImageChange.bind(this,a)});b&&b.url&&("gif"===b.fileExtension?this.imageRows[a].showRestrictionFeedback("browse",this.NO_GIFS_MESSAGE):e&&(b.width<e[0]||b.height<e[1])&&(b=h.replace(this.RECOMMENDED_SIZE_MESSAGE,{dimensions:e.join(" \x26times; ")}),this.imageRows[a].showRestrictionFeedback("browse",b,"Replace image")));this.imageRows[a].placeAt(this[a+"Container"])},this));this.renderPreviews()},updateTextField:function(a){var b=a.target.name,c=a.target.value;this.state[b]=c;this.state.previewData=
null;this.renderPreviews();this.renderActionButtons();this.toggleValidation(b,c);this.fetchPreviewContentDebounced(a)},toggleValidation:function(b,c){switch(b){case "bodyText":var d=this.isBodyTextValid();a.toggle(this.bodyTextInput,"invalid",!d);a.toggle(this.bodyTextInvalidErrorMessage,"hide",d)}},focusTextField:function(){this.state.previewToggleSide="back";this.renderPreviews()},togglePreviewSide:function(a){this.setState({previewToggleSide:a.target.value})},onImageChange:function(a){var b={},
c=this.imageRows[a].image;b[a]=c?h.mixin({},c,{name:null,url:c.originalUrl}):null;b.previewToggleSide="mainImage"===a?"front":"back";this.setState(b);this.fetchPreviewContent();c&&this.fetchImageMetaData([a])},fetchPreviewContent:function(){var a=this.getData().content;a.backTitle=a.backTitle||this.defaultPreviewContent.backTitle;a.backMessage=a.backMessage||this.defaultPreviewContent.backMessage;t.getContentPreview(a).then(function(a){this.setState({previewData:a})}.bind(this))},fetchImageMetaData:function(a){var c=
a.filter(function(a){return this.state[a]},this);f(c.map(function(a){a=this.state[a];return a.src===v.MERGE_TAG?a:b.getInfo(a.contentId)},this)).then(function(b){return f(b.map(function(b,c){return b.src===v.MERGE_TAG?b:n.getImageInfo(this.state[a[c]].url||b.url).then(function(a){return h.mixin({},b,a,{src:a.url,url:a.originalUrl})})},this))}.bind(this)).then(function(b){var c={};b.forEach(function(b,d){c[a[d]]=h.mixin({},b)},this);this.setState(c)}.bind(this))},fetchStores:function(){this.setState({isFetchingStores:!0});
return w.list().then(function(a){this.setState({stores:a,isFetchingStores:!1})}.bind(this))},fetchPromoCodes:function(a){if(this._promoCodesCache[a])this.setState({promoCodes:this._promoCodesCache[a]});else return this.setState({isFetchingPromoCodes:!0}),u.fetchByStoreId(a).then(function(b){this._promoCodesCache[a]=b;this.setState({isFetchingPromoCodes:!1,promoCodes:b})}.bind(this))},getData:function(){var a=null;this.state.mainImage&&(a=this.state.mainImage.src===v.MERGE_TAG?this.state.mainImage.src:
this.state.mainImage.url);var b=null;this.state.logoImage&&(b=this.state.logoImage.src===v.MERGE_TAG?this.state.logoImage.src:this.state.logoImage.url);return{content:{backTitle:this.state.headingText,backMessage:this.state.bodyText,frontFileId:this.state.mainImage&&this.state.mainImage.src!==v.MERGE_TAG?this.state.mainImage.contentId:null,frontFileUrl:a,backFileId:this.state.logoImage&&this.state.logoImage.src!==v.MERGE_TAG?this.state.logoImage.contentId:null,backFileUrl:b,promoStoreId:this.state.promoStoreId,
promoCodeId:this.state.promoCodeId,promoRuleId:this.state.promoRuleId}}}});l.isComplete=function(a){return a.content.backTitle&&a.content.backMessage&&a.content.frontFileId};return l})},"mojo/widgets/checklist-editor/items/_PostcardPreview":function(){define("dojo/_base/declare dojo/dom-class mojo/widgets/Switch mojo/widgets/Renderable mojo/utils dojo/text!./templates/_postcard-preview.html".split(" "),function(l,k,h,f,a,c){return l([f],{isContentClipped:!1,shouldShowClippingGuide:!0,templateString:c,
onReady:function(){},constructor:function(a){if(!a.name)throw Error("Name prop is required but not found for PostcardPreview");this.modalId="previewModal"+a.name;this.modalTitle=a.name+" preview";window[this.modalId]&&window[this.modalId].destroyRecursive()},postCreate:function(){this.watch("shouldShowClippingGuide",function(a,c,d){this.toggleClippingGuide(d)}.bind(this));this.toggleClippingGuide(this.shouldShowClippingGuide)},toggleClippingGuide:function(a){k.toggle(this.clippingOverlay,"hide",a);
k.toggle(this.clippingGuide,"hide",!a);k.toggle(this.clippingGuideLegend,"dim-el",!a)},_writePreviewContent:function(a,c){a.contentDocument.write(c);this.isClipped=this.checkForClipping(a);this.onReady(this.isClipped)},_renderIframeWhenReady:function(a,c){a.contentDocument?this._writePreviewContent(a,c):a.addEventListener("load",this._writePreviewContent.bind(this,a,c))},checkForClipping:function(a){a=a.contentWindow.document.body.querySelector(".page-content");if(!a)return!1;var c=a.querySelectorAll("[data-user-content]"),
d=[].reduce.call(c,function(a,c){return a+c.scrollHeight},0);return 0<[].filter.call(c,function(a){return a.offsetHeight<a.scrollHeight}).length||d>a.offsetHeight},render:function(){this.inherited(arguments);if(this.previewContent){this._renderIframeWhenReady(this.previewFrame,this.previewContent);this._renderIframeWhenReady(this.modalFrame,this.previewContent);var a=new h({checked:this.shouldShowClippingGuide,description:"Show print guides",sizeClass:"switch-small",onChange:function(a){this.set("shouldShowClippingGuide",
a)}.bind(this)});a.placeAt(this.clippingGuideSwitch);a.startup()}}})})},"mojo/api/promoCode":function(){define(["dojo/_base/declare","dojo/request/xhr","mojo/url"],function(l,k,h){var f=l(null,{constructor:function(a){this.code=a.code;this.promoCodeId=a.promo_code_id;this.promoRuleId=a.promo_rule_id}});return{fetchByStoreId:function(a){return k.get(h.toUrl("/ecommerce/get-promo-codes"),{handleAs:"json",query:{store_id:a}}).then(function(a){return a.map(function(a){return new f(a)})})}}})},"mojo/widgets/checklist-editor/items/PostcardRecipients":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/debounce dijit/registry dijit/TooltipDialog dijit/popup mojo/widgets/Renderable mojo/widgets/checklist-editor/items/ItemButtons mojo/widgets/SegmentDropdown mojo/api/member-list mojo/api/segment mojo/api/postcard mojo/utils mojo/user mojo/lib/flags dojo/text!./templates/postcard-recipients.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){var v=1,y=1E4;l=l([m],{templateString:w,numberFormat:r.numberFormat,currencySymbol:t.currencySymbol,DEFAULT_LOCATION_RADIUS:10,MAXIMUM_LOCATION_RADIUS:50,MINIMUM_LOOKALIKE_AUDIENCE_SIZE:75,BUDGET_INCREMENT_IN_USER_CURRENCY:25,AUDIENCE_STRATEGY_CONTACTS:q.AUDIENCE_STRATEGY_CONTACTS,AUDIENCE_STRATEGY_LOOKALIKE:q.AUDIENCE_STRATEGY_LOOKALIKE,audienceStrategies:[q.AUDIENCE_STRATEGY_LOOKALIKE,q.AUDIENCE_STRATEGY_CONTACTS],tooltips:{potentialRecipients:{content:"This estimate is based on your target audience and budget. The final number of recipients will depend on available addresses and postage costs."},
maxBudget:{content:"This is the maximum amount you\u2019ll spend on your campaign. Unused budget will be saved as credit for future postcard campaigns."}},state:{listOptions:[],listId:null,listName:"",segment:null,audienceStrategy:null,remainingQuantity:null,selectedLocation:null,locationRadius:null,listSegmentRecipientCount:null,maxBudget:null,potentialRecipients:null,isPricingTableVisible:!1,maximumMaxBudgetInUserCurrency:null},constructor:function(a){a=a.model;var b=this.getDefaultSegment();this.state.postcardId=
a.postcardId;this.fetchLists();this.state.segment=a.segment||b;a.list&&(this.state.listId=a.list.listId,this.state.listName=a.list.name,this.state.listSegmentRecipientCount=this.getListTotalCount(a.list.listId),a.segment&&(this.state.segmentName=a.segment.name,this.state.listSegmentRecipientCount=null,this.updateSegmentRecipientCount(Number(this.state.listId),a.segment.id,a.segment.type)));this.state.selectedLocation=a.location?new q.PostcardLocationSuggestion(a.location):null;this.state.locationRadius=
a.location?a.location.radius_miles:null;this.state.audienceStrategy=a.audienceStrategy||this.AUDIENCE_STRATEGY_LOOKALIKE;this.state.remainingQuantity=a.remainingQuantity;this.SUGGESTED_BUDGET_IN_USER_CURRENCY=Math.ceil(window._mc.suggested_max_budget_in_user_currency);this.state.maxBudget=a.maxBudgetInUserCurrency||this.SUGGESTED_BUDGET_IN_USER_CURRENCY;this.MINIMUM_BUDGET_IN_USER_CURRENCY=v=Math.ceil(window._mc.minimum_max_budget_in_user_currency);this.MAXIMUM_BUDGET_IN_USER_CURRENCY=y=Math.floor(window._mc.maximum_max_budget_in_user_currency);
this.updatePotentialRecipients=f(this._updatePotentialRecipients,300);this.updateMaximumMaxBudget=f(this._updateMaximumMaxBudget,300);this.segmentSourceFunction=p.getCachedPostcardSegmentGroups.bind(p)},fetchLists:function(){n.cachedList().then(function(a){this.setState({listOptions:a})}.bind(this))},updateSegmentRecipientCount:function(a,b,c){p.fetchSegmentCount(Number(this.state.listId),b,c).then(function(a){this.state.listSegmentRecipientCount=a;this._renderItemButtons();this._renderListErrors();
this._renderPotentialRecipients();this.updatePotentialRecipients();this.updateMaximumMaxBudget()}.bind(this))},_updatePotentialRecipients:function(){if(this.isActive){var a=this.state.audienceStrategy===this.AUDIENCE_STRATEGY_LOOKALIKE&&this.state.selectedLocation;this.state.maxBudget&&null!==this.state.listSegmentRecipientCount&&(this.state.audienceStrategy===this.AUDIENCE_STRATEGY_CONTACTS||a)&&q.getPotentialRecipients(this.state.maxBudget,this.state.listSegmentRecipientCount,a).then(function(a){this.state.potentialRecipients=
a;this._renderPotentialRecipients()}.bind(this));this.state.potentialRecipients=null;this._renderPotentialRecipients()}},_updateMaximumMaxBudget:function(){if(this.isActive&&this.state.audienceStrategy===this.AUDIENCE_STRATEGY_CONTACTS){var a=function(){this._renderItemButtons();this._renderBudgetErrors();this._renderPotentialRecipients()}.bind(this);this.state.listSegmentRecipientCount&&q.getMaximumMaxBudget(this.state.postcardId,this.state.listSegmentRecipientCount,this.state.audienceStrategy).then(function(b){this.state.maximumMaxBudgetInUserCurrency=
Math.ceil(b);a()}.bind(this));this.state.maximumMaxBudgetInUserCurrency=null;a()}},getPotentialRecipientsString:function(){var a=this.state.potentialRecipients;if(a&&this.canBeSaved()){var b=this.roundRecipientCount(a.pessimisticCount),a=this.roundRecipientCount(a.optimisticCount);return this.state.audienceStrategy===this.AUDIENCE_STRATEGY_CONTACTS&&b!==a?b+" - "+a:a}return null},roundRecipientCount:function(a){return 10>a?a:10*Math.round(a/10)},getDefaultSegment:function(){return new q.PostcardSegment({id:"ALL",
type:"contact-status"})},fetchLocationSuggestions:function(a){return q.fetchLocationSuggestions(a).then(function(a){return a.map(function(a){return{value:a.id,label:a.name,details:a.type}})})},isListSegmentSizeAvailable:function(){return null!==this.state.listSegmentRecipientCount},isListSegmentSizeLargeEnough:function(){return this.state.audienceStrategy===this.AUDIENCE_STRATEGY_CONTACTS||this.state.listSegmentRecipientCount>=this.MINIMUM_LOOKALIKE_AUDIENCE_SIZE},isBudgetValid:function(){return this.state.maxBudget>=
this.MINIMUM_BUDGET_IN_USER_CURRENCY&&!this.doesBudgetExceedMaximum()&&!this.isBudgetExcessive()},isBudgetExcessive:function(){return this.state.audienceStrategy===this.AUDIENCE_STRATEGY_CONTACTS&&null!==this.state.maximumMaxBudgetInUserCurrency&&this.state.maxBudget>this.state.maximumMaxBudgetInUserCurrency},isMaximumMaxBudgetAvailable:function(){return this.state.audienceStrategy===this.AUDIENCE_STRATEGY_LOOKALIKE||null!==this.state.maximumMaxBudgetInUserCurrency},isLocationRadiusValid:function(){return this.state.audienceStrategy===
this.AUDIENCE_STRATEGY_CONTACTS||this.state.selectedLocation&&(!this.state.selectedLocation.mustHaveRadius()||this.state.locationRadius&&this.state.locationRadius<=this.MAXIMUM_LOCATION_RADIUS)},doesBudgetExceedMaximum:function(){return this.state.maxBudget>this.MAXIMUM_BUDGET_IN_USER_CURRENCY},canBeSaved:function(){return this.state.listId&&this.state.audienceStrategy&&this.isLocationRadiusValid()&&this.isListSegmentSizeAvailable()&&this.isListSegmentSizeLargeEnough()&&this.isBudgetValid()&&this.isMaximumMaxBudgetAvailable()},
_renderPotentialRecipients:function(){this.potentialRecipientsHeader&&(this.potentialRecipientsHeader.innerText=this.getPotentialRecipientsString()||"--")},_renderItemButtons:function(){this.isActive&&(this.itemButtons&&this.itemButtons.destroy(),this.itemButtons=new d({label:"Recipients",getData:this.getData.bind(this),onSave:this.onSave,cancel:this.cancel,activate:this.activate,isActive:this.isActive,isValid:this.canBeSaved()}),this.itemButtons.placeAt(this.itemButtonsContainer))},_renderBudgetErrors:function(){if(this.budgetErrorLabel)if(this.isBudgetValid())this.budgetErrorLabel.innerText=
"",this.budgetErrorLabel.classList.add("hide");else{var a;a=this.isBudgetExcessive()?this.currencySymbol+this.state.maximumMaxBudgetInUserCurrency+" is the highest possible budget for this list of contacts.":this.doesBudgetExceedMaximum()?this.currencySymbol+this.MAXIMUM_BUDGET_IN_USER_CURRENCY+" is the highest possible budget for a campaign.":"You must set a max budget of at least "+this.currencySymbol+this.MINIMUM_BUDGET_IN_USER_CURRENCY;this.budgetErrorLabel.innerText=a;this.budgetErrorLabel.classList.remove("hide")}},
_renderListErrors:function(){this.listErrorLabel&&(this.isListSegmentSizeAvailable()&&!this.isListSegmentSizeLargeEnough()?this.listErrorLabel.classList.add("error-text"):this.listErrorLabel.classList.remove("error-text"))},render:function(){a.byId("listSelect")&&a.byId("listSelect").destroy();this.inherited(arguments);this.isActive&&(this._renderPotentialRecipients(),this._renderItemButtons(),this._renderListErrors(),this._renderBudgetErrors(),Object.keys(this.tooltips).forEach(function(a){this.tooltips[a].isVisible&&
this.showTooltip(a)},this))},getData:function(){var a=this.state.selectedLocation,a={listId:this.state.listId,audienceStrategy:this.state.audienceStrategy,segment:this.state.segment,location:a?new q.PostcardLocation(k.mixin({},a,{location_id:a.id,ui_name:a.name,location_type:a.type,radius_miles:a.mustHaveRadius()?this.state.locationRadius||this.DEFAULT_LOCATION_RADIUS:null})):null};a.maxBudgetInUserCurrency=this.state.maxBudget;return a},getListTotalCount:function(a){var b=this.state.listOptions.filter(function(b){return Number(b.listId)===
Number(a)});return 0<b.length?b[0].totalContacts:null},getCurrencyInputClass:function(){return 1>=this.currencySymbol.length?null:2>=this.currencySymbol.length?"c-currencyInput--wide":"c-currencyInput--wider"},onListChange:function(a){a={listId:Number(a),segment:this.getDefaultSegment(),listSegmentRecipientCount:this.getListTotalCount(a)};this.setState(a);this.updatePotentialRecipients();this.updateMaximumMaxBudget()},getListOptions:function(){return this.state.listOptions.map(function(a){return k.mixin({},
a,{disabled:this.state.audienceStrategy===q.AUDIENCE_STRATEGY_LOOKALIKE&&a.totalSubscribers<this.MINIMUM_LOOKALIKE_AUDIENCE_SIZE})},this).sort(function(a){return a.disabled?1:-1})},onSegmentChange:function(a){a=a.target.value;var c=a.split(":"),d=c[1],c=c[0];this.setState({segment:a!==b.OPTION_ENTIRE_LIST?{id:d,type:c}:null,listSegmentRecipientCount:null});this.updateSegmentRecipientCount(Number(this.state.listId),d,c)},getSegmentOption:function(a){return a?[a.type,a.id].join(":"):b.OPTION_ENTIRE_LIST},
onSelectLocation:function(a){a=new q.PostcardLocationSuggestion({display_name:a.label,location_id:a.value,location_type:a.details});this.setState({selectedLocation:a,locationRadius:a.mustHaveRadius()?this.DEFAULT_LOCATION_RADIUS:null});this.updatePotentialRecipients()},onRemoveLocation:function(){this.setState({selectedLocation:null,locationRadius:null});this.updatePotentialRecipients()},onToggleRecipientType:function(a,b){b&&this.setState({audienceStrategy:a,listId:null,segment:null,selectedLocation:null,
listSegmentRecipientCount:null,potentialRecipients:null,maximumMaxBudgetInUserCurrency:null})},onUpdateLocationRadius:function(a){this._onUpdateNumericalInput("locationRadius",a)},onUpdateMaxBudget:function(a){this._onUpdateNumericalInput("maxBudget",a);this.updatePotentialRecipients()},_onUpdateNumericalInput:function(a,b){this.preserveFocus(b);var c=b.target.value.replace(/\D/g,""),d=Number(c),c=isNaN(d)||""===c?null:d,d={_cacheBust:(new Date).getTime()};d[a]=c;this.setState(d)},onIncrementBudget:function(){this._onUpdateBudgetByIncrement(!0)},
onDecrementBudget:function(){this._onUpdateBudgetByIncrement()},_onUpdateBudgetByIncrement:function(a){var b=this.BUDGET_INCREMENT_IN_USER_CURRENCY;a=((a?Math.floor:Math.ceil)((this.state.maxBudget||0)/b)+(a?1:-1))*b;this.setState({maxBudget:a>=this.MINIMUM_BUDGET_IN_USER_CURRENCY?a:this.MINIMUM_BUDGET_IN_USER_CURRENCY});this.updatePotentialRecipients()},onTogglePricingTable:function(a){a.preventDefault();this.setState({isPricingTableVisible:!this.state.isPricingTableVisible})},showTooltip:function(a){var b=
this.tooltips[a].widget;this.tooltips[a].isVisible=!0;e.open({popup:b,around:this.domNode.querySelector("[data-tooltip\x3d'"+a+"']")});b.focus()},hideTooltip:function(a){this.tooltips[a].isVisible=!1;e.hide(this.tooltips[a].widget)},onOpenTooltip:function(a){a.preventDefault();var b=a.target.getAttribute("data-tooltip");this.tooltips[b].widget||(this.tooltips[b].widget=new c({content:"\x3cul class\x3d'help-tip-lines selfclear'\x3e"+this.tooltips[b].content+"\x3c/ul\x3e",baseClass:"dijitTooltipDialogHelp",
"class":"help-tip-dialog dijitTooltipDialog",onBlur:function(){this.hideTooltip(b)}.bind(this)}));this.showTooltip(b)},getOptionMeta:function(a){var b=a.totalSubscribers.toLocaleString()+" subscribed contacts";a.hasEcommerceStore&&(b+=" \x26middot; Store connected");return b}});l.isComplete=function(a){var b=a.maxBudgetInUserCurrency||0;return!!a.list&&b>=v&&b<=y};l.isValid=function(a){return!a.shouldShowSendErrorMessage};return l})},"mojo/widgets/checklist-editor/items/PostcardRecurringSchedule":function(){define(["dojo/_base/declare",
"mojo/widgets/Renderable","mojo/widgets/checklist-editor/items/ItemButtons","mojo/utils","dojo/text!./templates/postcard-recurring-schedule.html"],function(l,k,h,f,a){l=l([k],{intervals:[{value:"30d",label:"Every month"},{value:"90d",label:"Every 3 months"},{value:"180d",label:"Every 6 months"}],templateString:a,constructor:function(a){a=a.model.automationTrigger;this.state={startDate:a.settings.startDate||new Date,interval:a.settings.interval}},getData:function(){return{automationTrigger:{strategy:"recurring",
settings:{startDate:this.state.startDate,interval:this.state.interval}}}},handleIntervalChange:function(a){this.setState({interval:a})},handleStartDateChange:function(a){this.setState({startDate:new Date(a)})},enableStartDate:function(){this.setState({startDate:new Date})},getFormattedStartDate:function(a){return a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},getIntervalLabelByValue:function(a){return this.intervals.filter(function(e){return e.value===a})[0].label},_renderItemButtons:function(){this.isActive&&
(this.itemButtons&&this.itemButtons.destroy(),this.itemButtons=new h({label:"Schedule",getData:this.getData.bind(this),onSave:this.onSave,cancel:this.cancel,activate:this.activate,isActive:this.isActive,isValid:!0}),this.itemButtons.placeAt(this.itemButtonsContainer))},render:function(){this.inherited(arguments);this.isActive&&this._renderItemButtons()}});l.isComplete=function(a){return a.automationTrigger.settings.interval};l.isValid=function(a){a=a.automationTrigger.settings.startDate;var e=(new Date).setHours(0,
0,0,0);return null===a||a>=e};return l})},"mojo/widgets/checklist-editor/items/Recipients":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dijit/registry vendor/lodash-amd/find mojo/widgets/Renderable mojo/widgets/SegmentDropdown mojo/widgets/checklist-editor/items/ItemButtons mojo/widgets/checklist-editor/SendNow mojo/widgets/checklist-editor/items/ReconfirmDialog mojo/widgets/checklist-editor/items/BounceWarningDialog mojo/widgets/checklist-editor/items/AcceptTermsDialog mojo/views/campaigns/wizard/confirm dijit/Dialog mojo/api/member-list mojo/api/campaign mojo/user mojo/lib/flags mojo/utils mojo/url dojo/text!./templates/recipients.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){var z=l([c],{_cachedListSegmentPairs:{},templateString:A,state:{SegmentDropdown:e,user:w,userCanViewRecipientsIndividually:w.hasRole("manager"),listOptions:[],listId:null,listName:"",segment:null,count:null,isPersonalizedToInfoDisplayed:!1,personalizedToTagIsSupportedByDropdown:!1,personalizedToOptions:null},constructor:function(a){var c=a.model;this.campaign=c;this.state.listErrorMessage=c.errorState&&"list"===c.errorState.scope?c.errorState:null;
c.recipients.listId&&(this.state.listId=c.recipients.listId,this.state.listName=c.recipients.listName,this.state.count=c.recipients.count,this.state.isValid=!!this.state.listId);this.state.segment=c.recipients.segment;this.state.mergeFields=c.list?c.list.mergeFields:[];this.state.settings={personalizeToTag:c.recipients.personalizeToTag,personalizeTo:""!==c.recipients.personalizeToTag};this.state.getSegmentOptionForSegment=z.getSegmentDropdownOptionValueFromSegment;this.reconfirmDialogContent=new b({model:a.model,
onSave:a.onSave,openDialog:this.openReconfirmDialog.bind(this),closeDialog:this.closeReconfirmDialog.bind(this),reconfirmURL:x.toUrl("/campaigns/reconfirm-egp",{id:a.model.campaignId})});this.reconfirmDialog=new r({title:"Reconfirm Your New Addresses",content:this.reconfirmDialogContent});this.bounceWarningDialogContent=new n({model:a.model,onSave:a.onSave,openDialog:this.openBounceWarningDialog.bind(this),openAcceptTermsDialog:this.openAcceptTermsDialog.bind(this),closeDialog:this.closeBounceWarningDialog.bind(this)});
this.bounceWarningDialog=new r({title:"Bounce and List Deletion Warning",content:this.bounceWarningDialogContent});this.acceptTermsDialogContent=new p({model:a.model,onSave:this.saveAcceptTermsDialog.bind(this),openDialog:this.openAcceptTermsDialog.bind(this),closeDialog:this.closeAcceptTermsDialog.bind(this)});this.acceptTermsDialog=new r({title:"Accept Terms",content:this.acceptTermsDialogContent})},openReconfirmDialog:function(){this.reconfirmDialog.show()},closeReconfirmDialog:function(){this.reconfirmDialog.hide()},
openBounceWarningDialog:function(){this.bounceWarningDialog.show()},closeBounceWarningDialog:function(){this.bounceWarningDialog.hide()},openAcceptTermsDialog:function(){this.acceptTermsDialog.show()},closeAcceptTermsDialog:function(){this.acceptTermsDialog.hide();this.closeBounceWarningDialog()},saveAcceptTermsDialog:function(){this.closeAcceptTermsDialog();(new q).acceptEgpTerms(this.state.model.campaignId,this.openAcceptTermsDialog.bind(this))},willUpdate:function(a,b){this.isActive?u.CampaignRecipients.cancelRecipientCount():
!b.isActive&&this.model.recipients.needsRecipientCount()&&u.CampaignRecipients.requestRecipientCount(this.model).then(k.hitch(this,function(){this.onSave()}))},postCreate:function(){t.list().then(this.setListOptions.bind(this))},_getCustomData:function(){return f.byNode(this.customSegmentContainer).getData()},getData:function(){var a=f.byNode(this.personalizedToContainer).getData(),a={recipients:{listId:this.state.listId,segment:this.state.segment,personalizeToTag:a}};this.isCustomSegment()&&(a.recipients.segment=
this._getCustomData());return a},getOptionMeta:function(a){var b=a.totalSubscribers.toLocaleString()+" subscribed contacts";a.hasEcommerceStore&&(b+=" \x26middot; Store connected");return b},setListOptions:function(a){this.setState({listOptions:a})},onListChange:function(a){var b={listId:Number(a),isValid:!!a};b.settings={personalizeToTag:"",personalizeTo:this.personalizedToContainer?f.byNode(this.personalizedToContainer).state.settings.personalizeTo:this.state.settings.personalizeTo};for(var c=0;c<
this.state.listOptions.length;c++)Number(a)===Number(this.state.listOptions[c].listId)&&(b.mergeFields=this.state.listOptions[c].mergeFields);this.state.listId&&(this._cachedListSegmentPairs[this.state.listId]={segment:this.isCustomSegment()?this._getCustomData():this.state.segment});b.segment=this._cachedListSegmentPairs[b.listId]?this._cachedListSegmentPairs[b.listId].segment:null;this.setState(b)},setSegmentOption:function(a){var b=a.target.value;a={};b===e.OPTION_ENTIRE_LIST?a={segment:null}:
b===e.OPTION_CUSTOM_SEGMENT?a={segment:{type:"custom",value:{conditions:[],match:"any"}}}:(a=b.split(":"),a={segment:{type:a[0],id:a[1]}});b=this.personalizedToContainer?f.byNode(this.personalizedToContainer).state.settings:this.state.settings;a.settings={personalizeToTag:b.personalizeToTag,personalizeTo:b.personalizeTo};this.setState(a)},openRecipientsPopup:function(a){a.preventDefault();var b=x.toUrl("campaigns/wizard/recipient-popup?id\x3d"+this.model.campaignId);setTimeout(function(){var a=window.open(b,
"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");y.checkPopupWin(a)},0);return!1},isCustomSegment:function(){var a=this.state.segment;return a&&("pasted"===a.type||"custom"===a.type||"custom_pro"===a.type)},render:function(){this.inherited(arguments);this.isActive&&(this.itemButtons&&this.itemButtons.destroy(),this.itemButtons=new m({label:"Recipients",getData:this.getData.bind(this),onSave:this.onSave,cancel:this.cancel,activate:this.activate,
isActive:this.isActive,isValid:this.state.listId?!0:this.state.isValid}),this.itemButtons.placeAt(this.itemButtonsContainer))}});z.getSegmentDropdownOptionValueFromSegment=function(a){var b=e.OPTION_ENTIRE_LIST;if(null!==a)switch(a.type){case "saved":b="saved:"+a.id;break;case "prebuilt":b="prebuilt:"+a.id;break;case "saved_pro":b="saved_pro:"+a.id;break;case "static":b="static:"+a.id;break;case "pasted":b="pasted:"+a.id;break;case "custom":case "custom_pro":case "saved_custom":b=e.OPTION_CUSTOM_SEGMENT;
break;default:throw Error("Cannot construct recipients item for unknown segment type");}return b};z.isComplete=function(a){return!!a.recipients.listId};z.isValid=function(a){var b=0<a.recipients.count,b=!!a.recipients.listId&&b,c=a.list&&a.list.complianceStatus.hasBlockingIssues(),d=!1;w.canSendFree&&(d=a.complianceStatus.hasBlockingIssues());return b&&!1===(c||d)&&!1===a.list.isDeleted};return z})},"mojo/widgets/checklist-editor/items/ReconfirmDialog":function(){define("dojo/_base/declare mojo/widgets/campaigns/CampaignArchiveUrl mojo/user mojo/widgets/Renderable mojo/url dojo/text!./templates/reconfirm-dialog.html".split(" "),
function(l,k,h,f,a,c){return l([f],{templateString:c,constructor:function(c){this.state={user:{isLimitedTrial:h.isLimitedTrial},reconfirmUrl:a.toUrl("/campaigns/reconfirm-egp",{id:c.model.campaignId}),errorState:c.model.errorState}}})})},"mojo/widgets/checklist-editor/items/Settings":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class mojo/widgets/checklist-editor/items/ItemButtons mojo/widgets/Renderable mojo/user mojo/app/conversations mojo/url mojo/api/campaign-crms mojo/utils/campaign dojo/text!./templates/settings.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([c],{templateString:p,TAG_MAX_LENGTH:45,campaign:null,constructor:function(a){this.campaign=a.model;var b=this.campaign.settingsAndTracking.googleEnabled;this.state={state:"loading",isActive:!1,isSaving:!1,campaignId:this.campaign.campaignId,googleEnabled:b,user:e,urls:{integrationsPage:d.toUrl("/account/integrations/"),integrateGooal:d.toUrl("/account/integrations/?t\x3dgoal")},isValid:a.isValid,isDisabled:!1};this.state.settings={convertVideo:"Y"===this.campaign.settingsAndTracking.convertVideo,
useConversation:"Y"===this.campaign.settingsAndTracking.useConversation&&e.hasPaid,convoNotifierCount:this.campaign.settingsAndTracking.convoNotifierCount};this.state.tracking={trackOpens:"Y"===this.campaign.settingsAndTracking.trackOpens,trackClicksHTML:"Y"===this.campaign.settingsAndTracking.trackClicksHTML,trackClicksText:"Y"===this.campaign.settingsAndTracking.trackClicksText||e.mustTrackLinks,googleAnalytics:"google"===this.campaign.settingsAndTracking.analytics&&b,googleAnalyticsTag:this.campaign.settingsAndTracking.analyticsTag||
this._getDefaultTrackingTag(),ecomm360:"Y"===this.campaign.settingsAndTracking.ecomm360,clicktale:"Y"===this.campaign.settingsAndTracking.clicktale,clicktaleTag:this.campaign.settingsAndTracking.clicktaleTag||this._getDefaultTrackingTag(),gooal:"Y"===this.campaign.settingsAndTracking.gooal&&e.isGoalEnabled};this.state.crm={salesforceExists:this.campaign.settingsAndTracking.crmSfExists,salesforceCreateNotes:this.campaign.settingsAndTracking.crmSfCreateNotes,salesforceCreateCampaign:this.campaign.settingsAndTracking.crmSfCreateCampaign,
javelinExists:this.campaign.settingsAndTracking.crmJavExists,javelinCreateNotes:this.campaign.settingsAndTracking.crmJavCreateNotes};this._bootstrapCampaignCrms()},_bootstrapCampaignCrms:function(){b.getCachedCrmSet().then(this._setAvailableCampaignCrms.bind(this)).then(this._transitionToReadyState.bind(this),this._transitionToErrorState.bind(this))},_setAvailableCampaignCrms:function(a){this.setState({crm:k.mixin({},this.state.crm,{salesforceExists:a.salesforce&&a.salesforce.isConnected,javelinExists:a.capsule&&
a.capsule.isConnected})})},activate:function(){this.setState({isActive:!0});this.onActivate()},deactivate:function(){this.setState({isActive:!1});this.onDeactivate()},_transitionToReadyState:function(){this.setState({state:"ready"})},_transitionToErrorState:function(){this.setState({state:"error"})},showConversationSettingsDialog:function(a){a.stopPropagation();a.preventDefault();m.notificationSettings({campaign_id:this.state.campaignId}).then(this.onSave.bind(this))},_getDefaultTrackingTag:function(){return n.getDefaultTrackingTag("regular",
this.campaign.title,this.campaign.subject)}})})},"mojo/app/conversations":function(){define("dojo/dom-attr dojo/ready dojo/query dojo/Deferred dojo/_base/lang dojo/dom-form dojo/dom-style dojo/io-query dojo/request/xhr dijit/registry dijit/Dialog mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage mojo/utils mojo/url dojo/NodeList-manipulate mojo/widgets/ConfirmInput".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){var u=function(a){h(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();
b.preventDefault();a.hide()})},w={initializeListWidgets:function(a){k(function(){var c=b.byId(a);if(!c)throw Error("Conversation List is not in the page");var d=b.byId("action-menu");d&&(h("#delete-action").on("click",function(a){a.stopPropagation();a.preventDefault();w.confirmDeletion(c)}),h("#mark-action").on("click",function(a){a.stopPropagation();a.preventDefault();d.closeDropDown();w.mark(c,!0)}),h("#unmark-action").on("click",function(a){a.stopPropagation();a.preventDefault();d.closeDropDown();
w.mark(c,!1)}));var e={target:c.id,filters:[{label:"Status",key:"status",type:"select",options:{read:"Read",unread:"Unread"}},{label:"Include out of office replies",key:"include_filtered",type:"checkbox"}]},f=new p(e);h("#filter").append(f.domNode);e=new q(e);h("#filter-message").append(e.domNode)})},confirmDeletion:function(a){var b=new n({title:"Are you sure?",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){u(b);h("form",b.domNode).on("submit",function(e){e.stopPropagation();e.preventDefault();
e=c.toObject(this);var f=0,h;for(h in e)e.hasOwnProperty(h)&&0==h.indexOf("id[")&&f++;d.post(l.get(this,"action"),{data:c.toObject(this)}).then(function(){b.hide();a.render();r.toast(f+" conversation"+(1!=f?"s":"")+" successfully deleted")},function(){b.hide()})})}});b.setHref(t.toUrl("conversations/confirm-delete",{"id[]":a.getSelection()}));b.show()},notificationSettings:function(a){var b=new f,e=new n({title:"Notification Settings",onHide:function(){e.destroyRecursive()},onDownloadEnd:function(){u(e);
h("form",e.domNode).on("submit",function(a){a.stopPropagation();a.preventDefault();d.post(l.get(this,"action"),{handleAs:"json",data:c.toObject(this)}).then(function(a){b.resolve(a);e.hide()},function(a){b.reject(a);e.hide()})})}});e.setHref(t.toUrl("conversations/notification-settings",a));e.show();return b},mark:function(a,b){if("undefined"==typeof b||null==b)b=!0;d.post(t.toUrl("conversations/mark"),{data:{"id[]":a.getSelection(),read:b}}).then(function(){a.render()})}};return w})},"mojo/api/campaign-crms":function(){define(["dojo/_base/declare",
"dojo/request/xhr","dojo/when","mojo/url","mojo/lib/request-helpers"],function(l,k,h,f,a){var c=l(null,{constructor:function(a){this.isConnected=a.is_connected}}),e=l(null,{constructor:function(a){this.username=a.username;this.isConnected=a.is_connected}}),m=l(null,{constructor:function(a){this.salesforce=a.salesforce?new c(a.salesforce):null;this.capsule=a.javelin?new e(a.javelin):null}}),d={getCrmSet:function(){var b=f.toUrl("/account/integrations/api/get-crm-list",{});return k.get(b,{handleAs:"json"}).then(function(a){a=
new m(a);null===d._cachedSet&&(d._cachedSet=a);return a},a.throwError)},getCachedCrmSet:function(){var a=d._cachedSet;return a?h(a):this.getCrmSet()},_cachedSet:null};return d})},"mojo/utils/campaign":function(){define([],function(){return{getDefaultTrackingTag:function(l,k,h){var f="";"rss"===l?f="RSS_EMAIL_CAMPAIGN":(f=k||h?k||!h?k.replace(/\W+/g,"_"):h.replace(/\W+/g,"_"):"EMAIL_CAMPAIGN_",40<f.length&&(f=f.substr(0,40)),l=new Date,f+=l.getMonth()+1+"_"+l.getDate()+"_"+l.getFullYear());return f}}})},
"mojo/widgets/checklist-editor/items/SocialPostingItem":function(){define("dojo/_base/lang dojo/_base/declare dojo/query dojo/debounce mojo/widgets/Renderable mojo/user mojo/lib/flags mojo/utils mojo/widgets/ContentManager vendor/lodash-amd/filter dijit/registry dojox/html/entities dojo/text!./templates/social-posting-item.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q){var r=k([],{constructor:function(a){this.id=a.id;this.url=a.url;this.fileExtension=a.fileExtension;this.fileSize=a.fileSize}});
return k([a],{templateString:q,urlRegex:/(\*\|URL\|\*)|((^|[ \t\r\n])((http|https):(([A-Za-z0-9$_.+!*(),;/?:@&~=-])|%[A-Fa-f0-9]{2}){2,}(#([a-zA-Z0-9][a-zA-Z0-9$_.+!*(),;/?:@&~=%-]*))?([A-Za-z0-9$_+!*();/?:~-])))/g,urlRegexNoWhitespace:/(\*\|URL\|\*)|((http|https):(([A-Za-z0-9$_.+!*(),;/?:@&~=-])|%[A-Fa-f0-9]{2}){2,}(#([a-zA-Z0-9][a-zA-Z0-9$_.+!*(),;/?:@&~=%-]*))?([A-Za-z0-9$_+!*();/?:~-]))/g,urlMergeTag:"*|URL|*",canImagesBeUploaded:!1,socialPostingFlag:c.flagIsOn(e.MULTICHANNEL_CAMPAIGN_CHECKLIST_EDITOR_SOCIAL_POSTING),
widgetName:"SocialPostingItem",requiredProps:["staticContent","onSave","networkName","imageValidationHandler"],maxFileSize:null,imageValidationHandler:null,constructor:function(a){this.props=a;this.maxFileSize=this.props.postData.maxFileSize;a=this.props.postData.content||"";var b=this.props.postData.shouldAutopost?this.props.postData.pageIds:[],c=this.getImages();this.state={shouldAutopost:!!this.props.postData.shouldAutopost||this.props.isActive,pendingContent:a,remainingCharacters:this.getRemainingCharacterCount(a),
pendingPages:b,isSaving:!1,pendingImages:c}},getPageOptions:function(){return this.props.profileData.profiles.map(function(a){return{value:a.id,selected:-1<this.state.pendingPages.indexOf(a.id),label:a.name+" ("+(a.isPage?"Facebook Page":"Your Profile")+")"}},this)},generatePreviewContent:function(){var a=this.props.postData.content||"",b=a.match(this.urlRegex),c=p.encode(a,p.html);b&&b.forEach(function(a){c=c.replace(p.encode(a.trim(),p.html),l.replace("\x3ca target\x3d'_blank' rel\x3d'noopener noreferrer'\x3e{label}\x3c/a\x3e",
{label:-1<a.indexOf(this.urlMergeTag)?"[Campaign URL]":a.trim()}))},this);return c},getPageString:function(){if(this.props.autoselectedProfile)return this.props.autoselectedProfile.getName();var a=this.props.postData.pageIds||[];return 0===a.length?this.props.staticContent.name:this.props.profileData.profiles.filter(l.hitch(this,function(b){return-1<a.indexOf(b.id)})).map(function(a){return a.name}).join(", ")},getImages:function(){return(this.props.postData.fileData||[]).map(function(a){return new r({id:a.fileData?
a.fileData.contentId:null,url:a.selectedVersionUrl,fileExtension:a.fileData?a.fileData.fileExtension:null,fileSize:a.fileData?a.fileData.sizeInBytes:null})})},getRemainingCharacterCount:function(a){var b=this.props.staticContent.maxContentLength,c=this.props.staticContent.urlShortenLength||0,d=0;c&&(d=(d=a.match(this.urlRegex))?d.length:0);return b-(d?a.replace(this.urlRegexNoWhitespace,""):a).length-d*c},getRemainingCharacterCountLabel:function(){return this.state.remainingCharacters+" "+m.plural(this.state.remainingCharacters,
"character")+" remaining"},isValidMessage:function(){return!!(0<this.state.pendingContent.length&&0<=this.state.remainingCharacters&&(this.props.autoselectedProfile||0<this.state.pendingPages.length))},showImageUploader:function(){d.show({actions:"select",allowedFileTypes:["image"],onSelectContentItem:this.onSelectImage.bind(this)})},onSelectImage:function(a){a=new r({id:a.contentId,url:a.url,fileExtension:a.fileExtension,fileSize:a.sizeInBytes});this.setState({pendingImages:this.state.pendingImages.concat(a)});
d.hide();this.validateImages()},validateImages:function(){var a=b(this.state.pendingImages,{fileExtension:"gif"}),c=b(this.state.pendingImages,function(a){return a.fileSize>this.maxFileSize}.bind(this));return this.imageValidationHandler(a,c,this.state.pendingImages.length)},removePendingImage:function(a){var b=a.target.getAttribute("data-fileId");this.setState({pendingImages:this.state.pendingImages.filter(function(a){return String(a.id)!==b})});this.validateImages()},isEditMode:function(){return this.props.profileData&&
!this.props.isDisabled&&this.state.shouldAutopost&&this.props.isActive&&this.props.profileData.isConnected},isPreviewMode:function(){return this.props.profileData&&!this.props.isDisabled&&this.state.shouldAutopost&&!this.props.isActive&&this.props.profileData.isConnected},isLoading:function(){return!this.props.profileData&&!this.props.isDisabled},toggleAutoPosting:function(a){this.setState({shouldAutopost:a});if(a)this.props.onActivate();else this.saveState()},updatePendingPages:function(a){this.state.pendingPages=
a},pagesDropdownClose:function(){this.setState({pendingPages:this.state.pendingPages,cacheBust:(new Date).getTime()})},updatePendingContent:function(a){this.preserveFocus(a);this.setState({pendingContent:a.target.value,remainingCharacters:this.getRemainingCharacterCount(a.target.value)})},cancelEditing:function(a){a.preventDefault();this.props.onDeactivate()},saveContent:function(a){a.preventDefault();this.isValidMessage()&&!this.state.isSaving&&(this.setState({isSaving:!0}),this.saveState())},saveState:function(){var a=
{social:{}},b=this.state.pendingImages.map(function(a){return{id:a.id,selected_version_url:a.url}});a.social[this.props.networkName]={content:this.state.pendingContent||null,pageIds:this.state.shouldAutopost?this.state.pendingPages:[],shouldAutopost:this.state.shouldAutopost,fileData:b};this.onSave(a)},editContent:function(){this.props.onActivate();this.validateImages()}})})},"vendor/lodash-amd/filter":function(){define(["./_arrayFilter","./_baseFilter","./_baseIteratee","./isArray"],function(l,k,
h,f){return function(a,c){return(f(a)?l:k)(a,h(c,3))}})},"mojo/widgets/checklist-editor/items/SocialPostingWrapper":function(){define("dojo/_base/lang dojo/_base/declare mojo/widgets/Renderable mojo/user mojo/api/social-profiles mojo/url mojo/lib/flags mojo/utils dojo/text!./templates/social-posting-wrapper.html".split(" "),function(l,k,h,f,a,c,e,m,d){var b=k([h],{templateString:d,campaign:null,socialUrls:null,socialContent:{facebook:{name:"Facebook",icon:"/images/icons/facebook.svg",maxContentLength:500,
postingLabel:"Post to"},twitter:{name:"Twitter",icon:"/images/icons/svg/twitter.svg",maxContentLength:280,urlShortenLength:23,postingLabel:"Tweet as"},instagram:{name:"Instagram",icon:"/images/icons/ig_2x36.png",maxContentLength:280,urlShortenLength:23,postingLabel:"Post as"}},widgetName:"SocialPostingWrapper",requiredProps:["onSave","model"],instagramFeatureFlag:f.flagIsOn(e.MULTICHANNEL_ADD_INSTAGRAM_SOCIAL_POSTING),activate:function(a){this.setState({activeNetwork:a,isActive:!0});this.onActivate()},
deactivate:function(){this.setState({activeNetwork:null,isActive:!1});this.onDeactivate()},constructor:function(c){this.campaign=c.model;this.socialUrls=b.getUrlsForCampaign(this.campaign);this.state={isDisabled:!1,facebookData:null,instagramData:null,twitterData:null,activeNetwork:null};a.getCachedProfiles().then(l.hitch(this,function(a){var b=a.getTwitterProfileForListId(this.campaign.list&&this.campaign.list.listId);this.setState({instagramData:{canPublish:a.facebook.canPublish,isConnected:a.facebook.isConnected,
profiles:[{screenName:"ChrisDaGreat8"}]},facebookData:a.facebook,twitterData:l.mixin(a.twitter,{isConnected:!!b}),autoselectedTwitterProfile:b,autoselectedInstagramProfile:{getName:function(){return"ChrisDaGreat8"}}})}))},facebookImageValidation:function(a,b,c){var d={errorMessages:[],warningMessages:[]};if(0===c||0===a.length&&0===b.length)return d;a=1<=a.length;b=0<b.length;d.errorMessages=[];b&&d.errorMessages.push("The file size must be less than "+m.formatFileSize(this.maxFileSize));d.warningMessages=
[];a&&d.warningMessages.push("Heads up. Auto-posted GIFs will display as static images on Facebook.");return d},twitterImageValidation:function(a,b,c){var d={errorMessages:[]};if(0===c||0===a.length&&0===b.length)return d;a=a?1<=a.length:0===a.length;b=0<b.length;d.errorMessages=[];b&&d.errorMessages.push("The file size must be less than "+m.formatFileSize(this.maxFileSize));a&&1<c&&d.errorMessages.push("You can choose either one GIF or up to four static images.");return d}});b.getUrlsForCampaign=
function(a){return{twitter:{integration:c.toUrl("/account/integrations/twitter-oauth-authorize",{redir:"edit|"+a.campaignId,id:a.list?a.list.list_id:0})},facebook:{integration:c.toUrl("/facebook/login",{redir:"edit|"+a.campaignId}),addPublishPermission:c.toUrl("/facebook/login",{redir:"edit|"+a.campaignId,auth_type:"rerequest",scope:"publish_actions"})}}};return b})},"mojo/api/social-profiles":function(){define("dojo/_base/declare dojo/request/xhr dojo/when mojo/url mojo/validation/Error mojo/lib/request-helpers".split(" "),
function(l,k,h,f,a,c){var e=l(null,{constructor:function(a){this.id=a.id;this.name=a.name;this.isPage=a.is_page},getName:function(){return this.name}}),m=l(null,{constructor:function(a){this.screenName=a.screen_name;this.listId=a.list_id},getName:function(){return this.screenName}}),d=l(null,{constructor:function(a){this.twitter={profiles:a.twitter.profiles.map(function(a){return new m(a)}),canPublish:!0,isConnected:a.twitter.profiles&&0<a.twitter.profiles.length};this.facebook={isConnected:a.facebook.is_connected,
canPublish:a.facebook.can_publish,profiles:a.facebook.profiles.map(function(a){return new e(a)})}},getTwitterProfileForListId:function(a){var b=this.twitter.profiles.filter(function(b){return b.listId===a});if(0<b.length)return b[0];b=this.twitter.profiles.filter(function(a){return 0===a.listId});return 0<b.length?b[0]:null}}),b={getProfiles:function(){var a=f.toUrl("/social-profiles/get-list",{});return k.get(a,{handleAs:"json"}).then(function(a){a=new d(a);null===b._cachedProfileSet&&(b._cachedProfileSet=
a);return a},c.throwError)},getCachedProfiles:function(){return b._cachedProfileSet?h(b._cachedProfileSet):this.getProfiles()},_cachedProfileSet:null};return b})},"mojo/widgets/checklist-editor/items/Store":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dijit/registry mojo/api/ecommerce-store mojo/url mojo/utils mojo/widgets/Renderable mojo/widgets/checklist-editor/items/ItemButtons vendor/lodash-amd/template dojo/text!./templates/store.html".split(" "),function(l,k,h,f,a,c,
e,m,d,b,n){l=l([m],{templateString:n,_originalStoreId:null,hasEditButton:!0,noOptionsConnectedSiteStoreDescription:b('If you need help, we\u2019ve got you covered. \x3ca href\x3d"${link}"\x3eConnect your site\x3c/a\x3e, or check out \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/integrations/e-commerce/how-to-use-mailchimp-for-e-commerce#Connect-Your-Store"\x3eHow to Use MailChimp for E-Commerce\x3c/a\x3e.'),state:{storeOptions:[],storeId:null,storeName:"",listName:"",hasStores:!1,changedStore:!1},
constructor:function(a){this._originalStoreId=a.model.store.id;this.hasSignupForm=a.model.hasSignupForm;this.state.storeId=a.model.store.id;this.state.storeName=a.model.store.name;this.state.listName=a.model.list.name},postCreate:function(){this.connectYourStoreLink=c.toUrl("/account/connected-sites/wizard/");a.list().then(k.hitch(this,function(a){this.setStoreOptions(a)}))},getData:function(){return{storeId:this.state.storeId,storeName:this.state.storeName}},getOptionMeta:function(a){var b=a.totalSubscribers.toLocaleString()+
" subscribed contacts";a.hasEcommerceStore&&(b+=" \x26middot; Store connected");return b},setStoreOptions:function(a){var b=Boolean(0<a.length);b?this.setState({storeOptions:a,hasStores:b}):(this.noStoreMessage=this.noOptionsConnectedSiteStoreDescription({link:this.connectYourStoreLink}),this.render())},onStoreChange:function(a){var b=!1;this.hasSignupForm&&this._originalStoreId!==a&&(b=!0);this.setState({storeId:Number(a),isValid:!!a,changedStore:b})},getStoreTagOptions:function(){var a=this.state.storeOptions.map(k.hitch(this,
function(a){return{value:a.storeId,label:a.name,selected:this.state.storeId&&a.storeId===this.state.storeId?!0:!1}}));a.unshift({label:"Choose a store"});return a},render:function(){this.inherited(arguments);this.isActive&&this.state.hasStores&&(this.itemButtons&&this.itemButtons.destroy(),this.itemButtons=new d({label:"Store",getData:this.getData.bind(this),onSave:this.onSave,cancel:this.cancel,activate:this.activate,isActive:this.isActive,isValid:this.state.storeId?!0:this.state.isValid}),this.itemButtons.placeAt(this.itemButtonsContainer))}});
l.isComplete=function(a){return!!a.storeId};l.isValid=l.isComplete;return l})},"mojo/widgets/checklist-editor/items/Subject":function(){define("dojo dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-class dojo/dom-attr dijit dijit/Tooltip dijit/Dialog mojo/utils mojo/lib/ServiceUnavailableError mojo/widgets/Renderable mojo/widgets/campaigns/CampaignArchiveUrl mojo/widgets/campaigns/CampaignUrlErrorDialog mojo/widgets/checklist-editor/items/CharCount mojo/widgets/checklist-editor/items/SubjectDialog mojo/widgets/checklist-editor/items/ValidationErrors mojo/widgets/checklist-editor/items/ItemButtons dojo/text!./templates/emojiTooltip.html dojo/text!./templates/subject.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){l=k([p],{templateString:x,constructor:function(a){this.state={subject:a.model.content.subject||a.model.fromDefaultSubject,previewText:a.model.content.previewText,dirtyFields:{}};this.inherited(arguments);this.subjectCharCount=new t({maxCharacterLength:150});this.previewTextCharCount=new t({maxCharacterLength:150});this.subjectValidationErrors=new w;this.previewTextValidationErrors=new w;this.campaignArchiveUrl=new q;this.campaignId=a.model.campaignId;
this.campaignUrl=a.model.campaignUrl.url;this.onSave=a.onSave},getData:function(){return{content:{subject:this.state.subject,previewText:this.state.previewText}}},onSaveError:function(a){a instanceof n&&a.code===n.CODE_REQUESTMAPPER&&new r({campaignUrl:this.campaignUrl,campaignId:this.campaignId,continueButtonLabel:"Use default URL",cancelButtonLabel:"Cancel changes",saveInstructions:"You can choose to cancel these changes, or continue to build your campaign with this default campaign URL:",onCancel:h.hitch(this,
function(a){a.preventDefault();this.cancel(a)}),disablePrettyUrl:h.hitch(this,function(){var a=this.getData();a.campaign_url={campaign_token:null};return this.onSave(a)})})},validate:function(){var a={};""===this.state.subject?a.subject="Add the subject for your email before saving.":150<b.getSymbolLength(this.state.subject)&&(a.subject="Your subject should be 150 characters or less.");150<b.getSymbolLength(this.state.previewText)&&(a.previewText="Your preview should be 150 characters or less.");
return a},setValue:function(a){var b={},c=this.state.dirtyFields,d=a.target.name;a=a.target.value;""!==a&&(c[d]=!0,b.dirtyFields=c);b[d]=a;this.setState(b)},showSubjectDialog:function(){this.subjectDialog||(this.subjectDialog=new d({title:"How do I write a good subject line?",content:new u({model:this.model})}));this.subjectDialog.show()},renderValidation:function(b){Object.keys(this.state.dirtyFields).forEach(function(c){var d=e.byId(c+"EmojiPicker");this[c+"ValidationErrorsContainer"].innerText=
b[c]||"";d&&a.toggle(d.fauxInput,"invalid",!!b[c])},this)},render:function(){""===this.domNode.innerHTML&&this.inherited(arguments);if(this.isActive){var a=this.validate();new m({connectId:this.emojiSupportLink,position:["below"],showDelay:0,label:y});this.itemButtons&&this.itemButtons.destroy();this.renderValidation(a);this.subjectCharCount.placeAt(this.subjectCharCountContainer);this.previewTextCharCount.placeAt(this.previewTextCharCountContainer);this.subjectCharCount.setCount(150-b.getSymbolLength(this.state.subject));
this.previewTextCharCount.setCount(150-b.getSymbolLength(this.state.previewText));this.itemButtons=new v({label:"Subject",getData:this.getData.bind(this),onSaveError:this.onSaveError.bind(this),onSave:this.onSave,cancel:this.cancel,activate:this.activate,deactivate:this.deactivate,isActive:this.isActive,isValid:0===Object.keys(a).length});this.itemButtons.placeAt(this.subjectItemButtonsContainer)}}});l.isComplete=function(a){return a.content.subject};l.isValid=function(a){return 150>=b.getSymbolLength(a.content.previewText)&&
150>=b.getSymbolLength(a.content.subject)};return l})},"mojo/widgets/checklist-editor/items/settings/ActiveSettingsView":function(){define(["dojo/_base/declare","dojo/_base/lang","vendor/lodash-amd/find","mojo/widgets/Renderable","dojo/text!./templates/active-settings-view.html"],function(l,k,h,f,a){return l([f],{templateString:a,constructor:function(a){if("undefined"===typeof a.state)throw new TypeError("state property is required");if("undefined"===typeof a.onSave)throw new TypeError("onSave property is required");
if("undefined"===typeof a.handleCancel)throw new TypeError("handleCancel property is required");if("undefined"===typeof a.campaign)throw new TypeError("campaign property is required");},setSettingsState:function(a){this.setStateSubset("settings",a)},setTrackingState:function(a){this.setStateSubset("tracking",a)},setCrmState:function(a){this.setStateSubset("crm",a)},setStateSubset:function(a,e){var f={};f[a]=k.mixin({},this.state[a],e);this.setState(f)},toggleUseConversation:function(a){this.setSettingsState({useConversation:a})},
toggleConvertVideo:function(a){this.setSettingsState({convertVideo:a})},toggleTrackOpens:function(a){this.setTrackingState({trackOpens:a})},toggleTrackClicksHtml:function(a){this.setTrackingState({trackClicksHTML:a})},toggleTrackClicksText:function(a){this.setTrackingState({trackClicksText:a})},toggleGoogleAnalytics:function(a){this.setTrackingState({googleAnalytics:a})},setGoogleAnalyticsTag:function(a){this.setTrackingState({googleAnalyticsTag:a.target.value})},toggleEcomm:function(a){this.setTrackingState({ecomm360:a})},
toggleClicktale:function(a){this.setTrackingState({clicktale:a})},setClicktaleTag:function(a){this.setTrackingState({clicktaleTag:a.target.value})},toggleGooal:function(a){this.setTrackingState({gooal:a})},toggleSalesforceCreateCampaign:function(a){this.setCrmState({salesforceCreateCampaign:a})},toggleSalesforceCreateNotes:function(a){this.setCrmState({salesforceCreateNotes:a})},toggleJavelinCreateNotes:function(a){this.setCrmState({javelinCreateNotes:a})},getData:function(){var a=this.state.settings,
e=this.state.tracking,f=this.state.crm;return{settingsAndTracking:{useConversation:a.useConversation,convertVideo:a.convertVideo,trackOpens:e.trackOpens,trackClicksHTML:e.trackClicksHTML,trackClicksText:e.trackClicksText,analytics:e.googleAnalytics,analyticsTag:e.googleAnalyticsTag,ecomm360:e.ecomm360,clicktale:e.clicktale,clicktaleTag:e.clicktaleTag,gooal:e.gooal,crmSfCreateNotes:f.salesforceCreateNotes,crmSfCreateCampaign:f.salesforceCreateCampaign,crmJavCreateNotes:f.javelinCreateNotes}}}})})},
"mojo/widgets/checklist-editor/items/settings/InactiveSettingsView":function(){define(["dojo/_base/declare","mojo/widgets/Renderable","mojo/app/conversations","dojo/text!./templates/inactive-settings-view.html"],function(l,k,h,f){return l([k],{templateString:f,constructor:function(a){if("undefined"===typeof a.state)throw new TypeError("state property is required");if("undefined"===typeof a.onSave)throw new TypeError("onSave property is required");if("undefined"===typeof a.activate)throw new TypeError("activate property is required");
},showConversationSettingsDialog:function(a){a.stopPropagation();a.preventDefault();h.notificationSettings({campaign_id:this.state.campaignId}).then(this.onSave)}})})},"mojo/widgets/checklist-editor/items/page-settings/ActiveSettingsView":function(){define("dojo/_base/declare dojo/_base/lang vendor/lodash-amd/find mojo/lib/page/settings mojo/widgets/Renderable dojo/text!./templates/active-settings-view.html".split(" "),function(l,k,h,f,a,c){return l([a],{templateString:c,constructor:function(a){if("undefined"===
typeof a.state)throw new TypeError("state property is required");if("undefined"===typeof a.onSave)throw new TypeError("onSave property is required");if("undefined"===typeof a.handleCancel)throw new TypeError("handleCancel property is required");if("undefined"===typeof a.page)throw new TypeError("page property is required");},setSettingsState:function(a){this.setStateSubset("settings",a)},setTrackingState:function(a){this.setStateSubset("tracking",a)},setStateSubset:function(a,c){var d={};d[a]=k.mixin({},
this.state[a],c);this.setState(d)},toggleGoogleAnalytics:function(a){this.setTrackingState({googleAnalyticsTrackingEnabled:a})},setGoogleAnalyticsTag:function(a){this.setTrackingState({googleAnalyticsTag:a.target.value})},toggleMailchimpTracking:function(a){this.setTrackingState({mailchimpTrackingEnabled:a})},togglePixelTracking:function(a){this.setTrackingState({facebookPixelTrackingEnabled:a})},setFacebookPixelId:function(a){this.setTrackingState({facebookPixelId:a.target.value})},getData:function(){var a=
this.state.tracking,c=f.TYPES;return{tracking_settings:[this.buildSettingDataByType(c.facebookPixel,a),this.buildSettingDataByType(c.googleAnalytics,a),this.buildSettingDataByType(c.mailchimp,a)]}},buildSettingDataByType:function(a,c){return{setting_type:a,enabled:this.getEnabledPropertyByType(a,c),data:this.getDataPropertyByType(a,c)}},getEnabledPropertyByType:function(a,c){var d={};d[f.TYPES.googleAnalytics]="googleAnalyticsTrackingEnabled";d[f.TYPES.mailchimp]="mailchimpTrackingEnabled";d[f.TYPES.facebookPixel]=
"facebookPixelTrackingEnabled";return c[d[a]]},getDataPropertyByType:function(a,c){var d={};void 0!==c.googleAnalyticsTag&&((d[f.TYPES.googleAnalytics]={})[f.DATA_NAMES.googleAnalyticsTrackingId]=c.googleAnalyticsTag);void 0!==c.facebookPixelId&&((d[f.TYPES.facebookPixel]={})[f.DATA_NAMES.facebookPixel]=c.facebookPixelId);return d[a]}})})},"mojo/widgets/checklist-editor/items/page-settings/InactiveSettingsView":function(){define(["dojo/_base/declare","mojo/widgets/Renderable","mojo/app/conversations",
"dojo/text!./templates/inactive-settings-view.html"],function(l,k,h,f){return l([k],{templateString:f,constructor:function(a){if("undefined"===typeof a.state)throw new TypeError("state property is required");if("undefined"===typeof a.onSave)throw new TypeError("onSave property is required");if("undefined"===typeof a.activate)throw new TypeError("activate property is required");}})})},"mojo/widgets/campaigns/CampaignActions":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/query dojo/topic dojo/on dijit/_Widget dijit/_Templated dijit/registry dojox/html/entities mojo/analytics/parts/_Part mojo/url mojo/app/campaigns mojo/analytics/parts/MoveToFolder vendor/pluralize/pluralize dojo/text!./templates/CampaignActions.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([n,e,m],{templateString:u,_toggleDisplay:function(){h.toggle(this.domNode,"c-campaignManager_selectActions--visible",this.target.hasSelection())},_toggleFolderSelectedMode:function(a){a.isForFolder=this.campaignNav.selectedFolderId;this._replaceFolders(a);a.toggleRemoveButton(this.campaignNav.selectedFolderId);a.toggleAddButton(!this.campaignNav.selectedFolderId)},_buildMoveToFolderMenu:function(){var b=new r({target:this.target,baseUrl:p.toUrl("/campaigns/folders"),
folders:this.folders,shouldExcludeUnfiled:!0,onChange:k.hitch(this,function(a,b){this.campaignNav.set("folders",this.campaignNav.folders.map(function(c){return c.id===a?k.mixin(c,{name:b}):c}))}),onEditCanceled:k.hitch(this,function(){this.campaignNav.set("folders",this.campaignNav.folders)}),onMove:k.hitch(this,function(a,c){this.campaignNav.set("folders",a.filter(function(a){return a.id}));b.updateCounts(a);Number(c)?(this.target.clearFilter("bucket"),this.target.setFilter("folder",c)):(this.target.clearFilter("folder"),
this.target.setFilter("bucket","recent"))}),onAdd:k.hitch(this,function(a){this.campaignNav.folders=this.campaignNav.folders.concat(a)})},this.node_folderMoveButton);a.subscribe("/campaigns/setFolders",this._replaceFolders.bind(this,b));this._toggleFolderSelectedMode(b,!!this.target.getFilter("folder"));this.target.watchFilter("folder",k.hitch(this,function(){this._toggleFolderSelectedMode(b,!!this.target.getFilter("folder"))}));return b},_replaceFolders:function(a){for(;0<a.folders.length;)a.folders.pop();
this.campaignNav.folders.slice().reverse().forEach(k.hitch(this,function(b){!b.id||this.campaignNav.selectedFolderId&&b.id===this.campaignNav.selectedFolderId||a.folders.push(b)}))},_buildDeleteFoldersButton:function(a){c(this.node_deleteCampaignButton,"click",k.hitch(this,function(){q.confirmDeletion(this.target,"campaign",k.hitch(this,function(){a&&a.request("view").then(k.hitch(this,function(b){a.updateCounts(b.folders);this.campaignNav.set("folders",b.folders.filter(function(a){return a.id}))}));
this.target.page=1;this.target.render()}))}))},_buildDeselectAllButton:function(){c(this.node_deselectButton,"click",k.hitch(this,function(){this.target.toggleAll(!1)}))},_buildSelectionCountLabel:function(){this.target.selected.watch(k.hitch(this,function(){var a=Object.keys(this.target.selected).reduce(k.hitch(this,function(a,b){return a+="_watchCallbacks"!==b&&this.target.selected[b]?1:0}),0);this.node_selectionCount.innerText=a+" "+t("campaign",a)}))},canDisplay:function(){return!0},init:function(){this.target.selected.watch(this._toggleDisplay.bind(this));
this.folders=window._mc.view_folders.filter(function(a){return a.id});this.campaignNav=d.byId("campaigns-nav");this._buildSelectionCountLabel();this._buildDeselectAllButton();var a=this._buildMoveToFolderMenu();this._replaceFolders(a);this._buildDeleteFoldersButton(a)}})})},"mojo/widgets/campaigns/CampaignBreadCrumb":function(){define("dojo/_base/declare mojo/analytics/parts/_Part dijit/_TemplatedMixin dojo/_base/lang dojo/on dojo/text!./templates/CampaignBreadCrumb.html".split(" "),function(l,k,
h,f,a,c){return l([k,h],{templateString:c,canDisplay:function(){return-1<["active","paused","needsAttention"].indexOf(this.target.getFilter("bucket"))},init:function(){a(this.domNode,"click",f.hitch(this,function(a){a.preventDefault();this.target.clearAllFilters();this.target.setFilter("bucket","ongoing")}));this._watches.push(this.target.watchFilter("bucket",this.toggleDisplay.bind(this)))}})})},"mojo/widgets/campaigns/CampaignList":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/topic dojo/Deferred dojo/Stateful dojo/dom-construct dojo/dom-attr dojo/dom-style dojo/dom-class dojo/hash dojo/query dojo/request/xhr dojo/promise/all dojox/html/entities mojo/url mojo/user mojo/api/outreach mojo/lib/flags mojo/analytics/List mojo/analytics/_PermanentlyPersistedMixin mojo/widgets/NoDataBlock ./EmailSlat ./AdSlat ./AutomationSlat ./PageSlat ./SlatGroup ./PostcardSlat".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I){a=new Date;return l([x,c,A],{pageSize:25,ongoingPageSize:8,lists:window._mc.lists_options,slatGroups:{},slatGroupOrder:[],subBucketContent:{active:{name:"Active",loadButtonText:"See All Active"},paused:{name:"Paused",loadButtonText:"See All Paused"},needsAttention:{name:"Needs Attention",loadButtonText:"See All Needs Attention"}},bucketContent:{recent:"Recent Campaigns",draft:"Draft Campaigns",ongoing:"Ongoing Campaigns",completed:"Completed Campaigns"},
subBucketOrder:["needsAttention","active","paused"],monthNames:"January February March April May June July August September October November December".split(" "),specialDateGroups:{thisWeek:{name:"This Week",minDate:new Date(a.getFullYear(),a.getMonth(),a.getDate()-7)},thisMonth:{name:"This Month",minDate:new Date(a.getFullYear(),a.getMonth(),0)},pastMonth:{name:"Past Month",minDate:new Date(a.getFullYear(),a.getMonth()-1,0)}},specialDateGroupOrder:["thisWeek","thisMonth","pastMonth"],constructor:function(){this.inherited(arguments)},
shouldPersistPage:function(){return!1},renderLoading:function(){return!0},_removeState:function(){1>=this.page&&this.inherited(arguments)},getData:function(a){return r(this.isOngoing()?this.subBucketOrder.map(k.hitch(this,function(b){b=k.mixin(k.clone(a),{"filters[bucket]":b,per_page:this.ongoingPageSize,page:1});return v.list(b)})):[v.list(a)]).then(k.hitch(this,function(a){return a.reduce(k.hitch(this,function(a,b){return{items:a.items.concat(b.items),counts:a.counts.concat(Number(b.count)),count:a.count+
Number(b.count)}}),{items:[],counts:[],count:0})}))},isAnySearchFilterApplied:function(){return this.getFilter("type")||this.getFilter("search")||this.getFilter("list")},isOngoing:function(){return"ongoing"===this.getFilter("bucket")&&!this.isAnySearchFilterApplied()},shouldGroupByDate:function(){return-1===this.subBucketOrder.indexOf(this.getFilter("bucket"))&&!this.getFilter("folder")&&!this.isAnySearchFilterApplied()},initializeSlatGroups:function(){if(this.isOngoing())this.slatGroupOrder=this.subBucketOrder.slice(),
this.slatGroups=this.slatGroupOrder.reduce(k.hitch(this,function(a,b){var c=k.mixin(this.subBucketContent[b],{onLoadMore:this.loadBucket.bind(this,b)});a[b]=new G(c);return a}),{});else if(this.shouldGroupByDate())this.slatGroupOrder=[],this.slatGroups={};else{var a=this.getFilter("folder")||this.getFilter("bucket")||"recent",b=!!this.getFilter("folder"),c=this.subBucketContent[a]?this.subBucketContent[a].name:this.bucketContent[a];this.slatGroupOrder=[a];this.slatGroups={};this.slatGroups[a]=new G({name:b?
this.folders.reduce(k.hitch(this,function(b,c){return b=Number(c.id)===Number(a)?t.decode(c.name)||name:b}),""):c,shouldShowArchiveLink:b,onLoadMore:this.loadNextPage.bind(this)})}},loadNextPage:function(){this.set("page",this.page+1)},loadBucket:function(a){this.setFilter("bucket",a)},getSpecialDateSlatGroup:function(a){var b=this.specialDateGroupOrder.reduce(k.hitch(this,function(b,c){return b=!b&&a>this.specialDateGroups[c].minDate?c:b}),null);b&&!this.slatGroups[b]&&(this.slatGroups[b]=new G({name:this.specialDateGroups[b].name,
onLoadMore:this.loadNextPage.bind(this)}),this.slatGroupOrder.push(b));return b},getMonthSlatGroup:function(a){var b=String(a.getMonth())+"of"+String(a.getFullYear());this.slatGroups[b]||(this.slatGroups[b]=new G({name:this.monthNames[a.getMonth()]+", "+a.getFullYear(),onLoadMore:this.loadNextPage.bind(this)}),this.slatGroupOrder.push(b));return b},renderData:function(a){0<a.items.length?this.renderSlats(a.items,a.counts):(a="recent",this.isAnySearchFilterApplied()?a="":this.getFilter("folder")?a=
"folder":this.getFilter("bucket")&&(a=this.getFilter("bucket")),this.renderEmptyView(a))},renderEmptyView:function(a){var b={recent:{icon:"empty-campaigns-default",title:"No campaigns yet",message:"When you create an email or ad, it'll show up here. \x3chr class\x3d'margin--lv5' /\x3e\x3ch4\x3eReady to get started?\x3c/h4\x3e\x3cp class\x3d'c-noDataBlock_message'\x3eOur automated welcome email makes it easy to send a friendly hello or say thank you when people join your list.\x3c/p\x3e",buttonText:"Try it out",
buttonLink:u.toUrl("/automations/createWelcomeAutomation/")},draft:{icon:"empty-campaigns-draft",title:"Work in progress",message:"When your campaigns are under construction, come back here to pick up where you left off."},completed:{icon:"empty-campaigns-completed",title:"All done",message:"When your campaigns are complete, they'll land here."},ongoing:{icon:"empty-campaigns-ongoing",title:"Ready for orbit",message:"Your ongoing ads, automations, and scheduled campaigns will appear here."},folder:{icon:"empty-campaigns-default",
title:"Nice folder",message:"When you're ready, add some campaigns."},"default":{icon:"empty-campaigns-default",title:"Hmm. No results.",message:"Sorry we couldn\u2019t find what you were looking for."}};a=b[b[a]?a:"default"];b=new z(a);a.onClick&&h(b.noDataButton,"click",a.onClick.bind(this));b.placeAt(this.domNode)},renderSlats:function(a,b){1>=this.page&&this.initializeSlatGroups();a.forEach(k.hitch(this,function(a,b){var c;c=a.isAd()?new C({model:a}):a.isAutomation()?new D({model:a}):a.isPostcard()?
new I({model:a}):a.isPage()?new F({model:a}):new B({model:a});var d;d=this.isOngoing()?a.bucket:this.shouldGroupByDate()?this.getSpecialDateSlatGroup(a.lastUpdatedDate)||this.getMonthSlatGroup(a.lastUpdatedDate):Object.keys(this.slatGroups)[0];this.slatGroups[d].addItem(c)}));var c="completed"===this.getFilter("bucket");this.slatGroupOrder.forEach(k.hitch(this,function(a,d){var f=this.slatGroups[a],h=this.isOngoing()?b[d]>this.ongoingPageSize:d===this.slatGroupOrder.length-1&&b[0]>this.page*this.pageSize;
f.renderItems();f.toggleLoadButton(h);f.toggleDownloadLink(c&&0===d);!f.isRendered&&0<f.items.length&&(e.place(f.domNode,this.domNode),f.isRendered=!0);this.isOngoing()?f.setCount(b[d]):this.shouldGroupByDate()?f.setCount(h?0:f.items.length):f.setCount(b[0])}))},_getParams:function(){var a=this.inherited(arguments);a.order_by=this.sort;return a},toggleActionBarSize:function(a){b.toggle(p(".c-campaignManager_actionBar")[0],"c-campaignManager_actionBar--tall",a)},updateSort:function(a){this.set("page",
1);this.set("sort",a);this.setHashParam("sort",a);this.setSavedValue("sort",a,"campaign")},clearAllFiltersExceptForList:function(){var a=this.getFilter("list");this.clearAllFilters();this.setFilter("list",a)},postMixInProperties:function(){this.inherited(arguments);var a=this.getAllHashParams(),b=this.getSavedValue("sort","campaign");a.sort?this.updateSort(a.sort):b&&this.updateSort(b.value)},postCreate:function(){this.inherited(arguments);this.selected.watch(k.hitch(this,function(){b.toggle(this.domNode,
"c-campaignManager_list--hasSelection",this.hasSelection())}));f.subscribe("/mojo/IntentOverlay/closed",k.hitch(this,function(){this.restoreHashParams()}));this.set("folders",window._mc.view_folders.filter(function(a){return a.id}))}})})},"mojo/analytics/_PermanentlyPersistedMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dstore/db/LocalStorage"],function(l,k,h){return l(null,{_permanentlyPersisted:!0,_getPrefixedId:function(f,a){return a?a+"_"+f:f},savedValues:function(){return this._savedValues=
this._savedValues||new h([])},getAllSavedValues:function(f){return this.savedValues().data.reduce(k.hitch(this,function(a,c){f&&0!==c.id.indexOf(f+"_")||a.push({id:c.id.replace(f+"_",""),value:c.value});return a}),[])},getSavedValue:function(f,a){return this.savedValues().getSync(this._getPrefixedId(f,a))},setSavedValue:function(f,a,c){return this.savedValues().put({id:this._getPrefixedId(f,c),value:a})},removeSavedValue:function(f,a){return this.savedValues().remove(this._getPrefixedId(f,a))},removeAllSavedValues:function(f){this.savedValues().data.forEach(k.hitch(this,
function(a){f&&0!==a.id.indexOf(f+"_")||this.savedValues().remove(a.id)}))}})})},"dstore/db/LocalStorage":function(){define(["dojo/_base/declare","../Memory"],function(l,k){return l([k],{dbPrefix:"dojo-db",storeName:"default",constructor:function(){for(var h=[],f=this.prefix=this.dbPrefix+"-"+this.storeName+"-",a=0,c=localStorage.length;a<c;a++){var e=localStorage.key(a);e.slice(0,f.length)===f&&h.push(JSON.parse(localStorage.getItem(e)))}this.setData(h)},putSync:function(h){var f=this.inherited(arguments);
localStorage.setItem(this.prefix+this.getIdentity(h),JSON.stringify(h));return f},removeSync:function(h){localStorage.removeItem(this.prefix+h);return this.inherited(arguments)}})})},"dstore/Memory":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array ./Store ./Promised ./SimpleQuery ./QueryResults".split(" "),function(l,k,h,f,a,c,e){return l([f,a,c],{constructor:function(){this.storage.version=0},postscript:function(){this.inherited(arguments);this.setData(this.data||[])},data:null,
autoEmitEvents:!1,getSync:function(a){return this.storage.fullData[this.storage.index[a]]},putSync:function(a,c){c=c||{};var b=this.storage,e=b.index,f=b.fullData,h=this.Model;!h||a instanceof h||(a=this._restore(a));var k=this.getIdentity(a);null==k&&(this._setIdentity(a,"id"in c?c.id:Math.random()),k=this.getIdentity(a));b.version++;var b=k in e?"update":"add",h={target:a},l;if("update"===b){if(!1===c.overwrite)throw Error("Object already exists");f.splice(l=e[k],1);k=l}else k=this.defaultNewToStart?
0:f.length;var u;if("beforeId"in c){var w=c.beforeId;null===w?u=f.length:(u=e[w],l<u&&--u);void 0!==u?h.beforeId=w:u=k}else u=k;f.splice(u,0,a);l=isFinite(l)?Math.min(l,u):u;for(k=f.length;l<k;++l)e[this.getIdentity(f[l])]=l;this.emit(b,h);return a},addSync:function(a,c){(c=c||{}).overwrite=!1;return this.putSync(a,c)},removeSync:function(a){var c=this.storage,b=c.index,c=c.fullData;if(a in b)return b=c.splice(b[a],1)[0],this._reindex(),this.emit("delete",{id:a,target:b}),!0},setData:function(a){this.parse&&
(a=this.parse(a));a.items&&(this.idProperty=a.identifier||this.idProperty,a=a.items);this.storage.fullData=this.data=a;this._reindex()},_reindex:function(){for(var a=this.storage,c=a.index={},b=a.fullData,e=this.Model,f=Object.prototype,h=0,k=b.length;h<k;h++){var l=b[h];if(e&&!(l instanceof e)){var u=this._restore(l,l.__proto__===f);l!==u&&(b[h]=l=u)}c[this.getIdentity(l)]=h}a.version++},fetchSync:function(){var a=this.data;if(!a||a._version!==this.storage.version){for(var a=this.storage.fullData,
c=this.queryLog,b=0,f=c.length;b<f;b++)a=c[b].querier(a);a._version=this.storage.version;this.data=a}return new e(a)},fetchRangeSync:function(a){var c=this.fetchSync();return new e(c.slice(a.start,a.end),{totalLength:c.length})},_includePropertyInSubCollection:function(a){return"data"!==a&&this.inherited(arguments)}})})},"dstore/Store":function(){define("dojo/_base/lang dojo/_base/array dojo/aspect dojo/has dojo/when dojo/Deferred dojo/_base/declare ./QueryMethod ./Filter dojo/Evented".split(" "),
function(l,k,h,f,a,c,e,m,d,b){function n(b){return function(c,d){var e=this;a(c,function(a){a={target:a};var c=d[1]||{};"beforeId"in c&&(a.beforeId=c.beforeId);e.emit(b,a)});return c}}f.add("object-proto",!!{}.__proto__&&!{}.watch);var p=f("object-proto");return e(b,{constructor:function(c){c&&e.safeMixin(this,c);this.Model&&this.Model.createSubclass&&(this.Model=this.Model.createSubclass([]).extend({_store:this}));this.storage=new b;var d=this;this.autoEmitEvents&&(h.after(this,"add",n("add")),h.after(this,
"put",n("update")),h.after(this,"remove",function(b,c){a(b,function(){d.emit("delete",{id:c[0]})});return b}))},autoEmitEvents:!0,idProperty:"id",queryAccessors:!0,getIdentity:function(a){return a.get?a.get(this.idProperty):a[this.idProperty]},_setIdentity:function(a,b){a.set?a.set(this.idProperty,b):a[this.idProperty]=b},forEach:function(b,c){var d=this;return a(this.fetch(),function(a){for(var e=0,f;void 0!==(f=a[e]);e++)b.call(c,f,e,d);return a})},on:function(a,b){return this.storage.on(a,b)},
emit:function(a,b){b=b||{};b.type=a;try{return this.storage.emit(a,b)}finally{return b.cancelable}},parse:null,stringify:null,Model:null,_restore:function(a,b){var c=this.Model;if(c&&a){var d=c.prototype,e=d._restore;e?a=e.call(a,c,b):p&&b?a.__proto__=d:a=l.delegate(d,a)}return a},create:function(a){return new this.Model(a)},_createSubCollection:function(a){var b=l.delegate(this.constructor.prototype),c;for(c in this)this._includePropertyInSubCollection(c,b)&&(b[c]=this[c]);return e.safeMixin(b,a)},
_includePropertyInSubCollection:function(a,b){return!(a in b)||b[a]!==this[a]},queryLog:[],filter:new m({type:"filter",normalizeArguments:function(a){var b=this.Filter;return a instanceof b?[a]:[new b(a)]}}),Filter:d,sort:new m({type:"sort",normalizeArguments:function(a,b){var c;"function"===typeof a?c=[a]:(c=a instanceof Array?a.slice():"object"===typeof a?[].slice.call(arguments):[{property:a,descending:b}],c=k.map(c,function(a){a=l.mixin({},a);a.descending=!!a.descending;return a}),c=[c]);return c}}),
select:new m({type:"select"}),_getQuerierFactory:function(a){return this["_create"+(a[0].toUpperCase()+a.substr(1))+"Querier"]}})})},"dstore/QueryMethod":function(){define([],function(){return function(l){var k=l.type,h=l.normalizeArguments,f=l.applyQuery,a=l.querierFactory;return function(){var c=Array.prototype.slice.call(arguments),e=h?h.apply(this,c):c,c={type:k,arguments:c,normalizedArguments:e},m=this._getQuerierFactory(k)||a;m&&(c.querier=m.apply(this,e));e=this._createSubCollection({queryLog:this.queryLog.concat(c)});
return f?f.call(this,e,c):e}}})},"dstore/Filter":function(){define(["dojo/_base/declare"],function(l){function k(h){return function(){var f=this.constructor,a=new f;a.type=h;a.args=arguments;return this.type?k("and").call(f.prototype,this,a):a}}l=l(null,{constructor:function(h){var f=typeof h;switch(f){case "object":var f=this,a;for(a in h)var c=h[a],f=c instanceof this.constructor?f[c.type](a,c.args[0]):c&&c.test?f.match(a,c):f.eq(a,c);this.type=f.type;this.args=f.args;break;case "function":case "string":this.type=
f,this.args=[h]}},and:k("and"),or:k("or"),eq:k("eq"),ne:k("ne"),lt:k("lt"),lte:k("lte"),gt:k("gt"),gte:k("gte"),contains:k("contains"),"in":k("in"),match:k("match")});l.filterCreator=k;return l})},"dstore/Promised":function(){define(["dojo/_base/declare","dojo/Deferred","./QueryResults","dojo/when"],function(l,k,h,f){function a(a,e){return function(){var m=new k;try{m.resolve(this[a].apply(this,arguments))}catch(d){m.reject(d)}return e?(m=new h(m.promise),m.totalLength=f(m.totalLength),m):m.promise}}
return l(null,{get:a("getSync"),put:a("putSync"),add:a("addSync"),remove:a("removeSync"),fetch:a("fetchSync",!0),fetchRange:a("fetchRangeSync",!0)})})},"dstore/QueryResults":function(){define(["dojo/_base/lang","dojo/when"],function(l,k){function h(f,a){return k(this,function(c){for(var e=0,h=c.length;e<h;e++)f.call(a,c[e],e,c)})}return function(f,a){var c=a&&"totalLength"in a;if(f.then){f=l.delegate(f);var e=f.then(function(e){var d=c?a.totalLength:e.totalLength||e.length;e.totalLength=d;return!c&&
d});f.totalLength=c?a.totalLength:e;f.response=a&&a.response}else f.totalLength=c?a.totalLength:f.length;f.forEach=h;return f}})},"dstore/SimpleQuery":function(){define(["dojo/_base/declare","dojo/_base/array"],function(l,k){function h(a,c){if(-1<a.indexOf(".")){var e=a.split("."),f=e.length;return function(a){for(var b=0;b<f;b++)a=a&&(c&&a.get?a.get(e[b]):a[e[b]]);return a}}return function(c){return c.get?c.get(a):c[a]}}var f={eq:function(a,c){return a===c},"in":function(a,c){return-1<k.indexOf(c.data||
c,a)},ne:function(a,c){return a!==c},lt:function(a,c){return a<c},lte:function(a,c){return a<=c},gt:function(a,c){return a>c},gte:function(a,c){return a>=c},match:function(a,c,e){return c.test(a,e)},contains:function(a,c,e,f){var d=this;return k.every(c.data||c,function(b){if("object"===typeof b&&b.type){var c=d._getFilterComparator(b.type);return k.some(a,function(a){return c.call(d,a,b.args[1],e,f)})}return-1<k.indexOf(a,b)})}};return l(null,{_createFilterQuerier:function(a){function c(a){var d,
k=a.type;a=a.args;var l=f._getFilterComparator(k);if(l){var r=a[0],t=h(r,e),u=a[1];u&&u.fetchSync&&(u=u.fetchSync());return function(a){return l.call(f,t(a),u,a,r)}}switch(k){case "and":case "or":for(var w=0,v=a.length;w<v;w++){var y=c(a[w]);d=d?function(a,b){return"and"===k?function(c){return a(c)&&b(c)}:function(c){return a(c)||b(c)}}(d,y):y}return d;case "function":return a[0];case "string":d=f[a[0]];if(!d)throw Error("No filter function "+a[0]+" was found in the collection");return d;case void 0:return function(){return!0};
default:throw Error('Unknown filter operation "'+k+'"');}}var e=this.queryAccessors,f=this,d=c(a);return function(a){return k.filter(a,d)}},_getFilterComparator:function(a){return f[a]||this.inherited(arguments)},_createSelectQuerier:function(a){return function(c){var e=a.length;return k.map(c,a instanceof Array?function(c){for(var d={},b=0;b<e;b++){var f=a[b];d[f]=c[f]}return d}:function(c){return c[a]})}},_createSortQuerier:function(a){var c=this.queryAccessors;return function(e){e=e.slice();e.sort("function"==
typeof a?a:function(e,d){for(var b=0;b<a.length;b++){var f,k=a[b];if("function"==typeof k)f=k(e,d);else{f=k.get||(k.get=h(k.property,c));var k=k.descending,l=f(e);f=f(d);null!=l&&(l=l.valueOf());null!=f&&(f=f.valueOf());f=l===f?0:!!k===(null===l||l>f&&null!==f)?-1:1}if(0!==f)return f}return 0});return e}}})})},"mojo/widgets/campaigns/SlatGroup":function(){define("dojo/_base/declare dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/app/campaigns mojo/url dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/on dojo/text!./templates/SlatGroup.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k,h,f],{templateString:n,name:"",loadButtonText:"Load More",isRendered:!1,items:null,completedDownloadLink:c.toUrl("/reports/export-all"),addItem:function(a){0===this.items.filter(function(b){return b.id===a.id}).length&&(this.items.push(a),this.isRendered=!1)},toggleLoadButton:function(a){m.toggle(this.node_loadButton,"hide",!a)},toggleDownloadLink:function(a){m.toggle(this.node_downloadLink,"hide",!a)},setCount:function(a){this.node_count.innerHTML="("+
a+")";m.toggle(this.node_count,"hide",!a)},renderItems:function(){var a=document.createDocumentFragment();this.items.forEach(d.hitch(this,function(b,c){b.isRendered||(a.appendChild(b.domNode),b.isRendered=!0)}));e.place(a,this.node_list);this.node_count.innerHTML=this.items.length},postCreate:function(){this.items=[];b(this.node_loadButton,"click",d.hitch(this,function(a){a.preventDefault();this.onLoadMore(this)}));m.toggle(this.node_archiveLink,"hide",!this.shouldShowArchiveLink);b(this.node_archiveLink,
"click",a.foldersArchive)}})})},"mojo/widgets/campaigns/CampaignNav":function(){define("dojo/_base/declare mojo/analytics/parts/_Part mojo/app/campaigns mojo/url mojo/utils dojo/Stateful dijit/_TemplatedMixin dijit/registry dojo/_base/lang dojo/topic dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/dom-style dojox/mvc/sync dojox/html/entities dojo/query dojo/on dojo/text!./templates/CampaignNav.html mojo/user mojo/lib/flags".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){return l([k,
e,c],{templateString:y,bucketFilters:{recent:{label:"Recent",icon:"time-circle",domNode:null},ongoing:{label:"Ongoing",subBuckets:["needsAttention","active","paused"],icon:"campaign-ongoing",domNode:null},draft:{label:"Draft",icon:"edit",domNode:null},completed:{label:"Completed",icon:"tick",domNode:null}},bucketOrder:["recent","ongoing","draft","completed"],selectedBucket:null,_setSelectedBucketAttr:function(a){this.selectedBucket!==a&&(this.selectedBucket=a,this._buildBucketLinks())},_buildBucketLinks:function(){var a=
document.createDocumentFragment();this.bucketOrder.forEach(d.hitch(this,function(b){var c=this._compileTemplate(this.template_bucketFilter,this.bucketFilters[b]);(this.selectedBucket===b||this.bucketFilters[b].subBuckets&&-1<this.bucketFilters[b].subBuckets.indexOf(this.selectedBucket))&&p.add(w("[data-mc-el\x3d'bucket-link']",c)[0],"c-campaignManager_sidebar_link--selected");v(c,"click",this._onSelectBucket.bind(this,b));this.bucketFilters[b].domNode=c;a.appendChild(c)}));n.place(a,this.node_bucketList,
"only")},_onSelectBucket:function(a,b){b.preventDefault();x.flagIsOn(A.GLOBAL_LIST_SWITCHER)?this.target.clearAllFiltersExceptForList():this.target.clearAllFilters();this.target.setFilter("bucket",a)},folders:[],_setFoldersAttr:function(a){this.folders=a;this.target.folders=this.folders;this.folders.sort(function(a,b){return(b.id||Infinity)-(a.id||Infinity)});this._buildFolderLinks();this.set("shouldShowAllFolders",this.shouldShowAllFolders);b.publish("/campaigns/setFolders",{})},selectedFolderId:0,
_setSelectedFolderIdAttr:function(a){a=Number(a);this.selectedFolderId!==a&&(this.selectedFolderId=a,this._buildFolderLinks())},shouldShowAllFolders:!1,_setShouldShowAllFoldersAttr:function(a){this.shouldShowAllFolders=a;r.set(this.node_folderList,{"max-height":this.shouldShowAllFolders&&0<this.folders.length?this.folders[0].domNode.clientHeight*this.folders.length+"px":""});a=this.folders&&5<this.folders.length;p.toggle(this.node_showAllFoldersLink,"hide",this.shouldShowAllFolders||!a);p.toggle(this.node_hideFoldersLink,
"hide",!this.shouldShowAllFolders||!a)},_buildFolderLinks:function(){var a=document.createDocumentFragment();this.folders.forEach(d.hitch(this,function(b){b.domNode=this._compileTemplate(this.template_folderFilter,d.mixin(b,{name:b.name,count:0===b.count?"":b.count}));this.selectedFolderId&&Number(this.selectedFolderId)===Number(b.id)&&p.add(w("[data-action\x3d'view']",b.domNode)[0],"c-campaignManager_sidebar_link--selected");v(w("[data-action\x3d'view']",b.domNode)[0],"click",this._onSelectFolder.bind(this,
b));v(w("[data-action\x3d'edit']",b.domNode)[0],"click",this._onRenameFolder.bind(this,b));v(w("[data-action\x3d'delete']",b.domNode)[0],"click",this._onDeleteFolder.bind(this,b));a.appendChild(b.domNode)}));n.place(a,this.node_folderList,"only")},_onRenameFolder:function(a,b){b&&(b.stopPropagation(),b.preventDefault());var c=this._compileTemplate(this.template_folderEdit,a);v(c,"blur",this._saveFolder.bind(this,a));v(c,"keyup",d.hitch(this,function(b){13===b.keyCode&&this._saveFolder(a)}));n.place(c,
a.domNode,"only");c.focus();c.value=u.decode(a.name);p.toggle(this.node_createFolderLink,"c-campaignManager_sidebar_createLink--disabled",!0)},_onDeleteFolder:function(a,b){b.preventDefault();b.stopPropagation();h.deleteFolder(a.id,f.toUrl("/campaigns/folders/delete-options"),a.count).then(d.hitch(this,function(b){this.set("folders",this.folders.filter(function(b){return b.id!==a.id}));a.id===this.selectedFolderId&&(this.target.clearFilter("folder"),this.target.setFilter("bucket","recent"))}))},_onCreateFolder:function(a){a.preventDefault();
a={id:0,name:"",count:0};this.folders.push(a);this.set("folders",this.folders);this._onRenameFolder(a)},_onSelectFolder:function(a,b){b.preventDefault();this.target.clearAllFilters();this.target.setFilter("folder",a.id)},_saveFolder:function(a){var c=w("input",a.domNode)[0];c&&(a.name=c.value||"Untitled",a.name=u.encode(a.name),(a.id?h.renameFolder.bind(this,a.id,a.name,f.toUrl("/campaigns/folders/rename")):h.addFolder.bind(this,a.name,f.toUrl("/campaigns/folders/create")))().then(d.hitch(this,function(c){a.id=
c.new_folder?Number(c.new_folder.id):a.id;b.publish("/campaigns/setFolders",{})})),this.set("folders",this.folders),p.toggle(this.node_createFolderLink,"c-campaignManager_sidebar_createLink--disabled",!1))},canDisplay:function(){return!0},_compileTemplate:function(a,b){return n.toDom(d.replace(d.trim(a.innerText),function(a,c){return b[c]}))},init:function(){this.inherited(arguments);this.set("folders",this.target.get("folders"));var a=this.target.getFilter("folder");this.set("selectedFolderId",a);
this.target.watchFilter("folder",d.hitch(this,function(a,b,c){this.set("selectedFolderId",c)}));v(this.node_createFolderLink,"click",this._onCreateFolder.bind(this));v(this.node_showAllFoldersLink,"click",this.set.bind(this,"shouldShowAllFolders",!0));v(this.node_hideFoldersLink,"click",this.set.bind(this,"shouldShowAllFolders",!1));this._buildBucketLinks();this.set("selectedBucket",a?null:this.target.getFilter("bucket")||"recent");this.target.watchFilter("bucket",d.hitch(this,function(a,b,c){this.set("selectedBucket",
c)}))}})})},"mojo/widgets/campaigns/CampaignSearchBox":function(){define("dojo/_base/declare dojo/_base/lang dojo/debounce dojo/when mojo/user mojo/utils mojo/widgets/Autocomplete mojo/lib/flags dijit/_WidgetBase mojo/analytics/parts/_Part".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([d,b],{placeholderContent:{recent:"Find a campaign by name, type, or list",ongoing:"Find an ongoing campaign by name, type, or list",draft:"Find a draft campaign by name, type, or list",completed:"Find a completed campaign by name, type, or list",
folder:"Find a campaign in this folder by name, type, or list"},placeHolderContentWithGlobalSwitcher:{recent:"Find a campaign by name or type",ongoing:"Find an ongoing campaign by name or type",draft:"Find a draft campaign by name or type",completed:"Find a completed campaign by name or type",folder:"Find a campaign in this folder by name or type"},useGlobalListContext:a.flagIsOn(m.GLOBAL_LIST_SWITCHER),_getPlaceholderText:function(){var a=this.placeholderContent;this.useGlobalListContext&&(a=this.placeHolderContentWithGlobalSwitcher);
return this.target.getFilter("folder")?a.folder:a[this.target.getFilter("bucket")||"recent"]},getValidTypeFilters:function(){return f("regular variate rss ad_all automation plaintext unfiled".split(" "))},_clearFilters:function(){if(this.target.hasFilter("search")||this.target.hasFilter("type")||this.target.hasFilter("list"))this.target.clearFilter("search"),this.target.clearFilter("type"),this.useGlobalListContext||this.target.clearFilter("list")},canDisplay:function(){return!0},init:function(){this.getValidTypeFilters().then(k.hitch(this,
function(b){var c=[{label:"Regular Campaign",value:"regular",icon:"email-campaign",filterType:"type"},a.pro?{label:"Multivariate",value:"variate",icon:"ab-test",filterType:"type"}:{label:"A/B Test",value:"variate",icon:"ab-test",filterType:"type"},{label:"RSS Campaign",value:"rss",icon:"rss-feed",filterType:"type"},{label:"Ad Campaign",value:"ad_all",icon:"ad-campaign",filterType:"type"},{label:"Automation",value:"automation",iconImage:"/images/front-door/automation-icon.svg",filterType:"type"},{label:"Plain-text Campaign",
value:"plaintext",icon:"email-campaign",filterType:"type"},{label:"Unfiled Campaigns",value:"unfiled",iconImage:"/images/campaigns/icon-folder.svg",filterType:"type"}].filter(function(a){return-1<b.indexOf(a.value)});if(!this.useGlobalListContext){var d=Object.keys(window._mc.lists_options).map(function(a){return{label:window._mc.lists_options[a],value:a,icon:"campaign-list",filterType:"list"}},this);c.concat(d)}var f=new e({placeholder:"",suggestions:c,onSuggestionSelected:k.hitch(this,function(a){this._clearFilters();
this.target.setFilter(a.filterType,a.value)}),onTextSearch:k.hitch(this,function(a){this._clearFilters();this.target.setFilter("search",a)}),onFocus:k.hitch(this,function(a){a.select()}),onClear:k.hitch(this,function(){this._clearFilters()}),shouldSuggestInitially:k.hitch(this,function(a){var b=this.target.folders&&0<this.target.folders.length;return"type"===a.filterType&&("unfiled"!==a.value||!this.target.getFilter("folder")&&b)}),shouldSuggestInSearches:k.hitch(this,function(a){var b=this.target.folders&&
0<this.target.folders.length;return"unfiled"!==a.value||!this.target.getFilter("folder")&&b})});f.set("searchText","");this.target.getFilter("search")?f.set("searchText",this.target.getFilter("search")):f.set("selectedSuggestion",this.target.getFilter("type")||this.target.getFilter("list"));this.target.watchFilter("search",h(k.hitch(this,function(a,b,c){f.set("searchText",c)})),0);this.target.watchFilter("type",h(k.hitch(this,function(a,b,c){f.set("selectedSuggestion",c)})),0);this.useGlobalListContext||
this.target.watchFilter("list",h(k.hitch(this,function(a,b,c){f.set("selectedSuggestion",c)})),0);f.set("placeholderText",this._getPlaceholderText());this.target.watchFilter("bucket",h(k.hitch(this,function(){f.set("placeholderText",this._getPlaceholderText())})),0);this.target.watchFilter("folder",h(k.hitch(this,function(){f.set("placeholderText",this._getPlaceholderText())})),0);f.placeAt(this.domNode)}))}})})},"mojo/widgets/campaigns/CampaignSearchCount":function(){define("dojo/_base/declare dojo/_base/lang dijit/_TemplatedMixin mojo/analytics/parts/_Part dojo/text!./templates/CampaignSearchCount.html mojo/user mojo/lib/flags".split(" "),
function(l,k,h,f,a,c,e){return l([f,h],{templateString:a,relevantFilters:["type","list","search"],typeContent:{regular:"regular",rss:"RSS",variate:"a/b test",plaintext:"plain text",ad:"ad",automation:"automated",unfiled:"unfiled"},bucketContent:{recent:"",draft:"draft",ongoing:"ongoing",completed:"completed"},useGlobalListContext:c.flagIsOn(e.GLOBAL_LIST_SWITCHER),canDisplay:function(){return 0<this.target.total&&this.relevantFilters.some(function(a){return this.target.getFilter(a)},this)},buildCountMessage:function(){this.node_total.innerText=
this.target.total;var a=this.bucketContent[this.target.getFilter("bucket")]||"";this.target.getFilter("type")?a+=" "+(this.typeContent[this.target.getFilter("type")]||"")+" campaigns found":this.target.getFilter("list")&&!this.useGlobalListContext?a+=' campaigns using the "'+this.target.lists[this.target.getFilter("list")]+'" list found':this.target.getFilter("search")&&(a+=' campaigns named "'+this.target.getFilter("search")+'" found');this.target.getFilter("folder")&&(a+=" in current folder");this.node_message.innerText=
a},toggleDisplay:function(){this.useGlobalListContext&&this.target.getFilter("list")?(this.node_message.innerText="",this.node_total.innerText=""):(this.buildCountMessage(),this.target.toggleActionBarSize(this.canDisplay()),this.inherited(arguments))},init:function(){this.relevantFilters.forEach(function(a){this._watches.push(this.target.watchFilter(a,k.hitch(this,function(){this.toggleDisplay()})))},this)}})})},"mojo/widgets/campaigns/CampaignSortDropdown":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dijit/_TemplatedMixin dijit/form/Select mojo/analytics/parts/_Part dojo/text!./templates/CampaignSortDropdown.html".split(" "),
function(l,k,h,f,a,c,e,m){return l([e,a],{templateString:m,canDisplay:function(){return!0},updateDropdown:function(a,b){a!==b&&this.dropdown.set("value",b)},init:function(){this.dropdown=new c({options:[{label:"Last updated",value:"updated_at"},{label:"Creation date",value:"created_at"}]});this.dropdown.placeAt(this.domNode).startup();this.updateDropdown(this.dropdown.value,this.target.sort);this.watch("sort",k.hitch(this,function(a,b,c){this.updateDropdown(b,c)}));this.dropdown.on("change",k.hitch(this,
function(a){this.target.updateSort(a)}))}})})},"mojo/widgets/campaigns/ChecklistInterface":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-construct dojo/dom-form dojo/dom-geometry dojo/dom-style dojo/Deferred dojo/on dojo/parser dojo/query dojo/request dojo/topic dojo/when dijit/registry dijit/_WidgetBase mojo/url mojo/utils velocity/velocity".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){return l([u],{itemId:null,baseUrl:null,deferred:null,refreshOnSuccess:!1,
slatRenderListeners:{},postMixInProperties:function(){if(!this.baseUrl)throw Error("ChecklistInterface must have a baseUrl");},postCreate:function(){this.own(d(this.domNode,"[data-mc-action\x3d'edit']:click",k.hitch(this,function(a){(a=this.getSlatIdForElement(a.target))&&this.getEditForm(a)})),d(this.domNode,"[data-mc-action\x3d'view']:click",k.hitch(this,function(a){(a=this.getSlatIdForElement(a.target))&&this.getView(a)})),d(this.domNode,"form:submit",k.hitch(this,"submitForm")),q.subscribe("campaigns/checklist-interface",
k.hitch(this,function(a){this.refreshOnSuccess&&a.itemId!==this.itemId&&this.getView()})))},getSlatIdForElement:function(a){a=n(a).closest("[data-checklist-slat]");return a.length?h.get(a[0],"data-checklist-slat"):null},getSlatState:function(a){a=n(this.domNode).query("[data-checklist-slat\x3d"+a+"]")[0];return h.get(a,"data-slat-state")},_setSlatState:function(a,b){var c=n(this.domNode).query("[data-checklist-slat\x3d"+a+"]")[0];h.set(c,"data-slat-state",b)},getEditForm:function(a,b){this.deferred=
new m;this.getContent(a,!0,b).then(k.hitch(this,function(b){this._updateHTML(a,b.content,b.data);this._setSlatState(a,"edit")}));return this.deferred.promise},getView:function(a,b){this.deferred=new m;this.getContent(a,!1,b).then(k.hitch(this,function(b){this._updateHTML(a,b.content,b.data);this._setSlatState(a,"view")}));return this.deferred.promise},getContent:function(a,b,c){return p.get(w.toUrl(this.baseUrl,k.mixin(this.requestParams,{itemId:a,form:b},c)),{handleAs:"json"})},submitForm:function(b){b.stopPropagation();
b.preventDefault();var c=b.target,d=this.getSlatIdForElement(c);p.post(c.action,{data:a.toObject(c),handleAs:"json"}).then(k.hitch(this,function(a){switch(a.status){case "success":this.getView(d);this._publishUpdate(d,a);break;case "error":a.errors&&v.showFormErrors(c,a.errors);break;default:throw Error("New unhandled state");}}))},_publishUpdate:function(a,b){q.publish("campaigns/checklist-interface",k.mixin({itemId:a},b))},_updateHTML:function(a,d,h){var m=n(this.domNode).query("[data-checklist-slat\x3d"+
a+"]")[0];e.set(m,"overflow","hidden");var l=c.getMarginBox(m).h;t.findWidgets(m).forEach(function(a){a.destroyRecursive()});f.empty(m);var p=f.create("div");f.place(d,p);f.place(p.firstElementChild.innerHTML,m,"only");b.parse(m);v.parseEmoji(m);var q=c.getMarginBox(m).h;r(e.set(m,"height",l+"px"),k.hitch(this,function(){y(m,"stop");y(m,{height:[q,[60,15],l]},{duration:250,complete:k.hitch(this,function(){e.set(m,"height","");this._onSlatRendered(a,m,h);this.deferred.resolve(m)})})}))},_onSlatRendered:function(a,
b,c){(a=this.slatRenderListeners[a])&&a.forEach(function(a){a(b,c)})},addOnSlatRenderedListener:function(a,b){var c=this.slatRenderListeners[a];c||(c=[],this.slatRenderListeners[a]=c);c.push(b)},removeOnSlatRenderedListener:function(a,b){this.slatRenderListeners[a]&&(this.slatRenderListeners[a]=this.slatRenderListeners[a].filter(function(a){if(a!==b)return a}))}})})},"mojo/widgets/campaigns/CreateButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/text!./templates/CreateButton.html mojo/intentOverlay dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(l,k,h,f,a,c,e){return l([c,e],{buttonLabel:"Create campaign",buttonClass:"button p0 add-btn",buttonLocation:"",templateString:f,postCreate:function(){this.intentOverlay=a.getIntentOverlay();h(this.domNode,"click",k.hitch(this,"_showFrontDoor"))},_showFrontDoor:function(){this.intentOverlay.set("createButtonLocation",this.buttonLocation);this.intentOverlay.router.go("/create-campaign")}})})},"mojo/widgets/billing/PaymentMethod":function(){define(["dojo/_base/declare","mojo/widgets/Renderable",
"dojo/text!./templates/PaymentMethod.html"],function(l,k,h){return l([k],{templateString:h,requiredProps:["payment_type"],postCreate:function(){this._validateProps()},_validateProps:function(){if(-1===["none","credit_card","paypal","adyen","bank"].indexOf(this.payment_type))throw Error("'"+this.payment_type+"' is not an expected payment method type.'");}})})},"mojo/widgets/automation/SettingsOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom dojo/dom-attr dojo/dom-form dojo/dom-style dojo/html dojo/on dojo/query dojo/request/xhr dojo/topic dijit/Dialog dijit/registry dijit/_WidgetBase dijit/_AttachMixin mojo/url mojo/validate mojo/widgets/_Overlay".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){return l([t,u,y],{campaignId:0,_form:null,_formData:{},postCreate:function(){this.inherited(arguments);this._form=f.byId("setup-form");this._formData=c.toObject(this._form);p.subscribe("campaign/"+this.campaignId+"/title",function(a){f.byId("title").value=a});d(this.cancel,"click",k.hitch(this,"doCancel"));d(this.submit,"click",k.hitch(this,"save"));d(this.digest_settings,"click",k.hitch(this,"showDigestSettings"))},save:function(){var d=this;this._formData=
c.toObject(this._form);var h=a.get(this._form,"action");n.post(h,{data:d._formData,handleAs:"json"}).then(function(a){if("success"===a.status)p.publish("campaign/"+d.campaignId+"/setup",{result:"success"}),p.publish("campaign/"+d.campaignId+"/title",f.byId("title").value),d.hide();else if(m.set(d.error_message,a.message),e.set(d.error_message,"display",""),"object"===typeof a.validation_errors)for(var c in a.validation_errors)if(!1!==a.validation_errors.hasOwnProperty(c)){var h=b("[name\x3d'"+c+"']")[0]||
b("[name\x3d'content["+c+"]']")[0];h&&v.invalidateField(h,a.validation_errors[c])}})},doCancel:function(){this.resetForm();this.hide()},resetForm:function(){for(var b=this._formData,c=this._form.elements,e=0;e<c.length;e++){var f=c[e],h=f.name,k=f.type;f.disabled||"button"===k||"submit"===k||("checkbox"===k?a.set(f,"checked",b[h]?!0:!1):a.set(f,"value",b[h]),d.emit(f,"blur",{bubbles:!1,cancelable:!1}))}},onHide:function(){e.set(this.error_message,"display","none")},showDigestSettings:function(){var d=
new h,e=new q({title:"Digest Settings",onHide:function(){e.destroyRecursive()},onDownloadEnd:function(){b(".cancel-button",e.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();e.hide()});b("form",e.domNode).on("submit",function(f){f.stopPropagation();f.preventDefault();f=c.toObject(this);var h=a.get(this,"action");n.post(h,{data:f,handleAs:"json"}).then(function(a){d.resolve(a);var c=a.count+" user";if(1<a.count||0===a.count)c+="s";m.set(b("[data-report-notification-count]")[0],
c);e.hide()},function(a){d.reject(a);e.hide()})})}});e.setHref(w.toUrl("automations/notification-settings",{id:this.campaignId}));e.show();return d},toggleDigestPanel:function(a){var c=b("[data-digest-settings-pane]")[0];e.set(c,"display",a?"":"none")},toggleRecipientNamePanel:function(a){e.set(this.personalize_recipient_name,"display",a?"":"none")}})})},"mojo/widgets/automation/transactional/TxEmailItem":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dojo/query dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/dom-style dojo/request/xhr dojo/on dojo/topic dojo/_base/lang dojo/dom dojo/parser dojo/text!./templates/TxEmailItem.html mojo/lib/flags mojo/url mojo/user mojo/widgets/Previewer".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){return l([k,h,f],{templateString:w,baseClass:"c-txEmailItem",maxSubjectLength:150,campaignId:null,campaignStatus:null,screenshotUrl:null,subject:null,variant:null,hasTransactionTypeEnabled:null,editUrl:null,campaignType:"tx",postCreate:function(){this.inherited(arguments);this.own(p(this.orderStatusSwitch,"change",r.hitch(this,this._toggleSwitch)))},startup:function(){this.editUrl=y.toUrl("/campaigns/show?id\x3d"+this.campaignId+"\x26variant\x3d"+
this.variant);d.set(this.editDesignBtn,"href",this.editUrl);this.txSubjectString.innerHTML=this.subject;this.txEmailDescription.innerHTML=this.description;this.txEmailItemTitle.innerHTML=this.emailItemTitle;this.subjectCharRemaining.innerHTML=this.maxSubjectLength;this.hasTransactionTypeEnabled&&(this.orderStatusSwitch.setChecked(!0),this.thumbnailPreview.set("borderStyle","solid"));"sending"===this.campaignStatus&&(e.add(this.editDesignBtn,"disabled-container"),e.add(this.txEmailTitleWrapper,"disabled-container"),
e.add(this.txSubjectWrapper,"disabled-container"),e.add(this.txEmailDescriptionWrapper,"disabled-container"),e.add(this.txOrderStatusValidationWrapper,"disabled-container"));"invalid"===this.status&&(null!==this.validationFailures.bad_length&&e.remove(this.txValidationBadLength,"hide"),null!==this.validationFailures.bad_urls&&e.remove(this.txValidationBadUrls,"hide"),!0===this.validationFailures.has_prex&&e.remove(this.txValidationHasPrex,"hide"))},txEditSubject:function(a){a.preventDefault();a.stopPropagation();
this.subjectData.value=this.subject;this.txEmojiPicker.updateFauxInput();this._toggleSubjectEditor()},txSaveSubject:function(b){b.preventDefault();b.stopPropagation();this.subjectData.value?n.post(y.toUrl("/automations/transactional/postContentForm"),{data:{id:this.campaignId,transaction_type:this.variant,subject:this.subjectData.value},handleAs:"json"}).then(r.hitch(this,function(b){this.subject=this.txSubjectString.innerHTML=this.subjectData.value;this._toggleSubjectEditor();q.publish("campaigns/checklist-interface",
r.mixin({itemId:"content"},{}));a.byId("status-bar").getView("status-bar")})):this._toggleSubjectEditor()},txCancelEditSubject:function(a){a.preventDefault();a.stopPropagation();this._toggleSubjectEditor()},checkSubjectLength:function(a){a=a.target.value.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length;a=this.maxSubjectLength-a;this.subjectCharRemaining.innerHTML=a;10>a?e.add(this.subjectCharCountWrapper,"error-text"):e.remove(this.subjectCharCountWrapper,"error-text");0>a?e.add(this.txSaveSubjectBtn,
"disabled"):e.remove(this.txSaveSubjectBtn,"disabled")},previewContent:function(a){a.preventDefault();a.stopPropagation();this.previewer||(this.previewer=new A({previewId:this.campaignId,previewType:"campaign",titleText:this.parentTitle,showMergeInfo:!0,variant:this.variant,campaignType:this.campaignType}));this.previewer.show()},_toggleSwitch:function(){this._toggleDescriptionWrapper();this._toggleSubjectWrapper();this._toggleOrderStatusValidationWrapper();this.orderStatusSwitch.checked||e.add(this.editDesignBtn,
"disabled");n.post(y.toUrl("/automations/transactional/postEmailEnableToggle"),{data:{id:this.campaignId,transaction_type:this.variant,enabled:this.orderStatusSwitch.checked},handleAs:"json"}).then(r.hitch(this,function(){this.orderStatusSwitch.checked&&e.remove(this.editDesignBtn,"disabled");this.thumbnailPreview.set("borderStyle",this.orderStatusSwitch.checked?"solid":"dashed");q.publish("campaigns/checklist-interface",r.mixin({itemId:"content"},{}));a.byId("status-bar").getView("status-bar")}))},
_toggleSubjectWrapper:function(){e.toggle(this.txSubjectWrapper,"hide")},_toggleDescriptionWrapper:function(){e.toggle(this.txEmailDescriptionWrapper,"hide")},_toggleSubjectEditor:function(){this.subjectData.value=this.subject;e.toggle(this.txSubjectContainer,"hide");e.toggle(this.txSubjectFormWrapper,"hide");e.toggle(this.subjectCharCountWrapper,"hide");e.toggle(this.txOrderStatusValidationWrapper,"hide")},_toggleOrderStatusValidationWrapper:function(){e.toggle(this.txOrderStatusValidationWrapper,
"hide")}})})},"mojo/widgets/ads/PreviewOverlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/keys dojo/on dojo/query dojo/request dijit/_Templated dijit/_TemplatedMixin dijit/_Widget dijit/_WidgetsInTemplateMixin mojo/url mojo/widgets/TopSliderPane dojo/text!./templates/PreviewOverlayTemplate.html dojo/text!./templates/SliderPaneWrapper.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){var x=l([r,
q],{templateString:v}),A=l([w,q,t],{preview:v,templateString:y,paneClasses:"c-adPreviewContainer",id:1,selectedAdIndex:0,postMixInProperties:function(){this.pagerIndex=0;n.get(u.toUrl("/ads/google/preview"),{handleAs:"json",query:{id:this.id,type:"google"}}).then(k.hitch(this,function(a){this.ads=a;this.renderThumbnails(this.ads);this.renderPreview(this.selectedAdIndex)}));this.inherited(arguments)},postCreate:function(){var c=this;d(this.previewPager,"a:click",function(){var d=a.get(this,"data-preview-pager"),
d=c.getPagerIndex(d);c.toggleActiveState(b("a",c.previewPager),d);c.renderPreview(d)});d(this.previewPager,"keyup",function(a){a=a.charCode||a.keyCode;var d=c.pagerIndex;if(a===m.LEFT_ARROW||a===m.DOWN_ARROW)d=0>d-1?c.ads.length-1:d-1;if(a===m.RIGHT_ARROW||a===m.UP_ARROW)d=d+1>c.ads.length-1?0:d+1;c.pagerIndex=d;c.toggleActiveState(b("a",c.previewPager),d);c.renderPreview(d)});this.inherited(arguments)},renderThumbnails:function(a){var b=this,c=e.create("li"),d=e.create("ul",{"class":"flex flex-row justify-content--center"},
c);h.forEach(a,function(a,c){var f=e.create("li",{"class":"c-previewPager_item"},d),f=c===Number(b.selectedAdIndex)?e.create("a",{"class":"flex align-items--center c-previewPager_thumbnail border-radius--lv2 c-previewPager_thumbnail--active",href:"#0","data-preview-pager":c,"aria-label":"Ad "+(c+1)},f):e.create("a",{"class":"flex align-items--center c-previewPager_thumbnail border-radius--lv2",href:"#0","data-preview-pager":c,"aria-label":"Ad "+(c+1)},f);e.create("div",{"class":"background-size--cover width--100 full-height",
style:"background-image: url('"+a.image_url+"'); background-position: 50% 50%;"},f)});e.place(c,this.previewPagerPlaceholder,"replace")},renderPreview:function(a){a=this.ads[a];a=new x({product:a.image_url||"",headline:a.short_headline||"",description:a.description||"",url:a.link_url||""});e.place(a.domNode,this.content,"only")},getPagerIndex:function(a){return this.pagerIndex=+a},toggleActiveState:function(a,b){h.forEach(a,function(a,d){c.toggle(a,"c-previewPager_thumbnail--active",d===+b)})}}),
z=null;return{_getPreviewPane:function(a){z&&z.destroyRecursive();z=new A(a);z.startup();return z},show:function(a){return this._getPreviewPane(a).show(a)},hide:function(){return this._getPreviewPane().hide()},isShown:function(){return z&&z.displayActive}}})},"mojo/widgets/ads/SlingShotAnimation":function(){define([],function(){return{startAnimation:function(l,k){var h=document.getElementById(l),f=this._getExportRoot(k),h=new window.createjs.Stage(h);h.addChild(f);h.update();window.createjs.Ticker.setFPS(window.lib.properties.fps);
window.createjs.Ticker.addEventListener("tick",h)},_getExportRoot:function(l){if(-1===[1,2].indexOf(l))throw Error("Unknown animation step");return 1===l?new window.lib.animateslingshot:new window.lib.animateslingshotstep2}}})},"mojo/widgets/ads/mobile-checklist/AndroidDevice":function(){define(["dojo/_base/declare","mojo/widgets/ads/mobile-checklist/_DeviceMixin"],function(l,k){return l([k],{platformType:"android",__actionEventRouterReady:function(){window.Android.readyToReceiveEvents()},__actionSlatLoaded:function(){window.Android.slatLoaded()},
__actionSlatFinished:function(h){window.Android.isFinished(JSON.stringify(h))},__actionSlatSaveFailed:function(){window.Android.slatSaveFailed()},__actionExpiredSession:function(){window.Android.expiredSession()},__actionOpenFileBrowse:function(){window.Android.openFileBrowse()}})})},"mojo/widgets/ads/mobile-checklist/_DeviceMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/request","mojo/url","dijit/_WidgetBase"],function(l,k,h,f,a){return l([a],{platformType:null,enabled:!0,
postCreate:function(){this._initNativeToWebEvents()},postMixInProperties:function(){this._validateProps()},actionEventRouterReady:function(){this.__actionEventRouterReady()},actionSlatLoaded:function(){this.__actionSlatLoaded()},actionSlatFinished:function(a){this.__actionSlatFinished(a)},actionSlatSaveFailed:function(){this.__actionSlatSaveFailed()},actionExpiredSession:function(){this.__actionExpiredSession()},actionOpenFileBrowse:function(){this.__actionOpenFileBrowse()},_initNativeToWebEvents:function(){window.nativeEvents=
{userInSlat:k.hitch(this,"_notifyRouterSetSlat"),slatSaved:k.hitch(this,"_notifyRouterBtnPress","save"),slatCanceled:k.hitch(this,"_notifyRouterBtnPress","cancel"),backPressed:k.hitch(this,"_notifyRouterBtnPress","back")}},_notifyRouterSetSlat:function(a){this.set("selectedSlat",{name:a,randToken:Math.random()})},_notifyRouterBtnPress:function(a){this.set(a,Math.random())},_validateProps:function(){if(!this.platformType)throw Error("platformType name undeclared. It is required.");if(!1===this.enabled)throw Error("The '"+
this.platformType+"' platform type is not currently enabled.");},__actionEventRouterReady:function(){throw Error("actionEventRouterReady has not been implemented by the "+this.platformType+" platform type");},__actionSlatLoaded:function(){throw Error("actionSlatLoaded has not been implemented by the "+this.platformType+" platform type");},__actionSlatFinished:function(){throw Error("actionSlatFinished has not been implemented by the "+this.platformType+" platform type");},__actionSlatSaveFailed:function(){throw Error("actionSlatSaveFailed has not been implemented by the "+
this.platformType+" platform type");},__actionExpiredSession:function(){throw Error("actionExpiredSession has not been implemented by the "+this.platformType+" platform type");},__actionOpenFileBrowse:function(){throw Error("actionOpenFileBrowse has not been implemented by the "+this.platformType+" platform type");}})})},"mojo/widgets/ads/mobile-checklist/AndroidSimulator":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style mojo/utils dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/AndroidSimulator.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([m,d],{templateString:b,interfaceContainer:null,slatActionsMap:{connect:{label:"Channel",saveLabel:"Save",cancel:!0},audience:{label:"Audience",saveLabel:"Save",cancel:!0},budget:{label:"Budget",saveLabel:"Save",cancel:!0},billing:{label:"Billing",saveLabel:"Done",cancel:!1},cvv:{label:"Security code",saveLabel:"Save",cancel:!0},tos:{label:"Terms Of Service",saveLabel:"Agree",cancel:!0},content:{label:"",saveLabel:"",cancel:!1}},currentSlat:null,_setCurrentSlatAttr:function(a){f.toggle(this.interfaceContainer,
"hide",""===a);f.toggle(this.backBtn,"dim6 no-clicky",""===a);f.toggle(this.buttonContainer,"hide",""===a);f.toggle(this.mockUI,"hide",""!==a);""!==a&&(this.slatLabel.innerText=this.slatActionsMap[a].label,this.saveBtn.innerText=this.slatActionsMap[a].saveLabel,f.toggle(this.cancelBtn,"hide",!1===this.slatActionsMap[a].cancel),window.nativeEvents.userInSlat(a))},postCreate:function(){this._initWebToNativeEvents();f.add(this.interfaceContainer,"hide position--relative size1of3 size1of2@tablet centered border-gray overflow-y--auto");
c.set(this.interfaceContainer,{height:"600px"});a.place(this.actionBar,this.interfaceContainer,"after");this.set("currentSlat","")},_initWebToNativeEvents:function(){window.Android={readyToReceiveEvents:k.hitch(this,"_demoWebToNativeEvent","The page is ready. Start requesting slats!"),slatLoaded:k.hitch(this,"_handleSlatLoaded"),slatSaveFailed:k.hitch(this,"_demoWebToNativeEvent","The selected slat failed validation."),isFinished:k.hitch(this,"_handleIsFinished"),expiredSession:k.hitch(this,"_demoWebToNativeEvent",
"The session was expired, better reload."),openFileBrowse:k.hitch(this,"_demoWebToNativeEvent","Open the native file browser.")}},_openSlat:function(a){this.set("currentSlat",a.target.dataset.slatName?a.target.dataset.slatName:"")},_demoWebToNativeEvent:function(a){e.toast(a)},_handleSlatLoaded:function(){this._demoWebToNativeEvent("The slat was loaded. Hooray.")},_handleIsFinished:function(a){this.set("currentSlat","");a=JSON.parse(a);a.cvv?this._demoWebToNativeEvent("CVV Slat was closed. CVV: "+
a.cvv):this._demoWebToNativeEvent(!0===a.reload?"The slat was saved. You should reload the Detail View.":"The slat was canceled. Don't bother reloading.")},_handleSave:function(){window.nativeEvents.slatSaved()},_handleCancel:function(){window.nativeEvents.slatCanceled()},_handleBack:function(){window.nativeEvents.backPressed();e.toast("Back event called but isn't wired to anything.")}})})},"mojo/widgets/ads/mobile-checklist/BillingSlat":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/promise/all dojo/query dojo/request mojo/api/billing mojo/url mojo/utils mojo/widgets/billing/PaymentMethod ./EditPaymentMethod ./_EventAdapterMixin dijit/_TemplatedMixin dojo/text!./templates/BillingSlat.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([t,u],{templateString:w,postCreate:function(){this._initBillingSummary()},_initBillingSummary:function(){var a={sidebar:this._getDesktopBillingSidebar(),paymentMethod:b.getPaymentMethod()};e(a).then(function(a){this._handleSidebarResponse(a.sidebar);this._handlePaymentMethodResponse(a.paymentMethod)}.bind(this),function(a){throw Error("An error occurred retrieving the billing summary: "+a);});this.onLoaded()},_handleSidebarResponse:function(b){b=
c.toDom(b);b=m("[data-mc-el\x3d'itemizedSummary']",b)[0];c.place(b,this.itemizedOrderContainer,"only");a.remove(this.summaryContainer,"hide")},_handlePaymentMethodResponse:function(a){this.billingData=a;this.summary=new q(this.billingData);this.summary.placeAt(this.paymentMethodContainer);this.summary.startup();this.set("paymentType",this.billingData.payment_type)},_setPaymentTypeAttr:function(b){a.toggle(this.paymentMethodContainer,"hide","none"===b);this.editButton.innerText="none"===b?"Add payment method":
"Edit payment method"},_getDesktopBillingSidebar:function(){return d.get(n.toUrl("/ads/billing-summary",{id:this.id}),{handleAs:"text"})},_exitEditor:function(){this.editor.__cancel()},_saveEditor:function(){a.add(this.saveBtn,"button-loading");f.set(this.saveBtn,"disabled","disabled");this.editor.__save()},_handleEditPayment:function(){this._initEditor()},_initEditor:function(){var b={onLoaded:function(){a.remove(this.editMethodContainer,"hide");a.remove(this.actionBar,"hide");a.add(this.billingSummaryContainer,
"hide")}.bind(this),onDone:function(){a.add(this.editMethodContainer,"hide");a.add(this.actionBar,"hide");a.remove(this.billingSummaryContainer,"hide");a.remove(this.saveBtn,"button-loading");f.remove(this.saveBtn,"disabled","disabled");this.editor.destroyRecursive(!1);this._resetPaymentMethod()}.bind(this),onDoneWithError:function(){a.remove(this.saveBtn,"button-loading");f.remove(this.saveBtn,"disabled","disabled")}.bind(this)};this.editor=new r(k.mixin({data:this.billingData},b));this.editor.placeAt(this.editMethodContainer);
this.editor.startup()},_resetPaymentMethod:function(){this.summary.destroy();b.getPaymentMethod().then(this._handlePaymentMethodResponse.bind(this))},__save:function(){this.onDone({})},__cancel:function(){},__back:function(){}})})},"mojo/api/billing":function(){define(["dojo/_base/lang","dojo/request/xhr","mojo/url","mojo/user"],function(l,k,h,f){return{getCardType:function(a){return this._get("/account/billing/card-type",a)},getPaymentMethod:function(){return this._get("/account/billing/payment-method",
{id:f.userId})},postPaymentMethod:function(a){a=l.mixin({__csrf:f.__csrfToken},a);return this._post("/account/billing/payment-method-post",a)},_get:function(a,c){return k.get(h.toUrl(a,c),{handleAs:"json"})},_post:function(a,c){return k.post(h.toUrl(a),{handleAs:"json",data:c})}}})},"mojo/widgets/ads/mobile-checklist/EditPaymentMethod":function(){define("dojo/_base/declare dojo/debounce dojo/on mojo/api/billing mojo/utils mojo/widgets/billing/PaymentMethod ./_EventAdapterMixin mojo/widgets/Renderable dojo/text!./templates/EditPaymentMethod.html".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([m,e],{templateString:d,cardTypeCache:{},postCreate:function(){h(this.ccInput,"keyup, paste",k(this._assessCardType.bind(this),200))},startup:function(){this.inherited(arguments);this.onLoaded()},_assessCardType:function(){a.removeAllErrors(this.domNode);4>this.ccInput.value.length||this._getOrFillLabel(this.ccInput.value.substr(0,4))},_getOrFillLabel:function(a){this.cardTypeCache[a]?this.set("ccLabel",this.cardTypeCache[a]):this._getCardType(a)},_getCardType:function(a){f.getCardType({num:a}).then(function(c){switch(c.status){case "success":this.cardTypeCache[a]=
c.type_description;this.set("ccLabel",c.type_description);break;case "error":this.set("ccLabel","Credit Card Number");break;default:throw Error("Unhandled card type response state");}}.bind(this))},_setCcLabelAttr:function(a){this.ccLabel_node.innerText=a},__save:function(){if(this._passesSimpleValidation())f.postPaymentMethod(this._getFormData()).then(this._handlePostMethodResponse.bind(this));else this.onDoneWithError()},__cancel:function(){this.onDone()},_passesSimpleValidation:function(){return""===
this.ccInput.value?(a.addError(this.ccInput,"Please enter a value."),!1):!0},_getFormData:function(){return{method:"credit_card",cc_num:this.ccInput.value,cc_exp_month:this.monthInput.value,cc_exp_year:this.yearInput.value}},_handlePostMethodResponse:function(b){switch(b.status){case "success":this.onDone();break;case "error":a.showFormErrors(this.domNode,b.errors?b.errors:{});this.onDoneWithError();break;default:throw Error("Unhandled update payment method response state");}}})})},"mojo/widgets/ads/mobile-checklist/_EventAdapterMixin":function(){define(["dojo/_base/declare",
"dijit/_WidgetBase"],function(l,k){return l([k],{__cancel:function(){throw Error("cancel has not been implemented by the "+this.slatName+" widget");},__save:function(){throw Error("save has not been implemented by the "+this.slatName+" widget");},__back:function(){throw Error("back has not been implemented by the "+this.slatName+" widget");},onLoaded:function(){},onDone:function(h){},onDoneWithError:function(){}})})},"mojo/widgets/ads/mobile-checklist/CVVSlat":function(){define("dojo/_base/declare dojo/dom-class dojo/debounce dojo/on mojo/api/billing mojo/utils mojo/widgets/billing/PaymentMethod ./_EventAdapterMixin dijit/_TemplatedMixin dojo/text!./templates/CVVSlat.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([m,d],{templateString:b,cvvValue:null,ccType:null,postCreate:function(){this._initBillingSummary();f(this.cvvInput,"keyup, paste",h(this._handleInputChange.bind(this),200))},_initBillingSummary:function(){a.getPaymentMethod().then(this._handleBillingSummaryResponse.bind(this),function(a){throw Error("An error occurred when retrieving billing information");})},_handleBillingSummaryResponse:function(a){this.billingData=a;this._validateBillingData();this._initSummary();
this.set("ccType",this.billingData.card_type)},_initSummary:function(){this.summary=new e(this.billingData);this.summary.placeAt(this.summaryContainer);this.summary.startup()},_toggleCVVPreview:function(a){c.disclosureElement(this.id+"_cvv-preview",a.target,!1)},_passesSimpleValidation:function(){var a=Number.isInteger(parseFloat(this.cvvValue));return""===this.cvvValue?(c.addError(this.cvvInput,"Please enter your security code."),!1):!a||3>this.cvvValue.length||"amex"!==this.ccType&&3<this.cvvValue.length||
"amex"===this.ccType&&4>this.cvvValue.length?(c.addError(this.cvvInput,"Please enter a valid security code."),!1):!0},_handleInputChange:function(){c.removeErrors(this.cvvInput);this.cvvValue=this.cvvInput.value},_validateBillingData:function(){if(!this.billingData.payment_type)throw Error("No 'payment_type' declared. This is required.");if("none"===this.billingData.payment_type)throw Error("This account does not have a payment method. We should not be requesting the CVV slat.");if("credit_card"!==
this.billingData.payment_type)throw Error("CVV slat only valid for accounts with credit cards attached.");},_setCcTypeAttr:function(a){this._set("ccType",a);a="amex"===a;this.inputLabel.innerText=a?"Security code":"CVV";k.remove(a?this.amexPreview:this.otherPreview,"hide");k.toggle(this.inputContainer,"hide");this.onLoaded()},__save:function(){if(this._passesSimpleValidation())this.onDone({cvv:this.cvvValue});else this.onDoneWithError()},__cancel:function(){},__back:function(){}})})},"mojo/widgets/ads/mobile-checklist/EventRouter":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dijit/_WidgetBase","dijit/_TemplatedMixin"],function(l,k,h,f){return l([h,f],{templateString:"\x3cdiv\x3e\x3cdiv data-dojo-attach-point\x3d'slatContainer'\x3e\x3c/div\x3e\x3c/div\x3e",campaignUniqueId:null,slatInterface:null,deviceInterface:null,currentSlat:null,currentDevice:null,postCreate:function(){this._initDeviceInterface()},_initDeviceInterface:function(){this.currentDevice=new this.deviceInterface;this.currentDevice.startup();this.currentDevice.watch("selectedSlat",k.hitch(this,
"_handleSlatSwitch"));this.currentDevice.watch("save",k.hitch(this,"_handleBtnPress"));this.currentDevice.watch("cancel",k.hitch(this,"_handleBtnPress"));this.currentDevice.watch("back",k.hitch(this,"_handleBtnPress"));this.handleEventRouterReady()},_handleSlatSwitch:function(){this._resetCurrentSlat();this.currentSlat=new this.slatInterface({slatName:this.currentDevice.selectedSlat.name,campaignUniqueId:this.campaignUniqueId,router:this});this.currentSlat.placeAt(this.slatContainer);this.currentSlat.startup()},
handleSlatCancel:function(a){this.handleSlatFinished(k.mixin(a,{reload:!1}))},handleSlatSaveSuccessful:function(a){this.handleSlatFinished(k.mixin(a,{reload:!0}))},handleSlatSaveFailed:function(){this.currentDevice.actionSlatSaveFailed()},_handleBtnPress:function(a){this._requireCurrentSlat();switch(a){case "save":this.currentSlat.actionSave();break;case "back":this.currentSlat.actionBack();break;case "cancel":this.handleSlatCancel({});break;default:throw Error("Unknown button type");}},handleEventRouterReady:function(){this.currentDevice.actionEventRouterReady()},
handleSlatLoaded:function(){this.currentDevice.actionSlatLoaded()},handleSlatFinished:function(a){this.currentDevice.actionSlatFinished(a)},handleExpiredSession:function(){this.currentDevice.actionExpiredSession()},handleOpenFileBrowse:function(){this.currentDevice.actionOpenFileBrowse()},_requireCurrentSlat:function(){if(!this.currentSlat)throw Error("Action is unavailable. No slat currently enabled");},_resetCurrentSlat:function(){this.currentSlat&&this.currentSlat.destroyRecursive()}})})},"mojo/widgets/ads/mobile-checklist/FacebookSlat":function(){define("dojo/_base/declare mojo/widgets/ads/facebook/EditConnectSlat mojo/widgets/ads/facebook/EditAudienceSlat mojo/widgets/ads/facebook/EditBudgetSlat mojo/widgets/ads/facebook/MobileContentSlat ./TermsOfServiceSlat ./CVVSlat ./BillingSlat mojo/widgets/ads/mobile-checklist/_SlatMixin".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([d],{campaignType:"facebook",slatConfig:{connect:{widget:k,checklistItem:!0},audience:{widget:h,checklistItem:!0},budget:{widget:f,checklistItem:!0},content:{widget:a},tos:{widget:c},cvv:{widget:e},billing:{widget:m}},__getValidSlatNames:function(){return"connect audience budget content tos cvv billing".split(" ")},__getDisabledSlatNames:function(){return[]}})})},"mojo/widgets/ads/facebook/EditConnectSlat":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dijit/registry mojo/utils vendor/lodash-amd/merge ./edit-connect/PageInput ./edit-connect/ChannelItem mojo/widgets/ads/checklist/_EditSlatMixin dojo/text!./edit-connect/templates/EditConnectSlat.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([b],{content:n,slatId:"connect",postEndpoint:"/ads/facebook/post-connect",pages:null,channels:null,channelWidgets:[],setData:function(a){this.adId=a.ad_id;this.pages=a.pages;this.channels=a.placements;this._initPages();this._toggleLoadingIndicator()},handleSave:function(){var a={id:this.adId,page_id:this._getSelectedPage().pageId};this.channelWidgets.forEach(function(b){a=k.mixin(a,b.getFormData())});this.postForm(a)},onPostError:function(a){a=a.errors[Object.keys(a.errors)[0]];
c.addError(this.errorAnchor,a)},_initPages:function(){this.input=new m({data:this.pages});this.input.placeAt(this.pageInput);this.input.startup();this.input.watch("page",k.hitch(this,"_handleSelection"));this._handleSelection()},_initChannels:function(){this.channels.forEach(k.hitch(this,"_createChannel"))},_toggleLoadingIndicator:function(){h.toggle(this.loadingState,"hide");h.toggle(this.readyState,"hide")},_handleSelection:function(){this._setPageData();this._resetChannelItems();this._initChannels()},
_setPageData:function(){this.channels=e(this.channels,this._getFormattedPageData())},_createChannel:function(a){a=new d({data:a});a.placeAt(this.channelItems);a.startup();this.channelWidgets.push(a)},_resetChannelItems:function(){a.findWidgets(this.channelItems).forEach(function(a){a.destroyRecursive(!1)});this.channelWidgets=[]},_getSelectedPage:function(){return this.input.get("page")},_getFormattedPageData:function(){var a=this._getSelectedPage();return[{enabled:!0,iconUrl:a.iconUrl},{enabled:a.instagram.enabled,
iconUrl:a.instagram.iconUrl}]}})})},"mojo/widgets/ads/facebook/edit-connect/PageInput":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/ComboButton dijit/form/Select dojo/on dojo/dom-class vendor/lodash-amd/find dojo/text!./templates/PageInput.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){var p=l([e],{getSelectedOptions:function(){return this.options.filter(function(a){return a.selected})},getSelectedLabel:function(){return this.getSelectedOptions()[0]["aria-label"]}});
return l([f,a],{templateString:n,label:"",input:null,postCreate:function(){this.setup();m(this.input,"change",h.hitch(this,"handleSelection"));m(this.editLink,"click",h.hitch(this,"handleEditLink"))},setup:function(){this.buildInput();this.handleSelection();d.toggle(this.editLink,"hide",1===this.data.length)},handleEditLink:function(){this.input.toggleDropDown()},handleSelection:function(){this.updateLabel();this.set("page",this.getSelectedPage())},buildInput:function(){this.input=new p({name:"page_id",
options:this.getOptions(),_aroundNode:this.dropDownAnchor});this.input.placeAt(this.inputContainer);this.input.startup()},updateLabel:function(){this.label.innerText=this.input.getSelectedLabel()},getOptions:function(){return this.data.map(h.hitch(this,function(a){return{label:this.getLabelMarkup(a),"aria-label":a.label,value:a.pageId,selected:a.selected}}))},getSelectedPage:function(){var a=this.input.getSelectedOptions()[0].value;return b(this.data,{pageId:a})},getLabelMarkup:function(a){return h.replace(a.instagram.enabled?
this.tplLabelInstagram.innerHTML:this.tplLabelStandard.innerHTML,a)}})})},"mojo/widgets/ads/facebook/edit-connect/ChannelItem":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/on dojo/dom-class ./PlacementInput dojo/text!./templates/ChannelItem.html".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([f,a,c],{templateString:b,postCreate:function(){this.setup();e(this.switch,"change",h.hitch(this,"handleSelection"))},
setup:function(){this.isEnabled()?(this.switch.set("value",this.data.selected),this.buildPlacementInput(),this.handleSelection()):this.handleDisabled()},buildPlacementInput:function(){this.input=new d({label:this.data.label,identifier:this.data.identifier,placements:this.data.placements});this.input.placeAt(this.placements);this.input.startup()},handleSelection:function(){m.toggle(this.placements,"grayscale no-clicky",!this.isSelected())},handleDisabled:function(){this.disabledMsg.innerHTML=this.data.description;
m.remove(this.disabledContainer,"hide");m.remove(this.disabledIcon,"hide");m.add(this.icon,"hide");this.switch.set("disabled","disabled");m.toggle(this.controlContainer,"cursor-not-allowed dim6")},isSelected:function(){return!1!==this.switch.get("value")},isEnabled:function(){return this.data.enabled},getFormData:function(){var a={};this.isSelected()&&(a[this.data.identifier+"_selected"]=!0,a=h.mixin(a,this.input.getFormData()));return a}})})},"mojo/widgets/ads/facebook/edit-connect/PlacementInput":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/form/ComboButton dojo/on dojo/dom-class dojo/dom-construct dojox/form/CheckedMultiSelect mojo/utils dojo/text!./templates/PlacementInput.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){var q=l([b],{labelText:"Edit placement",dropDown:"true",multiple:"true",selectAll:"false",startup:function(){this._loadChildren();this.dropDown&&(this.dropDownButton=new c({label:this.labelText,dropDown:this.dropDownMenu,baseClass:"dojoxCheckedMultiSelectButton",maxHeight:this.maxHeight,_aroundNode:this.dropDownAnchor},this.comboButtonNode))},toggleDropDown:function(){this.dropDownButton.toggleDropDown()},getSelectableOptions:function(){return k.filter(this.options,
function(a){return!a.disabled})},getSelectedOptions:function(){return k.filter(this.options,function(a){return a.selected})},getSelectedLabels:function(){return k.map(this.getSelectedOptions(),function(a){return a["aria-label"]})},isEditable:function(){return 1<=this.options.length&&1<=this.getSelectableOptions().length}});return l([f,a],{templateString:p,label:"",identifier:"",placements:[],input:null,postCreate:function(){this.setup();e(this.input,"change",h.hitch(this,"handleSelection"));e(this.editLink,
"click",h.hitch(this,"handleEditLink"))},setup:function(){this.buildMultiSelect();this.handleSelection();m.toggle(this.editLink,"hide",!this.input.isEditable())},handleEditLink:function(){this.input.toggleDropDown()},handleSelection:function(){this.updatePlacementSummary();this.resetHiddenInputs();this.buildHiddenInputs()},buildMultiSelect:function(){this.input=new q({options:this.getOptions(),dropDownAnchor:this.dropDownAnchor});this.input.placeAt(this.inputContainer);this.input.startup()},buildHiddenInputs:function(){this.input.getSelectedOptions().forEach(h.hitch(this,
function(a){d.create("input",{type:"hidden",name:a.value,value:!0},this.hiddenInputs,"last")}))},updatePlacementSummary:function(){var a=this.input.getSelectedLabels();this.summary.innerText=1<=a.length?"Placed in the "+n.getCommaListFromArray(a):"Place your ad on "+this.label},resetHiddenInputs:function(){d.empty(this.hiddenInputs)},getOptions:function(){var a=k.filter(this.placements,function(a){return a.enabled});return k.map(a,h.hitch(this,function(a){return{label:this.getLabelMarkup(a),"aria-label":a.label,
value:this.identifier+"_placement_"+a.name,selected:a.selected,disabled:a.required}}))},getLabelMarkup:function(a){return h.replace(a.required?this.tplLabelRequired.innerHTML:this.tplLabelStandard.innerHTML,a)},getFormData:function(){var a={};this.input.get("value").forEach(function(b){a[b]=!0});return a}})})},"mojo/widgets/ads/checklist/_EditSlatMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/request/xhr dojo/topic mojo/url dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/EditSlatWrapper.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([e,m,d],{templateString:b,postEndpoint:null,slatId:null,actionBarEnabled:!0,postMixInProperties:function(){this._validateRequiredProps();this._buildTemplate()},setData:function(a){},handleSave:function(){},postForm:function(a){f.post(c.toUrl(this.postEndpoint),{handleAs:"json",data:a}).then(k.hitch(this,"_onPostResponse"))},onPostSuccess:function(a){if(this.cancelButton)this.cancelButton.click();else throw Error("Slat save successful but closing of the slat has failed.");
},onPostError:function(a){},onPostErrorFeedbackGiven:function(){},_validateRequiredProps:function(){if(!this.slatId)throw Error("slatId unimplemented. It is required.");if(!this.postEndpoint)throw Error("postEndpoint unimplemented. It is required.");},_buildTemplate:function(){this.templateString=this.actionBarEnabled?k.replace(this.templateString,{_content:this.content}):this.content},_publishUpdate:function(b){a.publish("campaigns/checklist-interface",k.mixin({itemId:this.slatId},b))},_onPostResponse:function(a){this._publishUpdate(a);
switch(a.status){case "success":this.onPostSuccess(a);break;case "error":this.onPostError(a);this.onPostErrorFeedbackGiven();break;default:throw Error("Unknown state "+a.status);}},_setSlatIdAttr:function(){this.cancelButton&&h.set(this.cancelButton,"data-mc-slat",this.slatId)}})})},"mojo/widgets/ads/facebook/EditAudienceSlat":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/number dojo/on dojo/query dojo/topic mojo/user mojo/utils dijit/form/CheckBox ./edit-audience/LocationInput ./edit-audience/InterestInput mojo/widgets/FeedbackBlock mojo/widgets/input/InfoSelect mojo/widgets/SegmentDropdown mojo/widgets/ads/checklist/_EditSlatMixin dojo/text!./edit-audience/templates/EditAudienceSlat.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){return l([v],{content:y,slatId:"audience",postEndpoint:"/ads/facebook/post-audience",postCreate:function(){this.inherited(arguments);var a=this;d.subscribe("ads/facebook-location-taglist",function(b){a.saveButton&&f.toggle(a.saveButton,"disabled",!!b.conflicts)})},setData:function(a){this.ad=a.ad;this.audienceType=a.audienceType;this.targetLikes=a.targetLikes;this.emailSourceId=a.emailSourceId;this.sourceIsSegment=a.sourceIsSegment;this.selectedSegment=
a.selectedSegment;this.hasContacts=a.hasContacts;this.hasSimilar=a.hasSimilar;this.lists=a.lists;this.countries=a.countries;this.defaultListId=a.defaultListId;this.currentRequiredSize=a.currentRequiredSize;this.excludeContactAudience=a.excludeContactAudience;this._init();this.handleAudienceChoice()},_init:function(){this._initChoiceCards();this._initTargetInput();this._initListInput();this._initSegmentInput();this._initIncludeListInput();this._initIncludeLikesInput();this._initCountryInput();this._initLocationInput();
this._initGenderInput();this._initAgeInput();this._initInterestsInput();this._toggleExcludeContactMessage();this._toggleIncludeListContainer()},handleAudienceChoice:function(){var a=this,b=m("input[name\x3d'audience-choice']:checked")[0].value;m("[data-form-type]").map(function(a){n.removeAllErrors(a);return 0>h.getNodeProp(a,"data-form-type").indexOf(b)?f.add(a,"hide"):f.remove(a,"hide")});switch(b){case "lookalike":a.currentRequiredSize=500;break;case "list":a.currentRequiredSize=100}var d=this.listInput.getOptions();
d.forEach(function(b){if(b.meta){var d=c.parse(b.meta.split(" ")[0],{locale:"en-us"});b.disabled=d<a.currentRequiredSize}});this.listInput.updateOption(d);this._toggleTargetInputDisable();this.handleTargetToggle()},_toggleTargetInputDisable:function(){var a=this.targetInputList,b=this.targetInputLikes,c=this.listChoiceInput.checked&&!this.hasContacts,d=this.listChoiceInput.checked&&this.excludeContactAudience;this.lookalikeChoiceInput.checked&&!this.hasSimilar||c?(this._disableCheckRadio(b,a),f.toggle(this.targetListDisabledMessage,
"hide",d),this.handleTargetToggle()):d?this._disableCheckRadio(b,a):(this.targetInputList.set("disabled",!1),f.add(this.targetListDisabledMessage,"hide"))},handleCountryUpdate:function(){this.locationTagListInput&&0<this.locationTagListInput.length&&this.locationTagListInput.set("country",this.countryInput.value)},handleListUpdate:function(){if(this.listInput){var a=this.listInput.value;a?(this.segmentInput.load(a),f.remove(this.segmentContainer,"hide")):f.add(this.segmentContainer,"hide")}},_disableCheckRadio:function(a,
b){a.set("checked",!0);b.set("disabled",!0)},_toggleExcludeContactMessage:function(){f.toggle(this.audienceExclusionMessage,"hide",!this.excludeContactAudience)},_toggleIncludeListContainer:function(){f.toggle(this.includeListContainer,"hide",this.excludeContactAudience)},handleTargetToggle:function(){var a=this._getSelectedTargeting();f.toggle(this.targetListContainer,"hide","targetList"!==a);f.toggle(this.targetLikesContainer,"hide","targetLikes"!==a)},handleSave:function(){var a={};this._isValid();
switch(this._getSelectedTargeting()){case "targetList":a=this.segmentInput.segmentSelect;a={targeting_likes:!1,list_id:this.listInput.value,segment_id:a.options[a.selectedIndex].value,include_source:this._audienceAllowsIncludingExistingContacts()?this.includeListInput.checked:null};break;case "targetLikes":a={targeting_likes:!0,include_source:this._audienceAllowsIncludingExistingContacts()?this.includeLikesInput.checked:null};break;case null:break;default:throw Error("Unknown targeting option");}var b=
{country:this._getSelectedCountry(),locations:[this.locationTagListInput.getValues()],gender:this._getSelectedGender(),age_min:this.ageMinInput.value,age_max:this.ageMaxInput.value,interests:[this.interestsTagListInput.getValues()]},a=k.mixin(this._audienceAllowsListOrFacebookTargeting()?a:{},this._audienceAllowsInterestTargeting()?b:{});this.postForm(k.mixin(a,{id:this.ad.id,audience:this._getSelectedAudience()}))},onPostError:function(a){n.showFormErrors(this.domNode,a.errors)},_initChoiceCards:function(){switch(this.audienceType){case "lookalike":this.lookalikeChoiceInput.checked=
!0;break;case "list":this.listChoiceInput.checked=!0;break;case "interests":this.interestsChoiceInput.checked=!0}},_initTargetInput:function(){(this.targetLikes?this.targetInputLikes:this.targetInputList).set("checked",!0);this.handleTargetToggle()},_initListInput:function(){var a=[];a.push({value:"",label:"Choose a list",skip:!0});for(var b=0;b<this.lists.length;b++)a.push({value:this.lists[b].id,label:this.lists[b].name,meta:this.lists[b].contactsMemberCount+n.plural(this.lists[b].contactsMemberCount,
" contact"),disabled:this.lists[b].contactsMemberCount<this.currentRequiredSize,selected:this.lists[b].contactsMemberCount>=this.currentRequiredSize&&this.lists[b].id===this.emailSourceId});this.input=new u({"class":"select-small !margin-bottom--lv3 margin-right--lv0 full-width",name:"list",options:a});this.input.placeAt(this.listInput);this.input.startup();this.listInput=this.input},_initSegmentInput:function(){this.sourceIsSegment||this.defaultListId||f.add(this.segmentContainer,"hide");this.input=
new w({"class":"margin-bottom--lv4 margin-right--lv0 full-width",sourceUrl:"lists/segments/saved-ads",listId:this.sourceIsSegment?this.emailSourceId:this.defaultListId,selected:this.selectedSegment,firstOption:null});this.input.placeAt(this.segmentInput);this.input.startup();this.segmentInput=this.input},_initIncludeListInput:function(){this.input=new p({type:"checkbox",value:this.ad.includeSourceInTarget,checked:this.excludeContactAudience?!1:this.ad.includeSourceInTarget,disabled:this.excludeContactAudience,
readOnly:this.excludeContactAudience});this.input.placeAt(this.includeListInput);this.input.startup();this.includeListInput=this.input},_initIncludeLikesInput:function(){this.input=new p({type:"checkbox",value:this.ad.includeSourceInTarget,checked:this.ad.includeSourceInTarget});this.input.placeAt(this.includeLikesInput);this.input.startup();this.includeLikesInput=this.input},_initCountryInput:function(){var b=this;Object.keys(this.countries).forEach(function(c){c=a.create("option",{value:c,innerHTML:b.countries[c],
selected:b.ad.lookalikeCountryCode===c});b.countryInput.appendChild(c)})},_initLocationInput:function(){this.input=new q({locations:this.ad.targetingSpecs.locations});this.input.placeAt(this.locationTagListInput);this.input.startup();this.locationTagListInput=this.input;this.message=new t({title:"Heads up!",message:"Areas can\u2019t overlap. Please remove the location(s) you don\u2019t want to use.",type:"warning"});this.message.placeAt(this.locationConflictMessage);this.message.startup();this.locationConflictMessage=
this.message},_initGenderInput:function(){switch(this.ad.targetingSpecs.gender){case 0:this.genderAllInput.checked=!0;break;case 1:this.genderMenInput.checked=!0;break;case 2:this.genderWomenInput.checked=!0}},_initAgeInput:function(){for(var b=18;65>=b;b++){var c=a.create("option",{value:b,innerHTML:b}),d=k.clone(c),c=k.clone(c);this.ad.targetingSpecs.minAge===b&&(d.selected=!0);this.ad.targetingSpecs.maxAge===b&&(c.selected=!0);this.ageMinInput.appendChild(d);this.ageMaxInput.appendChild(c)}b=this.ageMaxInput.options[this.ageMaxInput.options.length-
1];b.innerText="65+";this.ad.targetingSpecs.maxAge||(b.selected=!0)},_initInterestsInput:function(){this.input=new r({interests:this.ad.targetingSpecs.interests});this.input.placeAt(this.interestsTagListInput);this.input.startup();this.interestsTagListInput=this.input},_disableCard:function(a,b,c){b.disabled=!0;f.add(a,"cursor-not-allowed");f.add(c,"dim6 disabled-container")},_isValid:function(){if(-1===["lookalike","list","interests"].indexOf(this._getSelectedAudience()))throw Error(this._getSelectedAudience()+
"is an invalid audience option");if(-1===[0,1,2].indexOf(this._getSelectedGender()))throw Error(this._getSelectedGender()+"is an invalid gender option. The backend is expecting a 0, 1, or 2.");var a=this._getSelectedCountry();if(null!==a&&"0"!==a&&!this.countries.hasOwnProperty(a))throw Error(a+" does not match one of the available country options.");},_audienceAllowsInterestTargeting:function(){return"list"!==this._getSelectedAudience()},_audienceAllowsListOrFacebookTargeting:function(){return"interests"!==
this._getSelectedAudience()},_audienceAllowsIncludingExistingContacts:function(){return"lookalike"===this._getSelectedAudience()},_getSelectedAudience:function(){return m("input[name\x3d'audience-choice']:checked",this.domNode)[0].value},_getSelectedTargeting:function(){return this._audienceAllowsListOrFacebookTargeting()?m("input[name\x3d'targetInput']:checked",this.domNode)[0].value:null},_getSelectedGender:function(){return Number(m("input[name\x3d'gender']:checked",this.domNode)[0].value)},_getSelectedCountry:function(){return"lookalike"===
this._getSelectedAudience()?this.countryInput.value:null}})})},"mojo/widgets/ads/facebook/edit-audience/LocationInput":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-class dojo/request dojo/query dojo/store/Memory dojo/store/Cache dojo/store/util/QueryResults dojo/topic mojo/lib/flags mojo/url mojo/user mojo/widgets/input/TagAutocomplete mojo/widgets/input/TagList".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){var u=function(a){var b=a.name.split(", ").join(";");b.split(" ").join(";");
return[a.type,a.country_code,a.region_id,a.city_id,a.zip_id,b].map(function(a){return"NULL"===a?"":a}).join("_")},w;String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});n=l([e],{idProperty:"nameKey",query:function(b){var e=null;h.byId("audience-lookalike").checked&&(e=c("[data-mc-el\x3d'audienceCountry']")[0].value);b=k.isString(b)?b:b.name.toString();b=p.toUrl("/ads/facebook/find-locations",{q:b,limit:100,cc:e});b=a(b,{handleAs:"json"}).then(function(a){a.forEach(function(a){a.nameKey=
a.name.toLowerCase();a.id=u(a)});return a});b.total=b.then(function(a){return a.length});return d(b)}});var v=new e({idProperty:"nameKey"});e=l([r],{store:new m(new n,v),autoComplete:!1,onEnter:function(){var a=this.getCurrentInput().toLowerCase();if(a=v.get(a))this.setValue(a),this.setLabel(a.name);return!0}});return l([t],{TagModel:e,locations:[],postCreate:function(){var a=this;this.inherited(arguments);(a.locations||[]).forEach(k.hitch(function(b){a._addTag(u(b),b.name)}))},_addTag:function(a,
b){var c=this.inherited(arguments);this.removeDuplicateTag();this.findGroupedTags();this.highlightGroupedTags();this.toggleConflictMessage();this.updateField();return c},_removeTag:function(a){this.inherited(arguments);this.findGroupedTags();this.highlightGroupedTags();this.toggleConflictMessage();this.updateField()},updateField:function(){var a={},b=this.getValues().filter(function(b){b=b.trim();return a[b]?!1:a[b]=!0});h.byId("audience-locations").value=b.join()},removeDuplicateTag:function(){var a=
{};this._getTags().forEach(function(b){a[b.value]?b.destroy():a[b.value]=!0})},findGroupedTags:function(){function a(b,c){return b!==c&&(b.startsWith(c)||c.startsWith(b))}w=this._getTags().map(function(a){a=a.value.split("_");a.shift();a.pop();return a.join("")}).filter(function(a){return""!==a}).filter(function(b,c,d){return d.some(a.bind(null,b))})},highlightGroupedTags:function(){0<w.length?(b.publish("ads/facebook-location-taglist",{conflicts:!0}),this._getTags().map(function(a){var b=a.value.split("_");
b.shift();b.pop();b=b.join("");-1!==w.indexOf(b)?f.add(a.domNode,"c-tagList_item--highlight"):f.remove(a.domNode,"c-tagList_item--highlight")})):(b.publish("ads/facebook-location-taglist","{conflicts: false}"),this._getTags().map(function(a){f.remove(a.domNode,"c-tagList_item--highlight")}))},toggleConflictMessage:function(){f.toggle(c("[data-mc-el\x3d'conflictMessage']")[0],"hide",0>=w.length)}})})},"mojo/widgets/ads/facebook/edit-audience/InterestInput":function(){define("dojo/_base/declare dojo/_base/lang dojo/request dojo/dom dojo/store/Memory dojo/store/Cache dojo/store/util/QueryResults mojo/widgets/input/TagAutocomplete mojo/widgets/input/TagList mojo/url".split(" "),
function(l,k,h,f,a,c,e,m,d,b){var n=l([a],{idProperty:"nameKey",query:function(a){a=k.isString(a)?a:a.name.toString();a=b.toUrl("/ads/facebook/find-interests",{q:a,limit:100});a=h(a,{handleAs:"json"}).then(function(a){a.forEach(function(a){a.nameKey=a.name.toLowerCase();a.id=(a.id+"_"+a.name).replace(/,/g,"")});return a});a.total=a.then(function(a){return a.length});return e(a)}}),p=new a({idProperty:"nameKey"});a=l([m],{store:new c(new n,p),autoComplete:!1,onEnter:function(){var a=this.getCurrentInput().toLowerCase();
if(a=p.get(a))this.setValue(a.id),this.setLabel(a.name);return!0}});return l([d],{TagModel:a,interests:[],postCreate:function(){var a=this;this.inherited(arguments);(a.interests||[]).forEach(k.hitch(function(b){a._addTag((b.id+"_"+b.name).replace(/,/g,""),b.name)}))},_addTag:function(a,b){var c=this.inherited(arguments);this.updateField();return c},_removeTag:function(a){this.inherited(arguments);this.updateField()},updateField:function(){var a={},b=this.getValues().filter(function(b){b=b.trim();
return a[b]?!1:a[b]=!0});f.byId("audience-interests-list").value=b.join()}})})},"mojo/widgets/ads/facebook/EditBudgetSlat":function(){define("dojo/_base/declare dojo/_base/lang dojo/debounce dojo/on mojo/user mojo/utils ./edit-budget/DurationInput mojo/widgets/ads/checklist/_EditSlatMixin dojo/text!./edit-budget/templates/EditBudgetSlat.html".split(" "),function(l,k,h,f,a,c,e,m,d){return l([m],{content:d,slatId:"budget",postEndpoint:"/ads/facebook/post-budget",currencySymbol:a.currencySymbol,postCreate:function(){f(this.budgetInput,
"keydown",h(k.hitch(this,"_handleBudgetChange"),300));f(this.budgetInput,"paste",h(k.hitch(this,"_handleBudgetChange"),300))},setData:function(a){this.adId=a.ad_id;this.budget=a.total_budget?a.total_budget:a.min_daily_budget;this.minDailyBudget=Number(a.min_daily_budget);this.budgetInput.value=this.budget;this.duration=new e({budget:this.budget,minDailyBudget:this.minDailyBudget,isRelative:a.is_relative,perDayLabel:this.perDayLabel,startTime:new Date(1E3*a.start_time),endTime:new Date(1E3*a.end_time)});
this.duration.placeAt(this.durationContainer);this.duration.startup()},_handleBudgetChange:function(){c.removeAllErrors(this.domNode);this.budget=this.budgetInput.value;this.duration.setBudget(this.budget)},handleSave:function(){if(this._passesSimpleValidation())this.postForm(k.mixin({id:this.adId,budget:this.budget},this.duration.getValues()));else this.onPostErrorFeedbackGiven()},onPostError:function(a){a.errors.budget&&this.budgetInput.classList.add("invalid");a=a.errors[Object.keys(a.errors)[0]];
c.addError(this.errorAnchor,a)},_passesSimpleValidation:function(){return""===this.budget?(this.budgetInput.classList.add("invalid"),c.addError(this.errorAnchor,"Please enter a budget"),!1):this.budget<this.minDailyBudget?(this.budgetInput.classList.add("invalid"),!1):!0}})})},"mojo/widgets/ads/facebook/edit-budget/DurationInput":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dijit/form/Select mojo/user ./DateTimeInput vendor/lodash-amd/find dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./DurationInput.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([d,b],{templateString:n,budget:null,currencySymbol:c.currencySymbol,relativeDurations:[{label:"1 day",inputValue:"one_day",seconds:86400,days:1},{label:"1 week",inputValue:"one_week",seconds:604800,days:7},{label:"2 weeks",inputValue:"two_weeks",seconds:1209600,days:14},{label:"1 month",inputValue:"one_month",seconds:2592E3,days:30}],postCreate:function(){this._setup()},setBudget:function(a){this.durationInput.closeDropDown();this.budget=a;this._buildDurationDropdown();
this._updatePerDayLabel()},getValues:function(){return{duration:this._getDurationValue(),start_date:this.startDateTime.getDate(),start_time:this.startDateTime.getTime(),start_time_meridian:this.startDateTime.getTimeMeridian(),end_date:this.endDateTime.getDate(),end_time:this.endDateTime.getTime(),end_time_meridian:this.endDateTime.getTimeMeridian()}},_setup:function(){this.startDateTime=new e({label:"Start",dateTime:this.startTime});this.startDateTime.placeAt(this.startDateTimeContainer);this.startDateTime.startup();
this.endDateTime=new e({label:"End",dateTime:this.endTime});this.endDateTime.placeAt(this.endDateTimeContainer);this.endDateTime.startup();this._buildDurationDropdown();this._handleDurationChange()},_buildDurationDropdown:function(){var b=null;this.durationInput&&(b=this._getDurationValue(),this.durationInput.destroy());this.durationInput=new a({options:this._getOptions(),_aroundNode:this.editLink});this.durationInput.placeAt(this.selectContainer);this.durationInput.startup();b&&this.durationInput.set("value",
b);this._updateSummary();f(this.durationInput,"change",k.hitch(this,"_handleDurationChange"))},_handleDurationChange:function(){var a="custom"===this._getDurationValue();this.isRelative=!a;h.toggle(this.customDurationContainer,"hide",!a);this._updateSummary();this._updatePerDayLabel()},_handleEditLink:function(){this.durationInput.toggleDropDown()},_updateSummary:function(){h.toggle(this.minMessaging,"hide",this.budget>=this.minDailyBudget);h.toggle(this.summaryContainer,"hide",this.budget<this.minDailyBudget);
h.toggle(this.customDurationContainer,"disabled-container",this.budget<this.minDailyBudget);var a="";switch(this._getDurationValue()){case "custom":a="Choose ad duration";break;default:a="for \x3cstrong\x3e"+this._getDurationLabel()+"\x3c/strong\x3e"}this.summary.innerHTML=a},_updatePerDayLabel:function(){if(this.isRelative&&this.budget>=this.minDailyBudget){var a=m(this.relativeDurations,["inputValue",this._getDurationValue()]).days,b=(Number(this.budget)/a).toFixed(2);this.perDayLabel.innerText=
this.budget>=this.minDailyBudget*a&&1!==a?"Up to "+this.currencySymbol+b+" / day":""}else this.perDayLabel.innerText=""},_getDurationLabel:function(){return this.durationInput._getSelectedOptionsAttr()["aria-label"]},_getDurationValue:function(){return this.durationInput.value},_getOptions:function(){var a=this.relativeDurations.map(k.hitch(this,function(a){return{label:this._getLabelMarkup(a),"aria-label":a.label,value:a.inputValue,selected:!(!this.isRelative||a.seconds!==this.endTime/1E3),disabled:this._isOptionDisabled(a)}}));
a.push({label:"Specific duration",value:"custom",selected:!this.isRelative});return a},_getLabelMarkup:function(a){var b={label:a.label,minimumBudget:(this.minDailyBudget*a.days).toFixed(2)};return this._isOptionDisabled(a)?k.replace(this.tplLabelWithMinimum.innerHTML,b):a.label},_isOptionDisabled:function(a){return this.budget<this.minDailyBudget*a.days}})})},"mojo/widgets/ads/facebook/edit-budget/DateTimeInput":function(){define("dojo/_base/declare dojo/date/locale dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./DateTimeInput.html".split(" "),
function(l,k,h,f,a,c,e){return l([f,a,c],{templateString:e,dateTime:null,postCreate:function(){var a=new Date;this.dateInput.constraints.min=a;this.dateInput.set("value",this._isExpiredDate()?a:this.dateTime);this._populateHours()},postMixInProperties:function(){if(!this.dateTime)throw Error("Valid date required");this.inherited(arguments)},getDate:function(){return k.format(this.dateInput.value,{datePattern:"y-M-d",selector:"date"})},getTime:function(){return this.hourInput.value},getTimeMeridian:function(){return this.amInput.checked?
this.amInput.value:this.pmInput.value},_populateHours:function(){for(var a=this._isExpiredDate()?(new Date).getHours()+2:this.dateTime.getHours(),c=1;12>=c;c++){var b=h.create("option",{value:c,innerHTML:(10>c?"0":"")+c+":00",selected:c===(12>=a?a:a%12)});h.place(b,this.hourInput)}11>=a?this.amInput.checked=!0:this.pmInput.checked=!0},_isExpiredDate:function(){return new Date>this.dateTime}})})},"mojo/widgets/ads/facebook/MobileContentSlat":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-attr dojo/request dojo/topic mojo/url mojo/utils dijit/Dialog mojo/widgets/ads/facebook/EditContentSlatMobile mojo/widgets/ads/facebook/ViewContentSlat velocity/velocity mojo/widgets/Renderable ../mobile-checklist/_EventAdapterMixin dojo/text!./mobile-content/templates/MobileContentSlat.html dojo/text!./mobile-content/templates/UnsavedChangesDialog.html velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([q,r],{templateString:t,contentMode:null,editFormHasChanges:!1,postCreate:function(){this._initViewOrEditMode();c.subscribe("content/carouselItem/inputChanged",this._handleInputChange.bind(this))},_getData:function(){var b=e.toUrl("/ads/checklist",{id:this.id,itemId:this.slatName});return a.get(b,{handleAs:"json"})},_initViewOrEditMode:function(){this._getData().then(this._handleSuccessResponse.bind(this),this._handleErrorResponse.bind(this))},_handleSuccessResponse:function(a){this.contentData=
a.data;(this.hasContent=a.data.hasContent)?this._initViewMode():this._initEditMode();this.set("contentMode",this.hasContent?"view":"edit");h.remove(this.editActionBar,"hide");this.onLoaded()},_handleViewSuccessResponse:function(a){this.contentData=a.data;this.hasContent=a.data.hasContent;this._initViewMode()},_handleErrorResponse:function(){throw Error("An error occurred retrieving data for the content slat");},_handleInputChange:function(a){a.hasChanged&&!this.editFormHasChanges&&(this._animateSaveExitBarIn(),
this.editFormHasChanges=!0)},_initViewMode:function(){this.viewWidget=new n;this.viewWidget.placeAt(this.viewModeContainer,"first");this.viewWidget.startup();this.viewWidget.setData(this.contentData)},_initEditMode:function(){this.editWidget=new b({onDone:k.hitch(this,"_handleEditModeSaveSuccess"),onDoneWithError:k.hitch(this,"_handleEditModeSaveFailure"),onExit:k.hitch(this,"_handleContentSlatExit"),_handleSlatReset:k.hitch(this,"onDone")});this.editWidget.placeAt(this.editContentContainer);this.editWidget.startup();
this.editWidget.setData(this.contentData)},_handleEditButtonPress:function(){this._initEditMode();this.set("contentMode","edit")},_handleExitButtonPress:function(){if(this.hasContent&&"view"===this.contentMode)this.onDone({});else this.editWidget.__cancel()},_handleExitConfirmButtonPress:function(){this.unsavedChangesDialog=new d({title:"Exit and lose changes?",content:"\x3cdiv class\x3d\"dijitDialogPaneContentArea dijitDialogPaneContentArea--mobile\"\x3e\x3cp\x3eIf you exit now, you'll lose all the changes you've made in this section. This cannot be undone.\x3c/p\x3e\x3c/div\x3e",
actionBarTemplate:u,draggable:!1,closable:!1,_handleConfirmExitButtonPress:k.hitch(this,"_handleExitConfirmation")});this.unsavedChangesDialog.startup();this.unsavedChangesDialog.show()},_handleExitConfirmation:function(){this.unsavedChangesDialog.destroy();this._animateSaveExitBarOut();if(this.editWidget.hasContent())this._gotoViewModeFromEdit();else this.onDone({})},_handleSaveButtonPress:function(){h.add(this.saveBtn,"button-loading");f.set(this.saveBtn,"disabled","disabled");this.editWidget.__save()},
_handleEditModeSaveSuccess:function(){h.remove(this.saveBtn,"button-loading");f.remove(this.saveBtn,"disabled","disabled");this._animateToasterInOut();this._animateSaveExitBarOut()},_handleEditModeSaveFailure:function(){h.remove(this.saveBtn,"button-loading");f.remove(this.saveBtn,"disabled","disabled")},_resetViewMode:function(){this.viewWidget&&this.viewWidget.destroyRecursive(!1);this._getData().then(this._handleViewSuccessResponse.bind(this),this._handleErrorResponse.bind(this))},_gotoViewModeFromEdit:function(){this.editWidget.destroyRecursive(!1);
this._resetViewMode();this.set("contentMode","view")},_animateToasterInOut:function(){p(this.toastContainer,"transition.slideUpIn",{duration:250,complete:k.hitch(this,function(){p(this.toastContainer,"transition.slideDownOut",{delay:2E3,duration:250})})})},_animateSaveExitBarIn:function(){this.editFormHasChanges=!0;p(this.actionToolbarExit,"transition.slideDownOut",{duration:250,complete:k.hitch(this,function(){p(this.actionToolbarSaveExit,"transition.slideUpIn",{duration:250})})})},_animateSaveExitBarOut:function(){this.editFormHasChanges=
!1;p(this.actionToolbarSaveExit,"transition.slideDownOut",{duration:250,complete:k.hitch(this,function(){p(this.actionToolbarExit,"transition.slideUpIn",{duration:250})})})},_setContentModeAttr:function(a){this._set("contentMode",a);h.toggle(this.editActionButton,"hide","edit"===a);h.toggle(this.viewModeContainer,"hide","edit"===a)},_handleContentSlatExit:function(){if("view"===this.contentMode)this.onDone({});else this._gotoViewModeFromEdit()}})})},"mojo/widgets/ads/facebook/EditContentSlatMobile":function(){define(["dojo/_base/declare",
"./EditContentSlat","../mobile-checklist/_EventAdapterMixin"],function(l,k,h){return l([k,h],{actionBarEnabled:!1,onPostSuccess:function(f){this._updateItemData();this.onDone(f)},onPostErrorFeedbackGiven:function(){this.onDoneWithError()},hasContent:function(){return this.carousel.hasValidSavedContent()},_updateItemData:function(){var f=this.carousel._getCurrentCarouselItemIndex();this.carousel.updateItemData(f,!1)},__save:function(){this.handleSave()},__cancel:function(){this.onExit()},__back:function(){}})})},
"mojo/widgets/ads/facebook/EditContentSlat":function(){define("dojo/_base/declare dojo/_base/lang mojo/utils ./edit-content/Carousel ./edit-content/InputWithLabel mojo/widgets/ads/checklist/_EditSlatMixin dojo/text!./edit-content/templates/EditContentSlatWrapper.html dojo/text!./edit-content/templates/EditContentSlat.html".split(" "),function(l,k,h,f,a,c,e,m){return l([c],{templateString:e,content:m,slatId:"content",postEndpoint:"/ads/facebook/post-content",setData:function(a){this.adId=a.ad_id;this._initMessage(a.message);
this._initCarousel(a.ad_id,a.content,a.hasLandingPage)},_initMessage:function(c){this.messageTextArea=new a({type:"textarea",label:"Message",name:"message",required:!1,content:{value:c,placeholder:"Personalize your ad with a message"}},this.messageContainer)},_getMessageValue:function(){return this.messageTextArea.domNode.value},_initCarousel:function(a,b,c){this.carousel=new f({adId:a,items:b,maxItems:c?1:5,messageTextArea:this.messageTextArea,onSlatReset:k.hitch(this,"_handleSlatReset")});this.carousel.placeAt(this.carouselContainer);
this.carousel.startup()},_handleSlatReset:function(){this.cancelButton&&this.cancelButton.click()},handleSave:function(){h.removeAllErrors(this.domNode);if(this._passesSimpleValidation())this.postForm(this.carousel.getFormData());else this.onPostErrorFeedbackGiven()},onPostError:function(a){h.showFormErrors(this.domNode,a.errors)},_passesSimpleValidation:function(){return this.carousel.passesSimpleValidation()}})})},"mojo/widgets/ads/facebook/edit-content/Carousel":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on mojo/utils mojo/widgets/ViewSwitcher mojo/widgets/ads/facebook/edit-content/Api mojo/widgets/ads/facebook/edit-content/CarouselItem dijit/Dialog mojo/widgets/Renderable dojo/text!./templates/Carousel.html dojo/text!./templates/ButtonItem.html dojo/text!./templates/DeleteCarouselItemDialog.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){var t=l([],{constructor:function(a){this.widgetContainer=a.widgetContainer},createView:function(a){var b=f.create("div");a=this.widgetContainer.createWidget(a);a.placeAt(b);a.startup();return b},getCount:function(){return this.widgetContainer.getCount()},destroy:function(){this.widgetContainer.destroy()}}),u=l([],{widgets:[],constructor:function(a){this.adId=a.adId;this.items=a.items;this.carousel=a.carousel},createWidget:function(a){this.widgets[a]=new d({adId:this.adId,
index:a,data:this.items[a],carousel:this.carousel});return this.widgets[a]},getCount:function(){return this.items.length},destroy:function(){this.widgets.forEach(function(a){a.destroyRecursive(!1)})},getWidgetByPosition:function(a){return this.widgets[a]}}),w=l([n],{templateString:q,index:null,imageUrl:"",carousel:null,_handleLabelPress:function(a){a.preventDefault();this.carousel.onItemButtonPress(this.index)},_handleDeletePress:function(a){a.preventDefault();this.deleteCarouselItemDialog=new b({title:"Are you sure?",
content:'\x3cdiv class\x3d"dijitDialogPaneContentArea dijitDialogPaneContentArea--mobile"\x3e\x3cp\x3eThis action will delete all content. If you\'d like to change the image only, click Browse Images.\x3c/p\x3e\x3c/div\x3e',actionBarTemplate:r,draggable:!1,closable:!1,onConfirmDeletion:k.hitch(this,"_handleDeleteCarouselItemConfirm")});this.deleteCarouselItemDialog.startup();this.deleteCarouselItemDialog.show()},_handleDeleteCarouselItemConfirm:function(){this.deleteCarouselItemDialog.destroy();this.carousel.onDeleteItemButtonPress(this.index)}});
return l([n],{templateString:p,adId:null,items:[],switcher:null,maxItems:5,postCreate:function(){1<this.maxItems?(this._initSwitcher(),this._initButtons()):this._initSingleItem()},postMixInProperties:function(){this._validateProps()},_initSingleItem:function(){this.item=new d({adId:this.adId,index:0,data:this.items[0],carousel:this,lockUrl:!0});this.item.placeAt(this.switcherContainer);this.item.startup()},_initSwitcher:function(){this.widgets=new u({adId:this.adId,items:this.items,carousel:this});
this.switcher=new e({transition:"slide",startIndex:0,skipCaching:!0,adapter:t({widgetContainer:this.widgets})});this.switcher.placeAt(this.switcherContainer);this.switcher.startup()},_initButtons:function(){this.buttons=[];this.items.forEach(this._createButton.bind(this));h.toggle(this.addButtonNode,"hide",!this._canAddItem())},_createButton:function(a,b){this.buttons[b]=new w({index:b,selected:b===this._getCurrentCarouselItemIndex(),imageUrl:a.imageUrl?a.imageUrl:"",carousel:this});this.buttons[b].placeAt(this.buttonsContainer);
this.buttons[b].startup()},_onAddItemButtonPress:function(){this._canAddItem()&&this._validateAndSwitchItem(this.items.length,this._onAddItemPostResponse)},onDeleteItemButtonPress:function(a){1===this.items.length?this._resetCarousel():(this.deletedItemIndex=a,this.switcher.setCurrentView(a+1>this.maxItems||a+1===this.items.length?a-1:a).then(k.hitch(this,function(){m.deleteCarouselItem({id:this.adId,index:a}).then(k.hitch(this,"_onDeleteItemPostResponse"))})))},onItemButtonPress:function(a){a!==
this._getCurrentCarouselItemIndex()&&this._validateAndSwitchItem(a,this._onUpdateItemPostResponse)},_onAddItemPostResponse:function(a){switch(a.status){case "success":this.items.push({});this._switchCarouselItem();break;case "error":this._setFormErrors(a.errors);break;default:throw Error("Unknown Carousel save state "+a.status);}},_onUpdateItemPostResponse:function(a){switch(a.status){case "success":this._switchCarouselItem();break;case "error":this._setFormErrors(a.errors);break;default:throw Error("Unknown Carousel save state "+
a.status);}},_onDeleteItemPostResponse:function(a){switch(a.status){case "success":this.items.splice(this.deletedItemIndex,1);this.deletedItemIndex=null;this._resetButtons();break;default:throw Error("Unknown Carousel delete state "+a.status);}},_validateAndSwitchItem:function(a,b){this._clearFormErrors();this.passesSimpleValidation()&&(this.nextItemIndex=a,m.updateCarouselItem(this.getFormData()).then(k.hitch(this,b)))},_switchCarouselItem:function(){this.updateItemData(this._getCurrentCarouselItemIndex(),
!1);if("number"!==typeof this.nextItemIndex)throw Error("Invalid item carousel index");this.switcher.setCurrentView(this.nextItemIndex).then(function(){this.nextItemIndex=null;this._resetButtons()}.bind(this))},_resetCarousel:function(){m.resetCarousel(this.getFormData()).then(k.hitch(this,"onSlatReset"))},_resetButtons:function(){this.buttons.forEach(function(a){a.destroyRecursive(!1)});this._initButtons()},_canAddItem:function(){return 0<this.maxItems-this.items.length},_getCurrentCarouselItem:function(){var a=
this._getCurrentCarouselItemIndex();return 1<this.maxItems?this.widgets.getWidgetByPosition(a):this.item},_getCurrentCarouselItemIndex:function(){return 1<this.maxItems?this.switcher.getCurrentPosition():0},_setFormErrors:function(a){var b=this._getCurrentCarouselItem();c.showFormErrors(b.domNode,a)},_clearFormErrors:function(){var a=this._getCurrentCarouselItem();c.removeAllErrors(a.domNode)},updateItemData:function(a,b){var c=this.getFormData();this.items[a]={imageUrl:c.image_url,linkUrl:c.link_url,
name:c.title,callToAction:c.cta,description:c.description};b&&1<this.maxItems&&this._resetButtons()},getFormData:function(){var a=this._getCurrentCarouselItem(),b=this.messageTextArea.getValue();return k.mixin(a.getFormData(),{id:this.adId,index:this._getCurrentCarouselItemIndex(),message:b})},hasValidSavedContent:function(){var a=this.items[0],b=a.linkUrl,a=a.name;return b&&""!==b&&a&&""!==a?!0:!1},passesSimpleValidation:function(){var a=this.getFormData(),b={},c=!1;""===a.image_url&&(b.image="Please add an image.",
c=!0);""===a.link_url&&(b.link_url="Please add a link.",c=!0);""===a.title&&(b.title="Please add a title.",c=!0);c&&this._setFormErrors(b);return!c},_validateProps:function(){if(null===this.adId)throw Error("Ad Unique ID undeclared. It is required.");if("number"!==typeof this.maxItems||0!==this.maxItems%1)throw Error("this.maxItems invalid. Carousel was expecting a whole number");if(1>this.maxItems)throw Error("this.maxItems is expected to be a positive integer.");}})})},"mojo/widgets/ads/facebook/edit-content/Api":function(){define(["dojo/_base/lang",
"dojo/request/xhr","mojo/url"],function(l,k,h){return{updateCarouselItem:function(f){return this._postForm("/ads/facebook/post-content/",f)},deleteCarouselItem:function(f){return this._postForm("/ads/facebook/remove-attachment",f)},resetCarousel:function(f){return this._postForm("/ads/facebook/reset-content",f)},addImage:function(f){return this._postForm("/ads/facebook/add-image",f)},removeImage:function(f){return this._postForm("/ads/facebook/remove-image",f)},editImage:function(f){return this._postForm("/ads/facebook/edit-image",
f)},_postForm:function(f,a){return k.post(h.toUrl(f),{handleAs:"json",data:a})}}})},"mojo/widgets/ads/facebook/edit-content/CarouselItem":function(){define("dojo/_base/declare dojo/_base/lang mojo/widgets/ads/facebook/edit-content/ImageBlock mojo/widgets/ads/facebook/edit-content/InputWithLabel mojo/widgets/Renderable dojo/text!./templates/CarouselItem.html".split(" "),function(l,k,h,f,a,c){return l([a],{templateString:c,adId:null,index:null,data:null,carousel:null,lockUrl:!1,postCreate:function(){this._initImageBlock();
this._initInputs()},postMixInProperties:function(){this._validateProps()},_initImageBlock:function(){this.imageInput=new h({adId:this.adId,index:this.index,imageUrl:this.data.imageUrl?this.data.imageUrl:"",imageClass:this._hasSiblings()?"v-fbAttachment--carousel":"v-fbAttachment--default"});this.imageInput.placeAt(this.imageBlockContainer);this.imageInput.startup();this.imageInput.watch("imageUrl",this._notifyCarouselOfUpdate.bind(this))},_initInputs:function(){var a={type:"text",label:"Link to",
name:"link_url",content:{value:this.data.linkUrl,placeholder:"Website URL"}},c={type:"select",label:"Button",name:"cta",required:!1,content:{value:this.data.callToAction?this.data.callToAction:"",options:this.template_btnOptions}},d={type:"textarea",label:"Description",name:"description",required:!1,lengthLimit:150,content:{value:this.data.description,placeholder:"Briefly describe your ad",helpText:"Appears only in Facebook ads."}};this.titleInput=new f({type:"text",label:"Title",name:"title",lengthLimit:30,
content:{value:this.data.name,placeholder:"Add a headline",helpText:"Appears in Facebook and Instagram carousel ads."}},this.titleContainer);this.ctaInput=new f(c,this.buttonContainer);this.descriptionInput=new f(d,this.descriptionContainer);this.linkInput=this.lockUrl?null:new f(a,this.linkContainer)},getFormData:function(){return{image_url:this.imageInput.getValue(),title:this.titleInput.getValue(),cta:this.ctaInput.getValue(),description:this.descriptionInput.getValue(),link_url:this.linkInput?
this.linkInput.getValue():this.data.linkUrl}},_hasSiblings:function(){return 1<this.carousel.items.length},_notifyCarouselOfUpdate:function(){this.carousel.updateItemData(this.index,!0)},_validateProps:function(){if(null===this.adId)throw Error("Ad Unique ID undeclared. It is required.");if(null===this.index)throw Error("A Carousel Item index was not found. It is required.");if(null===this.carousel)throw Error("Reference to parent not found.");if(!0===this.lockUrl&&""===this.data.linkUrl)throw Error("linkUrl was requested to be locked but no link was passed in.");
}})})},"mojo/widgets/ads/facebook/edit-content/ImageBlock":function(){define("dojo/_base/declare dojo/_base/lang mojo/ImageEditor mojo/url mojo/utils mojo/widgets/ads/facebook/edit-content/Api mojo/widgets/FileManager mojo/widgets/Renderable dojo/text!./templates/ImageBlock.html".split(" "),function(l,k,h,f,a,c,e,m,d){return l([m],{templateString:d,adId:null,index:null,imageUrl:"",postMixInProperties:function(){this._validateRequiredProps()},_handleAdd:function(){this._initFileManager()},_handleRemove:function(){c.removeImage({id:this.adId,
index:this.index}).then(this._onRemoveImageResponse.bind(this))},_handleEdit:function(){this._initImageEditor()},_initImageEditor:function(){var a=f.removeProxy(this.imageUrl);h.open(a).then(this._onImageEdited.bind(this),this._onImageEditError.bind(this))},_onImageEdited:function(a){c.editImage({id:this.adId,index:this.index,image_url:a}).then(this._onSaveImageResponse.bind(this))},_onImageEditError:function(a){throw Error("There was an error with the Image Editor: "+a);},_initFileManager:function(){e.isShown()||
e.show({actions:"select,edit,delete",onSelect:this._onImageSelection.bind(this)})},_onImageSelection:function(a,d,f){c.addImage({file_id:f,id:this.adId,index:this.index}).then(this._onSaveImageResponse.bind(this));e.hide()},_onSaveImageResponse:function(b){switch(b.status){case "success":this.set("imageUrl",b.url);this.render();break;case "error":a.showFormErrors(this.domNode,b.errors);break;default:throw Error("Unknown status "+b.status);}},_onRemoveImageResponse:function(b){switch(b.status){case "success":this.set("imageUrl",
"");this.render();break;case "error":a.showFormErrors(this.domNode,b.errors);break;default:throw Error("Unknown status "+b.status);}},_validateRequiredProps:function(){if(null===this.adId)throw Error("The ad Unique ID is not configured. It is required.");if(null===this.index)throw Error("An index is required for the Image Block.");if("number"!==typeof this.index)throw Error("Invalid item carousel index format.");},getValue:function(){return this.imageUrl}})})},"mojo/widgets/ads/facebook/edit-content/InputWithLabel":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/topic mojo/widgets/CountRemainingCharacters velocity/velocity mojo/widgets/Renderable dojo/text!./templates/InputWithLabel.html velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([m],{templateString:d,animationDuration:250,type:"",label:"",name:"",required:!0,lengthLimit:null,content:{},postCreate:function(){this._initInput();this._initHelpText();this._initCharCount()},_initInput:function(){var a=null,c=null;switch(this.type){case "textarea":a="textarea";c={placeholder:this.content.placeholder?this.content.placeholder:"",innerHTML:this.content.value?this.content.value:"",cols:"30",rows:"2",className:"resize--none"};break;case "select":a=
"select";c={innerHTML:this.content.options.innerHTML};break;default:a="input",c={type:this.type,value:this.content.value?this.content.value:"",placeholder:this.content.placeholder?this.content.placeholder:""}}c=k.mixin({id:this.id+"_input",name:this.name},c);this.input=h.create(a,c,this.inputContainer);"select"===a&&(this.input.value=this.content.value?this.content.value:"");f(this.input,"focus",k.hitch(this,"_handleInputFocus"));f(this.input,"blur",k.hitch(this,"_handleInputBlur"))},_initHelpText:function(){this.content.helpText&&
h.create("div",{className:"field-help",innerHTML:this.content.helpText},this.inputContainer)},_initCharCount:function(){this.lengthLimit&&(this.charCount=new c({inputField:this.id+"_input",characters:this.lengthLimit,className:"small-meta"}),this.charCount.placeAt(this.charCountContainer),this.charCount.startup())},_handleInputFocus:function(){this.lengthLimit&&(this.required?this._animateInWithRequired():e(this.charCountContainer,"transition.slideUpIn",{duration:this.animationDuration}))},_handleInputBlur:function(){this._compareValues();
this.lengthLimit&&(this.required?this._animateOutWithRequired():e(this.charCountContainer,"transition.slideDownOut",{duration:this.animationDuration}))},_animateInWithRequired:function(){e(this.requiredIndicator,"transition.slideUpOut",{duration:this.animationDuration/2,complete:k.hitch(this,function(){e(this.charCountContainer,"transition.slideUpIn",{duration:this.animationDuration/2})})})},_animateOutWithRequired:function(){e(this.charCountContainer,"transition.slideDownOut",{duration:this.animationDuration/
2,complete:k.hitch(this,function(){e(this.requiredIndicator,"transition.slideDownIn",{duration:this.animationDuration/2})})})},getValue:function(){return this.input.value},getPassedInValue:function(){return this.content.value},_compareValues:function(){this.getValue()!==this.getPassedInValue()&&a.publish("content/carouselItem/inputChanged",{hasChanged:!0})}})})},"mojo/widgets/ads/facebook/ViewContentSlat":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/query dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./view-content/PreviewSwitcher ./view-content/FacebookPreviewDesktop ./view-content/FacebookPreviewMobile ./view-content/InstagramPreview dojo/text!./view-content/templates/ViewContentSlat.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([d,b,n],{templateString:u,setData:function(a){this._initPreviews(a);this._initPreviewToggle()},_initPreviews:function(b){this.hasAdPlacements=b.hasAdPlacements;this.hasFbPlacements=b.hasFacebookPlacements;this.hasIgPlacements=b.hasInstagramPlacements;var c=this.hasFbPlacements||!this.hasAdPlacements,d=this.hasIgPlacements||!this.hasAdPlacements,e=k.mixin({},b);this.instagramPreview=new t(b);this.fbDesktopPreview=new q(b);this.fbMobilePreview=new r(b);
this.fbMobilePreviewOnly=new r(k.mixin(e,{"class":"show-phone"}));c?(this.fbMobilePreview.placeAt(this.fbPreviewContainer,"first"),this.fbMobilePreview.startup(),this.fbDesktopPreview.placeAt(this.fbPreviewContainer),this.fbDesktopPreview.startup(),this.fbMobilePreviewOnly.placeAt(this.fbPreviewContainer,"first"),this.fbMobilePreviewOnly.startup()):a.destroy(this.fbPreviewContainer);d?this.instagramPreview.placeAt(this.igPreviewContainer):a.destroy(this.igPreviewContainer)},_initPreviewToggle:function(){this.previewToggle=
new p({templateString:this.templateString});this.previewToggle.placeAt(this.domNode,"first");this.previewToggle.startup();a.destroy(this.buttons);a.destroy(this.childButtons)}})})},"mojo/widgets/ads/facebook/view-content/PreviewSwitcher":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/query dijit/_WidgetBase dijit/_TemplatedMixin mojo/widgets/ButtonGroup dojo/text!./templates/PreviewSwitcher.html dojo/text!./templates/ButtonItemBordered.html dojo/text!./templates/ButtonItemUnderlined.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([e,m],{templateString:b,previews:null,childPreviews:null,previewButtons:null,childPreviewButtons:null,postCreate:function(){this.parsePreviews();this.hideAll();this.buildPreviewButtons()},parsePreviews:function(){this.previews=c("[data-preview-label]",this.containerNode)},parseChildPreviews:function(a){this.childPreviews=c("[data-preview-style]",a)},buildPreviewButtons:function(){var a=this.getPreviewButtons();this.previewButtons=new d({options:a,itemTpl:n,
activeClass:"v-buttonGroupBordered--active","class":"margin-bottom--lv4"});f.toggle(this.buttons,"hide",1===this.previews.length);this.previewButtons.placeAt(this.buttons);this.previewButtons.startup();this.previewButtons.on("change",h.hitch(this,"handlePreviewChange"));this.previewButtons.setSelected(a[0].value)},buildChildPreviewTab:function(){var a=this.getChildPreviewButtons();this.childPreviewButtons=new d({options:a,itemTpl:p,activeClass:"v-buttonGroupUnderlined--active","class":"margin-bottom--lv2"});
this.childPreviewButtons.placeAt(this.childButtons);this.childPreviewButtons.startup();this.childPreviewButtons.on("change",h.hitch(this,"handleChildPreviewChange"));this.childPreviewButtons.setSelected(a[0].value)},handlePreviewChange:function(){this.hideAll();this.resetChildPreviews();this.previews.forEach(h.hitch(this,function(a){this.previewButtons.value===a.dataset.previewLabel.toLowerCase()&&(this.parseChildPreviews(a),f.remove(a,"hide"),this.childPreviews&&1<this.childPreviews.length&&this.buildChildPreviewTab())}))},
handleChildPreviewChange:function(){this.childPreviews.forEach(h.hitch(this,function(a){f.toggle(a,"hide",this.childPreviewButtons.value!==a.dataset.previewStyle.toLowerCase())}))},hideAll:function(){this.previews.addClass("hide")},resetChildPreviews:function(){this.childPreviews=null;a.empty(this.childButtons)},getPreviewButtons:function(){return this.getButtonItemsFromArray(this.getUniqueValuesFromNodes(this.previews,"previewLabel"))},getChildPreviewButtons:function(){return this.getButtonItemsFromArray(this.getUniqueValuesFromNodes(this.childPreviews,
"previewStyle"))},getButtonItemsFromArray:function(a){return k.map(a,h.hitch(this,function(a){return{value:a.toLowerCase(),label:a}}))},getUniqueValuesFromNodes:function(a,b){var c=[];a.forEach(h.hitch(this,function(a){a=a.dataset[b];-1===k.indexOf(c,a)&&c.push(a)}));return c}})})},"mojo/widgets/ads/facebook/view-content/FacebookPreviewDesktop":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style ./_ContentPreviewMixin dojo/text!./templates/FacebookPreviewDesktop.html".split(" "),
function(l,k,h,f,a,c){return l([a],{templateString:c,baseClass:"c-facebookDesktopPreview",platform:"facebook",device:"desktop",startingAdPosition:0,transitionAmount:0,PARTIALTRANSITION:218,FULLTRANSITION:306,getSeeMoreMarkup:function(a){return k.replace(this.tplSeeMore.innerHTML,a)},_handleButtonMouseEnter:function(){h.add(this.previousButton,"c-fbAdCarousel_button--hover");h.add(this.nextButton,"c-fbAdCarousel_button--hover")},_handleButtonMouseLeave:function(){h.remove(this.previousButton,"c-fbAdCarousel_button--hover");
h.remove(this.nextButton,"c-fbAdCarousel_button--hover")},_shiftCarouselContainer:function(a,c){f.set(a,"transform","translateX(-"+c+"px)")},_adjustButtonSizes:function(){h.toggle(this.nextButton,"c-fbAdCarousel_button--large",this._isBeginningOfCarousel());h.toggle(this.previousButton,"c-fbAdCarousel_button--large",this._isEndOfCarousel())},_isBeginningOfCarousel:function(){return 0===this.startingAdPosition},_isEndOfCarousel:function(){return this.startingAdPosition===this.numberOfAttachments},
_shiftCarouselForward:function(){this.startingAdPosition++;this.transitionAmount+=1===this.startingAdPosition||this._isEndOfCarousel()?this.PARTIALTRANSITION:this.FULLTRANSITION;this.startingAdPosition<=this.numberOfAttachments&&this._shiftCarouselContainer(this.contentContainer,this.transitionAmount);this._adjustButtonSizes();h.remove(this.previousButton,"hide");h.toggle(this.nextButton,"hide",this._isEndOfCarousel())},_shiftCarouselBack:function(){this.startingAdPosition--;this.transitionAmount-=
0===this.startingAdPosition||this.startingAdPosition===this.numberOfAttachments-1?this.PARTIALTRANSITION:this.FULLTRANSITION;0<=this.startingAdPosition&&this._shiftCarouselContainer(this.contentContainer,this.transitionAmount);this._adjustButtonSizes();h.remove(this.nextButton,"hide");h.toggle(this.previousButton,"hide",this._isBeginningOfCarousel())}})})},"mojo/widgets/ads/facebook/view-content/_ContentPreviewMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ViewContentSlat.html".split(" "),
function(l,k,h,f,a,c,e,m){return l([a,c,e],{templateString:m,hasAttachments:this.has_attachments,platform:null,device:null,defaultName:"Your Page Name Goes Here",defaultAvatar:"/images/ads/default-profile-avatar.jpg",postMixInProperties:function(){this._formatData()},postCreate:function(){this._buildTemplate();this.toggleCarouselControls();this._handleCarousel();"facebook"===this.platform&&this._setPageName(this.device)},_buildTemplate:function(){var a=[],b=this;this.content.forEach(function(c,e){var f=
k.mixin({},{adIndex:e,imageUrl:c.imageUrl,linkUrl:c.linkUrl.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],title:c.name,description:c.description,callToActionButton:b.handleCTABookTravel(c.callToAction)});a+=b.getContentMarkup(f)});1<this.content.length&&"desktop"===this.device&&(a+=this.getSeeMoreMarkup(k.mixin({},{pageAvatar:this.page.iconUrl,pageName:this.page.name,seeMoreLink:this.seeMoreLink})));f.place(a,this.contentContainer)},toggleCarouselControls:function(){h.toggle(this.carouselActions,
"hide",!this.hasAttachments)},toggleActiveClass:function(a,b,c){c=c||"hide";a.forEach(function(a,d){h.toggle(a,c,d!==+b)})},handleCTABookTravel:function(a){return"BOOK_TRAVEL"===a?"Book Now":a.toLowerCase().replace("_"," ")},_handleCarousel:function(){},_setPageName:function(a){var b=this.page.name;f.place(""===this.message?'\x3cb class\x3d"c-fbPage_name c-fblink c-fblink--'+a+' margin--lv0"\x3e'+b+'\x3c/b\x3e shared a \x3ca class\x3d"c-fblink c-fblink--'+a+'"\x3elink\x3c/a\x3e.':'\x3cb class\x3d"c-fbPage_name c-fblink c-fblink--'+
a+' margin--lv0"\x3e'+b+"\x3c/b\x3e",this.pageName)},getContentMarkup:function(a){return k.replace(this.hasAttachments?this.tplCarouselAd.innerHTML:this.tplSingleAd.innerHTML,a)},getMarkup:function(a,b){return k.replace(a.innerHTML,b)},_formatData:function(){this.message||(this.message="");this.hasContent&&this.content.forEach(function(a){a.description||(a.description="")});this._setPageDefaults()},_setPageDefaults:function(){var a=this.defaultName,b=this.defaultAvatar;this.page||(this.page={name:a,
iconUrl:b,instagramIconUrl:b,instagramHandle:a.toLowerCase().split(" ").join("_")})}})})},"mojo/widgets/ads/facebook/view-content/FacebookPreviewMobile":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style ./_ContentPreviewMixin dojo/text!./templates/FacebookPreviewMobile.html".split(" "),function(l,k,h,f,a,c){return l([a],{templateString:c,baseClass:"c-facebookMobilePreview",platform:"facebook",device:"mobile",toggleCarouselControls:function(){}})})},"mojo/widgets/ads/facebook/view-content/InstagramPreview":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/on dojo/query ./_ContentPreviewMixin dojo/text!./templates/InstagramPreview.html".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([m],{templateString:d,baseClass:"c-instagramPreview",platform:"instagram",device:"mobile",postMixInProperties:function(){this.inherited(arguments);this._truncateMessage()},_buildTemplate:function(){var a=this,c=this.content,d=100*this.numberOfAttachments,e=this.getMarkup(this.tplImageSingle,this.content[0]),m=[],l=[],u=[],w=[];c.forEach(function(c,d){var e=0===d,e=k.mixin({},{data:c,index:d,hiddenClass:e?"":"hide",selectedClass:e?"":"c-igAdCarousel_bullet--deselected",
callToActionButton:a.handleCTABookTravel(""===c.callToAction?"Learn More":c.callToAction)});m+=a.getMarkup(a.tplImageContent,e);l+=a.getMarkup(a.tplButtonContent,e);u+=a.getMarkup(a.tplBulletNode,e);w+=a.getMarkup(a.tplTitleContent,e)});1<this.numberOfAttachments?(h.place(w,this.contentMessages,"after"),h.place(m,this.contentImages),f.set(this.contentImages,"width",d+"%"),h.place(u,this.carouselBullets)):h.place(e,this.contentImages);h.place(l,this.contentButtons)},_truncateMessage:function(){var a=
this.hasAttachments?145:130;this.message.length>a&&(this.message=this.message.substr(0,a)+" ... more");return this.message},_handleCarousel:function(){var b=this,d=0,h;c(this.carouselActions,c.selector("[data-button-action]","click"),function(c){c=a.get(c.target,"data-button-action");var k=b.content.length,m=e("[data-button-node]"),l=e("[data-title-node]"),w=e("[data-bullet-node]");switch(c){case "next":d++;d=d<=k-1?d:d=0;break;case "previous":d--;d=0>d?d=k-1:d;break;default:throw Error("This button action "+
c+" is not available. Must be next or previous");}h=d/k*100;f.set(b.contentImages,"transform","translateX(-"+h+"%)");b.toggleActiveClass(m,d);b.toggleActiveClass(l,d);b.toggleActiveClass(w,d,"c-igAdCarousel_bullet--deselected")})}})})},"mojo/widgets/ads/mobile-checklist/TermsOfServiceSlat":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-attr dojo/request dojo/dom-construct dojo/request/xhr mojo/url ./_EventAdapterMixin dijit/_TemplatedMixin dojo/text!./templates/TermsOfServiceSlat.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([d,b],{templateString:n,postEndpoint:"/accept-terms",postMixInProperties:function(){this.postEndpoint="ads/"+this.campaignType+"/"+this.postEndpoint},postCreate:function(){this._initTermsOfServiceRequest()},_initTermsOfServiceRequest:function(){a.get(m.toUrl("/ads/tos",{id:this.id}),{handleAs:"text"}).then(function(a){c.place(a,this.tosContainer);h("#fbTos a",this.tosContainer).forEach(function(a){f.set(a,"target","_blank")});this.onLoaded()}.bind(this),function(a){throw Error("An error occurred retrieving Terms of Service");
})},_acceptTos:function(){e.post(m.toUrl(this.postEndpoint),{handleAs:"json"}).then(k.hitch(this,"_onPostResponse"))},_onPostResponse:function(a){switch(a.status){case "success":this.onDone(a);break;default:throw Error("Unknown TOS response state "+a.status);}},__save:function(){this._acceptTos()},__cancel:function(){},__back:function(){}})})},"mojo/widgets/ads/mobile-checklist/_SlatMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/request mojo/url mojo/user dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(l,k,h,f,a,c,e){return l([c,e],{templateString:'\x3cdiv class\x3d"padding--lv3" data-dojo-attach-point\x3d"slatContainer"\x3e',campaignType:null,campaignUniqueId:null,enabled:!0,slatName:"",router:null,postCreate:function(){this._getSlatConfig().checklistItem?this._initChecklistItem():this._initGenericChecklistItem()},postMixInProperties:function(){this._validateProps();this._validateCalledSlat()},actionSave:function(){this._getSlatConfig().checklistItem?this.slat.handleSave():this.slat.__save()},
actionBack:function(){},_notifyRouterSlatLoaded:function(){this.router.handleSlatLoaded()},_notifyRouterSlatSaveSuccessful:function(a){this.router.handleSlatSaveSuccessful(a)},_notifyRouterSlatSaveFailed:function(){this.router.handleSlatSaveFailed()},_notifyRouterExpiredSession:function(){this.router.handleExpiredSession()},_notifyRouterOpenFileBrowse:function(){this.router.handleOpenFileBrowse()},_initChecklistItem:function(){h.get(f.toUrl("/ads/checklist",{id:this.campaignUniqueId,itemId:this.slatName}),
{handleAs:"json"}).then(k.hitch(this,"_handleChecklistItemResponse"),function(a){throw Error("An error occurred retrieving Checklist Item");})},_initGenericChecklistItem:function(){this.slat=new (this._getSlatConfig().widget)({id:this.campaignUniqueId,campaignType:this.campaignType,slatName:this.slatName,onLoaded:k.hitch(this,"_notifyRouterSlatLoaded"),onDone:k.hitch(this,"_notifyRouterSlatSaveSuccessful"),onDoneWithError:k.hitch(this,"_notifyRouterSlatSaveFailed")});this.slat.placeAt(this.slatContainer);
this.slat.startup()},_handleChecklistItemResponse:function(a){this.slat=new (this._getSlatConfig().widget)({actionBarEnabled:!1,onPostSuccess:k.hitch(this,"_notifyRouterSlatSaveSuccessful"),onPostErrorFeedbackGiven:k.hitch(this,"_notifyRouterSlatSaveFailed")});this.slat.placeAt(this.slatContainer);this.slat.startup();this.slat.setData(a.data);this._notifyRouterSlatLoaded()},_getSlatConfig:function(){return this.slatConfig[this.slatName]},_validateProps:function(){if(!this.campaignType)throw Error("campaignType name undeclared. It is required.");
if(!1===this.enabled)throw Error("The '"+this.campaignType+"' campaign type is not currently enabled.");if(!this.campaignUniqueId)throw Error("campaignUniqueId name undeclared. It is required.");},_validateCalledSlat:function(){if(!this.slatName)throw Error("slatName name undeclared. It is required.");if(-1===this.__getValidSlatNames().indexOf(this.slatName))throw Error("'"+this.slatName+"' is not a valid slat type for '"+this.campaignType+"' campaigns.");if(-1<this.__getDisabledSlatNames().indexOf(this.slatName))throw Error("the '"+
this.slatName+"' slat type not implemented yet for '"+this.campaignType+"' campaigns.");if(this._getSlatConfig().flag&&!a.flagIsOn(this._getSlatConfig().flag))throw Error("the '"+this.slatName+"' slat type requires the '"+this._getSlatConfig().flag+"' flag to be enabled.");if(this._getSlatConfig().userLevel&&!a.hasRole(this._getSlatConfig().userLevel))throw Error("the '"+this.slatName+"' slat requires the '"+this._getSlatConfig().userLevel+"' user level or higher.");},__getValidSlatNames:function(){throw Error("getValidSlatNames unimplemented by Instance");
},__getDisabledSlatNames:function(){throw Error("getDisabledSlatNames unimplemented by Instance");}})})},"mojo/widgets/ads/mobile-checklist/GoogleSlat":function(){define(["dojo/_base/declare","mojo/widgets/ads/mobile-checklist/_SlatMixin"],function(l,k){return l([k],{campaignType:"google",enabled:!1})})},"mojo/widgets/ads/mobile-checklist/iOSDevice":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","mojo/widgets/ads/mobile-checklist/_DeviceMixin"],function(l,k,h,f){return l([f],
{platformType:"ios",postCreate:function(){this.inherited(arguments);this._initExternalTargetRequest()},_initExternalTargetRequest:function(){h(window,h.selector("a","click"),k.hitch(this,"_handleExternalTargetRequest"))},_handleExternalTargetRequest:function(a){var c=a.target;"_blank"===c.target&&(a.preventDefault(),this.__actionExternalTargetRequested(c.href))},__actionEventRouterReady:function(){window.webkit.messageHandlers.readyToReceiveEvents.postMessage({})},__actionSlatLoaded:function(){window.webkit.messageHandlers.slatLoaded.postMessage({})},
__actionSlatFinished:function(a){window.webkit.messageHandlers.isFinished.postMessage(a)},__actionSlatSaveFailed:function(){window.webkit.messageHandlers.slatSaveFailed.postMessage({})},__actionExpiredSession:function(){window.webkit.messageHandlers.expiredSession.postMessage({})},__actionExternalTargetRequested:function(a){window.webkit.messageHandlers.externalTargetRequested.postMessage(a)},__actionOpenFileBrowse:function(){}})})},"mojo/widgets/ads/facebook/ExtendBudgetSlat":function(){define("dojo/_base/declare dojo/_base/lang dojo/date dojo/date/locale dojo/on dojo/html dojo/dom-class dojo/dom-construct dojo/request dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry mojo/app/placards mojo/url mojo/user mojo/utils dojo/text!./edit-budget/templates/ExtendBudgetSlat.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){return l([b,n,p],{templateString:v,currentEndTime:0,currencySymbol:u.currencySymbol,postCreate:function(){this.endDatePicker.set("value",new Date);this.endDatePicker.constraints.min=new Date;for(var b=(new Date).getHours()+2,c=1;12>=c;c++){var d=m.create("option",{value:c,innerHTML:(10>c?"0":"")+c+":00",selected:c===b%12||12});m.place(d,this.endHour)}11>=b?this.endAM.checked=!0:this.endPM.checked=!0;a(this.duration,"change",k.hitch(this,function(a){w.removeAllErrors(this.domNode);
a=a.target.value;e.toggle(this.dateChooser,"hide","date"!==a);this._updateProjectedTime(a)}));a(this.continue,"click",k.hitch(this,"_handleContinue"))},setData:function(a){this.ad_id=a.ad_id;this.currentEndTime=new Date(1E3*a.end_absolute_time)},_handleContinue:function(){var a=this;w.removeAllErrors(this.domNode);""===this.duration.value&&""===this.budget.value?w.addError(this.errorMessage,"Please make a selection"):this._validateBudget().then(function(b){switch(b.status){case "success":a._loadConfirmationDialog();
break;case "error":w.addError(a.errorMessage,b.errors[Object.keys(b.errors)[0]]);break;default:throw Error("Unknown state "+b.status);}},function(a){throw Error(a);})},_updateProjectedTime:function(a){e.toggle(this.projectedTime,"hide","date"===a||""===a);c.set(this.projectedTime,this._getNewEndTime())},_validateBudget:function(){var a={id:this.ad_id,budget:Number(this.budget.value),end_time:this.duration.value?this._getNewEndTime():null};return d.post(t.toUrl("/ads/post-validate-budget-extension"),
{handleAs:"json",query:a})},_loadConfirmationDialog:function(){var a=this,b=Number(this.budget.value),c=this.duration.value?this._getNewEndTime():null;r.confirmExtension(this.ad_id,b,c).then(function(){window.location=t.toUrl("/ads/finished-sent",{id:a.ad_id})},function(b){w.removeAllErrors(this.domNode);w.addError(a.errorMessage,b.errors[Object.keys(b.errors)[0]])})},_getNewEndTime:function(){function a(b){return f.format(b,{datePattern:"MMM d, y",timePattern:"h:mm a"})}switch(this.duration.value){case "one_week":return a(h.add(this.currentEndTime,
"week",1));case "two_weeks":return a(h.add(this.currentEndTime,"week",2));case "one_month":return a(h.add(this.currentEndTime,"month",1));default:var b=this.endDatePicker.value,c=+this.endHour.value,d=0,d=12===c?this.endPM.checked?0:12:this.endPM.checked?12:0,c=(c+d)%24,b=new Date(+b.getFullYear(),+b.getMonth(),+b.getDate(),c);return a(b)}}})})},"mojo/widgets/ads/facebook/ViewConnectSlat":function(){define("dojo/_base/declare dojo/_base/lang mojo/utils vendor/lodash-amd/filter mojo/widgets/ads/facebook/EditConnectSlat dojo/text!./edit-connect/templates/ViewConnectSlat.html".split(" "),
function(l,k,h,f,a,c){return l([a],{content:c,baseClass:"c-adsPlacementSummary",actionBarEnabled:!1,setData:function(a){this.pages=a.pages;this.channels=a.placements;this._setPageData();this._setDescription();this._initChannels()},_getSelectedPage:function(){return f(this.pages,{selected:!0})[0]},_createChannel:function(a){a.enabled&&a.selected&&this.inherited(arguments)},_setDescription:function(){var a=f(this.channels,{enabled:!0,selected:!0}).map(function(a){return a.label});this.description.innerText=
"Your ad will run on "+h.getCommaListFromArray(a)+"."}})})},"mojo/widgets/ads/checklist/status-bar/AdStatusBar":function(){define(["dojo/_base/declare","mojo/widgets/StatusBar","mojo/widgets/ads/checklist/status-bar/AdStatusBarActions"],function(l,k,h){var f=l([k],{ad:null,icon:{classes:"c-channelIcon c-channelIcon--ad"},_createBadgeOptions:function(){this.inherited(arguments);this.badgeOptions.partialRejected={type:"warning",label:"Some rejected"};this.badgeOptions.lapsedBilling={type:"error",label:"Lapsed billing"};
this.badgeOptions.noConnectedSite={type:"error",label:"No connected site"};this.badgeOptions.compliance={type:"error",label:"Compliance"};this.badgeOptions.canceled={type:"error",label:"Canceled"};this.badgeOptions.canceledByFacebook={type:"error",label:"Canceled"}},_createActionOptions:function(){this.actionOptions.draft=[this.actions.finishLater,this.actions.submitAd];this.actionOptions.pending=[this.actions.endAd];this.actionOptions.scheduled=[this.actions.endAd];this.actionOptions.active=[this.actions.combo,
this.actions.viewReport];this.actionOptions.paused=[this.actions.resumeAd];this.actionOptions.rejected=[this.actions.endAd,this.actions.submitAd];this.actionOptions.completed=[this.actions.viewReport];this.actionOptions.partialRejected=[this.actions.finishLater,this.actions.submitAd];this.actionOptions.lapsedBilling=[this.actions.viewReport];this.actionOptions.compliance=[this.actions.viewReport];this.actionOptions.noConnectedSite=[];this.actionOptions.canceled=[this.actions.replicateAd,this.actions.viewReport];
this.actionOptions.canceledByFacebook=[this.actions.replicateAd,this.actions.viewReport]},_createActions:function(){this.actions=new h({status:this.status,ad:this.ad})},_getStatusName:function(){switch(this.status.name){case "active":return this.ad.needsAttention?"partialRejected":this.status.name;case "paused":return"billing"===this.status.reason?"lapsedBilling":"no_connected_site"===this.status.reason?"noConnectedSite":this.status.name;default:return this.ad.hasBeenCanceledByFacebook?"canceledByFacebook":
this.ad.hasBeenCanceled?"canceled":this.status.name}}}),a=null;return{_getAdStatusBar:function(c){a&&a.destroyRecursive();a=new f(c);a.startup();return a},render:function(a,e){return this._getAdStatusBar(a).render(a,e)}}})},"mojo/widgets/ads/checklist/status-bar/AdStatusBarActions":function(){define("dojo/_base/declare dojo/dom-attr dojo/dom-class mojo/user mojo/utils mojo/widgets/StatusBarActions dojo/text!./templates/AdStatusBarActions.html".split(" "),function(l,k,h,f,a,c,e){return l([c],{templateString:e,
ad:null,isPlural:"",postMixInProperties:function(){this.inherited(arguments);this.isPlural=a.plural("google"===this.ad.type?5:1,"")},postCreate:function(){this.inherited(arguments);var c=a.plural("google"===this.ad.type?5:1," Ad"),d="draft"===this.status.name?"Submit"+c:"Resubmit"+c,b="Replicate"+c,e="End"+c,c="Resume"+c;this._setActionName(this.replicateAd,b);this._setActionName(this.comboEndAd,e);this._setActionName(this.comboReplicateAd,b);this._setActionName(this.submitAd,d);(4>this.ad.progress||
this.ad.hasFeedback||!f.hasRole("manager"))&&k.set(this.submitAd,"disabled","true");"rejected"===this.status.name&&(h.remove(this.submitAd,"margin-left--auto !margin-right--lv0"),h.add(this.submitAd,"margin--lv0@phone"));this._setActionName(this.resumeAd,c);this._setActionName(this.endAd,e);this.ad.hasBeenPublished||h.add(this.viewReport,"hide")}})})},"mojo/widgets/account/connected-sites/FilterList":function(){define("dojo/_base/declare dojo/on dojo/topic dojo/query dojo/dom-class dojo/_base/lang dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin".split(" "),
function(l,k,h,f,a,c,e,m,d){var b=l([e,m,d],{templateString:"\x3cli\x3e\x3ca data-dojo-attach-point\x3d'displayTextNode'\x3e\x3c/a\x3e\x3c/li\x3e",category:null,displayText:"",_setDisplayTextAttr:{node:"displayTextNode",type:"innerHTML"},selected:!1,_setSelectedAttr:function(b){b&&!this.selected?a.add(this.domNode,"selected"):!b&&this.selected&&a.remove(this.domNode,"selected");this._set("selected",b)}});return l([e,m,d],{templateString:"\x3cul class\x3d'regular'\x3e\x3c/ul\x3e",filters:[],selectedFilter:null,
_setSelectedFilterAttr:function(a){this.selectedFilter&&this.selectedFilter.set("selected",!1);this._set("selectedFilter",a)},_setActiveFilter:function(a){!1===a.get("selected")&&(a.set("selected",!0),this.set("selectedFilter",a),h.publish("filter/store-selection",a.category))},_createFilterItem:function(a){a=b({displayText:a.displayText,category:a.category,selected:!1});k(a.domNode,"click",this._setActiveFilter.bind(this,a));a.placeAt(this.domNode);return a},postCreate:function(){var a=this._createFilterItem(this.filters[0]);
this.filters.slice(1).map(this._createFilterItem.bind(this));this._setActiveFilter(a)}})})},"mojo/widgets/account/connected-sites/MCJsTermsDialog":function(){define("dojo/_base/declare dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/MCJsTermsDialog.html dojo/text!./templates/MCJsPausedPopups.html dojo/request/xhr mojo/user mojo/lib/flags mojo/widgets/Dialog mojo/url".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){return l([h,f],{templateString:m.flagIsOn(d.SITES_TOS_FEATURE_PAUSES)?
c:a,dialog:null,show:function(){this.dialog=new b({closable:!1,"class":"dijitDialog--fullScreen@phone",title:"Please Accept New Terms",content:this});k(this.acceptButton,"click",this._accept.bind(this));!1===m.flagIsOn(d.SITES_TOS_FEATURE_PAUSES)&&k(this.declineButton,"click",this._decline.bind(this));this.dialog.startup();this.dialog.show()},_accept:function(){var a=this;e.post(n.toUrl("/account/connected-sites/accept-terms"),{handleAs:"json"}).then(function(b){b.success&&a.dialog.hide()})},_decline:function(){var a=
this;e.post(n.toUrl("/account/connected-sites/decline-terms-and-pause-features"),{handleAs:"json"}).then(function(b){b.success&&a.dialog.hide()})}})})},"mojo/widgets/account/connected-sites/PlatformsList":function(){define("dojo/_base/declare dojo/_base/lang velocity/velocity dojo/dom-attr dojo/Deferred vendor/lodash-amd/isEqual dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/PlatformsList.html mojo/widgets/NoDataBlock mojo/widgets/account/connected-sites/PlatformsListItem".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){var q=l([e,m,d],{templateString:"\x3cdiv class\x3d'margin-bottom--lv8'\x3e\x3ch4 data-dojo-attach-point\x3d'displayTextNode'\x3e\x3c/h4\x3e\x3cdiv data-dojo-attach-point\x3d'listContainerNode' class\x3d'select-platform-section'\x3e\x3c/div\x3e\x3c/div\x3e",platforms:null,_setPlatformsAttr:function(a){this._renderPlatforms(a,this.listContainerNode);this._set("platforms",a)},displayText:null,_setDisplayTextAttr:{node:"displayTextNode",type:"innerText"},_renderPlatforms:function(a,
b){a.map(function(a){(new p(a)).placeAt(b)})}});return l([e,m,d],{templateString:b,sectionContainerNode:null,noResultsContainerNode:null,noDataBlockNode:null,hasRenderedOnce:!1,platforms:null,_setPlatformsAttr:function(a){if(this.hasRenderedOnce){if(c(a,this.platforms))return;this._renderPlatformsWithAnimation(a)}else this._renderPlatformSections(a,this.sectionContainerNode);this.set("hasRenderedOnce",!0);this._set("platforms",a)},postCreate:function(){(new n({type:"default",title:"No results",message:"We couldn't find any integrations matching your search. \x3cbr /\x3eTry \x3ca href\x3d'#other'\x3econnecting a custom website\x3c/a\x3e, or see our \x3ca target\x3d'_blank' href\x3d'https://connect.mailchimp.com/'\x3elist of available integrations\x3c/a\x3e."})).placeAt(this.noDataBlockNode)},
_renderPlatformSections:function(a,b){var c={};this.filters.map(function(a){""!==a.category&&(c[a.category]={displayText:a.displayText,platforms:[]})});a.map(function(a){a.category in c&&c[a.category].platforms.push(a)});Object.keys(c).map(k.hitch(this,function(a){0<c[a].platforms.length&&(new q(c[a])).placeAt(this.sectionContainerNode)}))},_fadeIn:function(b){var c=new a;h(b,"transition.slideUpIn",{duration:100,complete:c.resolve});return c},_fadeOut:function(b){var c=new a;h(b,"transition.slideDownOut",
{duration:100,complete:function(){return c.resolve()}});return c},_renderPlatformsWithAnimation:function(a){this._fadeOut(this.sectionContainerNode).then(k.hitch(this,function(){0===a.length?this.sectionContainerNode.innerHTML=this.noResultsContainerNode.innerHTML:(this.sectionContainerNode.innerHTML="",this._renderPlatformSections(a,this.sectionContainerNode));this._fadeIn(this.sectionContainerNode)}))}})})},"vendor/lodash-amd/isEqual":function(){define(["./_baseIsEqual"],function(l){return function(k,
h){return l(k,h)}})},"mojo/widgets/account/connected-sites/PlatformsListItem":function(){define("dojo/_base/declare dojo/router dojo/on dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/PlatformsListItem.html".split(" "),function(l,k,h,f,a,c,e){return l([f,a,c],{templateString:e,identifier:null,_setIdentifierAttr:{node:"platformImage",type:"attribute",attribute:"alt"},displayName:"",_setDisplayNameAttr:{node:"platformName",type:"innerHTML"},logoPath:"",_setLogoPathAttr:{node:"platformImage",
type:"attribute",attribute:"src"},postMixInProperties:function(){this.logoPath="/images/third-party-logos/"+this.identifier+"-icon.svg"},_viewInstructions:function(){k.go(this.identifier)},postCreate:function(){this.own(h(this.domNode,"click",this._viewInstructions.bind(this)))}})})},"mojo/widgets/account/connected-sites/StoreSelectionManager":function(){define("dojo/_base/declare dojo/topic dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/StoreSelectionManager.html mojo/widgets/FilteredSearch mojo/widgets/account/connected-sites/PlatformsList mojo/widgets/account/connected-sites/FilterList".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([h,f,a],{templateString:c,platformsListNode:null,filteredSearchNode:null,selectedCategory:null,_setSelectedCategoryAttr:function(a){this._updatePlatformsList(this.searchString,a,this.platforms);this._set("selectedCategory",a)},searchString:null,_setSearchStringAttr:function(a){this._updatePlatformsList(a,this.selectedCategory,this.platforms);this._set("searchString",a)},platforms:[],filters:[],platformsListWidget:null,_filterByCategory:function(a,c){return a&&
""!==a&&"all"!==a?c.filter(function(c){return c.category.toLowerCase()===a.toLowerCase()}):c},_filterBySearchString:function(a,c){var d=new RegExp("^.*"+a+".*$","i");return a&&""!==a?c.filter(function(a){return d.test(a.displayName)||d.test(a.identifier)}):c},_updatePlatformsList:function(a,c,d){c=this._filterByCategory(c,d);a=this._filterBySearchString(a,c);this.platformsListWidget.set("platforms",a)},_handleSearchEvent:function(a){this.set("searchString",a)},_handleFilterEvent:function(a){this.set("selectedCategory",
a)},postCreate:function(){(new e({placeholder:"Type to search",searchTopic:"platformName",onClear:function(){this._handleSearchEvent("")}.bind(this)})).placeAt(this.filteredSearchNode);(new d({filters:this.filters})).placeAt(this.filterListNode);this.searchHandler=k.subscribe("search/platformName",this._handleSearchEvent.bind(this));this.filterCategoryHandler=k.subscribe("filter/store-selection",this._handleFilterEvent.bind(this));this.platformsListWidget=new m({platforms:this.platforms,filters:this.filters});
this.platformsListWidget.placeAt(this.platformsListNode)},destroy:function(){this.searchHandler.remove();this.filterCategoryHandler.remove()}})})},"mojo/widgets/account/connected-sites/instructions/AppInstructionsManager":function(){define("dojo/_base/declare dojo/topic dojo/on dojo/router dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/widgets/account/connected-sites/instructions/BeforeYouStart mojo/widgets/account/connected-sites/instructions/FeaturesList mojo/widgets/account/connected-sites/instructions/HelpLinks mojo/widgets/account/connected-sites/instructions/ConnectionDetails mojo/widgets/account/connected-sites/instructions/InstallationSteps mojo/widgets/account/connected-sites/instructions/InstallDifficulty mojo/widgets/account/connected-sites/instructions/InstallationImages mojo/widgets/account/connected-sites/instructions/ManualConnection dojo/text!./templates/AppInstructionsManager.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([a,c,e],{templateString:u,leftContainerNode:null,rightContainerNode:null,backLinkNode:null,instructionData:null,pusherChannelName:null,_viewSelectionPage:function(){f.go("")},postCreate:function(){this.own(h(this.backLinkNode,"click",this._viewSelectionPage));(new n({title:this.instructionData.name,description:this.instructionData.description,logo:this.instructionData.logoUrl,pusherChannelName:this.pusherChannelName,appInstallUrl:this.instructionData.appInstallUrl})).placeAt(this.leftContainerNode);
(new m({listItems:this.instructionData.beforeYouStart})).placeAt(this.leftContainerNode);this.instructionData.installImagesUrls&&0<this.instructionData.installImagesUrls.length&&(new r({imageUrls:this.instructionData.installImagesUrls})).placeAt(this.leftContainerNode);(new p({listItems:this.instructionData.installationSteps})).placeAt(this.leftContainerNode);"manual"===this.connectionType&&(new t({platform:this.instructionData.identifier})).placeAt(this.leftContainerNode);(new d({listItems:this.instructionData.features})).placeAt(this.rightContainerNode);
(new q({level:this.instructionData.levelOfDifficulty.level,description:this.instructionData.levelOfDifficulty.description})).placeAt(this.rightContainerNode);(new b({linkObjects:this.instructionData.knowledgeBaseArticles})).placeAt(this.rightContainerNode)}})})},"mojo/widgets/account/connected-sites/instructions/BeforeYouStart":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-geometry dojo/dom-construct dojo/dom-class dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/BeforeYouStart.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([e,m,d],{templateString:b,listItems:null,showAll:!1,_setShowAllAttr:function(a){a?(this._renderAllItems(),this.toggleMoreNode.innerHTML="Less\x3cspan class\x3d'freddicon menu-up'\x3e\x3c/span\x3e"):(this._renderFirstItem(),this.toggleMoreNode.innerHTML="More\x3cspan class\x3d'freddicon menu-down'\x3e\x3c/span\x3e");this._set("showAll",!!a)},postCreate:function(){this._renderFirstItem();1<this.listItems.length&&(c.remove(this.toggleMoreNode,"display--none"),this.own(h(this.toggleMoreNode,
"click",k.hitch(this,function(){this.set("showAll",!this.showAll)}))))},_renderSingleItem:function(b){var c=a.create("li");c.innerHTML=b;a.place(c,this.beforeListNode)},_renderFirstItem:function(){0<this.listItems.length&&(a.empty(this.beforeListNode),this._renderSingleItem(this.listItems[0]))},_renderAllItems:function(){a.empty(this.beforeListNode);this.listItems.map(this._renderSingleItem.bind(this))}})})},"mojo/widgets/account/connected-sites/instructions/FeaturesList":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/FeaturesList.html".split(" "),
function(l,k,h,f,a,c,e){return l([f,a,c],{templateString:e,featuresListNode:null,listItems:null,postCreate:function(){this._renderListItems()},_renderItem:function(a){var c=k.create("li");h.add(c,"margin-bottom--lv1");c.innerHTML="\x3cspan class\x3d'freddicon tick-circle v-textColorGreen'\x3e\x3c/span\x3e\x3cspan class\x3d'margin-left--lv2'\x3e"+a+"\x3c/span\x3e";k.place(c,this.featuresListNode)},_renderListItems:function(){this.listItems.map(this._renderItem.bind(this))}})})},"mojo/widgets/account/connected-sites/instructions/HelpLinks":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/HelpLinks.html".split(" "),
function(l,k,h,f,a,c,e){return l([f,a,c],{templateString:e,helpLinksNode:null,linkObjects:null,postCreate:function(){this._renderListItems()},_renderItem:function(a){var c=k.create("li"),b=k.create("p",{"class":"margin-bottom--lv0"}),e=k.create("a",{href:a.url,target:"_blank"});e.innerHTML=a.title;k.place(e,b);k.place(b,c);k.place(c,this.helpLinksNode)},_renderListItems:function(){this.linkObjects.map(this._renderItem.bind(this))}})})},"mojo/widgets/account/connected-sites/instructions/ConnectionDetails":function(){define("dojo/_base/declare dojo/_base/lang dojo/request/xhr dojo/on dojo/topic dojo/dom-class mojo/url mojo/user mojo/Pusher mojo/lib/flags dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ConnectionDetails.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([n,p,q],{templateString:r,titleNode:null,logoNode:null,descriptionNode:null,connectButtonNode:null,inProgressNode:null,termsNode:null,title:null,_setTitleAttr:{node:"titleNode",type:"innerHTML"},description:null,_setDescriptionAttr:{node:"descriptionNode",type:"innerHTML"},logo:null,_setLogoAttr:{node:"logoNode",type:"attribute",attribute:"src"},appInstallUrl:null,_setAppInstallUrlAttr:{node:"connectButtonNode",type:"attribute",attribute:"href"},postCreate:function(){this.appInstallUrl||
(c.add(this.connectButtonNode,"display--none"),c.add(this.termsNode,"display--none"));this.own(f(this.connectButtonNode,"click",this._handleConnectClick.bind(this)))},_displayWaiting:function(){c.add(this.connectButtonNode,"disabled");c.add(this.connectButtonNode,"button-loading");c.remove(this.connectButtonNode,"p1");c.remove(this.inProgressNode,"display--none");this.connectButtonNode.innerText="Waiting for connection"},_listenForPusher:function(){d.load().then(k.hitch(this,function(a){a.subscribe(this.pusherChannelName).bind("connection-status",
function(a){a.status&&"completed"===a.status&&(m.flagIsOn(b.CONNECTED_SITE_SURVEY_EMAIL)&&h(e.toUrl("/account/connected-sites/send-site-connected-email")),window.location=e.toUrl("/account/connected-sites/connection-success"))})}))},_acceptTerms:function(){h(e.toUrl("/account/connected-sites/accept-terms"))},_handleConnectClick:function(){this._acceptTerms();this._displayWaiting();this._listenForPusher()}})})},"mojo/widgets/account/connected-sites/instructions/InstallationSteps":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-geometry dojo/dom-construct dojo/dom-class dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/InstallationSteps.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([e,m,d],{templateString:b,listItems:null,showAll:!1,_setShowAllAttr:function(a){a?(this._renderAllItems(),this.toggleMoreNode.innerHTML="Less\x3cspan class\x3d'freddicon menu-up'\x3e\x3c/span\x3e"):(this._renderFirstItem(),this.toggleMoreNode.innerHTML="More\x3cspan class\x3d'freddicon menu-down'\x3e\x3c/span\x3e");this._set("showAll",!!a)},postCreate:function(){this._renderFirstItem();1<this.listItems.length&&(c.remove(this.toggleMoreNode,"display--none"),this.own(h(this.toggleMoreNode,
"click",k.hitch(this,function(){this.set("showAll",!this.showAll)}))))},_renderSingleItem:function(b){var c=a.create("li");c.innerHTML=b;a.place(c,this.stepsListNode)},_renderFirstItem:function(){0<this.listItems.length&&(a.empty(this.stepsListNode),this._renderSingleItem(this.listItems[0]))},_renderAllItems:function(){a.empty(this.stepsListNode);this.listItems.map(this._renderSingleItem.bind(this))}})})},"mojo/widgets/account/connected-sites/instructions/InstallDifficulty":function(){define(["dojo/_base/declare",
"dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/text!./templates/InstallDifficulty.html"],function(l,k,h,f,a){return l([k,h,f],{templateString:a,levelNode:null,descriptionNode:null,level:null,_setLevelAttr:{node:"levelNode",type:"innerText"},description:null,_setDescriptionAttr:{node:"descriptionNode",type:"innerText"}})})},"mojo/widgets/account/connected-sites/instructions/InstallationImages":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-style dojo/on dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/InstallationImages.html".split(" "),
function(l,k,h,f,a,c,e,m,d){var b=l([c,e,m],{templateString:"\x3cdiv class\x3d'install-image-thumbnail-container'\x3e\x3cdiv class\x3d'install-thumbnail-image' data-dojo-attach-point\x3d'imageNode'\x3e\x3c/div\x3e\x3c/div\x3e",onClick:function(){},imageUrl:null,_setImageUrlAttr:function(a){f.set(this.imageNode,"background-image","url("+a+")");this._set("imageUrl",a)},selected:!1,_setSelectedAttr:function(a){a&&!this.selected?h.add(this.domNode,"active"):!a&&this.selected&&h.remove(this.domNode,"active");
this._set("selected",a)},postCreate:function(){this.own(a(this.domNode,"click",k.hitch(this,function(){this.onClick(this)})))}});return l([c,e,m],{templateString:d,largeImageConainterNode:null,thumbnailContainerNode:null,imageUrls:[],largeImageUrl:null,_setLargeImageUrlAttr:{node:"largeImageNode",type:"attribute",attribute:"src"},selectedThumbnail:null,_setSelectedThumbnailAttr:function(a){this.selectedThumbnail!==a&&(this.set("largeImageUrl",a.imageUrl),this.selectedThumbnail&&this.selectedThumbnail.set("selected",
!1),a.set("selected",!0),this._set("selectedThumbnail",a))},postCreate:function(){!this.imageUrls||0>=this.imageUrls.length||this.imageUrls.map(k.hitch(this,function(a,c){var d=new b({imageUrl:a,onClick:this.set.bind(this,"selectedThumbnail")});0===c&&this.set("selectedThumbnail",d);d.placeAt(this.thumbnailContainerNode)}))}})})},"mojo/widgets/account/connected-sites/instructions/ManualConnection":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/debounce dojo/request/xhr dojo/dom-construct dojo/dom-class dojo/on dijit/form/Select velocity/velocity mojo/user mojo/url mojo/utils mojo/lib/clipboard mojo/lib/flags mojo/widgets/FeedbackBlock dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ManualConnection.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return l([w,v,y],{templateString:x,platform:null,checkConnectionNode:null,codeSectionNode:null,copyCodeNode:null,createListNode:null,displayCodeNode:null,errorMessageNode:null,getCodeFormNode:null,getCodeNode:null,listSelectNode:null,urlFeedbackNode:null,urlInputNode:null,lists:null,_setListsAttr:function(a){0===a.length?(this.listSelectWidget.set("options",[{label:"No lists",value:""}]),this.listSelectWidget.set("disabled",!0),e.add(this.getCodeNode,
"disabled"),e.remove(this.createListNode,"display--none")):(this.listSelectWidget.set("options",this._formatListsAsOptions(a)),this.listSelectWidget.set("disabled",!1));this.listSelectWidget.reset();this._set("lists",a)},selectedList:null,_setSelectedListAttr:function(a){this._set("selectedList",{name:a.label,id:a.value})},mcScript:null,_setMcScriptAttr:{node:"codeSectionNode",type:"innerText"},errorMessage:null,_setErrorMessageAttr:function(a){c.empty(this.errorMessageNode);null!==a&&(new u({type:"error",
title:a.title,message:a.message})).placeAt(this.errorMessageNode);this._set("errorMessage",a)},constructor:function(){this.listSelectWidget=new d({options:[{label:"Loading...",value:"-1"}],disabled:!0})},postCreate:function(){this.listSelectWidget.placeAt(this.listSelectNode);this.own(m(this.urlInputNode,"keyup",this._handleUrlChange.bind(this)),m(this.listSelectWidget,"change",this._handleListSelect.bind(this)),m(this.getCodeNode,"click",this._handleGetCode.bind(this)),m(this.copyCodeNode,"click",
this._handleCopyCode.bind(this)),m(this.checkConnectionNode,"click",this._handleCheckConnection.bind(this)));this._fetchUserLists().then(this.set.bind(this,"lists"))},_handleUrlChange:function(a){a=a.target.value;a!==this.siteUrl&&(this._hideUrlError(),this.siteUrl=a)},_handleListSelect:function(a){a=this.listSelectWidget._getSelectedOptionsAttr();this.set("selectedList",a)},_handleGetCode:function(a){a.preventDefault();a=this.urlInputNode.value;this._showButtonLoading(this.getCodeNode);this.set("errorMessage",
null);this._validateSiteUrl(a).then(this._handleValidationResponse.bind(this)).then(this._requestManualCode.bind(this,a,this.selectedList,this.platform)).then(this._displayCodeSection.bind(this),function(a){})},_handleCopyCode:function(a){a.preventDefault();a.stopPropagation();if(this.mcScript)try{r.copy(this.mcScript),q.toast("Code copied to clipboard!")}catch(b){q.toast("Error. Please copy using your mouse and keyboard.","error")}},_handleCheckConnection:function(b){b.preventDefault();b.stopPropagation();
this._showButtonLoading(this.checkConnectionNode);this.set("errorMessage",null);this._verifySiteConnection(this.siteId).then(k.hitch(this,function(b){b.verified?(a(p.toUrl("/account/connected-sites/accept-terms")),n.flagIsOn(t.CONNECTED_SITE_SURVEY_EMAIL)&&a(p.toUrl("/account/connected-sites/send-site-connected-email")),window.location=p.toUrl("/account/connected-sites/connection-success")):this._ajaxError({title:"",message:"Uh oh, we couldn't connect your site. Check your code and try again.",button:this.checkConnectionNode})}))},
_handleValidationResponse:function(a){var b=new h;if("false"===a.isValidUrl)return this._showUrlError(a.message),this._removeButtonLoading(this.getCodeNode),b.cancel("Invalid site URL."),b;if(!this.selectedList)return this._ajaxError({title:"No list",message:"Uh oh! Looks like you haven't selected a list to connect.",button:this.getCodeNode}),b.cancel("No list selected."),b;b.resolve();return b},_showUrlError:function(a){e.add(this.urlFeedbackNode,"invalid-error");this.urlFeedbackNode.innerHTML=a},
_hideUrlError:function(){e.remove(this.urlFeedbackNode,"invalid-error");this.urlFeedbackNode.innerText=""},_showButtonLoading:function(a){e.add(a,"button-loading");e.add(a,"disabled")},_removeButtonLoading:function(a){e.remove(a,"button-loading");e.remove(a,"disabled")},_displayCodeSection:function(a){this._removeButtonLoading(this.getCodeNode);this.set("mcScript",a.code);this.set("siteId",a.siteId);b(this.getCodeFormNode,"transition.slideUpOut",{duration:250,complete:function(){b(this.displayCodeNode,
"transition.slideDownIn",{duration:250})}.bind(this)})},_verifySiteConnection:function(b){var c=new h;a.get(p.toUrl("/account/connected-sites/check-connection?site_id\x3d"+b),{handleAs:"json"}).then(function(a){c.resolve(a)},k.hitch(this,function(a){this._ajaxError({title:"Verification failed.",message:a.response.data.error,button:this.checkConnectionNode});c.reject(a)}));return c},_requestManualCode:function(b,c,d){var e=new h;a.get(p.toUrl("/account/connected-sites/generate-manual-site?site_url\x3d"+
b+"\x26platform\x3d"+d+"\x26list_id\x3d"+c.id+"\x26list_name\x3d"+c.name),{handleAs:"json"}).then(function(a){e.resolve(a)},k.hitch(this,function(a){this._ajaxError({title:"Unable to retrieve code.",message:a.response.data.error,button:this.getCodeNode});e.reject(a)}));return e},_validateSiteUrl:function(b){var c=new h;a.get(p.toUrl("/account/connected-sites/is-valid-url?platform\x3dother\x26site-url\x3d"+b),{handleAs:"json"}).then(function(a){c.resolve(a)},function(a){c.reject(a)});return c},_fetchUserLists:function(){var b=
new h;a.get(p.toUrl("/account/connected-sites/get-lists",{}),{handleAs:"json"}).then(function(a){b.resolve(a)},function(a){b.reject(a)});return b},_formatListsAsOptions:function(a){return a.map(function(a){return{label:a.list_name,value:a.list_id}})},_ajaxError:function(a){this.set("errorMessage",{title:a.title,message:a.message});a.button&&this._removeButtonLoading(a.button)}})})},"mojo/app/Avatar":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/xhr dijit/_Widget dijit/_Templated dojo/on dojo/dom dojo/dom-class dojo/dom-attr dojo/dom-style dojo/dom-construct dojo/query dojo/sniff mojo/utils mojo/url mojo/ImageEditor dijit/Dialog dojo/text!./templates/avatar.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){return l([f,a],{templateString:v,widgetsInTemplate:!0,avatarSrc:null,postCreate:function(){this.avatarSrc&&(b.set(this.avatar,{backgroundImage:"url("+this.avatarSrc+")"}),d.set(this.avatar,"data-src",this.avatarSrc));d.set(this.avatarForm,"action",t.toUrl("account/profile/avatar-post"));m.toggle(this.editBtn,"hide",!this.hasAvatar);m.toggle(this.removePhotoContainer,"hide",!this.hasAvatar);c(this.uploader,"begin",k.hitch(this,function(){m.remove(this.avatar,
"hide");m.remove(this.uploadingStatus,"hide")}));c(this.uploader,"complete",k.hitch(this,function(a){m.add(this.avatar,"hide");m.add(this.uploadingStatus,"hide");a.error?r.toast(a.error,"error"):this._updateImage(a.url)}));c(this.uploader,"error",k.hitch(this,function(){m.add(this.avatar,"hide");m.add(this.uploadingStatus,"hide");r.toast("Unable to upload image","error")}));navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;
navigator.getMedia&&m.remove(this.takePictureButton,"hide");c(this.takePictureButton,"click",k.hitch(this,function(a){a.preventDefault();this.dialog||(this.dialog=new w({title:"Strike a pose",content:this.cameraContainer,"class":"take-picture-modal-container",onHide:k.hitch(this,function(){this._stopVideoStream();this._resetTakePictureModal()})}));this.dialog.show();this.dialog.startup();m.remove(this.cameraContainer,"hide");var b=this.canvas,d=b.getContext("2d");navigator.getMedia({video:!0},k.hitch(this,
function(a){this.checkForCameraAccessTimeout=setTimeout(k.hitch(this,this._checkForCameraAccess),100);this.video.src=window.URL.createObjectURL(a);this.streamObj=a;this.video.play()}),function(a){a=a&&("PERMISSION_DENIED"==a||a.PERMISSION_DENIED)?"Uh-oh, you denied us access to your webcam.":"Uh-oh, it looks like you don't have a webcam connected.";p(".video-container")[0].innerHTML="\x3cdiv class\x3d'unit size1of1 padding--lv2 feedback-block error'\x3e\x3cp\x3e"+a+"\x3c/p\x3e\x3c/div\x3e"});c(this.snap,
"click",k.hitch(this,function(){m.add(this.video,"hide");d.drawImage(this.video,80,0,480,480,0,0,480,480);m.remove(this.canvas,"hide");m.remove(this.savePicture,"hide");m.remove(this.retakePicture,"hide");m.add(this.snap,"hide")}));c(this.cancelPicture,"click",k.hitch(this,function(a){a.preventDefault();window.clearTimeout(this.checkForCameraAccessTimeout);this.dialog.hide()}));c(this.retakePicture,"click",k.hitch(this,function(){this._resetTakePictureModal();m.remove(this.snap,"hide")}));c(this.savePicture,
"click",k.hitch(this,function(){m.remove(this.savingIndicator,"hide");m.add(this.retakePicture,"hide");m.add(this.savePicture,"hide");m.add(this.cancelPicture,"hide");var a=b.toDataURL("image/png");h.post({url:t.toUrl("account/profile/avatar-from-webcam"),content:{image_data:a},handleAs:"json"}).then(k.hitch(this,function(a){a.error?r.toast("Unable to upload image","error"):this._updateImage(a.image_src);this.dialog.hide()}))}))}));c(this.removePhoto,"click",k.hitch(this,function(a){a.preventDefault();
h.post({url:t.toUrl("account/profile/avatar-remove"),handleAs:"json"}).then(k.hitch(this,function(a){a.error?r.toast("Unable to remove image","error"):this._updateImage(a.image_src,!0)}))}))},_updateImage:function(a,c){b.set(this.avatar,{backgroundImage:"url("+a+")"});d.set(this.avatar,"data-src",a);p(".logged-in-avatar").forEach(function(c){b.set(c,{backgroundImage:"url("+a+")"});d.set(c,"data-src",a)});c?(m.add(this.editBtn,"hide"),m.add(this.removePhotoContainer,"hide")):(m.remove(this.editBtn,
"hide"),m.remove(this.removePhotoContainer,"hide"))},_resetTakePictureModal:function(){m.add(this.retakePicture,"hide");m.add(this.savePicture,"hide");m.add(this.savingIndicator,"hide");m.add(this.canvas,"hide");m.remove(this.video,"hide");m.remove(this.cancelPicture,"hide")},_stopVideoStream:function(){this.video.pause();n.destroy(this.pointerArrow);this.streamObj&&(this.streamObj.stop(),delete this.streamObj);d.remove(this.video,"src")},_checkForCameraAccess:function(){this.allowedWebcam||this.video.src?
(q("ff")||(this.allowedWebcam=!0),n.destroy(this.pointerArrow),m.remove(this.snap,"hide"),m.add(this.loadingContainer,"hide"),this.checkingForCameraAccess=!1):this.checkForCameraAccessTimeout=window.setTimeout(k.hitch(this,this._checkForCameraAccess),100)},_loadAviary:function(){var a=d.get(this.avatar,"data-src");u.open(a,["crop"],{cropPresets:"1:1"}).then(function(a){return h.post({url:t.toUrl("account/profile/aviary-avatar-post"),content:{image_url:a},handleAs:"json"})}).then(k.hitch(this,function(a){a.error?
r.toast("Unable to upload image","error"):this._setAvatarSrc(a.image_src)}))},_setAvatarSrc:function(a){this._setBackground(this.avatar,a);p(".logged-in-avatar").forEach(k.hitch(this,function(b){this._setBackground(b,a)}))},_setBackground:function(a,c){b.set(a,{backgroundImage:"url("+c+")"});d.set(a,"data-src",c)}})})},"mojo/app/lists":function(){define("dojo/parser dojo/dom dojo/dom-attr dojo/query dojo/_base/lang dojo/dom-form dojo/dom-construct dojo/dom-style dojo/request/xhr dojo/fx dojo/Deferred dijit/registry dijit/Dialog dojox/layout/ContentPane dojo/dom-class mojo/utils mojo/url dojo/NodeList-manipulate mojo/widgets/ConfirmInput".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){var v=function(a){f(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return{confirmDeletion:function(a){var b=new q({title:"Are you sure?",onHide:function(){b.destroyRecursive()},"class":"indicateScrolling",onDownloadEnd:function(){v(b)}});b.setHref(w.toUrl("lists/confirm-delete",{id:a.join(",")}));b.show()},combineLists:function(b){var c=new q({title:"Combine List",onHide:function(){c.destroyRecursive()},
onDownloadEnd:function(){var b=1,d=k.byId("combine-with-list");v(c);f(".step1",c.domNode).style("display","");f(".step2",c.domNode).style("display","none");var e=function(){var a="combine-interests-"+d.value;f(".combine-interests").style("display","none");k.byId(a)&&m.set(a,"display","")};f(d).on("change",e);e();f("form",c.domNode).on("submit",function(e){switch(b){case 1:e.stopPropagation();e.preventDefault();f(".step1",c.domNode).style("display","none");f(".step2",c.domNode).style("display","");
e={url:w.toUrl("lists/members/export",{id:h.get("combine-list-id","value")}),name:h.get("combine-list-name","value")};var k={url:w.toUrl("lists/members/export",{id:h.get(d,"value")}),name:d.options[d.selectedIndex].text};f("#list-export-link-1").html(a.replace('\x3ca href\x3d"{url}"\x3eDownload {name}\x3c/a\x3e',e));f("#list-export-link-2").html(a.replace('\x3ca href\x3d"{url}"\x3eDownload {name}\x3c/a\x3e',k));p.byId("combine-list-confirm").active=!0;b++}});c.resize()}});c.setHref(w.toUrl("lists/combine-form",
{id:b}));c.show()},confirmReplication:function(a){var b=new q({title:"Name Your New List",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){f("form",b.domNode).on("submit",function(a){var b=c.toObject(this);b.id&&b.name||(a.stopPropagation(),a.preventDefault())});v(b)}});b.setHref(w.toUrl("lists/confirm-replicate",{id:a}));b.show()},openSubscriberForm:function(c,d){var f=this._subscribeFormId!=c;this.closeSubscriberForm().then(a.hitch(this,function(){if(f){m.set(d,"display","none");
var a=new r({preload:!0,href:w.toUrl("lists/subscribe-form",{id:c})});e.place(a.domNode,d,"only");a.onLoadDeferred.then(function(){b.wipeIn({node:d}).play()});this._subscribeFormId=c;this._subscribeForm=a}else this._subscribeFormId=null}))},closeSubscriberForm:function(){var c=new n;this._subscribeForm?b.wipeOut({node:this._subscribeForm.domNode,onEnd:a.hitch(this,function(){this._subscribeForm.destroyRecursive();this._subscribeFormId=this._subscribeForm=null;c.resolve()})}).play():c.resolve();return c},
subscribe:function(){f(".add-member-form-error").orphan();d.post(w.toUrl("lists/subscribe-form-post"),{handleAs:"json",data:c.toObject("add-member-form")}).then(function(a){k.byId("add-member-form-button").disabled=!1;k.byId("add-member-form-button").value="subscribe";if(a.success)u.resetForm(k.byId("add-member-form")),f(".add-member-form-error").orphan(),k.byId("MERGE0").focus(),u.toast(a.success_msg?a.success_msg:"Hooray! That subscriber was added to the list.");else{if(a.errors){for(var b in a.errors)e.place('\x3cspan class\x3d"invalid-error add-member-form-error"\x3e'+
a.errors[b]+"\x3c/span\x3e",k.byId(b),"after"),t.add(k.byId(b),"invalid"),f(".add-member-form-error a").forEach(e.destroy);k.byId(Object.keys(a.errors)[0]).focus()}a.error_msg&&e.place('\x3cdiv class\x3d"feedback-block error add-member-form-error fwb p !margin-bottom--lv4"\x3e'+a.error_msg+"\x3c/div\x3e",k.byId("add-member-form"),"first")}})},reorderLists:function(a,b,c){a=d.post(w.toUrl("lists/reorder"),{handleAs:"json",data:{"list_order[]":a,"old_list_order[]":b,start_index:c}});a.then(function(a){a.error&&
u.toast(a.error,"error")});return a}}})},"mojo/app/templates":function(){define("dojo/dom dojo/dom-attr dojo/on dojo/query dojo/_base/lang dojo/dom-form dojo/dom-style dojo/request/xhr dojo/topic dijit/registry mojo/utils mojo/url dojo/keys dijit/Dialog mojo/widgets/Previewer mojo/app/wizard mojo/user mojo/lib/flags".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){var y=function(a){f(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})},x=!1;
return{searchForTemplate:function(a,c,d,e,f){c={term:c,cat:d,exclude_integrations:e};a?(c.id=a,a=p.toUrl("campaigns/wizard/html/templates-predesigned",c)):a=p.toUrl("templates/selection/templates-predesigned",c);b.byId(f).set("href",a)},confirmTemplateDelete:function(a){var c=b.byId("confirm-template-delete");c.setHref(p.toUrl("templates/confirm-delete",{id:a}));c.show()},deleteTemplate:function(){var a=l.byId("template-id").value;window.location.href=p.toUrl("templates/delete",{ids:a})},confirmDeletion:function(a,
b){b||(b="template");var d=new r({title:"Are you sure?",onHide:function(){d.destroyRecursive()},onDownloadEnd:function(){y(d);f("form",d.domNode).on("submit",function(e){e.stopPropagation();e.preventDefault();e=c.toObject(this);var f=0,h;for(h in e)e.hasOwnProperty(h)&&0===h.indexOf("ids[")&&f++;m.post(k.get(this,"action"),{data:c.toObject(this)}).then(function(){d.hide();a.render();n.toast(f+" "+b+(1!=f?"s":"")+" successfully deleted")},function(){d.hide();n.toast("There was a problem deleting your "+
b+(1!=f?"s":"")+". Please try again.")})})}});d.setHref(p.toUrl("templates/confirm-delete",{"ids[]":a.getSelection()}));d.show()},confirmTemplateExport:function(a){var c=b.byId("export-dnd-warning");c._url=p.toUrl("templates/export-template",{id:a});c.show()},confirmImportFromHtml:function(){b.byId("import-html").show()},confirmImportFromZip:function(){b.byId("import-zip").show()},publishToMandrill:function(a){dojo.xhrPost({url:p.toUrl("templates/publish-mandrill"),content:{id:a},handleAs:"json",
load:function(a){a.success?dojo.publish("show-toast",[{message:a.message,type:"message"}]):dojo.publish("show-toast",[{message:"Drats, your template wasn't published to mandrill",type:"error"}])},error:function(a){dojo.publish("show-toast",[{message:"Drats, your template wasn't published to mandrill",type:"error"}])}})},codeYourOwn:function(){window.location.href=p.toUrl("templates/design/new")},previewLayout:function(a,b,c){this.previewer?(this.previewer.previewId=a,this.previewer.previewType=c,
this.previewer.titleText=b):this.previewer=new t({previewId:a,previewType:c,titleText:b,inboxPreviewEnabled:!1});this.previewer.show()},changeTemplate:function(a,c){c?(u.disableForm(),b.byId("confirm-change-layout").url=a,b.byId("confirm-change-layout").show()):this._changeTemplate(a)},confirmChangeTemplate:function(){this._changeTemplate(b.byId("confirm-change-layout").url)},_changeTemplate:function(a){x||(x=!0,u.disableForm(),window.location.href=a)},handleSaveKeyPress:function(a){a.keyCode==q.ENTER&&
(b.byNode(f(".save-template-button")[0]).onClick(),saveTemplate(!0))}}})},"mojo/app/pro/reports":function(){define("../../../dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/_base/array dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/html dojo/dom dojo/topic dijit/registry dijit/Dialog mojo/app/wizard mojo/utils mojo/url dojo/dom-form velocity/velocity mojo/lib/logger dojox/html/entities dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C){var D=function(a){h(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return{initSaveReportNameModal:function(){var a=this,b=h("[data-action\x3d'edit-report-name']")[0],d=h("[data-action\x3d'close-report-name-dialog']")[0],k=h("[data-action\x3d'save-report-name']")[0],m=u.byId("name-report-dialog");f(b,"click",function(){m.show()});f(d,"click",function(){m.hide()});f(k,"click",function(){var b=
r.byId("report-name").value;e.post(x.toUrl("/pro/reports/save-report-name"),{query:{id:a.reportId,name:b}}).then(function(a){a=h("[data-element\x3d'report-name']");c.forEach(a,function(a,c){a.innerHTML=C.encode(b)});t.publish("new-report-name",{newName:b});m.hide()})})},shareReport:function(a){var b=new w({title:"Share latest snapshot",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){D(b);h("form",b.domNode).on("submit",function(a){a.stopPropagation();a.preventDefault();A.toObject(this);
e.post(m.get(this,"action"),{data:A.toObject(this)}).then(function(a){b.hide();y.toast(a);B.pythia.logEvent("Pro_Reports_ShareReport")},function(){b.hide();y.toast("There was a problem sharing the latest report's snapshot. Please try again.","error")})});h("[data-action\x3d'revoke-access']",b.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();var c=this.id;e.post(x.toUrl("pro/reports/delete-share"),{data:{id:a,report_share_id:this.id}}).then(function(a){z(r.byId("share_"+c),{display:"none"},
{easing:"easeInSine",duration:500,complete:function(){n.destroy("share_"+c);if(0===h(".share-row").length){var a=h("[data-element\x3d'share-with-container']")[0];d.add(a,"hide")}}})},function(){})})}});b.setHref(x.toUrl("pro/reports/share-dialog",{id:a}));b.show()},_initScheduleInterface:function(){var a=u.byId("schedule-frequency");h("[data-element\x3d'at']");h("[data-element\x3d'time']");var b=h("[data-element\x3d'start-on']")[0],c=h("[data-element\x3d'day-of-week']")[0];f(a,"change",function(){b&&
!d.contains(b,"hide")&&d.add(b,"hide");c&&!d.contains(c,"hide")&&d.add(c,"hide");"weekly"===this.getValue()&&(d.remove(b,"hide"),d.remove(c,"hide"))})},scheduleReport:function(a){var b=this,c=new w({title:"Schedule this report",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){D(c);b._initScheduleInterface();h("form",c.domNode).on("submit",function(a){a.stopPropagation();a.preventDefault();A.toObject(this);e.post(m.get(this,"action"),{data:A.toObject(this)}).then(function(a){c.hide();
y.toast("Great, your report has been scheduled!");B.pythia.logEvent("Pro_Reports_ScheduleReport");location.reload()},function(){c.hide();y.toast("There was a problem scheduling this report. Please try again.","error")})})}});c.setHref(x.toUrl("pro/reports/schedule-dialog",{id:a}));c.show()},unscheduleReport:function(a){e.post(x.toUrl("pro/reports/unschedule",{id:a})).then(function(a){y.toast("Sure thing, we have unscheduled your report!");B.pythia.logEvent("Pro_Reports_UnScheduleReport");location.reload()},
function(){y.toast("There was a problem unscheduling this report. Please try again.","error")})},confirmDeletion:function(a,b){var c=new w({title:"Are you sure?",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){D(c);h("form",c.domNode).on("submit",function(d){d.stopPropagation();d.preventDefault();d=A.toObject(this);var f=0,h;for(h in d)d.hasOwnProperty(h)&&0===h.indexOf("id[")&&f++;e.post(m.get(this,"action"),{data:A.toObject(this)}).then(function(){c.hide();a.render()},function(){c.hide();
y.toast("There was a problem deleting your "+b+(1!=f?"s":"")+". Please try again.","error")})})}});c.setHref(x.toUrl("pro/reports/confirm-delete",{"id[]":a.getSelection()}));c.show()}}})},"mojo/app/placards/checklist/remarketing":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/date dojo/date/locale dojo/debounce dojo/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-form dojo/dom-prop dojo/dom-style dojo/io-query dojo/number dojo/on dojo/mouse dojo/query dojo/request dojo/topic dijit/registry dijit/TooltipDialog dijit/popup mojo/app/account/billing mojo/app/placards mojo/ImageEditor mojo/lib/flags mojo/Pusher mojo/url mojo/user mojo/utils mojo/widgets/ads/PreviewOverlay mojo/widgets/ecommerce/ProductPicker mojo/widgets/FeedbackBlock mojo/widgets/FileManager mojo/views/_base mojo/app/placards/_ChecklistMixin dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T,V,P,K,M,H,X,R){return l([X,R],{checklist:null,setup:function(a){var e=this;e.checklist.addOnSlatRenderedListener("content",function(a,b){e._showFormErrors(b)});var f=h.hitch(this,function(a){var b=d.get(a.target,"data-mc-slat"),b=null===b?"content":b;a="edit"===d.get(a.target,"data-mc-action")?"Edit":"Cancel";(b={audience:"Audience",budget:"Set Budget",content:"Ad Group"}[b])&&window.ga("send","event",b,"Clicked / "+a)});w(window.document,
"[data-mc-action\x3d'edit']:click",f);w(window.document,"[data-mc-action\x3d'view']:click",f);A.subscribe("campaigns/checklist-interface/publish",h.hitch(this,function(a){(a={audience:"Audience",budget:"Set Budget",content:"Ad Group"}[a.itemId])&&window.ga("send","event",a,"Clicked / Save")}));w(window.document,w.selector("[data-mc-el\x3d'budgetInput']","keyup"),c(function(a){y("[data-mc-el\x3d'budgetPerDay'")[0].innerText=V.numberFormat(a.target.value/7,2,".","")}),250);w(window.document,w.selector("[data-mc-el\x3d'saveBtn']",
"click"),function(a){var c=a.target,f=d.get(c,"data-ad-index");x.post(J.toUrl("/ads/google/post-content"),{data:p.toObject(c.form),handleAs:"json"}).then(h.hitch(this,function(a){switch(a.status){case "success":e.checklist.getView("content",{selectedAdIndex:f});break;case "error":a.errors&&(V.showFormErrors(c.form,a.errors),b.remove(c,"button-loading disabled"));break;default:throw Error("New unhandled state");}}))});w(window.document,w.selector("[data-mc-el\x3d'finishLater']","click"),function(a){a.preventDefault();
var c=a.target.href,d=y("[data-mc-el\x3d'saveBtn']");0===d.length?window.location=c:(d=d[0],x.post(J.toUrl("/ads/google/post-content"),{data:p.toObject(d.form),handleAs:"json"}).then(h.hitch(this,function(a){switch(a.status){case "success":window.location=c;break;case "error":a.errors&&(V.showFormErrors(d.form,a.errors),b.remove(d,"button-loading disabled"));break;default:throw Error("New unhandled state");}})))});w(window.document,w.selector("[data-mc-el\x3d'editBtn']","click"),function(a){a=d.get(a.target,
"data-ad-index");e._renderContentForm(a)});w(window.document,"[data-remove-display-ad]:click",function(b){b.preventDefault();b=d.get(this,"data-remove-display-ad");var c=e.getDisplayAd(b),f=e.getDisplayAdNodes().indexOf(c);window.ga("send","event","Ad Group","Clicked / Delete Ad","Ad "+(f+1));"draft"!==y("input[name\x3d'status']")[0].value?F.confirmDeleteAd(a.uniqueId,f).then(function(){e.checklist.getView("content",{selectedAdIndex:0===f?f:f-1})}):1===e.getVisibleDisplayAds()?(e.clearDisplayAd(b),
x.post(J.toUrl("/ads/google/reset-content"),{data:{id:a.uniqueId},handleAs:"json"}).then(h.hitch(this,function(a){switch(a.status){case "success":e.checklist.getView("content");break;case "error":break;default:throw Error("Unknown state "+a.status);}}))):(e._toggleThumbnailLoader(f,!0),x.post(J.toUrl("/ads/google/remove-display-ad"),{data:{id:a.uniqueId,index:f},handleAs:"json"}).then(h.hitch(this,function(a){switch(a.status){case "success":e._renderContentForm(0===f?f:f-1);break;case "error":break;
default:throw Error("Unknown state "+a.status);}})))});w(window.document,"#add-display-ad:click",h.hitch(this,function(a){y(a.target).closest("form");var b=this.getVisibleDisplayAds();a=e.getDisplayAdIdFromNode(e.getDisplayAdNodes()[b]);window.ga("send","event","Ad Group","Clicked / Add Ad");5>b&&(e.clearDisplayAd(a),e._switchToDisplayAd(a).then(function(a){b+=1;e.setVisibleDisplayAds(b)}))}));w(window.document,w.selector("[data-mc-el\x3d'topSellersBtn']","click"),function(b){window.ga("send","event",
"Ad Group","Clicked / Use Top Sellers");x.post(J.toUrl("/ads/google/choose-top-sellers"),{data:{id:a.uniqueId},handleAs:"json"}).then(h.hitch(this,function(a){switch(a.status){case "success":e.checklist.getView("content").then(function(){var a=y("input[name\x3dfeedbackCount]")[0];a&&0>=a.value&&(new M({title:"Great choice!",message:"Here are your ads. We'll post each ad in a \x3ca href\x3d'#0' data-mc-group\x3d'previewPane' data-ad-index\x3d'0'\x3evariety of sizes\x3c/a\x3e to give them the best placement on the web.",
type:"success"})).placeAt(y("[data-mc-el\x3d'feedbackBlock']")[0],"replace")});break;case "error":e.checklist.getView("content").then(function(b){V.showFormErrors(b,a.errors)});break;default:throw Error("Unknown status "+status);}}))});w(window.document,w.selector("[data-mc-el\x3d'blankBtn']","click"),function(a){window.ga("send","event","Ad Group","Clicked / Create Your Own")});w(window.document,w.selector("[data-mc-el\x3d'productPicker']","click"),function(b){window.ga("send","event","Ad Group",
"Clicked / Product Picker");var c=d.get(b.target,"data-ad"),f=e.getDisplayAd(c),h=e.getDisplayAdNodes().indexOf(f);K.chooseProductFromStore(d.get(b.target,"data-store-id")).then(function(k){var m=y(f).closest("form")[0];V.removeAllErrors(m);e._setProductValue("data-website",c,k[0].product_url,999);e._setProductValue("data-short-headline",c,k[0].title,25);e._setProductValue("data-long-headline",c,k[0].title,90);e._setProductValue("data-description",c,k[0].description,90);e._setProductValue("data-business",
c,d.get(b.target,"data-store-name"),25);e._toggleImageLoader(c,"image",!0);x.post(J.toUrl("/ads/google/edit-image"),{data:{id:a.uniqueId,index:h,image_url:k[0].image_url},handleAs:"json"}).then(function(a){e._toggleImageLoader(c,"image",!1);switch(a.status){case "success":e.setDisplayAdImage(c,"image",a.url);break;case "error":V.showFormErrors(m,a.errors);e.setDisplayAdImage(c,"image",null);break;default:throw Error("Unknown status "+status);}})})});w(window.document,w.selector("[data-tooltip]","click"),
function(a){a=Math.random().toString(36).substr(2,10);var b=d.get(this,"data-tooltip-link"),c=d.get(this,"data-tooltip"),e="";window.ga("send","event","Ad Group / "+c,"Clicked / Content Tooltip");switch(c){case "imageTip":e+="\x3cli\x3eChoose images that complement your copy and are consistent with what\u2019s on your site and other channels.\x3c/li\x3e";break;case "shortHeadlineTip":e+="\x3cli\x3eThis is the first line of your ad that appears in smaller spaces where the long headline doesn\u2019t fit.\x3c/li\x3e\x3cli\x3eKeep copy short and informative to prevent it from getting truncated, and avoid using all caps.\x3c/li\x3e";
break;case "longHeadlineTip":e+="\x3cli\x3eThis is the first line of your ad that appears in larger spaces instead of the short headline.\x3c/li\x3e\x3cli\x3eKeep copy short and informative to prevent it from getting truncated, and avoid using all caps.\x3c/li\x3e";break;default:throw Error("Unknown Tooltip Name "+c);}var f=new B({id:a,content:"\x3cul class\x3d'help-tip-lines selfclear'\x3e"+e+"\x3cli\x3e\x3ca href\x3d"+b+" target\x3d'_blank'\x3eFind out more \x26rarr;",baseClass:"dijitTooltipDialogHelp",
"class":"help-tip-dialog dijitTooltipDialog",onBlur:function(){C.hide(f);f.destroy()}});C.open({popup:f,around:this});f.focus()});w(window.document,w.selector("[data-tooltip]",v.enter),function(a){a=d.get(this,"data-tooltip");window.ga("send","event","Ad Group / "+a,"Hovered / Content Tooltip")});w(window.document,w.selector("[data-mc-group\x3d'previewPane']","click"),function(b){b=d.get(b.target,"data-ad-index");P.show({id:a.uniqueId,selectedAdIndex:b})});w(window.document,w.selector("[data-image-browse]",
"click"),function(b){var c=d.get(b.target,"data-image-browse"),f=d.get(b.target,"data-image-type"),h=e.getDisplayAd(c),k=e.getDisplayAdNodes().indexOf(h);window.ga("send","event","Ad Group / "+("image"===f?"Image":"Logo"),"Clicked / Browse Images");H.isShown()||H.show({actions:"select,edit,delete",onSelect:function(b,d,m){e._toggleImageLoader(c,f,!0);x.post(J.toUrl("/ads/google/add-"+f),{data:{file_id:m,id:a.uniqueId,index:k},handleAs:"json"}).then(function(a){e._toggleImageLoader(c,f,!1);switch(a.status){case "success":V.removeErrors(y("[data-mc-name\x3d"+
f+"]"));e.setDisplayAdImage(c,f,a.url);break;case "error":V.showFormErrors(y(h).closest("form")[0],a.errors);break;default:throw Error("Unknown status "+status);}});H.hide()}})});w(window.document,w.selector("[data-image-remove]","click"),function(b){var c=d.get(b.target,"data-image-remove"),f=d.get(b.target,"data-image-type");b=e.getDisplayAd(c);b=e.getDisplayAdNodes().indexOf(b);window.ga("send","event","Ad Group / "+("image"===f?"Image":"Logo"),"Clicked / Remove");x.post(J.toUrl("/ads/google/remove-"+
f),{data:{id:a.uniqueId,index:b}}).then(function(){e.setDisplayAdImage(c,f,null)})});w(window.document,w.selector("[data-image-edit]","click"),function(b){var c=d.get(b.target,"data-image-edit"),f=d.get(b.target,"data-image-type");b=y("[data-"+f+"-display-ad\x3d'"+c+"']")[0];var k=y("[data-"+f+"]",b)[0];window.ga("send","event","Ad Group / "+("image"===f?"Image":"Logo"),"Clicked / Edit");var m=e.getDisplayAd(c),l=e.getDisplayAdNodes().indexOf(m);b=new Image;k=J.removeProxy(r.get(k,"background-image"));
b.src=e.cleanImageURL(k);G.open(b.src).then(h.hitch(this,function(b){x.post(J.toUrl("/ads/google/edit-"+f),{data:{id:a.uniqueId,index:l,image_url:b},handleAs:"json"}).then(function(a){switch(a.status){case "success":V.removeErrors(y("[data-mc-name\x3d"+f+"]"));e.setDisplayAdImage(c,f,a.url);break;case "error":V.showFormErrors(y(m).closest("form")[0],a.errors);break;default:throw Error("Unknown status "+status);}})}))});w(window.document,"[data-display-ad]:click",function(a){a.preventDefault();d.get(a.target,
"data-remove-display-ad")||(a=e.getDisplayAdIdFromNode(this),e._switchToDisplayAd(a))})},_renderContentForm:function(a){var b=new e;this.checklist.getEditForm("content",{selectedAdIndex:a}).then(function(){b.resolve()});return b.promise},_showFormErrors:function(a){if("view"!==this.checklist.getSlatState("content")){var b=d.get(y("[data-display-ad-id]")[0],"data-display-ad-id");if(a.feedback[b]){a=a.feedback[b];var c=n.create("div",{class:"invalid-error"}),e=[];a.forEach(function(a){a.field?e[a.field]=
a.message:n.place(n.create("p",{innerHTML:a.message}),c)});V.showFormErrors(y(b).closest("form")[0],h.mixin(e,{"ad-feedback":c.innerHTML}))}}},_toggleImageLoader:function(a,c,d){a=y("[data-"+c+"-display-ad\x3d"+a+"][data-mc-name\x3d"+c+"]")[0];b.toggle(y("[data-image-loader]",a)[0],"hide",!d);d?this.$widget.imageLoader.start():this.$widget.imageLoader.stop()},_toggleThumbnailLoader:function(a,c){var d=y("[data-display-ad\x3d"+a+"]")[0];b.toggle(y("[data-thumbnail-loader]",d)[0],"hide",!c);c?this.$widget.thumbnailLoader.start():
this.$widget.thumbnailLoader.stop()},_disableClickEvent:function(a,b){w(a,w.selector(b,"click"),function(a){a.stopPropagation()})},_setProductValue:function(a,b,c,d){var e=y("["+a+"\x3d"+b+"]")[0];a=y("["+a+"-char-count\x3d"+b+"]")[0];c?(c=c.substring(0,d),e.value=c,a&&(c=d-c.length,a.innerHTML=c+V.plural(c," character")+" remaining")):e.value=""},getDisplayAdNodes:function(){return y("[data-display-ad]")},getDisplayAdIdFromNode:function(a){return d.get(a,"data-display-ad")},getDisplayAd:function(a){return y("[data-display-ad\x3d"+
a+"]")[0]},clearDisplayAd:function(a){var b=y("#display-ad-"+a)[0];b&&y("input[type\x3dtext], input[type\x3durl], textarea, select",b).forEach(function(a){a.value=""});this.setDisplayAdImage(a,"image",null);this.setDisplayAdImage(a,"logo",null)},getVisibleDisplayAds:function(){return parseInt(y("input[name\x3d'visibleAds']")[0].value,10)},setVisibleDisplayAds:function(a){y("input[name\x3d'visibleAds']")[0].value=a;var c=y("[data-mc-el\x3d'addDisplayAd']")[0];c&&b.toggle(c,"hide",5===a);this.getDisplayAdNodes().forEach(function(c,
d){var e=y("[data-mc-el\x3d'adLabel']",c);e.length&&q.set(e[0],"textContent","Ad "+(d+1));b.toggle(c,"hide",d>a-1)});y("[data-blank]").forEach(function(c,d){b.toggle(c,"hide",d<a+1)})},setDisplayAdImage:function(a,c,d){var e=y("[data-"+c+"-display-ad\x3d"+a+"][data-mc-name\x3d"+c+"]")[0];if(e){var f=y("[data-placeholder]",e)[0],h=y("[data-"+c+"]",e)[0];f&&(b.toggle(f,"hide",d),b.toggle(y("[data-image-browse]",e)[0],"hide",d),b.toggle(y("[data-image-edit]",e)[0],"hide",!d),y("[data-image-remove]",
e)[0]&&b.toggle(y("[data-image-remove]",e)[0],"hide",!d),b.toggle(y("[data-image-replace]",e)[0],"hide",!d));d?(h.style.backgroundImage="url("+d+")",h.style.backgroundPosition="50% 50%",h.style.backgroundSize="cover"):h.style.backgroundImage="none"}"image"===c&&(a=this.getDisplayAd(a))&&(a=y("[data-mc-el\x3d'thumbnailImage']",a)[0],r.set(a,"backgroundImage",d?"url("+d+")":"url('/images/ads/placeholder-square.svg')"),r.set(a,"opacity",d?"1":".6"))},_switchToDisplayAd:function(a){var b=this,c=new e,
d=this.getDisplayAd(a),f=this.getDisplayAdNodes().indexOf(d),h=y("input",d)[0];window.ga("send","event","Ad Group","Selected / Ad","Ad "+(f+1));if(!h.disabled&&a){if("edit"===b.checklist.getSlatState("content")&&+f!==+b.getCurrentDisplayAdId())d=y(h).closest("form")[0],this._disableClickEvent(d,"[data-tooltip]"),b._toggleThumbnailLoader(b.getCurrentDisplayAdId(),!0),b.saveForm(d,function(){b._toggleThumbnailLoader(b.getCurrentDisplayAdId(),!1);b._switchView(a,h,f).then(function(){b._renderContentForm(f).then(function(){c.resolve()})})},
function(){b._toggleThumbnailLoader(b.getCurrentDisplayAdId(),!1)});else return b._switchView(a,h,f).then(function(){c.resolve()});return c.promise}},_switchView:function(a){var b=new e,c=this.getDisplayAd(a),f=this.getDisplayAdNodes().indexOf(c),c=y("input",c)[0],k=z.byId("view-switcher");c.checked=!0;"view"===this.checklist.getSlatState("content")&&0<d.get(c,"data-feedback")?this._renderContentForm(f).then(function(){b.resolve()}):k.setCurrentView(a).then(h.hitch(this,function(a){if(a=y("input[name\x3dindex]",
a)[0])a.value=f;b.resolve()}));return b.promise},getCurrentDisplayAdId:function(){return z.byId("view-switcher").getCurrentPosition()}})})},"mojo/app/placards/_ChecklistMixin":function(){define("dojo/_base/declare dojo/dom-form dojo/query dojo/request mojo/utils mojo/views/_base dojo/NodeList-traverse".split(" "),function(l,k,h,f,a,c){return l([c],{SLAT_ID:{CONNECT:"connect",AUDIENCE:"audience",BUDGET:"budget",CONTENT:"content"},SLAT_MODE:{VIEW:"view",EDIT:"edit"},saveForm:function(c,m,d){h("input",
c).forEach(function(b){a.removeErrors(b)});f.post(c.action,{data:k.toObject(c),handleAs:"json"}).then(function(b){switch(b.status){case "success":m&&m();break;case "error":b.errors&&a.showFormErrors(c,b.errors);d&&d();break;default:throw Error("Unknown state "+b.status);}})},cleanImageURL:function(a){a=a.replace(/['"]+/g,"");return a=a.slice(4,-1)}})})},"mojo/app/placards/checklist/static":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/date dojo/date/locale dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-form dojo/dom-prop dojo/dom-style dojo/io-query dojo/number dojo/on dojo/query dojo/request dojo/sniff dojo/topic dijit/registry mojo/app/account/billing mojo/app/placards mojo/ImageEditor mojo/lib/flags mojo/Pusher mojo/url mojo/user mojo/utils mojo/widgets/FileManager mojo/views/_base mojo/app/placards/_ChecklistMixin dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T){return l([J,T],{checklist:null,carouselMax:5,setup:function(a){this._handleConnectSlatRender();this._handleAudienceSlatRender();this._handleBudgetSlatRender();this._handleContentSlatRender();!1===G.flagIsOn(C.ADS_CONTENT_REVAMP)&&this._attachFormHandlersContentSlat(a);a=h.hitch(this,function(a){var b=e.get(a.target,"data-mc-slat");a="edit"===e.get(a.target,"data-mc-action")?"Open":"Cancel";b={edit_page:"Connect Facebook",audience:"Edit Audience",
budget:"Set Budget",content:"Content"}[b]||"";""!==b&&window.ga("send","event","Ad Builder - Facebook",b,a)});t(window.document,"[data-mc-action\x3d'edit']:click",a);t(window.document,"[data-mc-action\x3d'view']:click",a);y.subscribe("campaigns/checklist-interface/publish",h.hitch(this,function(a){a={edit_page:"Connect Facebook",audience:"Edit Audience",budget:"Set Budget",content:"Content"}[a.itemId]||"";""!==a&&window.ga("send","event","Ad Builder - Facebook",a,"Save")}))},updateAudienceForms:function(a){u("[data-form-type]").map(function(b){I.removeAllErrors(b);
return 0>e.getNodeProp(b,"data-form-type").indexOf(a)?m.add(b,"hide"):m.remove(b,"hide")});m.toggle(u("[data-mc-el\x3d'countryInput']")[0],"hide","interests"===a)},toggleImageLoader:function(a,b){var c=u("[data-image-attachment\x3d"+a+"]")[0];m.toggle(u("[data-image-loader]",c)[0],"hide");b?this.$widget.imageLoader.start():this.$widget.imageLoader.stop()},setVisibleAttachments:function(a){var b=u("[data-visible-attachments]")[0];e.set(b,"data-visible-attachments",a);m.toggle(b,"hide",a===this.carouselMax);
this.getAttachmentNodes().forEach(function(b,c){var d=u("label span",b);d.length&&n.set(d[0],"textContent",c+1);m.toggle(b,"hide",c>a-1)})},getVisibleAttachments:function(){return parseInt(e.get(u("[data-visible-attachments]")[0],"data-visible-attachments"),10)},getAttachmentNodes:function(){return u("[data-attachment]")},getAttachmentIdFromNode:function(a){return e.get(a,"data-attachment")},getAttachment:function(a){return u("[data-attachment\x3d"+a+"]")[0]},removeAttachment:function(a){var b=this.getAttachment(a),
c=this.getAttachmentNodes().indexOf(b);this.clearAttachment(a);var e=a;+a===+this.getCurrentAttachmentId()&&(a=0===c?c+1:c-1,e=this.getAttachmentIdFromNode(this.getAttachmentNodes()[a]),this.switchToAttachment(e));a=this.getVisibleAttachments();c=b.parentNode;d.place(b,c,c.childNodes.length-2);this.setVisibleAttachments(a-1);if(b=u("input[name\x3dindex]")[0])a=this.getAttachmentNodes().indexOf(this.getAttachment(this.getCurrentAttachmentId())),b.value=a},clearAttachment:function(a){var b=u("#attachment-"+
a)[0];b&&u("input[type\x3dtext], input[type\x3durl], textarea, select",b).forEach(function(a){a.value=""});this.setAttachmentImage(a,null)},setAttachmentImage:function(a,b){var c=u("[data-image-attachment\x3d"+a+"]")[0];if(c){var d=u(".c-attachment_placeholder",c)[0],e=u(".c-attachment_image",c)[0];b?(d&&(m.add(d,"hide"),m.remove(u("[data-image-edit]",c)[0],"hide"),m.remove(u("[data-image-replace]",c)[0],"hide"),m.add(u("[data-image-browse]",c)[0],"hide"),!1===G.flagIsOn(C.ADS_FB_CONTENT_IMAGE_REVAMP)&&
m.remove(u("[data-image-remove]",c)[0],"hide")),e.style.backgroundImage="url("+b+")",e.style.backgroundPosition="50% 50%",e.style.backgroundSize="cover"):(d&&(m.remove(d,"hide"),m.add(u("[data-image-edit]",c)[0],"hide"),m.add(u("[data-image-replace]",c)[0],"hide"),m.remove(u("[data-image-browse]",c)[0],"hide"),!1===G.flagIsOn(C.ADS_FB_CONTENT_IMAGE_REVAMP)&&m.add(u("[data-image-remove]",c)[0],"hide")),e.style.backgroundImage="none")}if(c=this.getAttachment(a))c=u("label",c)[0],p.set(c,"backgroundImage",
b?"url("+b+")":"")},switchToAttachment:function(a){var b=x.byId("view-switcher"),c=this.getAttachment(a),d=this.getAttachmentNodes().indexOf(c);u("input",c)[0].checked=!0;return b.setCurrentView(a).then(h.hitch(this,function(a){var b=1<this.getVisibleAttachments();u("[data-image-attachment]").forEach(function(a){a=u(".c-attachment_image")[0];m.toggle(a,"v-fbAttachment--carousel",b);m.toggle(a,"v-fbAttachment--default",!b)});if(a=u("input[name\x3dindex]",a)[0])a.value=d}))},getCurrentAttachmentId:function(){return x.byId("view-switcher").getCurrentPosition()},
_handleConnectSlatRender:function(){var a=this;this.checklist.getSlatState(a.SLAT_ID.CONNECT)===a.SLAT_MODE.VIEW?this.checklist.getView(a.SLAT_ID.CONNECT):this.checklist.getEditForm(a.SLAT_ID.CONNECT);a.checklist.addOnSlatRenderedListener(a.SLAT_ID.CONNECT,function(b,c){a.$widget.editConnectSlat&&a.$widget.editConnectSlat.setData(c);a.$widget.viewConnectSlat&&a.$widget.viewConnectSlat.setData(c)})},_handleAudienceSlatRender:function(){var a=this;this.checklist.getSlatState(a.SLAT_ID.AUDIENCE)===a.SLAT_MODE.EDIT&&
this.checklist.getEditForm(a.SLAT_ID.AUDIENCE);a.checklist.addOnSlatRenderedListener(a.SLAT_ID.AUDIENCE,function(b,c){a.$widget.editAudienceSlat&&a.$widget.editAudienceSlat.setData(c)});q.queryToObject(decodeURIComponent(window.location.search.slice(1))).lookalike&&(u("[data-dojo-attach-point\x3d'lookalikeChoiceInput']")[0].checked=!0,a.$widget.editAudienceSlat.updateAudienceForms())},_handleBudgetSlatRender:function(){var a=this;this.checklist.getSlatState(a.SLAT_ID.BUDGET)===a.SLAT_MODE.EDIT&&this.checklist.getEditForm(a.SLAT_ID.BUDGET);
this.checklist.addOnSlatRenderedListener(a.SLAT_ID.BUDGET,function(b,c){a.$widget.extendBudgetSlat&&a.$widget.extendBudgetSlat.setData(c);a.$widget.editBudgetSlat&&a.$widget.editBudgetSlat.setData(c)});y.subscribe("campaigns/checklist-interface",function(b){"success"===b.status&&b.itemId===a.SLAT_ID.BUDGET&&window.ga("send","event","Ad Builder - Facebook","End",b.durationInDays)})},_handleContentSlatRender:function(){var a=this;this.checklist.getSlatState(a.SLAT_ID.CONTENT)===a.SLAT_MODE.VIEW?this.checklist.getView(a.SLAT_ID.CONTENT):
this.checklist.getEditForm(a.SLAT_ID.CONTENT);a.checklist.addOnSlatRenderedListener(a.SLAT_ID.CONTENT,function(b,c){a.$widget.viewContentSlat&&a.$widget.viewContentSlat.setData(c);a.$widget.editContentSlat&&a.$widget.editContentSlat.setData(c)})},_attachFormHandlersContentSlat:function(a){var b=this;t(window.document,t.selector("[data-image-edit]","click"),function(c){window.ga("send","event","Ad Builder - Facebook","Image","Edit");var d=e.get(c.target,"data-image-edit");c=u("[data-image-attachment\x3d'"+
d+"']")[0];c=u(".c-attachment_image",c)[0];var f=b.getAttachment(d),h=b.getAttachmentNodes().indexOf(f);c=b.cleanImageURL(F.removeProxy(p.get(c,"background-image")));B.open(c).then(function(c){w.post(F.toUrl("/ads/facebook/edit-image"),{data:{id:a.uniqueId,index:h,image_url:c},handleAs:"json"}).then(function(a){switch(a.status){case "success":I.removeErrors(u("[data-mc-name\x3dimage]"));b.setAttachmentImage(d,a.url);break;case "error":I.showFormErrors(u(f).closest("form")[0],a.errors);break;default:throw Error("Unknown status "+
a.status);}})},function(a){throw Error("Unknown error "+a);})});!1===G.flagIsOn(C.ADS_FB_CONTENT_IMAGE_REVAMP)&&t(window.document,t.selector("[data-image-remove]","click"),function(c){window.ga("send","event","Ad Builder - Facebook","Image","Remove");var d=e.get(c.target,"data-image-remove");c=b.getAttachment(d);c=b.getAttachmentNodes().indexOf(c);w.post(F.toUrl("/ads/facebook/remove-image"),{data:{id:a.uniqueId,index:c}}).then(function(){b.setAttachmentImage(d,null)})});t(window.document,t.selector("[data-image-browse]",
"click"),function(c){window.ga("send","event","Ad Builder - Facebook","Image","Browse");var d=e.get(c.target,"data-image-browse"),f=b.getAttachment(d),h=b.getAttachmentNodes().indexOf(f);L.isShown()||L.show({actions:"select,edit,delete",onSelect:function(c,e,k){b.toggleImageLoader(d,!0);w.post(F.toUrl("/ads/facebook/add-image"),{data:{file_id:k,id:a.uniqueId,index:h},handleAs:"json"}).then(function(a){b.toggleImageLoader(d,!1);switch(a.status){case "success":I.removeErrors(u("[data-mc-name\x3dimage]"));
b.setAttachmentImage(d,a.url);break;case "error":I.showFormErrors(u(f).closest("form")[0],a.errors);break;default:throw Error("Unknown status "+status);}});L.hide()}})});t(window.document,"[data-attachment]:click",function(a){a.preventDefault();if(!e.get(a.target,"data-remove-attachment")){a=u(this).closest("form")[0];var c=b.getAttachmentIdFromNode(this);b.saveForm(a,function(){b.switchToAttachment(c)},function(){b.switchToAttachment(b.getCurrentAttachmentId())})}});t(window.document,"[data-remove-attachment]:click",
function(c){c.preventDefault();window.ga("send","event","Ad Builder - Facebook","Delete Card","Delete");var d=e.get(this,"data-remove-attachment");c=b.getAttachment(d);c=b.getAttachmentNodes().indexOf(c);1===b.getVisibleAttachments()?(b.clearAttachment(d),w.post(F.toUrl("/ads/facebook/reset-content"),{data:{id:a.uniqueId},handleAs:"json"}).then(h.hitch(this,function(a){switch(a.status){case "success":b.checklist.getView("content");break;case "error":break;default:throw Error("Unknown state "+a.status);
}}))):w.post(F.toUrl("/ads/facebook/remove-attachment"),{data:{id:a.uniqueId,index:c},handleAs:"json"}).then(h.hitch(this,function(a){switch(a.status){case "success":b.removeAttachment(d);break;case "error":break;default:throw Error("Unknown state "+a.status);}}))});t(window.document,"#add-attachment:click",h.hitch(this,function(a){window.ga("send","event","Ad Builder - Facebook","Add Card","");a=u(a.target).closest("form")[0];var c=this.getVisibleAttachments(),d=b.getAttachmentIdFromNode(b.getAttachmentNodes()[c]);
c<this.carouselMax&&b.saveForm(a,h.hitch(this,function(){c+=1;b.setVisibleAttachments(c);b.switchToAttachment(d).then(function(){b.clearAttachment(d)})}))}))}})})},"mojo/app/peaches2/tabContainerUtil":function(){define("dojo/_base/declare dijit/layout/TabContainer dijit/layout/ContentPane mojo/app/peaches2/utils mojo/url dojo/on vendor/lodash-amd/isFunction dijit/registry".split(" "),function(l,k,h,f,a,c,e,m){return l(null,{container:null,viewModule:{},createContentPanes:function(c,b,e){var f=this;
c&&(this._createTabContainer(c),b.pageTabs&&(b.pageTabs.forEach(function(c){a.getHashParams().t&&(c.active=!1);var d=new h({title:c.title,href:c.href,selected:c.active,id:c.stub+"-section",preload:c.preload});f[f._camelCaseStub(c.stub)+"Section"]=d;f._addOndownloadEnd(c,d,e,b);f.container.addChild(d)}),a.getHashParams().t&&f.container.selectChild(f[f._camelCaseStub(a.getHashParams().t)]),this.container&&(this.container.startup(),this._watchHashParam())))},_camelCaseStub:function(a){return a.replace(/-([a-z])/g,
function(a){return a[1].toUpperCase()})},_watchHashParam:function(){var d=this;c(window,"hashchange",function(b){if(b=a.getHashParams().t){if(!b.endsWith("-section"))return!1;d.container.selectChild(d[d._camelCaseStub(b)])}});this.container.watch("selectedChildWidget",function(b,c,d){if(d.id.endsWith("-hidden"))return!1;a.setHashParams({t:d.id})})},_createTabContainer:function(a){this.container=new k({doLayout:!1},a)},addNewPane:function(c,b,e,f,k){var l=this,t=l[l._camelCaseStub(c.stub)+"Section"];
t?(t.set("title",c.title),t.set("href",c.href),l.container.selectChild(t)):(k||this.container||this._createTabContainer(f),f=new h({title:c.title,href:c.href,closable:c.closable,onClose:function(){l[l._camelCaseStub(c.stub)+"Section"]=null;return!0},id:c.stub+"-section"}),c.onDownloadEnd&&f.set("onDownloadEnd",c.onDownloadEnd),l[l._camelCaseStub(c.stub)+"Section"]=f,k&&(f.placeAt(k).startup(),m.byId(k).selectChild(f)),!k&&this.container&&this.container.addChild(f),t=f);b&&(this.container.selectChild(t),
a.setHashParams({t:c.stub+"-section",id:e}))},_addOndownloadEnd:function(a,b,c,f){var h=this;Object.keys(c).forEach(function(k,m){var l=e(c[k]),w=null;k===h._camelCaseStub(a.stub)&&(l?(w=new c[k]({elId:a.id,pageJs:f}),h.viewModule[h._camelCaseStub(a.stub)]=w):h.viewModule[h._camelCaseStub(a.stub)]=c[k],b.set("onDownloadEnd",function(){l?(w.parse(a.id),w.onReady()):(c[k].onReady(),h.viewModule[h._camelCaseStub(a.stub)]=c[k])}))})}})})},"mojo/app/peaches2/utils":function(){define("dojo/_base/declare dijit/Tooltip velocity/velocity dojo/dom-construct dojo/dom-class dojo/html dojo/dom dojo/dom-form dojo/request/xhr mojo/url dojo/topic dojo/query dijit/registry dojo/on dojo/ready dojo/domReady!".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){var u={sendFormViaAjax:function(a){var b=this;a=e.byId(a);var c=m.toQuery(a);return d(a.action+"?"+c,{handleAs:"json"}).then(function(a){var c=a.msg,d=a.status;c&&b.setFlash(c,d);a.refresh_notes&&q.byId("notes-list").render()},function(a){b.setFlash("We couldn't process your request. Try again.","error")})},setFlash:function(a,b){e.byId("av-flash-block")||c.set(e.byId("flash-block-container"),'\x3cdiv id\x3d"av-flash-block" class\x3d"c-flashBlock full-width"\x3e\x3c/div\x3e');
e.byId("av-flash-"+b)||(f.place('\x3cul class\x3d"av-flash border-radius--lv2 padding--lv3 v-flashBlock--'+b+'" id\x3d"av-flash-'+b+'"\x3e\x3c/ul\x3e',"av-flash-block"),"error"===b&&f.place('\x3cspan class\x3d"cross float-right padding--lv3 !padding-top-bottom--lv0 freddicon cursor-pointer" onclick\x3d"_mca.closeFlashBlocks(this.parentNode); return false;"\x3e\x3c/span\x3e',"av-flash-"+b,"first"));f.place("\x3cli\x3e"+a+"\x3c/li\x3e","av-flash-"+b);"error"!==b&&this.closeFlashBlocks(e.byId("av-flash-"+
b),4500)},closeFlashBlocks:function(a,b){b||(b=0);h(a,"fadeOut",{duration:1E3,delay:b}).then(function(){f.destroy(a)})},refreshOnError:function(a){if(a.id){var b=a.domNode.innerHTML;b.includes("Warning: ")&&b.includes("failed to open stream: No such file or directory")&&q.byId(a.id).refresh()}}};return{run:l(null,{constructor:function(){var a=this;t(function(){a._initMcadminSearch();a._initToolsListToolTip();a._initFlashMessages();n.subscribe("mojo/analytics/List/_bbs_display/render",function(){a._updateUnreadBBSCount(!1)});
a._updateUnreadBBSCount(!0)})},_initMcadminSearch:function(){var b=e.byId("search-dialog"),c=e.byId("mcadmin-search-input"),d=p(".mcadmin-wrapper"),f=p("[name\x3dsearch-type]"),h=e.byId("open-search");r(h,"click",function(){a.add(b,"search-dialog-active");setTimeout(function(){c.focus()},100)});r(c,"focusin",function(){a.add(b,"search-dialog-active")});r(d,"click",function(){a.remove(b,"search-dialog-active")});r(f,"click",function(){c.focus()})},_initToolsListToolTip:function(){new k({connectId:"mcadmin-tool-list",
selector:"li",getContent:function(a){return a.getAttribute("tooltipText")}})},_initFlashMessages:function(){var a=e.byId("av-flash-info"),b=e.byId("av-flash-success"),c=e.byId("content");e.byId("the-account")?f.place("av-flash-block","account-buttons","first"):c&&0<c.length&&f.place("av-flash-block","content","first");a?u.closeFlashBlocks(a,4500):b&&u.closeFlashBlocks(b,4500)},_updateUnreadBBSCount:function(a){var f=this;d(b.toUrl("/peaches2/bbs/get-unread-items"),{handleAs:"json"}).then(function(b){"success"===
b.status?(0===b.count?f._showReadIcon():f._showUnreadIcon(),c.set(e.byId("bbs-unread-items-count"),String(b.count))):u.setFlash(b.msg,"error");a&&f._startUnreadBBSCountTimer()},function(c){403===c.response.status?window.location=b.toUrl("/peaches2/login"):(u.setFlash(c,"error"),a&&f._startUnreadBBSCountTimer())})},_showUnreadIcon:function(){a.remove(e.byId("bbs-unread-items-count"),"hide");a.add(e.byId("gray-bulletin-icon"),"hide");a.remove(e.byId("blue-bulletin-icon"),"hide")},_showReadIcon:function(){a.add(e.byId("bbs-unread-items-count"),
"hide");a.remove(e.byId("gray-bulletin-icon"),"hide");a.add(e.byId("blue-bulletin-icon"),"hide")},_startUnreadBBSCountTimer:function(){var a=this;setTimeout(function(){a._updateUnreadBBSCount(!0)},3E5)}}),utils:u}})},"mojo/app/peaches2/user":function(){define("dojo/_base/declare dojo/request/xhr dojo/html dojo/query dojo/dom dojo/dom-class dojo/dom-attr dojo/dom-style dojo/topic dojo/ready dojo/on dijit/registry mojo/url mojo/utils mojo/app/peaches2/utils mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l(null,{userAttrs:null,reviewToolsOpen:!1,linkUrl:null,redirectCampaignId:null,multiNotesUserIds:null,editedNoteId:null,deleteNoteId:null,addNoteIsVisible:!1,onReady:function(){var c=this;b(function(){c.updateUserTags();var b=f(".close-notes")[0],e=f(".open-notes")[0],h=a.byId("add-note-button");b&&n(b,"click",c.collapseNotes);e&&n(e,"click",c.openNotes);n(h,"click",c.showAddNote);var k=null;d.subscribe("mojo/analytics/List/notes-list/render",function(a){null!==
k&&(a=window.location.hash,window.location="#"+k,"#t:"===a.substring(0,3)&&(window.location=a),k=null)});b={target:"notes-list",filters:[{label:"Type",key:"type",type:"select",options:c.userAttrs.noteTypes},{label:"Created since...",key:"age",type:"select",options:{1:"One day ago",2:"Two days ago",7:"One week ago",30:"One month ago",60:"Two months ago",90:"Three months ago",180:"Six months ago",360:"One year"}},{label:"Created by",key:"author",type:"text"},{label:"Note",key:"note",type:"text"}]};
e=new u(b);a.byId("notes-filters").appendChild(e.domNode);b=new w(b);a.byId("notes-filters-message").appendChild(b.domNode)})},updateUserTags:function(){this.userAttrs&&k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/get-tags",{user_id:this.userAttrs.userId}),{handleAs:"json"}).then(function(b){if("success"!==b.status)return!1;var c="";b.tags.qa&&(c+='\x3cspan class\x3d"badge b-qa"\x3eTesting Account\x3c/span\x3e');b.tags.internal&&(c+='\x3cspan class\x3d"badge"\x3einternal\x3c/span\x3e');
b.tags.taxable&&(c+='\x3cspan class\x3d"badge billing"\x3etaxable\x3c/span\x3e');b.tags.agency&&(c+='\x3cspan class\x3d"badge b-agency"\x3ePremium Free\x3c/span\x3e');b.tags.gm&&(c+='\x3cspan class\x3d"badge b-gm"\x3eGolden Monkey\x3c/span\x3e');b.tags.pro&&(c+='\x3cspan class\x3d"badge p0"\x3ePRO User\x3c/span\x3e');b.tags.ctct&&(c+='\x3cspan class\x3d"badge b-ctct"\x3eCTCT Switcher\x3c/span\x3e');b.tags.ecommerce&&(c+='\x3cspan class\x3d"badge b-ecomm"\x3eE-commerce\x3c/span\x3e');b.tags.mandrill&&
(c+='\x3cspan class\x3d"badge b-mandrill"\x3eMandrill\x3c/span\x3e');b.tags.beta_tester&&(c+='\x3cspan class\x3d"badge b-betaTester"\x3eBeta Tester\x3c/span\x3e');b.tags.accessibility&&(c+='\x3cspan class\x3d"badge b-a11y"\x3eAccessibility\x3c/span\x3e');b.tags.direct_mail&&(c+='\x3cspan class\x3d"badge b-direct-mail"\x3eDirect Mail\x3c/span\x3e');h.set(a.byId("user-tags"),c);b.tags.under_maintenance?f(".under-maintenance").removeClass("hide"):f(".under-maintenance").addClass("hide")})},openReviewTools:function(){this.reviewToolsOpen?
(this.reviewToolsOpen=!1,this.closeReviewTools()):(this.reviewToolsOpen=!0,c.remove("review-tools-container","hide"),this.showReviewButtonLabel())},closeReviewTools:function(){c.add("review-tools-container","hide");this.showReviewButtonLabel()},showReviewButtonLabel:function(){var b="Review Tools";c.contains(a.byId("review-tools-container"),"hide")||(b="\x26lt; Hide Tools");h.set(a.byId("review-tools-button"),b)},getTranslatedDescription:function(b){h.set(a.byId("translated-description-label-"+b),
"Translating...");h.set(a.byId("translated-description-"+b),"");c.remove("translated-description-container-"+b,"hide");k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/account/get-translated-description",{user_id:this.userAttrs.userId,list_id:b}),{handleAs:"json"}).then(function(c){if("success"!==c.status)return!1;h.set(a.byId("translated-description-label-"+b),"Translation:");h.set(a.byId("translated-description-"+b),c.translation)},function(c){h.set(a.byId("translated-description-label-"+
b),"Error:");h.set(a.byId("translated-description-"+b),"OOps! Something went wrong when trying to translate the description.")})},saveReviewToolTab:function(a){k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/save-review-tool-state",{user_id:this.userAttrs.userId,section:a}),{handleAs:"json"})},saveCampaignDetailsTab:function(a){k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/campaigns/save-campaign-details-state",{user_id:this.userAttrs.userId,section:a}),{handleAs:"json"})},saveCreditTypeState:function(a){k(q.toUrl("/peaches2/"+
this.userAttrs.agentRole+"/users/billing/save-credit-type-state",{user_id:this.userAttrs.userId,type:a}),{handleAs:"json"})},reasonSelected:function(a){"tos"===a.value?f("select[name\x3dtoshelper]").forEach(function(a){m.set(a,"display","")}):f("select[name\x3dtoshelper]").forEach(function(a){m.set(a,"display","none")})},visitUrl:function(a){this.linkUrl=a=f("[data-id\x3d'"+a+"']")[0].innerHTML;f("#visit-link-url")[0].innerHTML=a;p.byId("visit-link-dialog").show();return!1},confirmedVisitLink:function(){this.linkUrl&&
window.open(this.linkUrl,"_visit_link")},unfurlrUrl:function(a){a=f("[data-id\x3d'"+a+"']")[0].innerHTML;window.open("http://unfurlr.com/?url\x3d"+encodeURIComponent(a),"_visit_link");return!1},unfurlrContactUrl:function(a){window.open("http://unfurlr.com/?url\x3d"+encodeURIComponent(a));return!1},redirectUrl:function(a,b){this.linkId=a;this.redirectCampaignId=b;var c=f("[data-id\x3d'"+this.linkId+"']")[0].innerHTML;f("#new-url")[0].value=c;p.byId("redirect-url-dialog").show()},saveRedirect:function(){var a=
this,b=f("#new-url")[0].value;p.byId("redirect-url-dialog").hide();null!==b&&k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/campaigns/campaign-links-post",{id:this.redirectCampaignId,user_id:this.userAttrs.userId,link_id:this.linkId,url:b}),{handleAs:"json"}).then(function(c){"success"===c.status?f("[data-id\x3d'"+a.linkId+"']")[0].innerHTML=String(b):t.utils.setFlash("Oops! Something happened :( Sorry.","error")})},unbounceDomainSelected:function(){p.byId("unbounce-domain").set("checked",
!0)},unbounceAction:function(a){var b=p.byId("unbounce-all").checked,c=p.byId("unbounce-domain").checked;if(!b&&!c)return t.utils.setFlash("You must select what type of unbounce you would like to do.","error"),!1;var b=f("#domain-to-bounce")[0].value,d="all";!0===c&&(d="domain");k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/campaigns/campaign-unbounce",{user_id:this.userAttrs.userId,cid:a,unbounce:d,domain:b}),{handleAs:"json"}).then(function(a){"success"===a.status?t.utils.setFlash(a.msg,
"success"):t.utils.setFlash("Oops! Something happened :( Sorry.","error")})},loadBounceFilter:function(){var b={filters:[{label:"Domain",key:"domain",type:"text"}],target:"campaign-bounces-list"},c=new u(b);a.byId("campaign-bounces-filters").appendChild(c.domNode);b=new w(b);a.byId("campaign-bounces-filters-message").appendChild(b.domNode)},collapseNotes:function(){m.set("view-notes-button","display","block");c.remove("the-account","flex");c.remove("user-account","account-w-notes");c.remove("user-notes-wrapper",
"user-notes");c.add("the-account","mc-content");m.set("user-notes-wrapper","display","none")},openNotes:function(){m.set("view-notes-button","display","none");c.remove("the-account","mc-content");c.add("the-account","flex");c.add("user-account","account-w-notes");c.add("user-notes-wrapper","user-notes");m.set("user-notes-wrapper","display","block")},showAddNote:function(){e.set(a.byId("new-note-data"),"value","");m.set("add-note","visibility","visible");r.toggleAccordion("add-note");m.set(a.byId("add-note-button"),
"display","none")},hideAddNote:function(){this.addNoteIsVisible=!1;r.toggleAccordion("");m.set(a.byId("add-note-button"),"display","block")},saveNewNote:function(){var b=this,c="/users/add-note";this.addNoteIsVisible=!0;this.multiNotesUserIds&&(c="/users/add-bulk-note");k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+c,{user_id:this.userAttrs.userId,note:a.byId("new-note-data").value,type:a.byId("new-note-type").value}),{handleAs:"json"}).then(function(a){b.showNotes()})},showNotes:function(){this.addNoteIsVisible&&
this.hideAddNote();this.hideEditNote();p.byId("notes-list").render()},editNote:function(b,c){this.editedNoteId=b;a.byId("edit-note-type").value=c;p.byId("edit-note-dialog").show();k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/get-note-text",{user_id:this.userAttrs.userId,note_id:b}),{handleAs:"json"}).then(function(b){a.byId("edit-note-data").value=b})},hideEditNote:function(){p.byId("edit-note-dialog").hide()},pinNote:function(a){var b=this;k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+
"/users/pin-note",{user_id:this.userAttrs.userId,note_id:a}),{handleAs:"json"}).then(function(a){b.showNotes()})},unpinNote:function(a){var b=this;a&&k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/unpin-note",{user_id:this.userAttrs.userId,note_id:a}),{handleAs:"json"}).then(function(a){b.showNotes()})},confirmedEditNote:function(){var b=this;this.editedNoteId&&(this.addNoteIsVisible=!0,k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/edit-note",{user_id:this.userAttrs.userId,note_id:this.editedNoteId,
note:a.byId("edit-note-data").value,type:a.byId("edit-note-type").value}),{handleAs:"json"}).then(function(a){b.showNotes()}))},deleteNote:function(a){this.deleteNoteId=a;p.byId("delete-note-dialog").show()},confirmedDeleteNote:function(){var a=this;this.deleteNoteId&&k(q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/delete-note",{user_id:this.userAttrs.userId,note_id:this.deleteNoteId}),{handleAs:"json"}).then(function(b){a.showNotes()})},reinstate:function(a,b){"undefined"===typeof b&&(b=
!1);var c=q.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/reinstate-post",{user_id:this.userAttrs.userId,whitelist:b});"Y"===a&&(c+="\x26send_email\x3dY");document.location=c}})})},"mojo/app/peaches2/webhooks":function(){define("dojo/_base/declare mojo/views/_base mojo/url dijit/registry dojo/dom-class dojo/dom dojo/query dojo/dom-attr dojo/dom-style dojo/request/xhr mojo/app/peaches2/utils".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){return l(null,{webhookHeadCheckAll:function(){var a=[];e(".check-on-load").forEach(function(b,
c){var d=m.get(b,"id"),e=m.get(b,"data-dojo-url"),f={};f.dom_id=d;f.url=e;a.push(f)});this._checkHead(a)},reCheckHead:function(b,d){var e=[],f={};f.dom_id=b;f.url=d;e.push(f);a.add("pulse-"+b,"block");a.remove("enabled-"+b,"block");a.add("enabled-"+b,"hide");c.byId("errored-"+b).innerHTML="";this._checkHead(e)},purgeRunningJobs:function(a){b(h.toUrl("/peaches2/admin/webhooks/purge-hanged-jobs"),{handleAs:"json",query:{user_id:a}}).then(function(a){var b="Running Jobs purged.";"error"===a.status&&
(b="Running jobs couldn't be purged");n.utils.setFlash(b,a.status)})},purgeEnqueuedJobs:function(a){b(h.toUrl("/peaches2/admin/webhooks/purge-enqueued-jobs"),{handleAs:"json",query:{user_id:a}}).then(function(a){var b="Queued Jobs purged.";"error"===a.status&&(b="Queued jobs couldn't be purged");n.utils.setFlash(b,a.status)})},_checkHead:function(d){var e="",f="",k="";b(h.toUrl("/peaches2/admin/webhooks/check-head"),{handleAs:"json",query:{urls:JSON.stringify(d)}}).then(function(b){for(var h=0;h<
b.results.length;h++){f=b.results[h].status;e=d[b.results[h].index].dom_id;k=b.results[h].response_time;if(void 0===f||null===f)c.byId("badge-"+e).innerHTML="ERROR",a.add("badge-"+e,"error"),a.remove("icon-"+e,"time-circle"),a.remove("icon-"+e,"tick-circle"),a.add("icon-"+e,"not-allowed"),a.add("icon-"+e,"error"),"undefined"!==typeof b.results[h].msg&&(c.byId("errored-"+e).innerHTML=b.results[h].msg,a.remove("errored-"+e,"hide"));else{var m=f;200<=f&&400>f?(a.remove("icon-"+e,"time-circle"),a.add("icon-"+
e,"tick-circle"),a.add("icon-"+e,"success"),a.add("badge-"+e,"success")):(a.remove("icon-"+e,"time-circle"),a.add("icon-"+e,"not-allowed"),a.add("icon-"+e,"error"),a.add("badge-"+e,"error"));"undefined"!==typeof k&&(m=m+" in "+k+"ms");c.byId("badge-"+e).innerHTML=m}a.remove("pulse-"+e,"block");a.add("pulse-"+e,"hide");a.add("enabled-"+e,"block");a.remove("enabled-"+e,"hide")}})},disableWebhook:function(e,h,k,m,l){b(e+"/peaches2/admin/webhooks/disable",{handleAs:"json",query:{user_id:h,list_id:k,url:m}}).then(function(b){"success"===
b.status?(a.add("enabled-wrapper-"+l,"hide"),a.remove("enabled-"+l,"block"),a.remove("pulse-"+l,"block"),a.add("pulse-"+l,"hide"),a.add("paused-"+l,"block"),d.set(c.byId("pause-button-"+l),"display","none"),d.set(c.byId("activate-button-"+l),"display","block")):f.byId("pause-webhook-error").show()})},enableWebhook:function(h,k,m,l,n){var w=this;b(h+"/peaches2/admin/webhooks/enable",{handleAs:"json",query:{user_id:k,list_id:m,url:l}}).then(function(b){"success"===b.status?(e("#paused-"+n+" span.badge")[0].innerHTML=
"Paused",a.remove("enabled-wrapper-"+n,"hide"),a.add("enabled-"+n,"block"),a.add("paused-"+n,"hide"),a.remove("paused-"+n,"block"),d.set(c.byId("pause-button-"+n),"display","block"),d.set(c.byId("activate-button-"+n),"display","none"),w.reCheckHead(n,l)):f.byId("enable-webhook-error").show()})}})})},"mojo/app/patterns/Nav":function(){define("dojo/_base/array dojo/_base/event dojo/dom dojo/dom-class dojo/dom-style dojo/dom-attr dojo/on dojo/query mojo/KeyShortcuts velocity/velocity dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b){var n=document.documentElement,p=/\w*-overlay/,q,r={trapEvents:function(){var a=document.documentElement,b;e(window,"scroll",function(){clearTimeout(b);a.style.pointerEvents||(a.style.pointerEvents="none");b=setTimeout(function(){a.style.pointerEvents=""},125)})},init:function(){r.showOverlay();r.setupMobileNav();m(".close-overlay").on("click",function(){q=p.exec(n.getAttribute("class"))[0];r.hideOverlay(q)});d.onEsc(function(a){a.stopPropagation();q=p.exec(n.getAttribute("class"))[0];
r.hideOverlay(q)})},setupMobileNav:function(){m(".mobile-top-nav").on("click",function(a){a.preventDefault();a.stopPropagation();f.toggle(this,"active")})},showOverlay:function(){m(".menu-button").on("click",function(a){a.stopPropagation();a.preventDefault();r.velocityShowOverlay(m(".phone-overlay-container")[0],"mobile-overlay");r.velocityShowOverlay(m(".tablet-overlay-container")[0],"mobile-overlay");r.setAriaRules("mobile")})},velocityShowOverlay:function(a,c){b(a,"stop");b(a,{opacity:[1,[.7,0,
.175,1],.4],zIndex:[100,"easeInOut",-5]},{duration:225,visibility:"visible",complete:function(){f.add(n,c+" overflow-hidden");"search-overlay"===c&&h.byId("global-search").focus()}})},hideOverlay:function(a){"mobile-overlay"===a?(r.velocityHideOverlay(m(".phone-overlay-container")[0]),r.velocityHideOverlay(m(".tablet-overlay-container")[0])):r.velocityHideOverlay(m("."+a+"-container")[0]);r.setAriaRules()},velocityHideOverlay:function(a){b(a,"stop");b(a,{opacity:[.4,[.7,0,.175,-.3],1],zIndex:[-5,
"easeInOut",100]},{duration:225,visibility:"hidden",complete:function(){f.replace(n,"",q+" overflow-hidden")}})},setAriaRules:function(a){switch(a){case "mobile":c.set(m(".phone-overlay-container")[0],"aria-hidden","false");c.set(m(".tablet-overlay-container")[0],"aria-hidden","false");c.set(m(".main-navigation")[0],"aria-hidden","true");break;default:c.set(m(".phone-overlay-container")[0],"aria-hidden","true"),c.set(m(".tablet-overlay-container")[0],"aria-hidden","true"),c.set(m(".main-navigation")[0],
"aria-hidden","false")}}};return r})},"mojo/app/mvt/ContentLinkStats":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/contentLinkStats.html dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/html dojo/number dojox/html/entities".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([k,h],{templateString:f,rowTpl:'\x3cli\x3e\x3cp class\x3d"!margin--lv0 selfclear padding--lv3 !padding-top-bottom--lv0 !padding-right--lv0"\x3e\x3cspan class\x3d"float-left"\x3eCombination {combo}\x3c/span\x3e\x3cspan class\x3d"float-right"\x3e\x3cspan class\x3d"fwb"\x3e{clicks}%\x3c/span\x3e Clicks\x3c/span\x3e\x3c/p\x3e\x3c/li\x3e',
rowMetaTpl:'\x3cp class\x3d"small-meta !margin--lv0 padding--lv3 !padding-top-bottom--lv0 !padding-right--lv0"\x3e\x3cspan class\x3d"fwb"\x3e{label}:\x3c/span\x3e {value}\x3c/p\x3e',detailedStats:null,contentLinkStats:null,campaignIdToCombo:null,testingSubjects:!1,testingFromNames:!1,testingSchedules:!1,postMixInProperties:function(){this.campaignIdToCombo={};c.forEach(this.detailedStats.combinationStats,a.hitch(this,function(a){this.campaignIdToCombo[a.campaignId]=a}))},showLinkDetails:function(b,
d){e.empty(this.comboList);var f=this.contentLinkStats[b];if(f=f&&f.links[d]){this._setHeader("Link details for Content "+(b+1));c.forEach(f.campaigns,a.hitch(this,function(a){this._addLinkDetail(a)}));var h=this._formatRate(f.overall_clicks,f.overall_delivered)+"%";m.set(this.leftDetails,f.url);m.set(this.rightDetails,h)}},showContentDetails:function(b){e.empty(this.comboList);var f=this.contentLinkStats[b];f&&(this._setHeader("Details"),c.forEach(f.campaigns,a.hitch(this,"_addOverallDetail")),m.set(this.leftDetails,
"Content "+(b+1)),(b=this.detailedStats.variateStats.contents[b])&&m.set(this.rightDetails,d.format(b.avgClickRate,{places:1})+"%"))},_addLinkDetail:function(a){var b=this._formatRate(a.unique_clicks,a.delivered);this._addRow(a.campaign_id,b)},_formatRate:function(a,b){var c=0;b&&(c=a/b*100);0<c&&(c=d.format(c,{places:1}));return c},_addOverallDetail:function(a){this._addRow(a,d.format(this.campaignIdToCombo[a].clickRate,{places:1}))},_addRow:function(c,d){var f=this.campaignIdToCombo[c],h=e.place(a.replace(this.rowTpl,
{combo:f.combination,clicks:d}),this.comboList,"append");this.testingSubjects&&e.place(a.replace(this.rowMetaTpl,{label:"Subject line",value:b.encode(f.subject)}),h);this.testingFromNames&&e.place(a.replace(this.rowMetaTpl,{label:"From",value:b.encode(f.fromName)+"\x26lt;"+f.fromEmail+"\x26gt;"}),h);this.testingSchedules&&e.place(a.replace(this.rowMetaTpl,{label:"Scheduled",value:f.scheduledSendTime}),h)},_setHeader:function(a){this.header.innerHTML=a}})})},"mojo/app/mvt/ContentLinkViewer":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/dom-class mojo/url dojo/on dojo/query dojo/Deferred dojo/dom-geometry mojo/neapolitan/utils velocity/velocity".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){var w=l(null,{iframe:null,contentIndex:null,campaignId:null,doc:null,window:null,contentWidth:null,frameWidth:null,frameHeight:null,selectedLinkIndex:null,constructor:function(a,d){this.links=null;this.campaignId=a;this.contentIndex=d;this.selectedLink=null;this.loadedPromise=new q;var e=b.toUrl("/reports/content-compare-preview",{id:this.campaignId,index:d});this.iframe=c.create("iframe",{"class":"content-compare-frame full-width border-gray !margin-bottom--lv5 hide",
frameborder:"0",marginheight:"0",marginwidth:"0",height:"320",scrolling:"no",style:"max-width: 605px !important",src:e});n.once(this.iframe,"load",f.hitch(this,"_onFrameLoad"))},selectLink:function(a){this.loadedPromise.then(f.hitch(this,function(){if(null!=a&&a!=this.selectedLinkIndex){var b=this._getLink(a);if(b&&!d.contains(b.dom,"mc-outline")){e.set(this.doc.body,{transformOrigin:"0 0"});var c=this._scaleFactor(b.pos.w,b.pos.h);1.5<c&&(c=1.5);var f=-(b.pos.x*c)+(this.frameWidth/2-b.pos.w*c/2),
h=-(b.pos.y*c)+(this.frameHeight/2-b.pos.h*c/2);this._highlightEl(b.dom);this._animateBody(f,h,c)}this.selectedLinkIndex=a}}))},deselectLink:function(){this.loadedPromise.then(f.hitch(this,function(){this._calculateDimensions();this.selectedLinkIndex=null;this._unhighlight();this._zoomToFit()}))},show:function(){d.remove(this.iframe,"hide")},hide:function(){d.add(this.iframe,"hide")},isVisible:function(){return!d.contains(this.iframe,"hide")},_zoomToFit:function(){this.contentWidth||(this.contentWidth=
this._calculateMaxWidth());if(this.contentWidth){var a=((this.frameWidth-100)/this.contentWidth).toFixed(2);e.set(this.doc.body,{transformOrigin:"50% 5%"});this._animateBody("1px","1px",a)}this._precalculatePositions()},_animateBody:function(a,b,c){u(this.doc.body,"stop");u(this.doc.body,{translateX:a,translateY:b,scale:c},{duration:350,easing:"easeOutQuint"})},_precalculatePositions:function(){this._calculateDimensions();this.links||(this.links=[],p("[data-link-pos]",this.doc).forEach(f.hitch(this,
function(a){var b=p(a).children();1==b.length&&"img"==b[0].tagName.toLowerCase()&&(a=b[0]);this.links.push({dom:a,pos:r.position(a)})})))},_getLink:function(a){this._precalculatePositions();return this.links[a]},_onFrameLoad:function(){this.doc=this.iframe.contentWindow.document;this.window=this.iframe.contentWindow;t.createStyles(this.doc).add(".mc-outline { outline: 2px solid red !important; }");n(this.doc,"a:click",function(a){a.preventDefault();a.stopPropagation()});this._calculateDimensions();
this.loadedPromise.resolve()},_calculateDimensions:function(){this.isVisible()&&(this.frameWidth||(this.frameWidth=e.get(this.iframe,"width")),this.frameHeight||(this.frameHeight=e.get(this.iframe,"height")),this.contentWidth||(this.contentWidth=this._calculateMaxWidth()))},_highlightEl:function(a){this._unhighlight();d.add(a,"mc-outline")},_unhighlight:function(){p(".mc-outline",this.doc).removeClass("mc-outline")},_calculateMaxWidth:function(){var a=null;p("*",this.doc).forEach(function(b){b=r.position(b).w;
if(!a||a<b)a=b});return a},_scaleFactor:function(a,b){var c=((this.frameWidth-20)/a).toFixed(2),d=((this.frameHeight-20)/b).toFixed(2);return c<d?c:d}});return l([k,h],{templateString:"\x3cdiv\x3e\x3c/div\x3e",campaignId:null,numContents:1,contentFrames:[],selectedFrameIndex:null,selectedLink:null,postMixInProperties:function(){if(!this.campaignId)throw Error("Unable to view content if campaignId is not set.");if(1>this.numContents)throw Error("numContents must at least be 1");},postCreate:function(){for(var a=
0;a<this.numContents;a++)this._createContentFrame(a)},_createContentFrame:function(a){this.contentFrames[a]=new w(this.campaignId,a);c.place(this.contentFrames[a].iframe,this.domNode)},showContent:function(b,c){b!==this.selectedFrameIndex&&b<this.numContents&&(this.selectedFrameIndex=b,a.forEach(this.contentFrames,function(a,c){b==c?a.show():a.hide()}));null==c||"undefined"==typeof c?this._getCurrentFrame().deselectLink():this._getCurrentFrame().selectLink(c);this.onContentChange(b,c)},_getCurrentFrame:function(){return this.contentFrames[this.selectedFrameIndex]},
onContentChange:function(a,b){}})})},"mojo/app/lists/DMARCInput":function(){define("dojo/_base/declare dijit/_WidgetBase mojo/url dijit/Dialog dojo/_base/lang dojo/on dojo/query dojo/dom dojo/dom-construct dojo/dom-attr dojo/dom-class dojo/_base/array".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){return l([k],{warningClass:"!margin-bottom--lv3",postCreate:function(){this.errorMessage=d.place('\x3cdiv class\x3d"field-help always-show '+this.warningClass+' hide" data-mc-el\x3d"dmarc-warning"\x3eTo \x3ca href\x3d"http://kb.mailchimp.com/delivery/deliverability-research/about-dmarc" class\x3d"nowrap" target\x3d"_blank"\x3eensure delivery\x3c/a\x3e, we\'ll change your from address to \x3cspan data-mc-el\x3d"addyChange"\x3econtact.yahoo.com@send.mailchimpapp.com\x3c/span\x3e\x3c/div\x3e',
this.domNode,"after");b.set(this.domNode,"data-mc-el","dmarc-input");this.checkDomain();this.own(c(this.domNode,"blur",a.hitch(this,function(){this.checkDomain()})))},checkDomain:function(){var a=this.domNode.value;p.some("@aol @yahoo @ymail @rocketmail @mail.ru @kb.ru @list.ru @inbox.ru".split(" "),function(b){return 0<=a.indexOf(b)})?(e(this.errorMessage).next(".invalid-error").forEach(function(a){n.add(a,"hide")}),e('[data-mc-el\x3d"addyChange"]',this.errorMessage)[0].innerHTML=a.split("@").join(".")+
"@send.mailchimpapp.com",n.remove(this.errorMessage,"hide"),n.remove(this.domNode,"invalid")):n.add(this.errorMessage,"hide")}})})},"mojo/app/lists/SegmentBar":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin mojo/analytics/SubscriberTable mojo/analytics/parts/_Part mojo/analytics/parts/Select dojo/_base/lang dojo/query dojo/on dojo/number dojo/dom-class dojo/dom-construct dojo/dom-attr mojo/url mojo/app/lists/segments dojo/text!./templates/segmentBar.html dojox/html/entities".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([a,k,h],{templateString:u,segmentList:null,listId:null,mode:"view",postMixInProperties:function(){this.inherited(arguments);if(!this.segmentList)throw Error("Must have a reference to a segmentList");if(!this.listId)throw Error("Must have a listId");},init:function(){this.own(d(this.editAction,"click",e.hitch(this,"onEditAction")),d(this.closeAction,"click",e.hitch(this,"onCloseAction")),d(this.rerunAction,"click",e.hitch(this,"onRerunAction")),
d(this.saveAction,"click",e.hitch(this,"onSaveAction")),d(this.createAction,"click",e.hitch(this,"onCreateAction")));this.segmentList.setDropDownButton(this.segmentsBtn);this.segmentList.on("overlayShow",e.hitch(this,function(){n.add(this.segmentsBtn,"active")}));this.segmentList.on("overlayHide",e.hitch(this,function(){n.remove(this.segmentsBtn,"active")}));this.target.watch(e.hitch(this,function(a,b,c){switch(a){case "total":case "refreshing":this._updateStatusMessage();break;case "segment":this._toggleActions(),
this._updateStatusMessage()}}));this._updateStatusMessage();this._toggleActions();this._initSubscriberFilter()},editSegmentMode:function(){n.add(this.leftNavContainer,"hide");this.set("mode","edit");this._toggleActions();this._updateStatusMessage()},viewSegmentMode:function(){n.remove(this.leftNavContainer,"hide");this.set("mode","view");this._toggleActions();this._updateStatusMessage()},_initSubscriberFilter:function(){this.subscriberFilter=new c({alwaysVisible:!0,syncAttr:"emailStatus",target:"member-grid",
values:[[f.EMAIL_STATUS.ACTIVE,"All Subscribers"],[f.EMAIL_STATUS.UNSUB,"Unsubscribed"],[f.EMAIL_STATUS.BOUNCED,"Cleaned"],[f.EMAIL_STATUS.TRANSACTIONAL,"Transactional"]]});this.subscriberFilter.startup();this.subscriberFilter.placeAt(this.subscriberFilterContainer)},_toggleActions:function(){var a=this.target.segment,b=a&&a.hasOwnProperty("id"),b=this._isSavedSegment()||!b,c=a&&!a.hasOwnProperty("id"),d=a&&"advanced"==a.type;switch(this.mode){case "view":n.toggle(this.closeAction,"hide",!a);d?n.toggle(this.editAction,
"hide","started"==a.status):n.toggle(this.editAction,"hide",!a||!b);n.toggle(this.saveAction,"hide",!c);n.toggle(this.moreActions.domNode,"hide",!a);n.toggle(this.rerunAction,"hide",!(d&&"started"!=a.status));n.toggle(this.btnContainer,"hide",d);break;case "edit":n.remove(this.closeAction,"hide"),n.add(this.rerunAction,"hide"),n.add(this.editAction,"hide"),n.add(this.saveAction,"hide"),n.add(this.moreActions.domNode,"hide"),n.add(this.btnContainer,"hide")}},_toggleDiscoverSimilarSubscribers:function(){var a=
this.target.segment;n.toggle(this.dssAction.domNode,"hide",!(a&&("saved"==a.type||"static"==a.type)))},_updateStatusMessage:function(){this._showIcon();switch(this.mode){case "view":this._updateViewStatusMessage();break;case "edit":this._updateEditStatusMessage()}},_updateViewStatusMessage:function(){var a="",c=this.target.segment;if(c){var d=c.name?c.name:"New segment";switch(c.status){case "started":this._showIcon("load");a=w.encode(d)+" is generating...";break;case "errored":this._showIcon("error");
a=w.encode(d)+" failed to generate.";break;default:var d=this.target.get("total"),e=b.format(d),f="contact"+(0==d||1<d?"s":"");c.name?(e=e+" "+f+(c.lastRunTimeAgo?" \x26bull; Last ran "+c.lastRunTimeAgo:""),0<=d&&(a=w.encode(c.name)+' \x3cspan class\x3d"fwn padding--lv1 !padding-top-bottom--lv0 !padding-right--lv0"\x3e'+e+"\x3c/span\x3e")):a=e+" "+f+" match"+(1==d?"es":"")+" your conditions."}}this.statusMessage.innerHTML=a},_updateEditStatusMessage:function(){var a;a=this._isSavedSegment()?"Editing "+
this.target.segment.name:"Create a new segment";this.statusMessage.innerHTML=a},_showIcon:function(a){n.toggle(this.loadIcon.domNode,"hide","load"!=a);n.toggle(this.errorIcon,"hide","error"!=a);n.toggle(this.successIcon,"hide","success"!=a)},onSendAction:function(){var a=this.target.segment,b=a&&a.hasOwnProperty("id"),c={list_id:this.listId};"advanced"==a.type?c.pro_segment_id=a.id:b?c.segment_id=a.id:c.segment=1;window.location=r.toUrl("campaigns/create",c)},onAdAction:function(){this._createAdFromSegment(this.target.segment,
!1)},onLookalikeAction:function(){this._createAdFromSegment(this.target.segment,!0)},_createAdFromSegment:function(a,b){var c=this.listId,d=function(a){a={list_id:c,lookalike:b,source_id:a.type.concat(":",a.id),type:"facebook"};window.location=r.toUrl("/ads/create",a)};a.id&&a.type?d(a):t.confirmSave(c).then(e.hitch(this,function(a){d(a)}))},onCloseAction:function(){switch(this.mode){case "view":this.target.clearSegment();break;case "edit":_mc.closeAdvancedSegment(),_mc.cancelSegment()}_mc._toggleSegmentAd(!1)},
onSaveAction:function(){_mc.saveNewSegment();_mc._toggleSegmentAd(!1)},onEditAction:function(a){a.stopPropagation();a.preventDefault();_mc.editSegment()},onRerunAction:function(a){a.stopPropagation();a.preventDefault();this._isAdvancedSegment()&&_mc.rerunAdvancedSegment()},onCreateAction:function(a){a.stopPropagation();a.preventDefault();_mc.newSegment()},_isSavedSegment:function(){var a=this.target.segment;return a&&a.hasOwnProperty("id")&&a.hasOwnProperty("type")&&"saved"==a.type},_isAdvancedSegment:function(){var a=
this.target.segment;return a&&a.hasOwnProperty("type")&&"advanced"==a.type},canDisplay:function(){return!0}})})},"mojo/analytics/SubscriberTable":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/on dojo/request dojo/text!./templates/listMembersTable.html dojo/text!./templates/noData.html dojo/text!./templates/noDataCT.html dojo/parser dojo/Deferred ./parts/VisRowSelector ./parts/Paging ./parts/PageSizeSelect ./_SelectableMixin dojox/mvc/sync dojox/html/entities dojo/query dojo/topic dojo/hash dojo/dom-geometry dijit/registry mojo/user mojo/utils mojo/widgets/CircularLoader dojo/sniff dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J){var T={ACTIVE:"Y",BOUNCED:"B",UNSUB:"N",TRANSACTIONAL:"T"};l=l([k,h,y],{templateString:n,showPagination:!0,persistTableSettings:!0,page:1,canSelectAll:!0,dataUrl:null,segment:null,headers:null,rows:null,emailStatus:T.ACTIVE,sortAttr:null,sortAsc:null,refreshing:!1,constructor:function(){this._syncs=[]},postMixInProperties:function(){this._toggleSelectAll();this.options=a.mixin({pageSize:G.settings.pageSize},this.options);this._reloadNoDataMsg();
this._setDefaults()},toggleAll:function(a){for(var b in this.selected)this._validValue(b)&&!this._valueDisabled(b)&&this.selected.set(b,a)},_valueDisabled:function(a){if(a=z('input[value\x3d"'+a+'"]',this.domNode)[0])return F.byNode(a.parentNode).disabled},_reloadNoDataMsg:function(){var b="egg";if(this.srcNodeRef){var c=m.get(this.srcNodeRef,"data-mojo-nodataicon");c&&(b=c)}this.noDataMsg=this.options.noDataDom?z(this.options.noDataDom).html():this.options.noDataMsg||a.replace(q,{icon:b})},_setDefaults:function(){if(this.persistTableSettings){var b=
C();b&&(b=b.split("-"))&&b.length&&f.forEach(b,a.hitch(this,function(a){a=a.split(":");switch(a[0]){case "p":this.page=parseInt(a[1],10);break;case "s":this.pageSize=parseInt(a[1],10);break;case "sa":this.sortAttr=a[1];break;case "so":this.sortAsc="true"==a[1]}}));0>=this.page&&(this.page=1);100<this.pageSize&&(this.pageSize=100);this.pageSize||(this.pageSize=this.options.pageSize);this.pageSize||(this.pageSize=25);"undefined"!==typeof this.sortAttr&&"undefined"==typeof this.sortAsc&&(this.sortAsc=
!1)}},_persistSettings:function(){if(this.persistTableSettings){var a=[];a.push("p:"+this.page);a.push("s:"+this.pageSize);this.sortAttr&&a.push("sa:"+this.sortAttr);"undefined"!==typeof this.sortAsc&&a.push("so:"+this.sortAsc);C(a.join("-"),!0);G.saveSetting("vis_grid_page_size",this.pageSize)}},postCreate:function(){this.showPagination&&(this.topPaging&&(this.topPaging=new w({target:this},this.topPaging)),this.topPageSizeSelect&&(this.topPageSizeSelect=new v({target:this},this.topPageSizeSelect)),
this.bottomPaging&&(this.bottomPaging=new w({target:this},this.bottomPaging)),this.bottomPageSizeSelect&&(this.bottomPageSizeSelect=new v({target:this},this.bottomPageSizeSelect)));this._initSort();this.watch("page",a.hitch(this,function(){this.refresh(!1)}));this.watch("pageSize",a.hitch(this,function(){1==this.page?this.refresh(!1):this.set("page",1)}));this.options.wait||this.refresh();this.watch("emailStatus",a.hitch(this,function(){this.set("page",1);this.requery()}));this.watch("segment",a.hitch(this,
function(){this._toggleSelectAll();var a=this.segment;a&&"started"==a.status?this.showLoader():(this.set("page",1),this.requery())}));this._instantiateFloatingHeader();this.loader=new L({color:"#6dc5dc",bgColor:"#d0d0d0"});this.loader.startup();this.loader.placeAt(this.loaderDom)},requery:function(){this.refresh(!0)},refresh:function(a){var b=this;if(this.refreshing)return!1;this.set("refreshing",!0);this.showLoader();var c=new t,d=1E3;(function X(){b._fetchData().then(function(e){switch(e.status){case "waiting":d=
Math.ceil(1.15*d);1E4<d&&(d=1E4);setTimeout(X,d);break;case "success":b._onFinishedData(e,a),c.resolve(e)}})})();return c.promise},_onFinishedData:function(a,b){this.segment&&"started"==this.segment.status&&(this.segment.status="finished");this.set("total",a.count);this.total?(this._toggleNoData(!1),this._persistSettings(),this._removeState(b),this._renderTable(b),this.set("refreshing",!1),this.hideLoader(),D.docScroll().y>this.topPosition&&z(".table-pagination")[0].scrollIntoView()):(this.set("refreshing",
!1),this._toggleNoData(!0),this._publishReadyEvent())},_fetchData:function(){var c=b.get(this.dataUrl,{query:{page:this.page,page_size:this.pageSize,email_status:this.emailStatus,sort_attr:this.sortAttr,sort_asc:this.sortAsc,use_segment:null!==this.segment},handleAs:"json"});c.then(a.hitch(this,function(a){this.headers=a.headers;this.rows=a.rows}));return c},showLoader:function(){e.add(this.subscriberTableOverlay,"loading")},hideLoader:function(){e.remove(this.subscriberTableOverlay,"loading")},showSubscribers:function(){this.set("emailStatus",
T.ACTIVE)},showBounces:function(){this.set("emailStatus",T.BOUNCED)},showUnsubscribes:function(){this.set("emailStatus",T.UNSUB)},showTransactional:function(){this.set("emailStatus",T.TRANSACTIONAL)},setSegment:function(a){this.set("segment",a)},clearSegment:function(){this.set("segment",null)},clearSelectionModel:function(a){for(var b in this.selected)this.selected.hasOwnProperty(b)&&this._validValue(b)&&(a||!this._valueSelected(b))&&(this.selected.set(b,!1),delete this.selected[b])},_toggleSelectAll:function(){this.set("canSelectAll",
!this.segment)},_toggleNoData:function(a){var b;b=this.options.noMembersMsg&&!this.segment&&this.emailStatus==T.ACTIVE?this.options.noMembersMsg:this.noDataMsg;a?(e.add(this.dataTable,"hide"),e.remove(this.noData,"hide"),c.place("\x3cdiv\x3e"+b+"\x3c/div\x3e",this.noData,"only")):(e.remove(this.dataTable,"hide"),e.add(this.noData,"hide"))},_renderTable:function(b){var d=this,h=d.rows.length;if(0===h)d.set("total",0),d._toggleNoData(!0),e.add("hide",z(".subscriber-table-wrap")[0]);else{this._publishReadyEvent();
c.empty(d.accessibleTableHeader);c.empty(d.accessibleTable);var k=[],l=c.create("tr");f.forEach(d.headers,function(a){var b;switch(a.id){case "bulk_check":b=c.create("td",{"class":"col-head row-head row-select",role:"columnheader",innerHTML:a.label},l);5<h&&c.create("div",{"class":"vis-row-selector"},b);break;case "email_link":case "view_activity_link":b=c.create("td",{"class":"col-head row-head",role:"columnheader",innerHTML:a.label},l);break;case "list_email_id":break;default:b=c.create("td",{"class":"col-head",
role:"columnheader",innerHTML:A.encode(a.label)},l)}a.sortable&&(m.set(b,"data-mojo-table-sort",a.id),e.add(b,"sortable"),d.sortAttr===a.id&&d._addSortClass(b))});"bulk_check"!==d.headers[0].id?(e.add(d.accessibleTableHeader,"no-checkbox"),e.add(d.accessibleTable,"no-checkbox")):(e.remove(d.accessibleTableHeader,"no-checkbox"),e.remove(d.accessibleTable,"no-checkbox"));1===d.headers.length&&(e.add(d.accessibleTableHeader,"email-only"),e.add(d.accessibleTable,"email-only"));f.forEach(d.rows,function(a){var b=
c.create("tr"),e,h;e=0;f.forEach(d.headers,function(k){if(a.hasOwnProperty(k.id))switch(k=k.id,k){case "email_link":case "view_activity_link":h=c.create("td",{"class":"row-head",title:"View Profile"});k=c.create("div",{"class":"profile-view",innerHTML:a[k]},h);c.place(k,h);c.place(h,b);e++;break;case "bulk_check":var m=c.toDom(a.email_link);c.create("td",{"class":"row-head profile-select",innerHTML:a[k],title:"Email address: "+m.innerHTML},b);e++;break;case "rating":c.create("td",{innerHTML:a[k],
title:"Member Rating"},b);e++;break;case "contact_tags":c.create("td",{innerHTML:a[k],title:"Contact Tags"},b);e++;break;default:0>f.indexOf(d.options.blacklist,k)&&("string"==typeof a[k]&&-1!=a[k].indexOf("\x3cbr")?(m=c.create("td",{title:d.headers[e].label},b),c.create("div",{"class":"address",innerHTML:a[k]},m)):c.create("td",{innerHTML:a[k],title:d.headers[e].label},b)),e++}});k.push(b)});5<h?(c.place(l,d.accessibleTableHeader),e.remove(z(".fixed-header")[0],"hide"),e.remove(z(".table-body")[0],
"few-rows")):(c.place(l,d.accessibleTable),e.add(z(".fixed-header")[0],"hide"),e.add(z(".table-body")[0],"few-rows"));f.forEach(k,function(a){c.place(a,d.accessibleTable)});r.parse(d.accessibleTable);d.resize();d.rowSelector&&d.rowSelector.destroyRecursive();d.rowSelector=new u({target:d,canSelectAll:d.canSelectAll},z(".vis-row-selector",d.accessibleTableHeader)[0]);d.rowSelector=new u({target:d,canSelectAll:d.canSelectAll},z(".vis-row-selector",d.accessibleTable)[0]);z(".selectCheckBox",this.domNode).forEach(a.hitch(this,
function(a){a=F.byNode(a);if(b||1!=d.selected[a.value]&&1!=d.allAll)d.selected[a.value]=!1;else{var c=a.disabled;a.set("checked",!c);d.selected[a.value]=!c}d._syncs.push(x(d.selected,a.value,a,"checked"))}))}},setTopPosition:function(){var a=I.getTabletNaviHeight();this.topPosition=1024>=window.innerWidth?D.position(z(".st")[0],!0).y-a:D.position(z(".st")[0],!0).y},resize:function(){var a=0;if(5<this.rows.length){var b=z("td",z(".table-header tr")[0]),c=z("td",z(".table-contents tr")[0]),d=b.map(function(a){return a.clientWidth}),
e=c.map(function(a){return a.clientWidth});f.forEach(b,function(a,b){var c=Math.max(e[b],d[b]);a.style.width=c+"px";a.style.minWidth=c+"px"});f.forEach(c,function(f,h){var k=Math.max(d[h],e[h]);f.style.width=k+"px";f.style.minWidth=k+"px";if(h===c.length-1){var m=z(".table-body")[0],l=z(".table-contents")[0];a=m.clientWidth-l.clientWidth-k;a>k?(f.style.width="100%",b[h].style.width="100%"):f.style.width=k+"px"}})}else{var c=z("td",z(".table-contents tr")[0]),h=z(".table-body")[0],k=z(".table-contents")[0],
m=c[c.length-1],a=h.clientWidth-k.clientWidth-m.clientWidth;0<a&&(m.style.width="100%")}},_initSort:function(){var a=this;this.own(d(a.domNode,".sortable:click",function(){if(!a.refreshing){var b=a.sortAttr;a.sortAttr=m.get(this,"data-mojo-table-sort");a.sortAsc=b!=a.sortAttr?!0:!a.sortAsc;a._addSortClass(this);a.requery()}}))},_addSortClass:function(a){z("th, .h-head").removeClass("sort-a sort-d sorted");e.add(a,this.sortAsc?"sort-a sorted":"sort-d sorted")},_instantiateFloatingHeader:function(){var a=
this,b=0;d(window,"resize",function(){var c=z("td",z(".table-header tr")[0]),d=z("td",z(".table-contents tr")[0]),e=z(".table-body")[0];if(null!=e){var f=z(".table-contents")[0];d[d.length-1].style.width=0;c[c.length-1].style.width=0;var h=Math.max(c[c.length-1].clientWidth,d[d.length-1].clientWidth);b=e.clientWidth-f.clientWidth-h;J("chrome")&&(b-=6);b>h?(c[c.length-1].style.width=b+"px",d[d.length-1].style.width=b+"px"):(c[c.length-1].style.width=h+"px",d[d.length-1].style.width=h+"px");a._stickyHeader()}});
d(window,"scroll",function(){a._stickyHeader()});a.scrollCache=0;d(a.accessibleTableBody,"scroll",function(){this.scrollLeft!==a.scrollCache&&(a.accessibleTableHeaderBody.scrollLeft=this.scrollLeft,a.scrollCache=this.scrollLeft)});a.accessibleTableHeaderBody&&d(a.accessibleTableHeaderBody,"scroll",function(){this.scrollLeft!==a.scrollCache&&(a.accessibleTableBody.scrollLeft=this.scrollLeft,a.scrollCache=this.scrollLeft)})},_stickyHeader:function(){var a=z(".subscriber-table")[0],b=z(".main")[0],c=
z(".content")[0],d=z(".fixed-header")[0],a=D.position(a);a.h&&(b=D.position(b?b:c),60>a.y&&d?(e.add(d,"sticky"),d.style.top=1024>=window.innerWidth?-1*b.y+60+"px":"60px"):(d.style.top=0,e.remove(d,"sticky")))},_removeState:function(a){f.forEach(this._syncs,"item.remove();");this._syncs=[];this.clearSelectionModel(a)},_publishReadyEvent:function(){B.publish("mojo/analytics/"+this.id+"/ready")}});l.EMAIL_STATUS=T;return l})},"mojo/app/lists/segments":function(){define("dojo/parser dojo/query dojo/_base/lang dojo/dom-form dojo/dom-construct dojo/request dojo/Deferred dijit/registry dojo/_base/array mojo/url dijit/Dialog dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){var p=function(e,h,n){k(".cancel-button",e.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();e.hide()});k("form",e.domNode).on("submit",function(k){k.stopPropagation();k.preventDefault();var w=this;c.post(b.toUrl(n),{data:f.toObject(w),sync:!0,handleAs:"text"}).response.then(function(b){"application/json"==b.getHeader("Content-Type")?(h.resolve(JSON.parse(b.data)),e.hide()):(d.forEach(m.findWidgets(w),function(a){a.destroyRecursive()}),a.place(b.data,
e.containerNode,"only"),l.parse(e.domNode),p(e,h,n))})})};return{confirmSave:function(a,c){var d=new e,f=new n({title:"Save Segment",onDownloadEnd:function(){p(f,d,"lists/segments/save-dialog-post")},onHide:function(){f.destroyRecursive()}});f.setHref(b.toUrl("lists/segments/save-dialog",{id:a,segment_id:c}));f.show();return d.promise},updateSavedSegment:function(a,d,e){return c.post(b.toUrl("lists/segments/update-saved-segment"),{handleAs:"json",data:{id:a,segment_id:d,segment_name:e}})},getEditor:function(a,
d){d||(d={});var e=h.mixin({id:a},d);return c.post(b.toUrl("lists/segments/editor"),{data:e,handleAs:"text"})},deleteSegment:function(a,d){return c.post(b.toUrl("lists/segments/delete"),{data:{id:a,ids:d,as_json:!0},handleAs:"json"})},storeSegment:function(a,d){return c.post(b.toUrl("lists/segments/members/store",{list_id:a}),{data:d,handleAs:"json",sync:!0})}}})},"mojo/app/lists/SegmentDropDown":function(){define("dojo/_base/declare mojo/analytics/parts/_Part dijit/_Templated dojox/mvc/StatefulArray dojo/text!./templates/segmentDropDown.html dojo/_base/lang dojo/_base/array dojo/query dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/on dojo/request/xhr mojo/app/lists/segments dojo/ready dijit/form/DropDownButton dijit/TooltipDialog dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){return l([k,h],{templateString:a,widgetsInTemplate:!0,segmentRow:'\x3cli data-segment-id\x3d"{id}" class\x3d"selfclear"\x3e{name}\x3cbr/\x3e\x3cspan class\x3d"small-meta dim-el"\x3e{typeDescription} \x26middot; Created {createdDate}\x3c/span\x3e\x3c/li\x3e',listId:null,constructor:function(){this._watches=[];this.segmentMap={}},uninitialize:function(){e.forEach(this._watches,function(a){a.unwatch()});this._watches=[];this.inherited(arguments)},postMixInProperties:function(){this.segments=
new f(this.segments&&this.segments.length?c.clone(this.segments):[]);if(!this.listId)throw Error("listId is not set on SegmentDropDown");},init:function(){var a=this;this.dropdown.dropDown=this.segmentsMenu;0<this.segments.length&&b.set(this.emptyMessage,"display","none");var f=null;this.target.segment&&this.target.segment.id&&(f=this.target.segment.id);e.forEach(this.segments,c.hitch(this,function(a){this.segmentMap[a.id]=a;var b=d.place(c.replace(this.segmentRow,a),this.segmentsList);f==a.id&&m(b).addClass("selected")}));
p(this.segmentsList,"li:click",function(){var b=n.get(this,"data-segment-id");r.getEditor(a.listId,{segment_id:b,store:!0}).then(function(c){m("#segment-form-"+this.listId).replaceWith(c);a.target.setSegment(a.segmentMap[b]);a.target.set("page",1);a.target.requery()});a.dropdown.closeDropDown()});p(this.newBtn,"click",function(b){b.stopPropagation();b.preventDefault();r.getEditor(a.listId,{clear:!0}).then(function(b){m("#segment-form-"+this.listId).replaceWith(b);a.target.clearSegment();window.toggleSegment(!0)});
a.dropdown.closeDropDown()});this.target.watch("segment",c.hitch(this,function(a,b,c){this.deselect();c&&c.id&&this.select(c.id)}));t(function(){if(640>=window.innerWidth){var b=window.innerHeight-128;a.segmentsList.style.maxHeight=66*(a.segments.length+1)>b?parseInt(b-30,10)+"px":"inherit";p(a.closeSegmentMenu,"click",function(){a.dropdown.closeDropDown()})}})},select:function(a){this.deselect();parseInt(a)&&(a=this._getDomRow(a));m(a).addClass("selected")},deselect:function(){m("li.selected",this.segmentsLists).removeClass("selected")},
_getDomRow:function(a){return m('li[data-segment-id\x3d"'+a+'"]',this.segmentsList)},updateSegment:function(a){if(a.id){var b=c.replace(this.segmentRow,a);this._getDomRow(a.id).replaceWith(b);c.mixin(this.segmentMap[a.id],a);this.target.segment&&this.target.segment.id&&this.target.segment.id==a.id&&this.select(a.id)}},canDisplay:function(){return!0}})})},"mojo/app/lists/SegmentListOverlay":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_FocusMixin dijit/form/ComboButton dijit/DropDownMenu dijit/MenuItem mojo/analytics/parts/_Part mojo/widgets/LocalNavGroup mojo/widgets/ButtonGroup mojo/widgets/CircularLoader dojo/text!./templates/segmentListOverlay.html dojo/text!./templates/segmentListOverlay/pane.html dojo/text!./templates/segmentListOverlay/row.html dojo/query dojo/on dojo/touch dojo/dom-class dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-attr mojo/app/lists/segments mojo/app/pro/segment mojo/user mojo/url".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G){var I=l([k,h],{templateString:t,segment:null,actions:null,actionLabelTpl:'\x3cspan\x3e\x3ca href\x3d"#"\x3e{label}\x3c/a\x3e\x3c/span\x3e',loadingInfoTpl:"",infoTpl:'\x3cspan class\x3d"fwb"\x3eCreated\x3c/span\x3e on {createdDate}',loader:null,postCreate:function(){this.on("click",A.hitch(this,function(){this.onSelect()}));this.own(w(this.deleteAction,"click",A.hitch(this,"onDelete")));this._updateInfo()},_updateInfo:function(){switch(this.segment.status){case "started":this.loader=
new p({loaderSize:20,strokeWidth:3,color:"#6dc5dc",bgColor:"#d0d0d0","class":"inline-block valign-middle padding--lv1 !padding-left--lv0 !padding-bottom--lv0"});this.loader.placeAt(this.infoContainer);z.place('\x3cspan class\x3d"fwb"\x3eYour segment is generating...\x3c/span\x3e',this.infoContainer);y.add(this.deleteAction,"hide");break;case "errored":var a='\x3cspan class\x3d"fwb"\x3eCreated\x3c/span\x3e on '+this.segment.createdDate;this.segment.lastRunTimeAgo&&(a+=" \x26bull; Failed to run "+this.segment.lastRunTimeAgo);
z.place(a,this.infoContainer);y.remove(this.deleteAction,"hide");break;case "finished":a='\x3cspan class\x3d"fwb"\x3eCreated\x3c/span\x3e on '+this.segment.createdDate,this.segment.lastRunTimeAgo&&(a+=" \x26bull; Last ran "+this.segment.lastRunTimeAgo),z.place(a,this.infoContainer),y.remove(this.deleteAction,"hide")}},onDelete:function(a){a.preventDefault();a.stopPropagation();_mc.confirmDeleteSegment(this.segment)},onSelect:function(){},destroy:function(){this.inherited(arguments);this.loader&&this.loader.destroy()}}),
L=l([k,h],{templateString:r,listId:null,segments:null,rows:null,segmentType:null,postMixInProperties:function(){this.rows={};this.segments||(this.segments=[])},postCreate:function(){u('[data-mc-group\x3d"addStaticSegment"]',this.domNode).forEach(A.hitch(this,function(a){B.set(a,"href",G.toUrl("/lists/segments/new",{id:this.listId,type:"static"}))}));this._toggleNoData();x.forEach(this.segments,A.hitch(this,function(a){var b=this._createRow(a);b.placeAt(this.segmentList);this.rows[a.id]=b}))},_toggleNoData:function(){y.add(this.advancedNoData,
"hide");y.add(this.advancedNotPro,"hide");y.add(this.staticNoData,"hide");y.add(this.savedNoData,"hide");if(!this.segments.length)switch(this.segmentType){case "advanced":F.pro&&(y.remove(this.advancedNoData,"hide"),this._toggleAdvancedDataLoading());break;case "static":y.remove(this.staticNoData,"hide");break;case "saved":y.remove(this.savedNoData,"hide")}"advanced"!=this.segmentType||F.pro||y.remove(this.advancedNotPro,"hide")},_toggleAdvancedDataLoading:function(){y.toggle(this.advancedDataLoading,
"hide",F.pro_import_complete);y.toggle(this.advancedDataLoadingComplete,"hide",!F.pro_import_complete);F.pro_import_complete||(this.advancedLoader=new p({loaderSize:36,strokeWidth:3,color:"#6dc5dc",bgColor:"#d0d0d0","class":"inline-block valign-middle padding--lv1 !padding-left--lv0 !padding-bottom--lv0"}),this.advancedLoader.placeAt(this.advancedDataLoadingLoader))},_createRow:function(a){var b=new I({segment:a});b.startup();b.on("select",A.hitch(this,function(){this.onSelect(b.segment)}));return b},
updateSegmentRow:function(a){var b=this.rows[a.id],c=this._createRow(a);b?(z.place(c.domNode,b.domNode,"replace"),b.destroy()):(z.place(c.domNode,this.segmentList,"first"),this.segments.unshift(a));this.rows[a.id]=c;this._toggleNoData()},removeSegmentRow:function(a){var b=this.rows[a.id];b&&(delete this.rows[a.id],b.destroy());a=this.segments.indexOf(a);-1<a&&this.segments.splice(a,1);this._toggleNoData()},hide:function(){y.add(this.domNode,"hide")},show:function(){y.remove(this.domNode,"hide")},
showAddAction:function(){return"static"!=this.segmentType&&0<this.segments.length},showStaticAddAction:function(){return"static"==this.segmentType&&0<this.segments.length},createNewSegment:function(a){a.stopPropagation();a.preventDefault();switch(this.segmentType){case "saved":_mc.newSegment();break;case "advanced":_mc.openAdvancedSegment()}},onSelect:function(a){},onDelete:function(a){}});return l([d,h,f,a],{templateString:q,listId:null,segments:null,segmentsPanes:null,dropDownButton:null,_dropDownHandler:null,
postMixInProperties:function(){this.segmentsPanes={}},postCreate:function(){this._createSegmentPane("advanced");this._createSegmentPane("saved");this._createSegmentPane("static");this._createTabs();this.inherited(arguments)},show:function(){y.remove(this.domNode,"hide");this._focusManager.focus(this.domNode);this.onOverlayShow()},hide:function(){y.contains(this.domNode,"hide")||(y.add(this.domNode,"hide"),this._onBlur(),this.onOverlayHide())},toggle:function(){y.contains(this.domNode,"hide")?this.show():
this.hide()},setDropDownButton:function(a){this._dropDownHandler&&this._dropDownHandler.remove();this.dropDownButton=a;this._dropDownHandler=w(this.dropDownButton,v.press,A.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.toggle()}))},updateSegment:function(a){var b=a.type;"fuzzy"==b&&(b="static");this.segmentsPanes[b]&&this.segmentsPanes[b].updateSegmentRow(a)},removeSegment:function(a){var b=a.type;this.segmentsPanes[b]&&this.segmentsPanes[b].removeSegmentRow(a)},findSegment:function(a,
b){var c=null;x.some(this.segmentsPanes[b].segments,function(b){return b.id==a?(c=b,!0):!1});return c},_onBlur:function(){this.inherited(arguments);this.hide()},_createTabs:function(){var a=[];a.push({label:"Auto-update",value:"saved"});a.push({label:"Advanced",value:"advanced"});a.push({label:"Static",value:"static"});this.tabs=new n({options:a,templateString:'\x3cul class\x3d"flex"\x3e\x3c/ul\x3e',itemTpl:'\x3cli class\x3d"c-buttonGroupItem"\x3e\x3cbutton type\x3d"button" data-mc-value\x3d"{value}" title\x3d"{title}" class\x3d"c-buttonGroupButton v-buttonGroupUnderlined"\x3e{label}\x3c/button\x3e\x3c/li\x3e',
activeClass:"v-buttonGroupUnderlined--active"});this.tabs.startup();this.tabs.placeAt(this.tabsContainer);this.tabs.on("change",A.hitch(this,"_toggleSegmentPane"));this.tabs.setSelected(a[0].value)},_toggleSegmentPane:function(a){for(var b in this.segmentsPanes){var c=this.segmentsPanes[b];a==b?c.show():c.hide()}},_createSegmentPane:function(a){var b=new L({listId:this.listId,segments:this.segments[a],segmentType:a});b.startup();b.on("select",A.hitch(this,"_onSegmentSelect"));b.hide();b.placeAt(this.tabSections);
this.segmentsPanes[a]=b},_onSegmentSelect:function(a){"finished"!=a.status?this.target.setSegment(a):_mc.selectSegment(a);this.hide()},canDisplay:function(){return!0},onOverlayShow:function(){},onOverlayHide:function(){}})})},"mojo/app/lists/interests":function(){define("dojo/_base/array dojo/_base/lang dojo/dom dojo/dom-class dojo/dom-style dojo/dom-attr dojo/html dojo/mouse dojo/on dojo/query dojo/dom-construct dojo/parser dojo/ready dojo/NodeList-traverse".split(" "),function(l,k,h,f,a,c,e,m,d,
b,n,p,q){var r={group_ct:0,group_markup:'\x3cli id\x3d"new-group-row-{idx}" class\x3d"dojoDndItem interest-groups-ctr descending-tree selfclear padding--lv3 !padding-top--lv0 !padding-right--lv0"\x3e                 \x3cspan class\x3d"freddicon vellip dojoDndHandle inline-block valign-middle"\x3e\x3c/span\x3e                \x3cdiv class\x3d"inline-block dnd-input-container"\x3e                    \x3cinput tabindex\x3d"{idx}" type\x3d"text" placeholder\x3d"Group name" class\x3d"interest-edit !margin--lv0" placeholder\x3d"{name}"\x3e                \x3c/div\x3e                \x3cdiv class\x3d"add-delete-container inline-block margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0 valign-middle"\x3e                    \x3cspan class\x3d"remove-group freddicon remove-circle cursor-pointer" title\x3d"Delete group"\x3e\x3c/span\x3e                \x3c/div\x3e            \x3c/li\x3e',
addGroup:function(a,c){if(60<=b(".interest-groups-ctr").length)alert("You cannot have more than 60 interest groups per list");else{a||(a="");var d=k.replace(this.group_markup,{name:a,idx:this.group_ct}),d=n.place(n.toDom(d),h.byId("new-interest-grouping"),"last");p.parse(d);b("input",d)[0].focus();this.group_ct++;setTimeout(function(){new_group_list.clearItems();new_group_list.startup()},100)}},removeGroup:function(a){f.contains(a.target,"remove-group")&&(a=b(a.target).parents("li.interest-groups-ctr")[0])&&
a.parentNode.removeChild(a)}};q(function(){r.group_ct=b(".interest-groups-ctr").length;d(h.byId("add-interest"),"click",function(){r.addGroup("",!0)});d(h.byId("new-interest-grouping"),"click",r.removeGroup)})})},"mojo/app/lists/members":function(){define("dojo/parser dojo/dom dojo/dom-attr dojo/query dojo/_base/lang dojo/_base/array dojo/dom-form dojo/dom-construct dojo/dom-style dojo/request/xhr dojo/ready dojo/on dojo/fx mojo/url dijit/registry dojo/topic dijit/Dialog velocity/velocity dojo/NodeList-manipulate mojo/widgets/ConfirmInput".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){var y=null,x=[],A=null,z={showBulkDialog:function(b,c){var d=new w({title:"Are you sure?",onHide:function(){d.destroyRecursive()},onDownloadEnd:function(){B(d)}}),e=r.toUrl("lists/bulk-action-confirm",a.mixin({id:b},c));d.setHref(e);d.show()},confirmBulkAction:function(a){var b=Array.prototype.slice.apply(arguments).slice(1);this.confirmBulkActionWithParameters(a,listId,!0,!1,null,b)},confirmBulkActionWithParameters:function(a,b,c,d,e,f){"undefined"==
typeof f&&(f=[]);var h={id:b,action:a,"params[]":f};c&&(c=t.byId("member-grid"),h.members=c.allAll?"all":c.getSelection().length);d&&(h.members="all");y=a;x=f;A=e;this.showBulkDialog(b,h)},bulkAction:function(a){var b=t.byId("member-grid");a={id:a,action:y,"params[]":x};!b||b.allAll?a.members="all":a["members[]"]=b.getSelection();dojo.xhrPost({url:r.toUrl("lists/bulk-action"),content:a,handleAs:"json",load:function(a){var c,d;b&&b.toggleAll(!1);a.error?(c=dojo.byId("bulk-error"),d=dojo.query(".bulk-msg-error")[0],
d.innerHTML=a.error):a.error_msg?(d=dojo.query(".bulk-msg-error")[0],d.innerHTML=a.error_msg):(c=dojo.byId("bulk-success"),d=dojo.query(".bulk-msg-success")[0],d.innerHTML=a.msg,A&&A());a.done&&t.byId("member-grid")&&t.byId("member-grid").requery();v(c,"stop");v(c,{maxHeight:["400px","easeIn",0]},{duration:225,display:"block"});setTimeout(function(){v(c,"stop");v(c,{maxHeight:[0,"easeOut","400px"]},{duration:225,display:"none"})},1E4)}})}},B=function(a){f(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();
b.preventDefault();a.hide()});f(".bulk-action-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();if((b=t.byId("confirmInput"))?b.validate():1)z.bulkAction(t.byNode(this).value),a.hide()})};return z})},"mojo/app/dashboard/dash":function(){define("dojo/query dojo/dom dojo/dom-class dojo/dom-style dojo/dom-attr dojo/dom-construct dojo/on dijit/registry mojo/utils dojo/ready mojo/charts mojo/url".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){var q={updateContentPane:function(b,
c){var d=m.byId(a.get(b,"data-target")),e=a.get(b,"data-url");d&&e&&(d.set("href",e+"?id\x3d"+c),a.set(k.byId("recent-campaigns-view-report"),"href",p.toUrl("reports/summary",{id:c})))},loadGrowthChart:function(a,b,d){c.empty("list-growth-chart");"undefined"==typeof d&&(d={existing:m.byId("toggle-existing").checked,imported:m.byId("toggle-imported").checked,subscribed:m.byId("toggle-subscribed").checked});chart=new n.ListGrowthChart("list-growth-chart",b,a,"recent",null,d)}};b(function(){l("body");
l(".content-selector")[0]&&l(".content-selector").forEach(function(a){q.updateContentPane(a,m.byNode(a).value)});k.byId("list-growth-chart")&&q.loadGrowthChart("all",q.chartUrl,q.chartDefaults)});return q})},"mojo/charts":function(){define("dojo/_base/declare dojo/_base/array dojo/dom dojo/query dojo/_base/lang dojo/dom-class dojo/dom-style dojo/dom-attr dojo/dom-construct mojo/user dojo/request/xhr".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){e={};e.ListGrowthChart=l([],{overviewNoData:'\x3cdiv class\x3d"lastUnit size1of1 !padding--lv0"\x3e\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-report.svg" role\x3d"presentation"\x3e\x3ch2\x3eWe don\u2019t have enough list growth data yet.\x3c/h2\x3e\x3cp\x3eGrow your list with a \x3ca href\x3d"/lists/design?id\x3d{listId}" title\x3d"Build/design your signup form, response emails, and more"\x3esubscribe form\x3c/a\x3e.\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e',
chartNoData:'\x3cdiv class\x3d"lastUnit size1of1 !padding--lv0"\x3e\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-report.svg" role\x3d"presentation"\x3e\x3ch2\x3eThere\u2019s no growth data for this list yet.\x3c/h2\x3e\x3cp\x3e\x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/article/how-do-i-get-more-people-to-join-my-list/"\x3eHow do I get more subscribers?\x3c/a\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(b,c,d,e,f,k){this.elementId=
b;this.dataProviderUrl=c;this.customColors=f;this.defaults=k;this.defaults||(this.defaults={existing:!0,imported:!0,subscribed:!0});var m=this;n.get(this.dataProviderUrl,{query:{id:d,limit:e},handleAs:"json"}).then(function(c){if(c&&0<c.length){for(var e=null,f=0;f<c.length;f++)e=c[f].datestr.split("-"),c[f].date=new Date(e[0],e[1]-1,1);m.renderData(c)}else h.byId("growth-chart-overview")?h.byId("growth-chart-overview").innerHTML=a.replace(m.overviewNoData,{listId:d}):h.byId(b).innerHTML=m.chartNoData},
function(a){})},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.panEventsEnabled=!0;this.chart.marginLeft=50;this.chart.marginRight=50;this.chart.dataProvider=a;this.chart.categoryField="date";this.chart.startDuration=0;this.chart.color="#555";this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";this.chart.fontSize=13;this.chart.balloon.showBullet=!1;this.chart.balloon.textShadowColor="none";
this.chart.balloon.horizontalPadding=15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";this.chart.balloon.fillAlpha=1;this.chart.balloon.adjustBorderColor=!1;this.chart.categoryAxis.parseDates=!0;this.chart.categoryAxis.equalSpacing=!1;this.chart.categoryAxis.minPeriod="MM";this.chart.categoryAxis.axisColor="#ccc";this.chart.categoryAxis.gridAlpha=0;this.chart.categoryAxis.dateFormats=
[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD, YYYY"},{period:"MM",format:"MMM YYYY"},{period:"YYYY",format:"YYYY"}];a=new AmCharts.ValueAxis;a.stackType="regular";a.dashLength=0;a.axisColor="#e0e0e0";a.axisThickness=0;this.chart.addValueAxis(a);this.existing=new AmCharts.AmGraph;this.existing.valueField="existing";this.existing.type="column";this.existing.fillAlphas=1;this.existing.lineColor=
this.customColors?this.customColors[0]:"#b1e0ec";this.existing.balloonText="[[value]] Existing";this.existing.balloonColor="#8fb8c9";this.existing.bullet="none";this.chart.addGraph(this.existing);this.imported=new AmCharts.AmGraph;this.imported.valueField="imports";this.imported.type="column";this.imported.fillAlphas=1;this.imported.lineColor=this.customColors?this.customColors[1]:"#6dc5dc";this.imported.balloonText="[[value]] Imported";this.imported.bullet="none";this.chart.addGraph(this.imported);
this.subscribed=new AmCharts.AmGraph;this.subscribed.valueField="optins";this.subscribed.type="column";this.subscribed.fillAlphas=1;this.subscribed.lineColor=this.customColors?this.customColors[2]:"#2c9ab7";this.subscribed.balloonText="[[value]] Subscribed";this.chart.addGraph(this.subscribed);a=new AmCharts.ChartCursor;a.categoryBalloonDateFormat="MMM YYYY";a.cursorColor="#333";a.cursorAlpha=.2;a.cursorPosition="middle";a.oneBalloonOnly=!0;this.chart.addChartCursor(a);this.chart.write(this.elementId);
this.defaults.existing||this.chart.hideGraph(this.existing);this.defaults.imported||this.chart.hideGraph(this.imported);this.defaults.subscribed||this.chart.hideGraph(this.subscribed)},showMonth:function(a){},toggleActivity:function(a,c){c?this.chart.showGraph(eval("this."+a)):this.chart.hideGraph(eval("this."+a));this.chart.validateData();b.saveSetting("dashboard_show_"+a,c)}});e.AutomationChart=l([],{chartNoData:'\x3cdiv class\x3d"lastUnit size1of1"\x3e\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-report.svg" role\x3d"presentation"\x3e\x3ch2\x3eWe don\x26rsquo;t have enough data yet.\x3c/h2\x3e\x3cp class\x3d"section"\x3eWe\x26rsquo;ll show you some pretty charts here once your workflow starts sending.\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e',
constructor:function(a,b,c){this.elementId=a;this.dataProviderUrl=b;var d=this;n.get(this.dataProviderUrl,{query:{id:c},handleAs:"json",content:""}).then(function(b){b&&1<=b.length?d.renderData(b):(h.byId(a).innerHTML=d.chartNoData,f("#automation-performance-legend").style("display","none"),f("#automation-performance-details").style("display","none"))},function(a){})},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=
a;this.chart.categoryField="date";this.chart.startDuration=0;this.chart.autoMargins=!1;this.chart.marginTop=10;this.chart.marginRight=0;this.chart.marginBottom=50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=!1;this.chart.balloon.textShadowColor="none";this.chart.balloon.horizontalPadding=15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";
this.chart.balloon.fillAlpha=1;this.chart.balloon.adjustBorderColor=!1;this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";this.chart.fontSize=13;var b=this.chart.categoryAxis;b.autoGridCount=!1;b.gridPosition="start";b.dashLength=0;b.axisColor="#ccc";b.axisThickness=2;b.gridAlpha=0;b.labelsEnabled=!1;b=new AmCharts.ValueAxis;b.dashLength=0;b.gridThickness=0;b.axisColor="#e0e0e0";b.axisThickness=0;b.position="right";this.chart.addValueAxis(b);var c=new AmCharts.ValueAxis;
c.dashLength=0;c.axisAlphaaxisAlpha=0;c.unit="%";c.axisColor="#e0e0e0";c.axisThickness=0;k.some(a,function(a){return a&&100==a.open_rate})&&(c.maximum=100);this.chart.addValueAxis(c);this.sends=new AmCharts.AmGraph;this.sends.valueField="sends";this.sends.type="column";this.sends.fillAlphas=1;this.sends.lineColor="#b1e0ec";this.sends.showBallon=!0;this.sends.balloonText="[[value]] Emails Sent";this.sends.balloonColor="#8fb8c9";this.sends.bullet="none";this.sends.valueAxis=b;this.chart.addGraph(this.sends);
this.clickrate=new AmCharts.AmGraph;this.clickrate.title="Click Rate";this.clickrate.valueField="click_rate";this.clickrate.type="smoothedLine";this.clickrate.lineColor="#2c9ab7";this.clickrate.balloonText="[[clicks]] Clicks - [[value]]%";this.clickrate.lineThickness=3;this.clickrate.bullet="round";this.clickrate.bulletColor="#fff";this.clickrate.bulletBorderColor=this.customColors?this.customColors[0]:"#2c9ab7";this.clickrate.bulletBorderThickness=2;this.clickrate.bulletBorderAlpha=1;this.clickrate.bulletSize=
6;this.clickrate.fillAlphas=0;this.clickrate.valueAxis=c;this.chart.addGraph(this.clickrate);this.openrate=new AmCharts.AmGraph;this.openrate.title="Open Rate";this.openrate.valueField="open_rate";this.openrate.type="smoothedLine";this.openrate.lineColor="#9bcfc2";this.openrate.balloonText="[[opens]] Opens - [[value]]%";this.openrate.lineThickness=2;this.openrate.bullet="round";this.openrate.bulletColor="#fff";this.openrate.bulletBorderColor=this.customColors?this.customColors[0]:"#9bcfc2";this.openrate.bulletBorderThickness=
2;this.openrate.bulletBorderAlpha=1;this.openrate.bulletSize=6;this.openrate.fillAlphas=0;this.openrate.valueAxis=c;this.chart.addGraph(this.openrate);a=new AmCharts.ChartCursor;a.cursorColor="#333";a.cursorAlpha=.2;a.cursorPosition="middle";a.bulletsEnabled=!0;a.bulletSize=6;this.chart.addChartCursor(a);this.chart.write(this.elementId)}});e.PerformanceOverviewChart=l([],{noDataMessage:'\x3cdiv class\x3d"lastUnit size1of1 !padding--lv0"\x3e\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-report.svg" role\x3d"presentation"\x3e\x3ch2\x3eWe don\u2019t have enough campaign performance data yet.\x3c/h2\x3e\x3c/div\x3e\x3c/div\x3e',
constructor:function(a,b,c,d){this.elementId=a;this.dataProviderUrl=b;this.customColors=c;this.hasIndustry=d;var e=this;n.get(this.dataProviderUrl,{handleAs:"json",content:""}).then(function(b){b&&0<b.length?e.renderData(b):(h.byId(a).innerHTML=e.noDataMessage,f("#campaign-performance-legend").style("display","none"))},function(a){})},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=a;this.chart.categoryField="bubbleText";
this.chart.startDuration=0;this.chart.autoMargins=!1;this.chart.marginTop=10;this.chart.marginRight=0;this.chart.marginBottom=50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=!1;this.chart.balloon.textShadowColor="none";this.chart.balloon.horizontalPadding=15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";this.chart.balloon.fillAlpha=
1;this.chart.balloon.adjustBorderColor=!1;this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";this.chart.fontSize=13;this.chart.addListener("clickGraphItem",this.dataPointClickedEvt);this.hasIndustry&&(this.indavg=new AmCharts.AmGraph,this.indavg.title="Industry Average",this.indavg.valueField="industryAvg",this.indavg.type="line",this.indavg.lineColor=this.customColors?this.customColors[0]:"#E85C41",this.indavg.dashLength=3,this.indavg.balloonText="[[value]]% Industry Avg",
this.indavg.lineThickness=2,this.indavg.bullet="round",this.indavg.bulletSize=0,this.indavg.fillAlphas=0,this.chart.addGraph(this.indavg));this.clicks=new AmCharts.AmGraph;this.clicks.title="Click Rate";this.clicks.valueField="clickRate";this.clicks.type="smoothedLine";this.clicks.lineColor=this.customColors?this.customColors[0]:"#2c9ab7";this.clicks.balloonText="[[value]]% Click Rate";this.clicks.lineThickness=3;this.clicks.bullet="round";this.clicks.bulletColor="#fff";this.clicks.bulletBorderColor=
this.customColors?this.customColors[0]:"#2c9ab7";this.clicks.bulletBorderThickness=2;this.clicks.bulletBorderAlpha=1;this.clicks.bulletSize=6;this.clicks.fillAlphas=.3;this.chart.addGraph(this.clicks);this.opens=new AmCharts.AmGraph;this.opens.title="Open Rate";this.opens.valueField="openRate";this.opens.type="smoothedLine";this.opens.lineColor=this.customColors?this.customColors[1]:"#9bcfc2";this.opens.balloonText="[[value]]% Open Rate";this.opens.lineThickness=2;this.opens.bullet="round";this.opens.bulletColor=
"#fff";this.opens.bulletBorderColor=this.customColors?this.customColors[0]:"#9bcfc2";this.opens.bulletBorderThickness=2;this.opens.bulletBorderAlpha=1;this.opens.bulletSize=6;this.opens.fillAlphas=0;this.chart.addGraph(this.opens);var b=this.chart.categoryAxis;b.autoGridCount=!1;b.gridPosition="start";b.dashLength=0;b.axisColor="#ccc";b.axisThickness=2;b.gridAlpha=0;b.labelsEnabled=!1;b=new AmCharts.ValueAxis;b.dashLength=0;b.axisAlpha=0;b.unit="%";b.axisColor="#e0e0e0";b.axisThickness=0;k.some(a,
function(a){return a&&100==a.openRate})&&(b.maximum=100);this.chart.addValueAxis(b);a=new AmCharts.ChartCursor;a.cursorColor="#333";a.cursorAlpha=.2;a.cursorPosition="middle";a.bulletsEnabled=!0;a.bulletSize=6;this.chart.addChartCursor(a);h.byId(this.elementId).innerHTML="";this.chart.write(this.elementId)},dataPointClickedEvt:function(a){var b="",c=a.graph.valueField;"clickRate"==c&&(b=a.item.dataContext.clickUrl,window.location=b);"openRate"==c&&(b=a.item.dataContext.openUrl,window.location=b)},
cursorChangedEvt:function(a){var b=a.target.chart.dataProvider;a=b[a.index];if("undefined"!=typeof a&&"undefined"!=typeof b){var d;f("[data-campaignId]").forEach(function(a){d=a.parentElement.parentElement;c.contains(d,"google-visualization-table-tr-sel")&&c.remove(d,"google-visualization-table-tr-sel")});"undefined"!=typeof f("[data-campaignId\x3d"+a.campaignId+"]")[0]&&(b=f("[data-campaignId\x3d"+a.campaignId+"]")[0].parentElement.parentElement,c.add(b,"google-visualization-table-tr-sel"))}}});
e.ListSocialAgeChart=l([],{noDataMessage:'\x3cdiv class\x3d"highlighted-message"\x3eNo Data Available\x3c/div\x3e',constructor:function(a,b,c,d){this.elementId=a;this.dataProviderUrl=b;this.customColors=d;var e=this;n.get(this.dataProviderUrl,{query:{id:c},handleAs:"json"}).then(function(b){b&&0<b.length?e.renderData(b):h.byId(a).innerHTML=e.noDataMessage},function(a){})},renderData:function(a){this.chart=new AmCharts.AmPieChart;this.chart.dataProvider=a;this.chart.startDuration=0;this.customColors&&
(this.chart.colors=this.customColors);this.chart.pieBaseColor="#46BCD2";this.chart.pieBrightnessStep=-30;this.chart.percentFormatter={precision:0,decimalSeparator:".",thousandsSeparator:","};this.chart.titleField="age";this.chart.valueField="count";this.chart.angle=10;this.chart.depth3D=8;this.chart.minRadius=55;this.chart.balloonText="[[title]]: [[percents]]%";this.chart.write(this.elementId);this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";this.chart.fontSize=
13}});e.ReportsTimeseriesChart=l([],{noDataMessage:'\x3cdiv class\x3d"highlighted-message"\x3eNo Data Available\x3c/div\x3e',constructor:function(a,b,c){this.elementId=a;this.dataProviderUrl=b;this.customColors=c;this.updateData()},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=a;this.chart.categoryField="time";this.chart.startDuration=0;this.chart.autoMargins=!1;this.chart.marginTop=25;this.chart.marginBottom=
50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=!1;this.chart.balloon.textShadowColor="none";this.chart.balloon.horizontalPadding=15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";this.chart.balloon.fillAlpha=1;this.chart.balloon.adjustBorderColor=!1;this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";
this.chart.fontSize=13;this.opens=new AmCharts.AmGraph;this.opens.title="Opens";this.opens.valueField="opens";this.opens.type="line";this.opens.lineColor=this.customColors?this.customColors[0]:"#9bcfc2";this.opens.balloonText="[[value]] Opens";this.opens.lineThickness=3;this.opens.bullet="round";this.opens.bulletSize=0;this.opens.fillAlphas=0;this.chart.addGraph(this.opens);this.clicks=new AmCharts.AmGraph;this.clicks.title="Clicks";this.clicks.valueField="clicks";this.clicks.type="line";this.clicks.lineColor=
this.customColors?this.customColors[1]:"#2c9ab7";this.clicks.balloonText="[[value]] Clicks";this.clicks.lineThickness=2;this.clicks.bullet="round";this.clicks.bulletSize=0;this.clicks.fillAlphas=0;this.chart.addGraph(this.clicks);a=this.chart.categoryAxis;a.autoGridCount=!1;a.gridPosition="start";a.dashLength=0;a.axisColor="#ccc";a.axisThickness=2;a.gridAlpha=0;a=new AmCharts.ValueAxis;a.dashLength=0;a.axisColor="#e0e0e0";a.axisThickness=0;this.chart.addValueAxis(a);a=new AmCharts.ChartCursor;a.cursorColor=
"#333";a.cursorAlpha=.2;a.cursorPosition="middle";this.chart.addChartCursor(a);this.chart.write(this.elementId)},updateData:function(){var a=this;n.get(this.dataProviderUrl,{handleAs:"json"}).then(function(b){b&&0<b.length?a.chart?(a.chart.dataProvider=b,a.chart.validateData()):a.renderData(b):h.byId(a.elementId).innerHTML=a.noDataMessage},function(a){})}});e.PageReportsTimeseriesChart=l([],{noDataMessage:'\x3cdiv class\x3d"highlighted-message"\x3eNo Data Available\x3c/div\x3e',constructor:function(a,
b,c){this.elementId=a;this.dataProviderUrl=b;this.customColors=c;this.updateData()},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=a;this.chart.categoryField="time";this.chart.startDuration=0;this.chart.autoMargins=!1;this.chart.marginTop=25;this.chart.marginBottom=50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=!1;this.chart.balloon.textShadowColor="none";this.chart.balloon.horizontalPadding=
15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";this.chart.balloon.fillAlpha=1;this.chart.balloon.adjustBorderColor=!1;this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";this.chart.fontSize=13;this.opens=new AmCharts.AmGraph;this.opens.title="Visits";this.opens.valueField="opens";this.opens.type="smoothedLine";this.opens.lineColor=
this.customColors?this.customColors[0]:"#9bcfc2";this.opens.balloonText="[[value]] Visits";this.opens.lineThickness=3;this.opens.bullet="round";this.opens.bulletColor="#fff";this.opens.bulletBorderColor=this.customColors?this.customColors[0]:"#9bcfc2";this.opens.bulletBorderThickness=2;this.opens.bulletBorderAlpha=1;this.opens.bulletSize=6;this.opens.fillAlphas=0;this.chart.addGraph(this.opens);this.clicks=new AmCharts.AmGraph;this.clicks.title="Clicks";this.clicks.valueField="clicks";this.clicks.type=
"smoothedLine";this.clicks.lineColor=this.customColors?this.customColors[0]:"#2c9ab7";this.clicks.balloonText="[[value]] Clicks";this.clicks.lineThickness=3;this.clicks.bullet="round";this.clicks.bulletColor="#fff";this.clicks.bulletBorderColor=this.customColors?this.customColors[0]:"#2c9ab7";this.clicks.bulletBorderThickness=2;this.clicks.bulletBorderAlpha=1;this.clicks.bulletSize=6;this.clicks.fillAlphas=0;this.chart.addGraph(this.clicks);a=this.chart.categoryAxis;a.autoGridCount=!1;a.gridPosition=
"start";a.dashLength=0;a.axisColor="#ccc";a.axisThickness=2;a.gridAlpha=0;a=new AmCharts.ValueAxis;a.dashLength=0;a.axisColor="#e0e0e0";a.axisThickness=0;this.chart.addValueAxis(a);a=new AmCharts.ChartCursor;a.cursorColor="#333";a.cursorAlpha=.2;a.cursorPosition="middle";this.chart.addChartCursor(a);this.chart.write(this.elementId)},updateData:function(){var a=this;n.get(this.dataProviderUrl,{handleAs:"json"}).then(function(b){b&&0<b.length?a.chart?(a.chart.dataProvider=b,a.chart.validateData()):
a.renderData(b):h.byId(a.elementId).innerHTML=a.noDataMessage})}});e.RevenueOverviewChart=l([],{noDataMessage:'\x3cdiv class\x3d"lastUnit size1of1 !padding--lv0"\x3e\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-analytics.svg" role\x3d"presentation"\x3e\x3ch2\x3eWe don\u2019t have enough analytics data yet.\x3c/h2\x3e\x3c/div\x3e\x3c/div\x3e',constructor:function(a,b,c){this.elementId=a;this.dataProviderUrl=b;this.customColors=c;var d=this;n.get(this.dataProviderUrl,
{query:"",handleAs:"json"}).then(function(b){b&&0<b.length?d.renderData(b):h.byId(a).innerHTML=d.noDataMessage},function(a){})},renderData:function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=a;this.chart.categoryField="bubbleText";this.chart.startDuration=0;this.chart.autoMargins=!1;this.chart.marginTop=10;this.chart.marginRight=0;this.chart.marginBottom=50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=
!1;this.chart.balloon.textShadowColor="none";this.chart.balloon.horizontalPadding=15;this.chart.balloon.verticalPadding=5;this.chart.balloon.borderThickness=0;this.chart.balloon.borderThickness=0;this.chart.balloon.shadowAlpha=0;this.chart.balloon.color="#FFFFFF";this.chart.balloon.fillAlpha=1;this.chart.balloon.adjustBorderColor=!1;this.chart.fontFamily="'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif";this.chart.fontSize=13;this.chart.addListener("clickGraphItem",this.dataPointClickedEvt);
this.revenue=new AmCharts.AmGraph;this.revenue.title="Revenue";this.revenue.valueField="revenue";this.revenue.type="smoothedLine";this.revenue.showHandOnHover=!0;this.revenue.lineColor=this.customColors?this.customColors[0]:"#2c9ab7";this.revenue.balloonText="Revenue of [[value]]";this.revenue.lineThickness=3;this.revenue.bullet="round";this.revenue.bulletColor="#fff";this.revenue.bulletBorderColor=this.customColors?this.customColors[0]:"#2c9ab7";this.revenue.bulletBorderThickness=2;this.revenue.bulletBorderAlpha=
1;this.revenue.bulletSize=8;this.revenue.fillAlphas=0;this.chart.addGraph(this.revenue);a=this.chart.categoryAxis;a.autoGridCount=!1;a.gridPosition="start";a.dashLength=0;a.axisColor="#ccc";a.axisThickness=2;a.gridAlpha=0;a.labelsEnabled=!1;a=new AmCharts.ValueAxis;a.dashLength=0;a.axisAlpha=0;a.unitPosition="left";a.axisColor="#e0e0e0";a.axisThickness=0;this.chart.addValueAxis(a);a=new AmCharts.ChartCursor;a.cursorColor="#333";a.cursorAlpha=.2;a.cursorPosition="middle";a.bulletsEnabled=!0;a.bulletSize=
10;this.chart.addChartCursor(a);a.addListener("changed",this.cursorChangedEvt);this.chart.addListener("zoomed",this.chartZoomed);h.byId(this.elementId).innerHTML="";this.chart.write(this.elementId)},dataPointClickedEvt:function(a){var b="";"revenue"==a.graph.valueField&&(b=a.item.dataContext.openUrl,window.location=b)},chartZoomed:function(a){var b=a.chart.dataProvider,c=a.startIndex;a=a.endIndex;var d=0;if("undefined"!=typeof b){for(var e=a;e>=c;e--)d+=b[e].revenue;f(".startDate")[0].innerHTML=b[c].sentDate;
f(".endDate")[0].innerHTML=b[a].sentDate;f(".zoomRevenue")[0].innerHTML=d.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$\x26,")}}});return e})},"mojo/app/common/sticky-hoverlist":function(){define("dojo/_base/array dojo/_base/event dojo/dom dojo/dom-class dojo/query dojo/NodeList-traverse dojo/on dojo/touch dojo/ready".split(" "),function(l,k,h,f,a,c,e,m,d){d(function(){var b=a(".hover-list"),c=h.byId("main-content"),d=a(".wizard-container")[0],k=a(".column-toggle")[0],m=[],l={closeAll:function(b,c){0<
m.length&&c!==m[0]&&(f.remove(a(".hover-list")[m[0]],"stayopen"),m.length=0);this.handleClick(b,c)},handleClick:function(a,b){f.contains(a,"stayopen")?(f.remove(a,"stayopen"),m.pop()):(f.add(a,"stayopen"),m.push(b))}};b.forEach(function(a,b){e(a,"click",function(a){l.closeAll(this,b)})});c&&e(c,"click",function(b){0===a(b.target).parents(".hover-list").length&&0<m.length&&(f.remove(a(".hover-list")[m[0]],"stayopen"),m.length=0);0===a(b.target).parents(".reorder").length&&k&&f.contains(k,"column-toggle--active")&&
f.remove(k,"column-toggle--active")});d&&e(d,"click",function(b){0===a(b.target).parents(".hover-list").length&&0<m.length&&(f.remove(a(".hover-list")[m[0]],"stayopen"),m.length=0)})})})},"mojo/app/campaigns/RecipientCountBar":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/recipientCountBar.html dojo/text!./templates/fixedRecipientCountBar.html dojo/dom-class dojo/dom-construct dojo/on dojo/_base/lang dojo/dom dojo/throttle dojo/dom-geometry mojo/app/campaigns/recipients mojo/app/pro/segment dojox/html/entities mojo/widgets/SubscriberTableOverlay dojo/number".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){function y(a){A||(A=new x,A.startup(),m.place(A.domNode,n.byId("av-content"),"last"));A.update(a)}var x=l([k,h,f],{templateString:c,currentBar:null,postCreate:function(){this.own(d(this.updateBtn,"click",b.hitch(this,"_updateCount")),d(n.byId("av-content"),"scroll",p(b.hitch(this,"_handleScroll"),10)),d(this.domNode,"[data-mc-action\x3dpreview]:click",b.hitch(this,function(a){a.stopPropagation();a.preventDefault();this._previewRecipients()})))},_handleScroll:function(){var a=
q.position(this.currentBar.domNode,!0),b=q.position("av-content",!0);a.y-20<=b.y?e.remove(this.domNode,"invisible"):e.add(this.domNode,"invisible")},_previewRecipients:function(){this.currentBar&&this.currentBar.previewRecipients()},_updateCount:function(){this.currentBar&&this.currentBar.reloadCount()},update:function(a){this.currentBar=a;this.countNode.innerHTML=a.countNode.innerHTML;this.copyNode.innerHTML=a.copyNode.innerHTML;e.toggle(this.countNode,"hide",e.contains(a.countNode,"hide"));e.toggle(this.copyNode,
"hide",e.contains(a.copyNode,"hide"));e.toggle(this.loadingNode,"hide",e.contains(a.loadingNode,"hide"));e.toggle(this.updateBtn,"hide",e.contains(a.updateBtn,"hide"))}}),A;return l([k,h,f],{templateString:a,listId:null,listSize:0,campaignId:null,selectedSegmentState:null,selectedSegmentName:null,selectedSegmentType:null,selectedAdvancedEditor:null,postCreate:function(){this.own(d(this.updateBtn,"click",b.hitch(this,"reloadCount")),d(this.domNode,"[data-mc-action\x3dpreview]:click",b.hitch(this,function(a){a.stopPropagation();
a.preventDefault();this.previewRecipients()})));y(this)},previewRecipients:function(){if(this.selectedSegmentType)switch(this.selectedSegmentType){case "advanced":var a=this.selectedAdvancedEditor.getAST();w.main().load(this.listId,a,{showPagination:!1,persistTableSettings:!1},"campaign");break;default:w.main().loadRegular(this.listId,this.campaignId,{showPagination:!0,persistTableSettings:!1})}},reloadCount:function(){if(this.selectedSegmentType)switch(this._showLoadingState(),this.selectedSegmentType){case "advanced":this._countAdvancedSegment();
break;default:this._countSegment()}},_countSegment:function(){var a=b.hitch(this,function(a){this._showLoadedState(a.count)}),c=b.hitch(this,function(){this._showErrorState("We had trouble calculating your segment.")});r.refreshSegmentCount(this.listId,this.campaignId).then(a,c)},_countAdvancedSegment:function(){var a=b.hitch(this,function(a){a.match(/^[0-9,]+$/)?this._showLoadedState(a):-2===a?this._showErrorState("The segment is too large to count. Please click the next button."):this._showErrorState("The segment is incomplete. Please check your entries below.")}),
c=b.hitch(this,function(){this._showErrorState("We had trouble calculating your segment.")}),d=this.selectedAdvancedEditor.getAST();t.refreshSegmentCount(this.listId,d,"campaign").then(a,c)},selectEntireList:function(){this._clearSegment();this._updateCopy("recipients. Everyone in your list will receive this email.");this._updateCount(this.listSize);this._hideButton();this._showCount();this._hideLoadingIndicator();y(this)},selectSavedSegment:function(a){this._clearSegment();this.selectedSegmentState=
"existing";this.selectedSegmentName=u.encode(a);this.selectedSegmentType="saved";a?(this._updateCopy("Selected Segment: \x3cstrong\x3e"+u.encode(a)+"\x3c/strong\x3e"),this._showButton()):(this._updateCopy("Select a segment to focus your audience."),this._hideButton());this._hideCount();this._hideLoadingIndicator();y(this)},selectPastedSegment:function(){this._clearSegment();this.selectedSegmentState="new";this.selectedSegmentType="pasted";this._updateCopy("Build your segment below.");this._hideCount();
this._hideButton();this._hideLoadingIndicator();y(this)},selectNewSegment:function(){this._clearSegment();this.selectedSegmentState="new";this.selectedSegmentType="regular";this._updateCopy("Build your segment below.");this._hideCount();this._showButton();this._hideLoadingIndicator();y(this)},selectNewAdvancedSegment:function(a){this._clearSegment();this.selectedSegmentState="new";this.selectedSegmentType="advanced";this.selectedAdvancedEditor=a;this._updateCopy("Build your advanced segment below.");
this._hideCount();this._showButton();this._hideLoadingIndicator();y(this)},_clearSegment:function(){this.selectedAdvancedEditor=this.selectedSegmentType=this.selectedSegmentName=this.selectedSegmentState=null},_showLoadingState:function(){var a;switch(this.selectedSegmentState){case "existing":a="Calculating recipients in the segment: \x3cstrong\x3e"+this.selectedSegmentName+"\x3c/strong\x3e.";break;case "new":a="Calculating recipients that match these conditions.";break;default:throw Error("Unhandled selectedSegmentState");
}this._updateCopy(a);this._showLoadingIndicator();this._hideCount();this._hideButton();y(this)},_showLoadedState:function(a){var b;switch(this.selectedSegmentState){case "existing":b="recipients in the segment: \x3cstrong\x3e"+this.selectedSegmentName+"\x3c/strong\x3e.";this._hideButton();break;case "new":b="recipients match these conditions.";this._showButton();break;default:throw Error("Unhandled selectedSegmentState");}this._updateCopy(b);this._updateCount(a);this._showCount();this._hideLoadingIndicator();
y(this)},_showErrorState:function(a){this._updateCopy(a);this._hideCount();this._showButton();this._hideLoadingIndicator();y(this)},_showLoadingIndicator:function(){e.remove(this.loadingNode.domNode,"hide")},_hideLoadingIndicator:function(){e.add(this.loadingNode.domNode,"hide")},_updateCount:function(a){"string"===typeof a&&(a=a.replace(/[^0-9]/g,""));this.countNode.innerHTML=0<a&&this.selectedSegmentType?'\x3ca href\x3d"#" data-mc-action\x3d"preview"\x3e'+v.format(a)+"\x3c/a\x3e":v.format(a)},_updateCopy:function(a){this.copyNode.innerHTML=
a},_hideCount:function(){e.add(this.countNode,"hide")},_showCount:function(){e.remove(this.countNode,"hide")},_hideButton:function(){e.add(this.updateBtn,"hide")},_showButton:function(){e.remove(this.updateBtn,"hide")}})})},"dojo/throttle":function(){define([],function(){return function(l,k){var h=!0;return function(){h&&(h=!1,l.apply(this,arguments),setTimeout(function(){h=!0},k))}}})},"mojo/app/account/connected-sites":function(){define("dojo/dom-attr dojo/query dojo/on dojo/dom-class mojo/url velocity/velocity mojo/widgets/KbSearch dojo/ready".split(" "),
function(l,k,h,f,a,c,e,m){var d={nextButton:null,siteId:null,init:function(){h(k("[data-kb-help]"),"click",function(a){a.stopPropagation();a.preventDefault();e.main().show()});this.nextButton=k("[data-mc-el\x3d'nextBtn']")[0]},disableNext:function(){this.nextButton&&l.set(this.nextButton,"disabled","disabled")},enableNext:function(){this.nextButton&&l.remove(this.nextButton,"disabled","disabled")},completeWizard:function(){if(this.siteId=this.nextButton.value)window.location=a.toUrl("account/connected-sites/site-detail?id\x3d"+
this.siteId)}};m(function(){d.init()});return d})},"mojo/app/account/mctx":function(){define("dojo/_base/declare mojo/views/_base dojo/Deferred dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/html dojo/dom-construct dojo/dom-form dojo/dom-geometry dojo/_base/lang dojo/_base/array dojo/request/xhr dijit/registry dijit/Dialog mojo/url mojo/utils".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return{connectMandrill:function(){var b=this,c=new h,e=new v({title:"Connect Your Mandrill Account",
onHide:function(){e.destroyRecursive()},onDownloadEnd:function(){a(".cancel-button",e.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();e.hide();c.resolve({success:!1,reason:"cancelled"})});var h=function(){d.add("link-mctx-error","hide");var a=f.byId("mandrill_username").value,h=f.byId("mandrill_password").value,k=f.byId("multi_auth").value;b.validateMandrill(a,h,k).then(function(a){1==a.success?(e.hide(),c.resolve({success:!0})):"tfa required"==a.reason?(d.add("step1","hide"),
d.remove("step2","hide")):"tfa invalid"==a.reason?(d.remove("link-mctx-error","hide"),f.byId("link-mctx-error-msg").innerHTML="Invalid two-factor authentication code"):"unknown username password combination"==a.reason?(d.remove("link-mctx-error","hide"),f.byId("link-mctx-error-msg").innerHTML="A username with that password could not be found",d.remove("step1","hide"),d.add("step2","hide")):(d.remove("link-mctx-error","hide"),f.byId("link-mctx-error-msg").innerHTML="An unexpected error occurred.")})};
a("#submit_step_1,#submit_step_2",e.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();h()});a("#submit_step_3",e.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();a=f.byId("mandrill_username").value;var h=f.byId("mandrill_password").value,k=f.byId("multi_auth").value;b.linkMandrill(a,h,k).then(function(a){1==a.success?(e.hide(),c.resolve({success:!0})):(d.add("step1","hide"),d.add("step2","hide"),d.add("step3","hide"),d.remove("link-mctx-error","hide"),f.byId("link-mctx-error-msg").innerHTML=
"An unexpected error occurred.")})})}});e.setHref(y.toUrl("transactional/connect-mandrill"));e.show();return c},validateMandrill:function(a,b,c){return u.post(y.toUrl("transactional/validateMctxAccountPost"),{handleAs:"json",data:{mandrill_username:a,mandrill_password:b,multi_auth:c}})}}})},"mojo/app/account/clients/revokeAccess":function(){define(["dijit/registry","mojo/url"],function(l,k){return{clientId:null,agencyId:null,loginId:null,showRemoveAccountConfirmation:function(h){this.clientId=h;l.byId("remove-account-dialog").show()},
doRemoveAccount:function(){window.location=k.toUrl("/account/clients/remove-account",{client_id:this.clientId})},showRemoveUserConfirmation:function(h,f){this.clientId=h;this.loginId=f;l.byId("remove-user-dialog").show()},doRemoveUser:function(){window.location=k.toUrl("/account/clients/revoke-user",{client_id:this.clientId,login_id:this.loginId})},showRemoveAgencyDialog:function(h){this.agencyId=h;l.byId("remove-agency-account-dialog").show()},doRemoveAgencyAccount:function(){window.location=k.toUrl("/account/users/remove-account",
{agency_id:this.agencyId})},showRemoveAgencyUserDialog:function(h,f){this.agencyId=h;this.loginId=f;l.byId("remove-agency-user-dialog").show()},doRemoveAgencyUser:function(){window.location=k.toUrl("/account/users/revoke-user",{agency_id:this.agencyId,login_id:this.loginId})}}})},"mojo/views/transactional/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/html dojo/dom-construct dojo/dom-form dojo/dom-geometry dojo/_base/lang dojo/_base/array dojo/request/xhr dijit/registry dijit/Dialog mojo/api/currency-exchange mojo/url mojo/utils mojo/app/account/billing mojo/app/account/mctx mojo/app/account/paypal velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C){return l([k],{hasSocialPro:null,itemsPreSelected:null,monthly_t:null,currentCurrency:null,onReady:function(){var b=f("[data-action\x3d'start-mctx-trial']");b.length&&r.forEach(b,function(b,c){a(b,"click",function(){m.add("error","hide");h.byId("error-msg").innerHTML="";t.post(y.toUrl("transactional/startMctxTrialPost"),{handleAs:"json"}).then(function(a){1==a.success?location.reload():(a=a.reason,m.remove("error","hide"),h.byId("error-msg").innerHTML=
a)})})})}})})},"mojo/api/currency-exchange":function(){define(["dojo/request/xhr","mojo/url"],function(l,k){return{convert:function(h,f){return l.post(k.toUrl("account/format-currency"),{data:{amount:h,currency:f},handleAs:"json"})}}})},"mojo/views/templates/index":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base mojo/url mojo/utils dojo/dom dojo/query dojo/on mojo/user mojo/lib/flags mojo/widgets/FileManager".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){return l([h],{onReady:function(){this.$el.openFileManager&&
m(this.$el.openFileManager,"click",k.hitch(this,"_showFileManager"))},_showFileManager:function(){n.isShown()||n.show({actions:"copy, preview, edit, rename, delete"})}})})},"mojo/views/templates/share-template":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/on","mojo/app/templates"],function(l,k,h,f){return l([k],{templateId:null,templateName:null,onReady:function(){var a=this;h(this.$el.previewButton,"click",function(c){c.preventDefault();f.previewLayout(a.templateId,a.templateName,
"template")})}})})},"mojo/views/swag-order/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/dom-class dojo/html dojo/on dojo/query dojo/NodeList-data dojo/dom-attr dojo/dom-prop mojo/utils dojo/dom-construct dojox/html/entities dojox/validate dojox/validate/check dojox/validate/web dojox/validate/us dojox/validate/ca".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([k],{swagObjFactory:function(b){return{node:b,name:d.get(b,"data-swag-name"),image:e("img",b),
picker:e("input[type\x3dradio]",b),pickerText:e(".swag_item-picker_text",b),sizeSelector:e("select",b),dijitRadio:e(".dijit.dijitRadio",b),isSelected:function(){f.add(this.node,"is-selected");f.add(this.dijitRadio[0],"dijitRadioChecked dijitChecked");a.set(this.pickerText[0],"Picked")},deSelected:function(){f.remove(this.node,"is-selected");f.remove(this.dijitRadio[0],"dijitRadioChecked dijitChecked");a.set(this.pickerText[0],"Pick This")}}},selectSwag:function(b){"undefined"!==typeof this.pickedSwag&&
this.pickedSwag.deSelected();this.pickedSwag=b;b.isSelected();a.set(this.$el.swagFormTitleText,b.name);a.set(this.$el.swagFormButtonText,b.name);d.set(this.$el.itemTitle,"value",b.name);a.set(this.$el.swagTitle,b.name);d.set(this.$el.swagImage,"src",d.get(b.image[0],"src"));e(".swag_item-error").orphan()},isSkuValid:function(){return""===h.byId("sku").value?(e(".swag_item-error").orphan(),p.place('\x3cdiv class\x3d"feedback-block error size1of1 section swag_item-error"\x3e \x3cdiv class\x3d"lastUnit size1of1"\x3e \x3cdiv class\x3d"media"\x3e \x3cdiv class\x3d"media-image"\x3e \x3cspan class\x3d"freddicon cross-circle-large"\x3e\x3c/span\x3e \x3c/div\x3e \x3cdiv class\x3d"media-body padding--lv2"\x3e \x3cstrong\x3eOops! Did you forget to select your swag item and/or size? \x3c/strong\x3e \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e',
h.byId("swag_card-grid"),"last"),document.body.scrollTop=document.documentElement.scrollTop=0,!1):!0},isValidState:function(a,b){var c=b.$el.formCountry.textContent,d=!0;"USA"===c&&(d=r.us.isState(a));"Canada"===c&&(d=r.ca.isProvince(a));return{isValid:d,message:"Please enter a valid two-character State or Province."}},isValidEmail:function(a){return{isValid:r.isEmailAddress(a),message:"Please enter a valid email."}},checkForm:function(b,c){var k,m=this;e("input[type\x3dtext]").removeClass("invalid");
e(".swag-form-error").orphan();k="USA"===m.$el.formCountry.textContent||"Canada"===m.$el.formCountry.textContent?r.check(b,m.profile1):r.check(b,m.profile2);if(k.isSuccessful()&&m.isSkuValid())a.set(m.$el.confirmCountry,m.$el.formCountry.textContent),e("input[type\x3dtext]",m.$el.swagForm).forEach(function(b){var c=d.get(b,"value");b=d.get(b,"data-mc-el");c&&b&&(b=b.replace("form","confirm"),a.set(m.$el[b],q.encode(c)))}),confirmOrder.show();else{var l=k.getMissing();l.length&&l.forEach(function(a){f.add(h.byId(a),
"invalid");p.place('\x3cspan class\x3d"invalid-error swag-form-error"\x3ePlease enter a value.\x3c/span\x3e',h.byId(a),"after")})}k=k.getInvalid();k.length&&k.forEach(function(a){f.contains(h.byId(a.field),"invalid")||(f.add(h.byId(a.field),"invalid"),p.place('\x3cspan class\x3d"invalid-error swag-form-error"\x3e'+a.message+"\x3c/span\x3e",h.byId(a.field),"after"))})},onReady:function(){var a=this;a.swag=[];a.submitCnt=0;e("[data-swag]").forEach(function(b){a.swag.push(a.swagObjFactory(b))});a.swag.forEach(function(b){c(b.picker,
"change",function(c){d.set(h.byId("sku"),"value",b.sizeSelector[0].value);a.selectSwag(b)});c(b.sizeSelector,"change",function(c){d.set(h.byId("sku"),"value",b.sizeSelector[0].value);a.selectSwag(b)})});a.profile1={required:"fname lname email addr1 city state zip".split(" "),constraints:{email:a.isValidEmail,state:[a.isValidState,a]}};a.profile2={required:"fname lname email addr1 city zip".split(" "),constraints:{email:a.isValidEmail}};c(a.$el.sendSwag,"click",function(b){a.checkForm(a.$el.swagForm,
b)});c(a.$el.confirmSendOrder,"click",function(b){0===a.submitCnt&&(a.submitCnt++,a.$el.swagForm.submit())})}})})},"dojo/NodeList-data":function(){define(["./_base/kernel","./query","./_base/lang","./_base/array","./dom-attr"],function(l,k,h,f,a){var c=k.NodeList,e={},m=0,d=function(b){var c=a.get(b,"data-dojo-dataid");c||(c="pid"+m++,a.set(b,"data-dojo-dataid",c));return c},b=l._nodeData=function(a,b,c){var f=d(a),k;e[f]||(e[f]={});if(1==arguments.length)return e[f];"string"==typeof b?2<arguments.length?
e[f][b]=c:k=e[f][b]:k=h.mixin(e[f],b);return k},n=l._removeNodeData=function(a,b){var c=d(a);e[c]&&(b?delete e[c][b]:delete e[c])};c._gcNodeData=l._gcNodeData=function(){var a=k("[data-dojo-dataid]").map(d),b;for(b in e)0>f.indexOf(a,b)&&delete e[b]};h.extend(c,{data:c._adaptWithCondition(b,function(a){return 0===a.length||1==a.length&&"string"==typeof a[0]}),removeData:c._adaptAsForEach(n)});return c})},"dojox/validate":function(){define(["./validate/_base"],function(l){return l})},"dojox/validate/_base":function(){define(["dojo/_base/lang",
"dojo/regexp","dojo/number","./regexp"],function(l,k,h,f){var a=l.getObject("dojox.validate",!0);a.isText=function(a,e){e="object"==typeof e?e:{};return/^\s*$/.test(a)||"number"==typeof e.length&&e.length!=a.length||"number"==typeof e.minlength&&e.minlength>a.length||"number"==typeof e.maxlength&&e.maxlength<a.length?!1:!0};a._isInRangeCache={};a.isInRange=function(c,e){c=h.parse(c,e);if(isNaN(c))return!1;e="object"==typeof e?e:{};var f="number"==typeof e.max?e.max:Infinity,d="number"==typeof e.min?
e.min:-Infinity,b=a._isInRangeCache,k=c+"max"+f+"min"+d+"dec"+("string"==typeof e.decimal?e.decimal:".");if("undefined"!=typeof b[k])return b[k];b[k]=!(c<d||c>f);return b[k]};a.isNumberFormat=function(a,e){return(new RegExp("^"+f.numberFormat(e)+"$","i")).test(a)};a.isValidLuhn=function(a){var e=0,f,d;l.isString(a)||(a=String(a));a=a.replace(/[- ]/g,"");f=a.length%2;for(var b=0;b<a.length;b++)d=parseInt(a.charAt(b)),b%2==f&&(d*=2),9<d&&(d-=9),e+=d;return!(e%10)};return a})},"dojox/validate/regexp":function(){define(["dojo/_base/lang",
"dojo/regexp","dojox/main"],function(l,k,h){var f=l.getObject("validate.regexp",!0,h);return f=h.validate.regexp={ipAddress:function(a){a="object"==typeof a?a:{};"boolean"!=typeof a.allowDottedDecimal&&(a.allowDottedDecimal=!0);"boolean"!=typeof a.allowDottedHex&&(a.allowDottedHex=!0);"boolean"!=typeof a.allowDottedOctal&&(a.allowDottedOctal=!0);"boolean"!=typeof a.allowDecimal&&(a.allowDecimal=!0);"boolean"!=typeof a.allowHex&&(a.allowHex=!0);"boolean"!=typeof a.allowIPv6&&(a.allowIPv6=!0);"boolean"!=
typeof a.allowHybrid&&(a.allowHybrid=!0);var c=[];a.allowDottedDecimal&&c.push("((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");a.allowDottedHex&&c.push("(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]");a.allowDottedOctal&&c.push("(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]");a.allowDecimal&&c.push("(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])");
a.allowHex&&c.push("0[xX]0*[\\da-fA-F]{1,8}");a.allowIPv6&&c.push("([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}");a.allowHybrid&&c.push("([\\da-fA-F]{1,4}\\:){6}((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])");a="";0<c.length&&(a="("+c.join("|")+")");return a},host:function(a){a="object"==typeof a?a:{};"boolean"!=typeof a.allowIP&&(a.allowIP=!0);"boolean"!=typeof a.allowLocal&&(a.allowLocal=!1);"boolean"!=typeof a.allowPort&&(a.allowPort=!0);"boolean"!=typeof a.allowNamed&&
(a.allowNamed=!1);var c=a.allowPort?"(\\:\\d+)?":"",e="((?:(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)\\.)+(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)\\.?)";a.allowIP&&(e+="|"+f.ipAddress(a));a.allowLocal&&(e+="|localhost");a.allowNamed&&(e+="|^[^-][a-zA-Z0-9_-]*");return"("+e+")"+c},url:function(a){a="object"==typeof a?a:{};"scheme"in a||(a.scheme=[!0,!1]);return k.buildGroupRE(a.scheme,function(a){return a?"(https?|ftps?)\\://":""})+f.host(a)+"(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?"},
emailAddress:function(a){a="object"==typeof a?a:{};"boolean"!=typeof a.allowCruft&&(a.allowCruft=!1);a.allowPort=!1;var c="([!#-'*+\\-\\/-9\x3d?A-Z^-~]+[.])*[!#-'*+\\-\\/-9\x3d?A-Z^-~]+@"+f.host(a);a.allowCruft&&(c="\x3c?(mailto\\:)?"+c+"\x3e?");return c},emailAddressList:function(a){a="object"==typeof a?a:{};"string"!=typeof a.listSeparator&&(a.listSeparator="\\s;,");var c=f.emailAddress(a);return"("+c+"\\s*["+a.listSeparator+"]\\s*)*"+c+"\\s*["+a.listSeparator+"]?\\s*"},numberFormat:function(a){a=
"object"==typeof a?a:{};"undefined"==typeof a.format&&(a.format="###-###-####");return k.buildGroupRE(a.format,function(a){return k.escapeString(a,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d")})},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])"},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)"}},us:{state:function(a){a="object"==typeof a?a:{};"boolean"!=typeof a.allowTerritories&&(a.allowTerritories=!0);"boolean"!=typeof a.allowMilitary&&(a.allowMilitary=!0);
var c="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";a.allowTerritories&&(c+="|AS|FM|GU|MH|MP|PW|PR|VI");a.allowMilitary&&(c+="|AA|AE|AP");return"("+c+")"}}}})},"dojox/validate/check":function(){define(["dojo/_base/kernel","dojo/_base/lang","./_base"],function(l,k,h){l.experimental("dojox.validate.check");h.check=function(f,a){var c=[],e=[],m={isSuccessful:function(){return!this.hasInvalid()&&
!this.hasMissing()},hasMissing:function(){return 0<c.length},getMissing:function(){return c},isMissing:function(a){for(var b=0;b<c.length;b++)if(a==c[b])return!0;return!1},hasInvalid:function(){return 0<e.length},getInvalid:function(){return e},isInvalid:function(a){for(var b=0;b<e.length;b++)if(a==e[b])return!0;return!1}},d=function(a,b){return"undefined"==typeof b[a]};if(a.trim instanceof Array)for(var b=0;b<a.trim.length;b++){var l=f[a.trim[b]];d("type",l)||"text"!=l.type&&"textarea"!=l.type&&
"password"!=l.type||(l.value=l.value.replace(/(^\s*|\s*$)/g,""))}if(a.uppercase instanceof Array)for(b=0;b<a.uppercase.length;b++)l=f[a.uppercase[b]],d("type",l)||"text"!=l.type&&"textarea"!=l.type&&"password"!=l.type||(l.value=l.value.toUpperCase());if(a.lowercase instanceof Array)for(b=0;b<a.lowercase.length;b++)l=f[a.lowercase[b]],d("type",l)||"text"!=l.type&&"textarea"!=l.type&&"password"!=l.type||(l.value=l.value.toLowerCase());if(a.ucfirst instanceof Array)for(b=0;b<a.ucfirst.length;b++)l=f[a.ucfirst[b]],
d("type",l)||"text"!=l.type&&"textarea"!=l.type&&"password"!=l.type||(l.value=l.value.replace(/\b\w+\b/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase()}));if(a.digit instanceof Array)for(b=0;b<a.digit.length;b++)l=f[a.digit[b]],d("type",l)||"text"!=l.type&&"textarea"!=l.type&&"password"!=l.type||(l.value=l.value.replace(/\D/g,""));if(a.required instanceof Array)for(b=0;b<a.required.length;b++)if(k.isString(a.required[b]))if(l=f[a.required[b]],!d("type",l)&&("text"==
l.type||"textarea"==l.type||"password"==l.type||"file"==l.type)&&/^\s*$/.test(l.value))c[c.length]=l.name;else if(!(d("type",l)||"select-one"!=l.type&&"select-multiple"!=l.type||-1!=l.selectedIndex&&!/^\s*$/.test(l.options[l.selectedIndex].value)))c[c.length]=l.name;else if(l instanceof Array){for(var p=!1,q=0;q<l.length;q++)l[q].checked&&(p=!0);p||(c[c.length]=l[0].name)}if(a.required instanceof Array)for(b=0;b<a.required.length;b++)if(k.isObject(a.required[b])){var r,t;for(t in a.required[b])l=
f[t],r=a.required[b][t];if(l instanceof Array){for(q=p=0;q<l.length;q++)l[q].checked&&p++;p<r&&(c[c.length]=l[0].name)}else if(!d("type",l)&&"select-multiple"==l.type){for(q=p=0;q<l.options.length;q++)l.options[q].selected&&!/^\s*$/.test(l.options[q].value)&&p++;p<r&&(c[c.length]=l.name)}}if(k.isObject(a.dependencies))for(t in a.dependencies)l=f[t],d("type",l)||"text"!=l.type&&"textarea"!=l.type&&"password"!=l.type||/\S+/.test(l.value)||m.isMissing(l.name)||(b=f[a.dependencies[t]],"text"!=b.type&&
"textarea"!=b.type&&"password"!=b.type||/^\s*$/.test(b.value)||(c[c.length]=l.name));if(k.isObject(a.constraints))for(t in a.constraints)if((l=f[t])&&(d("tagName",l)||!(0<=l.tagName.toLowerCase().indexOf("input")||0<=l.tagName.toLowerCase().indexOf("textarea"))||!/^\s*$/.test(l.value))){var u;if(k.isFunction(a.constraints[t]))u=a.constraints[t](l.value);else if(k.isFunction(k.getObject(t,!1,a.constraints)))u=k.getObject(t,!1,a.constraints)(l.value);else if(k.isArray(a.constraints[t]))if(k.isArray(a.constraints[t][0]))for(b=
0;b<a.constraints[t].length&&(u=h.evaluateConstraint(a,a.constraints[t][b],t,l),u.isValid);b++);else u=k.isFunction(k.getObject(t,!1,a.constraints))?h.evaluateConstraint(a,a.constraints[a.constraints[t]],t,l):h.evaluateConstraint(a,a.constraints[t],t,l);u?u.isValid||(e[e.length]={field:l.name,message:u.message}):e[e.length]=l.name}if(k.isObject(a.confirm))for(t in a.confirm)l=f[t],b=f[a.confirm[t]],d("type",l)||d("type",b)||"text"!=l.type&&"textarea"!=l.type&&"password"!=l.type||b.type!=l.type||b.value==
l.value||m.isInvalid(l.name)||/^\s*$/.test(b.value)||(e[e.length]=l.name);return m};h.evaluateConstraint=function(f,a,c,e){f=a[0];a=a.slice(1);a.unshift(e.value);return"undefined"!=typeof f&&"string"!=typeof f?f.apply(null,a):"undefined"!=typeof f&&"string"==typeof f&&k.isFunction(k.getObject(f))?k.getObject(f).apply(null,a):!1};return h.check})},"dojox/validate/web":function(){define(["./_base","./regexp"],function(l,k){l.isIpAddress=function(h,f){return(new RegExp("^"+k.ipAddress(f)+"$","i")).test(h)};
l.isUrl=function(h,f){return(new RegExp("^"+k.url(f)+"$","i")).test(h)};l.isEmailAddress=function(h,f){return(new RegExp("^"+k.emailAddress(f)+"$","i")).test(h)};l.isEmailAddressList=function(h,f){return(new RegExp("^"+k.emailAddressList(f)+"$","i")).test(h)};l.getEmailAddressList=function(h,f){f||(f={});f.listSeparator||(f.listSeparator="\\s;,");return l.isEmailAddressList(h,f)?h.split(new RegExp("\\s*["+f.listSeparator+"]\\s*")):[]};return l})},"dojox/validate/us":function(){define(["dojo/_base/lang",
"./_base","./regexp"],function(l,k,h){l=l.getObject("us",!0,k);l.isState=function(f,a){return(new RegExp("^"+h.us.state(a)+"$","i")).test(f)};l.isPhoneNumber=function(f){return k.isNumberFormat(f,{format:"###-###-####;(###) ###-####;(###) ### ####;###.###.####;###/###-####;### ### ####;###-###-#### x#???;(###) ###-#### x#???;(###) ### #### x#???;###.###.#### x#???;###/###-#### x#???;### ### #### x#???;##########".split(";")})};l.isSocialSecurityNumber=function(f){return k.isNumberFormat(f,{format:["###-##-####",
"### ## ####","#########"]})};l.isZipCode=function(f){return k.isNumberFormat(f,{format:["#####-####","##### ####","#########","#####"]})};return l})},"dojox/validate/ca":function(){define(["dojo/_base/lang","./_base","./regexp","./us"],function(l,k,h,f){var a=l.getObject("ca",!0,k);l.mixin(a,{isPhoneNumber:function(a){return f.isPhoneNumber(a)},isProvince:function(a){return(new RegExp("^"+h.ca.province()+"$","i")).test(a)},isSocialInsuranceNumber:function(a){return k.isNumberFormat(a,{format:["###-###-###",
"### ### ###","#########"]})},isPostalCode:function(a){return(new RegExp("^"+h.ca.postalCode()+"$","i")).test(a)}});return a})},"mojo/views/support/chat-form":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom dojo/dom-style dojo/dom-class dojo/dom-attr dojo/on dojo/io-query dojo/request/xhr dojo/_base/array mojo/url".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){return l([h],{onReady:function(){var a=this.$el.startChatButton,f=this.$el.closeChatButton,h=this.$el.nameField,
l=this.$el.emailField,w=this.$el.topicfield,v=this.$el.messageField,y=!1,x=!1,A=!1;window.$zopim||function(a,b){var c=$zopim=function(a){c._.push(a)},d=c.s=a.createElement(b),e=a.getElementsByTagName(b)[0];c.set=function(a){c.set._.push(a)};c._=[];c.set._=[];d.async=!0;d.setAttribute("charset","utf-8");d.src="//v2.zopim.com/?3b6ziEnZVB74oBc8AtnqB7kdH8QS4Zst";c.t=+new Date;d.type="text/javascript";e.parentNode.insertBefore(d,e)}(document,"script");$zopim(function(){$zopim.livechat.hideAll()});b.get(p.toUrl("kb/get-support-settings"),
{handleAs:"json"}).then(k.hitch(this,function(b){if(b.userData){var e=b.userData;x=e.chat_route_dept;A=e.chat_route_tag;$zopim(function(){$zopim.livechat.setOnConnected(function(){var b=$zopim.livechat.departments.getDepartment;"pro"===e.user_level||!0===e.golden_monkey?(b=b("pro"),y=!0):b=b("technical-support");void 0===b&&(b={status:"offline"});"online"===b.status?c.remove(a,"js-hide"):c.add(a,"js-hide")});$zopim.livechat.departments.filter("","");!0===e.golden_monkey&&$zopim.livechat.addTags("golden-monkey");
!0===e.partner_program&&($zopim.livechat.addTags("partner_program"),y=!0);!0===e.high_volume&&$zopim.livechat.addTags("high-volume");!0===e.below_2k&&$zopim.livechat.addTags("list_under_2k");0<=n.indexOf(e.betas,"wrt")&&$zopim.livechat.addTags("google_web_retargeting");$zopim.livechat.addTags("username:"+e.username,"userid:"+e.userid,"user_level_"+e.user_level,"dc: "+e.dc)});b=window.location.href;b=b.substring(b.indexOf("?")+1,b.length);var f=d.queryToObject(b);f.pt&&"none"!==f.pt&&(x=f.pt);f.tg&&
"none"!==f.tg&&(A=f.tg);f.slg&&$zopim(function(){$zopim.livechat.addTags("KB_URL:"+f.slg)})}}));m(a,"click",k.hitch(this,function(){var a="";x?(a=x,"none"===x&&(a="technical-support")):a=e.get(w.options[w.selectedIndex],"data-dept");!0===y&&(a="pro");"online"===$zopim.livechat.departments.getDepartment(a).status?$zopim.livechat.departments.setVisitorDepartment(a):$zopim.livechat.departments.setVisitorDepartment("technical-support");$zopim.livechat.set({name:h.value,email:l.value});A&&$zopim.livechat.addTags(A);
$zopim.livechat.addTags(w.value);this.zopimSay(v.value,$zopim.livechat.window.openPopout);window.close()}));m(f,"click",function(){window.close()})},zopimSay:function(a,b){$zopim.livechat.say(a);$zopim.livechat.hideAll();b()}})})},"mojo/views/support/index":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dijit/registry dojo/dom dojo/on dojo/request mojo/url mojo/user mojo/lib/flags".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([h],{basePath:d.flagIsOn(b.SEND_KB_REQ_TO_PLUMS)?
"kb-api":"kb",onReady:function(){var b=this.show_form,d=a.byId("emergency-support");!0===b&&null!==d&&c.emit(a.byId("emergency-support"),"click",{bubbles:!1,cancelable:!0});"undefined"!==typeof this.$el.recommendedArticlesContainer&&(this.searchContent=f.byNode(this.$el.searchContent.firstElementChild),this._showRecommendedArticles())},_showRecommendedArticles:function(){!0!==this.recommendedArticlesVisible&&(this.searchContent.toggleSearchIcon(!1),this.searchContent.toggleSearchLoader(!0),e.get(m.toUrl(this.basePath+
"/recommended-articles"),{handleAs:"text",query:{channel:"general"}}).then(k.hitch(this,function(a){this.$el.recommendedArticlesContainer.innerHTML=a;this.recommendedArticlesVisible=!0;this.searchContent.toggleSearchIcon(!0);this.searchContent.toggleSearchLoader(!1)})))}})})},"mojo/views/support/token":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/on dojo/request/xhr mojo/url".split(" "),function(l,k,h,f,a,c){return l([k],{onReady:function(){var e=this.$el.generateSupportInput;
f(this.$el.generateSupportButton,"click",function(){a(c.toUrl("/support/get-token"),{handleAs:"string"}).then(function(a){e.value=a})})}})})},"mojo/views/signup/confirm":function(){},"mojo/views/signup/new-user/welcome":function(){define("dojo/_base/declare dojo/_base/array dijit/registry mojo/views/_base dojo/query dojo/dom-class dojo/on dojo/dom-construct dojo/_base/lang dojo/dom-attr mojo/validate velocity/velocity dojo/Deferred dojo/dom-form dojo/request mojo/url mojo/utils mojo/user mojo/lib/flags mojo/colors dojo/keys dojo/NodeList-traverse dojo/json dojo/topic dojo/_base/connect dojo/dom-style dojo/request/xhr mojo/url mojo/widgets/ProgressDots".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L){return l([f],{stepDoms:[],stepNames:[],welcomeWizardStep:null,socialAccounts:{},activeStepIndex:0,postInProgress:!1,progressDotWidget:null,getUserIsAgency:function(){return G.get(I.toUrl("signup/new-user/is-agency"),{handleAs:"json"})},checkAgency:function(){return this.isAgency},onReady:function(){this.stepDoms=this.$group.signupStep;this.stepDoms.forEach(d.hitch(this,function(b){this.stepNames.push(a("input[name\x3dstep]",b)[0].value)}));
this.reauthDialogListener();this.attachFormSubmitEventListener();this.attachSocialMediaEvents();this.updateSocialMediaStatus();this.progressDotWidget=new L({stepNum:this.checkAgency()?3:5,activeStepIndex:1},a("[data-mc-el\x3d'progressDots']")[0]);var b=this.$el.welcomeMsg;b&&(p.animate(b,"fadeOut",{duration:300,delay:4E3}),b=F.get(this.progressDotWidget.progressContainer,"marginTop"),0<b&&(p.animate(this.progressDotWidget.progressContainer,{marginTop:"90px"},{duration:0}),p.animate(this.progressDotWidget.progressContainer,
{marginTop:b},{duration:300,delay:4E3})));e(window,"popstate",d.hitch(this,function(a){a.state&&!this.postInProgress&&(this.postInProgress=!0,this.setActiveStep(a.state.activeStepIndex,!1))}));this.welcomeWizardStep?(3===this.welcomeWizardStep&&this.checkAgency()&&(this.welcomeWizardStep+=2),this.welcomeWizardStep===this.stepDoms.length-1&&F.set(this.progressDotWidget.progressContainer,"display","none"),this.setActiveStep(this.welcomeWizardStep,!0)):this.setActiveStep(this.activeStepIndex,!0)},reauthDialogListener:function(){C.subscribe("mojo/reauthdialog",
d.hitch(this,function(a){"hidden"==a.state&&(a=dojo.query('[data-mc-el\x3d"signupSubmit"]',this.stepDoms[this.activeStepIndex])[0],w.toggleButtonLoadingState(a,"Continue"))}))},attachFormSubmitEventListener:function(){this.stepDoms.forEach(d.hitch(this,function(a){e(a,"keyup",d.hitch(this,function(b){this.toggleContinueButton(a)}));e(a,"change",d.hitch(this,function(b){this.toggleContinueButton(a)}));e(a,"keydown",d.hitch(this,function(b){n.validateForm(a,!0)||b.keyCode!==A.ENTER||n.playDenyAnimation(a)}));
k.forEach(h.findWidgets(a),d.hitch(this,function(b){e(b,"change",d.hitch(this,function(){this.toggleContinueButton(a)}))}));e(a,"submit",d.hitch(this,this.handleFormSubmit))}))},updateProgress:function(){this.progressDotWidget.setStepNum(this.checkAgency()?3:5)},toggleContinueButton:function(c){var d=a("input[type\x3dsubmit]",c)[0];n.validateForm(c,!0)?b.remove(d,"disabled"):b.set(d,"disabled","disabled")},handleFormSubmit:function(b){var c=b.target;b.preventDefault();if(this.postInProgress)return w.toggleButtonLoadingState(a("input[type\x3dsubmit]",
c)[0]),!1;this.postInProgress=!0;c=b.target;if(n.validateForm(c,!1)){var e=this.activeStepIndex;this.postForm(c).then(d.hitch(this,function(b){w.toggleButtonLoadingState(a("input[type\x3dsubmit]",c)[0]);if(this.activeStepIndex!=e)return!1;if(b.redirect)document.location=b.redirect;else if(b.success)b=parseInt(b["next-step-index"],10),"ecomm"===this.stepNames[b]&&this.checkAgency()&&(b+=2),this.setActiveStep(b,!0);else return this.postInProgress=!1,b.errors&&b.errors.length&&(this.invalidateFieldsFromServer(c,
b.errors),a(".invalid",c)[0].focus()),!1}))}else return a(".invalid",c)[0].focus(),w.toggleButtonLoadingState(a("input[type\x3dsubmit]",c)[0]),!1},postForm:function(a){new q;a={method:"POST",data:r.toQuery(a),handleAs:"json"};return t(u.toUrl("/signup/new-user/welcome-wizard"),a)},invalidateFieldsFromServer:function(b,c){c.forEach(function(c){var d=a("input[name\x3d"+c.field+"]",b)[0];d&&n.invalidateField(d,c.message)})},setActiveStep:function(b,c){var d=this;this.progressDotWidget.setActiveDot(b+
1);var e=this.stepDoms[this.activeStepIndex],f=this.stepDoms[b];this.toggleContinueButton(f);f&&(this._toggleAgencyNewsletter(),b===this.stepDoms.length-1?p.animate(this.progressDotWidget.progressContainer,{opacity:0},{display:"none"}):b<this.stepDoms.length&&this.activeStepIndex===this.stepDoms.length-1&&p.animate(this.progressDotWidget.progressContainer,{opacity:1},{display:"inline-block"}),p.animate(e,"fadeOut",{duration:300,complete:function(){p.animate(f,"fadeIn",{duration:300,complete:function(){d.postInProgress=
!1;d.activeStepIndex=b;a("input[type\x3dtext], input[type\x3dradio], select, input[type\x3dsubmit]",f)[0].focus();c&&history.pushState({activeStepIndex:d.activeStepIndex},null,u.toUrl("/signup/new-user/welcome/",{step:d.stepNames[d.activeStepIndex]}))}})}}))},_toggleAgencyNewsletter:function(){this.getUserIsAgency().then(d.hitch(this,function(a){this.$group.flowStandard.toggleClass("hide",a.is_agency);this.$group.flowAgency.toggleClass("hide",!a.is_agency)}))},clearErrors:function(){this.$group.errorMsg.forEach(function(a){F.set(a,
"display","none")})},attachSocialMediaEvents:function(){e(window,"message",d.hitch(this,function(a){a=B.parse(a.data);"success"==a.s?(this.socialAccounts[a.t]=!0,this.updateSocialMediaStatus()):window.alert("Linking failed")}));this.$group.socialStatus.on("click",d.hitch(this,function(a){a.preventDefault();this.socialPopup=window.open(b.get(a.target,"href"),"social","width\x3d800px, height\x3d500, centerscreen, resizable");"undefined"==typeof this.socialPopup||null==this.socialPopup?F.set(this.$el.popupErrorMsg,
"display","block"):this.socialPopup.focus()}))},updateSocialMediaStatus:function(){this.$group.socialStatus.forEach(d.hitch(this,function(a){var d=this.socialAccounts[b.get(a,"data-social-type")];c.replace(a,d?"tick-fill-large":"add-fill-large",d?"add-fill-large":"tick-fill-large")}))}})})},"mojo/views/shopify/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/dom-attr dojo/html dojo/dom-class mojo/url dojo/_base/lang dojo/request/xhr dojo/dom-style velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k],{onReady:function(){h(".template-select-button").on("click",function(){h(".template-select-button").html("Select").removeClass("p1");a.set(this,"Selected");c.add(this,"p1");h(".template-container").removeClass("v-bg-gray-lightest");var b=this.closest(".template-container");c.add(b,"v-bg-gray-lightest");b=f.get(this,"data-template");h("#sendTemplate").attr("data-template-selected",b)});h("#sendTemplate").on("click",function(a){a.preventDefault();a.stopPropagation();
c.add(this,"disabled");c.add(this,"button-loading");a=f.get(this,"data-resource");var b=f.get(this,"data-resource-id"),h=f.get(this,"data-template-selected"),k=f.get(this,"data-resource-shop");a=e.toUrl("shopify/build-campaign?resource\x3d"+a+"\x26id\x3d"+b+"\x26template_id\x3d"+h+"\x26shop\x3d"+k);d.get(a,{handleAs:"json",sync:!1}).then(m.hitch(this,function(a){a=e.toUrl(a.url);window.location.href=a}),function(a){})})}})})},"mojo/views/reports/content-compare":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/_base/array dojo/html dojo/query dojo/number dojo/aspect dojo/dom-class dojo/dom-geometry dojo/on dojo/dom-style dojo/dom-construct dijit/registry mojo/utils dgrid/Grid dgrid/Keyboard dgrid/extensions/DijitRegistry dgrid/Selection mojo/app/mvt/ContentLinkViewer mojo/app/mvt/ContentLinkStats dojox/html/entities".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z){var B=l([u,w,v,y]);return l([k],{campaignId:null,testingSubjects:!1,testingFromNames:!1,testingContent:!1,testingSchedules:!1,numContents:1,contentLinkStats:[],detailedStats:null,onReady:function(){if(!this.testingContent||this.testingSubjects||this.testingFromNames||this.testingSchedules)this.linkDetails=new A({detailedStats:this.detailedStats,contentLinkStats:this.contentLinkStats,testingSubjects:this.testingSubjects,testingFromNames:this.testingFromNames,
testingSchedules:this.testingSchedules},this.$el.combinationStats);this.contentPreviewer=new x({campaignId:this.campaignId,numContents:this.numContents,onContentChange:h.hitch(this,function(a,b){this.linkDetails&&(0<=b?this.linkDetails.showLinkDetails(a,b):this.linkDetails.showContentDetails(a))})},this.$el.comparisonPreview);this.renderContentLink();this._setContainerHeight();n(window,"scroll",h.hitch(this,function(){this._stickyLinkDetails()}))},_buildTableData:function(){var a=this,b=[];f.forEach(this.contentLinkStats,
function(c,d){var e={contentType:"header",contentIndex:d,content:{title:"Content "+(d+1),description:a.testingContent?z.encode(c.description):""}};b.push(e);f.forEach(c.links,function(a,c){b.push({contentType:"link",contentIndex:d,linkIndex:c,content:a})});c.links.length||b.push({contentType:"no-data",content:{message:"Content does not have any tracked links."}})});return b},renderContentLink:function(){var a=new B({columns:{contentLink:{label:"Links",sortable:!1,renderCell:function(a,b,c){b="";switch(a.contentType){case "header":b+=
"\x3cspan class\x3d'fwb normal-meta'\x3e"+a.content.title+"\x3c/span\x3e\x3cbr\x3e";b+="\x3cspan class\x3d'small-meta dim6 fwb fsi'\x3e"+a.content.description+"\x3c/span\x3e";break;case "link":b="\x3cspan class\x3d'block padding--lv3 !padding-top-bottom--lv0 !padding-right--lv0'\x3e"+a.content.url+"\x3c/span\x3e";break;case "no-data":b="\x3cspan class\x3d'block padding--lv3 !padding-top-bottom--lv0 !padding-right--lv0 dim6 fsi'\x3e"+a.content.message+"\x3c/span\x3e";break;default:throw Error("Attempted to insert a row without a contentType");
}q.place(b,c)}},clickTotal:{label:"Total clicks",sortable:!1,renderCell:function(a,b,c){"link"==a.contentType&&q.place("\x3cspan\x3e"+e.format(a.content.overall_clicks)+"\x3c/span\x3e",c)}},contentClickRate:{label:!this.testingContent||this.testingSubjects||this.testingFromNames||this.testingSchedules?"Avg. click rate":"Click rate",sortable:!1,renderCell:function(a,b,c){"link"===a.contentType&&(b=0,a.content.overall_delivered&&(b=a.content.overall_clicks/a.content.overall_delivered*100),0<b&&(b=e.format(b,
{places:1})),q.place("\x3cspan\x3e"+b+"%\x3c/span\x3e",c))}}},selectionMode:"single",cellNavigation:!1},this.$el.contentLinkGrid);a.renderArray(this._buildTableData());var b=this;a.on("dgrid-select",function(a){a=a.rows[0];switch(a.data.contentType){case "header":b.contentPreviewer.showContent(a.data.contentIndex);break;case "link":b.contentPreviewer.showContent(a.data.contentIndex,a.data.linkIndex)}});a.select(0)},_setContainerHeight:function(){var a=b.getContentBox(this.$el.stickyContainer).h;this.$el.linkDetails.style.height=
a+"px";this.pageHeight=a},_stickyLinkDetails:function(){var a=b.position(this.$el.linkDetails),c=this.$el.stickyContainer;60>=a.y&&1024<window.innerWidth&&window.innerHeight>this.pageHeight?(c.style.position="fixed",c.style.top="78px",c.style.width="inherit",c.style.maxWidth="606px",c.style.maxWidth="606px"):(c.style.position="",c.style.width="")}})})},"dgrid/Grid":function(){define("dojo/_base/declare dojo/_base/kernel dojo/dom-construct dojo/dom-class dojo/on dojo/has ./List ./util/misc dojo/_base/sniff".split(" "),
function(l,k,h,f,a,c,e,m){function d(a,c){c&&c.nodeType&&a.appendChild(c)}l=l(e,{columns:null,hasNeutralSort:!1,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(a){return"object"!==typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,c){if(a.column&&a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var d;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var e=a.columnId;if(e){c=e;d=a;break}a=a.parentNode}while(a&&a!==this.domNode)}if(!d&&"undefined"!==
typeof c){var f=this.row(a);if(e=f&&f.element)for(var e=e.getElementsByTagName("td"),h=0;h<e.length;h++)if(e[h].columnId===c){d=e[h];break}}if(null!=a)return{row:f||this.row(a),column:c&&this.column(c),element:d}},createRowCells:function(a,d,e,f){var k=h.create("table",{className:"dgrid-row-table",role:"presentation"}),l=9>c("ie")?h.create("tbody",null,k):k,u,w,v,y,x,A,z,B,C,D;e=e||this.subRows;w=0;for(v=e.length;w<v;w++)for(A=e[w],u=h.create("tr",null,l),A.className&&(u.className=A.className),y=
0,x=A.length;y<x;y++){z=A[y];B=z.id;C=z.field?" field-"+m.escapeCssIdentifier(z.field,"-"):"";(D="function"===typeof z.className?z.className(f):z.className)&&(C+=" "+D);C=h.create(a,{className:"dgrid-cell"+(B?" dgrid-column-"+m.escapeCssIdentifier(B,"-"):"")+C,role:"th"===a?"columnheader":"gridcell"});C.columnId=B;if(B=z.colSpan)C.colSpan=B;if(B=z.rowSpan)C.rowSpan=B;d(C,z);u.appendChild(C)}return k},left:function(a,c){a.element||(a=this.cell(a));return this.cell(this._move(a,-(c||1),"dgrid-cell"))},
right:function(a,c){a.element||(a=this.cell(a));return this.cell(this._move(a,c||1,"dgrid-cell"))},_defaultRenderCell:function(a,c,d){if(this.formatter){var e=this.formatter,f=this.grid.formatterScope;d.innerHTML="string"===typeof e&&f?f[e](c,a):this.formatter(c,a)}else null!=c&&d.appendChild(document.createTextNode(c))},renderRow:function(a,c){var e=this,f=this.createRowCells("td",function(f,h){var k=a;h.get?k=h.get(a):"field"in h&&"_item"!==h.field&&(k=k[h.field]);h.renderCell?d(f,h.renderCell(a,
k,f,c)):e._defaultRenderCell.call(h,a,k,f,c)},c&&c.subRows,a),k=h.create("div",{role:"row"});k.appendChild(f);return k},renderHeader:function(){var b=this,e=this.headerNode;e.setAttribute("role","row");h.empty(e);var f=this.createRowCells("th",function(a,b){var c=b.headerNode=a,e=b.field;e&&(a.field=e);b.renderHeaderCell?d(c,b.renderHeaderCell(c)):("label"in b||b.field)&&c.appendChild(document.createTextNode("label"in b?b.label:b.field));!1!==b.sortable&&e&&"_item"!==e&&(a.sortable=!0,a.className+=
" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[f.id=this.id+"-header"]=this.columns;e.appendChild(f);this._sortListener&&this._sortListener.remove();this._sortListener=a(f,"click,keydown",function(d){if("click"===d.type||32===d.keyCode||!c("opera")&&13===d.keyCode){var f=d.target,h,k;do if(f.sortable){h=f.field||f.columnId;k=b.sort[0];h=b.hasNeutralSort&&k&&k.property===h&&k.descending?[]:[{property:h,descending:k&&k.property===h&&!k.descending}];k={bubbles:!0,cancelable:!0,
grid:b,parentType:d.type,sort:h};a.emit(d.target,"dgrid-sort",k)&&(b._sortNode=f,b.set("sort",h));break}while((f=f.parentNode)&&f!==e)}})},resize:function(){var a=this.headerNode.firstChild,c=this.contentNode,d;this.inherited(arguments);c.style.width="";c&&a&&(d=a.offsetWidth)>c.offsetWidth&&(c.style.width=d+"px")},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(){this.inherited(arguments);this.updateSortArrow(this.sort)},
_findSortArrowParent:function(a){var c=this.columns,d;for(d in c){var e=c[d];if(e.field===a)return e.headerNode}},updateSortArrow:function(a,c){this._lastSortedArrow&&(f.remove(this._lastSortedArrow.parentNode,"dgrid-sort-up dgrid-sort-down"),h.destroy(this._lastSortedArrow),delete this._lastSortedArrow);c&&(this.sort=a);if(a[0]){var d=a[0].property,e=a[0].descending,d=this._sortNode||this._findSortArrowParent(d);delete this._sortNode;d&&(d=d.contents||d,this._lastSortedArrow=h.create("div",{className:"dgrid-sort-arrow ui-icon",
innerHTML:"\x26nbsp;",role:"presentation"},d,"first"),f.add(d,"dgrid-sort-"+(e?"down":"up")),this.resize())}},styleColumn:function(a,c){return this.addCssRule("#"+m.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+m.escapeCssIdentifier(a,"-"),c)},_configColumns:function(a,c){var d=[],e=c instanceof Array;m.each(c,function(f,h){"string"===typeof f&&(c[h]=f={label:f});e||f.field||(f.field=h);h=f.id=f.id||(isNaN(h)?h:a+h);this._configColumn&&(this._configColumn(f,c,a),h=f.id);e&&(this.columns[h]=
f);f.grid=this;"function"===typeof f.init&&(k.deprecated("colum.init","Column plugins are being phased out in favor of mixins for better extensibility. column.init may be removed in a future release."),f.init());d.push(f)},this);return e?c:d},_destroyColumns:function(){var a=this.subRows,c=a&&a.length,d,e,f,h;this.cleanup();for(d=0;d<c;d++)for(e=0,h=a[d].length;e<h;e++)f=a[d][e],"function"===typeof f.destroy&&(k.deprecated("colum.destroy","Column plugins are being phased out in favor of mixins for better extensibility. column.destroy may be removed in a future release."),
f.destroy())},configStructure:function(){var a=this.subRows,c=this._columns=this.columns;this.columns=!c||c instanceof Array?{}:c;if(a)for(c=0;c<a.length;c++)a[c]=this._configColumns(c+"-",a[c]);else this.subRows=[this._configColumns("",c)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},_updateColumns:function(){this.configStructure();
this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this.sort.length?(this._lastSortedArrow=null,this.updateSortArrow(this.sort)):this.resize())}});l.appendIfNode=d;return l})},"dgrid/List":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/on dojo/has ./util/misc dojo/_base/sniff".split(" "),function(l,k,h,f,a,c){function e(a,b){a.className="dgrid-scrollbar-measure";document.body.appendChild(a);var c=a["offset"+
b]-a["client"+b];a.className="";a.parentNode&&document.body.removeChild(a);return c}function m(a){h.replace(this.domNode,a,this._class||"");this._class=a}function d(){return this._class}var b=[];a("mozilla")&&b.push("has-mozilla");a("touch")&&b.push("has-touch");h.add(document.documentElement,b);a.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?"MSPointer":!1});var n,p;a.add("dom-scrollbar-width",function(a,b,c){return e(c,"Width")});a.add("dom-scrollbar-height",
function(a,b,c){return e(c,"Height")});a.add("dom-rtl-scrollbar-left",function(b,c,d){b=document.createElement("div");d.className="dgrid-scrollbar-measure";d.setAttribute("dir","rtl");d.appendChild(b);document.body.appendChild(d);c=!!a("ie")||!!a("trident")||b.offsetLeft>=a("dom-scrollbar-width");d.className="";d.parentNode&&document.body.removeChild(d);k.destroy(b);d.removeAttribute("dir");return c});var q=0,r=function(){this._started&&this.resize()},t=l(null,{tabableHeader:!1,showHeader:!1,showFooter:!1,
maintainOddEven:!0,cleanAddedRules:!0,addUiClasses:!0,highlightDuration:250,postscript:function(a,b){var c=this;(this._Row=function(a,b,c){this.id=a;this.data=b;this.element=c}).prototype.remove=function(){c.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(a,b){var c=this.domNode=b||document.createElement("div"),d;a&&(this.params=a,l.safeMixin(this,a),d=a["class"]||a.className||c.className);this.sort=this.sort||
[];this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=c.id=c.id||this.id||t.autoIdPrefix+q++;this.buildRendering();d&&m.call(this,d);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var b=this.domNode,d=this.addUiClasses,e=this,l,m,n;n=this.isRTL="rtl"===(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();b.className="";b.setAttribute("role","grid");
h.add(b,"dgrid dgrid-"+this.listType+(d?" ui-widget":""));l=this.headerNode=k.create("div",{className:"dgrid-header dgrid-header-row"+(d?" ui-widget-header":"")+(this.showHeader?"":" dgrid-header-hidden")},b);m=this.bodyNode=k.create("div",{className:"dgrid-scroller"},b);a("ff")&&(m.tabIndex=-1);this.headerScrollNode=k.create("div",{className:"dgrid-header dgrid-header-scroll dgrid-scrollbar-width"+(d?" ui-widget-header":"")},b);this.footerNode=k.create("div",{className:"dgrid-footer"+(this.showFooter?
"":" dgrid-footer-hidden")},b);n&&(b.className+=" dgrid-rtl"+(a("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));f(m,"scroll",function(a){e.showHeader&&(l.scrollLeft=a.scrollLeft||m.scrollLeft);a.stopPropagation();f.emit(b,"scroll",{scrollTarget:m})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=k.create("div",{className:"dgrid-content"+(d?" ui-widget-content":"")},this.bodyNode);this._listeners.push(this._resizeHandle=f(window,"resize",c.throttleDelayed(r,this)))},postCreate:function(){},
startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this.sort))},configStructure:function(){},resize:function(){var b=this.bodyNode,d=this.footerNode,d=this.showFooter?d.offsetHeight:0;this.headerScrollNode.style.height=b.style.marginTop=this.headerNode.offsetHeight+"px";b.style.marginBottom=d+"px";n||(n=a("dom-scrollbar-width"),p=a("dom-scrollbar-height"),a("ie")&&(n++,p++),c.addCssRule(".dgrid-scrollbar-width","width: "+n+"px"),c.addCssRule(".dgrid-scrollbar-height",
"height: "+p+"px"),17!==n&&(c.addCssRule(".dgrid-header-row","right: "+n+"px"),c.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+n+"px")))},addCssRule:function(a,b){var d=c.addCssRule(a,b);this.cleanAddedRules&&this._listeners.push(d);return d},on:function(b,c){var d=f(this.domNode,b,c);a("dom-addeventlistener")||this._listeners.push(d);return d},cleanup:function(){for(var a in this._rowIdToObject)if(this._rowIdToObject[a]!==this.columns){var b=document.getElementById(a);b&&this.removeRow(b,
!0)}},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();this._listeners=null}this._started=!1;this.cleanup();k.destroy(this.domNode)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoRowId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},highlightRow:function(a,b){var c="dgrid-highlight"+(this.addUiClasses?" ui-state-highlight":"");a=a.element||a;h.add(a,c);setTimeout(function(){h.remove(a,c)},b||this.highlightDuration)},
adjustRowIndices:function(a){var b=a.rowIndex;if(-1<b){do-1<a.rowIndex&&(this.maintainOddEven&&h.contains(a,"dgrid-row")&&h.replace(a,1===b%2?"dgrid-row-odd":"dgrid-row-even",0===b%2?"dgrid-row-odd":"dgrid-row-even"),a.rowIndex=b++);while((a=a.nextSibling)&&a.rowIndex!==b)}},renderArray:function(a,b,c){c=c||{};var d=c.start||0,e=document.createDocumentFragment(),f=[],h=0,k=a.length;b||(this._lastCollection=a);for(;h<k;)f[h]=this.insertRow(a[h],e,null,d++,c),h++;(a=b?b.parentNode:this.contentNode)&&
a.parentNode&&(a!==this.contentNode||k)&&(a.insertBefore(e,b||null),k&&this.adjustRowIndices(f[k-1]));return f},renderHeader:function(){},_autoRowId:0,insertRow:function(a,b,c,d,e){var f=this.id+"-row-"+(this.collection&&this.collection.getIdentity?this.collection.getIdentity(a):this._autoRowId++),h=document.getElementById(f),k=h&&h.previousSibling;h&&(h===c&&(c=(c.connected||c).nextSibling),this.removeRow(h));h=this.renderRow(a,e);h.className=(h.className||"")+" dgrid-row "+(1===d%2?"dgrid-row-odd":
"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[h.id=f]=a;b.insertBefore(h,c||null);h.rowIndex=d;k&&k.rowIndex!==h.rowIndex-1&&this.adjustRowIndices(k);return h},renderRow:function(a){var b=document.createElement("div");b.appendChild(document.createTextNode(a));return b},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||k.destroy(a)},row:function(a){var b;if(a instanceof this._Row)return a;a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var c=
a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+5),b,a);a=a.parentNode}while(a&&a!==this.domNode)}else return"object"===typeof a?b=this.collection.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,d){var e,f;f=e=a.element;b=b||1;do if(a=e[0>b?"previousSibling":"nextSibling"]){do if((e=a)&&-1<(e.className+" ").indexOf(c+" ")){f=e;
b+=0>b?1:-1;break}while(a=(!d||!e.hidden)&&e[0>b?"lastChild":"firstChild"])}else if(e=e.parentNode,!e||e===this.bodyNode||e===this.headerNode)break;while(b);return f},up:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,-(b||1),"dgrid-row",c))},down:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:function(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==typeof a.y&&(this.bodyNode.scrollTop=a.y)},
getScrollPosition:function(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}},get:function(a){var b="_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},_getClass:d,_setClass:m,_getClassName:d,
_setClassName:m,_setSort:function(a,b){this.sort="string"!==typeof a?a:[{property:a,descending:b}];this._applySort()},_applySort:function(){this.refresh();if(this._lastCollection){var a=this.sort;if(a&&0<a.length){var b=a[0].property,c=!!a[0].descending;this._lastCollection.sort(function(a,d){var e=a[b],f=d[b];void 0===e&&(e="");void 0===f&&(f="");return e===f?0:e>f!==c?1:-1})}this.renderArray(this._lastCollection)}},_setShowHeader:function(a){var b=this.headerNode;this.showHeader=a;h.toggle(b,"dgrid-header-hidden",
!a);this.renderHeader();this.resize();a&&(b.scrollLeft=this.getScrollPosition().x)},_setShowFooter:function(a){this.showFooter=a;h.toggle(this.footerNode,"dgrid-footer-hidden",!a);this.resize()}});t.autoIdPrefix="dgrid_";return t})},"dgrid/util/misc":function(){define(["dojo/has"],function(l){l.add("dom-contains",function(a,c,b){return!!b.contains});var k=[],h,f,a,c=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,e={defaultDelay:15,throttle:function(a,c,b){var f=!1;b=b||e.defaultDelay;return function(){f||(f=!0,
a.apply(c,arguments),setTimeout(function(){f=!1},b))}},throttleDelayed:function(a,c,b){var f=!1;b=b||e.defaultDelay;return function(){if(!f){f=!0;var e=arguments;setTimeout(function(){f=!1;a.apply(c,e)},b)}}},debounce:function(a,c,b){var f;b=b||e.defaultDelay;return function(){f&&(clearTimeout(f),f=null);var e=arguments;f=setTimeout(function(){a.apply(c,e)},b)}},each:function(a,c,b){var e,f;if(a)if("number"===typeof a.length)for(e=0,f=a.length;e<f;e++)c.call(b,a[e],e,a);else for(e in a)c.call(b,a[e],
e,a)},contains:function(a,c){return l("dom-contains")?a.contains(c):a.compareDocumentPosition(c)&8},addCssRule:function(c,d){h||(h=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(h),h=h.sheet||h.styleSheet,f=h.deleteRule?"deleteRule":"removeRule",a=h.cssRules?"cssRules":"rules");var b=k.length;k[b]=(h.cssRules||h.rules).length;h.addRule?h.addRule(c,d):h.insertRule(c+"{"+d+"}",k[b]);return{get:function(c){return h[a][k[b]].style[c]},set:function(c,d){"undefined"!==
typeof k[b]&&(h[a][k[b]].style[c]=d)},remove:function(){var a=k[b],c,d;if(void 0!==a)for(h[f](a),k[b]=void 0,c=b+1,d=k.length;c<d;c++)k[c]>a&&k[c]--}}},escapeCssIdentifier:function(a,d){return"string"===typeof a?a.replace(c,d||"\\$1"):a}};return e})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/dom-class dojo/on dojo/_base/lang dojo/has ./util/misc dojo/_base/sniff".split(" "),function(l,k,h,f,a,c,e){function m(a){a.preventDefault()}var d={checkbox:1,radio:1,button:1},b=
/\bdgrid-cell\b/,n=/\bdgrid-row\b/,p=l(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=a.mixin({},p.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=a.mixin({},p.defaultHeaderKeyMap))},postCreate:function(){function a(b){var c=b.target;return c.type&&(!d[c.type]||32===b.keyCode)}function c(d){function l(){h._focusedHeaderNode&&(h._focusedHeaderNode.tabIndex=-1);if(h.showHeader){if(m)for(var a=h.headerNode.getElementsByTagName("th"),
b=0,c;c=a[b];++b){if(p.test(c.className)){h._focusedHeaderNode=r=c;break}}else h._focusedHeaderNode=r=h.headerNode;r&&(r.tabIndex=h.tabIndex)}}var m=h.cellNavigation,p=m?b:n,q=d===h.headerNode,r=d;q?(l(),k.after(h,"renderHeader",l,!0)):k.after(h,"renderArray",function(a){var b=h._focusedNode||r;if(p.test(b.className)&&e.contains(d,b))return a;for(var c=d.getElementsByTagName("*"),f=0,k;k=c[f];++f)if(p.test(k.className)){b=h._focusedNode=k;break}b.tabIndex=h.tabIndex;return a});h._listeners.push(f(d,
"mousedown",function(b){a(b)||h._focusOnNode(b.target,q,b)}));h._listeners.push(f(d,"keydown",function(b){if(!b.metaKey&&!b.altKey){var c=h[q?"headerKeyMap":"keyMap"][b.keyCode];c&&!a(b)&&c.call(h,b)}}))}this.inherited(arguments);var h=this;this.tabableHeader&&(c(this.headerNode),f(this.headerNode,"dgrid-cellfocusin",function(){h.scrollTo({x:this.scrollLeft})}));c(this.contentNode);this._debouncedEnsureScroll=e.debounce(this._ensureScroll,this)},removeRow:function(a){if(!this._focusedNode)return this.inherited(arguments);
var b=this,c=document.activeElement===this._focusedNode,d=this[this.cellNavigation?"cell":"row"](this._focusedNode),e=d.row||d,f;a=a.element||a;a===e.element&&((f=this.down(e,!0))&&f.element!==a||(f=this.up(e,!0)),this._removedFocus={active:c,rowId:e.id,columnId:d.column&&d.column.id,siblingId:f&&f.element!==a?f.id:void 0},setTimeout(function(){b._removedFocus&&b._restoreFocus(e.id)},0),this._focusedNode=null);this.inherited(arguments)},insertRow:function(){var a=this.inherited(arguments);this._removedFocus&&
!this._removedFocus.wait&&this._restoreFocus(a);return a},_restoreFocus:function(a){var b=this._removedFocus,c;if((a=(a=a&&this.row(a))&&a.element&&a.id===b.rowId?a:"undefined"!==typeof b.siblingId&&this.row(b.siblingId))&&a.element){if(!a.element.parentNode.parentNode){b.wait=!0;return}"undefined"!==typeof b.columnId&&(c=this.cell(a,b.columnId))&&c.element&&(a=c);b.active&&0!==a.element.offsetHeight?this._focusOnNode(a,!1,null):(h.add(a.element,"dgrid-focus"),a.element.tabIndex=this.tabIndex,this._focusedNode=
a.element)}delete this._removedFocus},addKeyHandler:function(a,b,c){return k.after(this[c?"headerKeyMap":"keyMap"],a,b,!0)},_ensureRowScroll:function(a){var b=this.getScrollPosition().y;b>a.offsetTop?this.scrollTo({y:a.offsetTop}):b+this.contentNode.offsetHeight<a.offsetTop+a.offsetHeight&&this.scrollTo({y:a.offsetTop-this.contentNode.offsetHeight+a.offsetHeight})},_ensureColumnScroll:function(a){var b=this.getScrollPosition().x,c=a.offsetLeft;if(b>c)this.scrollTo({x:c});else{var d=this.bodyNode.clientWidth;
a=a.offsetWidth;var e=c+a;b+d<e&&this.scrollTo({x:d>a?e-d:c})}},_ensureScroll:function(a,b){this.cellNavigation&&(this.columnSets||1<this.subRows.length)&&!b&&this._ensureRowScroll(a.row.element);this.bodyNode.clientWidth<this.contentNode.offsetWidth&&this._ensureColumnScroll(a.element)},_focusOnNode:function(c,d,e){var k="_focused"+(d?"Header":"")+"Node",l=this[k],m=this.cellNavigation?"cell":"row",p=this[m](c),q,r,t,v,u;if(c=p&&p.element){if(this.cellNavigation)for(q=c.getElementsByTagName("input"),
u=0,t=q.length;u<t;u++)if(r=q[u],(-1!==r.tabIndex||"_dgridLastValue"in r)&&!r.disabled){r.focus();v=!0;break}null!==e&&(e=a.mixin({grid:this},e),e.type&&(e.parentType=e.type),e.bubbles||(e.bubbles=!0));l&&(h.remove(l,"dgrid-focus"),l.removeAttribute("tabindex"),e&&(e[m]=this[m](l),f.emit(l,"dgrid-cellfocusout",e)));l=this[k]=c;e&&(e[m]=p);k=this.cellNavigation?b:n;!v&&k.test(c.className)&&(c.tabIndex=this.tabIndex,c.focus());h.add(c,"dgrid-focus");e&&f.emit(l,"dgrid-cellfocusin",e);this._debouncedEnsureScroll(p,
d)}},focusHeader:function(a){this._focusOnNode(a||this._focusedHeaderNode,!0)},focus:function(a){(a=a||this._focusedNode)?this._focusOnNode(a,!1):this.contentNode.focus()}}),q=p.moveFocusVertical=function(a,b){var c=this.cellNavigation,d=this[c?"cell":"row"](a),d=c&&d.column.id,e=this.down(this._focusedNode,b,!0);c&&(e=this.cell(e,d));this._focusOnNode(e,!1,a);a.preventDefault()};l=p.moveFocusUp=function(a){q.call(this,a,-1)};var r=p.moveFocusDown=function(a){q.call(this,a,1)},t=p.moveFocusPageUp=
function(a){q.call(this,a,-this.pageSkip)},u=p.moveFocusPageDown=function(a){q.call(this,a,this.pageSkip)},w=p.moveFocusHorizontal=function(a,b){if(this.cellNavigation){var c=!this.row(a);this._focusOnNode(this.right(this["_focused"+(c?"Header":"")+"Node"],b),c,a);a.preventDefault()}},v=p.moveFocusLeft=function(a){w.call(this,a,-1)},y=p.moveFocusRight=function(a){w.call(this,a,1)},x=p.moveHeaderFocusEnd=function(a,b){var c;this.cellNavigation&&(c=this.headerNode.getElementsByTagName("th"),this._focusOnNode(c[b?
0:c.length-1],!0,a));a.preventDefault()},A=p.moveHeaderFocusHome=function(a){x.call(this,a,!0)},z=p.moveFocusEnd=function(b,d){var e=this.cellNavigation,f=this.contentNode,h=f.scrollTop+(d?0:f.scrollHeight),f=f[d?"firstChild":"lastChild"],l=-1<f.className.indexOf("dgrid-preload"),m=l?f[(d?"next":"previous")+"Sibling"]:f,n=m.offsetTop+(d?0:m.offsetHeight),p;if(l){for(;m&&0>m.className.indexOf("dgrid-row");)m=m[(d?"next":"previous")+"Sibling"];if(!m)return}!l||1>f.offsetHeight?(e&&(m=this.cell(m,this.cell(b).column.id)),
this._focusOnNode(m,!1,b)):(c("dom-addeventlistener")||(b=a.mixin({},b)),p=k.after(this,"renderArray",function(a){var c=a[d?0:a.length-1];e&&(c=this.cell(c,this.cell(b).column.id));this._focusOnNode(c,!1,b);p.remove();return a}));h===n&&b.preventDefault()},B=p.moveFocusHome=function(a){z.call(this,a,!0)};p.defaultKeyMap={32:m,33:t,34:u,35:z,36:B,37:v,38:l,39:y,40:r};p.defaultHeaderKeyMap={32:m,35:x,36:A,37:v,39:y};return p})},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare",
"dojo/dom-geometry","dijit/registry"],function(l,k,h){return l(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:!0,buildRendering:function(){h.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id)},startup:function(){if(!this._started){this.inherited(arguments);var f=h.getEnclosingWidget(this.domNode.parentNode);f&&f.isLayoutContainer&&this._resizeHandle.remove()}},destroyRecursive:function(){this.destroy()},destroy:function(){this.inherited(arguments);h.remove(this.id)},
getChildren:function(){return[]},isLeftToRight:function(){return!this.isRTL},resize:function(f){f&&k.setMarginBox(this.domNode,f);this.inherited(arguments)},_set:function(f,a){this[f]=a},watch:function(){},getParent:function(){return h.getEnclosingWidget(this.domNode.parentNode)}})})},"dgrid/Selection":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/has dojo/aspect ./List dojo/has!touch?./util/touch dojo/query dojo/_base/sniff".split(" "),function(l,k,h,f,a,c,e){function m(a,b){for(var c=
a.unselectable=b?"on":"",d=a.getElementsByTagName("*"),e=d.length;--e;)"INPUT"!==d[e].tagName&&"TEXTAREA"!==d[e].tagName&&(d[e].unselectable=c)}function d(b,c){var d=b.bodyNode,e=c?"text":21>f("ff")?"-moz-none":"none";n&&"msUserSelect"!==n?d.style[n]=e:f("dom-selectstart")?c||b._selectstartHandle?c&&b._selectstartHandle&&(b._selectstartHandle.remove(),delete b._selectstartHandle):b._selectstartHandle=h(d,"selectstart",function(a){var b=a.target&&a.target.tagName;"INPUT"!==b&&"TEXTAREA"!==b&&a.preventDefault()}):
(m(d,!c),c||b._unselectableHandle)?c&&b._unselectableHandle&&(b._unselectableHandle.remove(),delete b._unselectableHandle):b._unselectableHandle=a.after(b,"renderRow",function(a){m(a,!0);return a})}f.add("dom-comparedocumentposition",function(a,b,c){return!!c.compareDocumentPosition});f.add("css-user-select",function(a,b,c){a=c.style;b=["Khtml","O","ms","Moz","Webkit"];c=b.length;var d="userSelect";do if("undefined"!==typeof a[d])return d;while(c--&&(d=b[c]+"UserSelect"));return!1});f.add("dom-selectstart",
"undefined"!==typeof document.onselectstart);var b=f("mac")?"metaKey":"ctrlKey",n=f("css-user-select"),p=(c=f("pointer"))&&"MS"===c.slice(0,2),q=c?c+(p?"Down":"down"):"mousedown",r=c?c+(p?"Up":"up"):"mouseup";return l(null,{selectionDelegate:".dgrid-row",selectionEvents:q+","+r+",dgrid-cellfocusin",selectionTouchEvents:f("touch")?e.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection=
{};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!==this.selectionMode&&(this.clearSelection(),this.selectionMode=
a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},_setAllowTextSelection:function(a){"undefined"!==typeof a?d(this,a):d(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,b){if(this[this._selectionHandlerName]&&this.allowSelect(this.row(b))&&("dgrid-cellfocusin"!==a.type||"mousedown"!==a.parentType)&&(a.type!==r||b===this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||
!a.ctrlKey||32===a.keyCode)if(!a.shiftKey&&a.type===q&&this.isSelected(b))this._waitForMouseUp=b;else this[this._selectionHandlerName](a,b);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(a,c){var d=a.keyCode?a.ctrlKey:a[b];this._lastSelected===c?this.select(c,null,!d||!this.isSelected(c)):(this.clearSelection(),this.select(c),this._lastSelected=c)},_multipleSelectionHandler:function(a,c){var d=this._lastSelected,e=a.keyCode?a.ctrlKey:a[b],f;a.shiftKey||(f=e?null:!0,d=null);this.select(c,
d,f);d||(this._lastSelected=c)},_extendedSelectionHandler:function(a,c){(2===a.button?this.isSelected(c):a.keyCode?a.ctrlKey:a[b])||this.clearSelection(null,!0);this._multipleSelectionHandler(a,c)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var c=this,d=this.contentNode,k=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};f("touch")&&!f("pointer")&&this.selectionTouchEvents?(h(d,e.selector(k,this.selectionTouchEvents),function(a){c._handleSelect(a,
this);c._ignoreMouseSelect=this}),h(d,h.selector(k,this.selectionEvents),function(a){c._ignoreMouseSelect!==this?c._handleSelect(a,this):a.type===r&&(c._ignoreMouseSelect=null)})):h(d,h.selector(k,this.selectionEvents),function(a){c._handleSelect(a,this)});this.addKeyHandler&&this.addKeyHandler(32,function(a){c._handleSelect(a,a.target)});if(this.allowSelectAll)this.on("keydown",function(a){a[b]&&65===a.keyCode&&!/\bdgrid-input\b/.test(a.target.className)&&(a.preventDefault(),c[c.allSelected?"clearSelection":
"selectAll"]())});this._setCollection&&a.before(this,"_setCollection",function(a){c._updateDeselectionAspect(a)});this._updateDeselectionAspect()},_updateDeselectionAspect:function(b){function c(a,b){var e=d.row(a);if(e&&d.selection[e.id])d[b](e)}var d=this,e;this._removeDeselectSignals&&this._removeDeselectSignals();e=b&&b.track&&this._observeCollection?[a.before(this,"_observeCollection",function(a){e.push(a.on("delete",function(a){"undefined"===typeof a.index&&c(a.id,"deselect")}))}),a.after(this,
"_observeCollection",function(a){e.push(a.on("update",function(b){"undefined"!==typeof b.index&&c(a.getIdentity(b.target),"select")}))},!0)]:[a.before(this,"removeRow",function(a,b){var c;b||(c=this.row(a))&&c.id in this.selection&&this.deselect(c)})];this._removeDeselectSignals=function(){for(var a=e.length;a--;)e[a].remove();e=[]}},allowSelect:function(){return!0},_fireSelectionEvent:function(a){var b=this._selectionEventQueues[a],c=this._selectionTriggerEvent,d;d={bubbles:!0,grid:this};c&&(d.parentType=
c.type);d[this._selectionTargetType]=b;this._selectionEventQueues[a]=[];h.emit(this.contentNode,"dgrid-"+a,d)},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,c){var d,e,f;"undefined"===typeof c&&(c=!0);a.element||(a=this.row(a));if(!1===c||this.allowSelect(a))if(d=this.selection,e=!!d[a.id],null===c&&(c=!e),f=a.element,c||this.allSelected?d[a.id]=c:delete this.selection[a.id],f&&(c?k.add(f,"dgrid-selected"+
(this.addUiClasses?" ui-state-active":"")):k.remove(f,"dgrid-selected ui-state-active")),c!==e&&f&&this._selectionEventQueues[(c?"":"de")+"select"].push(a),b)if(b.element||(b=this.row(b)),b){if(b=b.element)for(d=this._determineSelectionDirection(f,b),d||(b=document.getElementById(b.id),d=this._determineSelectionDirection(f,b));a.element!==b&&(a=this[d](a));)this._select(a,null,c)}else this._lastSelected=f},_determineSelectionDirection:f("dom-comparedocumentposition")?function(a,b){var c=b.compareDocumentPosition(a);
return c&1?!1:2===c?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":"up"},select:function(a,b,c){this._select(a,b,c);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var c in this.selection)a!==c&&this._select(c,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);
this._select(b.id,null,!0)}this._fireSelectionEvents()},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this.inherited(arguments),b=this.selection,c,d,e;for(c=0;c<a.length;c++)d=this.row(a[c]),(e=d.id in
b?b[d.id]:this.allSelected)&&this.select(d,null,e);this._fireSelectionEvents();return a}})})},"mojo/views/reports/index":function(){define("dojo/_base/declare mojo/views/_base dijit/registry mojo/url mojo/user dojo/dom dojo/query dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/on dojo/_base/lang mojo/lib/logger mojo/widgets/CircularLoader".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([k],{sawAd:!1,onReady:function(){dijit.byId("reports-list").watch("selectedChildWidget",p.hitch(this,
function(a,b,c){"comparative-tab"!==c.id||this.sawAd||(this.sawAd=!0,(a=dijit.byId("comparative-reports-ad"))&&a.show())}))}})})},"mojo/views/reports/summary":function(){define("dojo/_base/declare mojo/views/_base dijit/registry dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/dom-form mojo/url dojo/dom dojo/request dijit/Dialog dojo/request/xhr dojo/html dojo/query dojo/on dojo/Stateful mojo/Poll mojo/url mojo/utils mojo/charts mojo/app/campaigns mojo/widgets/DeliveryStatus dojo/NodeList-dom dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D){var F=function(a){w(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return l([k],{campaignId:null,enabled:!1,onInit:function(){this.enabled&&(this.deliveryStatus=new D({campaignId:this.campaignId}))},onReady:function(){this.enabled&&this.deliveryStatus&&(this.$el.deliveryStatus?this.deliveryStatus.placeAt(this.$el.deliveryStatus):this.deliveryStatus.poll.stop());v(this.$group.chooseIndustry,
"click",function(){var b=new r({title:"Select your industry",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){w(".confirmIndustry",b.domNode).on("click",function(a){var b=dijit.byId("info-business-type").attr("value");c(b);a.stopPropagation();a.preventDefault()});F(b)}});b.setHref(A.toUrl("account/industry-modal"));b.show();var c=function(c){t.post(A.toUrl("account/industry-post"),{query:{industryValue:c},handleAs:"json"}).then(f.hitch(this,function(f){"success"===f.status&&(f=w("[data-mc-group\x3d'industry']"),
a.forEach(f,function(a){a.innerHTML="("+c+")"}),z.toast("Your industry has been set to "+c),f=w("[data-mc-group\x3d'chooseIndustry']"),a.forEach(f,function(a){e.add(a,"hide")}),d());b.destroyRecursive()}))},d=function(){var b=w("[data-mc-el\x3d'industryOpenRate']"),c=w("[data-mc-el\x3d'industryClickRate']");t.get(A.toUrl("account/industry-stats"),{handleAs:"json"}).then(f.hitch(this,function(d){"success"===d.status&&(a.forEach(b,function(a){e.remove(a,"hide");a.innerHTML=d.open_rate+"%"}),a.forEach(c,
function(a){e.remove(a,"hide");a.innerHTML=d.click_rate+"%"}))}))}});z.parseEmoji(p.byId("content"))},updateStatus:function(){t.get(A.toUrl("campaigns/get-stats"),{handleAs:"json",query:{id:this.campaignId}}).then(f.hitch(this,function(a){a.success&&a.data&&a.data.enabled?this.updateData(a.data):this.poll.stop()}))},updateData:function(b){if("undefined"!==typeof b){"undefined"!=typeof b.recipientCount&&this.$el.recipientCountStat&&this.$el.recipientCountLabel&&(u.set(this.$el.recipientCountStat,b.recipientCount.toString()),
u.set(this.$el.recipientCountLabel,z.plural(b.recipientCount,"Recipient")),this.deliveryStatus.isComplete()&&e.remove(this.$el.recipientCountStat,"not-active"));0<b.openCount&&this.$el.performanceTimeseriesContainer&&m.set(this.$el.performanceTimeseriesContainer,"display","block");if(b.openRate){var d=this.convertToPercent(b.openRate);this.$el.openRateStat&&u.set(this.$el.openRateStat,d);this.$el.openRateMeter&&m.set(this.$el.openRateMeter,"width",d)}b.clickRate&&(d=this.convertToPercent(b.clickRate),
this.$el.clickRateStat&&u.set(this.$el.clickRateStat,d),this.$el.clickRateMeter&&m.set(this.$el.clickRateMeter,"width",d));0<b.openCountUnique&&w("[data-mc-stat\x3d'openCountStat']").removeClass("not-active").text(b.openCountUnique);0<b.clickCount&&w("[data-mc-stat\x3d'clickCountStat']").removeClass("not-active").text(b.clickCount);b.bounceCount&&this.$el.bounceCountStat&&(u.set(this.$el.bounceCountStat,b.bounceCount.toString()),0<b.bounceCount&&e.remove(this.$el.bounceCountStat,"not-active"));b.unsubCount&&
this.$el.unsubCountStat&&(u.set(this.$el.unsubCountStat,b.unsubCount.toString()),0<b.unsubCount&&e.remove(this.$el.unsubCountStat,"not-active"));b.deliverCount&&this.$el.deliverCountStat&&u.set(this.$el.deliverCountStat,b.deliverCount.toString());b.deliverRate&&this.$el.deliverRateStat&&(d=this.convertToPercent(b.deliverRate),u.set(this.$el.deliverRateStat,d));b.forwardCount&&this.$el.forwardCountStat&&(u.set(this.$el.forwardCountStat,b.forwardCount.toString()),this.$el.forwardOpenCountBlock&&m.set(this.$el.forwardOpenCountBlock,
"display","block"));b.forwardOpenCount&&this.$el.forwardOpenCountStat&&u.set(this.$el.forwardOpenCountStat,b.forwardOpenCount.toString());b.openClickRate&&this.$el.openClickRateStat&&(d=this.convertToPercent(b.openClickRate),u.set(this.$el.openClickRateStat,d));b.abuseCount&&this.$el.abuseCountStat&&u.set(this.$el.abuseCountStat,b.abuseCount.toString());b.lastOpenDate&&this.$el.lastOpenDate&&u.set(this.$el.lastOpenDate,b.lastOpenDate);b.lastClickDate&&this.$el.lastClickDate&&u.set(this.$el.lastClickDate,
b.lastClickDate);if(b.linkClick&&0<b.linkClick.length&&this.$el.linkClickContainer){c.empty(this.$el.linkClickContainer);var h=c.toDom('\x3cul class\x3d"dotted-list"\x3e\x3c/ul\x3e');c.place(h,this.$el.linkClickContainer);a.some(b.linkClick,f.hitch(this,function(a,b){var d=c.toDom("\x3cli class\x3d'selfclear'\x3e\x3cspan class\x3d'float-right fwb'\x3e"+a.clickCount+"\x3c/span\x3e\x3ca class\x3d'no-vip-filter float-left' href\x3d'"+a.href+"' target\x3d'_blank'\x3e"+a.link+"\x3c/a\x3e\x3c/li\x3e");
c.place(d,h);if(4<=b)return!1}));5<b.linkClick.length&&this.$el.linkClickMore&&m.set(this.$el.linkClickMore,"display","inline-block")}b.subscriberOpen&&0<b.subscriberOpen.length&&this.$el.subscriberOpenContainer&&(c.empty(this.$el.subscriberOpenContainer),h=c.toDom('\x3cul class\x3d"dotted-list"\x3e\x3c/ul\x3e'),c.place(h,this.$el.subscriberOpenContainer),a.some(b.subscriberOpen,f.hitch(this,function(a,b){var d=c.toDom("\x3cli class\x3d'selfclear'\x3e\x3cspan class\x3d'float-right fwb'\x3e"+a.openCount+
"\x3c/span\x3e\x3ca class\x3d'float-left' href\x3d'"+a.href+"' target\x3d'_blank'\x3e"+a.subscriberEmail+"\x3c/a\x3e\x3c/li\x3e");c.place(d,h);if(4<=b)return!1})),5<b.subscriberOpen.length&&this.$el.subscriberOpenMore&&m.set(this.$el.subscriberOpenMore,"display","inline-block"));b.tweetCount&&this.$el.tweetCountStat&&this.$el.tweetCountLabel&&(u.set(this.$el.tweetCountStat,b.tweetCount.toString()),u.set(this.$el.tweetCountLabel,z.plural(b.tweetCount,"Tweet")),0<b.tweetCount&&e.remove(this.$el.tweetCountStat,
"not-active"));b.retweetCount&&this.$el.retweetCountStat&&this.$el.retweetCountLabel&&(u.set(this.$el.retweetCountStat,b.retweetCount.toString()),u.set(this.$el.retweetCountLabel,z.plural(b.retweetCount,"Retweet")),0<b.retweetCount&&e.remove(this.$el.retweetCountStat,"not-active"));b.eepurlClickCount&&this.$el.eepurlClickCountStat&&this.$el.eepurlClickCountLabel&&(u.set(this.$el.eepurlClickCountStat,b.eepurlClickCount.toString()),u.set(this.$el.eepurlClickCountLabel,z.plural(b.eepurlClickCount,"EepURL Click")),
0<b.eepurlClickCount&&e.remove(this.$el.eepurlClickCountStat,"not-active"));b.likeCountUnique&&this.$el.likeCountUniqueStat&&this.$el.likeCountUniqueLabel&&(u.set(this.$el.likeCountUniqueStat,b.likeCountUnique.toString()),u.set(this.$el.likeCountUniqueLabel,z.plural(b.eepurlClickCount,"Like")),0<b.likeCountUnique&&e.remove(this.$el.likeCountUniqueStat,"not-active"))}},convertToPercent:function(a){return Math.round(100*a)+"%"}})})},"mojo/views/reports/variates":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/_base/array dojo/on dojo/dom-geometry dojo/html dojo/query dojo/number dojo/aspect dojo/dom dojo/dom-class dojo/dom-style dijit/registry mojo/widgets/VariateWinner mojo/freddieanim mojo/url mojo/utils dgrid/Grid dgrid/Keyboard dgrid/extensions/DijitRegistry dgrid/Selection dojo/dom-construct dojox/html/entities".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C){var D=l([y,x,A]),F=l([y,x,A,z]);return l([k],{campaignId:null,detailedStats:null,testsResults:null,testingSubjects:!1,testingFromNames:!1,testingContent:!1,testingSchedules:!1,ecommEnabled:!1,manuallyPick:!1,numVariatesTested:0,winnerSelector:null,variateGrids:[],hasWinner:!1,sentTimestamp:null,isVip:!1,detailedGrid:null,onReady:function(){v.parseEmoji(n.byId("content"));this.$el.winnerSelector&&(this.winnerSelector=new t({},this.$el.winnerSelector),
b.after(this.winnerSelector,"onSelect",function(){r.byId("confirm-send").show()}),this.freddieSend=new u.FreddieSend("freddie-send","confirm-send-button"));1<this.numVariatesTested&&this.renderVariateResults();this.renderDetailedResults();this._initTimeSinceLabel();this._setupTimeframeSelection()},renderVariateResults:function(){var a=this.detailedStats.variateStats,b={froms:"From name",subjects:"Subject line",contents:"Content description",schedules:"Send time"},c;for(c in a)this._createVariateGrid(a[c],
b[c])},_setupTimeframeSelection:function(){var b=this;if(this.$widget.timeframeSelect&&this.testsResults){var c=f.map(this.detailedStats.combinationStats,function(a,c){var d=h.clone(a);return b.testsResults instanceof Array?h.mixin(d,b.testsResults[c]):d});a(this.$widget.timeframeSelect,"change",function(){var a=null;switch(this.value){case "current":a=b.detailedStats.combinationStats;break;case "snapshot":a=c;break;default:throw Error("Unhandled value on time frame select box");}b.detailedGrid.refresh();
b.detailedGrid.renderArray(a);b.detailedGrid.resize()})}},_createVariateGrid:function(a,b){var c=this;this._addSalesSortableField(a);var d=B.place("\x3cdiv class\x3d'dgrid-autoheight dgrid-nohover'\x3e\x3c/div\x3e",this.$el.variateGridContainer),e={variate:{label:b,sortable:!1,renderCell:function(a,b,d){b="";a.isWinner&&(b+='\x3cspan class\x3d"freddicon tick-fill selected-row absolute visible"\x3e\x3c/span\x3e');var e="table-cell padding--lv6 !padding-top-bottom--lv0 !padding-right--lv0";c.hasWinner||
(e+=" !padding-left--lv0");b+='\x3cspan class\x3d"'+e+'"\x3e'+a.variateValue+"\x3c/span\x3e";a=B.toDom(b);B.place(a,d);v.parseEmoji(d)}},avgOpenRate:{label:"Average open rate",renderCell:function(a,b,d){a=B.toDom(c._formatRates(b));B.place(a,d)}},avgClickRate:{label:"Average click rate",renderCell:function(a,b,d){a=B.toDom(c._formatRates(b));B.place(a,d)}}};this.ecommEnabled&&(e._salesNumber={label:"Total sales",renderCell:function(a,b,c){B.place(B.toDom(a.totalSales),c)}});var f=new D({columns:e,
keepScrollPosition:!0},d);f.on(".dgrid-header .dgrid-cell:click",function(a){a="field-"+f.cell(a).column.field;m("td."+a).forEach(function(a){p.add(a,"dgrid-sorted-cell")})});f.on("dgrid-sort",function(a){c._setGridHeight(a.grid)});f.renderArray(a);f.resize();return f},renderDetailedResults:function(){var a=this;this._addSalesSortableField(this.detailedStats.combinationStats);var b={combination:{label:"Combo",renderCell:function(b,c,d){var e="";a.manuallyPick?e+='\x3cspan class\x3d"freddicon tick-circle hover-row absolute"\x3e\x3c/span\x3e\x3cspan class\x3d"freddicon tick-fill selected-row absolute"\x3e\x3c/span\x3e\x3cspan class\x3d"select-row absolute"\x3e\x3cimg src\x3d"/images/row-select.svg" width\x3d"20"\x3e\x3c/span\x3e':
b.isWinner&&(e+='\x3cspan class\x3d"freddicon tick-fill selected-row absolute visible"\x3e\x3c/span\x3e');b="table-cell padding--lv6 !padding-top-bottom--lv0 !padding-right--lv0";a.manuallyPick||a.hasWinner||(b+=" !padding-left--lv0");e+='\x3cspan class\x3d"'+b+'"\x3e'+c+"\x3c/span\x3e";c=B.toDom(e);B.place(c,d)}},subject:{label:"Subject line",renderCell:function(a,b,c){B.place(B.toDom(C.encode(b)),c);v.parseEmoji(c)}},fromName:{label:"From name",renderCell:function(b,c,d){b=a._formatFromName(b);
B.place(B.toDom(b),d)}},scheduledSendTime:"Send time",contentDescription:{label:"Content description",renderCell:function(a,b,c){a=B.toDom("\x26ldquo;"+C.encode(b)+"\x26rdquo;");B.place(a,c)}},openRate:{label:"Open rate",renderCell:function(b,c,d){b=a._formatConfidenceInterval(b.openRateConfidence);c=B.toDom(a._formatRates(c)+"\x3cbr/\x3e"+b);B.place(c,d)}},clickRate:{label:"Click rate",renderCell:function(b,c,d){b=a._formatConfidenceInterval(b.clickRateConfidence);c=B.toDom(a._formatRates(c)+"\x3cbr/\x3e"+
b);B.place(c,d)}},_salesNumber:{label:"Sales",renderCell:function(a,b,c){B.place(B.toDom(a.totalSales),c)}},sends:{label:"Sends",formatter:this._formatNumbers},unsubCount:{label:"Unsubs",formatter:this._formatNumbers},abuseCount:{label:"Abuse",formatter:this._formatNumbers},reportLinks:{label:"",sortable:!1,renderCell:function(a,b,c){a=w.toUrl("/reports/summary",{id:a.campaignId});a=B.create("a",{href:a,innerHTML:"View report"});B.place(a,c)}}};this.isVip&&delete b.reportLinks;this.testingContent||
delete b.contentDescription;this.testingSchedules||delete b.scheduledSendTime;this.testingSubjects||delete b.subject;this.testingFromNames||delete b.fromName;this.ecommEnabled||delete b.totalSales;this.detailedGrid=new F({selectionMode:this.manuallyPick?"single":"none",columns:b,keepScrollPosition:!0,deselectOnRefresh:!1},this.$el.detailedGrid);this.detailedGrid.on(".dgrid-header .dgrid-cell:click",function(b){b="field-"+a.detailedGrid.cell(b).column.field;m("td."+b).forEach(function(a){p.add(a,"dgrid-sorted-cell")})});
this.detailedGrid.on("dgrid-select",function(b){var c=b.rows[0];b.grid.__selected=c.data.combination;a.winnerSelector&&a.winnerSelector.showWinner(c.data)});this.detailedGrid.on("dgrid-sort",function(b){var c=b.grid;a._setGridHeight(c);setTimeout(function(){if(null!==c.__selected)for(var b=0;b<a.detailedStats.combinationStats.length;b++){var d=c.row(b);d.data.combination!=c.__selected?c.deselect(d):c.select(d)}},0)});p.toggle(this.$el.detailedGrid,"dgrid-nohover",!this.manuallyPick);this.detailedGrid.renderArray(this.detailedStats.combinationStats);
this.detailedGrid.resize();this.detailedGrid.set("sort","combination")},sendToWinner:function(){try{r.byId("confirm-send").set("title","Sending..."),r.byId("confirm-send").set("closable",!1),r.byId("confirm-send").onCancel=function(){return!1},q.set("confirm-send-pre","display","none"),q.set("confirm-send-action","display","none"),q.set("confirm-send-post","display","block")}catch(a){}setTimeout(h.hitch(this,function(){var a=this.winnerSelector.winner,a=w.toUrl("/campaigns/pick-variate-winner",{id:this.campaignId,
from_variate:a.fromVariate,subject_variate:a.subjectVariate,schedule_variate:a.scheduleVariate,content_variate:a.contentVariate});document.location.href=a}),600)},switchReport:function(a){a="all"==a?w.toUrl("/reports"):w.toUrl("/reports/summary",{id:a});document.location=a},_getSinceSentTime:function(){if(null!==this.sentTimestamp){var a=v.getTimePassed(1E3*this.sentTimestamp),b="";0<a.days&&(b+=a.days+" "+v.plural(a.days,"day")+" ");0<a.hours&&(b+=a.hours+" "+v.plural(a.hours,"hour")+" ");0<a.minutes&&
(b+=a.minutes+" "+v.plural(a.minutes,"minute")+" ");return(b=b.trim())?b:"less than a minute"}return""},_addSalesSortableField:function(a){f.forEach(a,function(a){a.hasOwnProperty("totalSales")&&(a._salesNumber=+a.totalSales.replace(/[^\d.]/g,""))})},_initTimeSinceLabel:function(){if(this.$el.timeSinceSend){var a=h.hitch(this,function(){e.set(this.$el.timeSinceSend,this._getSinceSentTime())});this.updateInterval=setInterval(a,6E4);a()}},_formatRates:function(a,b){b||(b=1);return d.format(a,{places:b})+
"%"},_formatNumbers:function(a){return d.format(a)},_formatFromName:function(a){return a.fromName+"\x3cbr\x3e\x3cspan class\x3d'dim6'\x3e"+a.fromEmail+"\x3c/span\x3e"},_formatConfidenceInterval:function(a){return'\x3cspan class\x3d"dim6" title\x3d"Based off a 80% confidence interval"\x3e\x26plusmn; '+this._formatRates(a)+"\x3c/span\x3e"},_setGridHeight:function(a){q.set(a.domNode,"height",c.position(a.domNode).h+"px")}})})},"mojo/views/reports/postcards/summary":function(){define(["dojo/_base/declare",
"mojo/views/_base","mojo/widgets/checklist-editor/items/_PostcardPreview","mojo/api/postcard","./summary/StatusTimeline"],function(l,k,h,f,a){function c(a,c){return c.split(",").map(function(a,b){var c=document.createElement(0===b?"strong":"span");c.innerText=a.trim();return c.outerHTML.replace("United States Of America","US")}).join(", ")}return l([k],{onReady:function(){this.postcard=f.createFromProperties(this.postcard);this.loadPreview();this.$group.locationFilterNames&&this.formatLocationFilters()},
formatLocationFilters:function(){this.$group.locationFilterNames.forEach(function(a){var f=c(a.dataset.locationType,a.innerText);a.innerHTML=f})},loadStatusTimeline:function(){this.statusTimeline=new a({statuses:this.validOrderStatuses,currentStatus:this.currentOrderStatus});this.statusTimeline.placeAt(this.$el.statusTimelineContainer)},loadPreview:function(){f.getContentPreview(this.postcard.content).then(this.renderPreviews.bind(this))},renderPreviews:function(a){this.frontPreview=(new h({name:"Front",
previewContent:a.frontHtml,isLoading:!1})).placeAt(this.$el.frontPreviewContainer);this.backPreview=(new h({name:"Back",previewContent:a.backHtml,isLoading:!1})).placeAt(this.$el.backPreviewContainer)}})})},"mojo/views/reports/postcards/summary/StatusTimeline":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./StatusTimeline.html dojo/text!./StatusTimelineItem.html".split(" "),function(l,k,h,f,a,c,e,m){return l([a,
c],{templateString:e,nodeTemplateString:m,edgeTemplateString:'\x3cdiv class\x3d"c-statusTimelineEdge"\x3e\x3c/div\x3e',STATUS_TITLES:{sent:"Order placed",printed:"Print complete",shipping:"Arrived at USPS origin centers",delivered:"\ud83c\udf89 Sending complete!"},postCreate:function(){this.renderStatusNodes()},renderStatusNodes:function(){var a=this.statuses.indexOf(this.currentStatus);this.statuses.forEach(function(b,c){var e=h.toDom(k.replace(this.nodeTemplateString,{ordinal:c+1,title:this.STATUS_TITLES[b],
classes:c<=a?" c-statusTimelineNode--checked":""}));if(0<c){var l=h.toDom(this.edgeTemplateString);f.toggle(l,"c-statusTimelineEdge--checked",c<=a);this.timelineContainer.appendChild(l)}this.timelineContainer.appendChild(e)},this)}})})},"mojo/views/reports/landing-pages/summary":function(){define("dojo/_base/declare mojo/views/_base mccharts/mccharts mojo/colors d3/d3 dijit/registry mojo/url mojo/charts dojo/dom".split(" "),function(l,k,h,f,a,c,e,m,d){return l([k],{onReady:function(){if(d.byId("pages-performance")){var a=
e.toUrl("/reports/landing-pages/history",{id:this.pageId});new m.PageReportsTimeseriesChart("pages-performance",a)}var c=d.byId("orders-list"),f=this;d.byId("ecommerce-stores").on("change",function(){var a=this.get("value").split("-");c.set("url",e.toUrl("/reports/ecommerce/order-list",{id:f.pageUniqueId,store_id:a[0],version:a[1]}))})}})})},"mccharts/mccharts":function(){(function(l,k){"object"===typeof exports&&"object"===typeof module?module.exports=k():"function"===typeof define&&define.amd?define([],
k):"object"===typeof exports?exports.mccharts=k():l.mccharts=k()})(this,function(){return function(l){function k(f){if(h[f])return h[f].exports;var a=h[f]={exports:{},id:f,loaded:!1};l[f].call(a.exports,a,a.exports,k);a.loaded=!0;return a.exports}var h={};k.m=l;k.c=h;k.p="";return k(0)}([function(l,k,h){function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.u=k.models=void 0;l=h(1);l=f(l);var a=h(2);f(a);a=h(3);f(a);var a=h(4),a=f(a),c=h(6),c=f(c),e=
h(7),e=f(e),m=h(8),m=f(m),d=h(9),d=f(d),b=h(10),b=f(b),n=h(11),n=f(n);h=h(12);h=f(h);var p={},q={};p.scatterTimeSeriesChart=a.default;p.lineChart=c.default;p.lineTimeSeriesChart=e.default;p.multiLineChart=m.default;p.multiLineTimeSeriesChart=d.default;p.ordinalBarChart=b.default;p.stackBarChart=n.default;p.doughnutChart=h.default;q.percentageTick=l.default.percentageTick;q.numberTick=l.default.numberTick;q.timeTick=l.default.timeTick;q.currencyTick=l.default.currencyTick;k.models=p;k.u=q},function(l,
k){Object.defineProperty(k,"__esModule",{value:!0});var h={colors:["#2c9ab7","#9f7d9c","#f69343","#FEBE12","#959595"],scaleType:{LINEAR:"LINEAR",IDENTITY:"IDENTITY",POWER:"POWER",LOG:"LOG",QUANTIZE:"QUANTIZE",QUANTILE:"QUANTILE",THRESHOLD:"THRESHOLD",ORDINAL:"ORDINAL",TIME:"TIME"}};k.parseDate=function(a){var c=d3.time.format(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"%Y-%m-%d").parse;return c(a)};var f=k.percentageTick=function(a){return a+"%"};h.percentageTick=f;f=k.numberTick=function(a){return d3.format("s")(a)};
h.numberTick=f;f=k.timeTick=d3.time.format.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%b",function(a){return a.getMonth()}],["%Y",function(){return!0}]]);h.timeTick=f;f=k.currencyTick=function(a){return d3.format("$s")(a)};h.currencyTick=f;k.debounce=function(a,
c,e){var f=function(a,b){b=null==b?a.length-1:+b;return function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),e=0;e<c;e++)d[e]=arguments[e+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d);case 2:return a.call(this,arguments[0],arguments[1],d)}c=Array(b+1);for(e=0;e<b;e++)c[e]=arguments[e];c[b]=d;return a.apply(this,c)}},d=f(function(a,b,c){return setTimeout(function(){return a.apply(null,c)},b)}),b,h,k=function(c,d){b=null;d&&(h=a.apply(c,d))},f=f(function(f){var l=
e&&!b;b&&clearTimeout(b);l?(b=setTimeout(k,c),h=a.apply(this,f)):e||(b=d(k,c,this,f));return h});f.cancel=function(){clearTimeout(b);b=null};return f};k.createId=function(){return Math.random().toString(36).substr(2,9)};k.default=h},function(l,k){Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function h(){c&&(d||(a=a?a:document.body,d=a.append("div").attr("class","mcchart-tooltip").attr("id",f).style("opacity",0).style("background-color","#484848").style("border","0px solid #484848").style("color",
"#ffffff").style("top",0).style("left",0)),b=d.node().getBoundingClientRect())}var f="mcchart-tooltip-"+(new Date).getTime(),a=null,c=!1,e="500",k=!1,d=null,b=null,l=function(a){return a},p=0,q=0;h.data=function(a,e,f,h,k){c&&(d.html(l(a)),h<p?(e+=q,d.classed("mcchart-tooltip--flipped",!1)):(e=e-b.width-q,d.classed("mcchart-tooltip--flipped",!0)),d.style("transform","translate("+e+"px,"+f+"px)"))};h.hide=function(){c&&(k&&d.style("opacity",0),k=!1)};h.show=function(){c&&(k||d.style("opacity",.95),
k=!0)};h.xOffset=function(a){if(!arguments.length)return q;q=a;return h};h.enabled=function(a){if(!arguments.length)return c;c=a;return h};h.chartContainer=function(b){if(!arguments.length)return a;a=b;return h};h.duration=function(a){if(!arguments.length)return e;e=a;return h};h.dataFormatter=function(a){if(!arguments.length)return l;l=a;return h};h.flipPoint=function(a){if(!arguments.length)return p;p=a;return h};h.getHtmlNode=function(){return arguments.length?h:b};return h}},function(l,k){Object.defineProperty(k,
"__esModule",{value:!0});k.default=function(){function h(){}function f(a){var b=0,e=d.node().getBoundingClientRect().width;"left"===a&&(b=c.options.margin.left);"right"===a&&(b=c.width()-c.options.margin.right-e);d.attr("transform","translate("+b+",0)")}var a="mcchart-legend-"+(new Date).getTime(),c=null,e=null,k=[],d=null,b="left",l=15,p=15,q=10,r=5,t=30;h.createLegend=function(a,h,v){c=a;e=h;d=v;var y=[];d.selectAll("g").data(e).enter().append("g").attr("class","mcchart-legendSeries");d.selectAll(".mcchart-legendSeries").append("rect").classed({"mcchart-legendBox":!0}).attr("rx",
3).attr("ry",3).attr("width",l).attr("height",p).style("fill",function(a,b){return c.colors()[b]});d.selectAll(".mcchart-legendSeries").append("text").classed({"mcchart-legendText":!0}).attr("font-size","14px").text(function(a,b){"undefined"===typeof k[b]&&(k[b]="Series "+(b+1));return k[b]}).attr("x",l+q).attr("y",p/2+r);d.selectAll(".mcchart-legendSeries").attr("transform",function(a,b){var c=d3.select(this).node().getBoundingClientRect().width,c=Math.ceil(c+t);y[b]=0<y.length?{w:c,x:y[b-1].x+y[b-
1].w}:{w:c,x:0};return"translate("+y[b].x+",0)"});f(b)};h.id=function(){return arguments.length?h:a};h.seriesLabels=function(a){if(!arguments.length)return k;k=a;return h};h.container=function(a){if(!arguments.length)return d;d=a;return h};h.horizontalAlign=function(a){if(!arguments.length)return b;b=a;return h};h.keyWidth=function(a){if(!arguments.length)return l;l=a;return h};h.keyHeight=function(a){if(!arguments.length)return p;p=a;return h};h.xOffset=function(a){if(!arguments.length)return q;
q=a;return h};h.yOffset=function(a){if(!arguments.length)return r;r=a;return h};h.seriesSpacing=function(a){if(!arguments.length)return t;t=a;return h};return h}},function(l,k,h){function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function b(a){a.each(function(a){v=a;w=d3.select(this);w.classed({"mcchart-container":!0});F&&(A=w.node().getBoundingClientRect().width);var c=w.selectAll("svg").data([v]);c.attr("id","svg-"+this.id);c.classed({"mcchart-svg":!0});
a=c.enter().append("svg").attr("id","svg-"+u).classed({"mcchart-svg":!0}).append("g");c.attr("width",A);z=A*C/B;c.attr("height",z);var e=c.select("g");e.classed({"mcchart-scatterTimeSeriesChart":!0});e.attr("transform","translate("+x.left+", "+x.top+")");e=c.append("g").attr("class","mcchart-legendWrap");I.createLegend(b,[v],e);L||c.select(".mcchart-legendWrap").selectAll("*").remove();b.update=function(a){v=a};b.redraw=function(){c.remove();w.call(b)};H=Math.ceil(z-x.top-x.bottom);X=A-x.left-x.right;
e=d3.time.scale();e.type=d.default.scaleType.TIME;R.createAxis(b,v,e);k(a);e=d3.scale.linear();e.type=d.default.scaleType.LINEAR;N.createAxis(b,v,e);l(a);e=a.append("g").attr("class","mcchart-scatterContainer");t(e,v);var f=a.append("g").attr("class","mcchart-focus");K=a.append("rect");f.style("display","none");K.attr("width",X).attr("height",H).attr("class","mcchart-interactive mcchart-interactive-"+u);b.noDataContainer=a.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",
!0).attr("opacity",0);b.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+X/2+","+H/2+")").attr("text-anchor","middle").text(J);h(b.noDataContainer);f.append("line").attr("class","mcchart-focus-y-line-"+u).style("stroke","#999999").style("stroke-width","2px").style("stroke-dasharray","4,4").style("opacity",.5).attr("y1",0).attr("y2",H);y.enabled()&&(y.chartContainer(w),y.flipPoint(X/2),f.append("div").call(y),K.on("mouseover",function(){f.style("display",
null);y.show()}).on("mouseout",function(){f.style("display","none");y.hide()}).on("mousemove",function(a){var b=d3.mouse(this)[0],c=d3.mouse(this)[1],d=R.scale().invert(b),e=M(a,d,1),h=a[e-1];a=a[e];void 0!==a&&(d=d-R.value(h)>R.value(a)-d?a:h,h=A-X,a=R.scale(R.value(d)),e=N.scale(N.value(d)),f.select(".mcchart-focus-y-line-"+u).attr("transform","translate("+a+", "+e+")").attr("y2",H-N.scale(N.value(d))),y.data(d,a+h-20,e,b,c))}));if(F)d3.select(window).on("resize",(0,m.debounce)(function(){b.animate(!1);
b.redraw()},500))})}function f(a){return 0===N.value(a)||"0"===N.value(a)}function h(a){v.every(f)?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(P).duration(P/2).attr("opacity",1)):a.transition().duration(P/2).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function k(a){R.setTicks(R.maxTicks(),R.maxResponsiveTicks());!1===!!R.tickFormat()&&R.tickFormat(m.timeTick);R.axis().scale(R.scale()).orient("bottom").tickFormat(R.tickFormat());a.append("g").attr("class",
"mcchart-x mcchart-x-"+u+" mcchart-axis").classed("mcchart-tick--hide",!R.showTicks()).attr("transform","translate(0, "+H+")").call(R.axis())}function l(a){N.setTicks(N.maxTicks(),N.maxResponsiveTicks());!1===!!N.tickFormat()&&N.tickFormat(m.numberTick);N.axis().scale(N.scale()).tickSize(-X,0,0).tickFormat(N.tickFormat()).tickPadding(10).orient("left");a.append("g").attr("class","mcchart-y mcchart-y-"+u+" mcchart-axis").classed("mcchart-tick--hide",!N.showTicks()).call(N.axis());""!==N.label()&&d3.select(".mcchart-y-"+
u).append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(N.label())}function t(a,b){var c=void 0,d=void 0;A<D?(c=1.5,d=3):(c=3,d=3.5);if(!T||500<b.length)P=V=0;setTimeout(function(){a.selectAll("mcchart-dot").data(b).enter().append("circle").attr("r",1E-6).style("opacity",1E-6).attr("cx",function(a){return R.scale(R.value(a))}).attr("cy",function(a){return N.scale(N.value(a))}).attr("stroke-width",
c).attr("fill","#FFFFFF").attr("stroke",G[0]).transition().delay(function(a,b){return b*V}).duration(P).attr("r",d).style("opacity",1)},500)}var u=(0,m.createId)(),w=null,v=null,y=(0,c.default)(),x={top:30,right:20,bottom:50,left:60},A=640,z=null,B=16,C=9,D=500,F=!0,G=d.default.colors,I=(0,e.default)(),L=!1,J="Hmmm, seems there is no data to show",T=!0,V=20,P=200,K=null,M=d3.bisector(function(a){return R.value(a)}).left,H=0,X=0,R=(0,a.default)("X"),N=(0,a.default)("Y");b.loadChart=function(a,c){d3.select(a).datum(c).call(b)};
b.noDataMessage=function(a){if(!arguments.length)return J;J=a;return b};b.colors=function(a){if(!arguments.length)return G;G=a;return b};b.width=function(a){if(!arguments.length)return A;A=a;return b};b.height=function(a){if(!arguments.length)return z;z=a;return b};b.scaleWidth=function(a){if(!arguments.length)return X;X=a;return b};b.scaleHeight=function(a){if(!arguments.length)return H;H=a;return b};b.mobileThreshold=function(a){if(!arguments.length)return D;D=a;return b};b.tooltip=function(a){if(!arguments.length)return y;
y=a;return b};b.responsive=function(a){if(!arguments.length)return F;F=a;return b};b.aspectRatio=function(a,c){if(!arguments.length)return{aspectWidth:B,aspectHeight:C};B=a;C=c;return b};b.legend=function(a){if(!arguments.length)return I;I=a;return b};b.showLegend=function(a){if(!arguments.length)return L;L=a;return b};b.animate=function(a){if(!arguments.length)return T;T=a;return b};b.xAxis=R;b.yAxis=N;b.options={};b.options.id=u;b.options.margin=x;b.options.type="scatterTimeSeries";return b};l=
h(5);var a=f(l);l=h(2);var c=f(l);l=h(3);var e=f(l),m=h(1),d=f(m)},function(l,k,h){Object.defineProperty(k,"__esModule",{value:!0});k.default=function(a){function c(){}function e(){d.options.hasOwnProperty("type")&&"stackBar"===d.options.type?w.domain(b[0].map(function(a){return a.x})):w.domain(b.map(t));!d.options.hasOwnProperty("type")||"ordinalBar"!==d.options.type&&"stackBar"!==d.options.type||w.rangeRoundBands([0,v],d.options.barPad)}function h(){if("X"===r)b[0].length?function(){var a=[];w.type===
f.default.scaleType.LINEAR?(b.forEach(function(b){a.push(b.length)}),w.domain([0,d3.max(a)])):(b.forEach(function(b){b.forEach(function(b){b.hasOwnProperty(k.toString())&&a.push(+b[k])})}),w.domain(d3.extent(a)))}():w.type===f.default.scaleType.LINEAR?w.domain([0,b.length]):w.domain(d3.extent(b,function(a){return+a[k]}));else if(d.options.hasOwnProperty("type")&&"stackBar"===d.options.type){var a=void 0,a=d3.max(b[b.length-1],function(a){return a.y0+a.y});w.domain([0,a]).nice()}else(function(){var a=
[];l.length?(b.forEach(function(b,c){b.forEach(function(b){b.hasOwnProperty(l[c])&&a.push(Number(b[l[c]]))})}),w.domain([0,d3.max(a)]).nice()):w.domain([0,d3.max(b,function(a){return Number(a[k])})])})()}var d=null,b=null,k=0,l=[],q=d3.svg.axis(),r=a,t=function(a){return a[k]},u="",w=null,v=0,y=!0,x=10,A=4,z=null,B="%Y-%m-%d";c.createAxis=function(a,k,l){d=a;b=k;w=l;"X"===r?(v=d.scaleWidth(),w.range([0,v])):(v=d.scaleHeight(),w.range([v,0]));w.type===f.default.scaleType.ORDINAL?e():h();return c};
c.value=function(a){return arguments.length?a[k]:t};c.scale=function(a){return arguments.length?w(a):w};c.axis=function(a){if(!arguments.length)return q;q=a;return c};c.keyValue=function(a){if(!arguments.length)return k;k=a;return c};c.keyValues=function(a){if(!arguments.length)return l;l=a;return c};c.label=function(a){if(!arguments.length)return u;u=a;return c};c.tickFormat=function(a){if(!arguments.length)return z;z=a;return c};c.maxTicks=function(a){if(!arguments.length)return x;x=a;return c};
c.maxResponsiveTicks=function(a){if(!arguments.length)return A;A=a;return c};c.axisDateFormat=function(a){if(!arguments.length)return B;B=a;return c};c.setTicks=function(a,b){d.width()<d.mobileThreshold()?c.axis().ticks(b):c.axis().ticks(a);return c};c.showTicks=function(a){if(!arguments.length)return y;y=a;return c};return c};var f=(l=h(1))&&l.__esModule?l:{default:l}},function(l,k,h){function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function b(a){a.each(function(a){null===
A&&(A=a);y=d3.select(this);y.classed({"mcchart-container":!0});J&&(D=y.node().getBoundingClientRect().width);z=y.selectAll("svg").data([A]);z.attr("id","svg-"+this.id);z.classed({"mcchart-svg":!0});a=z.enter().append("svg").attr("id","svg-"+v).classed({"mcchart-svg":!0}).append("g");z.attr("width",D);F=D*I/G;z.attr("height",F);var c=z.select("g");c.classed({"mcchart-lineTimeSeriesChart":!0});c.attr("transform","translate("+C.left+","+C.top+")");c=z.append("g").attr("class","mcchart-legendWrap");V.createLegend(b,
[A],c);P||z.select(".mcchart-legendWrap").selectAll("*").remove();R=Math.ceil(F-C.top-C.bottom);N=D-C.left-C.right;c=d3.scale.linear();c.type=d.default.scaleType.LINEAR;Q.createAxis(b,A,c);t(a);c=d3.scale.linear();c.type=d.default.scaleType.LINEAR;S.createAxis(b,A,c);u(a);c=a.append("g").attr("class","mcchart-lineContainer");w(c,A);var e=a.append("g").attr("class","mcchart-focus");x=a.append("rect");e.style("display","none");x.attr("width",N).attr("height",R).attr("class","mcchart-interactive mcchart-interactive-"+
v);b.noDataContainer=a.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",!0).attr("opacity",0);b.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+N/2+","+R/2+")").attr("text-anchor","middle").text(K);h(b.noDataContainer);e.append("line").attr("class","mcchart-focus-y-line-"+v).style("stroke","#999999").style("stroke-width","2px").style("stroke-dasharray","4,4").style("opacity",.8).attr("y1",0).attr("y2",R);
B.enabled()&&function(){B.chartContainer(y);B.flipPoint(N/2);B.xOffset(10);e.append("div").call(B);var a=[];A.forEach(function(b,c){a.push({val:b,index:c})});x.on("mouseover",function(){e.style("display",null);B.show()}).on("mouseout",function(){e.style("display","none");B.hide()}).on("mousemove",function(b){b=d3.mouse(this)[0];var c=d3.mouse(this)[1],d=Q.scale().invert(b),f=Y(a,d,0,a.length),h=a[f-1],f=a[f];if(void 0!==f&&void 0!==h){var d=d-h.index>f.index-d?f:h,h=D-N-C.right,f=Q.scale(d.index),
k=S.scale(S.value(d.val));e.select(".mcchart-focus-y-line-"+v).attr("transform","translate("+f+","+k+")").attr("y2",R-S.scale(S.value(d.val)));B.data(d.val,f+h,k,b,c)}})}();if(J)d3.select(window).on("resize",(0,m.debounce)(function(){b.animate(!1);b.redraw()},500))})}function f(a){return 0===S.value(a)||"0"===S.value(a)}function h(a){A.every(f)?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(1E3).duration(500).attr("opacity",1)):a.transition().duration(500).attr("opacity",0).each("end",
function(){a.classed("mcchart-noDataContainer--hide",!0)})}function k(a){Q.scale().domain([0,a.length]).nice();d3.select(".mcchart-x.mcchart-axis").transition().duration(1E3).call(Q.axis())}function l(a){S.scale().domain([0,d3.max(a,function(a){return Number(S.value(a))})]);d3.select(".mcchart-y.mcchart-axis").transition().duration(1E3).call(S.axis())}function t(a){Q.setTicks(Q.maxTicks(),Q.maxResponsiveTicks());!1===!!Q.tickFormat()&&Q.tickFormat(m.numberTick);Q.axis().scale(Q.scale()).orient("bottom").tickFormat(Q.tickFormat());
a.append("g").attr("class","mcchart-x mcchart-axis").classed("mcchart-tick--hide",!Q.showTicks()).attr("transform","translate(0, "+R+")").call(Q.axis())}function u(a){S.setTicks(S.maxTicks(),S.maxResponsiveTicks());!1===!!S.tickFormat()&&S.tickFormat(m.numberTick);S.axis().scale(S.scale()).tickSize(-N,0,0).tickFormat(S.tickFormat()).tickPadding(10).orient("left");a.append("g").attr("class","mcchart-y mcchart-axis").classed("mcchart-tick--hide",!S.showTicks()).call(S.axis());""!==S.label()&&d3.select(".mcchart-y").append("text").attr("class",
"mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(S.label())}function w(a,c){var d=d3.svg.line().interpolate(X).tension(0).x(function(a,b){return Q.scale(b)}).y(function(a){return S.scale(S.value(a))}),e=a.append("path").attr("class","mcchart-line").attr("stroke",H).attr("stroke-width",3).attr("fill","none").attr("d",d(c)),f=a.selectAll(".mcchart-dot").data(c);f.enter().append("circle").attr("cx",function(a,
b){return Q.scale(b)}).attr("cy",function(a){return S.scale(S.value(a))}).attr("stroke-width",3).attr("fill",H).attr("stroke",T[0]);b.animate()?(d=e.node().getTotalLength(),e.attr("stroke-dasharray",d+" "+d).attr("stroke-dashoffset",d),setTimeout(function(){e.transition().duration(1E3).ease("linear").attr("stroke-dashoffset",0);f.attr("r",1E-6).style("opacity",1E-6).transition().delay(700).duration(500).attr("r",3).style("opacity",1)},500)):f.attr("r",3).style("opacity",1)}var v=(0,m.createId)(),
y=null,x=null,A=null,z=null,B=(0,c.default)(),C={top:30,right:20,bottom:50,left:60},D=640,F=null,G=16,I=9,L=500,J=!0,T=d.default.colors,V=(0,e.default)(),P=!1,K="Hmmm, seems there is no data to show",M=!0,H=T[0],X="monotone",R=0,N=0,Q=(0,a.default)("X"),S=(0,a.default)("Y"),Y=d3.bisector(function(a){return a.index}).left;b.update=function(a){A=a;h(b.noDataContainer);b.animate()||b.animate(!0);a=d3.selectAll(".mcchart-lineContainer");x.data([A]);var c=d3.svg.line().x(function(a,b){return Q.scale(b)}).y(function(a){return S.scale(0)}).interpolate(X).tension(0),
d=a.select("path"),e=a.selectAll("circle").data([]);d.attr("opacity",1).transition().duration(1E3).attr("d",c).attr("opacity",0).remove();e.exit().transition().duration(500).attr("r",0).style("opacity",0).remove();k(A);l(A);w(a,A)};b.redraw=function(){z.remove();y.call(b)};b.loadChart=function(a,c){d3.select(a).datum(c).call(b)};b.noDataMessage=function(a){if(!arguments.length)return K;K=a;return b};b.colors=function(a){if(!arguments.length)return T;T=a;return b};b.width=function(a){if(!arguments.length)return D;
D=a;return b};b.height=function(a){if(!arguments.length)return F;F=a;return b};b.scaleWidth=function(a){if(!arguments.length)return N;N=a;return b};b.scaleHeight=function(a){if(!arguments.length)return R;R=a;return b};b.mobileThreshold=function(a){if(!arguments.length)return L;L=a;return b};b.tooltip=function(a){if(!arguments.length)return B;B=a;return b};b.responsive=function(a){if(!arguments.length)return J;J=a;return b};b.aspectRatio=function(a,c){if(!arguments.length)return{aspectWidth:G,aspectHeight:I};
G=a;I=c;return b};b.legend=function(a){if(!arguments.length)return V;V=a;return b};b.showLegend=function(a){if(!arguments.length)return P;P=a;return b};b.animate=function(a){if(!arguments.length)return M;M=a;return b};b.lineStrokeColor=function(a){if(!arguments.length)return H;H=a;return b};b.xAxis=Q;b.yAxis=S;b.options={};b.options.id=v;b.options.margin=C;b.options.mobileThreshold=L;b.options.type="line";b.options.lineStrokeColor=b.lineStrokeColor;return b};l=h(5);var a=f(l);l=h(2);var c=f(l);l=
h(3);var e=f(l),m=h(1),d=f(m)},function(l,k,h){function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function b(a){a.each(function(a){null===A&&(A=a);y=d3.select(this);y.classed({"mcchart-container":!0});J&&(D=y.node().getBoundingClientRect().width);z=y.selectAll("svg").data([A]);z.attr("id","svg-"+this.id);z.classed({"mcchart-svg":!0});a=z.enter().append("svg").attr("id","svg-"+v).classed({"mcchart-svg":!0}).append("g");z.attr("width",
D);F=D*I/G;z.attr("height",F);var c=z.select("g");c.classed({"mcchart-lineTimeSeriesChart":!0});c.attr("transform","translate("+C.left+","+C.top+")");c=z.append("g").attr("class","mcchart-legendWrap");V.createLegend(b,[A],c);P||z.select(".mcchart-legendWrap").selectAll("*").remove();R=Math.ceil(F-C.top-C.bottom);N=D-C.left-C.right;c=d3.time.scale();c.type=d.default.scaleType.TIME;Q.createAxis(b,A,c);t(a);c=d3.scale.linear();c.type=d.default.scaleType.LINEAR;S.createAxis(b,A,c);u(a);c=a.append("g").attr("class",
"mcchart-lineContainer");w(c,A);var e=a.append("g").attr("class","mcchart-focus");x=a.append("rect");e.style("display","none");x.attr("width",N).attr("height",R).attr("class","mcchart-interactive mcchart-interactive-"+v);b.noDataContainer=a.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",!0).attr("opacity",0);b.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+N/2+","+R/2+")").attr("text-anchor","middle").text(K);
h(b.noDataContainer);e.append("line").attr("class","mcchart-focus-y-line-"+v).style("stroke","#999999").style("stroke-width","2px").style("stroke-dasharray","4,4").style("opacity",.8).attr("y1",0).attr("y2",R);B.enabled()&&(B.chartContainer(y),B.flipPoint(N/2),B.xOffset(10),e.append("div").call(B),x.on("mouseover",function(){e.style("display",null);B.show()}).on("mouseout",function(){e.style("display","none");B.hide()}).on("mousemove",function(a){var b=d3.mouse(this)[0],c=d3.mouse(this)[1],d=Q.scale().invert(b),
f=Y(a,d,1),h=a[f-1];a=a[f];void 0!==a&&(d=d-Q.value(h)>Q.value(a)-d?a:h,h=D-N-C.right,a=Q.scale(Q.value(d)),f=S.scale(S.value(d)),e.select(".mcchart-focus-y-line-"+v).attr("transform","translate("+a+","+f+")").attr("y2",R-S.scale(S.value(d))),B.data(d,a+h,f,b,c))}));if(J)d3.select(window).on("resize",(0,m.debounce)(function(){b.animate(!1);b.redraw()},500))})}function f(a){return 0===S.value(a)||"0"===S.value(a)}function h(a){A.every(f)?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(1E3).duration(500).attr("opacity",
1)):a.transition().duration(500).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function k(a){Q.scale().domain(d3.extent(a,function(a){return Q.value(a)}));d3.select(".mcchart-x.mcchart-axis").transition().duration(1E3).call(Q.axis())}function l(a){S.scale().domain([0,d3.max(a,function(a){return Number(S.value(a))})]);d3.select(".mcchart-y.mcchart-axis").transition().duration(1E3).call(S.axis())}function t(a){Q.setTicks(Q.maxTicks(),Q.maxResponsiveTicks());
!1===!!Q.tickFormat()&&Q.tickFormat(m.timeTick);Q.axis().scale(Q.scale()).orient("bottom").tickFormat(Q.tickFormat());a.append("g").attr("class","mcchart-x mcchart-axis").classed("mcchart-tick--hide",!Q.showTicks()).attr("transform","translate(0, "+R+")").call(Q.axis())}function u(a){S.setTicks(S.maxTicks(),S.maxResponsiveTicks());!1===!!S.tickFormat()&&S.tickFormat(m.numberTick);S.axis().scale(S.scale()).tickSize(-N,0,0).tickFormat(S.tickFormat()).tickPadding(10).orient("left");a.append("g").attr("class",
"mcchart-y mcchart-axis").classed("mcchart-tick--hide",!S.showTicks()).call(S.axis());""!==S.label()&&d3.select(".mcchart-y").append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(S.label())}function w(a,c){var d=d3.svg.line().interpolate(X).tension(0).x(function(a){return Q.scale(Q.value(a))}).y(function(a){return S.scale(S.value(a))}),e=a.append("path").attr("class","mcchart-line").attr("stroke",
H).attr("stroke-width",3).attr("fill","none").attr("d",d(c)),f=a.selectAll(".mcchart-dot").data(c);f.enter().append("circle").attr("cx",function(a){return Q.scale(Q.value(a))}).attr("cy",function(a){return S.scale(S.value(a))}).attr("stroke-width",3).attr("fill",H).attr("stroke",T[0]);b.animate()?(d=e.node().getTotalLength(),e.attr("stroke-dasharray",d+" "+d).attr("stroke-dashoffset",d),setTimeout(function(){e.transition().duration(1E3).ease("linear").attr("stroke-dashoffset",0);f.attr("r",1E-6).style("opacity",
1E-6).transition().delay(700).duration(500).attr("r",3).style("opacity",1)},500)):f.attr("r",3).style("opacity",1)}var v=(0,m.createId)(),y=null,x=null,A=null,z=null,B=(0,c.default)(),C={top:30,right:20,bottom:50,left:60},D=640,F=null,G=16,I=9,L=500,J=!0,T=d.default.colors,V=(0,e.default)(),P=!1,K="Hmmm, seems there is no data to show",M=!0,H=T[0],X="monotone",R=0,N=0,Q=(0,a.default)("X"),S=(0,a.default)("Y"),Y=d3.bisector(function(a){return Q.value(a)}).left;b.update=function(a){A=a;h(b.noDataContainer);
b.animate()||b.animate(!0);a=d3.selectAll(".mcchart-lineContainer");x.data([A]);var c=d3.svg.line().x(function(a){return Q.scale(Q.value(a))}).y(function(a){return S.scale(0)}).interpolate(X).tension(0),d=a.select("path"),e=a.selectAll("circle").data([]);d.attr("opacity",1).transition().duration(1E3).attr("d",c).attr("opacity",0).remove();e.exit().transition().duration(500).attr("r",0).style("opacity",0).remove();k(A);l(A);w(a,A)};b.redraw=function(){z.remove();y.call(b)};b.loadChart=function(a,c){d3.select(a).datum(c).call(b)};
b.noDataMessage=function(a){if(!arguments.length)return K;K=a;return b};b.colors=function(a){if(!arguments.length)return T;T=a;return b};b.width=function(a){if(!arguments.length)return D;D=a;return b};b.height=function(a){if(!arguments.length)return F;F=a;return b};b.scaleWidth=function(a){if(!arguments.length)return N;N=a;return b};b.scaleHeight=function(a){if(!arguments.length)return R;R=a;return b};b.mobileThreshold=function(a){if(!arguments.length)return L;L=a;return b};b.tooltip=function(a){if(!arguments.length)return B;
B=a;return b};b.responsive=function(a){if(!arguments.length)return J;J=a;return b};b.aspectRatio=function(a,c){if(!arguments.length)return{aspectWidth:G,aspectHeight:I};G=a;I=c;return b};b.legend=function(a){if(!arguments.length)return V;V=a;return b};b.showLegend=function(a){if(!arguments.length)return P;P=a;return b};b.animate=function(a){if(!arguments.length)return M;M=a;return b};b.lineStrokeColor=function(a){if(!arguments.length)return H;H=a;return b};b.xAxis=Q;b.yAxis=S;b.options={};b.options.id=
v;b.options.margin=C;b.options.mobileThreshold=L;b.options.type="lineTimeSeries";b.options.lineStrokeColor=b.lineStrokeColor;return b};l=h(5);var a=f(l);l=h(2);var c=f(l);l=h(3);var e=f(l),m=h(1),d=f(m)},function(l,k,h){function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function b(a){a.each(function(a){null===B&&(B=a,b.interactiveDataArray=v(B));A=d3.select(this);A.attr("class","mcchart-container-"+x);A.classed({"mcchart-container":!0});
V&&(G=A.node().getBoundingClientRect().width);C=A.selectAll("svg").data([B]);C.attr("id","svg-"+x);C.classed({"mcchart-svg":!0});a=C.enter().append("svg").attr("id","svg-"+x).classed({"mcchart-svg":!0}).append("g");C.attr("width",G);I=G*J/L;C.attr("height",I);var c=C.select("g");c.classed({"mcchart-lineTimeSeriesChart":!0});c.attr("transform","translate("+F.left+","+F.top+")");c=C.append("g").attr("class","mcchart-legendWrap");K.createLegend(b,B,c);if(M)c.selectAll(".mcchart-legendSeries").on("click",
function(a,b){var c=d3.select(this);c.classed("mcchart-legendSeries--hide",!c.classed("mcchart-legendSeries--hide"));c=d3.select(".mcchart-"+x+"-serie-"+b);c.classed("mcchart-serie--hide")?(c.transition().duration(500).attr("opacity",1),c.classed("mcchart-serie--hide",!1)):(c.attr("opacity",1),c.transition().duration(500).attr("opacity",0),c.classed("mcchart-serie--hide",!0))});else C.select(".mcchart-legendWrap").selectAll("*").remove();Q=Math.ceil(I-F.top-F.bottom);S=G-F.left-F.right;c=d3.scale.linear();
c.type=d.default.scaleType.LINEAR;Y.createAxis(b,B,c);t(a);c=d3.scale.linear();c.type=d.default.scaleType.LINEAR;O.createAxis(b,B,c);u(a);c=a.append("g").attr("class","mcchart-multiLineContainer mcchart-multiLineContainer-"+x);B.length==O.keyValues().length&&w(c,B);var e=a.append("g").attr("class","mcchart-focus");z=a.append("rect");z.attr("width",S).attr("height",Q).attr("class","mcchart-interactive mcchart-interactive-"+x);e.style("display","none");b.noDataContainer=a.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",
!0).attr("opacity",0);b.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+S/2+","+Q/2+")").attr("text-anchor","middle").text(H);h(b.noDataContainer);e.append("line").attr("class","mcchart-focus-y-line-"+x).style("stroke","#999999").style("stroke-width","2px").style("stroke-dasharray","4,4").style("opacity",.8).attr("y1",0).attr("y2",Q);D.enabled()&&(D.chartContainer(A),D.flipPoint(S/2),D.xOffset(10),e.call(D),z.data([b.interactiveDataArray]),z.on("mouseover",
function(){e.style("display",null);D.show()}).on("mouseout",function(){e.style("display","none");D.hide()}).on("mousemove",function(a){var b=d3.mouse(this)[0],c=d3.mouse(this)[1],d=Y.scale().invert(b),f=W(a,d,0,a.length),h=a[f-1];a=a[f];void 0!==a&&void 0!==h&&(d=d-h.index>a.index-d?a:h,h=G-S-F.right,a=Y.scale(d.index),f=O.scale(y(d)),e.select(".mcchart-focus-y-line-"+x).attr("transform","translate("+a+",0)").attr("y2",Q),D.data(d,a+h,f,b,c))}));if(V)d3.select(window).on("resize",(0,m.debounce)(function(){b.animate(!1);
b.redraw()},500))})}function f(a){return 0===O.value(a)||"0"===O.value(a)}function h(a){var b=[],c;for(c in B)b.push(B[c].every(f));b.every(function(a){return!0===a})?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(750).duration(375).attr("opacity",1)):a.transition().duration(375).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function k(a){var b=[];a.forEach(function(a){a.forEach(function(a){a.hasOwnProperty(Y.keyValue().toString())&&b.push(+a[Y.keyValue()])})});
Y.scale().domain(d3.extent(b));d3.select(".mcchart-x-"+x).transition().duration(750).call(Y.axis())}function l(a){var b=[];a.forEach(function(a,c){a.forEach(function(a){a.hasOwnProperty(O.keyValues()[c])&&b.push(Number(a[O.keyValues()[c]]))})});O.scale().domain([0,d3.max(b)]).nice();d3.select(".mcchart-y-"+x).transition().duration(750).call(O.axis())}function t(a){Y.setTicks(Y.maxTicks(),Y.maxResponsiveTicks());!1===!!Y.tickFormat()&&Y.tickFormat(m.numberTick);Y.axis().scale(Y.scale()).orient("bottom").tickFormat(Y.tickFormat());
a.append("g").attr("class","mcchart-x mcchart-x-"+x+" mcchart-axis").classed("mcchart-tick--hide",!Y.showTicks()).attr("transform","translate(0, "+Q+")").call(Y.axis())}function u(a){O.setTicks(O.maxTicks(),O.maxResponsiveTicks());!1===!!O.tickFormat()&&O.tickFormat(m.numberTick);O.axis().scale(O.scale()).tickSize(-S,0,0).tickFormat(O.tickFormat()).tickPadding(10).orient("left");a.append("g").attr("class","mcchart-y mcchart-y-"+x+" mcchart-axis").classed("mcchart-tick--hide",!O.showTicks()).call(O.axis());
""!==O.label()&&d3.select("mcchart-y-"+x).append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(O.label())}function w(a,c){c[0].length&&function(){var d=d3.svg.line().interpolate(N).tension(0).x(function(a,b){return Y.scale(b)}).y(function(a){return O.scale(O.value(a))});a.selectAll(".mcchart-lineWrap").data(c).enter().append("g").attr("class",function(a,b){return"mcchart-lineWrap mcchart-"+
x+"-serie-"+b});a.selectAll(".mcchart-lineWrap").append("path").attr("class","mcchart-line").attr("stroke",function(a,b){return P[b]}).attr("stroke-width",3).attr("fill","none").attr("d",function(a,b){O.keyValue(O.keyValues()[b]);return d(a)});a.selectAll(".mcchart-lineWrap").each(function(d,e){var f=d3.select(this).selectAll(".mcchart-dot").data(c[e]);O.keyValue(O.keyValues()[e]);f.enter().append("circle").attr("cx",function(a,b){return Y.scale(b)}).attr("cy",function(a){return O.scale(O.value(a))}).attr("stroke-width",
3).attr("fill",function(a){return P[e]}).attr("stroke",function(a){return P[e]});b.animate()?a.selectAll(".mcchart-line").each(function(a,b){var c=d3.select(this),d=c.node().getTotalLength();c.attr("stroke-dasharray",d+" "+d).attr("stroke-dashoffset",d);setTimeout(function(){c.transition().duration(750).ease("linear").attr("stroke-dashoffset",0);f.attr("r",1E-6).style("opacity",1E-6).transition().delay(525).duration(375).attr("r",3).style("opacity",1)},250)}):f.attr("r",3).style("opacity",1)})}()}
function v(a){for(var b=a[0].map(function(a,b){var c={};c.serie0=a;c.index=b;return c}),c=function(c){a[c].forEach(function(a,d){var e=!1;b[d]&&(e=!0);e?b[d]["serie"+c]=a:(e={},e["serie"+c]=a,e.index=d,b.push(e))})},d=1;d<a.length;d++)c(d);return b}function y(a){var b=[],c=0;B.forEach(function(d,e){a["serie"+e]&&(c=parseFloat(a["serie"+e][O.keyValues()[e]]));b.push(c)});return Math.max.apply(Math,b)}var x=(0,m.createId)(),A=null,z=null,B=null,C=null,D=(0,c.default)(),F={top:30,right:20,bottom:50,
left:60},G=640,I=null,L=16,J=9,T=500,V=!0,P=d.default.colors,K=(0,e.default)(),M=!0,H="Hmmm, seems there is no data to show",X=!0,R=P[0],N="monotone",Q=0,S=0,Y=(0,a.default)("X"),O=(0,a.default)("Y"),W=d3.bisector(function(a){return a.index}).left;b.update=function(a){B=_castDateToNumber(a);b.interactiveDataArray=v(B);h(b.noDataContainer);b.animate()||b.animate(!0);var c=A.selectAll(".mcchart-multiLineContainer-"+x),d=c.selectAll(".mcchart-lineWrap").data(B);z.data([b.interactiveDataArray]);var e=
d3.svg.line().x(function(a){return Y.scale(Y.value(a))}).y(function(a){return O.scale(0)}).interpolate(N).tension(0);d.each(function(a,b){O.keyValue(O.keyValues()[b]);var f=d3.select(this).selectAll("path").data([]),h=d3.select(this).selectAll("circle").data([]);f.exit().attr("opacity",1).transition().delay(100*b).duration(562.5).attr("d",function(a){return e(a)}).attr("opacity",0).remove().each("end",function(){d[0].length===b+1&&w(c,B)});h.exit().transition().duration(375).attr("r",0).style("opacity",
0).remove()});k(B);l(B)};b.redraw=function(){C.remove();A.call(b)};b.loadChart=function(a,c){d3.select(a).datum(c).call(b)};b.noDataMessage=function(a){if(!arguments.length)return H;H=a;return b};b.colors=function(a){if(!arguments.length)return P;P=a;return b};b.width=function(a){if(!arguments.length)return G;G=a;return b};b.height=function(a){if(!arguments.length)return I;I=a;return b};b.scaleWidth=function(a){if(!arguments.length)return S;S=a;return b};b.scaleHeight=function(a){if(!arguments.length)return Q;
Q=a;return b};b.mobileThreshold=function(a){if(!arguments.length)return T;T=a;return b};b.tooltip=function(a){if(!arguments.length)return D;D=a;return b};b.responsive=function(a){if(!arguments.length)return V;V=a;return b};b.aspectRatio=function(a,c){if(!arguments.length)return{aspectWidth:L,aspectHeight:J};L=a;J=c;return b};b.legend=function(a){if(!arguments.length)return K;K=a;return b};b.showLegend=function(a){if(!arguments.length)return M;M=a;return b};b.animate=function(a){if(!arguments.length)return X;
X=a;return b};b.lineStrokeColor=function(a){if(!arguments.length)return R;R=a;return b};b.xAxis=Y;b.yAxis=O;b.options={};b.options.id=x;b.options.margin=F;b.options.mobileThreshold=T;b.options.type="multiLine";b.options.lineStrokeColor=b.lineStrokeColor;return b};l=h(5);var a=f(l);l=h(2);var c=f(l);l=h(3);var e=f(l),m=h(1),d=f(m)},function(l,k,h){function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function b(a){a.each(function(a){null===
C&&(C=a,b.interactiveDataArray=y(C));z=d3.select(this);z.attr("class","mcchart-container-"+A);z.classed({"mcchart-container":!0});P&&(I=z.node().getBoundingClientRect().width);D=z.selectAll("svg").data([C]);D.attr("id","svg-"+A);D.classed({"mcchart-svg":!0});a=D.enter().append("svg").attr("id","svg-"+A).classed({"mcchart-svg":!0}).append("g");D.attr("width",I);L=I*T/J;D.attr("height",L);var c=D.select("g");c.classed({"mcchart-lineTimeSeriesChart":!0});c.attr("transform","translate("+G.left+","+G.top+
")");c=D.append("g").attr("class","mcchart-legendWrap");M.createLegend(b,C,c);if(H)c.selectAll(".mcchart-legendSeries").on("click",function(a,b){var c=d3.select(this);c.classed("mcchart-legendSeries--hide",!c.classed("mcchart-legendSeries--hide"));c=d3.select(".mcchart-"+A+"-serie-"+b);c.classed("mcchart-serie--hide")?(c.transition().duration(500).attr("opacity",1),c.classed("mcchart-serie--hide",!1)):(c.attr("opacity",1),c.transition().duration(500).attr("opacity",0),c.classed("mcchart-serie--hide",
!0))});else D.select(".mcchart-legendWrap").selectAll("*").remove();S=Math.ceil(L-G.top-G.bottom);Y=I-G.left-G.right;c=d3.time.scale();c.type=d.default.scaleType.TIME;O.createAxis(b,C,c);t(a);c=d3.scale.linear();c.type=d.default.scaleType.LINEAR;W.createAxis(b,C,c);u(a);c=a.append("g").attr("class","mcchart-multiLineContainer mcchart-multiLineContainer-"+A);C.length==W.keyValues().length&&w(c,C);var e=a.append("g").attr("class","mcchart-focus");B=a.append("rect");B.attr("width",Y).attr("height",S).attr("class",
"mcchart-interactive mcchart-interactive-"+A);e.style("display","none");b.noDataContainer=a.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",!0).attr("opacity",0);b.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+Y/2+","+S/2+")").attr("text-anchor","middle").text(X);h(b.noDataContainer);e.append("line").attr("class","mcchart-focus-y-line-"+A).style("stroke","#999999").style("stroke-width","2px").style("stroke-dasharray",
"4,4").style("opacity",.8).attr("y1",0).attr("y2",S);F.enabled()&&(F.chartContainer(z),F.flipPoint(Y/2),F.xOffset(10),e.call(F),B.data([b.interactiveDataArray]),B.on("mouseover",function(){e.style("display",null);F.show()}).on("mouseout",function(){e.style("display","none");F.hide()}).on("mousemove",function(a){var b=d3.mouse(this)[0],c=d3.mouse(this)[1],d=O.scale().invert(b),f=da(a,d,1),h=a[f-1];a=a[f];void 0!==a&&(d=d-new Date(O.value(h))>new Date(O.value(a))-d?a:h,h=I-Y-G.right,a=O.scale(new Date(O.value(d))),
f=W.scale(x(d)),e.select(".mcchart-focus-y-line-"+A).attr("transform","translate("+a+",0)").attr("y2",S),F.data(d,a+h,f,b,c))}));if(P)d3.select(window).on("resize",(0,m.debounce)(function(){b.animate(!1);b.redraw()},500))})}function f(a){return 0===W.value(a)||"0"===W.value(a)}function h(a){var b=[],c;for(c in C)b.push(C[c].every(f));b.every(function(a){return!0===a})?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(750).duration(375).attr("opacity",1)):a.transition().duration(375).attr("opacity",
0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function k(a){var b=[];a.forEach(function(a){a.forEach(function(a){a.hasOwnProperty(O.keyValue().toString())&&b.push(+a[O.keyValue()])})});O.scale().domain(d3.extent(b));d3.select(".mcchart-x-"+A).transition().duration(750).call(O.axis())}function l(a){var b=[];a.forEach(function(a,c){a.forEach(function(a){a.hasOwnProperty(W.keyValues()[c])&&b.push(Number(a[W.keyValues()[c]]))})});W.scale().domain([0,d3.max(b)]).nice();d3.select(".mcchart-y-"+
A).transition().duration(750).call(W.axis())}function t(a){O.setTicks(O.maxTicks(),O.maxResponsiveTicks());!1===!!O.tickFormat()&&O.tickFormat(m.timeTick);O.axis().scale(O.scale()).orient("bottom").tickFormat(O.tickFormat());a.append("g").attr("class","mcchart-x mcchart-x-"+A+" mcchart-axis").classed("mcchart-tick--hide",!O.showTicks()).attr("transform","translate(0, "+S+")").call(O.axis())}function u(a){W.setTicks(W.maxTicks(),W.maxResponsiveTicks());!1===!!W.tickFormat()&&W.tickFormat(m.numberTick);
W.axis().scale(W.scale()).tickSize(-Y,0,0).tickFormat(W.tickFormat()).tickPadding(10).orient("left");a.append("g").attr("class","mcchart-y mcchart-y-"+A+" mcchart-axis").classed("mcchart-tick--hide",!W.showTicks()).call(W.axis());""!==W.label()&&d3.select("mcchart-y-"+A).append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(W.label())}function w(a,c){c[0].length&&function(){var d=d3.svg.line().interpolate(Q).tension(0).x(function(a){return O.scale(O.value(a))}).y(function(a){return W.scale(W.value(a))});
a.selectAll(".mcchart-lineWrap").data(c).enter().append("g").attr("class",function(a,b){return"mcchart-lineWrap mcchart-"+A+"-serie-"+b});a.selectAll(".mcchart-lineWrap").append("path").attr("class","mcchart-line").attr("stroke",function(a,b){return K[b]}).attr("stroke-width",3).attr("fill","none").attr("d",function(a,b){W.keyValue(W.keyValues()[b]);return d(a)});a.selectAll(".mcchart-lineWrap").each(function(d,e){var f=d3.select(this).selectAll(".mcchart-dot").data(c[e]);W.keyValue(W.keyValues()[e]);
f.enter().append("circle").attr("cx",function(a){return O.scale(O.value(a))}).attr("cy",function(a){return W.scale(W.value(a))}).attr("stroke-width",3).attr("fill",function(a){return K[e]}).attr("stroke",function(a){return K[e]});b.animate()?a.selectAll(".mcchart-line").each(function(a,b){var c=d3.select(this),d=c.node().getTotalLength();c.attr("stroke-dasharray",d+" "+d).attr("stroke-dashoffset",d);setTimeout(function(){c.transition().duration(750).ease("linear").attr("stroke-dashoffset",0);f.attr("r",
1E-6).style("opacity",1E-6).transition().delay(525).duration(375).attr("r",3).style("opacity",1)},250)}):f.attr("r",3).style("opacity",1)})}()}function v(a){a.forEach(function(a,b){a.forEach(function(a,b){"number"!==typeof a[O.keyValue()]&&(a[O.keyValue()]=+(0,m.parseDate)(a[O.keyValue()],O.axisDateFormat()))})});return a}function y(a){function b(a){for(var d=!1,e=0;e<c.length;e++)if(a[O.keyValue()]===c[e][O.keyValue()]){d=!0;break}return d}for(var c=a[0].map(function(a,b){var c={};c.serie0=a;c[O.keyValue()]=
a[O.keyValue()];return c}),d=function(d){a[d].forEach(function(a,e){if(b(a))c.filter(function(b){return b[O.keyValue()]===a[O.keyValue()]})[0]["serie"+d]=a;else{var f={};f["serie"+d]=a;f[O.keyValue()]=a[O.keyValue()];c.push(f)}})},e=1;e<a.length;e++)d(e);return c}function x(a){var b=[],c=0;C.forEach(function(d,e){a["serie"+e]&&(c=parseFloat(a["serie"+e][W.keyValues()[e]]));b.push(c)});return Math.max.apply(Math,b)}var A=(0,m.createId)(),z=null,B=null,C=null,D=null,F=(0,c.default)(),G={top:30,right:20,
bottom:50,left:60},I=640,L=null,J=16,T=9,V=500,P=!0,K=d.default.colors,M=(0,e.default)(),H=!0,X="Hmmm, seems there is no data to show",R=!0,N=K[0],Q="monotone",S=0,Y=0,O=(0,a.default)("X"),W=(0,a.default)("Y"),da=d3.bisector(function(a){return O.value(a)}).left;b.update=function(a){C=v(a);b.interactiveDataArray=y(C);h(b.noDataContainer);b.animate()||b.animate(!0);var c=z.selectAll(".mcchart-multiLineContainer-"+A),d=c.selectAll(".mcchart-lineWrap").data(C);B.data([b.interactiveDataArray]);var e=d3.svg.line().x(function(a){return O.scale(O.value(a))}).y(function(a){return W.scale(0)}).interpolate(Q).tension(0);
d.each(function(a,b){W.keyValue(W.keyValues()[b]);var f=d3.select(this).selectAll("path").data([]),h=d3.select(this).selectAll("circle").data([]);f.exit().attr("opacity",1).transition().delay(100*b).duration(562.5).attr("d",function(a){return e(a)}).attr("opacity",0).remove().each("end",function(){d[0].length===b+1&&w(c,C)});h.exit().transition().duration(375).attr("r",0).style("opacity",0).remove()});k(C);l(C)};b.redraw=function(){D.remove();z.call(b)};b.loadChart=function(a,c){var d=v(c);d3.select(a).datum(d).call(b)};
b.noDataMessage=function(a){if(!arguments.length)return X;X=a;return b};b.colors=function(a){if(!arguments.length)return K;K=a;return b};b.width=function(a){if(!arguments.length)return I;I=a;return b};b.height=function(a){if(!arguments.length)return L;L=a;return b};b.scaleWidth=function(a){if(!arguments.length)return Y;Y=a;return b};b.scaleHeight=function(a){if(!arguments.length)return S;S=a;return b};b.mobileThreshold=function(a){if(!arguments.length)return V;V=a;return b};b.tooltip=function(a){if(!arguments.length)return F;
F=a;return b};b.responsive=function(a){if(!arguments.length)return P;P=a;return b};b.aspectRatio=function(a,c){if(!arguments.length)return{aspectWidth:J,aspectHeight:T};J=a;T=c;return b};b.legend=function(a){if(!arguments.length)return M;M=a;return b};b.showLegend=function(a){if(!arguments.length)return H;H=a;return b};b.animate=function(a){if(!arguments.length)return R;R=a;return b};b.lineStrokeColor=function(a){if(!arguments.length)return N;N=a;return b};b.xAxis=O;b.yAxis=W;b.options={};b.options.id=
A;b.options.margin=G;b.options.mobileThreshold=V;b.options.type="multiLineTimeSeries";b.options.lineStrokeColor=b.lineStrokeColor;return b};l=h(5);var a=f(l);l=h(2);var c=f(l);l=h(3);var e=f(l),m=h(1),d=f(m)},function(l,k,h){function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function b(a){a.each(function(a){x=a;w=d3.select(this);w.classed({"mcchart-container":!0});G&&(z=w.node().getBoundingClientRect().width);v=w.selectAll("svg").data([x]);
v.attr("id","svg-"+this.id);v.classed({"mcchart-svg":!0});a=v.enter().append("svg").attr("id","svg-"+u).classed({"mcchart-svg":!0}).append("g");v.attr("width",z);B=z*D/C;v.attr("height",B);P=Math.ceil(B-A.top-A.bottom);K=z-A.left-A.right;var c=v.select("g");c.classed({"mcchart-barTimeSeriesChart":!0});c.attr("transform","translate("+A.left+","+A.top+")");c=v.append("g").attr("class","mcchart-legendWrap");L.createLegend(b,[x],c);J||v.select(".mcchart-legendWrap").selectAll("*").remove();c=d3.scale.ordinal();
c.type=d.default.scaleType.ORDINAL;M.createAxis(b,x,c);k(a);c=d3.scale.linear();c.type=d.default.scaleType.LINEAR;H.createAxis(b,x,c);l(a);c=a.append("g").attr("class","mcchart-barContainer mcchart-barContainer-"+u).attr("transform","translate(0, -1)");t(c,x);var e=a.append("g").attr("class","mcchart-focus"),f=a.append("rect");e.style("display","none");f.attr("width",K).attr("height",P).attr("class","mcchart-interactive mcchart-interactive-"+u);b.noDataContainer=a.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",
!0).attr("opacity",0);b.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+K/2+","+P/2+")").attr("text-anchor","middle").text(T);h(b.noDataContainer);y.enabled()&&function(){var a=M.scale().rangeBand();y.chartContainer(w);y.flipPoint(K/2+a/2);e.append("div").call(y);f.on("mouseout",function(){y.hide()}).on("mousemove",function(b){for(var c=d3.mouse(this)[0],d=d3.mouse(this)[1],e=0;e<b.length;e++){var f=b[e],h=M.scale(M.value(f)),k=h+M.scale().rangeBand(),
l=H.scale(H.value(f));if(c>h&&c<k&&d>l){c<y.flipPoint()?y.data(f,h+a+A.left,l,c,d):y.data(f,h+A.left,l,c,d);y.show();break}else y.hide()}})}();if(G)d3.select(window).on("resize",(0,m.debounce)(function(){b.animate(!1);b.redraw()},500));b.update=function(a){x=a;h(b.noDataContainer);f.data([a]);d3.select(".mcchart-barContainer-"+u).selectAll(".mcchart-bar").data(a).transition().duration(750).attr("y",function(a){return H.scale(H.value(a))}).attr("height",function(a){return P-H.scale(H.value(a))})};
b.redraw=function(){v.remove();w.call(b)}})}function f(a){return 0===H.value(a)||"0"===H.value(a)}function h(a){x.every(f)?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(750).duration(375).attr("opacity",1)):a.transition().duration(375).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function k(a){M.setTicks(M.maxTicks(),M.maxResponsiveTicks());b.width()<b.mobileThreshold()?M.axis().tickValues(M.scale().domain().filter(function(a,b){return!(b%
4)})):M.axis().tickValues(M.scale().domain());!1===!!M.tickFormat()&&M.tickFormat(m.timeTick);M.axis().scale(M.scale()).orient("bottom").tickFormat(M.tickFormat());a.append("g").attr("class","mcchart-x mcchart-axis").classed("mcchart-tick--hide",!M.showTicks()).attr("transform","translate(0, "+P+")").call(M.axis())}function l(a){H.setTicks(H.maxTicks(),H.maxResponsiveTicks());!1===!!H.tickFormat()&&H.tickFormat(m.numberTick);H.axis().scale(H.scale()).tickSize(-K,0,0).tickFormat(H.tickFormat()).tickPadding(10).orient("left");
a.append("g").attr("class","mcchart-y mcchart-axis").classed("mcchart-tick--hide",!H.showTicks()).call(H.axis());""!==H.label()&&d3.select(".mcchart-y").append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor","end").text(H.label())}function t(a,c){setTimeout(function(){var d=a.selectAll("mcchart-bar").data(c);d.enter().append("rect").attr("class","mcchart-bar").attr("x",function(a){return M.scale(M.value(a))}).attr("width",
M.scale().rangeBand()).attr("fill",I[0]).attr("opacity",1).attr("y",function(a){return P}).attr("height",0);b.animate()?d.transition().duration(750).delay(function(a,b){return 10*b}).attr("height",function(a){return P-H.scale(H.value(a))}).attr("y",function(a){return H.scale(H.value(a))}):d.attr("height",function(a){return P-H.scale(H.value(a))}).attr("y",function(a){return H.scale(H.value(a))})},500)}var u=(0,m.createId)(),w=null,v=null,y=(0,c.default)(),x=null,A={top:30,right:20,bottom:50,left:60},
z=640,B=null,C=16,D=9,F=500,G=!0,I=d.default.colors,L=(0,e.default)(),J=!1,T="Hmmm, seems there is no data to show",V=!0,P=0,K=0,M=(0,a.default)("X"),H=(0,a.default)("Y");b.loadChart=function(a,c){d3.select(a).datum(c).call(b)};b.noDataMessage=function(a){if(!arguments.length)return T;T=a;return b};b.colors=function(a){if(!arguments.length)return I;I=a;return b};b.width=function(a){if(!arguments.length)return z;z=a;return b};b.height=function(a){if(!arguments.length)return B;B=a;return b};b.scaleWidth=
function(a){if(!arguments.length)return K;K=a;return b};b.scaleHeight=function(a){if(!arguments.length)return P;P=a;return b};b.mobileThreshold=function(a){if(!arguments.length)return F;F=a;return b};b.legend=function(a){if(!arguments.length)return L;L=a;return b};b.showLegend=function(a){if(!arguments.length)return J;J=a;return b};b.tooltip=function(a){if(!arguments.length)return y;y=a;return b};b.responsive=function(a){if(!arguments.length)return G;G=a;return b};b.aspectRatio=function(a,c){if(!arguments.length)return{aspectWidth:C,
aspectHeight:D};C=a;D=c;return b};b.animate=function(a){if(!arguments.length)return V;V=a;return b};b.xAxis=M;b.yAxis=H;b.options={};b.options.id=u;b.options.margin=A;b.options.barPad=.2;b.options.mobileThreshold=F;b.options.type="ordinalBar";b.options.lineStrokeColor=b.lineStrokeColor;return b};l=h(5);var a=f(l);l=h(2);var c=f(l);l=h(3);var e=f(l),m=h(1),d=f(m)},function(l,k,h){function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function b(a){a.each(function(a){B=
a;for(var c=0;c<Object.keys(a).length;c++)R[c]=!0;w(a);B=a;x=d3.select(this);x.classed({"mcchart-container":!0});J&&(D=x.node().getBoundingClientRect().width);A=x.selectAll("svg").data([X]);A.attr("id","svg-"+this.id);A.classed({"mcchart-svg":!0});a=A.enter().append("svg").attr("id","svg-"+y).classed({"mcchart-svg":!0}).append("g");A.attr("width",D);F=D*I/G;A.attr("height",F);c=A.select("g");c.classed({"mcchart-stackBarChart":!0});c.attr("transform","translate("+C.left+","+C.top+")");c=A.append("g").attr("class",
"mcchart-legendWrap");V.createLegend(b,X,c);if(P)c.selectAll(".mcchart-legendSeries").on("click",function(a,c){var d=d3.select(this);d.classed("mcchart-legendSeries--hide",!d.classed("mcchart-legendSeries--hide"));R[c]?R[c]=!1:R[c]=!0;b._updateSeriesData()});else A.select(".mcchart-legendWrap").selectAll("*").remove();b._updateSeriesData=function(){var a=d3.layout.stack()(H.map(function(a,b){return B[a].map(function(a){return{x:(0,m.parseDate)(a[W.keyValue()],K),y:R[b]?+a[da.keyValue()]:0}})}));v(a);
S.data([a])};Y=Math.ceil(F-C.top-C.bottom);O=D-C.left-C.right;b.redraw=function(){A.remove();x.call(b)};c=d3.scale.ordinal();c.type=d.default.scaleType.ORDINAL;W.createAxis(b,X,c);t(a);c=d3.scale.linear();c.type=d.default.scaleType.LINEAR;da.createAxis(b,X,c);u(a);Q=a.append("g").attr("class","mcchart-barContainer").attr("transform","translate(0, -1)");v();c=a.append("g").attr("class","mcchart-focus");S=a.append("rect");S.attr("width",O).attr("height",Y).attr("class","mcchart-interactive mcchart-interactive-"+
y);c.style("display","none");b.noDataContainer=a.append("g").attr("class","mcchart-noDataContainer").classed("mcchart-noDataContainer--hide",!0).attr("opacity",0);b.noDataContainer.append("text").attr("class","mcchart-noDataMessage").attr("transform","translate("+O/2+","+Y/2+")").attr("text-anchor","middle").text(M);h(b.noDataContainer);z.enabled()&&function(){var a=W.scale().rangeBand();z.chartContainer(x);z.flipPoint(O/2+a/2);S.append("div").call(z);S.on("mouseout",function(){z.hide()}).on("mousemove",
function(b){for(var c=d3.mouse(this)[0],d=d3.mouse(this)[1],e=0;e<b.length;e++)for(var f=0;f<b[e].length;f++){var h=b[e][f],k=W.scale(h.x),l=k+W.scale().rangeBand(),m=da.scale(h.y+h.y0),n=da.scale(h.y0);h.seriesIndex=e;if(c>k&&c<l&&d>m&&d<n){c<z.flipPoint()?z.data(h,k+a+C.left,m+C.top,c,d):z.data(h,k+C.left,m+C.top,c,d);z.show();e=b.length-1;break}else z.hide()}})}();b.update=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};B=a;h(b.noDataContainer);var d=w(a);S.data([d]);
k(d,c);l(d);v()};if(J)d3.select(window).on("resize",(0,m.debounce)(function(){b.animate(!1);b.redraw()},500))})}function f(a){return 0===da.value(a)||"0"===da.value(a)}function h(a){var b=[],c;for(c in B)b.push(B[c].every(f));b.every(function(a){return!0===a})?(a.classed("mcchart-noDataContainer--hide",!1),a.transition().delay(750).duration(375).attr("opacity",1)):a.transition().duration(375).attr("opacity",0).each("end",function(){a.classed("mcchart-noDataContainer--hide",!0)})}function k(a,c){W.scale().domain(a[0].map(function(a){return a.x}));
W.scale().rangeRoundBands([0,b.scaleWidth()],b.options.barPad);W.axis().tickValues(W.scale().domain());if(c.xAxisFormat){var d=d3.time.format(c.xAxisFormat);W.axis().tickFormat(function(a){return d(a)})}d3.select(".mcchart-x-"+y).transition().duration(750).call(W.axis())}function l(a){var b=[];da.scale().domain(a[a.length-1].map(function(a){b.push(a.y+a.y0)}));da.scale().domain([0,d3.max(b)]).nice();d3.select(".mcchart-y-"+y).transition().duration(750).call(da.axis())}function t(a){W.setTicks(W.maxTicks(),
W.maxResponsiveTicks());b.width()<b.mobileThreshold()?W.axis().tickValues(W.scale().domain().filter(function(a,b){return!(b%4)})):W.axis().tickValues(W.scale().domain());!1===!!W.tickFormat()&&W.tickFormat(m.timeTick);W.axis().scale(W.scale()).orient("bottom").tickFormat(W.tickFormat());a.append("g").attr("class","mcchart-x mcchart-x-"+y+" mcchart-axis").classed("mcchart-tick--hide",!W.showTicks()).attr("transform","translate(0, "+Y+")").call(W.axis())}function u(a){da.setTicks(da.maxTicks(),da.maxResponsiveTicks());
!1===!!da.tickFormat()&&da.tickFormat(m.numberTick);da.axis().scale(da.scale()).tickSize(-O,0,0).tickFormat(da.tickFormat()).tickPadding(10).ticks(da.maxTicks()).orient("left");a.append("g").attr("class","mcchart-y mcchart-y-"+y+" mcchart-axis").classed("mcchart-tick--hide",!da.showTicks()).call(da.axis());""!==da.label()&&d3.select(".mcchart-y-"+y).append("text").attr("class","mcchart-axis-label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").attr("font-size","12px").style("text-anchor",
"end").text(da.label())}function w(a){H=Object.keys(a);for(var b in a)a[b].forEach(function(a){0>a[da.keyValue()]&&(a[da.keyValue()]=0)});return X=d3.layout.stack()(H.map(function(b,c){return a[b].map(function(a){return{x:(0,m.parseDate)(a[W.keyValue()],K),y:R[c]?+a[da.keyValue()]:0}})}))}function v(a){a=a?a:X;a=Q.selectAll(".mcchart-barlayer").data(a);var b=0;a.enter().append("g").attr("class","mcchart-barlayer").attr("x",function(a){return W.scale(a.x)}).style("fill",function(a,c){var d=R[c]?c+
b:c+b++;return T[d]});a.exit().style("fill",function(a,c){var d=R[c]?c+b:c+b++;return T[d]}).selectAll("rect").transition().duration(750).delay(function(a,b){return 10*b}).attr("y",function(a){return da.scale(a.y+a.y0)}).attr("height",function(a){return 0}).remove();a=a.selectAll("rect").data(function(a){return a});a.transition().duration(750).delay(function(a,b){return 100*b}).attr("x",function(a){return W.scale(a.x)}).attr("y",function(a){return da.scale(a.y+a.y0)}).attr("width",W.scale().rangeBand()-
1).attr("height",function(a){return da.scale(a.y0)-da.scale(a.y+a.y0)});a.enter().append("rect").attr("class","bar").attr("width",W.scale().rangeBand()-1).attr("opacity",1).attr("y",function(a){return Y}).attr("height",function(a){return 0}).transition().duration(750).delay(function(a,b){return 100*b}).attr("x",function(a){return W.scale(a.x)}).attr("y",function(a){return da.scale(a.y+a.y0)}).attr("height",function(a){return da.scale(a.y0)-da.scale(a.y+a.y0)});a.exit().transition().duration(750).delay(function(a,
b){return 50*b}).attr("y",function(a){return Y}).attr("height",function(a){return 0}).remove()}var y=(0,m.createId)(),x=null,A=null,z=(0,c.default)(),B=null,C={top:30,right:20,bottom:50,left:60},D=640,F=null,G=16,I=9,L=500,J=!0,T=d.default.colors,V=(0,e.default)(),P=!0,K="%Y-%m-%d",M="Hmmm, seems there is no data to show",H=[],X=[],R=[],N=!0,Q=void 0,S=void 0;d3.bisector(function(a){return xValue(a)});var Y=0,O=0,W=(0,a.default)("X"),da=(0,a.default)("Y");b.loadChart=function(a,c){d3.select(a).datum(c).call(b)};
b.tooltip=function(a){if(!arguments.length)return z;z=a;return b};b.noDataMessage=function(a){if(!arguments.length)return M;M=a;return b};b.colors=function(a){if(!arguments.length)return T;T=a;return b};b.width=function(a){if(!arguments.length)return D;D=a;return b};b.height=function(a){if(!arguments.length)return F;F=a;return b};b.scaleWidth=function(a){if(!arguments.length)return O;O=a;return b};b.scaleHeight=function(a){if(!arguments.length)return Y;Y=a;return b};b.mobileThreshold=function(a){if(!arguments.length)return L;
L=a;return b};b.responsive=function(a){if(!arguments.length)return J;J=a;return b};b.aspectRatio=function(a,c){if(!arguments.length)return{aspectWidth:G,aspectHeight:I};G=a;I=c;return b};b.legend=function(a){if(!arguments.length)return V;V=a;return b};b.showLegend=function(a){if(!arguments.length)return P;P=a;return b};b.dateFormat=function(a){if(!arguments.length)return K;K=a;return b};b.animate=function(a){if(!arguments.length)return N;N=a;return b};b.xAxis=W;b.yAxis=da;b.options={};b.options.id=
y;b.options.margin=C;b.options.barPad=.4;b.options.mobileThreshold=L;b.options.type="stackBar";return b};l=h(5);var a=f(l);l=h(2);var c=f(l);l=h(3);var e=f(l),m=h(1),d=f(m)},function(l,k,h){Object.defineProperty(k,"__esModule",{value:!0});k.default=function(){function c(a){function u(a){var b=d3.interpolate(this._current,a);this._current=b(0);return function(a){return G(b(a))}}var w=null,v=null,y=null,x=null,A=null,z=null,B=null,C=null;b&&(d=a.node().getBoundingClientRect().width,d3.select(window).on("resize",
(0,f.debounce)(function(){c.redraw()},500)));var D=Math.min(d,d)/2,F=d3.scale.ordinal().range(h),G=d3.svg.arc().outerRadius(D).innerRadius(D-l),I=d3.layout.pie().sort(null).value(function(a){return a.value}),L=a.attr("class","mcchart-container-"+e).append("svg").attr("id","svg-"+e).classed({"mcchart-svg":!0}).attr("width",d).attr("height",d),J=L.append("g").attr("transform","translate("+d/2+","+d/2+")"),T=null;c.redraw=function(){d=a.node().getBoundingClientRect().width;J.attr("transform","translate("+
d/2+","+d/2+")");L.attr("width",d).attr("height",d);D=Math.min(d,d)/2;G.outerRadius(D).innerRadius(D-l);C.attr("d",G)};c._addHoverStates=function(a){a.on("mouseenter",function(a,b){var d=d3.select(y[0][b]);c._highlightSource(this,a.data,d)}).on("mouseleave",function(a){c._resetHighlight()})};var V=d3.format(",f");c.sectionsArr=[];c.updateData=function(a){var b=K(a);A=b;return new Promise(function(a,d){c.legendContainer.innerHTML="";0===b.length?(L.style("display","none"),z.text(""),B.text(""),a({promise:"success",
data:b,status:q.noData})):(L.style("display","block"),x=d3.sum(b,function(a){return a.value}),C=J.selectAll("path"),C=C.data(I(b)),C.enter().append("path").attr("fill",function(a,b){this._current=a;return h[b]}).attr("class","mcchart-arc"+e).attr("id",function(a,b){c.sectionsArr.push({id:"#section-"+b,props:a});return"section-"+b}),I.value(function(a){return a.value}),C.transition().duration(750).attrTween("d",u),C.exit().remove(),r?(z.text(""),B.text("")):(z.text(V(x)),B.text("Total")),c._addHoverStates(C),
a({promise:"success",data:b}))})};c._removeLegend=function(){w&&v&&(w.select("svg").remove(),v.select("svg").remove())};c.legnedContainer=null;c._createLegend=function(){var a=A,b=Array.from(c.legendContainer.children),d=[],f=[];b.forEach(function(a,b){d.push(a.firstChild);f.push(a.lastChild)});y=d3.selectAll(b);w=d3.selectAll(d).datum(a);v=d3.selectAll(f).datum(a);w.each(function(a,b){T=d3.select(this).append("svg").attr("width","100%").attr("height",30).attr("class","mcchart-legend"+e);T.append("text").attr("x",
30).attr("y",13).attr("text-anchor","start").style("font-size",k).text(a[b].label);T.append("g").attr("width",15).attr("height",15).append("rect").attr("width",15).attr("height",15).attr("rx",3).attr("ry",3).style("fill",h[b])});v.each(function(a,b){var c=d3.format(".2f")(a[b].value/x*100);0===a[b].value&&(c=0);d3.select(this).append("svg").attr("width","100%").attr("height",30).attr("class","mcchart-legendValue"+e).append("text").attr("y",13).text(function(){return r?c+"%":a[b].value+" ("+c+"%)"})});
y.datum(a).on("mouseenter",function(a,b){var d=c.getSectionObj(b).id,e=a[b],f=d3.select(this);c._highlightSource(d,e,f)}).on("mouseleave",function(){c._resetHighlight()})};var P=function(a){return a.filter(function(a){return 0!=a.value})},K=function(a){var b=a.map(function(b,c){var d=Object.keys(a[c]);return{label:b[d[0]],value:b[d[1]]}});return P(b)};c.getSectionObj=function(a){return c.sectionsArr[a]};c._highlightSource=function(a,b,d){var e=d3.format(".2f")(b.value/x*100);z.text(function(){return r?
e+"%":V(b.value)});B.text(b.label);C.transition().style("opacity",.7);d3.select(a).transition().style("opacity",1);c._highlightLegendItem(d)};c._resetHighlight=function(){C.transition().style("opacity",1);r?(z.text(""),B.text("")):(z.text(x),B.text("Total"));y.transition().style("opacity",1)};c._highlightLegendItem=function(a){y.transition().style("opacity",.7);a.transition().style("opacity",1)};c._renderChart=function(a){C=J.datum(a).selectAll(".mcchart-arc"+e).data(I).enter().append("path").attr("class",
"mcchart-arc"+e).attr("id",function(a,b){c.sectionsArr.push({id:"#section-"+b,props:a});return"section-"+b}).attr("d",G).style("fill",function(a){return F(a.data.label)}).each(function(a){this._current=a});c._addHoverStates(C);x=d3.sum(a,function(a){return a.value});r?(z.text(""),B.text("")):(z.text(V(x)),B.text("Total"))};return new Promise(function(b,d){a.each(function(a){A=K(a);x=d3.sum(A,function(a){return a.value});B=J.append("text").attr("y",15).attr("text-anchor","middle").attr("dominant-baseline",
"central").attr("class","mcchart-bottom-text"+e).style("font-size",k);z=J.append("text").attr("y",-15).attr("text-anchor","middle").attr("dominant-baseline","central").attr("class","mcchart-top-text"+e).style("font-size",k);0===A.length?b({promise:"success",data:A,status:"There isn't any data to display the chart."}):(c._renderChart(A),b({promise:"success",data:A,status:"All is well"}))})})}var e=(0,f.createId)(),h=a.default.colors,d=300,b=!0,k=15,l=50,q={noData:"There isn't enough data to display the chart"},
r=!1;c.loadChart=function(a,b){var d=d3.select(a).datum(b);return c(d).then(function(a){return a})};c.colors=function(a){if(!arguments.length)return h;h=a;return c};c.circleSize=function(a){if(!arguments.length)return d;d=a;return c};c.strokeWidth=function(a){if(!arguments.length)return l;l=a;return c};c.fontSize=function(a){if(!arguments.length)return k;k=a;return c};c.status=function(a){if(!arguments.length)return q;q=a;return c};c.isResponsive=function(a){if(!arguments.length)return b;b=a;return c};
c.percentageOnly=function(a){if(!arguments.length)return r;r=a;return c};return c};var f=h(1),a=f&&f.__esModule?f:{default:f}}])})},"mojo/views/reports/ecommerce/history":function(){define(["dojo/_base/declare","mojo/views/_base","dijit/registry","dojo/_base/lang","mojo/url"],function(l,k,h,f,a){return l([k],{campaignId:null,onInit:function(){},onReady:function(){var c=dijit.byId("orders-list"),e=this;dijit.byId("ecommerce-stores").on("change",function(){var f=this.get("value").split("-");c.set("url",
a.toUrl("/reports/ecommerce/order-list",{id:e.campaignId,store_id:f[0],version:f[1]}))})}})})},"mojo/views/reports/ads/summary":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/query dojo/request/xhr dijit/Dialog mojo/colors mojo/url mojo/user mojo/widgets/ButtonGroup mojo/widgets/FeedbackBlock d3/d3 mccharts/mccharts mojo/views/_base".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([u],{onReady:function(){this.$el.performanceChart&&
this._initCharts();this.$group.recDetailsButtons&&this._initRecommendationDialogs();if(this.active){var c=b.toUrl("reports/ads/site-status?id\x3d"+this.ad_id);e(c,{handleAs:"json"}).then(k.hitch(this,function(c){"error"===c.status&&(c=new q({title:"Paused Ad",message:'Your site is no longer connected. \x3ca href\x3d"'+b.toUrl("account/connected-sites")+'"\x3eConnect your site\x3c/a\x3e to continue running your ad.',type:"error"}),a.place(c.domNode,"ad-status-area","first"))}))}},_initRecommendationDialogs:function(){this.$group.recDetailsButtons.forEach(k.hitch(this,
function(a){var b=h.get(a,"data-recommendation-code"),d=this._loadDialog(b,this.ad_id);c(a).on("click",function(){d.show()})}))},_loadDialog:function(a,d){var e=new m({title:"Recommendation details",autofocus:!1,onDownloadEnd:function(){c("[data-action\x3d'closeDialog']",e.domNode).on("click",function(a){e.hide()})}});e.setHref(b.toUrl("/reports/ads/recommendation-dialog",{id:d,code:a}));return e},_initCharts:function(){var a=this._getChartTabs();a.on("change",k.hitch(this,function(){"Revenue"===
a.value?(f.add(this.$el.impressionsChartContainer,"hide"),f.add(this.$el.clicksChartContainer,"hide"),f.add(this.$el.audienceChartContainer,"hide"),f.remove(this.$el.revenueChartContainer,"hide")):"Clicks"===a.value?(f.add(this.$el.impressionsChartContainer,"hide"),f.add(this.$el.revenueChartContainer,"hide"),f.add(this.$el.audienceChartContainer,"hide"),f.remove(this.$el.clicksChartContainer,"hide")):"Impressions"===a.value?(f.add(this.$el.clicksChartContainer,"hide"),f.add(this.$el.revenueChartContainer,
"hide"),f.add(this.$el.audienceChartContainer,"hide"),f.remove(this.$el.impressionsChartContainer,"hide")):(f.add(this.$el.clicksChartContainer,"hide"),f.add(this.$el.revenueChartContainer,"hide"),f.add(this.$el.impressionsChartContainer,"hide"),f.remove(this.$el.audienceChartContainer,"hide"))}));this.audience&&this._loadChart("#audienceChart",this.audience,"audience",d.green7);this._loadChart("#clicksChart",this.clicks,"clicks",d.green7);this._loadChart("#impressionsChart",this.impressions,"impressions",
d.green7);if(this.revenue){var b=t.models.stackBarChart();b.aspectRatio(3,1);b.colors([d.green3]);b.xAxis.keyValue("date");b.yAxis.keyValue("revenue");b.yAxis.tickFormat(function(a){return n.currencySymbol+r.format("s")(a)});b.yAxis.maxTicks(10);b.showLegend(!1);var c=b.tooltip();c.enabled(!0);c.xOffset(10);c.dataFormatter(function(a){var b=r.format(",");return r.time.format("%b %d, %Y")(a.x)+"\x3cbr/\x3eRevenue: "+n.currencySymbol+b(+a.y.toFixed(2))});b.loadChart("#revenueChart",{revenue:this.revenue})}f.add(this.$el.clicksChartContainer,
"hide");f.add(this.$el.revenueChartContainer,"hide");f.add(this.$el.audienceChartContainer,"hide")},_loadChart:function(a,b,c,d){var e=t.models.lineTimeSeriesChart(),f={impressions:"Impressions",clicks:"Clicks",audience:"Audience size"},h=e.tooltip();h.enabled(!0);h.xOffset(10);h.dataFormatter(function(a){return r.time.format("%b %d, %Y")(a.date)+"\x3cbr/\x3e"+f[c]+": "+a[c]});e.aspectRatio(3,1);e.lineStrokeColor(d);e.colors([d]);e.xAxis.keyValue("date");e.yAxis.keyValue(c);e.yAxis.maxTicks(9);e.loadChart(a,
b.map(function(a){a.date=new Date(a.date);return a}))},_getChartTabs:function(){var a=[{title:"Impressions",value:"Impressions",label:"Impressions"},{title:"Clicks",value:"Clicks",label:"Clicks"}];this.revenue&&a.push({title:"Revenue",value:"Revenue",label:"Revenue"});this.audience&&a.push({title:"Audience",value:"Audience",label:"Audience"});var b=new p({options:a,itemTpl:"\x3cli class\x3d'c-buttonGroupItem'\x3e\x3cbutton data-mc-value\x3d'{value}' title\x3d'{title}' class\x3d'c-buttonGroupButton v-buttonGroupUnderlined'\x3e{label}\x3c/button\x3e\x3c/li\x3e",
activeClass:" v-buttonGroupUnderlined--active"});b.placeAt(this.$el.chartToggler);b.startup();b.setSelected(a[0].value);return b}})})},"mojo/views/pro/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/aspect dijit/registry dijit/layout/ContentPane dijit/Dialog dijit/form/Select mojo/app/wizard mojo/widgets/CircularLoader mojo/utils velocity/velocity dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B){return l([k],{loader:null,onReady:function(){var a=h("[data-element\x3d'learn-loader']")[0];if(a){var b=this;b.loader=u.byId("learn-loader");setTimeout(function(){b.showContent(a)},2500);this.level&&ga("send","event",window.location.pathname,"PurchasedPro",this.level)}},showContent:function(a){this.loader.stop();b.destroy(a);a=h("[data-element\x3d'learn-top']")[0];var c=h("[data-element\x3d'learn-top-content']")[0],d=h("[data-element\x3d'learn-bottom-content']")[0];
B(a,{borderTopWidth:0},{easing:"easeInSine",duration:500,delay:0});B(c,{opacity:1},{easing:"easeInSine",duration:200,delay:500});B(d,{opacity:1},{easing:"easeInSine",duration:200,delay:700})}})})},"mojo/views/pro/reports/filter":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/topic dojo/aspect dojo/debounce dijit/registry dijit/layout/ContentPane dijit/Dialog mojo/app/pro/reports mojo/utils mojo/url mojo/widgets/CircularLoader velocity/velocity velocity/velocity.ui dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D){return l([k],{reportId:null,dateOptions:null,filters:null,listSelect:null,titleInput:null,folderSelect:null,dateRangeSelect:null,filterSystemInit:!1,onReady:function(){var a=this,b=v.byId("campaigns-pane"),d=v.byId("filter-loader").domNode;a.listSelect=v.byId("report-list");a.filters.excludes||(a.filters.excludes=[]);A.reportId=a.reportId;A.initSaveReportNameModal();b.set("loadingMessage","");a.loader=v.byId("filter-loader");a.filterSystemInit||
a._initFilterSystem();a.filters&&"list_id"in a.filters?a.listSelect.set("value",this.filters.list_id):(a.listSelect.set("value","0"),b.set("href",B.toUrl("/pro/reports/campaigns",{report_id:a.reportId,list_id:0})));b.set("onDownloadEnd",function(a){n.parse(this.domNode)});var k=h("[data-element\x3d'analyze-campaigns']")[0];f(k,"click",function(a){e.set(this,"disabled","disabled");m.add(this,"p0");this.innerHTML="Analyzing..."});t.subscribe("filterCampaigns",function(e){var f=a.filterData(!0);e.hasList||
(f=a.filterData(!1),a.toggleAnalyzeCampaignsButton(0));m.remove(d,"hide");b.set("content","");c.post(B.toUrl("/pro/reports/campaigns"),{handleAs:"html",sync:!1,data:f}).then(function(c){m.add(d,"hide");b.set("content",c);c=r.byId("campaigns-pane");D(c,"transition.fadeIn",{duration:350});a.toggleAnalyzeCampaignsButton(a.getSelectedCampaignsCount())})})},_initFilterSystem:function(){var a=this;a.filterSystemInit=!0;f(a.listSelect,"change",function(){"0"===this.value?(h("[for\x3d'report-list']")[0].innerHTML=
"Choose a list to get started",h("[data-element\x3d'filter-criteria-section']").forEach(function(a,b){m.add(a,"hide")}),t.publish("filterCampaigns",{hasList:!1})):(h("[for\x3d'report-list']")[0].innerHTML="List",h("[data-element\x3d'filter-criteria-section']").forEach(function(a,b){m.remove(a,"hide")}),t.publish("filterCampaigns",{hasList:!0}))});r.byId("report-title")&&(this.titleInput=r.byId("report-title"),this.filters.title&&e.set(this.titleInput,"value",this.filters.title),f(this.titleInput,
"keydown",w(function(a){a.keyCode!==dojo.keys.TAB&&(t.publish("filterCampaigns",{hasList:!0}),a.preventDefault())},700)));r.byId("emails-sent")&&(this.emailSentInput=r.byId("emails-sent"),this.filters.emails_sent&&e.set(this.emailSentInput,"value",this.filters.emails_sent),f(this.emailSentInput,"keydown",w(function(a){a.keyCode!==dojo.keys.TAB&&(t.publish("filterCampaigns",{hasList:!0}),a.preventDefault())},500)));v.byId("report-folder")&&(this.folderSelect=v.byId("report-folder"),this.filters.folder_id&&
this.folderSelect.set("value",this.filters.folder_id),f(this.folderSelect,"change",function(){t.publish("filterCampaigns",{hasList:!0})}));if(v.byId("report-date-range")){this.dateRangeSelect=v.byId("report-date-range");this.filters.date_range&&this.dateRangeSelect.set("value",this.filters.date_range);var b=h("[data-element\x3d'report-date-range']")[0],c=h("[data-element\x3d'from-date']")[0],k=h("[data-element\x3d'to-date']")[0],l=h("[data-element\x3d'range-and']")[0],n=h("[data-content\x3d'date-description']")[0],
p=h("[data-element\x3d'date-description']")[0];f(this.dateRangeSelect,"change",function(){d.set(b,"display","none");d.set(k,"display","none");d.set(c,"display","none");d.set(l,"display","none");d.set(p,"display","none");"custom"==this.value?(d.set(b,"display","block"),d.set(c,"display","inline-block"),d.set(k,"display","inline-block"),d.set(l,"display","inline-block")):"custom-before"==this.value?(d.set(b,"display","block"),d.set(k,"display","inline-block")):"custom-after"==this.value?(d.set(b,"display",
"block"),d.set(c,"display","inline-block")):(d.set(p,"display","block"),q.set(n,a.dateOptions.descriptions[this.value]),t.publish("filterCampaigns",{hasList:!0}))})}v.byId("report-date-range-from")&&(this.dateRangeFromDate=v.byId("report-date-range-from"),f(this.dateRangeFromDate,"change",function(){t.publish("filterCampaigns",{hasList:!0})}),this.filters.from_date&&this.dateRangeFromDate.set("value",this.filters.from_date));v.byId("report-date-range-to")&&(this.dateRangeToDate=v.byId("report-date-range-to"),
f(this.dateRangeToDate,"change",function(){t.publish("filterCampaigns",{hasList:!0})}),this.filters.to_date&&this.dateRangeToDate.set("value",this.filters.to_date));var u=v.byId("days-sent");f(u,"change",function(){t.publish("filterCampaigns",{hasList:!0})});this.setSelectedDays();h("[data-dojo-attach-point\x3d'filterBtn']").forEach(function(a){f(a,"click",function(a){t.publish("filterCampaigns",{hasList:!0});a.preventDefault()})});r.byId("wizard-form")&&(this.filterForm=r.byId("wizard-form"),f(this.filterForm,
"keydown",function(a){a.keyCode==dojo.keys.ENTER&&(a.stopPropagation(),a.preventDefault())}))},filterData:function(a){var b=null;if(a){a=this.listSelect.value;var b=this.titleInput.value,c=this.emailSentInput.value,d=this.folderSelect.value,e=this.dateRangeSelect.value,f=this.dateRangeFromDate.value,h=this.dateRangeToDate.value,k=this.getSelectedDays(),b={report_id:this.reportId,list_id:a,title:b,emails_sent:c,folder_id:d,date_range:e,from_date:f,to_date:h,excludes:dojo.toJson(this.filters.excludes),
days:dojo.toJson(k)}}else b={report_id:this.reportId,list_id:0};return b},analyzeCampaigns:function(){r.byId("analyze_button").setAttribute("disabled","disabled");var a=this.filterData(!0);c.post(B.toUrl("/pro/reports/campaigns"),{handleAs:"html",sync:!0,data:a});a=B.toUrl("pro/reports/analyze?id\x3d"+this.reportId);window.location.href=a},clearFilters:function(){this.titleInput.value="";this.folderSelect.setValue("");this.dateRangeSelect.setValue("");this.emailSentInput.value="";var a=v.byId("days-sent");
a.options.forEach(function(a){a.selected=!0});a.onChange()},toggleCampaignCheckBox:function(a){a.checked?(this.removeFromExcludeFilters(a.value),r.byId("selected_count").innerHTML=this.getSelectedCampaignsCount()+1):(this.addToExcludeFilter(a.value),r.byId("selected_count").innerHTML=this.getSelectedCampaignsCount()-1);this.toggleAnalyzeCampaignsButton(this.getSelectedCampaignsCount())},selectAll:function(){this.filters.excludes.forEach(function(a){(campaignCheckBox=r.byId(a))&&e.set(campaignCheckBox,
"checked",!0)},this);this.filters.excludes=[];r.byId("selected_count").innerHTML=this.getTotalCampaignsCount();this.toggleAnalyzeCampaignsButton(this.getTotalCampaignsCount())},getTotalCampaignsCount:function(){return parseInt(r.byId("campaigns_count").innerHTML,0)},getSelectedCampaignsCount:function(){return r.byId("selected_count")?parseInt(r.byId("selected_count").innerHTML,0):0},deselectAll:function(){h(".c-card").forEach(function(a){if(a=r.byId(a))e.set(a,"checked",!1),this.addToExcludeFilter(a.value)},
this);r.byId("selected_count").innerHTML="0";this.toggleAnalyzeCampaignsButton(0)},addToExcludeFilter:function(a){-1<this.filters.excludes.indexOf(a)||this.filters.excludes.push(a)},removeFromExcludeFilters:function(a){a=this.filters.excludes.indexOf(a);-1!=a&&this.filters.excludes.splice(a,1)},toggleAnalyzeCampaignsButton:function(a){r.byId("analyze_count").innerHTML=a;var b=r.byId("analyze_button");0===a?b.setAttribute("disabled","disabled"):b.removeAttribute("disabled")},getSelectedDays:function(){var a=
[],b=v.byId("days-sent"),b=p.filter(b.options,function(a){return a.selected});p.forEach(b,function(b){a.push(b.value)});return a},setSelectedDays:function(){var a=v.byId("days-sent");this.filters.days&&(a.options.forEach(function(a){0<=this.filters.days.indexOf(a.value)?a.selected=!0:a.selected=!1},this),a.onChange())},getSelectedCampaigns:function(){var a=[];h(".c-card \x3e :checked").forEach(function(b){a.push(b.value)},this);return a}})})},"mojo/views/pro/reports/history":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dijit/registry dijit/layout/ContentPane mojo/app/pro/reports mojo/utils mojo/url mojo/charts dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return l([k],{reportId:null,onReady:function(){w.reportId=this.reportId;w.initSaveReportNameModal()}})})},"mojo/views/pro/reports/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/topic dijit/registry dijit/layout/ContentPane mojo/app/pro/reports mojo/utils mojo/url mojo/charts velocity/velocity dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z){return l([k],{onReady:function(){var a=t.subscribe("mojo/analytics/List/comparative-list/render",function(){var b=h(".is-running");z(b,"stop");z(b,{rotateZ:"360deg"},{easing:"easeInSine",loop:!0,delay:2E3,duration:4E3});a.remove()})}})})},"mojo/views/pro/reports/overview":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/aspect dijit/registry dijit/layout/ContentPane dijit/Dialog dijit/form/Select mojo/app/wizard mojo/app/pro/reports mojo/widgets/AddSegmentPane mojo/widgets/CircularLoader mojo/utils mojo/url mojo/Pusher mojo/D3ProReports dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G){return l([k],{reportId:null,resultId:null,channel_name:null,hasSegments:null,segmentsData:null,baselineChart:null,loader:null,onReady:function(){var a=this;F.load().then(function(b){a.channel=b.subscribe(a.channel_name);a.channel.bind("ready",function(b){a.loadResultData()})});A.reportId=a.reportId;A.results=this.results;A.resultId=a.resultId;A.initSaveReportNameModal();this._hookupRemoveSegment();r.byId("baseline-chart")&&!this.baselineChart&&
this._loadChart();this._hookShowHideSegments();this._hookSaveAndExit()},_hookShowHideSegments:function(){var a,b,c,d;a=h("[data-action\x3d'collapse-segments']")[0];b=h("[data-element^\x3dcid-]");c=[];d=!1;p.forEach(b,function(a,b){var c=e.get(a,"data-element").split("-")[1];e.set(a,"id",c)});c=h("[data-parent]");a&&f(a,"click",function(){d?(d=!1,q.set(a,"Hide segments from table")):(d=!0,q.set(a,"Show segments in table"));p.forEach(c,function(a,b){m.contains(a,"hide")?m.remove(a,"hide"):m.add(a,"hide")})})},
_hookSaveAndExit:function(){var a=this,b=h("[data-action\x3d'save-and-exit']")[0];b&&f(b,"click",function(){a.saveAndExit()})},saveAndExit:function(){var a=D.toUrl("pro/reports/confirm-and-save?id\x3d"+this.reportId);window.location.href=a},_loadChart:function(){var a=this;if(r.byId("baseline-chart")){var b=D.toUrl("/pro/reports/chartData",{report_id:a.reportId,result_id:a.resultId});G.utils.loadData(b).then(function(b){if("success"===b.promise){a.baselineChart=new G.chart("baseline-chart",b.data,
{metric:"opens",comparative:"0"});a.hasSegments&&p.forEach(a.segmentsData,function(c,d){a["segment"+d+"Chart"]=new G.chart("segment-"+d+"-chart",b.data,{metric:"opens",comparative:d+1})});var c=u.byId("metrics");f(c,"change",function(b){var c=this.value;a.baselineChart.setMetricData(c);a.hasSegments&&p.forEach(a.segmentsData,function(b,d){a["segment"+d+"Chart"]&&a["segment"+d+"Chart"].setMetricData(c)})})}})}},_hookupRemoveSegment:function(){var a=this;h("[data-action\x3d'remove-segment']").forEach(function(b){f(b,
"click",function(){a.removeSegment(b.id)})})},showSegmentEditor:function(){this.segmentPane||(this.segmentPane=new z({reportId:A.reportId}));!0===this.segmentPane.displayActive?this.segmentPane.hide():this.segmentPane.show()},loadResultData:function(){var a=this,b={report_id:this.reportId},c=u.byId("results-pane"),d=h("[data-element\x3d'load-results-message']")[0];d&&m.add(d,"hide");c.set("href",D.toUrl("/pro/reports/data",b)).then(function(){n.parse(c.domNode);a.checkForRunningJobs();a._loadChart();
a._hookupRemoveSegment();a._hookShowHideSegments();a._hookSaveAndExit()})},checkForRunningJobs:function(){var a=h("[data-element\x3d'jobs-running']")[0],b=h("[data-action\x3d'save-and-exit']")[0];a?(e.set(b,"disabled","disabled"),b.innerText="Loading data..."):(dojo.removeAttr(b,"disabled"),m.add(b,"p0"),b.innerText="Finalize Report and Generate Snapshot")},removeSegment:function(a){var d={report_id:this.reportId,segment_id:a};b.place("\x3cspan class\x3d'fwb'\x3eDeleting...\x3c/span\x3e",h("#"+a).siblings(".underline")[0],
"replace");c.post(D.toUrl("/pro/reports/remove-segment",d)).then(function(a){location.reload()})}})})},"mojo/D3ProReports":function(){define("dojo/_base/declare dojo/query dojo/dom dojo/dom-attr dojo/dom-style dojo/dom-construct dojo/dom-geometry dojo/on dojo/Deferred dojo/debounce d3/d3 mojo/colors".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){k={};k.chart=l([],{constructor:function(a,c,d){var e=this;this.config=d?d:{metric:"opens",comparative:"0"};this.elementId=a;this.chartContainer=n.select("#"+
this.elementId);this.margin={top:20,right:20,bottom:30,left:50};this.aspect_width=16;this.aspect_height=9;this.mobile_threshold=500;this.chartColors=[p.violet6,p.green6,p.pink6,p.yellow6,p.blue6];this.tooltipFormatDate=n.time.format("%B %e, %Y");this.createSVGContainer(a);"string"===typeof c?this.loadData(c).then(function(a){"success"===a&&(a=e.getMetricData(e.config.metric),e.makeChart(a))}):"object"===typeof c&&(e.chartData=c.metrics,a=e.getMetricData(e.config.metric),e.makeChart(a));m(window,"resize",
b(function(a){e.redraw()},500))},getMetricData:function(a){if("sends"===a)return this.metricName="Sends",this.metricBaselineKey="sends",this.chartData.sends;if("opens"===a)return this.metricName="Open Rate",this.metricBaselineKey="open_rate",this.chartData.opens;if("clicks"===a)return this.metricName="Click Rate",this.metricBaselineKey="click_rate",this.chartData.clicks;if("bounces"===a)return this.metricName="Bounces",this.metricBaselineKey="bounce_rate",this.chartData.bounces;if("unsubs"===a)return this.metricName=
"Unsubscribes",this.metricBaselineKey="unsub_rate",this.chartData.unsubs;if("abuse_reports"===a)return this.metricName="Abuse",this.metricBaselineKey="abuse_rate",this.chartData.abuse_reports},setMetricData:function(a){this.config.metric=a;this.redraw()},createSVGContainer:function(){this.width=e.position(h.byId(this.elementId)).w-this.margin.left-this.margin.right;this.height=Math.ceil(this.width*this.aspect_height/this.aspect_width)-this.margin.top-this.margin.bottom;this.chartContainer.attr("width",
this.width);this.chartContainer.attr("height",this.height);this.num_ticks_yaxis=this.num_ticks_xaxis=10;this.width<this.mobile_threshold&&(this.num_ticks_xaxis=this.num_ticks_yaxis=5);this.svg=this.chartContainer.append("svg").attr("id","svg-"+this.elementId).attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")")},redraw:function(){c.empty(this.elementId);
this.createSVGContainer();var a=this.getMetricData(this.config.metric);this.makeChart(a)},createToolTipBehavior:function(){var a=this;this.focus=this.svg.append("g").attr("class","focus").style("display","none");this.focus.append("line").attr("class","x").style("stroke","#e0e0e0").style("stroke-width","2").attr("y1",5).attr("y2",this.height);this.focus.append("circle").attr("r",3.5).attr("stroke","#333").attr("fill","none").attr("stroke-width",3);var b=n.select("#tooltip-"+a.elementId);this.svg.append("rect").attr("class",
"d3-tt-overlay").attr("width",this.width).attr("height",this.height).on("mouseover",function(){a.focus.style("display",null)}).on("mouseout",function(){b.transition().duration(300).style("opacity",0);a.focus.style("display","none")}).on("mousemove",function(b,c){a.mousemove(a,this)})},loadData:function(a){var b=this,c=new d,e=n.time.format("%Y-%m-%d %H:%M:%S").parse;n.json(a,function(a,d){a&&c.reject("fail");var f=d.metrics,h;for(h in f)f[h].forEach(function(a){a.send_time=e(a.send_time)});b.chartData=
d;c.resolve("success")});return c.promise},makeChart:function(b){var d=c.place("\x3cdiv class\x3d'd3-tooltip'\x3e",h.byId(this.elementId),"first");f.set(d,"id","tooltip-"+this.elementId);a.set(d,"opacity",0);this.setChartSeries(b,this.metricName);this.setXAxis(b);this.setYAxis(b);this.setBaselinePath(b);this.setComparativeDataPoints(this.metricValues,this.config.comparative)},setChartSeries:function(a,b){var c=n.keys(a[0]).filter(function(a){switch(a){case "send_time":break;case "name":break;case "send_rate":break;
default:if(!/_name/.test(a))return a}});this.keysDomain=n.scale.ordinal().range([this.height,0]).domain(c);this.metricValues=this.keysDomain.domain().map(function(b){return{rate_label:b,rate_values:a.map(function(a){var c=parseFloat(a[b]);if("undefined"===a[b]||0===a[b]||"0.0"===a[b]||isNaN(a[b]))c="0.0";return{send_time:a.send_time,value:c,name:a.name}})}})},setXAxis:function(a){this.x=n.time.scale().range([0,this.width]);var b=n.time.format.multi([[".%L",function(a){return a.getMilliseconds()}],
[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%b",function(a){return a.getMonth()}],["%Y",function(){return!0}]]);this.xAxis=n.svg.axis().scale(this.x).orient("bottom").tickFormat(b).ticks(this.num_ticks_xaxis);this.xDomain=this.x.domain(n.extent(a,function(a){return a.send_time}));this.svg.append("g").attr("class",
"x axis").attr("transform","translate(0,"+this.height+")").call(this.xAxis)},setYAxis:function(a){a=this.percentageTick;"sends"===this.config.metric&&(a=this.numberTick);this.y=n.scale.linear().range([this.height,0]);this.yAxis=n.svg.axis().scale(this.y).tickSize(-this.width,0,0).tickFormat(a).tickPadding(10).ticks(this.num_ticks_yaxis).orient("left");a=n.min(this.metricValues,function(a){return n.min(a.rate_values,function(a){return a.value})});var b=n.max(this.metricValues,function(a){return n.max(a.rate_values,
function(a){return a.value})});if(0===b||"0.0"===b)b=1;this.yDomain=this.y.domain([Number(a),Number(b)]);this.svg.append("g").attr("class","y axis").call(this.yAxis)},setBaselinePath:function(a,b){var c=b;b||(c=.85);var d=this,c=n.svg.line().interpolate("bundle").tension(c).x(function(a){return d.x(a.send_time)}).y(function(a){if(a.hasOwnProperty(d.metricBaselineKey))return d.y(Number(a[d.metricBaselineKey]))}),e=this.svg.append("path").attr("class","baseline").attr("stroke",this.chartColors[0]).attr("d",
c(a)),c=e.node().getTotalLength();e.attr("stroke-dasharray",c+" "+c).attr("stroke-dashoffset",c);setTimeout(function(){e.transition().duration(1E3).ease("linear").attr("stroke-dashoffset",0)},500)},setComparativeDataPoints:function(a,b){var c=this,d=3,e=3.5;c.width<c.mobile_threshold&&(d=1.5,e=3);this.dataSetIndex=b;setTimeout(function(){a[b]&&(c.svg.selectAll("dot").data(a[b].rate_values).enter().append("circle").attr("r",1E-6).style("opacity",1E-6).attr("cx",function(a){return c.x(a.send_time)}).attr("cy",
function(a){if(a.value)return c.y(a.value)}).attr("stroke-width",d).attr("fill","#FFF").attr("stroke",c.chartColors[b]).transition().delay(function(a,b){return 20*b}).duration(200).attr("r",e).style("opacity",1),c.createToolTipBehavior())},1E3)},mousemove:function(a,b){var c=f.get(b,"width")/2,d=n.mouse(b)[0],e=this.x.invert(n.mouse(b)[0]),h=this.bisectDate(this.metricValues[this.dataSetIndex].rate_values,e,1),k=this.metricValues[this.dataSetIndex].rate_values[h-1],h=this.metricValues[this.dataSetIndex].rate_values[h];
void 0!==h&&(k=e-k.send_time>h.send_time-e?h:k,k.value&&(this.focus.select("circle").attr("transform","translate("+this.x(k.send_time)+","+this.y(k.value)+")"),this.focus.select(".x").attr("transform","translate("+this.x(k.send_time)+","+this.y(k.value)+")").attr("y2",this.height-this.y(k.value)),e=n.select("#tooltip-"+this.elementId),h=this.percentageTick(k.value),"sends"===this.config.metric&&(h=n.format(",")(k.value)),e.html("\x3cspan class\x3d'd3-tooltip-text'\x3e"+k.name+"\x3c/span\x3e\x3cbr\x3e\x3cspan\x3e"+
this.metricName+": \x3cspan class\x3d'textcolor-light fwb'\x3e"+h+"\x3c/span\x3e\x3c/span\x3e\x3cbr\x3e\x3cspan\x3e"+this.tooltipFormatDate(k.send_time)+"\x3c/span\x3e"),h=e.node().getBoundingClientRect(),c=d<c?this.x(k.send_time)+60:this.x(k.send_time)-h.width+40,d=this.y(k.value),e.style("transform","translate("+c+"px,"+d+"px)"),e.transition().duration(300).style("opacity",.9)))},percentageTick:function(a){return a+"%"},numberTick:function(a){return n.format("s")(a)},bisectDate:n.bisector(function(a){return a.send_time}).left});
k.utils={loadData:function(a){var b=new d,c=n.time.format("%Y-%m-%d %H:%M:%S").parse;n.json(a,function(a,d){a&&b.reject({promise:"fail"});var e=d.metrics,f;for(f in e)e[f].forEach(function(a){a.send_time=c(a.send_time)});b.resolve({promise:"success",data:d})});return b.promise}};return k})},"mojo/views/pro/reports/segment":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/_base/lang dojo/request dojo/dom-class dojo/dom-style dojo/dom-geometry dojo/dom mojo/url mojo/app/pro/segment mojo/segmentation/Segment mojo/widgets/SubscriberTableOverlay dojo/NodeList-manipulate dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([k],{segmentId:null,listId:null,reportId:null,refreshing:!1,segmentEditor:null,savedAST:null,onReady:function(){var c=h(".segment-count-fixed")[0],k=this.$el.memberSegmentEditor;f(b.byId("av-content"),"scroll",function(){-370>d.position(k,!1).y?e.remove(c,"hide"):e.add(c,"hide")});f(b.byId("wizard-form"),"submit",function(a){a.preventDefault()});this.$group.previewSubscriberBtn.on("click",a.hitch(this,function(a){a.preventDefault();a.stopPropagation();
r.main().load(this.listId,this.segmentEditor.getAST(),{showPagination:!1,persistTableSettings:!1},"report")}));this.$group.rerunCountBtn.on("click",a.hitch(this,function(a){a.preventDefault();a.stopPropagation();this.refreshCount()}));f(this.$el.saveBtn,"click",a.hitch(this,function(a){a.preventDefault();a.stopPropagation();p.saveReportSegment(this.listId,this.reportId,this.segmentId,this.getNameValue(),this.segmentEditor.getAST())}));this.segmentEditor=new q({listId:this.listId,savedAST:this.savedAST,
configType:"report","class":"border-radius--lv1 border-gray"},this.$el.segmentEditorDom);this.segmentEditor.on("conditionCountChange",a.hitch(this,function(){this.toggleAddSegmentBtn(this.segmentEditor.getConditionCount())}))},toggleAddSegmentBtn:function(a){var b=this.$el.saveBtn;a?b.removeAttribute("disabled"):b.setAttribute("disabled","disabled")},togglePreviewSegment:function(a){var b=this.$group.previewSubscriberBtn,c=this.$group.previewSubscriberText;a?(b.removeClass("hide"),c.addClass("hide")):
(b.addClass("hide"),c.removeClass("hide"))},getNameValue:function(){return this.$el.nameInput.value},refreshCount:function(){if(!this.refreshing){this.refreshing=!0;var b=this.segmentEditor.getAST();this.$group.rerunCountBtn.html("Refreshing \x26hellip;");p.refreshSegmentCount(this.listId,b,"report").then(a.hitch(this,function(a){var b;a.match(/^[0-9,]+$/)?b='\x3cspan class\x3d"count"\x3e'+a+"\x3c/span\x3e recipient"+(1!=a?"s":""):(a=0,b="This segment is incomplete. Please check entries.");this.$group.previewSubscriberBtn.html(b);
this.$group.previewSubscriberText.html(b);this.togglePreviewSegment(a);this.$group.rerunCountBtn.html("Refresh count");this.refreshing=!1}),a.hitch(this,function(){this.refreshing=!1}))}}})})},"mojo/segmentation/Segment":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-construct dojo/dom-class dojo/_base/lang dojo/on dojo/_base/array dijit/focus mojo/widgets/CircularLoader dojo/text!./templates/segment.html ./api ./Group ./SubGroup".split(" "),function(l,k,h,
f,a,c,e,m,d,b,n,p,q,r){return l([k,h],{templateString:n,listId:null,_rawConfig:null,configs:null,mainGroup:null,subGroups:null,savedAST:null,configType:"full",postMixInProperties:function(){this.subGroups=[]},postCreate:function(){this._beforeLoad();p.getConfig(this.listId,this.configType).then(c.hitch(this,function(a){this._setupConfigs(a);this._init();this._afterLoad()}))},_init:function(){this.mainGroup=new q({configs:this.configs});this.mainGroup.startup();this.mainGroup.placeAt(this.mainGroupDom);
this.mainGroup.on("conditionCountChange",c.hitch(this,"onConditionCountChange"));d.focus(this.mainGroup.domNode);this.savedAST?this._fromAST(this.savedAST):this.mainGroup.addCondition();this.own(e(this.addSubGroupBtn,"click",c.hitch(this,function(){this.addSubGroup().addCondition()})))},_setupConfigs:function(a){this._rawConfig=a;var b={};m.forEach(a.fields,c.hitch(this,function(a){var d=c.clone(a),e={};m.forEach(d.ops,function(a){e[a.value]=a});d.opsMap=e;b[a.field]=d}));this.configs={fields:b,optionValues:c.clone(a.option_values),
defaultField:a.default_field}},addSubGroup:function(){var a=new r({configs:this.configs});a.startup();f.place(a.domNode,this.subGroupsContainer);a.on("destroy",c.hitch(this,function(){this.subGroups.splice(this.subGroups.indexOf(a),1)}));a.on("conditionCountChange",c.hitch(this,"onConditionCountChange"));this.subGroups.push(a);return a},getAST:function(){var a=this.mainGroup.getAST();a.sub_conditions=m.map(this.subGroups,function(a){return a.getAST()});return a},_fromAST:function(a){this.mainGroup.fromAST(a);
a.sub_conditions&&m.forEach(a.sub_conditions,c.hitch(this,function(a){this.addSubGroup().fromAST(a)}))},getConditionCount:function(){var a=this.mainGroup.conditions.length;this.subGroups&&m.forEach(this.subGroups,c.hitch(this,function(b){a+=b.conditions.length}));return a},_beforeLoad:function(){this.loader=new b({color:"#6dc5dc",bgColor:"#d0d0d0"});this.loader.startup();this.loader.placeAt(this.loaderDom);this._loaderTimeout=setTimeout(c.hitch(this,function(){a.remove(this.loaderContainer,"hide")}),
150)},_afterLoad:function(){a.add(this.loaderContainer,"hide");a.remove(this.segmentContainer,"hide");clearTimeout(this._loaderTimeout);this.loader.destroy()},onConditionCountChange:function(){}})})},"mojo/segmentation/Group":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_EditViewMixin dijit/focus dojo/text!./templates/group.html dojo/on dojo/_base/lang dojo/_base/array dojo/dom-class ./ConditionRow".split(" "),function(l,k,h,f,a,c,e,
m,d,b,n,p){return l([k,h,f,a],{templateString:e,subGroup:!1,configs:null,conditions:null,postMixInProperties:function(){this.conditions=[]},postCreate:function(){this.own(m(this.addConditionBtn,"click",d.hitch(this,"addCondition")));this.viewMode()},addCondition:function(){var a=new p({configs:this.configs,field:this.configs.defaultField});a.startup();a.placeAt(this.conditionList);a.on("destroy",d.hitch(this,function(){this.onConditionDelete(a)}));c.focus(a.domNode);this.conditions.push(a);this.onConditionCountChange();
return a},onConditionDelete:function(a){this.conditions.splice(this.conditions.indexOf(a),1);this.onConditionCountChange()},getAST:function(){var a=b.map(this.conditions,function(a){return a.getAST()});return{match:this.matchOpSelect.value,conditions:a}},fromAST:function(a){a.match&&this.matchOpSelect.set("value",a.match);b.forEach(a.conditions,d.hitch(this,function(a){this.configs.fields.hasOwnProperty(a.field)&&this.addCondition().fromAST(a)}))},onConditionCountChange:function(){}})})},"mojo/segmentation/_EditViewMixin":function(){define(["dojo/_base/declare",
"dojo/dom-class","dijit/_FocusMixin"],function(l,k,h){return l([h],{changeStateOnFocus:!0,viewClass:"view-mode",editClass:"edit-mode",viewMode:function(){k.add(this.domNode,this.viewClass);k.remove(this.domNode,this.editClass);this.onViewMode()},editMode:function(){k.add(this.domNode,this.editClass);k.remove(this.domNode,this.viewClass);this.onEditMode()},_onFocus:function(){this.inherited(arguments);this.changeStateOnFocus&&this.editMode()},_onBlur:function(){this.inherited(arguments);this.changeStateOnFocus&&
this.viewMode()},onViewMode:function(){},onEditMode:function(){}})})},"mojo/segmentation/ConditionRow":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_EditViewMixin ./_ConditionRowMixin dojo/dom-class dojo/dom-construct dojo/_base/array dojo/_base/lang dojo/on dojo/query dojox/html/entities ./NestedConditionRow ./input/Select dojo/text!./templates/conditionRow.html dojo/NodeList-dom".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([k,
h,f,a,c],{templateString:u,valueInput:null,configs:null,field:null,op:null,value:null,extra:null,nestedConditions:null,postMixInProperties:function(){if(!this.configs)throw Error("configs must be set for a condition row.");this.nestedConditions={}},postCreate:function(){this.render();this.viewMode();this.own(n(this.removeBtn,"click",b.hitch(this,"remove")))},render:function(){this.renderFieldInput();this._onFieldChange()},toggleDelete:function(a){e.toggle(this.removeBtn,"hide",!a)},onViewMode:function(){this._updateLabels();
e.remove(this.viewContainer,"hide");e.add(this.editContainer,"hide");for(var a in this.nestedConditions)this.nestedConditions[a].viewMode()},onEditMode:function(){e.add(this.viewContainer,"hide");e.remove(this.editContainer,"hide");for(var a in this.nestedConditions)this.nestedConditions[a].editMode()},getFieldConfig:function(){return this.configs.fields[this.field]},getOpConfig:function(){return this.configs.fields[this.field].opsMap[this.op]},_updateLabels:function(){this.fieldLabel.innerHTML=this.fieldSelect.getDisplayHTML();
this.opLabel.innerHTML=this.getOpHTML();this.valueLabel.innerHTML=this.getValueHTML();this._hasNestedFields()?p([this.valueLabel,this.opLabel]).addClass("hide"):p([this.valueLabel,this.opLabel]).removeClass("hide");e.toggle(this.valueLabelContainer,"hide",!this.valueInput)},renderFieldInput:function(){var a=[],c;for(c in this.configs.fields)if(this.configs.fields.hasOwnProperty(c)){var d=this.configs.fields[c];a.push({label:q.encode(d.label),value:d.field,group:d.category})}this.fieldSelect?this.fieldSelect.replaceOptions(a):
(this.fieldSelect=new t({"class":"condition-value",options:a,value:this.field}),this.fieldSelect.startup(),this.fieldSelect.placeAt(this.fieldSelectContainer),this.set("field",this.fieldSelect.value),this.fieldSelect.watch("value",b.hitch(this,function(a,b,c){this.set("field",c);this._onFieldChange()})))},_renderNestedFields:function(){if(this.nestedConditions&&0<Object.keys(this.nestedConditions).length)for(var a in this.nestedConditions)this.nestedConditions[a].destroy();this.nestedConditions={};
d.forEach(this._getNestedFields(),b.hitch(this,function(a){a=new r({configs:this.configs,fieldConfig:a});a.startup();a.editMode();a.placeAt(this.nestedConditionsContainer);this.nestedConditions[a.fieldConfig.field]=a}))},_getNestedFields:function(){var a=this.getFieldConfig();return a.nested_fields?a.nested_fields:[]},_hasNestedFields:function(){return 0<this._getNestedFields().length},renderValueInput:function(){this._getNestedFields().length?this._deleteValueInput():this.inherited(arguments)},_toggleNestedContainers:function(){p('[data-mojo-container\x3d"nested"]',
this.domNode).toggleClass("hide",!this._hasNestedFields());p('[data-mojo-container\x3d"regular"]',this.domNode).toggleClass("hide",this._hasNestedFields())},_onFieldChange:function(){this._renderNestedFields();this.renderOpInput();this._deleteValueInput();this.renderValueInput();this._toggleNestedContainers()},getAST:function(){var a=this.inherited(arguments),b=[],c;for(c in this.nestedConditions)b.push(this.nestedConditions[c].getAST());b.length&&(a.nested_conditions=b);return a},fromAST:function(a){this.fieldSelect.set("value",
a.field);this.opSelect.set("value",a.op);this.valueInput&&(this.valueInput.setValue(a.value),a.value_op&&this.valueInput.setValueOp(a.value_op),a.extra&&this.valueInput.setExtra(a.extra));a.nested_conditions&&d.forEach(a.nested_conditions,b.hitch(this,function(a){var b=this.nestedConditions[a.field];b&&b.fromAST(a)}))},destroy:function(){this.fieldSelect&&this.fieldSelect.destroy();this.inherited(arguments)}})})},"mojo/segmentation/_ConditionRowMixin":function(){define(["dojo/_base/declare","dojo/_base/array",
"dojo/_base/lang","./input/Select","./input/Creator"],function(l,k,h,f,a){return l(null,{op:null,getFieldConfig:function(){throw Error("Must implement getFieldConfig");},getOpConfig:function(){throw Error("Must implement getOpConfig");},getOpHTML:function(){return this.opSelect?this.opSelect.getDisplayHTML():""},getValueHTML:function(){return this.valueInput?this.valueInput.getDisplayHTML():""},renderOpInput:function(){var a=this.getFieldConfig(),a=k.map(a.ops,function(a){return{label:a.label,value:a.value}});
this.opSelect?(this.opSelect.replaceOptions(a),this.renderValueInput()):(this.opSelect=new f({"class":"condition-value",options:a,value:this.op}),this.opSelect.startup(),this.opSelect.placeAt(this.opSelectContainer),this.set("op",this.opSelect.value),this.opSelect.watch("value",h.hitch(this,function(a,c,d){this.set("op",d);this.renderValueInput()})))},renderValueInput:function(){var c=this.getOpConfig().input;if(c){var e=this.valueInput;if(!e||e&&!e.isCompatible(c))this._deleteValueInput(),this.valueInput=
a.create(this.configs,c),this.valueInput.placeAt(this.valueContainer)}else this._deleteValueInput()},getAST:function(){var a={field:this.getFieldConfig().field,op:this.op,value:this.valueInput?this.valueInput.getValue():null,value_op:this.valueInput?this.valueInput.getValueOp():null,extra:this.valueInput?this.valueInput.getExtra():null};null===a.extra&&delete a.extra;null===a.value_op&&delete a.value_op;return a},_deleteValueInput:function(){this.valueInput&&(this.valueInput.destroy(),this.valueInput=
null)},remove:function(a){a.preventDefault();a.stopPropagation();this.destroy()},destroy:function(){this.valueInput&&this.valueInput.destroy();this.opSelect&&this.opSelect.destroy();this.inherited(arguments);this.onDestroy()},onDestroy:function(){}})})},"mojo/segmentation/input/Select":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/dom-construct dojo/dom-attr dojo/_base/lang dojo/_base/array ./_SegmentInputMixin".split(" "),function(l,k,h,f,a,c,e){return l([k,e],{value:null,options:null,
buildRendering:function(){var c=this.value;this.domNode=h.create("select");this.replaceOptions(this.options);c&&(this.domNode.value=c);this.set("value",this.domNode.value);this.on("change",a.hitch(this,"onValueChange"))},getDisplayHTML:function(){var a=this.domNode.options[this.domNode.selectedIndex];return a?a.innerHTML:"(Invalid value)"},getValue:function(){return this.value},setValue:function(a){this.set("value",a)},replaceOptions:function(e){this.options=e;h.empty(this.domNode);var d={};c.forEach(this.options,
a.hitch(this,function(a){var b=h.create("option",{value:a.value,innerHTML:a.label});a.group?(d[a.group]||(d[a.group]=h.create("optgroup",{label:a.group})),h.place(b,d[a.group])):h.place(b,this.domNode)}));for(var b in d)h.place(d[b],this.domNode);this.set("value",this.domNode.value)},onValueChange:function(){this._updateValue()},_updateValue:function(){this.set("value",this.domNode.value)},_setOptionsAttr:function(a){this._set("options",a)}})})},"mojo/segmentation/input/_SegmentInputMixin":function(){define(["dojo/_base/declare"],
function(l){return l(null,{configs:null,inputConfig:null,segmentInputType:null,getDisplayHTML:function(){throw Error("Segmentation inputs must provide display text");},getValue:function(){throw Error("Segmentation inputs must have a value");},getValueOp:function(){return null},getExtra:function(){return null},isCompatible:function(k){return JSON.stringify(this.inputConfig)===JSON.stringify(k)},setValue:function(k){},setValueOp:function(k){},setExtra:function(k){}})})},"mojo/segmentation/input/Creator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array ./Date ./DateRange ./MultiText ./Select ./ExtraSelect ./MultiSelect ./Text ./Rating dojox/html/entities".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){function q(a,b){var c=b.options;if(!(c instanceof Array))if("string"==typeof c)c=a.optionValues[c];else throw Error("invalid input config:"+JSON.stringify(b));c=k.clone(c);return c=h.map(c,function(a){a.label=null!==a.label?p.encode(a.label.toString()):"";return a})}var r={date:function(a,b){return f({configs:a,inputConfig:b})},dateRange:function(b,c){return a({configs:b,inputConfig:c})},multiText:function(a,b){return c({configs:a,inputConfig:b})},select:function(a,
b){var c=q(a,b);return new e({"class":"condition-value",options:c,configs:a,inputConfig:b})},multiSelect:function(a,b){var c=q(a,b);return new d({options:c,nounLabel:b.noun_label,configs:a,inputConfig:b})},extraSelect:function(a,b){var c=q(a,b);return new m({configs:a,inputConfig:b,ops:c})},rating:function(a,b){return new n({configs:a,inputConfig:b})},text:function(a,c){return b({configs:a,inputConfig:c})}};return{create:function(a,b){var c=b.type;if(!r[c])throw Error("Unable to render input of type:"+
c);var d=r[c](a,b);d.segmentInputType=c;d.startup&&d.startup();return d}}})},"mojo/segmentation/input/Date":function(){define(["dojo/_base/declare","dijit/form/DateTextBox","./_SegmentInputMixin","dojo/date/locale"],function(l,k,h,f){return l([k,h],{"class":"auto-width condition-value",constructor:function(){this.value&&this.value!=this._invalidDate||(this.value=new Date)},getDisplayHTML:function(){return this.isValid()?this.isBlank()?'\x3cspan class\x3d"dim6"\x3e(blank)\x3c/span\x3e':f.format(this.get("value"),
{selector:"date",formatLength:"medium"}):'\x3cdiv class\x3d"invalid-error !margin--lv0"\x3ean invalid date\x3c/div\x3e'},getValue:function(){var a="";this.value&&this.value!=this._invalidDate&&(a=this.toString());return a},setValue:function(a){this.set("value",a)},isBlank:function(){return this.get("value")?!1:!0}})})},"mojo/segmentation/input/DateRange":function(){define("dojo/_base/declare dijit/_WidgetBase ./_SegmentInputMixin ./Date dojo/dom-construct dojo/_base/lang dojo/on dojo/date".split(" "),
function(l,k,h,f,a,c,e,m){return l([k,h],{"class":"flex",leftDate:null,rightDate:null,buildRendering:function(){this.domNode=a.create("div");this.leftDate=new f;this.leftDate.startup();this.rightDate=new f;this.rightDate.startup();this._addInitialConstraints();this.own(e(this.leftDate,"change",c.hitch(this,"_adjustRightConstraint")),e(this.rightDate,"change",c.hitch(this,"_adjustLeftConstraint")));a.place(this.leftDate.domNode,this.domNode);a.place('\x3cspan class\x3d"margin--lv2 !margin-top--lv0 !margin-left--lv0 !margin-bottom--lv1 flex flex-center"\x3eand\x3c/span\x3e',
this.domNode);a.place(this.rightDate.domNode,this.domNode)},getDisplayHTML:function(){return this.leftDate.isValid()&&this.rightDate.isValid()?this.leftDate.isBlank()&&this.rightDate.isBlank()?'\x3cspan class\x3d"dim6"\x3e(blank)\x3c/span\x3e':this.leftDate.getDisplayHTML()+' \x3cspan class\x3d"fwn"\x3eand\x3c/span\x3e '+this.rightDate.getDisplayHTML():'\x3cdiv class\x3d"invalid-error !margin--lv0"\x3eInvalid date range\x3c/div\x3e'},getValue:function(){return[this.leftDate.getValue(),this.rightDate.getValue()]},
setValue:function(a){this.leftDate.setValue(a[0]);this.rightDate.setValue(a[1])},_addInitialConstraints:function(){var a=null,b=null;this.leftDate.value instanceof Date&&(a=new Date(this.leftDate.value));this.rightDate.value instanceof Date&&(b=new Date(this.rightDate.value));var c=a&&b&&0===m.difference(a,b,"day");this.leftDate.constraints.max=b;c&&this.rightDate.set("value",m.add(a,"day",1));this.rightDate.constraints.min=a?m.add(a,"day",1):a},_adjustLeftConstraint:function(){var a=null;this.rightDate.value instanceof
Date&&(a=m.add(this.rightDate.value,"day",-1));this.leftDate.constraints.max=a},_adjustRightConstraint:function(){var a=null;this.leftDate.value instanceof Date&&(a=m.add(this.leftDate.value,"day",1));this.rightDate.constraints.min=a}})})},"mojo/segmentation/input/MultiText":function(){define("dojo/_base/declare mojo/widgets/input/TagList ./_SegmentInputMixin dojo/_base/array dojo/_base/lang dojox/html/entities".split(" "),function(l,k,h,f,a,c){return l([k,h],{operatorOptions:[{label:"Any",value:"or"},
{label:"All",value:"and"}],getDisplayHTML:function(){var a=this.getValues();if(a.length){a=f.map(a,function(a){return c.encode(a)});if(1==a.length)return a[0];var h=a.pop(),d=this.operator;return a.join('\x3cspan class\x3d"fwn padding--lv1 !padding-top-bottom--lv0 !padding-left--lv0"\x3e,\x3c/span\x3e ')+'\x3cspan class\x3d"fwn padding--lv1 !padding-top-bottom--lv0"\x3e '+d+" \x3c/span\x3e"+h}return'\x3cspan class\x3d"dim6"\x3e(blank)\x3c/span\x3e'},getValue:function(){return this.getValues()},setValue:function(c){f.forEach("string"==
typeof c?[c]:c,a.hitch(this,function(a){this._addTag(a)}))},getValueOp:function(){return this.operator},setValueOp:function(a){this.set("operator",a);this.opSelect.set("value",a)}})})},"mojo/segmentation/input/ExtraSelect":function(){define("dojo/_base/declare dijit/_WidgetBase ./_SegmentInputMixin ./Select dojo/dom-construct dojo/dom-attr dojo/_base/lang dojo/_base/array".split(" "),function(l,k,h,f,a,c,e,m){return l([k,h],{ops:null,opsMap:null,configs:null,valueInput:null,postMixInProperties:function(){this.opsMap=
{};this.options=[];m.forEach(this.ops,e.hitch(this,function(a){this.opsMap[a.value]=a;this.options.push({label:a.label,value:a.value})}))},buildRendering:function(){this.domNode=a.create("div",{"class":"segment-extra-select"})},postCreate:function(){this.selectInput=new f({"class":"condition-value",options:this.options});this.selectInput.placeAt(this.domNode);this.selectInput.on("change",e.hitch(this,"renderInput"));this.renderInput()},renderInput:function(){this.valueInput&&(this.valueInput.destroy(),
this.valueInput=null);var c=this.opsMap[this.getValue()].input,b=this;c&&require(["mojo/segmentation/input/Creator"],function(e){b.valueInput=e.create(b.configs,c);a.place(b.valueInput.domNode,b.domNode)})},getValueHTML:function(){return this.valueInput?this.valueInput.getDisplayHTML():""},getDisplayHTML:function(){return this.selectInput.getDisplayHTML()+": "+this.getValueHTML()},getValue:function(){return this.selectInput.getValue()},setValue:function(a){this.selectInput.setValue(a);this.renderInput()},
setExtra:function(a){this.valueInput&&this.valueInput.setValue(a)},getExtra:function(){var a=null;this.valueInput&&(a=this.valueInput.getValue());return a},destroy:function(){this.selectInput&&this.selectInput.destroy();this.valueInput&&this.valueInput.destroy();this.inherited(arguments)}})})},"mojo/segmentation/input/MultiSelect":function(){define(["dojo/_base/declare","dojox/form/CheckedMultiSelect","./_SegmentInputMixin","dojo/_base/array","dojo/_base/lang"],function(l,k,h,f,a){return l([k,h],
{"class":"condition-value",multiple:!0,dropDown:!0,nounLabel:"item",postMixInProperties:function(){this.inherited(arguments);this.labelText=this._getSelectLabel()},startup:function(){this.inherited(arguments);this.dropDownButton.on("click",a.hitch(this,function(){this.dropDownButton.openDropDown()}))},getDisplayHTML:function(){if(this.value&&this.value.length){var c=[];f.forEach(this.options,function(a){a.selected&&c.push(a.label)});return c.join('\x3cspan class\x3d"dim6"\x3e,\x3c/span\x3e ')}return a.replace('\x3cspan class\x3d"dim6"\x3e(No {nounLabel})\x3c/span\x3e',
{nounLabel:this.nounLabel})},_getNumSelected:function(){var a=0;f.forEach(this.options,function(e){e.selected&&a++});return a},_updateSelection:function(){this.inherited(arguments);this._updateSelectLabel()},_updateSelectLabel:function(){this.dropDown&&this.dropDownButton&&this.dropDownButton.set("label",this._getSelectLabel())},_getSelectLabel:function(){var c="{num} {nounLabel}"+(1!=this._getNumSelected()?"s":"")+" selected";return a.replace(c,{num:this._getNumSelected(),nounLabel:this.nounLabel})},
getValue:function(){return this.value},setValue:function(a){this.set("value",a)}})})},"mojo/segmentation/input/Text":function(){define(["dojo/_base/declare","dijit/form/TextBox","./_SegmentInputMixin","dojo/_base/array"],function(l,k,h){return l([k,h],{getDisplayHTML:function(){return this.value?this.value:'\x3cspan class\x3d"dim6"\x3e(blank)\x3c/span\x3e'},getValue:function(){return this.value},setValue:function(f){this.set("value",f)}})})},"mojo/segmentation/input/Rating":function(){define(["dojo/_base/declare",
"dojo/dom-construct","dojox/form/Rating","./_SegmentInputMixin"],function(l,k,h,f){return l([h,f],{numStars:5,postMixInProperties:function(){this.value||(this.value=3);this.inherited(arguments)},getDisplayHTML:function(){for(var a="",c=1;5>=c;c++)a+='\x3cspan class\x3d"freddicon '+(c<=this.value?"star-fill":"graystar-fill")+'"\x3e\x3c/span\x3e';return a},getValue:function(){return this.value},setValue:function(a){this.set("value",a)},destroy:function(){this.domNode&&(k.destroy(this.domNode),delete this.domNode);
this.inherited(arguments)}})})},"dojox/form/Rating":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/mouse dojo/on dojo/string dojo/query dijit/form/_FormWidget".split(" "),function(l,k,h,f,a,c,e,m,d){return l("dojox.form.Rating",d,{templateString:null,numStars:3,value:0,buildRendering:function(a){for(var c="",d=0;d<this.numStars;d++)c+=e.substitute('\x3cli class\x3d"dojoxRatingStar dijitInline" value\x3d"${value}"\x3e\x3c/li\x3e',{value:d+1});this.templateString=
e.substitute('\x3cdiv dojoAttachPoint\x3d"domNode" class\x3d"dojoxRating dijitInline"\x3e\x3cinput type\x3d"hidden" value\x3d"0" dojoAttachPoint\x3d"focusNode" /\x3e\x3cul data-dojo-attach-point\x3d"list"\x3e${stars}\x3c/ul\x3e\x3c/div\x3e',{stars:c});this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._renderStars(this.value);this.own(c(this.list,c.selector(".dojoxRatingStar","mouseover"),k.hitch(this,"_onMouse")),c(this.list,c.selector(".dojoxRatingStar","click"),k.hitch(this,
"onStarClick")),c(this.list,a.leave,k.hitch(this,function(){this._renderStars(this.value)})))},_onMouse:function(a){var c=+h.get(a.target,"value");this._renderStars(c,!0);this.onMouseOver(a,c)},_renderStars:function(a,c){m(".dojoxRatingStar",this.domNode).forEach(function(d,e){e+1>a?(f.remove(d,"dojoxRatingStarHover"),f.remove(d,"dojoxRatingStarChecked")):(f.remove(d,"dojoxRatingStar"+(c?"Checked":"Hover")),f.add(d,"dojoxRatingStar"+(c?"Hover":"Checked")))})},onStarClick:function(a){a=+h.get(a.target,
"value");this.setAttribute("value",a==this.value?0:a);this._renderStars(this.value);this.onChange(this.value)},onMouseOver:function(){},setAttribute:function(a,c){this.set(a,c)},_setValueAttr:function(a){this.focusNode.value=a;this._set("value",a);this._renderStars(a);this.onChange(a)}})})},"mojo/segmentation/NestedConditionRow":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin ./_EditViewMixin ./_ConditionRowMixin dojo/dom-class dojo/dom-construct dojo/_base/array dojo/_base/lang dojo/on dojo/text!./templates/nestedConditionRow.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k,h,f,a],{changeStateOnFocus:!1,templateString:n,valueInput:null,configs:null,fieldConfig:null,opsMap:null,postMixInProperties:function(){if(!this.configs)throw Error("configs must be set for a condition row.");if(!this.fieldConfig)throw Error("Cannot create a nested condition without a fieldConfig attribute");this.opsMap={};m.forEach(this.fieldConfig.ops,d.hitch(this,function(a){this.opsMap[a.value]=a}))},postCreate:function(){this.renderOpInput();this.renderValueInput()},
getFieldConfig:function(){return this.fieldConfig},getOpConfig:function(){return this.opsMap[this.op]},onViewMode:function(){this._updateLabels();c.remove(this.viewContainer,"hide");c.add(this.editContainer,"hide")},onEditMode:function(){c.add(this.viewContainer,"hide");c.remove(this.editContainer,"hide")},_updateLabels:function(){this.opLabel.innerHTML=this.getOpHTML();this.valueLabel.innerHTML=this.getValueHTML();c.toggle(this.valueLabelContainer,"hide",!this.valueInput)},fromAST:function(a){this.opSelect.set("value",
a.op);this.valueInput&&(this.valueInput.setValue(a.value),a.value_op&&this.valueInput.setValueOp(a.value_op),a.extra&&this.valueInput.setExtra(a.extra))}})})},"mojo/segmentation/SubGroup":function(){define(["dojo/_base/declare","dojo/on","dojo/_base/lang","./Group","dojo/text!./templates/subgroup.html"],function(l,k,h,f,a){return l([f],{templateString:a,postCreate:function(){this.inherited(arguments);this.own(k(this.removeAllBtn,"click",h.hitch(this,function(a){a.stopPropagation();a.preventDefault();
this.destroy()})))},addCondition:function(){var a=this.inherited(arguments);this._toggleConditionDelete();return a},onConditionDelete:function(a){this.inherited(arguments);this._toggleConditionDelete()},_toggleConditionDelete:function(){1==this.conditions.length?this.conditions[0].toggleDelete(!1):1<this.conditions.length&&this.conditions[0].toggleDelete(!0)},destroy:function(){this.inherited(arguments);this.onDestroy()},onDestroy:function(){}})})},"mojo/views/postcards/edit":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/request mojo/url mojo/views/_base mojo/api/postcard mojo/user mojo/lib/flags mojo/widgets/checklist-editor/Container mojo/widgets/checklist-editor/status/PostcardStatus mojo/widgets/checklist-editor/items/PostcardRecipients mojo/widgets/checklist-editor/items/PostcardBillingSidebar mojo/widgets/checklist-editor/items/PostcardRecurringSchedule mojo/widgets/checklist-editor/items/PostcardContent mojo/widgets/checklist-editor/items/CampaignName".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){var v=function(a){return!0},y=function(a){return!0};return l([e],{onReady:function(){var b=m.createFromProperties(this.postcard);(new n({statusWidget:p,sidebarWidget:r,model:b,items:[{label:"Name",position:"before",widget:w,isComplete:v,isValid:y},"recurring"===b.automationTrigger.strategy?{label:"Schedule",description:"How often should this campaign be sent?",contentWidget:t,isComplete:t.isComplete,isValid:t.isValid}:null,{label:"To",description:"Who do you want to send this postcard to?",
actionLabel:"Add Recipients",editLabel:"Edit Recipients",contentWidget:q,isComplete:q.isComplete,isValid:q.isValid,errorLabel:"Resolve",isReadOnly:b.status!==m.POSTCARD_STATUS_DRAFT,extraProps:{pricingData:window._mc.postcard_pricing_data,audienceStrategies:b.getSupportedAudienceStrategies()}},{label:"Content",description:"What does your campaign look like?",contentWidget:u,isComplete:u.isComplete,isValid:y,isReadOnly:b.status!==m.POSTCARD_STATUS_DRAFT}].filter(function(a){return null!==a}),onSave:function(a,
b){return b.patch(a)}})).placeAt(this.$el.postcardChecklist);this.$widget.tosDialog&&(this.$widget.tosDialog.show(),f(this.$el.cancelTos,"click",k.hitch(this,function(){this.$widget.tosDialog.hide();window.ga("send","event","Modal / Postcard Campaign Terms of Use","Clicked / Cancel",name)})),f(this.$el.acceptTos,"click",k.hitch(this,function(b){b.preventDefault();window.ga("send","event","Modal / Postcard Campaign Terms of Use","Clicked / I Accept",name);a.post(c.toUrl("/postcards/accept-terms"),
{handleAs:"json"}).then(k.hitch(this,function(a){if("success"===a.status)this.$widget.tosDialog.hide();else throw Error("Unknown error "+JSON.stringify(a));}))})))}})})},"mojo/views/placards/edit-mobile":function(){define("dojo/_base/declare mojo/context mojo/url mojo/widgets/ads/mobile-checklist/EventRouter mojo/widgets/ads/mobile-checklist/AndroidSimulator mojo/widgets/ads/mobile-checklist/FacebookSlat mojo/widgets/ads/mobile-checklist/GoogleSlat mojo/widgets/ads/mobile-checklist/iOSDevice mojo/widgets/ads/mobile-checklist/AndroidDevice mojo/views/_base".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([b],{ad:{},onReady:function(){this.useSimulator()&&this.initSimulator();this.initRouter()},initSimulator:function(){this.sim=new a({interfaceContainer:this.$el.interfaceContainer});this.sim.placeAt(this.$el.simulatorContainer);this.sim.startup()},initRouter:function(){this.router=new f({campaignUniqueId:this.ad.uniqueId,slatInterface:this.getSlatInterface(),deviceInterface:this.getDeviceInterface()});this.router.placeAt(this.$el.interfaceContainer);this.router.startup()},
getSlatInterface:function(){var a=null;switch(this.ad.type){case "facebook":a=c;break;case "google":a=e;break;default:throw Error("Unknown slat interface type.");}return a},getDeviceInterface:function(){if(window.webkit&&window.webkit.messageHandlers)return m;if(window.Android)return d;throw Error("Unknown device interface type.");},useSimulator:function(){var a="dev"===k.avestaEnvironment,b=-1!==window.location.search.indexOf("simulator\x3dtrue");return a||b}})})},"mojo/views/placards/edit":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-prop dojo/number dojo/on dojo/query dojo/request dojo/topic mojo/lib/flags mojo/url mojo/user mojo/utils mojo/app/account/billing mojo/app/placards mojo/app/placards/checklist/static mojo/app/placards/checklist/remarketing mojo/widgets/ads/SlingShotAnimation mojo/widgets/ads/checklist/status-bar/AdStatusBar mojo/views/_base mojo/widgets/ContactBillingModal dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C){return l([B],{_attachBillingSummaryEventHandlers:function(){var a=this,c=b("[data-action\x3d'edit-payment-info']");k.forEach(c,function(b){d(b,"click",function(b){b.preventDefault();b.stopPropagation();w.editBillingInfo().then(function(){a.refreshBillingSummary()})})});b("[data-mc-el\x3d'editPaymentAnchor']")[0]?new C({step:"payment",callbackURI:"reload",workflowMode:!0},b("[data-mc-el\x3d'editPaymentAnchor']")[0]):b("[data-mc-el\x3d'addPaymentAnchor']")[0]&&
new C({step:"payment",callbackURI:"reload",workflowMode:!0},b("[data-mc-el\x3d'addPaymentAnchor']")[0])},refreshBillingSummary:function(){var a=this.ad,b=this;n.post(r.toUrl("ads/billing-summary"),{data:{id:a.uniqueId},handleAs:"text"}).then(function(a){f.byId("plan-total-wrapper").innerHTML=a;b._attachBillingSummaryEventHandlers();b.parse(f.byId("plan-total-wrapper"));(a=f.byId("ad-budget"))&&b.$el.adBudgetConfirm&&(b.$el.adBudgetConfirm.innerHTML=a.innerHTML)})},onReady:function(){var f=this;this._setTitle(this.ad.name);
var h=this.ad,k;k={checklist:this.$widget.checklist};switch(h.type){case "facebook":k=y(k);break;case "google":k=x(k);break;default:throw"Unknown ad type";}k.setup(h);this.renderStatusBar();b("[data-checklist-slat]").forEach(function(b){"status-bar"!==a.get(b,"data-checklist-slat")&&f.$widget.checklist.addOnSlatRenderedListener(a.get(b,"data-checklist-slat"),function(a){f.renderStatusBar()})});u.checkIfBlocked(function(a){a&&f.showFeedback("Looks like you're using an ad blocker.","To continue using our Ad Builder, please disable your ad blocker. ",
"warning")});b("[data-no-connected-site\x3d'true']").forEach(function(){f.showFeedback("Connect your site",'You\'ll need to connect your site to use Google retargeting ads. \x3ca href\x3d"http://kb.mailchimp.com/integrations/connected-sites/about-connected-sites#Connect-Your-Site" target\x3d"_blank"\x3eHere\u2019s how\x3c/a\x3e.',"warning",!0)});b("[data-connected-site-connection-error\x3d'true']").forEach(function(){f.showFeedback("Can't reach your site",'We were unable to reach your site. Is it currently running? \x3ca href\x3d"'+
encodeURI(window.location.href)+'"\x3eCheck site again\x3c/a\x3e.',"warning",!0)});b("[data-requires-connected-site-upgrade\x3d'true']").forEach(function(b){"true"===a.get(b,"data-requires-ecomm-plugin-upgrade")?f.showFeedback("Update your store",'Please \x3ca href\x3d"http://kb.mailchimp.com/campaigns/google-remarketing-ads/update-your-store-for-retargeting" target\x3d"_blank"\x3eupdate your e-commerce integration\x3c/a\x3e to continue with Google remarketing ads. \x3ca href\x3d"'+encodeURI(window.location.href)+
'"\x3eCheck site again\x3c/a\x3e.',"warning",!0):f.showFeedback("Connect your site",'To continue with Google remarketing ads, you\u2019ll need to \x3ca href\x3d"'+r.toUrl("account/connected-sites")+'"\x3econnect your site with MailChimp\x3c/a\x3e.',"warning",!0)});p.subscribe("campaigns/checklist-interface",function(a){if("success"===a.status&&(f.refreshBillingSummary(),"budget"===a.itemId)){var b=-1!==a.startDate.indexOf("1969"),c=a.startDate+" at "+a.startTime+".";f.$el.confirmDuration&&e.set(f.$el.confirmDuration,
"textContent",a.durationInDays);e.set(f.$el.confirmStartDateTime,"textContent",b?"on the ad's approval date.":c)}});d(window.document,".c-button--loading:click",function(a){c.add(a.target,"button-loading disabled")});f.refreshBillingSummary();d(f.$el.editAdName,"click",function(a){a.preventDefault();f.$widget.editAdNameDialog.show()});d(f.$el.cancelAdRename,"click",function(a){a.preventDefault();f.$widget.editAdNameDialog.hide()});d(f.$el.saveAdRename,"click",function(){var a=f.$el.newAdName.value;
n.post(r.toUrl("/ads/rename"),{handleAs:"json",data:{id:h.uniqueId,name:a}}).then(function(a){f.$el.adName.textContent=a.name;f._setTitle(a.name);f.$widget.editAdNameDialog.hide()});window.ga("send","event","Ad Builder","Rename Ad",a)});this.$widget.tosDialog&&(this.$widget.tosDialog.show(),d(this.$el.cancelTos,"click",function(){f.$widget.tosDialog.hide();window.ga("send","event","Modal / Ad Campaign Terms of Use","Clicked / Cancel",name)}),d(this.$el.acceptTos,"click",function(a){a.preventDefault();
window.ga("send","event","Modal / Ad Campaign Terms of Use","Clicked / I Accept",name);n.post(r.toUrl("/ads/"+h.type+"/accept-terms"),{handleAs:"json"}).then(function(a){if("success"===a.status)f.$widget.tosDialog.hide(),window.location.reload(!0);else throw Error("Unknown error "+JSON.stringify(a));})}),d(window.document,d.selector("[data-mc-el\x3dshowTos]","click"),function(a){a.preventDefault();f.$widget.tosDialog.show()}));d(window.document,d.selector("[data-mc-el\x3dsubmitAd]","click"),function(){f.$el.addPayment&&
!f.$el.ccSecurity?(c.remove(f.$el.addPaymentBlock,"warning"),c.add(f.$el.addPaymentBlock,"error"),c.remove(f.$el.addPaymentError,"hide"),f.$el.addPayment.focus()):f.$el.ccSecurity&&3>f.$el.ccSecurity.value.length?(c.remove(f.$el.ccSecurityError,"hide"),c.add(f.$el.ccSecurity,"invalid"),f.$el.ccSecurity.focus()):(f.$el.ccSecurity&&(c.add(f.$el.ccSecurityError,"hide"),c.remove(f.$el.ccSecurity,"invalid")),window.ga("send","event","Ad Builder","Submit Ad"),f.$widget.confirmAdDialog.show(),a.has(f.$el.confirmAd,
"disabled")&&(a.remove(f.$el.confirmAd,"disabled"),c.remove(f.$el.confirmAd,"button-loading disabled")),A.startAnimation("animationCanvas",1))});d(window.document,d.selector("[data-mc-el\x3dcancelAd]","click"),function(){window.ga("send","event","Ad Builder","Cancel");v.confirmCancel(h.uniqueId).then(function(){window.location.reload(!0)})});d(window.document,d.selector("[data-mc-el\x3dresumeAd]","click"),function(){v.unpauseAd(h.uniqueId).then(function(){window.ga("send","event","Ad Builder","Resume Ad");
window.location.reload(!0)})});d(window.document,d.selector("[data-mc-el\x3dpauseAd]","click"),function(){v.pauseAd(h.uniqueId).then(function(){window.ga("send","event","Ad Builder","Pause Ad");window.location=r.toUrl("/ads/edit",{id:h.uniqueId})})});d(f.$el.closeAdDialog,"click",function(a){a.preventDefault();f.$widget.confirmAdDialog.hide()});d(f.$el.confirmAd,"click",function(b){b.preventDefault();a.set(this,"disabled","disabled");window.ga("send","event","Ad Builder","Confirm Order");n.post(r.toUrl("/ads/post-publish"),
{handleAs:"json",data:{id:h.uniqueId,"cc-security":f.$el.ccSecurity?f.$el.ccSecurity.value:null}}).then(function(a){switch(a.status){case "success":a=r.toUrl("/ads/finished-sent",{id:h.uniqueId});window.location=a;break;case "error":for(var b in a.errors)if({}.hasOwnProperty.call(a.errors,b)){f.showFlash(a.errors[b]);f.$widget.confirmAdDialog.hide();break}break;default:throw Error("Unknown state "+a.status);}})})},renderStatusBar:function(){var a=this;n.get(r.toUrl("/ads/status-bar",{id:a.ad.uniqueId}),
{handleAs:"json"}).then(function(b){a.ad=b.data.ad;z.render({status:a.ad.status,ad:a.ad},a.$el.statusBar)})},showFeedback:function(a,b,d,f){d=d||"error";var h=this.$el.feedback;["warning","error"].forEach(function(a){c.remove(h,a)});c.add(h,d);e.set(this.$el.feedbackTitle,"textContent",a);e.set(this.$el.feedbackMessage,f?"innerHTML":"textContent",b);c.remove(h,"hide")},hideFeedback:function(){c.add(this.$el.feedback,"hide")},showFlash:function(a){var b=this.$el.flash;this.$el.flashMessage.innerHTML=
a;c.remove(b,"hide")},hideFlash:function(){c.add(this.$el.flash,"hide")},_setTitle:function(a){this.$el.titleNode.innerText="Ad Builder - "+a+" | MailChimp"}})})},"mojo/views/placards/finished-sent":function(){define("dojo/_base/declare dojo/on dojo/query mojo/utils/promotion-utils mojo/views/_base mojo/widgets/ads/SlingShotAnimation".split(" "),function(l,k,h,f,a,c){return l([a],{onReady:function(){c.startAnimation("animationCanvas",2);f.setupButtonEvents()}})})},"mojo/utils/promotion-utils":function(){define(["dojo/on",
"dojo/query","mojo/utils"],function(l,k,h){return{_canClickPromotion:!0,setupButtonEvents:function(){k("[data-promotion-loading-button]").forEach(function(f){l(f,"click",function(a){var c=this._canClickPromotion;this._canClickPromotion?(h.toggleButtonLoadingState(f),this._canClickPromotion=!1):(a.preventDefault(),a.stopPropagation());return c}.bind(this))}.bind(this))}}})},"mojo/views/peaches2/users/pages/index":function(){define("dojo/_base/declare dojo/topic mojo/views/_base mojo/url mojo/app/peaches2/tabContainerUtil mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage dijit/registry".split(" "),
function(l,k,h,f,a,c,e,m){return l([h],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var c=this;this.pageTabs.forEach(function(a){a.preload=!0});var b=new a;b.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=b;this.modules=this.tabContainer.viewModule;k.subscribe("mojo/analytics/List/page-list/render",function(a){c.parse();b.pagesSection.set("title","Landing Pages ("+a.total+")")});k.subscribe("mojo/analytics/List/page-deleted-list/render",
function(a){c.parse();b.deletedPagesSection.set("title","Deleted Landing Pages ("+a.total+")")})}})})},"mojo/views/peaches2/users/lists/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/app/peaches2/tabContainerUtil mojo/peaches dojo/dom".split(" "),function(l,k,h,f,a,c){return l([k],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=
this.tabContainer.viewModule;if("list-details"===this.activeSection||"list-details-section"===h.getHashParams().t)(a=(new URL(window.location.href)).searchParams.get("list_id"))&&this.viewListDetails(a),h.getHashParams().id&&this.viewListDetails(h.getHashParams().id);if("form-versions"===this.activeSection||"form-details-section"===h.getHashParams().t)(a=(new URL(window.location.href)).searchParams.get("version_id"))&&this.viewListDetails(a),h.getHashParams().id&&this.viewFormVersionDetails(h.getHashParams().id)},
viewListDetails:function(a){var c=this,d={title:"List Details: "+a,href:h.toUrl("/peaches2/"+c.userAttrs.agentRole+"/users/lists?user_id\x3d"+c.userAttrs.userId+"\x26_s\x3dlist-details\x26list_id\x3d"+a),stub:"list-details",closable:!0,onClose:function(){c.tabContainer.listDetailsSection=null;return!0},onDownloadEnd:function(){c.listDetailsInit(a,this)}};this.tabContainer.addNewPane(d,!0,a)},listDetailsInit:function(a,c){var d=this;this.parse();this._loadCharts(this.userAttrs.userId,a);var b=this.$widget.detailsGrowthSelect;
b.set("onChange",function(){var a=b.attr("value"),e=h.toUrl("/peaches2/"+d.userAttrs.agentRole+"/users/lists",{_s:"list-details",user_id:d.userAttrs.userId,list_id:a});c.set("href",e).then(function(){d._loadCharts(d.userAttrs.userId,a)});c.set("title","Login Details: "+a)})},viewFormVersionDetails:function(a){var c=this,d={title:"Form Version Details: "+a,href:h.toUrl("/peaches2/"+c.userAttrs.agentRole+"/users/lists?user_id\x3d"+c.userAttrs.userId+"\x26_s\x3dform-details\x26version_id\x3d"+a),stub:"form-details",
closable:!0,onClose:function(){c.tabContainer.formVersionDetailsSection=null;return!0}};this.tabContainer.addNewPane(d,!0,a)},_loadCharts:function(e,f){c.byId("list-details-growth-chart")&&new a.ListGrowthChart("list-details-growth-chart",h.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/lists/list-growth-am-chart"),e,f,"recent");c.byId("campaign-history")&&new a.PerformanceOverviewChart("campaign-history",h.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/lists/campaign-history-json-data",
{user_id:e,list_id:f}));c.byId("campaign-abuse-history")&&new a.AbusePerformanceOverviewChart("campaign-abuse-history",h.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/lists/campaign-abuse-history-json-data",{user_id:e,list_id:f}))}})})},"mojo/peaches":function(){define(["dojo","dijit","dojox"],function(l,k,h){l.provide("mojo.peaches");var f="#cfbecd #b79db5 #9f7d9c #fbd4b4 #f69343 #ffeebf #fede88".split(" ");mojo.peaches.ListsMostUnsubs=function(a,c,e){var f=this;l.xhrGet({url:a,content:{user_id:c},
handleAs:"json"}).then(function(a){a.most_unsubs.forEach(function(b,c){var h=[],k={};k.list_id=b.list_id;if(null!==b.reasons){for(var r in b.reasons){var t=b.reasons[r];""===r&&(r="UNSPECIFIED");k[r]=t}h.push(k);k='\x3cdiv class\x3d"flex"\x3e\x3cdiv class\x3d"fwb padding--lv4 !padding-bottom--lv0 !padding-left-right--lv0 list-id-link"\x3e\x3ca href\x3d"'+(e+"\x26list_id\x3d"+b.list_id)+'"\x3e'+b.list_id+'\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"stacked-bar-graph"  id\x3d"most-unsubs-'+b.list_id+'"\x3e\x3c/div\x3e\x3cdiv class\x3d"padding--lv4 !padding-bottom--lv0 !padding-left-right--lv0 small-meta"\x3e\x3cspan class\x3d"margin--lv1 !margin-top-bottom--lv0 !margin-left--lv0 fwb "\x3e'+
b.unsubs+" Unsubs \x3c/span\x3e\x3cspan\x3eLast Import: "+b.last_import+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e";null===a.most_unsubs?l.place('\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg role\x3d"presentation" src\x3d"/css/icons/no-data/goose-egg.svg" class\x3d"icon"\x3e\x3ch2\x3eGoose egg. There\'s no information available.\x3c/h2\x3e\x3c/div\x3e',"most-unsubs","only"):(l.place(k,"most-unsubs","last"),f.renderChart(h,"most-unsubs-"+b.list_id))}})})};mojo.peaches.ListsMostUnsubs.prototype.renderChart=
function(a,c){AmCharts.makeChart(c,{type:"serial",theme:"light",dataProvider:a,colors:f,valueAxes:[{stackType:"100%",axisAlpha:0,gridAlpha:0,labelsEnabled:!1}],graphs:[{balloonText:'\x3cspan class\x3d"fwb "\x3eLID [[category]]: [[title]] \x3c/span\x3e \x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e',fillAlphas:.8,lineAlpha:.3,title:"Unspecified",type:"column",color:"#000000",valueField:"UNSPECIFIED"},{balloonText:'\x3cspan class\x3d"fwb "\x3eLID [[category]]: [[title]] \x3c/span\x3e \x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e',
fillAlphas:.8,lineAlpha:.3,title:"Unsub by Admin",type:"column",color:"#000000",valueField:"BYADMIN"},{balloonText:'\x3cspan class\x3d"fwb "\x3eLID [[category]]: [[title]] \x3c/span\x3e \x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e',fillAlphas:.8,lineAlpha:.3,title:"No longer interested",type:"column",color:"#000000",valueField:"NORMAL"},{balloonText:'\x3cspan class\x3d"fwb "\x3eLID [[category]]: [[title]] \x3c/span\x3e \x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e',fillAlphas:.8,
lineAlpha:.3,title:"Did not sign up",type:"column",color:"#000000",valueField:"NOSIGNUP"},{balloonText:'\x3cspan class\x3d"fwb "\x3eLID [[category]]: [[title]] \x3c/span\x3e \x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e',fillAlphas:.8,lineAlpha:.3,title:"Spammy Content",type:"column",color:"#000000",valueField:"SPAM"},{balloonText:'\x3cspan class\x3d"fwb "\x3eLID [[category]]: [[title]] \x3c/span\x3e \x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e',fillAlphas:.8,lineAlpha:.3,title:"Other",
type:"column",color:"#000000",valueField:"OTHER"},{balloonText:'\x3cspan class\x3d"fwb  "\x3eLID [[category]]: [[title]] \x3c/span\x3e \x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e',fillAlphas:.8,lineAlpha:.3,title:"Inappropriate",type:"column",color:"#000000",valueField:"INAPPROPRIATE"}],balloonText:'\x3cspan class\x3d"fwb "\x3eLID [[category]]: [[title]] \x3c/span\x3e \x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e',balloon:{borderThickness:0,animationDuration:.25,fadeOutDuration:.25,
shadowColor:"transparent",horizontalPadding:12,verticalPadding:6,color:"#fff",fillColor:"#373737",cornerRadius:3,fillAlpha:1,textAlign:"left",startDuration:0,sequencedAnimation:!0,startAlpha:"100%"},rotate:!0,categoryField:"list_id",categoryAxis:{gridPosition:"start",axisAlpha:0,gridAlpha:0,position:"left",labelsEnabled:!1}})};mojo.peaches.OverallUnsubscribeReasons=function(a,c,e,f){this.elementId=a;this.dataProviderUrl=c;this.userId=e;this.legendId=f;var d=this;l.xhrGet({url:this.dataProviderUrl,
content:{user_id:this.userId},handleAs:"json",load:function(a){var c=[],e=a.all_time;"ninety-day-legend"===d.legendId?e=a.last_90_days:"thirty-day-legend"===d.legendId&&(e=a.last_30_days);for(var f in e){a=e[f];switch(f){case "":f="Unspecified";break;case "NORMAL":f="No longer interested";break;case "NOSIGNUP":f="Did not sign up";break;case "SPAM":f="Spammy Content";break;case "OTHER":f="Other";break;case "INAPPROPRIATE":f="Inappropriate";break;case "BYADMIN":f="Unsub by Admin"}c.push({type:f,value:a})}var h=
l.byId(d.legendId);h.innerHTML="";var k=-1;c.forEach(function(a,b){k++;var c='\x3cdiv class\x3d"size1of1 lastUnit flex small-meta nowrap"\x3e\x3cspan style\x3d"flex: 0 0 85%"\x3e\x3cspan class\x3d"swatch c-overallUnsubs_swatch c-swatch--'+k+'"\x3e\x3c/span\x3e\x3cspan\x3e'+a.type+'\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"fwb"\x3e'+(100*a.value).toFixed(1)+"%\x3c/span\x3e\x3c/div\x3e";l.place(c,h,"last")});e=[];for(i=0;i<c.length;i++)e.push(c[i].value);0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===
e[4]&&0===e[5]?(d.elementId.innerHTML="",l.place('\x3cdiv class\x3d"no-data alignc"\x3e\x3cimg role\x3d"presentation" src\x3d"/css/icons/no-data/goose-egg.svg" class\x3d"icon"\x3e\x3ch2\x3eGoose egg. There\'s no information available.\x3c/h2\x3e\x3c/div\x3e',d.elementId,"only")):(d.elementId.innerHTML="",d.renderData(c))}})};mojo.peaches.OverallUnsubscribeReasons.prototype.renderData=function(a){AmCharts.makeChart(this.elementId,{type:"pie",theme:"light",dataProvider:a,titleField:"type",valueField:"value",
labelRadius:5,colors:f,marginBottom:0,marginLeft:0,marginTop:0,radius:"42%",innerRadius:"80%",labelText:"[[title]]",pathToImages:"/charts/amcharts/images/",fontFamily:"'Open Sans','Helvetica Neue',Arial,Helvetica,Verdana,sans-serif",fontSize:13,percentFormatter:{precision:1,decimalSeparator:".",thousandsSeparator:","},pullOutRadius:"0%",balloonText:'\x3cspan class\x3d"fwb"\x3e[[percents]]%\x3c/span\x3e \x3cspan class\x3d"capitalize"\x3e[[title]]\x3c/span\x3e',balloon:{borderThickness:0,animationDuration:.25,
fadeOutDuration:.25,shadowColor:"transparent",horizontalPadding:12,verticalPadding:6,color:"#fff",fillColor:"#373737",cornerRadius:3,fillAlpha:1,textAlign:"left",startDuration:0,sequencedAnimation:!0,startAlpha:"100%"},labelsEnabled:!1,startRadius:"0%",startDuration:0,pullOutRadius:"0%",angle:0,depth3D:0,minRadius:2})};mojo.peaches.ListGrowthChart=function(a,c,e,f,d,b){this.elementId=a;this.dataProviderUrl=c;this.customColors=b;var h=this;l.xhrGet({url:this.dataProviderUrl,content:{user_id:e,id:f,
limit:d},handleAs:"json",load:function(b){if(b&&0<b.length){for(var c=null,d=0;d<b.length;d++)c=b[d].datestr.split("-"),b[d].date=new Date(c[0],c[1]-1,1);h.renderData(b)}else l.byId(a).innerHTML='\x3cdiv class\x3d"no-data-sample border panel-block alignc"\x3e\x3cimg src\x3d"/images/icons/goose-egg.png"\x3e \x3cp class\x3d"centered"\x3eGoose egg. There\'s no information available.\x3c/p\x3e\x3c/div\x3e'},error:function(a){}})};mojo.peaches.ListGrowthChart.prototype.renderData=function(a){this.chart=
new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.panEventsEnabled=!0;this.chart.marginLeft=50;this.chart.marginRight=50;this.chart.dataProvider=a;this.chart.categoryField="date";this.chart.startDuration=1;this.chart.color="#555";this.chart.categoryAxis.parseDates=!0;this.chart.categoryAxis.equalSpacing=!1;this.chart.categoryAxis.minPeriod="MM";this.chart.categoryAxis.axisColor="#ccc";this.chart.categoryAxis.gridAlpha=0;this.chart.categoryAxis.dateFormats=[{period:"fff",
format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD, YYYY"},{period:"MM",format:"MMM YYYY"},{period:"YYYY",format:"YYYY"}];a=new AmCharts.ValueAxis;a.stackType="regular";a.dashLength="5";a.axisColor="#ccc";this.chart.addValueAxis(a);existing=new AmCharts.AmGraph;existing.valueField="existing";existing.type="column";existing.fillAlphas=1;existing.lineColor=this.customColors?this.customColors[0]:"#b1e0ec";existing.balloonText=
"[[value]] Existing";existing.bullet="none";this.chart.addGraph(existing);imported=new AmCharts.AmGraph;imported.valueField="imports";imported.type="column";imported.fillAlphas=1;imported.lineColor=this.customColors?this.customColors[1]:"#6dc5dc";imported.balloonText="[[value]] Imported";imported.bullet="none";this.chart.addGraph(imported);subscribed=new AmCharts.AmGraph;subscribed.valueField="optins";subscribed.type="column";subscribed.fillAlphas=1;subscribed.lineColor=this.customColors?this.customColors[2]:
"#2c9ab7";subscribed.balloonText="[[value]] Subscribed";this.chart.addGraph(subscribed);a=new AmCharts.ChartCursor;a.categoryBalloonDateFormat="MMM YYYY";a.cursorColor="#333";a.cursorAlpha=.2;a.cursorPosition="middle";a.oneBalloonOnly=!0;this.chart.addChartCursor(a);this.chart.write(this.elementId)};mojo.peaches.ListGrowthChart.prototype.showMonth=function(a){};mojo.peaches.ListGrowthChart.prototype.toggleActivity=function(a,c){c?this.chart.showGraph(eval(a)):this.chart.hideGraph(eval(a));this.chart.validateData()};
mojo.peaches.PerformanceOverviewChart=function(a,c,e){this.elementId=a;this.dataProviderUrl=c;this.customColors=e;var f=this;l.xhrGet({url:this.dataProviderUrl,content:"",handleAs:"json",load:function(c){c&&0<c.length?f.renderData(c):(l.byId(a).innerHTML='\x3cdiv class\x3d"no-data-sample border panel-block alignc" style\x3d"height:168px;"\x3e\x3cimg src\x3d"/images/icons/campaign-performance.png"\x3e\x3cp class\x3d"empty-tagline"\x3eWe don\'t have enough campaign performance data yet.\x3c/p\x3e\x3c/div\x3e',
l.byId("campaign-performance-legend").style.display="none",l.byId("reports-performance-chart").style.display="none")},error:function(a){}})};mojo.peaches.PerformanceOverviewChart.prototype.renderData=function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=a;this.chart.categoryField="bubbleText";this.chart.startDuration=1;this.chart.marginTop=25;this.chart.marginBottom=50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=
!1;this.chart.addListener("clickGraphItem",this.dataPointClickedEvt);a=new AmCharts.AmGraph;a.title="Click Rate";a.valueField="clickRate";a.type="line";a.lineColor=this.customColors?this.customColors[0]:"#ed5d3b";a.balloonText="[[value]]% Click Rate";a.lineThickness=2;a.bullet="round";a.bulletColor="#fff";a.bulletSize=6;a.bulletBorderColor=this.customColors?this.customColors[0]:"#ed5d3b";a.bulletBorderThickness=3;a.fillAlphas=0;this.chart.addGraph(a);a=new AmCharts.AmGraph;a.title="Open Rate";a.valueField=
"openRate";a.type="line";a.lineColor=this.customColors?this.customColors[1]:"#2c9ab7";a.balloonText="[[value]]% Open Rate";a.lineThickness=2;a.bullet="round";a.bulletColor="#fff";a.bulletSize=6;a.bulletBorderColor=this.customColors?this.customColors[1]:"#2c9ab7";a.bulletBorderThickness=3;a.fillAlphas=0;this.chart.addGraph(a);var c=this.chart.categoryAxis;c.autoGridCount=!1;c.gridPosition="start";c.dashLength=5;c.axisColor="#ccc";c=new AmCharts.ValueAxis;c.dashLength=5;c.unit="%";c.axisColor="#ccc";
this.chart.addValueAxis(c);c=new AmCharts.ChartCursor;c.cursorColor="#333";c.cursorAlpha=.2;c.cursorPosition="middle";c.bulletsEnabled=!1;this.chart.addChartCursor(c);c.addListener("changed",this.cursorChangedEvt);c=new AmCharts.ChartScrollbar;c.graph=a;this.chart.addChartScrollbar(c);l.byId(this.elementId).innerHTML="";this.chart.write(this.elementId)};mojo.peaches.PerformanceOverviewChart.prototype.dataPointClickedEvt=function(a){var c="",e=a.graph.valueField;"clickRate"==e&&(c=a.item.dataContext.clickUrl,
window.location=c);"openRate"==e&&(c=a.item.dataContext.openUrl,window.location=c)};mojo.peaches.PerformanceOverviewChart.prototype.cursorChangedEvt=function(a){var c=a.target.chart.dataProvider;a=c[a.index];if("undefined"!=typeof a&&"undefined"!=typeof c){var e;l.query("[data-campaignId]").forEach(function(a){e=a.parentElement.parentElement;l.hasClass(e,"google-visualization-table-tr-sel")&&l.removeClass(e,"google-visualization-table-tr-sel")});"undefined"!=typeof l.query("[data-campaignId\x3d"+
a.campaignId+"]")[0]&&(c=l.query("[data-campaignId\x3d"+a.campaignId+"]")[0].parentElement.parentElement,l.addClass(c,"google-visualization-table-tr-sel"))}};mojo.peaches.AbusePerformanceOverviewChart=function(a,c,e){this.elementId=a;this.dataProviderUrl=c;this.customColors=e;var f=this;l.xhrGet({url:this.dataProviderUrl,content:"",handleAs:"json",load:function(c){if(c&&0<c.length)f.renderData(c);else if(l.byId(a).innerHTML='\x3cdiv class\x3d"no-data"\x3e\x3cimg src\x3d"/images/icons/campaign-performance.png"\x3e\x3cp\x3eWe don\'t have enough campaign performance data yet.\x3c/p\x3e\x3c/div\x3e',
c=l.byId("campaign-performance-legend"))c.style.display="none"},error:function(a){}})};mojo.peaches.AbusePerformanceOverviewChart.prototype.renderData=function(a){this.chart=new AmCharts.AmSerialChart;this.chart.pathToImages="/charts/amcharts/images/";this.chart.dataProvider=a;this.chart.categoryField="bubbleText";this.chart.startDuration=1;this.chart.marginTop=25;this.chart.marginBottom=50;this.chart.marginLeft=50;this.chart.color="#555";this.chart.balloon.showBullet=!1;this.chart.addListener("clickGraphItem",
this.dataPointClickedEvt);a=new AmCharts.AmGraph;a.title="Abuse Rate";a.valueField="abuseRate";a.type="line";a.lineColor=this.customColors?this.customColors[0]:"#ed5d3b";a.balloonText="[[value]]% Abuse Rate";a.lineThickness=2;a.bullet="round";a.bulletColor="#ed5d3b";a.bulletSize=6;a.bulletBorderColor=this.customColors?this.customColors[0]:"#ed5d3b";a.bulletBorderThickness=3;a.fillAlphas=0;this.chart.addGraph(a);var c=new AmCharts.AmGraph;c.title="Bounce Rate";c.valueField="bounceRate";c.type="line";
c.lineColor=this.customColors?this.customColors[1]:"#2c9ab7";c.balloonText="[[value]]% Bounce Rate";c.lineThickness=2;c.bullet="round";c.bulletColor="#2c9ab7";c.bulletSize=6;c.bulletBorderColor=this.customColors?this.customColors[1]:"#2c9ab7";c.bulletBorderThickness=3;c.fillAlphas=0;this.chart.addGraph(c);c=new AmCharts.AmGraph;c.title="Unsub Rate";c.valueField="unsubRate";c.type="line";c.lineColor=this.customColors?this.customColors[1]:"#b1e0ec";c.balloonText="[[value]]% Unsub Rate";c.lineThickness=
2;c.bullet="round";c.bulletColor="#b1e0ec";c.bulletSize=6;c.bulletBorderColor=this.customColors?this.customColors[1]:"#b1e0ec";c.bulletBorderThickness=3;c.fillAlphas=0;this.chart.addGraph(c);c=this.chart.categoryAxis;c.autoGridCount=!1;c.gridPosition="start";c.dashLength=5;c.axisColor="#ccc";c=new AmCharts.ValueAxis;c.dashLength=5;c.unit="%";c.axisColor="#ccc";this.chart.addValueAxis(c);c=new AmCharts.ChartCursor;c.cursorColor="#333";c.cursorAlpha=.2;c.cursorPosition="middle";c.bulletsEnabled=!1;
c.categoryBalloonFunction=function(a){return h.html.entities.encode(a)};this.chart.addChartCursor(c);c.addListener("changed",this.cursorChangedEvt);c=new AmCharts.ChartScrollbar;c.graph=a;this.chart.addChartScrollbar(c);l.byId(this.elementId).innerHTML="";this.chart.write(this.elementId)};mojo.peaches.AbusePerformanceOverviewChart.prototype.cursorChangedEvt=function(a){var c=a.target.chart.dataProvider;a=c[a.index];if("undefined"!=typeof a&&"undefined"!=typeof c){var e;l.query("[data-campaignId]").forEach(function(a){e=
a.parentElement.parentElement;l.hasClass(e,"google-visualization-table-tr-sel")&&l.removeClass(e,"google-visualization-table-tr-sel")});"undefined"!=typeof l.query("[data-campaignId\x3d"+a.campaignId+"]")[0]&&(c=l.query("[data-campaignId\x3d"+a.campaignId+"]")[0].parentElement.parentElement,l.addClass(c,"google-visualization-table-tr-sel"))}}})},"mojo/views/peaches2/users/lists/list-activity":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr","dojo/on","mojo/url"],function(l,
k,h,f,a){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;f(this.$el.searchEmailForm,"submit",function(e){e.preventDefault();e.stopPropagation();a.findEmail()})},findEmail:function(){var c=a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/lists}",{_s:"list-activity",user_id:this.pageJs.userAttrs.userId,search_email:this.$el.searchEmailInput.value});this.pageJs.tabContainer.listActivitySection.set("href",c)}})})},"mojo/views/peaches2/users/lists/list-growth":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/peaches mojo/url dojo/html".split(" "),
function(l,k,h,f,a,c,e){return l([k],{pageJs:null,elId:null,onReady:function(){var f=this;new a.ListGrowthChart("lists-growth-chart",c.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/lists/list-growth-am-chart"),this.pageJs.userAttrs.userId,"all","recent");var d=this.$widget.listsGrowthSelect;d.set("onChange",function(){var b=this.attr("value"),h="";"all"!==b&&(h="(\x3ca onclick\x3d'event.preventDefault(); _mc.viewListDetails(this.innerHTML)' href\x3d'#0'\x3e"+b+"\x3c/a\x3e)");var k=d.attr("displayedValue");
e.set(f.$el.listsGrowthTitle,"Growth for: "+k+h);new a.ListGrowthChart("lists-growth-chart",c.toUrl("peaches2/"+f.pageJs.userAttrs.agentRole+"/users/lists/list-growth-am-chart"),f.pageJs.userAttrs.userId,b,"recent")})}})})},"mojo/views/peaches2/users/lists/list-stats":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/request/xhr mojo/url dojo/html dojo/dom mojo/app/peaches2/utils dojo/query".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([k],{pageJs:null,elId:null,
listId:null,onReady:function(){},peachesUrl:function(a,b){return c.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users"+a,b)},vipList:function(a){this.listId=a;this.$widget.vipListDialog.show()},doVipList:function(){var a=this.$el.vipReason.value;a?(this.$widget.vipListDialog.hide(),window.location=this.peachesUrl("/lists/list-vip-add",{user_id:this.pageJs.userAttrs.userId,list_id:this.listId,reason:a,_p:this.pageJs.activeModule})):(this.$widget.vipListDialog.hide(),d.utils.setFlash("You have to provide a reason",
"error"))},removeVipList:function(a){this.$widget.removeVipListDialog.show();this.listId=a},doRemoveVipList:function(){window.location=this.peachesUrl("/lists/list-vip-remove",{user_id:this.pageJs.userAttrs.userId,list_id:this.listId,_p:this.pageJs.activeModule})},deleteList:function(a){this.listId=a;this.$widget.deleteListDialog.show()},doListDeletion:function(){var a=this.$el.deleteListNote.value;a?window.location=this.peachesUrl("/lists/list-delete",{user_id:this.pageJs.userAttrs.userId,note:a,
id:this.listId,_p:this.pageJs.activeModule}):(this.$widget.deleteListDialog.hide(),d.utils.setFlash("You have to provide a note","error"))},undeleteList:function(a){this.listId=a;this.$widget.undeleteListDialog.show()},doListUndeletion:function(){var a=this.$el.undeleteListNote.value;a?window.location=this.peachesUrl("/lists/list-undelete",{user_id:this.pageJs.userAttrs.userId,id:this.listId,note:a,_p:this.pageJs.activeModule}):(this.$widget.undeleteListDialog.hide(),d.utils.setFlash("You have to provide a note",
"error"))},showUnengaged:function(b,c){var f=h.get(b,"id");null!==c&&a(this.peachesUrl("/lists//list-total-unengaged"),{query:{list_id:c,user_id:this.pageJs.userAttrs.userId},handleAs:"json"}).then(function(a){"success"===a.status?e.set(m.byId(f+"-container"),"[ unengaged: "+a.total+" ]"):d.utils.setFlash("Oops! Something happened :( Sorry.","error")});return!1},showForceMembershipCheckDialog:function(a){this.listId=a;this.$widget.membershipcheckForceDialog.show()},doForceMembershipCheck:function(){var a=
"action\x3d"+b("input[type\x3dradio][name\x3dmembershipcheck_action]:checked")[0].value+"\x26campaign_id\x3d"+this.$el.membershipcheckCampaignId.value+"\x26first_sent\x3d"+this.$el.membershipcheckFirstSent.checked+"\x26never_sent\x3d"+this.$el.membershipcheckNeverSent.checked+"\x26prune\x3d"+this.$el.membershipcheckPrune.checked+"\x26ecomm\x3d"+this.$el.membershipcheckEcomm.checked+"\x26rating\x3d"+this.$el.membershipcheckRating.value+"\x26no_open\x3d"+this.$el.membershipcheckNoOpen.value+"\x26age\x3d"+
this.$el.membershipcheckAge.value+"\x26list_id\x3d"+this.listId+"\x26user_id\x3d"+this.pageJs.userAttrs.userId+"\x26_p\x3d"+this.pageJs.activeModule;window.location=this.peachesUrl("/lists/force-membership-check?"+a)},showRemoveMembershipCheckDialog:function(a){this.listId=a;this.$widget.membershipcheckRemoveDialog.show()},doRemoveMembershipCheck:function(){window.location=this.peachesUrl("/lists/override-membership-check",{user_id:this.pageJs.userAttrs.userId,list_id:this.listId,_p:this.pageJs.activeModule})}})})},
"mojo/views/peaches2/users/lists/unsubscribe":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage mojo/peaches mojo/url mccharts/mccharts dojo/request/xhr dojo/dom-construct mojo/widgets/ButtonGroup dojo/dom-class".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([k],{pageJs:null,elId:null,onReady:function(){this.itemTpl="\x3cli class\x3d'c-buttonGroupItem'\x3e\x3cbutton data-mc-value\x3d'{value}' title\x3d'{title}' class\x3d'c-buttonGroupButton v-buttonGroupUnderlined'\x3e{label}\x3c/button\x3e\x3c/li\x3e";
this.activeClass=" v-buttonGroupUnderlined--active";new e.ListsMostUnsubs(m.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/lists/get-list-most-unsubs"),this.pageJs.userAttrs.userId,m.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/lists/",{_s:"list-details",user_id:this.pageJs.userAttrs.userId,list_id:null}));var b={target:"unsubscribe-reasons-list",filters:[{label:"List",key:"list_id",type:"select"},{label:"Age",key:"age",type:"select",options:{1:"One day",2:"Two days",7:"One week",
30:"One month",90:"Three months"}},{label:"Reason",key:"reason",type:"select",options:{NORMAL:"NORMAL",NOSIGNUP:"NOSIGNUP",OTHER:"OTHER",SPAM:"SPAM"}},{label:"Type",key:"type",type:"select",options:{S:"Abuse Complaint",A:"Admin",C:"Campaign",W:"Not a Campaign"}},{label:"Comments Only",key:"comments",type:"checkbox"}]},d=new a(b);this.$el.unsubscribeFilters.appendChild(d.domNode);b=new c(b);this.$el.unsubscribeFiltersMessage.appendChild(b.domNode);b={target:"reasons-by-age-list",filters:[{label:"Age",
key:"age",type:"select",options:{1:"One day",2:"Two days",7:"One week",30:"One month",90:"Three months"}}]};d=new a(b);this.$el.unsubscribeReasonsFilters.appendChild(d.domNode);b=new c(b);this.$el.unsubscribeReasonsFiltersMessage.appendChild(b.domNode);this.$el.unsubscribeButtonGroup&&(b=[{title:"All Time",value:"All Time",label:"All Time"},{title:"90 days",value:"90",label:"90 days"},{title:"30 days",value:"30",label:"30 days"}],this.unsubscribeTabs=new p({options:b,itemTpl:this.itemTpl,activeClass:this.activeClass}),
this.unsubscribeTabs.placeAt(this.$el.unsubscribeButtonGroup),this.unsubscribeTabs.startup(),this.unsubscribeTabs.setSelected(b[0].value));this.showOverallGraph()},showOverallGraph:function(a){var c=this,e=d.models.doughnutChart();b(m.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/lists/get-account-unsubs",{user_id:this.pageJs.userAttrs.userId}),{handleAs:"json"}).then(function(a){var b={};Object.keys(a).forEach(function(c){var d=[],e;for(e in a[c])if(a[c][e]){var f=a[c][e];switch(e){case "":e=
"Unspecified";break;case "NORMAL":e="No longer interested";break;case "NOSIGNUP":e="Did not sign up";break;case "SPAM":e="Spammy Content";break;case "OTHER":e="Other";break;case "INAPPROPRIATE":e="Inappropriate";break;case "BYADMIN":e="Unsub by Admin";break;default:e="Unknown Source"}d.push({type:e,value:f})}b[c]=d});return b}).then(function(a){e.colors("#cfbecd #b79db5 #9f7d9c #fbd4b4 #f69343 #ffeebf #fede88".split(" "));e.strokeWidth(30);e.percentageOnly(!0);e.loadChart("#overall-unsubscribe-reasons",
a.all_time).then(function(a){e.legendContainer=c.$el.overallUnsubLegend;c._createLegendNodes(a.data.length);e._createLegend()});c.unsubscribeTabs.on("change",function(){"90"===this.value&&e.updateData(a.last_90_days).then(function(a){c._showNoDataState(a.data);c._createLegendNodes(a.data.length);e._createLegend()});"30"===this.value&&e.updateData(a.last_30_days).then(function(a){c._showNoDataState(a.data);c._createLegendNodes(a.data.length);e._createLegend()});"All Time"===this.value&&e.updateData(a.all_time).then(function(a){c._showNoDataState(a.data);
c._createLegendNodes(a.data.length);e._createLegend()})})})},_createLegendNodes:function(a){for(var b=0;b<a;b++)n.place('\x3cdiv class\x3d"flex small-meta"\x3e\x3cdiv class\x3d""\x3e\x3c/div\x3e\x3cdiv class\x3d"flex-fourth small-meta"\x3e\x3c/div\x3e\x3c/div\x3e',this.$el.overallUnsubLegend)},_showNoDataState:function(a){0===a.length?q.remove(this.$el.noUnsubData,"hide"):q.add(this.$el.noUnsubData,"hide")}})})},"mojo/views/peaches2/users/integrations/api-watcher":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/request/xhr dojo/dom-class mojo/app/peaches2/utils".split(" "),
function(l,k,h,f,a,c,e){return l([k],{pageJs:null,elId:null,queryOffset:0,onReady:function(){var k=this;this.$group.loggingStatusCheckbox&&this.$group.loggingStatusCheckbox.forEach(function(c){f(c,"click",function(){var b=c.value,f="off";c.checked&&(f="on");a(k.pageJs.peachesUrl("/integrations/api-set-logging"),{query:{user_id:k.pageJs.userAttrs.userId,apikey:b,logging_status:f},handleAs:"json"}).then(function(a){"on"===a?c.checked=!0:"off"===a?c.checked=!1:e.setFlash("Error encountered: "+a,"error")})})});
this.$group.viewApikeyData&&this.$group.viewApikeyData.forEach(function(d){f(d,"click",function(){var b=h.get(this,"data-apikey"),e=k.$el.apiCallList;e.innerHTML="\x3cdiv\x3e\x3cstrong\x3eLoading results...\x3c/strong\x3e\x3c/div\x3e";k.$el.apiCallData.innerHTML="";k.$group.viewApikeyData.removeClass("selected");c.add(this,"selected");a(k.pageJs.peachesUrl("/integrations/api-watcher-data"),{query:{user_id:k.pageJs.userAttrs.userId,apikey:b,offset:k.queryOffset}}).then(function(b){e.innerHTML=b;k.parse();
f(k.$group.offsetMoveRight,"click",function(){k.queryOffset+=500;d.click()});f(k.$group.offsetMoveLeft,"click",function(){k.queryOffset-=500;0>=k.queryOffset&&(k.queryOffset=0);d.click()});f(k.$group.offsetText,"change",function(a){k.queryOffset=parseInt(a.target.value,10)||0});f(k.$group.offsetText,"keyup",function(a){13===a.keyCode&&d.click()});f(k.$group.callListItem,"click",function(){var b=h.get(this,"data-call-id");k.$el.apiCallData.innerHTML="\x3cstrong\x3eLoading results...\x3c/strong\x3e";
k.$group.callListItem.forEach(function(a){c.remove(a,"selected")});c.add(this,"selected");a(k.pageJs.peachesUrl("/integrations/api-watcher-data"),{query:{user_id:k.pageJs.userAttrs.userId,call_id:b}}).then(function(a){k.$el.apiCallData.innerHTML=a})})})})})}})})},"mojo/views/peaches2/users/integrations/device-management":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr mojo/app/peaches2/utils dojo/on mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage".split(" "),
function(l,k,h,f,a,c,e,m){return l([h],{pageJs:null,elId:null,onReady:function(){var a={target:"list-1",filters:[{label:"Last used...",key:"last_used",type:"select",options:{1:"One day ago",2:"Two days ago",7:"One week ago",30:"One month ago",60:"Two months ago",90:"Three months ago",180:"Six months ago",360:"One year ago"}},{label:"Created since...",key:"age",type:"select",options:{1:"One day ago",2:"Two days ago",7:"One week ago",30:"One month ago",60:"Two months ago",90:"Three months ago",180:"Six months ago",
360:"One year ago"}},{label:"Platform",key:"platform",type:"select",options:{android:"Android",iphone:"iPhone"}}]},b=new e(a);this.$el.list1Filters.appendChild(b.domNode);a=new m(a);this.$el.list1FiltersMessage.appendChild(a.domNode)},deleteDevice:function(a){this.$el.deviceId.value=a;this.$widget.deleteDialog.show()}})})},"mojo/views/peaches2/users/integrations/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/app/peaches2/tabContainerUtil mojo/app/peaches2/webhooks dojo/query".split(" "),
function(l,k,h,f,a,c){return l([k,a],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var a=this;this.pageTabs.forEach(function(c){"webhooks"===c.stub&&(c.href=h.toUrl("/peaches2/admin/webhooks/get-list",{users:a.userAttrs.userId}))});var c=new f;c.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=c;this.modules=this.tabContainer.viewModule},peachesUrl:function(a,c){return h.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users"+a,
c)},exportCalls:function(){var a=c("[name\x3dapi-stats-date]")[0].value.split("-"),a=this.peachesUrl("/integrations/export-api-calls",{user_id:this.userAttrs.userId,d:a[2],m:a[1],y:a[0]});document.location.href=a}})})},"mojo/views/peaches2/users/integrations/platform-api":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/request/xhr dojo/dom-class mojo/app/peaches2/utils dojo/query dojo/_base/lang".split(" "),function(l,k,h,f,a,c,e,m,d){return l([k],{pageJs:null,elId:null,
onReady:function(){this.$group.enable_buttons&&f(this.$group.enable_buttons,"click",function(a){a.preventDefault();window.location=h.get(a.target,"href")});this.$group.disable_buttons&&f(this.$group.disable_buttons,"click",d.hitch(this,function(a){a.preventDefault();this.$widget.keyChangeDialog.show();this.forwardLink=h.get(a.target,"href")}));this.$el.deleteButton&&f(this.$el.deleteButton,"click",d.hitch(this,function(a){a=this.forwardLink+"\x26disable_reason\x3d"+encodeURI(this.$el.disableKeyReason.value);
window.location=a}))}})})},"mojo/views/peaches2/users/integrations/webhooks":function(){define(["dojo/_base/declare","mojo/views/_base"],function(l,k){return l([k],{pageJs:null,elId:null,onReady:function(){this.pageJs.webhookHeadCheckAll()}})})},"mojo/views/peaches2/users/ecommerce/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/app/peaches2/tabContainerUtil dojo/query mojo/app/peaches2/utils".split(" "),function(l,k,h,f,a,c){return l([k],{pageTabs:null,activeSection:null,
userAttrs:null,modules:null,onReady:function(){var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule},deleteStore:function(a){this.deletedStoreId=a;this.$widget.deleteStoreDialog.show()},doStoreDeletion:function(){var a=this.$el.deleteStoreNote.value,f=this.deletedStoreId;this.deletedStore=null;a?window.location=h.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/ecommerce/store-delete",{user_id:this.userAttrs.userId,
note:a,id:f,_p:this.activeModule}):(this.$widget.deleteStoreDialog.hide(),c.utils.setFlash("You have to provide a note","error"))}})})},"mojo/views/peaches2/users/direct-mail/direct-mail":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr","dojo/on","dojo/topic"],function(l,k,h,f,a){return l([k],{pageJs:null,elId:null,onReady:function(){var c=this;c.pageJs.loadFilter("direct-mail");c.parse();a.subscribe("mojo/analytics/List/direct-mail-list/render",function(a){c.$group.directMailPostcardId&&
c.$group.directMailPostcardId.forEach(function(a){f(a,"click",function(){c.pageJs.viewDirectMailDetails(h.get(a,"data-postcard-id"))})})})}})})},"mojo/views/peaches2/users/direct-mail/index":function(){define(["dojo/_base/declare","dojo/topic","mojo/views/_base","mojo/url","mojo/app/peaches2/tabContainerUtil"],function(l,k,h,f,a){return l([h],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var c=this;this.pageTabs.forEach(function(a){a.preload=!0});var e=new a;e.createContentPanes(this.$el.informationTabs,
this,window._mcaModules);this.tabContainer=e;this.modules=this.tabContainer.viewModule;k.subscribe("mojo/analytics/List/direct-mail-list/render",function(a){c.parse();e.directMailSection.set("title","Direct Mail ("+a.total+")")});if("direct-mail-details"===this.activeSection||"direct-mail-details-section"===f.getHashParams().t){var h=(new URL(window.location.href)).searchParams.get("postcard_id");if(h)return this.viewDirectMailDetails(h),!1;f.getHashParams().id&&this.viewDirectMailDetails(f.getHashParams().id)}},
viewDirectMailDetails:function(a){var e=this,h={title:"Direct Mail Details: "+a,href:f.toUrl("/peaches2/"+e.userAttrs.agentRole+"/users/campaigns",{_s:"direct-mail-details",user_id:e.userAttrs.userId,postcard_id:a}),stub:"direct-mail-details",closable:!0,onClose:function(){e.tabContainer.directMailDetailsSection=null;return!0}};this.tabContainer.addNewPane(h,!0,a)},loadFilter:function(a){}})})},"mojo/views/peaches2/users/compliance/abuse-report":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/url mojo/peaches".split(" "),
function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;a.loadAbuseChart();f(this.$el.growthSelect,"change",function(){a.changeList()})},loadAbuseChart:function(){new c.AbusePerformanceOverviewChart("campaign-history",a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/campaign-abuse-history-json-data",{user_id:this.pageJs.userAttrs.userId}))},changeList:function(){var e=this.$el.growthSelect.value;"All Lists"===e&&this.loadAbuseChart();e=a.toUrl("/peaches2/"+
this.pageJs.userAttrs.agentRole+"/users/campaign-abuse-history-json-data",{user_id:this.pageJs.userAttrs.userId,list_id:e});new c.AbusePerformanceOverviewChart("campaign-history",e)}})})},"mojo/views/peaches2/users/compliance/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","mojo/app/peaches2/tabContainerUtil","mojo/views/fresh/peaches2/users/lists/index"],function(l,k,h,f,a){return l([k,a],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,activeModule:null,
onReady:function(){var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule;if("list-details"===this.activeSection||"list-details-section"===h.getHashParams().t)(a=(new URL(window.location.href)).searchParams.get("list_id"))&&this.viewListDetails(a),h.getHashParams().id&&this.viewListDetails(h.getHashParams().id)},viewListDetails:function(a){var e=this,f={title:"List Details: "+a,href:h.toUrl("/peaches2/"+e.userAttrs.agentRole+
"/users/lists?user_id\x3d"+e.userAttrs.userId+"\x26_s\x3dlist-details\x26list_id\x3d"+a),stub:"list-details",closable:!0,onClose:function(){e.tabContainer.listDetailsSection=null;return!0},onDownloadEnd:function(){e.listDetailsInit(a,this)}};this.tabContainer.addNewPane(f,!0,a)}})})},"mojo/views/fresh/peaches2/users/lists/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/app/peaches2/tabContainerUtil mojo/peaches dojo/dom".split(" "),function(l,k,h,f,a,c){return l([k],{pageTabs:null,
activeSection:null,userAttrs:null,modules:null,onReady:function(){var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule;"list-details"===this.activeSection&&(a=(new URL(window.location.href)).searchParams.get("list_id"))&&this.viewListDetails(a)},viewListDetails:function(a){var c=this,d={title:"List Details: "+a,href:h.toUrl("/peaches2/"+c.userAttrs.agentRole+"/users/lists?user_id\x3d"+c.userAttrs.userId+"\x26_s\x3dlist-details\x26list_id\x3d"+
a),stub:"list-details",closable:!0,onClose:function(){c.tabContainer.listDetailsSection=null;return!0},onDownloadEnd:function(){c.listDetailsInit(a,this)}};this.tabContainer.addNewPane(d,!0)},listDetailsInit:function(a,c){var d=this;this.parse();this._loadCharts(this.userAttrs.userId,a);var b=this.$widget.detailsGrowthSelect;b.set("onChange",function(){var a=b.attr("value"),e=h.toUrl("/peaches2/"+d.userAttrs.agentRole+"/users/lists",{_s:"list-details",user_id:d.userAttrs.userId,list_id:a});c.set("href",
e).then(function(){d._loadCharts(d.userAttrs.userId,a)});c.set("title","Login Details: "+a)})},_loadCharts:function(e,f){c.byId("list-details-growth-chart")&&new a.ListGrowthChart("list-details-growth-chart",h.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/lists/list-growth-am-chart"),e,f,"recent");c.byId("campaign-history")&&new a.PerformanceOverviewChart("campaign-history",h.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/lists/campaign-history-json-data",{user_id:e,list_id:f}));c.byId("campaign-abuse-history")&&
new a.AbusePerformanceOverviewChart("campaign-abuse-history",h.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/lists/campaign-abuse-history-json-data",{user_id:e,list_id:f}))}})})},"mojo/views/peaches2/users/compliance/list-stats":function(){define(["dojo/_base/declare","mojo/views/peaches2/users/lists/list-stats"],function(l,k){return l([k])})},"mojo/views/peaches2/users/campaigns/automation":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base mojo/url dojo/io-query dojo/dom dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/on dojo/request/xhr dojo/topic dijit/registry".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([h],{pageJs:null,elId:null,automationListRendered:null,onReady:function(){p.subscribe("mojo/analytics/List/automations-list/render",k.hitch(this,function(a){var b=this.pageJs;this.pageJs.tabContainer.automationSection.set("title","Automation ("+a.total+")");this.automationListRendered||(this.automationListRendered=!0,b.loadFilter("automation"))}))},selectAutomationTimeframe:function(b){b=b.value;this.toggleCustomTimframeInput(!1);this.toggleErrorText(!1);
if("Custom"===b)this.toggleCustomTimframeInput(!0);else{var c=a.queryToObject(window.location.search).cid,d=new FormData;d.append("cid",c);d.append("date_range",b);this.requestAutomationTimeframeData(d)}},requestAutomationTimeframeData:function(a){var b=this.pageJs.userAttrs,d=c.byId("dates"),e=c.byId("sends"),h=c.byId("unique_opens"),k=c.byId("unique_clicks"),l=c.byId("hard_bounces"),m=c.byId("soft_bounces"),p=c.byId("unsubs"),q=c.byId("abuse_reports"),C=this;n(f.toUrl("/peaches2/"+b.agentRole+"/users/campaigns",
{_s:"get-automation-time-report",user_id:b.userId}),{handleAs:"json",method:"POST",data:a}).then(function(a){a.error?C.toggleErrorText(!0,a.error):(d.innerText="Start: "+a.start_date+" - End: "+a.end_date,e.innerText=a.sends,h.innerText=a.unique_opens+" ("+a.open_rate+"%)",k.innerText=a.unique_clicks+" ("+a.click_rate+"%)",l.innerText=a.hard_bounces+" ("+a.hard_bounce_rate+"%)",m.innerText=a.soft_bounces+" ("+a.soft_bounce_rate+"%)",p.innerText=a.unsubs+" ("+a.unsub_rate+"%)",q.innerText=a.abuse_reports+
" ("+a.abuse_rate+"%)")})},getCustomAutomationTimeframe:function(){var b=a.queryToObject(window.location.search).cid,d=[c.byId("custom_start").value,c.byId("custom_end").value];this.toggleErrorText(!1);var e=new FormData;e.append("cid",b);e.append("custom_dates",d);this.requestAutomationTimeframeData(e)},toggleCustomTimframeInput:function(a){!0===a?e.remove(c.byId("customTimeframe"),"js-hide"):e.add(c.byId("customTimeframe"),"js-hide")},toggleErrorText:function(a,b){!0===a?m.place("\x3cp class\x3d'error-text' id\x3d'date-error'\x3e"+
b+"\x3c/p\x3e",c.byId("dateSelectCell"),"last"):m.destroy(c.byId("date-error"))}})})},"mojo/views/peaches2/users/campaigns/autoresponder":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr dojo/on dojo/topic dijit/registry".split(" "),function(l,k,h,f,a,c,e){return l([h],{pageJs:null,elId:null,autoresponderRendered:null,onReady:function(){c.subscribe("mojo/analytics/List/autoresponders-list/render",k.hitch(this,function(a){var c=this.pageJs;this.pageJs.tabContainer.autoresponderSection.set("title",
"Autoresponder ("+a.total+")");this.autoresponderRendered||(this.autoresponderRendered=!0,c.loadFilter("autoresponder"))}))}})})},"mojo/views/peaches2/users/campaigns/deleted":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr dojo/dom-class dojo/on dojo/topic".split(" "),function(l,k,h,f,a,c,e){return l([h],{pageJs:null,elId:null,deletedCampaignsRendered:null,deletedAutomationsRendered:null,onReady:function(){var c=this;this.parse(this.elId);var d=this.pageJs;this.$widget.chooseDeletedCampaign.set("onChange",
function(){"campaigns"===this.value&&(a.remove(c.$el.deletedCampaignsList,"hide"),a.add(c.$el.deletedAutomationsList,"hide"),a.add(c.$el.deletedOldCampaignsList,"hide"),c.$el.deletedTitle.innerHTML="Deleted Campaigns");"automations"===this.value&&(a.add(c.$el.deletedCampaignsList,"hide"),a.remove(c.$el.deletedAutomationsList,"hide"),a.add(c.$el.deletedOldCampaignsList,"hide"),c.$el.deletedTitle.innerHTML="Deleted Automations");"old-campaigns"===this.value&&(a.add(c.$el.deletedCampaignsList,"hide"),
a.add(c.$el.deletedAutomationsList,"hide"),a.remove(c.$el.deletedOldCampaignsList,"hide"),c.$el.deletedTitle.innerHTML="Campaigns Deleted Before 06/30/2014")});e.subscribe("mojo/analytics/List/deleted-campaigns-list/render",k.hitch(this,function(a){this.deletedCampaignsRendered||(d.loadFilter("deleted"),this.deletedCampaignsRendered=!0)}));e.subscribe("mojo/analytics/List/deleted-automations-list/render",k.hitch(this,function(a){this.deletedAutomationsRendered||(d.loadFilter("deleted-automation"),
this.deletedAutomationsRendered=!0)}))}})})},"mojo/views/peaches2/users/campaigns/index":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base mojo/app/peaches2/tabContainerUtil mojo/app/peaches2/utils dojo/topic dijit/registry mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage dojo/dom dojo/dom-attr dojo/on dojo/dom-class mojo/utils mojo/url dojo/request/xhr".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([h],{pageTabs:null,activeSection:null,userAttrs:null,
modules:null,campaingId:null,sectionId:null,onReady:function(){this.pageTabs.forEach(function(a){a.preload="deleted"===a.stub?!1:!0});var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule;if("campaign-details"===this.activeSection||"campaign-details-section"===t.getHashParams().t){if(a=(new URL(window.location.href)).searchParams.get("cid"))return this.viewCampaignDetails(a),!1;t.getHashParams().id&&this.viewCampaignDetails(t.getHashParams().id)}this.modules.autoresponder.set("campaignIndex",
this);p(this.$el.deleteCampaignCancelButton,"click",k.hitch(this,function(){this.cancelDelete()}))},openEmailTool:function(a){a=a.attr("value");if(!a)return!1;"http:"===a.substring(0,5)||"https:"===a.substring(0,6)?window.open(a):window.location=a;return!1},deleteCampaign:function(a,b,c){this.$el.campaignId.value=a;this.$el.sectionId.value=c;this.$el.regularUserId.value=this.userAttrs.userId;"variate-child"===b?q.remove("deleteVariateText","hide"):q.add("deleteVariateText","hide");this.$widget.deleteDialog.show()},
submitDeletedCampaign:function(a){a.stopPropagation();a.preventDefault();0===this.$el.deleteNote.value.length?r.addError(this.$el.deleteNote,"Please provide a note"):5>this.$el.deleteNote.value.length?r.addError(this.$el.deleteNote,"Please provide a more meaningful note"):this.$el.deleteDialogForm.submit()},cancelDelete:function(){this.$widget.deleteDialog.hide();r.removeErrors(this.$el.deleteNote);this.$el.deleteNote.value=""},manageLinks:function(a,b){a.preventDefault();a.stopPropagation();var c=
this,d={title:"Campaign Links: "+b,stub:"campaign-links",href:t.toUrl("/peaches2/"+c.userAttrs.agentRole+"/users/campaigns",{_s:"campaign-links",user_id:c.userAttrs.userId,cid:b}),closable:!0,onClose:function(){c.tabContainer.campaignLinksSection=null;return!0}};this.tabContainer.addNewPane(d,!0,b)},viewCampaignDetails:function(a){var b=this,c={title:"Campaign Details: "+a,href:t.toUrl("/peaches2/"+b.userAttrs.agentRole+"/users/campaigns",{_s:"campaign-details",user_id:b.userAttrs.userId,cid:a}),
stub:"campaign-details",closable:!0,onClose:function(){b.tabContainer.campaignDetailsSection=null;return!0}};this.tabContainer.addNewPane(c,!0,a)},manageBounces:function(a,b){a.preventDefault();a.stopPropagation();var c=this,d={title:"Bounces: "+b,href:t.toUrl("/peaches2/"+c.userAttrs.agentRole+"/users/campaigns",{_s:"campaign-bounces",user_id:c.userAttrs.userId,cid:b}),stub:"campaign-bounces",closable:!0,onClose:function(){c.tabContainer.campaignBouncesSection=null;return!0}};this.tabContainer.addNewPane(d,
!0)},resizeIframe:function(){b.byId("HtmlIframe").style.height=frames.campaignIframe.document.body.scrollHeight+"px"},showCampaignContent:function(){this.saveCampaignDetailsTab("content");this.resizeIframe()},saveCampaignDetailsTab:function(b){u(t.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/campaigns/save-campaign-details-state",{user_id:this.userAttrs.userId,section:b}),{handleAs:"json"}).then(function(a){},function(b){a.utils.setFlash(b,"error")})},translateToggle:function(a,b){var c="http://translate.google.com/translate?tl\x3den\x26u\x3d"+
escape(b);window.open(c+"\x26translate_to\x3den",a,"height\x3d500,width\x3d700")},sendEventSearchForm:function(a,c,d,f){a.preventDefault();a=b.byId(f).value;e.byId("event-search-subsection").setHref(t.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/campaigns/event-search",{user_id:c,cid:d,email:a}))},loadFilter:function(a){var c=null,c=null,e={filters:[{label:"Status",key:"status",type:"select",options:{save:"Saved",paused:"Paused",schedule:"Scheduled",sending:"sending",sent:"Sent",canceled:"Cancelled"}},
{label:"Created since...",key:"age",type:"select",options:{1:"One day ago",2:"Two days ago",7:"One week ago"}},{label:"List ID",key:"list_id",type:"text"},{label:"FROM Name",key:"from_name",type:"text"},{label:"FROM Email",key:"from_email",type:"text"},{label:"Title",key:"title",type:"text"},{label:"Subject",key:"subject",type:"text"},{label:"Parent Campaign",key:"parent",type:"text"},{label:"Include this parent",key:"include_parent",type:"checkbox"}]};"autoresponder"===a&&(e.target="autoresponders-list",
c=new m(e),b.byId("autoresponders-filters").appendChild(c.domNode),c=new d(e),b.byId("autoresponders-filters-message").appendChild(c.domNode));"automation"===a&&(e.target="automations-list",c=new m(e),b.byId("automations-filters").appendChild(c.domNode),c=new d(e),b.byId("automations-filters-message").appendChild(c.domNode));e.filters.unshift({label:"Type",key:"type",type:"select",options:{regular:"Regular",plaintext:"Plain text",variate:"Multivariate","variate-child":"Multivariate Child",absplit:"A/B Split",
rss:"RSS"}});"regular"===a&&(e.target="regular-list",c=new m(e),b.byId("campaigns-filters").appendChild(c.domNode),c=new d(e),b.byId("campaigns-filters-message").appendChild(c.domNode));"deleted"===a&&(e.target="deleted-campaigns-list",c=new m(e),b.byId("deleted-campaigns-filters").appendChild(c.domNode),c=new d(e),b.byId("deleted-campaigns-filters-message").appendChild(c.domNode));"deleted-automation"===a&&(e.target="deleted-automations-list",c=new m(e),b.byId("deleted-automations-filters").appendChild(c.domNode),
c=new d(e),b.byId("deleted-automations-filters-message").appendChild(c.domNode))}})})},"mojo/views/peaches2/users/campaigns/regular":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr dojo/on dojo/topic dijit/registry".split(" "),function(l,k,h,f,a,c,e){return l([h],{pageJs:null,elId:null,regularListRendered:null,onReady:function(){var a=this;c.subscribe("mojo/analytics/List/regular-list/render",k.hitch(this,function(c){var b=this.pageJs;a.pageJs.tabContainer.regularSection.set("title",
"Email Campaigns ("+c.total+")");this.regularListRendered||(this.regularListRendered=!0,b.loadFilter("regular"))}))}})})},"mojo/views/peaches2/users/billing/billing-setup":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/dom-style dojo/dom-class mojo/app/peaches2/utils mojo/url".split(" "),function(l,k,h,f,a,c,e,m){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;this.$group.submitDateForm.forEach(function(b){f(b,"click",function(b){b.stopPropagation();
b.preventDefault();e.utils.sendFormViaAjax(this.parentElement).then(function(){a.pageJs.tabContainer.billingSetupSection.setHref(m.toUrl("peaches2/"+a.pageJs.userAttrs.agentRole+"/users/billing?user_id\x3d"+a.pageJs.userAttrs.userId+"\x26_s\x3dbilling-setup"))})})});this.$el.firstPaymentInputEdit&&f(this.$el.firstPaymentInputEdit,"click",function(){c.remove(a.$el.firstPaymentInput,"hide");c.add(a.$el.firstPaymentInputEdit,"hide")});this.$el.lastPaymentInputEdit&&f(this.$el.lastPaymentInputEdit,"click",
function(){c.remove(a.$el.lastPaymentInput,"hide");c.add(a.$el.lastPaymentInputEdit,"hide")});this.$el.monthlyStartDateInputEdit&&f(this.$el.monthlyStartDateInputEdit,"click",function(){c.remove(a.$el.monthlyStartDateInput,"hide");c.add(a.$el.monthlyStartDateInputEdit,"hide")});this.$el.monthlyPaymentFailedInputEdit&&f(this.$el.monthlyPaymentFailedInputEdit,"click",function(){c.remove(a.$el.monthlyPaymentFailedInput,"hide");c.add(a.$el.monthlyPaymentFailedInputEdit,"hide")});this.$el.monthlyPlanRadio.checked&&
c.add(this.$el.paygoPlanSelect,"hide");this.$el.paygoPlanRadio.checked&&c.add(this.$el.monthlyPlanSelect,"hide");f(this.$el.monthlyPlanRadio,"change",function(){a.$el.monthlyPlanRadio.checked&&(c.toggle(a.$el.monthlyPlanSelect,"hide"),c.toggle(a.$el.paygoPlanSelect,"hide"))});f(this.$el.paygoPlanRadio,"change",function(){a.$el.paygoPlanRadio.checked&&(c.toggle(a.$el.monthlyPlanSelect,"hide"),c.toggle(a.$el.paygoPlanSelect,"hide"))})},cancelEdit:function(a,b){c.add(this.$el[a],"hide");c.remove(this.$el[b],
"hide")}})})},"mojo/views/peaches2/users/billing/credit-account":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/array dojo/dom-attr dojo/on dojo/dom-class mojo/url dojo/request/xhr mojo/app/peaches2/utils dojo/dom".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([k],{pageJs:null,elId:null,onReady:function(){var b=this;this.totalCreditsInput=this.$el.totalCreditsInput;var d=0;h.forEach(this.$group.creditTypeRadio,function(e,f){c.contains(b.$group.creditTypeWrap[f],"hide")||(d=
f);a(e,"change",function(){b.saveCreditTypeState(e.value);c.add(b.$group.creditTypeWrap[d],"hide");c.remove(b.$group.creditTypeWrap[f],"hide");d=f})});a(this.$el.creditAccountForm,"submit",function(a){a.stopPropagation();a.preventDefault();b.validateCreditAccountForm()});var e=this.$el.currentMonkeyRewardsInput,f=this.$el.monkeyRewardsToCreditInput,k=this.$el.monkeyRewardsTotalAmount;a(f,"keyup",function(){b.setCreditAccount(f.value,e.value,k,!0)});a(f,"change",function(){b.setCreditAccount(f.value,
e.value,k,!0)});var l=this.$el.currentMonthsInput,m=this.$el.monthsToCreditInput,v=this.$el.creditMonthsTotalAmount;l&&(a(m,"keyup",function(){b.setCreditAccount(m.value,l.value,v,!0)}),a(m,"change",function(){b.setCreditAccount(m.value,l.value,v,!0)}));var y=this.$el.currentFreeMandrillMonthlyBlocksInput,x=this.$el.freeMandrillMonthlyBlocksToCreditInput,A=this.$el.freeMandrillMonthlyBlocksTotalAmount;y&&(a(x,"keyup",function(){b.setCreditAccount(x.value,y.value,A,!0)}),a(x,"change",function(){b.setCreditAccount(x.value,
y.value,A,!0)}));var z=this.$el.currentMandrillBlocksInput,B=this.$el.mandrillBlocksToCreditInput,C=this.$el.mandrillBlocksTotalAmount;B&&(a(B,"change",function(){b.setCreditAccount(B.value,z.value,C,!0)}),a(B,"keyup",function(){b.setCreditAccount(B.value,z.value,C,!0)}));var D=this.$el.otherCreditsToCreditInput;D&&(a(D,"change",function(){b.totalCreditsInput.value=D.value}),a(D,"keyup",function(){b.totalCreditsInput.value=D.value}))},saveCreditTypeState:function(a){m(e.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+
"/users/billing/save-credit-type-state",{user_id:this.pageJs.userAttrs.userId,type:a}),{handleAs:"json"})},parseCurrency:function(a){return a.replace(/,/g,"")},commaSeparateNumber:function(a){for(;/(\d+)(\d{3})/.test(a.toString());)a=a.toString().replace(/(\d+)(\d{3})/,"$1,$2");return a},setCreditAccount:function(a,b,c,d){b=this.parseCurrency(b);b=Number(a)+Number(b);var e=this.commaSeparateNumber(b.toFixed(2));this.totalCreditsInput.value=d?b.toFixed(2):a.toFixed(2);c.innerHTML=e},validateCreditAccountForm:function(){var a=
this.$el.totalCreditsInput,b=this.$el.creditAccountForm,e=this.$el.creditReasonInput;if(""===a.value||0>=a.value)return d.utils.setFlash("Can not set the balance to less than zero.","error"),!1;if(0===e.value.length)return d.utils.setFlash("Dont forget to add the Reason for this credit.","error"),c.add(this.$el.creditReasonInput,"invalid"),!1;b.submit()}})})},"mojo/views/peaches2/users/billing/credit-ledger":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/url mojo/app/peaches2/utils dojo/query dijit/registry".split(" "),
function(l,k,h,f,a,c,e,m){return l([k],{pageJs:null,elId:null,onReady:function(){},openCreditDetails:function(c){var b={title:"Credit Details: "+c,href:a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/billing",{_s:"credit-details",user_id:this.pageJs.userAttrs.userId,credit_id:c}),stub:"credit-details",closable:!0};this.pageJs.tabContainer.addNewPane(b,!0,c)},openConfirmVoidDialog:function(a){e("[data-element\x3d'creditVoidId']")[0].value=a;m.byId("confirm-void-dialog").show()}})})},"mojo/views/peaches2/users/billing/email-trace":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage".split(" "),
function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,onReady:function(){var e={target:"emails-left-list",filters:[{label:"Since",key:"from",type:"text"},{label:"Up to",key:"to",type:"text"}]},f=new a(e);this.$el.emailsLeftListFilters.appendChild(f.domNode);e=new c(e);this.$el.emailsLeftListFiltersMessage.appendChild(e.domNode)}})})},"mojo/views/peaches2/users/billing/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","mojo/app/peaches2/tabContainerUtil"],function(l,
k,h,f){return l([k],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule;if("order-details"===this.activeSection||"order-details-section"===h.getHashParams().t)(a=(new URL(window.location.href)).searchParams.get("order_id"))&&this.modules.orders.viewOrderDetails(a),h.getHashParams().id&&this.modules.orders.viewOrderDetails(h.getHashParams().id);
if("credit-details"===this.activeSection||"credit-details-section"===h.getHashParams().t)(a=(new URL(window.location.href)).searchParams.get("credit_id"))&&this.modules.creditLedger.openCreditDetails(a),h.getHashParams().id&&this.modules.creditLedger.openCreditDetails(h.getHashParams().id)}})})},"mojo/views/peaches2/users/billing/orders":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/url dojo/topic".split(" "),function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,
onReady:function(){var a=this;c.subscribe("mojo/analytics/List/orders-list/render",function(c){a.parse(a.elId);a.$group.viewOrderDetailsLink&&a.$group.viewOrderDetailsLink.forEach(function(c){f(c,"click",function(){a.viewOrderDetails(h.get(c,"data-order-id"))})})})},viewOrderDetails:function(c){var f=this,d={title:"Order Details: "+c,href:a.toUrl("/peaches2/"+f.pageJs.userAttrs.agentRole+"/users/billing",{_s:"order-details",user_id:f.pageJs.userAttrs.userId,order_id:c}),stub:"order-details",closable:!0,
onClose:function(){f.pageJs.tabContainer.orderDetailsSection=null;return!0}};this.pageJs.tabContainer.addNewPane(d,!0,c)},refundOrder:function(a,c,d,b,f,h){this.$el.refundOrderId.value=a;this.$el.refundWarningText.innerHTML="Are you sure you want to refund order "+a+" on "+b+"?  This will reduce revenue by the amount refunded.";this.$el.refundAmount.value=c;this.$el.checkRefundRules.value=h;this.$widget.refundWarningArea.show()},retryOrder:function(a){this.$el.retryOrderId.value=a;this.$el.retryWarningText.innerHTML=
"Are you sure you want to retry order "+a+"?";this.$widget.retryWarningArea.show()},openChargeback:function(a){this.$el.openChargebackId.value=a;this.$el.openChargebackWarningText.innerHTML="Are you sure you want to open a chargeback on \x3cstrong\x3eorder "+a+"\x3c/strong\x3e? \x3cbr/\x3eIt's sure to disable sending until the user pays it back.";this.$widget.openChargebackWarningArea.show()},voidChargeback:function(a){this.$el.voidChargebackId.value=a;this.$el.voidChargebackWarningText.innerHTML=
"Are you sure you want to void the chargeback on \x3cstrong\x3eorder "+a+"\x3c/strong\x3e?";this.$widget.voidChargebackWarningArea.show()},cancelRetries:function(a){this.$el.cancelRetriesId.value=a;this.$el.cancelRetriesWarningText.innerHTML="Are you sure you want to cancel retries on \x3cstrong\x3eorder "+a+"\x3c/strong\x3e?";this.$widget.cancelRetriesWarningArea.show()}})})},"mojo/views/peaches2/users/billing/pre-pay":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr","dojo/on",
"mojo/app/peaches2/utils"],function(l,k,h,f,a){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this,e=this.$el.prePayCreditsSelect;this.updateCreditsAmount(e.options[e.selectedIndex].text);f(this.$el.prePayCreditsSelect,"change",function(){a.updateCreditsAmount(this.options[this.selectedIndex].text)});f(this.$el.prePayCreditsForm,"submit",function(e){e.preventDefault();e.stopPropagation();a.validatePrepayCreditsForm()});f(this.$el.prePayMonthlyForm,"submit",function(e){e.preventDefault();
e.stopPropagation();a.validatePrepayMonthlyForm()})},updateCreditsAmount:function(a){a=a.match(/\$[0-9]+(\.[0-9][0-9])?/g)[0].replace("$","");this.$el.prePayCreditsAmount.value=a},validatePrepayCreditsForm:function(){if(0>=this.$el.prePayCreditsAmount.value.length)return a.utils.setFlash("Please enter a value","error"),!1;this.$el.prePayCreditsForm.submit()},validatePrepayMonthlyForm:function(){if(0>=this.$el.prePayAmountInput.value.length)return a.utils.setFlash("Please enter a value","error"),!1;
if(""===this.$el.prePayMonthlyPlanSelect.value)return a.utils.setFlash("Please enter an option from the select box","error"),!1;this.$el.prePayMonthlyForm.submit()}})})},"mojo/views/peaches2/users/ads/facebook-deleted":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/topic dojo/_base/lang".split(" "),function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,onReady:function(){var c=this;c.pageJs.loadFilter("facebook-deleted");c.parse();a.subscribe("mojo/analytics/List/facebook-deleted-list/render",
function(a){c.$group.facebookDeletedAdId&&c.$group.facebookDeletedAdId.forEach(function(a){f(a,"click",function(){c.pageJs.viewAdDetails(h.get(a,"data-campaign-id"))})})})}})})},"mojo/views/peaches2/users/ads/facebook":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/topic dojo/_base/lang".split(" "),function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,onReady:function(){var c=this;c.pageJs.loadFilter("facebook");c.parse();a.subscribe("mojo/analytics/List/facebook-list/render",
function(a){c.$group.facebookAdId&&c.$group.facebookAdId.forEach(function(a){f(a,"click",function(){c.pageJs.viewAdDetails(h.get(a,"data-campaign-id"))})})})}})})},"mojo/views/peaches2/users/ads/index":function(){define("dojo/_base/declare dojo/topic mojo/views/_base mojo/url mojo/app/peaches2/tabContainerUtil mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage dijit/registry".split(" "),function(l,k,h,f,a,c,e,m){return l([h],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,
onReady:function(){var c=this;this.pageTabs.forEach(function(a){a.preload=!0});var b=new a;b.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=b;this.modules=this.tabContainer.viewModule;k.subscribe("mojo/analytics/List/facebook-deleted-list/render",function(a){c.parse();b.facebookDeletedSection.set("title","Deleted Facebook Ads ("+a.total+")")});k.subscribe("mojo/analytics/List/facebook-list/render",function(a){c.parse();b.facebookSection.set("title","Facebook Ads ("+
a.total+")")});if("ad-details"===this.activeSection||"ad-details-section"===f.getHashParams().t){var e=(new URL(window.location.href)).searchParams.get("ad_id");e&&this.viewAdDetails(e);f.getHashParams().id&&this.viewAdDetails(f.getHashParams().id)}},viewAdDetails:function(a){var b=this,c={title:"Ad Details: "+a,href:f.toUrl("/peaches2/"+b.userAttrs.agentRole+"/users/ads",{_s:"ad-details",user_id:b.userAttrs.userId,ad_id:a}),stub:"ad-details",closable:!0,onClose:function(){b.tabContainer.adDetailsSection=
null;return!0}};this.tabContainer.addNewPane(c,!0,a)},loadFilter:function(a){var b,f={filters:[{label:"Status",key:"status",type:"select",options:{save:"Saved",paused:"Paused",schedule:"Scheduled",sending:"sending",sent:"Sent",canceled:"Cancelled"}},{label:"Created since...",key:"age",type:"select",options:{1:"One day ago",2:"Two days ago",7:"One week ago"}},{label:"List ID",key:"list_id",type:"text"},{label:"FROM Name",key:"from_name",type:"text"},{label:"FROM Email",key:"from_email",type:"text"},
{label:"Title",key:"title",type:"text"},{label:"Subject",key:"subject",type:"text"},{label:"Parent Campaign",key:"parent",type:"text"},{label:"Include this parent",key:"include_parent",type:"checkbox"}]};"facebook-deleted"===a&&(f.target="facebook-deleted-list",b=new c(f),this.$el.facebookDeletedFilters.appendChild(b.domNode),b=new e(f),this.$el.facebookDeletedFiltersMessage.appendChild(b.domNode));"facebook"===a&&(f.target="facebook-list",b=new c(f),this.$el.facebookFilters.appendChild(b.domNode),
b=new e(f),this.$el.facebookFiltersMessage.appendChild(b.domNode))},cancelAd:function(a){this.adId=a;this.$widget.cancelAdDialog.show()},doAdCancel:function(){window.location=f.toUrl("/peaches2/"+this.userAttrs.agentRold+"/users/ads/ad-cancel?user_id\x3d"+this.userAttrs.userId+"\x26ad_id\x3d"+this.adId)},reconcileAd:function(a){this.adUniqueId=a;this.$widget.reconcileAdDialog.show()},doReconcile:function(){window.location=f.toUrl("/peaches2/users/ads/reconcile-ad?user_id\x3d"+this.userAttrs.userId+
"\x26id\x3d"+this.adUniqueId)}})})},"mojo/views/peaches2/users/account/cleanup":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-style","dojo/on"],function(l,k,h,f){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;f(this.$el.actionSelect,"change",function(c){var e=this.value;a.$group.actionForm.forEach(function(a){e===a.id?h.set(a,"display","block"):h.set(a,"display","none")})})}})})},"mojo/views/peaches2/users/account/dkim":function(){define("dojo/_base/declare mojo/views/_base dojo/on mojo/url dojo/request/xhr mojo/app/peaches2/utils".split(" "),
function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;h(this.$el.dkimKeyName,"change",function(){a.populateForm()});h(this.$el.dkimGenerateButton,"click",function(){a.generateDkim()});h(this.$el.dkimDeleteButton,"click",function(){a.deleteKey()});this.$el.dkimKeyChanges.onsubmit=function(){a.$el.dkimDomain.disabled=!1;a.$el.dkimSelector.disabled=!1}},generateDkim:function(){var e=this;a(f.toUrl("/peaches2/"+e.pageJs.userAttrs.agentRole+"/users/account/dkim-generate"),
{query:{user_id:e.pageJs.userAttrs.userId}}).then(function(a){e.$el.dkimKeyData.value=a},function(a){c.utils.setFlash(a,"error")})},deleteKey:function(){var e=this.$el.dkimKeyName.value;a(f.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/account/dkim-delete-key"),{query:{user_id:this.pageJs.userAttrs.userId,id:e}}).then(function(a){location.reload()},function(a){c.utils.setFlash(a,"error")})},populateForm:function(){var e=this,h=this.$el.dkimKeyName.value;"new"===h?(this.$el.dkimDomain.disabled=
!1,this.$el.dkimSelector.disabled=!1,this.$el.dkimDomain.value="",this.$el.dkimSelector.value="",e.$el.dkimKeyData.value=""):(e.$el.dkimDomain.disabled=!0,this.$el.dkimSelector.disabled=!0,a(f.toUrl("/peaches2/"+e.pageJs.userAttrs.agentRole+"/users/account/dkim-get-data"),{query:{user_id:e.pageJs.userAttrs.userId,id:h},handleAs:"json"}).then(function(a){e.$el.dkimSelector.value=a.selector;e.$el.dkimDomain.value=a.domain;e.$el.dkimKeyData.value=a.key_data},function(a){c.utils.setFlash(a,"error")}))}})})},
"mojo/views/peaches2/users/account/features":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr","dojo/on"],function(l,k,h,f){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;this.$group.addFeatureButtons&&this.$group.addFeatureButtons.forEach(function(c){f(c,"click",function(){a.addFeature(h.get(c,"data-feature-id"),h.get(c,"data-feature-name"))})});this.$group.removeFeatureButtons&&this.$group.removeFeatureButtons.forEach(function(c){f(c,"click",function(){a.removeFeature(h.get(c,
"data-feature-id"),h.get(c,"data-feature-name"))})})},addFeature:function(a,c){this.$el.featureId.value=a;this.$el.featureStartTime.value="";this.$el.featureEndTime.value="";this.$el.addFeatureText.innerHTML="Do you want to add \x3cstrong\x3e"+c+"\x3c/strong\x3e to this user?";this.$widget.addFeatureDialog.show()},removeFeature:function(a,c){this.$el.featureRemoveId.value=a;this.$el.removeFeatureText.innerHTML="Are you sure you want to remove \x3cstrong\x3e"+c+"\x3c/strong\x3e from this user?";this.$widget.removeFeatureDialog.show()}})})},
"mojo/views/peaches2/users/account/index":function(){define("dojo/_base/kernel dojo/_base/declare mojo/views/_base dojo/request/xhr dojo/query mojo/url mojo/app/peaches2/tabContainerUtil".split(" "),function(l,k,h,f,a,c,e){var m=function(a){var b="";a.forEach(function(a){""!==b&&(b+="\x3cspan\x3e\x26nbsp;\x3c/span\x3e");b+="\x3cspan class\x3d'badge success fwb'\x3e"+a.address1+(0<a.address2.length?" "+a.address2:"")+", "+a.city+", "+a.state+", "+a.zip+" ["+a.footnotes+"]"+("AABB"===a.footnotes?" \x3cspan class\x3d'badge new' title\x3d'Recommended Address'\x3eRecommended\x3c/span\x3e":
"")+"\x3c/span\x3e\x3cbr/\x3e"});return b},d=function(a){var b="\x3ch4 class\x3d'padding-top--lv2'\x3eAddress Verification Results\x3c/h4\x3e\x3cul class\x3d'leaders'\x3e\x3cli\x3e\x3cspan\x3eValid: \x3c/span\x3e";a.is_valid?b+="\x3cspan class\x3d'fwb badge success'\x3eYes\x3c/span\x3e\x3c/li\x3e":(b+=!1===a.is_valid?"\x3cspan class\x3d'fwb badge error'\x3eNo\x3c/span\x3e\x3c/li\x3e":"\x3cspan class\x3d'fwb badge'\x3eN/A\x3c/span\x3e\x3c/li\x3e",b+="\x3cli\x3e\x3cspan\x3eReason:\x3c/span\x3e\x3cspan class\x3d'badge error fwb'\x3e"+
(a.is_valid?"N/A":a.exception?a.exception:a.results&&0!==a.results.length?1<a.results.length?"Multiple address suggestions returned in API response":"":"No valid address suggestions returned in API response (invalid address)")+"\x3c/li\x3e");a.results&&(b+="\x3cli\x3e\x3cspan\x3eCandidates: \x3c/span\x3e"+m(a.results)+"\x3c/li\x3e");return b+"\x3c/ul\x3e"},b={};return k([h],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var a=new e;a.createContentPanes(this.$el.informationTabs,
this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule;"login-details"===this.activeSection&&this.modules.viewLogins.viewLoginDetails(window.location.href,"");if("login-details"===this.activeSection||"login-details-section"===c.getHashParams().t)(a=(new URL(window.location.href)).searchParams.get("login_id"))&&this.modules.viewLogins.viewLoginDetails(a),c.getHashParams().id&&this.modules.viewLogins.viewLoginDetails(c.getHashParams().id);if("swag-history"===this.activeSection||
"swag-history-section"===c.getHashParams().t)(a=(new URL(window.location.href)).searchParams.get("user_id"))&&this.modules.summary.showSwagHistory(a),c.getHashParams().id&&this.modules.summary.showSwagHistory(c.getHashParams().id)},clearValidationResults:function(a,b){confirm("Are you sure you want to clear the validation results for this customer?")?f(c.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/account",{_s:"clear-address-validation-results",user_id:a}),{handleAs:"json"}).then(function(){location.reload()}):
b.preventDefault()},saveValidationResults:function(a){f(c.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/account",{_s:"save-address-validation-results",user_id:a,address_is_valid:b.validation_level}),{handleAs:"json"}).then(function(){location.reload()})},validateAddressClick:function(e){var h=a("#verificationResults"),k=a("#btSaveValidationResults");h.empty();h.append("Loading...");l.hasClass("btSaveValidationResults","hide")||k.addClass("hide");f(c.toUrl("/peaches2/"+this.userAttrs.agentRole+
"/users/account",{_s:"validate-address",user_id:e}),{handleAs:"json"}).then(function(a){h.empty();h.append(d(a));b=a;null!==a.is_valid&&k.removeClass("hide")})},refreshUserActivityPane:function(a,b,d){this.tabContainer.userActivitySection&&(a=c.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/account",{_s:"user-activity",type:"undefined"!==typeof d?d:"",user_id:a,page:b}),this.tabContainer.userActivitySection.setHref(a))}})})},"mojo/views/peaches2/users/account/queues":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr mojo/app/peaches2/utils dojo/on mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage".split(" "),
function(l,k,h,f,a,c,e,m){return l([h],{pageJs:null,elId:null,onReady:function(){}})})},"mojo/views/peaches2/users/account/summary":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/url dojo/dom-class dojo/dom dojo/dom-style mojo/app/peaches2/utils".split(" "),function(l,k,h,f,a,c,e,m,d){return l([k],{pageJs:null,elId:null,editingSummary:!1,onReady:function(){var a=this;c.remove(this.$el.editSummaryButton,"hide");f(this.$el.editSummaryButton,"click",function(){a.editSummary()})},
editSummary:function(){var b=a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/account/edit-summary",{user_id:this.pageJs.userAttrs.userId});this.pageJs.tabContainer.summarySection.set("href",b);this.hideEditSummaryButton(!0);this.editingSummary=!0},saveSummary:function(a){a.preventDefault();var c=this;d.utils.sendFormViaAjax("edit-summary-form").then(function(){c.viewSummary();d.utils.updateUserTags(c.pageJs.userAttrs)})},viewSummary:function(){var b=a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+
"/users/account",{user_id:this.pageJs.userAttrs.userId,_s:"summary"});this.pageJs.tabContainer.summarySection.set("href",b);this.editingSummary=!1;this.hideEditSummaryButton(!1)},hideEditSummaryButton:function(a){var d=this.$el.editSummaryButton;if(!d)return!1;!0===a||!0===this.editingSummary?c.add(d,"hide"):c.remove(d,"hide")},showSwagHistory:function(){var b=this,c={title:"Swag History",href:a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/account/swag-history",{user_id:this.pageJs.userAttrs.userId}),
stub:"swag-history",closable:!0,onClose:function(){b.pageJs.tabContainer.swagHistorySection=null;return!0}};this.pageJs.tabContainer.addNewPane(c,!0)},showSegmentLogging:function(){var b=this,c={title:"Pro Segment",href:a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/account/pro-logging",{user_id:this.pageJs.userAttrs.userId}),stub:"pro-segment",closable:!0,onClose:function(){b.pageJs.tabContainer.proSegmentSection=null;return!0}};this.pageJs.tabContainer.addNewPane(c,!0)},toggle:function(a){"none"===
m.get(e.byId(a),"display")?m.set(e.byId(a),"display","block"):m.set(a,"display","none")}})})},"mojo/views/peaches2/users/account/view-logins":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr","mojo/url","dojo/on"],function(l,k,h,f,a){return l([k],{pageJs:null,elId:null,onReady:function(){var c=this;this.$group.viewLoginAccount&&this.$group.viewLoginAccount.forEach(function(e){a(e,"click",function(){c.viewLoginDetails(h.get(e,"data-id"),h.get(e,"data-name"))})});"login-details"===
this.activeSection&&this.viewLoginDetails(window.location.href)},viewLoginDetails:function(a,e){var h=this,d={title:"Login Details: "+e,href:f.toUrl("/peaches2/"+h.pageJs.userAttrs.agentRole+"/users/account",{_s:"login-details",user_id:h.pageJs.userAttrs.userId,login_id:a}),stub:"login-details",closable:!0,onClose:function(){h.pageJs.tabContainer.loginDetailsSection=null;return!0}};this.pageJs.tabContainer.addNewPane(d,!0,a)}})})},"mojo/views/peaches2/tools/user-search/index":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom dojo/on dojo/request dojo/dom-form dojo/io-query mojo/url mojo/utils".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([k],{onReady:function(){this._setupFieldSelector();this._setupSaveFields();this._setupSearchForm()},_setupFieldSelector:function(){a(this.$el.selectField,"input",function(){if(f.byId(this.value)){var a=f.byId(this.value);a.parentElement.parentElement.parentElement.style.display="block";a.scrollIntoView();a.checked=!0}})},_setupSaveFields:function(){var f=this,h=function(a){b.toast("Preferences Saved")},k=function(a){b.toast("There was an error saving data. Please visit the Preferences page to continue",
"error")};a(this.$el.saveFieldLink,"click",function(a){c.post(d.toUrl("/peaches2/tools/user-search/save-settings/"),{data:e.toObject(f.$el.defaultFieldsForm),handleAs:"text"}).then(h,k)})},_setupSearchForm:function(){a(this.$el.searchForm,"submit",h.hitch(this,function(a){a.stopPropagation();a.preventDefault();this._performSearch()}));a(this.$el.applyFilterBtn,"click",h.hitch(this,function(a){this._performSearch()}));a(this.$el.clearFilterBtn,"click",h.hitch(this,"_clearFilters"))},_performSearch:function(){var a=
e.toObject(this.$el.searchForm);this.$group.fieldInput.forEach(function(b){b.value&&(a[b.name]=b.value)});document.location.href=this.$el.searchForm.action+"?"+m.objectToQuery(a)},_clearFilters:function(a){a.stopPropagation();a.preventDefault();this.$group.fieldInput.forEach(function(a){a.value=""})}})})},"mojo/views/peaches2/tools/support-queues/create":function(){define("dojo/dom dojo/dom-class dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr mojo/app/peaches2/utils dojo/on dojo/query".split(" "),
function(l,k,h,f,a,c,e,m,d){return h([a],{pageJs:null,elId:null,onReady:function(){var a=d(".channel-select input[type\x3dradio]"),c=l.byId("group-select"),e=l.byId("department-select");a.forEach(function(a){a.checked&&("email"===a.id&&(k.remove(c,"hide"),k.add(e,"hide")),"chat"===a.id&&(k.add(c,"hide"),k.remove(e,"hide")))});m(a,"change",function(){"email"===this.id&&(k.remove(c,"hide"),k.add(e,"hide"));"chat"===this.id&&(k.add(c,"hide"),k.remove(e,"hide"))})}})})},"mojo/views/peaches2/tools/support-queues/index":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr mojo/app/peaches2/utils dojo/on dojo/query mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage dijit/registry".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([h],{pageJs:null,elId:null,onReady:function(){var a={target:"list",filters:[{label:"Name",key:"name",type:"text"},{label:"Channel",key:"channel",type:"select",options:{email:"Email",chat:"Chat"}},{label:"Tag",key:"tag",type:"text"},{label:"Group",key:"group",type:"text"}]},b=new m(a);this.$el.listFilters.appendChild(b.domNode);a=new d(a);this.$el.listFiltersMessage.appendChild(a.domNode)},openDeleteDialog:function(a,c){e("[data-element\x3d'deleteRouteName']")[0].innerHTML=
a;e("[data-element\x3d'deleteRouteId']")[0].value=c;b.byId("deleteRouteModal").show()},openClearDialog:function(a,c){e("[data-element\x3d'clearRouteName']")[0].innerHTML=a;e("[data-element\x3d'clearRouteId']")[0].value=c;b.byId("clearRouteModal").show()},closeModal:function(a){b.byId(a).hide()}})})},"mojo/views/peaches2/tools/statsbot/edit":function(){define("dojo/_base/declare dojo/dom dojo/on dojo/dom-class dojo/dom-attr dojo/query dojo/dom-style dojo/fx dojo/_base/fx dojo/ready dojo/dom-construct dojo/_base/lang dojo/dnd/Source dojo/NodeList-traverse dojo/request/xhr dojo/topic dojo/aspect dijit/registry dijit/layout/ContentPane dijit/InlineEditBox dijit/form/TextBox mojo/utils mojo/peaches mojo/url mojo/views/_base".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D){return l([D],{onReady:function(){var a=this,b=this.channel;this.channel_groups.forEach(function(c){a.addGroupTab(b.channel_id,c.group_id)});h(this.$el.addGroupBtn,"click",function(){a.addGroup(b.channel_id)});h(this.$el.confirmDeleteGroupBtn,"click",function(){a.closeDeleteModal();a.deleteGroup()})},getTargetContainer:function(a){return c("[data-mc-el\x3d'stats-target-"+a+"']")[0]},getSourceContainer:function(a){return c("[data-mc-el\x3d'stats-source-"+
a+"']")[0]},getTabContainer:function(){return self.tabContainer},getTabPane:function(a){return v.byId(c("[data-group-id\x3d'"+a+"']")[0].id)},getStatStatus:function(a){return c(".status",a)[0]},getTestBtn:function(a){return c("[data-mc-el\x3d'testGroupBtn']",this.getTabPane(a).id)[0]},getStatTitle:function(a){return c(".title",a)[0]},registerTab:function(a,b){var d=k.byId("filtered-search-"+a),e=c("#filtered-input-filtered-search-"+a,b.id)[0],f=this.getSourceContainer(a),l=c(".statsBot-stat",f),m=
c("[data-mc-el\x3d'testGroupBtn']",b.id)[0],n=c("[data-mc-el\x3d'period-"+a+"']",b.id)[0],q=c("[data-mc-el\x3d'frequency-"+a+"']",b.id)[0],r=c("[data-mc-el\x3d'frequency-monthly-"+a+"']",b.id)[0],t=v.byId("frequency-weekly-"+a);c(".statsBot-stat",b.id).forEach(p.hitch(this,function(c){h(c,"click",p.hitch(this,function(){this.toggleStat(c,b,a)}))}));c(".statsBot-category",b.id).forEach(p.hitch(this,function(a){h(a,"click",p.hitch(this,function(){this.toggleCategory(a)}))}));h(d,"click",p.hitch(this,
function(){""===e.value&&this.showAll(l)}));h(e,"keyup",p.hitch(this,function(){""===e.value&&this.showAll(l)}));u.subscribe("search/filter-"+a,p.hitch(this,function(a){""!==a?this.filter(a,l):this.showAll(l)}));h(m,"click",p.hitch(this,function(){this.disableTestSendBtn(a);this.testSend(a)}));this.enabled.forEach(p.hitch(this,function(d){if(d.group_id===a){var e=c("[data-key-name\x3d'"+d.name+"']",f)[0],h=this.enableStat(e,b,a,!1);null!==d.title?this.setStatTitle(h,d.title):this.disableStatTitle(h);
this.expandCategory(c(".statsBot-category",e.parentNode.parentNode)[0],b,a)}}));h(q,"change",p.hitch(this,function(c){this.updateFrequencyDisplay(c.target.value,b,a);this.updatePaneTitle(b,a);this.save(this.channel.channel_id)}));h(n,"change",p.hitch(this,function(){this.updatePaneTitle(b,a);this.save(this.channel.channel_id)}));h(t,"change",p.hitch(this,function(){this.updatePaneTitle(b,a)}));h(r,"change",p.hitch(this,function(){this.updatePaneTitle(b,a);this.save(this.channel.channel_id)}));this.updateFrequencyDisplay(q.value,
b,a);if(this.channel_groups[a]){var x=this.channel_groups[a].frequency_data;x.weekly&&t.options.forEach(p.hitch(this,function(a){x.weekly.includes(a.dayOfWeek)?a.selected=!0:a.selected=!1}));t.onChange()}h(t,"change",p.hitch(this,function(){t.focused&&this.save(this.channel.channel_id)}));w.after(self["stats-dnd-"+a],"onDrop",p.hitch(this,function(){this.save(this.channel.channel_id)}))},updatePaneTitle:function(a,b){a.set("title",this.getGroupName(b))},save:function(a){var b=[];this.getTabContainer().getChildren().forEach(p.hitch(this,
function(a){a=a["data-group-id"];var d=self["stats-dnd-"+a];if(void 0!==d){var e=[];d.getAllNodes().forEach(p.hitch(this,function(a){a={title:this.getStatTitle(a).innerText,title_is_visible:this.isStatTitleVisible(a),key:a.getAttribute("data-key-name")};e.push(a)}));var f=[];v.byId("frequency-weekly-"+a).options.forEach(p.hitch(this,function(a){a.selected&&f.push(a.dayOfWeek)}));b[a]={stats:e,period:c("[data-mc-el\x3d'period-"+a+"']")[0].value,frequency_selector:c("[data-mc-el\x3d'frequency-"+a+"']")[0].value,
frequency_monthly:c("[data-mc-el\x3d'frequency-monthly-"+a+"']")[0].value,frequency_weekly:f}}}));a={channel_id:a,groups:JSON.stringify(b)};t.post(C.toUrl("/peaches2/tools/statsbot/save"),{handleAs:"json",sync:!1,data:a}).then(function(a){a.success?z.toast(a.message,"message"):z.toast(a.message,"error")})},testSend:function(a){self["stats-dnd-"+a].getAllNodes();var b=c("[data-feedback-type\x3d'working'",this.getTabPane(a).id);b.style("display","block");var d={slack_user_id:this.slackUserId,group_id:a,
channel_id:this.channel.channel_id};t.post(C.toUrl("/peaches2/tools/statsbot/test-send"),{handleAs:"json",sync:!1,data:d}).then(p.hitch(this,function(c){b.style("display","none");this.enableTestSendBtn(a);c.success||z.toast(c.message,"error")}))},disableTestSendBtn:function(a){a=this.getTestBtn(a);f.add(a,"disabled")},enableTestSendBtn:function(a){a=this.getTestBtn(a);f.remove(a,"disabled")},unsetEnabledStats:function(a){var b=[];this.enabled.forEach(p.hitch(this,function(c,d){c.group_id===parseInt(a,
10)&&b.push(d)}));b.reverse().forEach(p.hitch(this,function(a){this.enabled.splice(a,1)}))},toggleCategory:function(a,b,c){f.contains(a,"expanded")?this.collapseCategory(a,b,c):this.expandCategory(a,b,c)},expandCategory:function(a){var b=c(".stat-container",a.parentNode)[0],d=c(".handle",a)[0];f.add(d,"menu-up");f.remove(d,"menu-down");m.wipeIn({node:b,duration:100,onEnd:p.hitch(this,function(){f.add(a,"expanded")})}).play()},collapseCategory:function(a){var b=c(".stat-container",a.parentNode)[0],
d=c(".handle",a)[0];f.add(d,"menu-down");f.remove(d,"menu-up");f.remove(b,"expanded");m.wipeOut({node:b,duration:100,onEnd:p.hitch(this,function(){f.remove(a,"expanded")})}).play()},toggleStat:function(a,b,c){f.contains(a,"selected")?this.disableStat(a,b,c):this.enableStat(a,b,c)},enableStat:function(a,b,d,e){e="undefined"===typeof e?!0:e;var k=this.getTargetContainer(d),l=p.clone(a),q=c(".handle",l)[0],r=c(".status",l)[0],t=this.getStatStatus(a),v=c(".toggle-stat-title",l)[0];this.enableStatTitle(l);
f.remove(v,"hide");var u=this.getStatTitle(l),u=new x({editor:"dijit.form.TextBox",autoSave:!0,renderAsHtml:!0,noValueIndicator:"",width:"90%",title:"Edit Stat Title"},u);f.add(a,"selected");f.add(t,"tick");l.setAttribute("id",a.id+"-enabled");f.add(l,"dojoDndItem");f.add(q,"vellip");f.add(r,"cross");h(r,"click",p.hitch(this,function(){this.toggleStat(a,b,d)}));h(u,"change",p.hitch(this,function(){this.enableStatTitle(l);this.save(this.channel.channel_id)}));h(v,"click",p.hitch(this,function(){this.toggleStatTitle(l);
this.save(this.channel.channel_id)},l));n.place(l,k,"last");m.wipeIn({node:l,duration:100,onEnd:p.hitch(this,function(){!0===e&&this.save(this.channel.channel_id)})}).play();return l},disableStat:function(a,b,d){b=this.getTargetContainer(d);d=c(".status",a)[0];var e=c("#"+a.id+"-enabled",b)[0];f.remove(a,"selected");f.remove(d,"tick");e&&m.wipeOut({node:e,duration:100,onEnd:p.hitch(this,function(){n.destroy(e);this.save(this.channel.channel_id)})}).play()},isStatTitleVisible:function(a){a=this.getStatTitle(a);
return!f.contains(a,"title-disabled")},disableStatTitle:function(a){var b=c(".toggle-stat-title",a)[0];a=this.getStatTitle(a);f.remove(b,"eye");f.add(b,"eye-hide");f.add(a,"title-disabled")},enableStatTitle:function(a){var b=c(".toggle-stat-title",a)[0];a=this.getStatTitle(a);f.remove(b,"eye-hide");f.add(b,"eye");f.remove(a,"title-disabled")},toggleStatTitle:function(a){this.isStatTitleVisible(a)?this.disableStatTitle(a):this.enableStatTitle(a)},setStatTitle:function(a,b){var c=this.getStatTitle(a);
this.enableStatTitle(a);c.innerText=b},addGroup:function(a){var b={channel_id:a};t.post(C.toUrl("/peaches2/tools/statsbot/addGroup"),{handleAs:"json",sync:!1,data:b}).then(p.hitch(this,function(b){b.success?null!==b.group_id&&this.addGroupTab(a,b.group_id,!0):z.toast(b.message,"error")}))},deleteGroup:function(){var a=k.byId("deleteChannelId").value,b=k.byId("deleteGroupId").value,a={channel_id:a,group_id:b};t.post(C.toUrl("/peaches2/tools/statsbot/deleteGroup"),{handleAs:"json",sync:!1,data:a}).then(p.hitch(this,
function(a){a.success?(this.removeGroupTab(b),this.unsetEnabledStats(b),this.save(this.channel.channel_id),location.reload()):z.toast(a.message,"error")}))},addGroupTab:function(a,b,d){var e=c("#goose-egg")[0];f.add(e,"hide");var e=this.getTabContainer(),h=new y({title:this.getGroupName(b),closable:!1,selected:!1,href:C.toUrl("/peaches2/tools/statsbot/view-group",{channel_id:a,group_id:b}),preload:!0,onDownloadEnd:p.hitch(this,function(){this.registerTab(b,h)})});h.attr("data-group-id",b);e.addChild(h);
!0===d&&e.selectChild(h)},removeGroupTab:function(a){var b=this.getTabContainer();a=this.getTabPane(a);b.removeChild(a);a.destroyRecursive(!0);0===b.getChildren().length&&(b=c("#goose-egg")[0],f.remove(b,"hide"))},filter:function(b,d){var e=b.toLowerCase();this.showAll(d);d.forEach(p.hitch(this,function(b){var d=!1;[a.get(b,"id").toLowerCase(),c(".title",b)[0].textContent.toLowerCase(),c(".message",b)[0].textContent.toLowerCase()].forEach(function(a){-1<a.indexOf(e)&&(d=!0)});!1===d?f.add(b,"hide"):
(b=c(".statsBot-category",b.parentNode.parentNode)[0],this.expandCategory(b))}))},showAll:function(a){a.forEach(function(a){f.contains(a,"hide")&&f.remove(a,"hide")})},openDeleteModal:function(a,b){k.byId("deleteChannelId").value=a;k.byId("deleteGroupId").value=b;v.byId("deleteModal").show()},closeDeleteModal:function(){v.byId("deleteModal").hide()},getGroupName:function(a){return"Group "+(a+1)},updateFrequencyDisplay:function(b,d,e){c("[data-frequency-group]",d.id).forEach(function(c){a.get(c,"data-frequency-group")===
b?f.remove(c,"hide"):f.add(c,"hide")})}})})},"mojo/views/peaches2/tools/purifier-diff/index":function(){define("dojo/dom-construct dojo/_base/declare mojo/views/_base dojo/dom dojo/on dojo/request dojo/dom-form mojo/url dojo/_base/xhr dojo/query dojo/_base/array codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){return k([h],{onReady:function(){var b=this,d=b.$el.hiddenHtml,e=b.$el.hiddenDiffMode,f=b.$el.hiddenDiffTargets,h=b.$el.diffMode,
k=b.$el.diffTargets,n=b.$el.loadBtn,p=b.$el.clearBtn,A=this.applyCodeMirrorTo("template-html");a(A,"change",function(){d.value=A.getValue()});a(h,"change",function(){e.value=h.value});a(k,"change",function(){f.value=k.value});a(n,"click",function(){c.post(m.toUrl("/peaches2/tools/purifier-diff/generate-diff"),{data:{in_html:A.getValue(),diff_mode:h.value,diff_targets:k.value},handleAs:"text"}).then(function(a){b.$el.contentDom.innerHTML=a})});a(p,"click",function(){l.empty(b.$el.contentDom)});d.value=
"";e.value=h.value;f.value=k.value},applyCodeMirrorTo:function(a){var b=f.byId(a);if(b){var c=p.fromTextArea(b,{mode:"text/html",autofocus:!0,tabMode:"indent",indentUnit:2,smartIndent:!1,theme:"default",autoClearEmptyLines:!0,lineWrapping:!0,lineNumbers:!0});setTimeout(function(){c.setOption("theme","default")},5);var d=c.addLineClass(0,"activeline");c.on("cursorActivity",function(){var a=c.getLineHandle(c.getCursor().line);a!==d&&(c.removeLineClass(d,"background","activeline"),d=c.addLineClass(a,
"background","activeline"))});c.on("change",function(){b.value=c.getValue()});c.focus();return c}}})})},"mojo/views/peaches2/tools/delivery-search/index":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/_base/array dojo/on dojo/dom-geometry dojo/html dojo/query dojo/aspect dojo/dom dojo/dom-class dojo/dom-style dijit/registry mojo/url mojo/utils dgrid/Grid dgrid/Keyboard dgrid/extensions/DijitRegistry dojo/dom-construct".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,
u,w,v,y){var x=l([u,w,v]);return l([k],{searchResults:null,searchGrid:null,onReady:function(){null!==this.searchResults&&0<this.searchResults.length&&this.renderSearchResults()},renderSearchResults:function(){var a=this;this.searchGrid=new x({columns:{mail_type:{label:"",renderCell:function(b,c,d){b=a.formatStatus(c);y.place(y.toDom(b),d)}},timeQueued:"Start",timeLogged:"Finish",userId:"UID",campaignId:"CID",app:"App",from:"From Address",rcpt:"To Address",dsnDiag:"Message"}},this.$el.searchGrid);
this.searchGrid.on(".dgrid-header .dgrid-cell:click",function(b){b="field-"+a.searchGrid.cell(b).column.field;m("td."+b).forEach(function(a){n.add(a,"dgrid-sorted-cell")})});this.searchGrid.renderArray(this.searchResults);this.searchGrid.resize();this.searchGrid.set("sort","timeQueued")},formatStatus:function(a){switch(a){case "d":a="#c5e5de";break;case "b":a="#f5b7ab";break;default:a="#ffe8aa"}return'\x3cdiv class\x3d"freddicon conversation-fill-large" style\x3d"color: '+a+'"\x3e\x3c/div\x3e'}})})},
"mojo/views/peaches2/tools/adwords/account":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-construct dojo/dom-class dojo/currency dojo/when dgrid/OnDemandGrid dgrid/List dgrid/Selection dgrid/Keyboard dgrid/extensions/ColumnHider dgrid/extensions/DijitRegistry dijit/_TemplatedMixin dijit/_Widget dijit/registry dstore/Memory dojo/Stateful dojo/text!./templates/summary.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){var y=l([r,q],{templateString:v}),x=l([m,d,b],{selectionMode:"single"}),
A=function(a,b,c){return c.indexOf(a)===b};return l([k],{onReady:function(){this.createCampaignList();this.createAudiencesList();this.createAdList()},createCampaignList:function(){var c=new u({data:this.campaigns}),f=function(b){return a.format(b,{currency:"USD"})},f=[{field:"id",label:"Campaign ID"},{field:"name",label:"Name",hidden:!0},{field:"budget",label:"Budget",formatter:f},{field:"start_date",label:"Start Date"},{field:"end_date",label:"End Date",hidden:!0},{field:"impressions",label:"Impressions"},
{field:"clicks",label:"Clicks"},{field:"reach",label:"Reach",hidden:!0},{field:"conversions",label:"Conversions",hidden:!0},{field:"average_cpc",label:"Average CPC",hidden:!0},{field:"average_position",label:"Average Position",hidden:!0},{field:"ctr",label:"CTR",hidden:!0},{field:"cost",label:"Cost",formatter:f},{field:"status",label:"Status"},{field:"impression_share",label:"Impression Share",hidden:!0},{field:"budget_lost_impression_share",label:"Budget Lost IS",hidden:!0},{field:"rank_lost_impression_share",
label:"Rank Lost IS",hidden:!0}],h=new (l([e,d,b,n,p]))({collection:c,columns:f,allowTextSelection:!0},"campaign-list"),k=new w;k.watch(function(){if(this.status){var a=c.Filter();h.set("collection",c.filter(a.in("status",this.status)))}else h.collection!==c&&h.set("collection",c)});var m=t.byId("campaign-status-filter"),f=this.campaigns.map(function(a){return a.status}).filter(A).map(function(a){return{value:a,label:a,selected:!0}});m.addOption(f);m.on("change",function(){m.dropDownButton.set("label",
"Status");var a=m.getOptions().filter(function(a){return"string"===typeof a.value&&a.selected}).map(function(a){return a.value});k.set("status",a)});m.on("click",function(){m.dropDownButton.openDropDown()});h.startup()},createAudiencesList:function(){var a=new u({data:this.audiences});(new (l([e,d,b,n,p]))({collection:a,columns:[{field:"id",label:"Audience ID"},{field:"name",label:"Name",hidden:!0},{field:"type",label:"Type",hidden:!0},{field:"description",label:"Description"},{field:"size",label:"Size"},
{field:"status",label:"Status"}],allowTextSelection:!0},"audience-list")).startup()},createAdList:function(){var a,k,m=new u({data:this.ads});a=this.ads.map(function(a){return a.campaign_id}).filter(A);a.unshift("All Campaigns");var q=new x({},"ad-campaign-filter");q.renderArray(a);k=this.ads.map(function(a){return a.ad_group_id}).filter(A);k.unshift("All Ad Groups");var r=new x({},"ad-adgroup-filter");r.renderArray(k);var v=new (l([e,d,b,n,p]))({collection:m,columns:[{field:"id",label:"Ad ID"},{field:"ad_group_id",
label:"Ad Group ID",hidden:!0},{field:"campaign_id",label:"Campaign ID",hidden:!0},{field:"impressions",label:"Impressions"},{field:"clicks",label:"Clicks"},{field:"average_cpc",label:"Average CPC"},{field:"average_position",label:"Average Position",hidden:!0},{field:"conversions",label:"Conversions",hidden:!0},{field:"ctr",label:"CTR"},{field:"policy_summary",label:"Policy Summary",hidden:!0},{field:"status",label:"Status"}],allowTextSelection:!0,renderRow:function(a){var b=h.create("div");b.appendChild(e.prototype.renderRow.apply(this,
arguments));var c=h.create("div",{className:"expand"},b);(new y(a)).placeAt(c,"last");return b},removeRow:function(a){t.findWidgets(a).forEach(function(a){a.destroyRecursive()})}},"ad-list");v.on(".dgrid-row:click",function(a){a=v.row(a).element;var b=f.contains(a,"collapsed");f.toggle(a,"collapsed",!b)});var I=new w;I.watch(function(){if(this.campaign_id||this.ad_group_id||this.status){var a={};this.campaign_id&&(a.campaign_id=this.campaign_id);this.ad_group_id&&(a.ad_group_id=this.ad_group_id);
a=m.filter(a);if(this.status)var b=m.Filter(),a=a.filter(b.in("status",this.status));v.set("collection",a)}else v.collection!==m&&v.set("collection",m)});q.on("dgrid-select",function(a){a=a.rows[0];var b=a.data;"0"===a.id?(I.set("campaign_id",null),a=k):(I.set("campaign_id",b),a=m.filter({campaign_id:b}).fetch().then(function(a){a=a.map(function(a){return a.ad_group_id}).filter(A);a.unshift("All Ad Groups");return a}));c(a,function(a){r.refresh();r.renderArray(a);r.select("0")})});r.on("dgrid-select",
function(a){a=a.rows[0];var b=a.data;"0"===a.id?I.set("ad_group_id",null):I.set("ad_group_id",b)});var L=t.byId("ad-status-filter");a=this.ads.map(function(a){return a.status}).filter(A).map(function(a){return{value:a,label:a,selected:!0}});L.addOption(a);L.on("change",function(){L.dropDownButton.set("label","Status");var a=L.getOptions().filter(function(a){return"string"===typeof a.value&&a.selected}).map(function(a){return a.value});I.set("status",a)});L.on("click",function(){L.dropDownButton.openDropDown()});
v.startup();q.startup();r.startup();q.select("0")}})})},"dojo/currency":function(){define("./_base/array ./_base/lang ./number ./i18n ./i18n!./cldr/nls/currency ./cldr/monetary".split(" "),function(l,k,h,f,a,c){var e={};k.setObject("dojo.currency",e);e._mixInDefaults=function(a){a=a||{};a.type="currency";var d=f.getLocalization("dojo.cldr","currency",a.locale)||{},b=a.currency,e=c.getData(b);l.forEach(["displayName","symbol","group","decimal"],function(a){e[a]=d[b+"_"+a]});e.fractional=[!0,!1];return k.mixin(e,
a)};e.format=function(a,c){return h.format(a,e._mixInDefaults(c))};e.regexp=function(a){return h.regexp(e._mixInDefaults(a))};e.parse=function(a,c){return h.parse(a,e._mixInDefaults(c))};return e})},"dojo/cldr/monetary":function(){define(["../_base/kernel","../_base/lang"],function(l,k){var h={};k.setObject("dojo.cldr.monetary",h);h.getData=function(f){var a={ADP:0,AFN:0,ALL:0,AMD:0,BHD:3,BIF:0,BYR:0,CLF:0,CLP:0,COP:0,CRC:0,DJF:0,ESP:0,GNF:0,GYD:0,HUF:0,IDR:0,IQD:0,IRR:3,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,
KPW:0,KRW:0,KWD:3,LAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MNT:0,MRO:0,MUR:0,OMR:3,PKR:0,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,SYP:0,TMM:0,TND:3,TRL:0,TZS:0,UGX:0,UZS:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0}[f];f={}[f];"undefined"==typeof a&&(a=2);"undefined"==typeof f&&(f=0);return{places:a,round:f}};return h})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(l,k,h){return l([k,h],{})})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/when ./util/misc".split(" "),
function(l,k,h,f,a,c,e,m){return h([l,k],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:m.defaultDelay,keepScrollPosition:!1,rowHeight:0,postCreate:function(){this.inherited(arguments);var a=this;c(this.bodyNode,"scroll",m[this.pagingMethod](function(b){a._processScroll(b)},null,this.pagingDelay))},destroy:function(){this.inherited(arguments);this._refreshTimeout&&clearTimeout(this._refreshTimeout)},
renderQuery:function(c,b){var h=this,k=b&&b.container||this.contentNode,l={query:c,count:0},m,t=this.preload,u={node:a.create("div",{className:"dgrid-preload",style:{height:"0"}},k),count:0,query:c,next:l};u.node.rowIndex=0;l.node=m=a.create("div",{className:"dgrid-preload"},k);l.previous=u;m.rowIndex=this.minRowsPerPage;t?((l.next=t.next)&&m.offsetTop>=t.node.offsetTop?l.previous=t:(l.next=t,l.previous=t.previous),l.previous.next=l,l.next.previous=l):this.preload=l;var w=a.create("div",{className:"dgrid-loading"},
m,"before");a.create("div",{className:"dgrid-below"},w).innerHTML=this.loadingMessage;b=f.mixin({start:0,count:this.minRowsPerPage},"level"in c?{queryLevel:c.level}:null);return this._trackError(function(){var f=c(b);return h.renderQueryResults(f,m,b).then(function(c){return f.totalLength.then(function(d){var f=c.length,k=m.parentNode,p=h.noDataNode;h._rows&&(h._rows.min=0,h._rows.max=f===d?Infinity:f-1);a.destroy(w);"queryLevel"in b||(h._total=d);0===d&&k&&(p&&(a.destroy(p),delete h.noDataNode),
h.noDataNode=p=a.create("div",{className:"dgrid-no-data",innerHTML:h.noDataMessage}),k.insertBefore(p,h._getFirstRowSibling(k)));for(p=k=0;p<f;p++)k+=h._calcRowHeight(c[p]);f&&k&&(h.rowHeight=k/f);d-=f;l.count=d;m.rowIndex=f;d?m.style.height=Math.min(d*h.rowHeight,h.maxEmptySpace)+"px":m.style.display="none";h._previousScrollPosition&&(h.scrollTo(h._previousScrollPosition),delete h._previousScrollPosition);return e(h._processScroll()).then(function(){return c})})}).otherwise(function(b){a.destroy(w);
throw b;})})},refresh:function(a){var b=this,e=a&&a.keepScrollPosition;"undefined"===typeof e&&(e=this.keepScrollPosition);e&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this._renderedCollection)return this.renderQuery(function(a){return b._renderedCollection.fetchRange({start:a.start,end:a.start+a.count})}).then(function(){b._refreshTimeout=setTimeout(function(){c.emit(b.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:b});b._refreshTimeout=
null},0)})},resize:function(){this.inherited(arguments);this._processScroll()},cleanup:function(){this.inherited(arguments);this.preload=null},renderQueryResults:function(a){var b=this.inherited(arguments),c=this._renderedCollection;c&&c.releaseRange&&b.then(function(b){b[0]&&!b[0].parentNode.tagName&&a.totalLength.then(function(){c.releaseRange(b[0].rowIndex,b[b.length-1].rowIndex+1)})});return b},_getFirstRowSibling:function(a){return a.lastChild},_calcRowHeight:function(a){var b=a.nextSibling;
return b&&!/\bdgrid-preload\b/.test(b.className)?b.offsetTop-a.offsetTop:a.offsetHeight},lastScrollTop:0,_processScroll:function(c){function b(b,c,d,f){var k=h.farOffRemoval,l=b.node;if(c>2*k){for(var m,p=l[d],r=0,t=0,v=[],x=p&&p.rowIndex,u;m=p;){var w=h._calcRowHeight(m);if(r+w+k>c||0>p.className.indexOf("dgrid-row")&&0>p.className.indexOf("dgrid-loading"))break;p=m[d];r+=w;t+=m.count||1;h.removeRow(m,!0);v.push(m);"rowIndex"in m&&(u=m.rowIndex)}h._renderedCollection.releaseRange&&"number"===typeof x&&
"number"===typeof u&&(f?h._renderedCollection.releaseRange(u,x+1):h._renderedCollection.releaseRange(x,u+1),h._rows[f?"max":"min"]=u,h._rows.max>=h._total-1&&(h._rows.max=Infinity));b.count+=t;f?(l.rowIndex-=t,e(b)):l.style.height=l.offsetHeight+r+"px";var y=document.createElement("div");for(b=v.length;b--;)y.appendChild(v[b]);setTimeout(function(){a.destroy(y)},1)}}function e(a,b){a.node.style.height=Math.min(a.count*h.rowHeight,b?Infinity:h.maxEmptySpace)+"px"}function f(a,b){do a=b?a.next:a.previous;
while(a&&!a.node.offsetWidth);return a}if(this.rowHeight){var h=this,k=h.bodyNode;c=c&&c.scrollTop||this.getScrollPosition().y;var k=k.offsetHeight+c,l,m,w=h.preload,v=h.lastScrollTop,y=h.bufferRows*h.rowHeight,x=y-h.rowHeight,A,z=!0;for(h.lastScrollTop=c;w&&!w.node.offsetWidth;)w=w.previous;for(;w&&w!==l;){l=h.preload;h.preload=w;m=w.node;var B=m.offsetTop;if(k+1+x<B)w=f(w,z=!1);else if(c-1-x>B+m.offsetHeight)w=f(w,z=!0);else{var B=((m.rowIndex?c-y:k)-B)/h.rowHeight,C=(k-c+2*y)/h.rowHeight,C=C+Math.min(Math.abs(Math.max(Math.min((c-
v)*h.rowHeight,h.maxRowsPerPage/2),h.maxRowsPerPage/-2)),10);0===m.rowIndex&&(B-=C);B=Math.max(B,0);10>B&&0<B&&C+B<h.maxRowsPerPage&&(C+=Math.max(0,B),B=0);C=Math.min(Math.max(C,h.minRowsPerPage),h.maxRowsPerPage,w.count);if(0===C)w=f(w,z);else{var C=Math.ceil(C),B=Math.min(Math.floor(B),w.count-C),D={};w.count-=C;var F=m,G,I=h.queryRowsOverlap,L=(0<m.rowIndex||m.offsetTop>c)&&w;if(L){var J=w.previous;J&&(b(J,c-(J.node.offsetTop+J.node.offsetHeight),"nextSibling"),0<B&&J.node===m.previousSibling?
(B=Math.min(w.count,B),w.previous.count+=B,e(w.previous,!0),m.rowIndex+=B,I=0):C+=B,w.count-=B);D.start=m.rowIndex-I;D.count=Math.min(C+I,h.maxRowsPerPage);m.rowIndex=D.start+D.count}else w.next&&(b(w.next,w.next.node.offsetTop-k,"previousSibling",!0),F=m.nextSibling,F===w.next.node?(w.next.count+=w.count-B,w.next.node.rowIndex=B+C,e(w.next),w.count=B,I=0):G=!0),D.start=w.count,D.count=Math.min(C+I,h.maxRowsPerPage);G&&F&&F.offsetWidth&&(G=F.offsetTop);e(w);"level"in w.query&&(D.queryLevel=w.query.level);
if("queryLevel"in D||!(D.start>h._total||0>D.count)){var T=a.create("div",{className:"dgrid-loading",style:{height:C*h.rowHeight+"px"}},F,"before");a.create("div",{className:"dgrid-"+(L?"below":"above"),innerHTML:h.loadingMessage},T);T.count=C;h._trackError(function(){(function(b,c,d){var f=w.query(D);A=h.renderQueryResults(f,b,D).then(function(k){var l=h._rows;!l||"queryLevel"in D||!k.length||(c?(l.max<=l.min&&(l.min=k[0].rowIndex),l.max=k[k.length-1].rowIndex):(l.max<=l.min&&(l.max=k[k.length-1].rowIndex),
l.min=k[0].rowIndex));F=b.nextSibling;a.destroy(b);d&&F&&F.offsetWidth&&(l=h.getScrollPosition(),h.scrollTo({x:l.x,y:l.y+F.offsetTop-d,preserveMomentum:!0}));f.totalLength.then(function(a){"queryLevel"in D||(h._total=a,h._rows&&h._rows.max>=h._total-1&&(h._rows.max=Infinity));c&&(c.count=a-c.node.rowIndex,e(c))});h._processScroll();return k},function(c){a.destroy(b);throw c;})})(T,L,G)});w=w.previous}}}}return A}}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/aspect dojo/dom-construct dojo/has dojo/on dojo/when".split(" "),
function(l,k,h,f,a,c,e,m){function d(a){if("object"!==typeof a)a=Error(a);else if("cancel"===a.dojoType)return;e.emit(this.domNode,"dgrid-error",{grid:this,error:a,cancelable:!0,bubbles:!0})}return l(null,{collection:null,_renderedCollection:null,_rows:null,_observerHandle:null,shouldTrackCollection:!0,getBeforePut:!0,noDataMessage:"",loadingMessage:"",_total:0,constructor:function(){this.dirty={};this._updating={};this._columnsWithSet={};f.before(this,"configStructure",k.hitch(this,function(){this._columnsWithSet=
{}}))},destroy:function(){this.inherited(arguments);this._renderedCollection&&this._cleanupCollection()},_configColumn:function(a){a.set&&(this._columnsWithSet[a.field]=a);this.inherited(arguments)},_setCollection:function(a){this._renderedCollection&&(this.cleanup(),this._cleanupCollection({shouldRevert:!a||a.storage!==this._renderedCollection.storage}));if(a){var c=a;this.sort&&0<this.sort.length&&(c=a.sort(this.sort));c.track&&this.shouldTrackCollection&&(c=c.track(),this._rows=[],this._observerHandle=
this._observeCollection(c,this.contentNode,{rows:this._rows}));this._renderedCollection=c}this.collection=a;this._started&&this.refresh()},_setStore:function(){},_getTotal:function(){return this._total},_cleanupCollection:function(a){a=a||{};this._renderedCollection.tracking&&this._renderedCollection.tracking.remove();this._observerHandle&&(this._observerHandle.remove(),this._observerHandle=this._rows=null);!1!==a.shouldRevert&&(this.dirty={});this._renderedCollection=this.collection=null},_applySort:function(){this.collection&&
this.set("collection",this.collection)},row:function(){var a=this.inherited(arguments);a&&a.data&&"undefined"!==typeof a.id&&(a.id=this.collection.getIdentity(a.data));return a},refresh:function(){var b=this.inherited(arguments);this.collection||(this.noDataNode=a.create("div",{className:"dgrid-no-data",innerHTML:this.noDataMessage},this.contentNode));return b},renderArray:function(){var b=this.inherited(arguments);this.collection||b.length&&this.noDataNode&&a.destroy(this.noDataNode);return b},insertRow:function(b,
c,d,e,f){var h=this.collection,l=this.dirty,h=h&&h.getIdentity(b),m;h in l&&!(h in this._updating)&&(m=l[h]);m&&(b=k.delegate(b,m));l=this.inherited(arguments);f&&f.rows&&(f.rows[e]=l);this.noDataNode&&(a.destroy(this.noDataNode),this.noDataNode=null);return l},updateDirty:function(a,c,d){var e=this.dirty,f=e[a];f||(f=e[a]={});f[c]=d},save:function(){function a(b,f){return function(a){var h=c._columnsWithSet,k=c._updating,l,m;if("function"===typeof a.set)a.set(f);else for(l in f)a[l]=f[l];for(l in h)m=
h[l].set(a),void 0!==m&&(a[l]=m);k[b]=!0;return d.put(a).then(function(){delete e[b];delete k[b]})}}var c=this,d=this.collection,e=this.dirty,f=new h,k=f.promise,l=function(a){var b;return c.getBeforePut||!(b=c.row(a).data)?function(){return d.get(a)}:function(){return b}},m;for(m in e)var v=a(m,e[m]),k=k.then(l(m)).then(v);f.resolve();return k},revert:function(){this.dirty={};this.refresh()},_trackError:function(a){"string"===typeof a&&(a=k.hitch(this,a));var c=this,e;try{e=m(a())}catch(f){a=new h,
a.reject(f),e=a.promise}e.otherwise(function(a){d.call(c,a)});return e},removeRow:function(b,c,d){var e={element:b};!c&&this.noDataMessage&&this.up(e).element===b&&this.down(e).element===b&&(this.noDataNode=a.create("div",{className:"dgrid-no-data",innerHTML:this.noDataMessage},this.contentNode));(e=d&&d.rows||this._rows)&&delete e[b.rowIndex];return this.inherited(arguments)},renderQueryResults:function(a,c,d){d=k.mixin({rows:this._rows},d);var e=this;return a.then(function(a){a=e.renderArray(a,
c,d);delete e._lastCollection;return a})},_observeCollection:function(a,c,d){var e=this,f=d.rows,h,k=[a.on("delete, update",function(a){var b=a.previousIndex,k=a.index;void 0!==b&&f[b]&&("max"in f&&(void 0===k||k<f.min||k>f.max)&&f.max--,h=f[b],h.parentNode===c&&e.removeRow(h,!1,d),f.splice(b,1),("delete"===a.type||"update"===a.type&&(b<k||void 0===k))&&f[b]&&f[b].rowIndex--,e._processScroll&&e._processScroll());"delete"===a.type&&(h=null)}),a.on("add, update",function(a){var b=a.previousIndex,k=
a.index;if(void 0!==k&&(!("max"in f)||k>=f.min&&k<=f.max)){"max"in f&&(void 0===b||b<f.min||b>f.max)&&f.max++;if(f.length){if(b=f[k],!b&&(b=f[k-1]))b=(b.connected||b).nextSibling}else b=e._getFirstRowSibling&&e._getFirstRowSibling(c);h&&b&&h.id===b.id&&(b=(b.connected||b).nextSibling);b&&!b.parentNode&&(b=document.getElementById(b.id));f.splice(k,0,void 0);h=e.insertRow(a.target,c,b,k,d);e.highlightRow(h)}h=null}),a.on("add, delete, update",function(c){var d="undefined"!==typeof c.previousIndex?c.previousIndex:
Infinity,h="undefined"!==typeof c.index?c.index:Infinity,k=Math.min(d,h);d!==h&&f[k]&&e.adjustRowIndices(f[k]);e._onNotification(f,c,a);a===e._renderedCollection&&"totalLength"in c&&(e._total=c.totalLength)})];return{remove:function(){for(;0<k.length;)k.pop().remove()}}},_onNotification:function(){}})})},"dgrid/extensions/ColumnHider":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/on ../util/misc dojo/i18n!./nls/columnHider".split(" "),function(l,k,h,f,a,c){var e,m;return l(null,
{hiderMenuNode:null,hiderToggleNode:null,i18nColumnHider:c,_hiderMenuOpened:!1,_columnHiderRules:null,_columnHiderCheckboxes:null,_renderHiderMenuEntries:function(){var a=this.subRows,b=!0,c,e,f,h;delete this._columnHiderFirstCheckbox;f=0;for(c=a.length;f<c;f++)for(h=0,e=a[f].length;h<e;h++)this._renderHiderMenuEntry(a[f][h]),b&&(b=!1,this._columnHiderFirstCheckbox=this._columnHiderCheckboxes[a[f][h].id])},_renderHiderMenuEntry:function(c){var b=c.id,e=a.escapeCssIdentifier(b,"-"),f,h;c.hidden&&(c.hidden=
!1,this._hideColumn(b),c.hidden=!0);c.unhidable||(f=k.create("div",{className:"dgrid-hider-menu-row"}),h=this.domNode.id+"-hider-menu-check-"+e,b=this._columnHiderCheckboxes[b]=k.create("input",{className:"dgrid-hider-menu-check hider-menu-check-"+e,id:h,type:"checkbox"},f),e=k.create("label",{className:"dgrid-hider-menu-label hider-menu-label-"+e,"for":h},f),e.appendChild(document.createTextNode(c.label||c.field||"")),this.hiderMenuNode.appendChild(f),c.hidden||(b.checked=!0))},renderHeader:function(){function a(b){b.stopPropagation()}
var b=this,c=this.hiderMenuNode,l=this.hiderToggleNode,q;this.inherited(arguments);if(c){for(q in this._columnHiderRules)this._columnHiderRules[q].remove();c.innerHTML=""}else l=this.hiderToggleNode=k.create("button",{"aria-label":this.i18nColumnHider.popupTriggerLabel,className:"ui-icon dgrid-hider-toggle",type:"button"},this.domNode),this._listeners.push(f(l,"click",function(a){b._toggleColumnHiderMenu(a)})),c=this.hiderMenuNode=k.create("div",{"aria-label":this.i18nColumnHider.popupLabel,className:"dgrid-hider-menu",
id:this.id+"-hider-menu",role:"dialog"}),this._listeners.push(f(c,"keyup",function(a){27===(a.charCode||a.keyCode)&&(b._toggleColumnHiderMenu(a),l.focus())})),c.style.display="none",this.domNode.appendChild(c),this._listeners.push(f(c,".dgrid-hider-menu-check:"+(9>h("ie")?"click":"change"),function(a){b._updateColumnHiddenState(a.target.id.substr(b.id.length+18),!a.target.checked)})),this._listeners.push(f(c,"mousedown",a),f(l,"mousedown",a)),m||(m=f.pausable(document,"mousedown",function(a){e&&e._toggleColumnHiderMenu(a)}),
m.pause());this._columnHiderCheckboxes={};this._columnHiderRules={};this._renderHiderMenuEntries()},destroy:function(){this.inherited(arguments);for(var a in this._columnHiderRules)this._columnHiderRules[a].remove()},left:function(a,b){return this.right(a,-b)},right:function(a,b){a.element||(a=this.cell(a));for(var c=this.inherited(arguments),e=a;c.column.hidden;){c=this.inherited(arguments,[c,0<b?1:-1]);if(e.element===c.element)return a;e=c}return c},isColumnHidden:function(a){return!!this._columnHiderRules[a]},
_toggleColumnHiderMenu:function(){var a=this._hiderMenuOpened,b=this.hiderMenuNode,c=this.domNode,f;b.style.display=a?"none":"";a?b.style.height="":(b.offsetHeight>c.offsetHeight-12&&(b.style.height=c.offsetHeight-12+"px"),(f=this._columnHiderFirstCheckbox)&&f.focus());m[a?"pause":"resume"]();e=a?null:this;this._hiderMenuOpened=!a},_hideColumn:function(c){var b=this,e="#"+a.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-",f;this._columnHiderRules[c]||(this._columnHiderRules[c]=a.addCssRule(e+
a.escapeCssIdentifier(c,"-"),"display: none;"),8!==h("ie")&&10!==h("ie"))||(f=a.addCssRule(".dgrid-row-table","display: inline-table;"),window.setTimeout(function(){f.remove();b.resize()},0))},_showColumn:function(a){this._columnHiderRules[a]&&(this._columnHiderRules[a].remove(),delete this._columnHiderRules[a])},_updateColumnHiddenState:function(a,b){this[b?"_hideColumn":"_showColumn"](a);this.columns[a].hidden=b;f.emit(this.domNode,"dgrid-columnstatechange",{grid:this,column:this.columns[a],hidden:b,
bubbles:!0});this.resize()},toggleColumnHiddenState:function(a,b){"undefined"===typeof b&&(b=!this._columnHiderRules[a]);this._updateColumnHiddenState(a,b);this._columnHiderCheckboxes[a].checked=!b}})})},"mojo/views/peaches2/support/index":function(){define("dojo/_base/declare mojo/views/_base dojo/on dojo/ready dojo/dom-class dojo/query dojo/_base/array dojo/topic".split(" "),function(l,k,h,f,a,c,e,m){return l([k],{onReady:function(){}})})},"mojo/views/peaches2/qa/search/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/request/xhr dojo/dom-attr dojo/dom-style dojo/dom-construct dojo/dom dijit/registry mojo/url mojo/app/peaches2/utils".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k],{shards:null,searchId:null,onReady:function(){var d=this;this.shards&&this.searchId&&this.shards.forEach(function(k){d.$widget["dc"+k].set("onLoad",function(){n.utils.refreshOnError(this);d.parse(this.id);d.$el["conditions"+k]&&f(b.toUrl("/peaches2/qa/search/verify-conditions"),{query:{conditions:d.$el["conditions"+k].innerHTML},handleAs:"json"}).then(function(b){h("[data-user-id]").forEach(function(c,d){var f=a.get(c,"data-user-id");-1===b.indexOf(f)&&
e.destroy(c)});c.set(d.$el["stillLoading"+k],"display","none");c.set(d.$el["shardTable"+k],"display","")})})})},doCancel:function(){this.$widget.billingDropdown.attr("value","Select Billing Type");this.$widget.attributes.options.forEach(function(a){a.selected=!1});this.$widget.attributes._updateSelection();this.$widget.discount.attr("value","Select Discount");this.$widget.integration.attr("value","Select Integration");this.$widget.campaign.attr("value","Select Campaign Type");this.$el.listSize.value=
"";this.$el.sends.value="";this.$el.exports.checked=!1;this.$el.imports.checked=!1;this.$el.orders.checked=!1;e.destroy(this.$el.results);return!1},clearCache:function(){f(b.toUrl("/peaches2/qa/search/clear-cache"),{query:{search_id:this.searchId},handleAs:"json"}).then(function(a){n.utils.setFlash(a.status+": Cache cleared","success")})}})})},"mojo/views/peaches2/qa/accounts/index":function(){define(["dojo/_base/declare","dojo/on","mojo/views/_base"],function(l,k,h){return l([h],{onReady:function(){var f=
this;k(this.$el.addAccountButton,"click",function(){f.$widget.addAccountDialog.show()})},deleteTestingAccount:function(f){this.$el.userIdInput.value=f;this.$widget.deleteDialog.show()}})})},"mojo/views/peaches2/permissions/index":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/on mojo/views/_base mojo/app/peaches2/utils mojo/app/peaches2/tabContainerUtil mojo/url dijit/registry".split(" "),function(l,k,h,f,a,c,e,m,d){return l([a],{pageJs:null,elId:null,onReady:function(){var a=
d.byId(m.getHashParams().t);a&&window.tabContainer.selectChild(a);window.tabContainer.watch("selectedChildWidget",function(a,b,c){m.setHashParams({t:c.id})})}})})},"mojo/views/peaches2/investigations/dashboards/suspicious-patterns/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/analytics/parts/FilterMenu","mojo/analytics/parts/FilterMessage"],function(l,k,h,f){return l([k],{onReady:function(){var a={target:"suspicious-patterns-list",filters:[{label:"Type",key:"suspicious_type",
type:"select",options:{"supported send":"Suspicious Send Patterns (supported)","unsupported send'":"Suspicious Send Patterns (unsupported)",monthly:"4XMonthly",stalked:"Stalked Users",signup:"Signup - Bad Domain",replyto:"Replyto - Bad Domain",listformspam:"List Form Spam",verification:"List Form Spam","large list upload":"Large List Upload","big sender":"Big Sender",vetting:"Vetting","potential spammer":"Potential Spammer"}}]},c=new h(a);this.$el.suspiciousPatternsFilters.appendChild(c.domNode);
a=new f(a);this.$el.suspiciousPatternsFiltersMessage.appendChild(a.domNode)}})})},"mojo/views/peaches2/investigations/dashboards/multiple-accounts/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/dom-style dojo/dom-class dojo/dom".split(" "),function(l,k,h,f,a,c){return l([k],{onReady:function(){this.toggleSection("domain")},toggleSection:function(a){h(".sectme").forEach(function(a){f.set(a,"display","none")});f.set(c.byId(a),"display","block")},toggleDetail:function(c){var k=
c.split("-")[0];h(".detailme",c).forEach(function(c){a.contains(c,k)||("none"===f.get(c,"display")?(f.set(c,"display","none"),f.set(c,"display","block")):(f.set(c,"display","block"),f.set(c,"display","none")))})}})})},"mojo/views/peaches2/financial/orders/index":function(){define(["dojo/_base/declare","dojo/_base/lang","mojo/views/_base","mojo/analytics/parts/FilterMenu","mojo/analytics/parts/FilterMessage"],function(l,k,h,f,a){return l([h],{onReady:function(){var c={target:"orders-list",filters:[{label:"Order Type",
key:"type",type:"select",options:{internal:"Internal Orders",regular:"Regular Orders"}},{label:"Status",key:"status",type:"select",options:{paid:"Paid",refunded:"Refunded",failed:"Failed"}},{label:"Order ID",key:"order_id",type:"text"},{label:"User ID",key:"user_id",type:"text"}]},e=new f(c);this.$el.ordersFilters.appendChild(e.domNode);c=new a(c);this.$el.ordersFiltersMessage.appendChild(c.domNode)}})})},"mojo/views/peaches2/financial/exports/index":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom dojo/on dojo/dom-style dojo/dom-attr mojo/url dojo/query".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([h],{monthVal:null,yearVal:null,onReady:function(){var b=(new Date).getMonth()+1;e.set(d("option[value\x3d"+("0"+b).slice(-2)+"]")[0],"selected",!0);this.monthVal=this.$el.monthSelect.value;this.yearVal=this.$el.yearSelect.value;a(this.$el.monthSelect,"change",k.hitch(this,function(){this.monthVal=this.$el.monthSelect.value}));a(this.$el.yearSelect,"change",k.hitch(this,function(){this.yearVal=this.$el.yearSelect.value}))},exportOverviewReport:function(){10>=this.monthVal&&
2015>=this.yearVal?c.set(this.$el.ordersFeedback,"display","block"):c.set(this.$el.ordersFeedback,"display","non");document.location=m.toUrl("/peaches2/financial/exports/export-discounts-overview",{discount_month:this.monthVal+"/"+this.yearVal})},exportMonthlyOrdersReport:function(){document.location=m.toUrl("/peaches2/financial/exports/monthly-orders-post",{month:this.monthVal,year:this.yearVal})},exportMonthlyRefundsReport:function(){document.location=m.toUrl("/peaches2/financial/exports/monthly-orders-post",
{refunds_only:"Y",month:this.monthVal,year:this.yearVal})},exportIntlOrdersReport:function(){document.location=m.toUrl("/peaches2/financial/exports/i18n-orders-export",{month:this.monthVal,year:this.yearVal})},exportFBReports:function(){document.location=m.toUrl("/peaches2/financial/exports/fb-export",{month:this.monthVal,year:this.yearVal})}})})},"mojo/views/peaches2/delivery/seedlists/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","dojo/on","dijit/registry"],function(l,
k,h,f,a){return l([k],{user_id:null,onReady:function(){var a=this;f(this.$el.createSeedlistButton,"click",function(){a.$widget.createSeedlistDialog.show()})},deleteSeedList:function(a){this.$el.userIdInput.value=a;this.$widget.deleteDialog.show()}})})},"mojo/views/peaches2/delivery/dedicated-ips/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url dijit/registry dojo/on mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage".split(" "),function(l,k,h,f,a,c,e){return l([k],
{user_id:null,onReady:function(){var f=this,d={filters:[{label:"User ID",key:"user_id",type:"text"},{label:"Username or company",key:"username",type:"text"},{label:"MTA",key:"mta",type:"text"},{label:"Status",key:"status",type:"select",options:{Y:"Can send",N:"Can not send"}},{label:"Type",key:"type",type:"select",options:{SHEDICATED:"SHEDICATED",DEDICATED:"DEDICATED"}},{label:"Custom DNS",key:"dns",type:"select",options:{GENERIC:"GENERIC",ELIGIBLE:"ELIGIBLE",CUSTOM:"CUSTOM",LEGACY:"LEGACY"}},{label:"Charged for IPs?",
key:"is_billable",type:"select",options:{Y:"Yes",N:"No"}}],target:"dedicated-ip-list"},b=new c(d);this.$el.dedicatedIpListFilters.appendChild(b.domNode);d=new e(d);this.$el.dedicatedIpListFiltersMessage.appendChild(d.domNode);a(this.$el.createIpButton,"click",function(){f.$widget.createIpDialog.show()})},deleteIp:function(a){this.$el.userIdInput.value=a;this.$el.idInput.value=a;this.$widget.deleteDialog.show()}})})},"mojo/views/peaches2/admin/webhooks/index":function(){define(["dojo/_base/declare",
"mojo/views/_base","mojo/url","mojo/app/peaches2/webhooks","mojo/app/peaches2/utils"],function(l,k,h,f,a){return l([k,f],{users:null,onReady:function(){this.inherited(arguments);var c=this,e=this.users.list;e&&Object.keys(e).forEach(function(e){c.$widget["webHook"+e].set("onDownloadEnd",function(){a.utils.refreshOnError(this);c.webhookHeadCheckAll()})})}})})},"mojo/views/peaches2/admin/job-server/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/dom-style mojo/url dojo/on mojo/app/peaches2/utils dojo/request/xhr dijit/registry".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([k],{onReady:function(){var a=this;c(this.$el.deleteAllErrorsButton,"click",function(){a.$widget.deleteAllErrorsDialog.show()});c(this.$el.closeDeleteAllButton,"click",function(){a.$widget.deleteAllErrorsDialog.hide()});c(this.$el.closeViewErrorsDialog,"click",function(){a.$widget.jobErrorsDialog.hide()})},viewErrors:function(b){var c=this;m(a.toUrl("/peaches2/admin/job-server/view-errors"),{query:{job:b}}).then(function(a){c.$el.viewErrorsDialogContent.innerHTML=
a;c.$widget.jobErrorsDialog.show()})},retryJob:function(b,c){var d=this;m(a.toUrl("/peaches2/admin/job-server/retry-single"),{query:{db_name:c,job_id:b},handleAs:"json"}).then(function(a){a.success?(f.set("error-"+a.job_id,"display","none"),d.$widget.jobErrorsDialog.hide(),e.utils.setFlash("Retrying job "+a.job_id,"info")):(d.$widget.jobErrorsDialog.hide(),e.utils.setFlash("Error occurred","error"))})},deleteJob:function(b,c){var d=this;m(a.toUrl("/peaches2/admin/job-server/delete-single"),{query:{db_name:c,
job_id:b},handleAs:"json"}).then(function(a){a.success?(f.set("error-"+a.job_id,"display","none"),d.$widget.jobErrorsDialog.hide(),e.utils.setFlash("Deleting job "+a.job_id,"info")):h.byId("error-"+a.job_id+"-action-delete").innerHTML="error occurred"})}})})},"mojo/views/peaches2/admin/agents/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","dijit/registry"],function(l,k,h,f){return l([k],{user_id:null,deleteUser:function(a){this.$el.userIdInput.value=a;this.$widget.deleteDialog.show()},
exportPermissions:function(){document.location=h.toUrl("/peaches2/admin/agents/export",{type:"permissions"})}})})},"mojo/views/login/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/dom-class dojo/sniff dojo/dom-style velocity/velocity velocity/velocity.ui".split(" "),function(l,k,h,f,a,c,e){return l([k],{onReady:function(){6.1>a("safari")&&f.add(document.documentElement,"safari_6");var k=h("[data-mc-el\x3d'loginAnnouncementAnimation']");c.set(k,"display","");e(k,"transition.slideUpIn",
800)}})})},"mojo/views/lists/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url dojo/on dijit/Dialog dojo/query".split(" "),function(l,k,h,f,a,c){var e=function(a){c(".cancel-button",a.domNode).on("click",function(c){c.stopPropagation();c.preventDefault();a.hide()})};return l([k],{showDismissReconfirmModal:function(c){var d=new a({title:"Are you sure?",onHide:function(){d.destroyRecursive()},onDownloadEnd:function(){e(d)}});d.setHref(h.toUrl("lists/dismiss-reconfirm-modal",{id:c}));
d.show()}})})},"mojo/views/lists/opt-in-status":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/query dojo/dom dojo/dom-style dojo/on dojo/request/xhr dojo/ready dijit/registry dojo/dom-class".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){return l([h],{onReady:function(){this.checkedLists=this.numberChecked();this.numLists=Object.keys(this.$widget).length;this.checkedLists===this.numLists&&this.showDeselect.call(this);for(var a in this.$widget)if(this.$widget.hasOwnProperty(a))this.$widget[a].on("change",
this.onCheckChange.bind(this));e(this.$el.selectAllLists,"click",this.selectAll.bind(this));e(this.$el.deselectAllLists,"click",this.deselectAll.bind(this))},numberChecked:function(){var a=0,b;for(b in this.$widget)this.$widget.hasOwnProperty(b)&&Boolean(this.$widget[b].get("checked"))&&(a+=1);return a},showSelect:function(){c.set(this.$el.selectAllLists,{display:"block"});c.set(this.$el.deselectAllLists,{display:"none"})},showDeselect:function(){c.set(this.$el.selectAllLists,"display","none");c.set(this.$el.deselectAllLists,
"display","block")},selectAll:function(){for(var a in this.$widget)this.$widget.hasOwnProperty(a)&&this.$widget[a].set("checked",!0);this.showDeselect.call(this)},deselectAll:function(){for(var a in this.$widget)this.$widget.hasOwnProperty(a)&&this.$widget[a].set("checked",!1);this.showSelect.call(this)},onCheckChange:function(a){a?this.checkedLists+=1:--this.checkedLists;0===this.checkedLists?this.showSelect.call(this):this.checkedLists===this.numLists&&this.showDeselect.call(this)}})})},"mojo/views/lists/signup-forms/popup/editor":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-form dojo/Stateful dojo/on dojo/_base/lang dojo/aspect dojo/query dojo/dom-class dojo/dom-style dojo/dom-construct dojo/dnd/Source dojo/request dojo/dom-attr dijit/registry mojo/utils mojo/url mojo/lib/logger mojo/neapolitan/widgets/ImageRow mojo/signup-forms/SignupFormPreview mojo/signup-forms/BannerPreview mojo/signup-forms/PopupSignupForm velocity/velocity dojo/_base/array mojo/widgets/ButtonGroup mojo/neapolitan/EditorPane vendor/lodash-amd/isInteger vendor/lodash-amd/inRange mojo/lib/flags dojo/html mojo/user".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T){return l([k],{previewView:"desktop",fieldSelector:"[data-mc-field-selector]",fieldsConfig:[],viewedCode:!1,fromConnectedSites:!1,emailField:"",snapshot_url:!1,mobile_snapshot_url:!1,editorUpdated:!1,exitUrl:"",doubleOptin:!1,enabled:!1,gdprEnabled:!1,onInit:function(){this.formConfig=new f(this.formConfig);var a=this.formConfig.styles||{};a.labels=a.labels||{};a.button=a.button||{};a.modal=a.modal||{};this.formConfig.imageUrl&&
(this.formConfig.imageUrl=w.addProxy(this.formConfig.imageUrl));this.formConfig.set("styles",a)},onReady:function(){null===this.formConfig.modalVariation?(this.formConfig.set("modalVariation","modal"),b.set(this.$el.overlayFrame,"opacity",".65"),this.$group.popupFormat[0].checked=!0):"modal"===this.formConfig.modalVariation?(b.set(this.$el.overlayFrame,"opacity","."+this.formConfig.popupOpacity),d.remove(this.$el.previewWrapper,"preview-wrapper--fixed"),this.gdprEnabled&&this._controlLastGdprCheckbox()):
"slide"===this.formConfig.modalVariation?(d.add(this.$el.previewWrapper,"preview-wrapper--slide"),d.remove(this.$el.previewWrapper,"preview-wrapper--fixed"),this.gdprEnabled&&d.add(this.$el.gdprFieldset,"hide")):"fixed"===this.formConfig.modalVariation&&(d.add(this.$el.previewWrapper,"preview-wrapper--fixed"),d.remove(this.$el.previewWrapper,"preview-wrapper--slide"),b.set(this.$el.previewFrame,"scrolling","no"));this._handleAddImgBtn(this.formConfig.template);this._formatSettings(this.formConfig.modalVariation);
1!==this.formConfig.template&&2!==this.formConfig.template||"fixed"===this.formConfig.modalVariation?b.set(this.$el.previewWrapper,"width","603px"):b.set(this.$el.previewWrapper,"width","490px");this.viewedCode&&a(this.$el.exitEditor,"click",c.hitch(this,function(a){a.preventDefault();a=m("a",this.$el.exitEditor);this.exitUrl=r.get(a[0],"href");this.editorUpdated?this.publishChangesDialog.show():window.location=this.exitUrl}));this.editorPane=new F({paneId:"preview"},this.$el.editorPane);this.editorPane.startup();
this.viewToggler=new D({options:this._getToggleOptions()},this.$el.viewToggler);a(this.viewToggler,"click",c.hitch(this,function(){this._changeView(this.viewToggler.value)}));this.viewToggler.setSelected(this.previewView);b.set(this.$el.previewLoader,"display","none");this.previewForm=new x({iframe:this.$el.previewFrame,config:this.formConfig||{}});this.bannerFrame=new A({iframe:this.$el.bannerPreviewFrame,config:this.formConfig||{}});a(this.$el.showMobileBanner,"click",c.hitch(this,function(){this._handleBannerPreview(!0)}));
a(this.$el.hideMobileBanner,"click",c.hitch(this,function(){this._handleBannerPreview(!1)}));var f={customConfig:"mcpopupeditorconfig.js",height:200,removePlugins:"elementspath"};this.footerCK=CKEDITOR.replace(this.$el.footerInput,c.mixin({on:{instanceReady:c.hitch(this,function(){this.footerCK.on("change",c.hitch(this,function(){this.formConfig.set("footer",this.footerCK.getData())}))})}},f));this.descriptionCK=CKEDITOR.replace(this.$el.descriptionInput,c.mixin({on:{instanceReady:c.hitch(this,function(){""!==
this.descriptionCK.getData()||this.viewedCode||this.enabled||this.descriptionCK.setData("\x3cstrong\x3e\x3cspan style\x3d'font-size:18px;'\x3e\x3cspan style\x3d'font-family:arial,helvetica neue,helvetica,sans-serif'\x3eSubscribe to our mailing list\x3c/span\x3e\x3c/span\x3e\x3c/strong\x3e");this.descriptionCK.on("change",c.hitch(this,function(){this.formConfig.set("description",this.descriptionCK.getData())}))})}},f));var h="",h=null===this.formConfig.successMsg?"\x3cspan style\x3d'font-size: 24px;'\x3e\x3cspan style\x3d'font-family:arial,helvetica neue,helvetica,sans-serif;'\x3e"+
this.defaultSuccessMsg+"\x3c/span\x3e\x3c/span\x3e":this.formConfig.successMsg;this.successMsgCK=CKEDITOR.replace(this.$el.successMsgInput,c.mixin({on:{instanceReady:c.hitch(this,function(){this.successMsgCK.on("change",c.hitch(this,function(){this.formConfig.set("successMsg",this.successMsgCK.getData())}))})}},f));var k=this.previewForm.signupForm;k.formResponseMessages.innerHTML="\x3cdiv class\x3d'popup-signup-success'\x3e"+h+"\x3c/div\x3e";b.set(k.formResponseMessages,"display","none");this.successMsgCK.setData(h);
this.successMsgCK.on("focus",c.hitch(this,function(){b.set(k.formContentContainer,"display","none");b.set(k.formImageContainer,"display","none");b.set(k.formResponseMessages,"display","");b.set(this.$el.addPhotoBtn,"display","none");this.previewForm.updateDocHeight()}));this.successMsgCK.on("blur",c.hitch(this,function(){b.set(k.formContentContainer,"display","");b.set(k.formImageContainer,"display","");b.set(k.formResponseMessages,"display","none");1>this.$el.imageInput.value.length&&"fixed"!==this.formConfig.modalVariation&&
b.set(this.$el.addPhotoBtn,"display","");this.previewForm.updateDocHeight()}));!0===this.doubleOptin&&b.set(this.$el.successMsgContainer,"display","none");a(this.$el.buttonLabelInput,"keyup",c.hitch(this,function(){this.formConfig.set("buttonLabel",this.$el.buttonLabelInput.value)}));this.$el.closeLabelInput&&a(this.$el.closeLabelInput,"keyup",c.hitch(this,function(){this.formConfig.set("closeLabel",this.$el.closeLabelInput.value)}));a(this.$el.popupOpacity,"keyup",c.hitch(this,function(){var a=parseInt(this.$el.popupOpacity.value);
if(G(a)&&I(a,0,101)){if("modal"===this.formConfig.modalVariation){var c=parseFloat(a/100);b.set(this.$el.overlayFrame,"opacity",c)}this.formConfig.set("popupOpacity",a);u.removeErrors(this.$el.popupOpacity)}else u.addError(this.$el.popupOpacity,"Please enter a number between 0 and 100")}));var l=this;this.$group.popupFormat.forEach(function(c){a(c,"click",function(){switch(c.value){case "modal":d.remove(l.$el.previewWrapper,"preview-wrapper--slide");d.remove(l.$el.previewWrapper,"preview-wrapper--fixed");
b.set(l.$el.overlayFrame,"opacity","."+l.formConfig.popupOpacity);r.remove(l.previewForm.signupForm.formNode[0],"placeholder");J.set(l.previewForm.signupForm.descriptionContainer,l.formConfig.description);b.set(l.$el.previewFrame,"scrolling","");l.gdprEnabled&&(d.remove(l.$el.gdprFieldset,"hide"),l._controlLastGdprCheckbox());break;case "slide":"mobile"!==l.previewView&&(d.add(l.$el.previewWrapper,"preview-wrapper--slide"),d.remove(l.$el.previewWrapper,"preview-wrapper--fixed"),b.set(l.$el.overlayFrame,
"opacity",".1"),r.remove(l.previewForm.signupForm.formNode[0],"placeholder"),J.set(l.previewForm.signupForm.descriptionContainer,l.formConfig.description),b.set(l.$el.previewFrame,"scrolling",""));l.gdprEnabled&&d.add(l.$el.gdprFieldset,"hide");break;case "fixed":"mobile"!==l.previewView&&(d.remove(l.$el.previewWrapper,"preview-wrapper--slide"),d.add(l.$el.previewWrapper,"preview-wrapper--fixed"),b.set(l.$el.overlayFrame,"opacity","0.1"),r.set(l.previewForm.signupForm.formNode[0],"placeholder","Enter your email"),
J.set(l.previewForm.signupForm.descriptionContainer,l.previewForm._cleanText(l.formConfig.description)),b.set(l.$el.previewFrame,"scrolling","no"))}l.formConfig.set("modalVariation",c.value);l._animateFormTransition();l._handleAddImgBtn(l.formConfig.template);1==l.formConfig.template||2==l.formConfig.template?b.set(l.$el.previewWrapper,"width","490px"):b.set(l.$el.previewWrapper,"width","603px");l._formatSettings(c.value)})});var n=t.byNode(this.$el.popupDelay);a(n,"change",c.hitch(this,function(){this.formConfig.set("popupDelay",
n.value)}));this.dndSource=new p(this.$el.selectedContainer,{withHandles:!0});e.after(this.dndSource,"onDrop",c.hitch(this,"_updateFieldsMeta"));this.gdprEnabled&&(this.gdprDndSource=new p(this.$el.gdprSelectedContainer,{withHandles:!0}),e.after(this.gdprDndSource,"onDrop",c.hitch(this,"_updateFieldsMeta")));this.generateCodeDialog=t.byId("generate-code-dialog");this.publishDialog=t.byId("publish-dialog");this.publishChangesDialog=t.byId("publish-changes-dialog");this.viewCodeDialog=t.byId("view-code-dialog");
this.deleteCodeDialog=t.byId("delete-code-dialog");a(this.publishChangesDialog,"execute",c.hitch(this,function(){this.publishDialog.execute();window.location=this.exitUrl}));a(this.publishChangesDialog,"cancel",c.hitch(this,function(){window.location=this.exitUrl}));e.after(this.publishDialog,"execute",c.hitch(this,function(){this.submitForm(!this.publishDialog.saveExit);v.pythia.logEvent("List_SignupForm_Popup_Publish")}));e.after(this.generateCodeDialog,"execute",c.hitch(this,function(){this.generateCodeDialog.saveExit&&
this.submitForm(!1)}));this.formConfig.watch(c.hitch(this,function(){this.editorUpdated=!0}));this._handleTemplateChange();this._handleInputChanges();this._handleDefaultInputSettings();this._setupImageRow();this._setupReorder();this._showSiteSnapshot()},_getToggleOptions:function(){return[{value:"desktop",label:"Desktop"},{value:"mobile",label:"Mobile"}]},_formatSettings:function(a){d.remove(this.$el.popupWizard,["popup--modal","popup--slide","popup--fixed"]);d.add(this.$el.popupWizard,"popup--"+
a)},_changeView:function(e){this.previewView=e;switch(e){case "desktop":this.previewForm._addMobileClass(!1);m(this.$el.previewPane).addClass("overflow-hidden");m(this.$el.iframeWrapper).removeClass("bananaphone mobile-banner");"slide"===this.formConfig.modalVariation&&d.add(this.$el.previewWrapper,"preview-wrapper--slide");"fixed"===this.formConfig.modalVariation&&(d.add(this.$el.previewWrapper,"preview-wrapper--fixed"),r.set(this.previewForm.signupForm.formNode[0],"placeholder","Enter your email"));
"modal"===this.formConfig.modalVariation?b.set(this.$el.overlayFrame,"opacity","."+this.formConfig.popupOpacity):b.set(this.$el.overlayFrame,"opacity",".1");this._showSiteSnapshot();d.add(this.$el.bannerFooter,"hide");this.previewForm&&this.previewForm.updateDocHeight();break;case "mobile":this.previewForm._addMobileClass(!0);a(window,"resize",c.hitch(this,function(){this.previewForm._addMobileClass(!0)}));m(this.$el.previewPane).addClass("overflow-hidden");m(this.$el.iframeWrapper).removeClass("mobile-banner").addClass("bananaphone");
d.remove(this.$el.previewWrapper,"preview-wrapper--slide");d.remove(this.$el.previewWrapper,"preview-wrapper--fixed");"fixed"===this.formConfig.modalVariation&&r.remove(this.previewForm.signupForm.formNode[0],"placeholder");this.formConfig.popupOpacity?b.set(this.$el.overlayFrame,"opacity","."+this.formConfig.popupOpacity):b.set(this.$el.overlayFrame,"opacity",".65");this._showMobileSnapshot();d.remove(this.$el.bannerFooter,"hide");this._handleBannerPreview(!1);this.previewForm&&this.previewForm.updateDocHeight();
break;default:throw Error("Unhandle preview view");}this._animateFormTransition()},_handleInputChanges:function(){var b=this,c=t.byId("labelFontInput"),d=t.byId("labelColorInput"),e=t.byId("buttonTextColorInput"),f=t.byId("buttonBgInput"),h=t.byId("buttonHoverInput"),k=t.byId("button-alignment"),l=t.byId("fullWidthInput"),m=t.byId("modalLinkColorInput");a(c,"change",function(){var a=b.formConfig.styles;a.labels.font=this.value;b.formConfig.set("styles",a)});a(d,"change",function(){var a=b.formConfig.styles;
a.labels.color=this.value;b.formConfig.set("styles",a)});a(e,"change",function(){var a=b.formConfig.styles;a.button.text_color=this.value;b.formConfig.set("styles",a)});a(f,"change",function(){var a=b.formConfig.styles;a.button.color=this.value;b.formConfig.set("styles",a)});a(h,"change",function(){var a=b.formConfig.styles;a.button.hover_color=this.value;b.formConfig.set("styles",a)});a(k,"change",function(){var a=b.formConfig.styles;a.button.alignment=this.value;b.formConfig.set("styles",a)});a(l,
"change",function(){var a=b.formConfig.styles;a.button.style=this.checked?"full":null;b.formConfig.set("styles",a)});m&&a(m,"change",function(){var a=b.formConfig.styles;a.modal.close_link_color=this.value;b.formConfig.set("styles",a)})},_handleTemplateChange:function(){var c=this;a(document.body,"[name\x3dsetting\\[template\\]]:click",function(){c._animateFormTransition();c._handleAddImgBtn(this.value);"fixed"===c.formConfig.modalVariation?J.set(c.previewForm.signupForm.descriptionContainer,c.previewForm._cleanText(c.formConfig.description)):
J.set(c.previewForm.signupForm.descriptionContainer,c.formConfig.description);1==this.value||2==this.value?(b.set(c.$el.previewWrapper,"width","490px"),c.gdprEnabled&&"modal"===c.formConfig.modalVariation&&d.remove(c.$el.gdprFieldset,"hide")):(b.set(c.$el.previewWrapper,"width","603px"),c.gdprEnabled&&d.add(c.$el.gdprFieldset,"hide"));b.set(c.$el.imageSection,"display",this.checked&&1==this.value?"none":"");b.set(c.$el.imageDimension1,"display",2==this.value?"":"none");b.set(c.$el.imageDimension2,
"display",3==this.value||4==this.value?"":"none");c.formConfig.set("template",this.value)})},_handleAddImgBtn:function(a){1>this.$el.imageInput.value.length&&"fixed"!==this.formConfig.modalVariation?(d.remove(this.$el.addPhotoBtn,["v-addPhoto--1","v-addPhoto--3","v-addPhoto--4"]),b.set(this.$el.addPhotoBtn,"display",""),d.add(this.$el.addPhotoBtn,"v-addPhoto--"+a),a=t.byId("imageEdgeToEdge"),!1===a.checked&&(a.set("checked",!0),this.formConfig.set("imageEdgeToEdge","Y"))):b.set(this.$el.addPhotoBtn,
"display","none")},_showSiteSnapshot:function(){this.snapshot_url?b.set(this.$el.websitePlaceholder,"background-image","url("+this.snapshot_url+")"):b.set(this.$el.websitePlaceholder,"background-image","url(/images/signup-forms/popup/site-desktop.svg)")},_showMobileSnapshot:function(){this.mobile_snapshot_url?b.set(this.$el.websitePlaceholder,"background-image","url("+this.mobile_snapshot_url+")"):b.set(this.$el.websitePlaceholder,"background-image","url(/images/signup-forms/popup/site-mobile.png)")},
_animateFormTransition:function(){"desktop"===this.previewView&&("slide"===this.formConfig.modalVariation&&(B(this.$el.previewWrapper,{opacity:0},{duration:1}),b.set(this.$el.previewWrapper,{right:"-620px"}),B(this.$el.previewWrapper,{opacity:1},{duration:500}),B(this.$el.previewWrapper,{right:"20px"})),"modal"===this.formConfig.modalVariation&&(B(this.$el.previewWrapper,{opacity:0},{duration:1}),B(this.$el.previewWrapper,{opacity:1},{duration:500})),"fixed"===this.formConfig.modalVariation&&(B(this.$el.previewWrapper,
{opacity:0},{duration:1}),b.set(this.$el.previewWrapper,{bottom:"-100%"}),B(this.$el.previewWrapper,{opacity:1},{duration:500}),B(this.$el.previewWrapper,{bottom:"0"})))},_handleDefaultInputSettings:function(){var a=t.byId("labelColorInput");""===a.value&&a.set("value","#404040");a=t.byId("buttonTextColorInput");""===a.value&&a.set("value","#ffffff");a=t.byId("buttonBgInput");""===a.value&&a.set("value","#5a5a5a");a=t.byId("buttonHoverInput");""===a.value&&a.set("value","#646060");a=this.$el.popupOpacity;
""===a.value&&(a.value="65",this.formConfig.popupOpacity=65)},_handleBannerPreview:function(a){!1===a?(d.remove(this.$el.iframeWrapper,"mobile-banner"),d.add(this.$el.hideMobileBanner,"hide"),d.remove(this.$el.showMobileBanner,"hide"),this.previewForm&&this.previewForm.updateDocHeight()):(d.add(this.$el.iframeWrapper,"mobile-banner"),d.remove(this.$el.hideMobileBanner,"hide"),d.add(this.$el.showMobileBanner,"hide"),this.bannerFrame&&this.bannerFrame.updateDocHeight())},_setupImageRow:function(){var d=
null,f=this,h=this.$el.imageInput.value,k=this.$el.imageIdInput.value,l=this.$el.imageEdgeToEdge;h&&(d={src:w.addProxy(h),fileId:k});this.imageRow=new y({image:d,actions:["edit"]},this.$el.imageContainer);this.imageRow.startup();e.after(this.imageRow,"onChange",c.hitch(this,function(){this.imageRow.image?(this.imageRow.image.src&&(this.$el.imageInput.value=this.imageRow.image.src,this.formConfig.set("imageUrl",this.imageRow.image.src)),this.imageRow.image.fileId&&(this.$el.imageIdInput.value=this.imageRow.image.fileId)):
(this.$el.imageInput.value="",this.formConfig.set("imageUrl",""),this.$el.imageIdInput.value=null);this.$el.addPhotoBtn&&b.set(this.$el.addPhotoBtn,"display","none")}));a(l,"click",function(){f.formConfig.set("imageEdgeToEdge",this.checked?"Y":null)})},_setupReorder:function(){var b=this;a(this.$el.availableContainer,"[data-mc-field-selector]:change",function(){b._onCheckboxChange(this)});a(this.$el.selectedContainer,"[data-mc-field-selector]:change",function(){b._onCheckboxChange(this)});this.gdprEnabled&&
(a(this.$el.gdprAvailableContainer,"[data-mc-field-selector]:change",function(){b._onCheckboxChange(this,!0)}),a(this.$el.gdprSelectedContainer,"[data-mc-field-selector]:change",function(){b._onCheckboxChange(this,!0)}))},_onCheckboxChange:function(a,b){var c=this._getCheckboxContainer(a);d.toggle(c,"dojoDndItem selected",a.checked);a.checked?this._selectField(a,b):this._deselectField(a,b);this._updateFieldsMeta();b?(this.gdprDndSource.sync(),this._controlLastGdprCheckbox()):this.dndSource.sync()},
_selectField:function(a,b){var c=this._getCheckboxContainer(a),d=this.$el.selectedContainer;b&&(d=this.$el.gdprSelectedContainer);var e=m("[data-mc-field-selector]:checked",d).closest('[data-mc-container\x3d"field"]');e.length?(d=e.last()[0],n.place(c,d,"after")):n.place(c,d,"first")},_deselectField:function(a,b){var c=this._getCheckboxContainer(a),d=this.$el.availableContainer;b&&(d=this.$el.gdprAvailableContainer);B(c,{opacity:"0"},{complete:function(){n.place(c,d,"first");B(c,{opacity:"1"})}})},
_controlLastGdprCheckbox:function(){var a=this.$el.gdprSelectedContainer,b=m("[data-mc-container].selected",a);1===b.length?(a=b[0].querySelector(".dijitCheckBox").getAttribute("widgetid"),t.byId(a).set("disabled",!0)):(a=m(".dijitCheckBoxDisabled",a),1===a.length&&(a=a[0].getAttribute("widgetid"),t.byId(a).set("disabled",!1)))},_updateFieldsMeta:function(){var a=m("[data-mc-field-selector]:checked",this.$el.selectedContainer),b=m("[data-mc-field-selector]:checked",this.$el.gdprSelectedContainer),
d=[{label:this.emailField,name:"EMAIL",type:"email",required:!0}];a.forEach(c.hitch(this,function(a){d.push(c.clone(this.fieldsConfig[a.value]))}));this.gdprEnabled&&b.forEach(c.hitch(this,function(a){d.push(c.clone(this.fieldsConfig[a.value]))}));this.formConfig.set("fields",d)},_getCheckboxContainer:function(a){a=m(a).closest("[data-mc-container\x3d'field']");if(a.length)return a[0];throw Error("container must have a data-mc-container set");},openSaveDialog:function(a){this.fromConnectedSites&&
(a=!0);this.fromConnectedSites||this.viewedCode?(this.publishDialog.saveExit=a,this.publishDialog.show()):(this.submitForm(!0,{"setting[viewed_code]":!0}),this.generateCodeDialog.saveExit=a,this.generateCodeDialog.show(),this.viewedCode=!0,b.set(this.$el.generateLink,"display","none"),b.set(this.$el.viewCodeLink,"display",""),b.set(this.$el.saveLink,"display",""),v.pythia.logEvent("List_SignupForm_Popup_ViewEmbedCode"))},openDeleteCodeDialog:function(){this.deleteCodeDialog.show()},openViewCodeDialog:function(){this.viewCodeDialog.show();
v.pythia.logEvent("List_SignupForm_Popup_ViewEmbedCode")},submitForm:function(a,b){1==this.formConfig.template&&this.imageRow.removeImage();if("fixed"===this.formConfig.modalVariation){var d=m(".switchWrapperChecked input:checked",this.$el.selectedContainer);C.forEach(d,c.hitch(this,function(a){a.checked=!1}))}this.gdprEnabled&&(d=m("[data-mc-field-selector]:checked",this.$el.gdprSelectedContainer)[0])&&r.remove(d,"disabled");a?(this.footerCK.updateElement(),this.descriptionCK.updateElement(),this.successMsgCK.updateElement(),
d=c.mixin(b,h.toObject(this.$el.settingsForm)),q.post(this.$el.settingsForm.action,{data:d})):this.$el.settingsForm.submit()}})})},"mojo/signup-forms/SignupFormPreview":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/dom-construct dojo/promise/all dojo/Deferred dojo/dom-style ./SignupFormFrame mojo/lib/flags mojo/user".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([m],{config:{},previewCssNode:null,postCreate:function(){this.inherited(arguments);this.loadPreviewCss().then(k.hitch(this,
"updateDocHeight"));this.config.watch("footer",k.hitch(this,"updateFooter"));this.config.watch("description",k.hitch(this,"updateDescription"));this.config.watch("buttonLabel",k.hitch(this,"updateButtonLabel"));this.config.watch("template",k.hitch(this,"updateTemplate"));this.config.watch("imageUrl",k.hitch(this,"updateImageUrl"));this.config.watch("imageEdgeToEdge",k.hitch(this,"updateImageEdgeToEdge"));this.config.watch("styles",k.hitch(this,"updateStyles"));this.config.watch("fields",k.hitch(this,
"updateFields"));this.config.watch("successMsg",k.hitch(this,"updateSuccessMsg"));this.config.watch("modalVariation",k.hitch(this,"updateModalVariation"));this.config.hasGdprEnabled&&"modal"!==this.config.modalVariation&&(this.signupForm.gdprContainer.placeAt(this.signupForm.formFieldsContainer,"after"),this._updateGDPRContent())},updateFields:function(a,b,c){this.signupForm.fields=c;this.signupForm.addFields();this.updateDocHeight()},updateButtonLabel:function(a,b,c){this.signupForm.submitButton.value=
c},updateDescription:function(a,b,c){this.signupForm.descriptionContainer.innerHTML=c;"fixed"===this.config.modalVariation&&(this.signupForm.descriptionContainer.innerHTML=this._cleanText(c));this.updateDocHeight()},updateFooter:function(a,b,c){this.signupForm.footerContainer.innerHTML=c;this.updateDocHeight()},updateSuccessMsg:function(a,b,c){this.signupForm.formResponseMessages.innerHTML="\x3cdiv class\x3d'popup-signup-success'\x3e"+c+"\x3c/div\x3e";this.updateDocHeight()},updateModalVariation:function(){this.template=
this.config.template;a([this.loadLayoutCss(),this.loadCustomCss(),this.loadPreviewCss()]).then(k.hitch(this,"updateDocHeight"));this.config.hasGdprEnabled&&this._updateGDPRContent()},updateTemplate:function(b,c,d){this.template=d;a([this.loadLayoutCss(),this.loadCustomCss(),this.loadPreviewCss()]).then(k.hitch(this,"updateDocHeight"));this.config.hasGdprEnabled&&this._updateGDPRContent()},updateImageUrl:function(b,c,d){this.imageUrl=d;a([this.loadCustomCss(),this.loadPreviewCss()]).then(k.hitch(this,
"updateDocHeight"))},updateImageEdgeToEdge:function(b,c,d){this.imageEdgeToEdge=d;a([this.loadCustomCss(),this.loadPreviewCss()]).then(k.hitch(this,"updateDocHeight"))},updateStyles:function(a,b,c){this.styles=c;this.loadCustomCss().then(k.hitch(this,"updateDocHeight"))},loadPreviewCss:function(){this.previewCssNode&&f.destroy(this.previewCssNode);var a=new c;if(!this.imageUrl&&1!=this.template){this.previewCssNode=this.createStyleNode(this.frameDoc);var b=this.getStyleSheet(this.previewCssNode);
this.addCSSRule(b,".modalContent__image","background-image:url("+("//downloads.mailchimp.com/images/signup-forms/popup/placeholder-layout"+this.template+"-v3.svg")+");")}a.resolve();return a.promise},_updateGDPRContent:function(){var a=Number(this.template);"modal"!==this.config.modalVariation||1!==a&&2!==a?e.set(this.signupForm.gdprContainer.domNode,"display","none"):e.set(this.signupForm.gdprContainer.domNode,"display","")}})})},"mojo/signup-forms/SignupFormFrame":function(){define("dojo/_base/declare dijit/_WidgetBase ./SignupForm dojo/query dojo/_base/lang dojo/window dojo/on dojo/dom dojo/dom-geometry dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/dom-class dojo/promise/all dojo/Deferred dojo/html dojo/sniff mojo/widgets/_CustomStyleRulesMixin".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){return l([k,v],{version:"1.0",template:1,iframe:null,frameDoc:null,maxWidth:768,mobileView:!1,config:{},subscribeUrl:"#",honeypotFieldName:"",layoutCssNode:null,customCssNode:null,imageUrl:null,imageEdgeToEdge:null,env:"prod",constructor:function(a){if(!a.iframe||!a.iframe.tagName||"iframe"!=a.iframe.tagName.toLowerCase())throw Error("You must specify an iframe attribute to an iframe element");},postMixInProperties:function(){this.config.template&&(this.template=
this.config.template);this.config.version&&(this.version=this.config.version);this.config.imageUrl&&(this.imageUrl=this.config.imageUrl);this.config.hasOwnProperty("imageEdgeToEdge")&&(this.imageEdgeToEdge=this.config.imageEdgeToEdge);this.config.styles&&(this.styles=this.config.styles);this.styles.hasOwnProperty("modal")&&this.styles.modal.hasOwnProperty("max_width")&&(this.maxWidth=this.styles.modal.max_width-20);this.frameDoc=this.iframe.contentWindow.document},postCreate:function(){this.signupForm=
new h({config:this.config,subscribeUrl:this.subscribeUrl,honeypotFieldName:this.honeypotFieldName});this.frameDoc.write('\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3chead\x3e\x3cmeta name\x3d"viewport" content\x3d"width\x3ddevice-width, initial-scale\x3d1, maximum-scale\x3d1, user-scalable\x3dno"/\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e');this.frameDoc.close();this.signupForm.placeAt(this.frameDoc.body);this.signupForm.startup();r([this.loadCommonCss(),this.loadLayoutCss(),this.loadCustomCss()]).then(a.hitch(this,
"updateDocHeight"));e(window,"resize",a.hitch(this,function(){this.updateDocHeight();this._addMobileClass(this._isMobileView())}));this.signupForm.on("resizeFrame",a.hitch(this,function(){this.updateDocHeight()}));"fixed"===this.config.modalVariation&&(u.set(this.signupForm.descriptionContainer,this._cleanText(this.config.description)),this._showPlaceholderText())},startup:function(){this.inherited(arguments);this.mobileView=this._isMobileView();this._addMobileClass(this.mobileView)},_cleanText:function(a){a=
a.replace(/<\/?[^>]+(>|$)/gi,"");a=a.replace(/&nbsp;/gi," ");return 50<a.length?a.substring(0,50)+"...":a},_addMobileClass:function(a){var b=this.frameDoc.getElementsByClassName("modalContent")[0];a?q.add(b,"modalContent--mobile"):q.remove(b,"modalContent--mobile")},_showPlaceholderText:function(){(this.mobileView=this._isMobileView())?p.remove(this.signupForm.formNode[0],"placeholder"):p.set(this.signupForm.formNode[0],"placeholder","Enter your email")},docHeight:function(){return d.getContentBox(this.signupForm.domNode).h},
updateDocHeight:function(){try{n.set(this.iframe,"height",this.docHeight()+"px"),n.set(f(".mc-layout__modalContent")[0],"max-height",this.docHeight()+"px"),"fixed"===this.config.modalVariation&&n.set(f(".mc-layout__modalContent")[0],"max-height",this.docHeight()+1+"px")}catch(a){}},_isMobileView:function(){return c.getBox().w<=this.maxWidth?!0:!1},loadCommonCss:function(){var a=new t,b=this.frameDoc.createElement("link");b.rel="stylesheet";b.type="text/css";b.href="dev"===this.env?"/css/signup-forms/popup/common.css":
"//downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/common.css";b.media="all";e(b,"load",function(){a.resolve()});this.frameDoc.getElementsByTagName("head")[0].appendChild(b);return a.promise},loadLayoutCss:function(){this.layoutCssNode&&b.destroy(this.layoutCssNode);var a=new t;this.layoutCssNode=this.frameDoc.createElement("link");this.layoutCssNode.rel="stylesheet";this.layoutCssNode.type="text/css";"dev"===this.env?(this.layoutCssNode.href="/css/signup-forms/popup/layout-"+this.template+
".css","fixed"===this.config.modalVariation&&(this.layoutCssNode.href="/css/signup-forms/popup/layout-fixed.css",this.template=1)):(this.layoutCssNode.href="//downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/layout-"+this.template+".css","fixed"===this.config.modalVariation&&(this.layoutCssNode.href="//downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/layout-fixed.css",this.template=1));this.layoutCssNode.media="all";e(this.layoutCssNode,"load",function(){a.resolve()});
this.frameDoc.getElementsByTagName("head")[0].appendChild(this.layoutCssNode);return a.promise},loadCustomCss:function(){this.customCssNode&&b.destroy(this.customCssNode);var a=new t;this.customCssNode=this.createStyleNode(this.frameDoc);var c=this.getStyleSheet(this.customCssNode);if(this.styles)for(var d in this.styles)if(this.styles.hasOwnProperty(d))switch(d){case "button":for(var e in this.styles[d])switch(e){case "color":this.addCSSRule(c,".button","background-color:"+this.styles[d][e]+";");
break;case "hover_color":this.addCSSRule(c,".button:hover","background-color:"+this.styles[d][e]+";");break;case "text_color":this.addCSSRule(c,".button","color:"+this.styles[d][e]+";");break;case "alignment":"right"==this.styles[d][e]?this.addCSSRule(c,".button","float:right;"):"center"==this.styles[d][e]?(this.addCSSRule(c,".button","float:none;margin-left:auto;margin-right:auto;"),9>=w("ie")?(this.addCSSRule(c,".button","display:table-cell;"),this.addCSSRule(c,".content__button","margin-left:auto;margin-right:auto;display:table;")):
this.addCSSRule(c,".button","display:table;")):this.addCSSRule(c,".button","float:left;");break;case "style":"full"==this.styles[d][e]&&this.addCSSRule(c,".button","width:100%;")}break;case "labels":for(e in this.styles[d])switch(e){case "color":this.addCSSRule(c,"label","color:"+this.styles[d][e]+";");break;case "font":this.addCSSRule(c,"label","font-family:"+this.styles[d][e]+";")}}this.imageUrl&&1!=this.template&&this.addCSSRule(c,".modalContent__image","background-image:url("+this.imageUrl+");");
this.imageEdgeToEdge&&this.addCSSRule(c,".modalContent__image","background-size:cover;");a.resolve();return a.promise}})})},"mojo/signup-forms/SignupForm":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dojo/_base/array dojo/query dojo/io-query dojo/on dojo/_base/lang dojo/request/script dojo/dom-form dojo/dom-geometry dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/html dojo/Evented dojo/text!./templates/form.html dojo/text!./templates/gdprBlock.html dojo/text!./inputs/templates/Text.html dojo/text!./inputs/templates/Address.html dojo/text!./inputs/templates/Email.html dojo/text!./inputs/templates/Birthday.html dojo/text!./inputs/templates/Date.html dojo/text!./inputs/templates/Phone.html dojo/text!./inputs/templates/Number.html dojo/text!./inputs/templates/Url.html dojo/text!./inputs/templates/RadioCheckbox.html dojo/text!./inputs/templates/GdprCheckbox.html dojo/text!./inputs/templates/Select.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J){var T=l([],{isEmpty:function(){var b;a.forEach(this.inputs,d.hitch(this,function(a){b="radio"==a.type||"checkbox"==a.type||"option"==a.tagName.toLowerCase()?"boolean"===typeof b?b&&!this._checked(a):!this._checked(a):"boolean"===typeof b?b&&this._empty(a.value):this._empty(a.value)}));return b},isChecked:function(){a.some(this.inputs,d.hitch(this,function(a){if(this._checked(a))return!0}));return!1},isEmail:function(){return this._email(this.inputs[0].value)},
isPhone:function(){return this._phone(this.phoneAreaNode.value,this.phoneDetail1Node.value,this.phoneDetail2Node.value)},isUrl:function(){return this._url(this.inputs[0].value)},isNumber:function(){return this._number(this.inputs[0].value)},isBirthday:function(){return this._monthDigits(this.monthNode.value)&&this._dayDigits(this.dayNode.value)},isDate:function(){return this._yearDigits(this.yearNode.value)&&this._monthDigits(this.monthNode.value)&&this._dayDigits(this.dayNode.value)},isAddress:function(){return!this._empty(this.address1Node.value)&&
!this._empty(this.cityNode.value)&&!this._empty(this.stateNode.value)&&this._checked(c(":checked",this.countrySelectNode)[0])&&!this._empty(this.zipNode.value)},_required:function(a){return 0<a.trim().length},_empty:function(a){return null===a||"undefined"===typeof a||""===a},_email:function(a){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},_yearDigits:function(a){return this._digits(a)&&this._range(a,
[1,9999])},_monthDigits:function(a){return this._digits(a)&&this._range(a,[1,12])},_dayDigits:function(a){return this._digits(a)&&this._range(a,[1,31])},_digits:function(a){return/^\d+$/.test(a)},_range:function(a,b){return a>=b[0]&&a<=b[1]},_number:function(a){return this._digits(a)&&!isNaN(a)},_minlength:function(a,b){return a.trim().length>=b},_maxlength:function(a,b){return a.trim().length<=b},_exactLength:function(a,b){return a.trim().length==b},_zipcode:function(a){return/^\d{5}-\d{4}$|^\d{5}$/.test(a)},
_url:function(a){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
_phone:function(a,b,c){return this._digits(a)&&this._digits(b)&&this._digits(c)&&this._exactLength(a,3)&&this._exactLength(b,3)&&this._exactLength(c,4)},_checked:function(a){return a.checked||a.selected&&!this._empty(a.value)},_checkable:function(a){return/radio|checkbox/i.test(a.type)}});f=l([f,T],{_onBlur:function(){this.inherited(arguments);this.validateField()},validateField:function(){var a=[],b,c;this.required&&((b=!this.isEmpty())||a.push("This field is required."));switch(this.validateAsType){case "email":b=
this.isEmpty()||this.isEmail();c="Please enter a valid email address.";break;case "address":b=this.isEmpty()||this.isAddress();c="Please enter a valid address.";break;case "phone":b=this.isEmpty()||this.isPhone();c="Please enter a valid phone number.";break;case "url":b=this.isEmpty()||this.isUrl();c="Please enter a valid url.";break;case "number":b=this.isEmpty()||this.isNumber();c="Please enter a valid number.";break;case "birthday":b=this.isEmpty()||this.isBirthday();c="Please enter a valid birthday.";
break;case "date":b=this.isEmpty()||this.isDate();c="Please enter a valid date.";break;case "radiocheckbox":case "select":this.isEmpty()||this.isChecked();default:b=!0}b||a.push(c);this.setFieldValidationStatus(a);return a},setFieldValidationStatus:function(a){0<a.length?this.setFieldAsInvalid(a[0]):this.setFieldAsValid()},setFieldAsInvalid:function(a){this.inputs.addClass("invalid").removeClass("valid");u.set(this.errorsNode,a);r.set(this.errorsNode,"display","block")},setFieldAsValid:function(){this.inputs.addClass("valid").removeClass("invalid");
r.set(this.errorsNode,"display","none")},resetField:function(){this.inputs.removeClass("valid").removeClass("invalid");r.set(this.errorsNode,"display","none")},_getErrorsNode:function(){var a=c(".invalid-error",this.domNode)[0];a||(a=q.place('\x3cdiv class\x3d"invalid-error"\x3e\x3c/div\x3e',this.domNode));return a}});f=l([k,h,f],{required:!1,inputs:[],errorsNode:null,postCreate:function(){this.inputs=c("input:not([type\x3d'hidden']), select option",this.domNode);this.errorsNode=this._getErrorsNode()}});
var V=l([f],{templateString:x,validateAsType:"text"}),P=l([f],{templateString:F,validateAsType:"number"}),K=l([f],{templateString:A,validateAsType:"address",postCreate:function(){a.forEach([{id:"286",name:"Aaland Islands"},{id:"274",name:"Afghanistan"},{id:"2",name:"Albania"},{id:"3",name:"Algeria"},{id:"178",name:"American Samoa"},{id:"4",name:"Andorra"},{id:"5",name:"Angola"},{id:"176",name:"Anguilla"},{id:"175",name:"Antigua And Barbuda"},{id:"6",name:"Argentina"},{id:"7",name:"Armenia"},{id:"179",
name:"Aruba"},{id:"8",name:"Australia"},{id:"9",name:"Austria"},{id:"10",name:"Azerbaijan"},{id:"11",name:"Bahamas"},{id:"12",name:"Bahrain"},{id:"13",name:"Bangladesh"},{id:"14",name:"Barbados"},{id:"15",name:"Belarus"},{id:"16",name:"Belgium"},{id:"17",name:"Belize"},{id:"18",name:"Benin"},{id:"19",name:"Bermuda"},{id:"20",name:"Bhutan"},{id:"21",name:"Bolivia"},{id:"22",name:"Bosnia and Herzegovina"},{id:"23",name:"Botswana"},{id:"181",name:"Bouvet Island"},{id:"24",name:"Brazil"},{id:"180",name:"Brunei Darussalam"},
{id:"25",name:"Bulgaria"},{id:"26",name:"Burkina Faso"},{id:"27",name:"Burundi"},{id:"28",name:"Cambodia"},{id:"29",name:"Cameroon"},{id:"30",name:"Canada"},{id:"31",name:"Cape Verde"},{id:"32",name:"Cayman Islands"},{id:"33",name:"Central African Republic"},{id:"34",name:"Chad"},{id:"35",name:"Chile"},{id:"36",name:"China"},{id:"185",name:"Christmas Island"},{id:"37",name:"Colombia"},{id:"204",name:"Comoros"},{id:"38",name:"Congo"},{id:"183",name:"Cook Islands"},{id:"268",name:"Costa Rica"},{id:"275",
name:"Cote D'Ivoire"},{id:"40",name:"Croatia"},{id:"276",name:"Cuba"},{id:"298",name:"Curacao"},{id:"41",name:"Cyprus"},{id:"42",name:"Czech Republic"},{id:"43",name:"Denmark"},{id:"44",name:"Djibouti"},{id:"289",name:"Dominica"},{id:"187",name:"Dominican Republic"},{id:"233",name:"East Timor"},{id:"45",name:"Ecuador"},{id:"46",name:"Egypt"},{id:"47",name:"El Salvador"},{id:"48",name:"Equatorial Guinea"},{id:"49",name:"Eritrea"},{id:"50",name:"Estonia"},{id:"51",name:"Ethiopia"},{id:"189",name:"Falkland Islands"},
{id:"191",name:"Faroe Islands"},{id:"52",name:"Fiji"},{id:"53",name:"Finland"},{id:"54",name:"France"},{id:"193",name:"French Guiana"},{id:"277",name:"French Polynesia"},{id:"56",name:"Gabon"},{id:"57",name:"Gambia"},{id:"58",name:"Georgia"},{id:"59",name:"Germany"},{id:"60",name:"Ghana"},{id:"194",name:"Gibraltar"},{id:"61",name:"Greece"},{id:"195",name:"Greenland"},{id:"192",name:"Grenada"},{id:"196",name:"Guadeloupe"},{id:"62",name:"Guam"},{id:"198",name:"Guatemala"},{id:"270",name:"Guernsey"},
{id:"63",name:"Guinea"},{id:"65",name:"Guyana"},{id:"200",name:"Haiti"},{id:"66",name:"Honduras"},{id:"67",name:"Hong Kong"},{id:"68",name:"Hungary"},{id:"69",name:"Iceland"},{id:"70",name:"India"},{id:"71",name:"Indonesia"},{id:"278",name:"Iran"},{id:"279",name:"Iraq"},{id:"74",name:"Ireland"},{id:"75",name:"Israel"},{id:"76",name:"Italy"},{id:"202",name:"Jamaica"},{id:"78",name:"Japan"},{id:"288",name:"Jersey  (Channel Islands)"},{id:"79",name:"Jordan"},{id:"80",name:"Kazakhstan"},{id:"81",name:"Kenya"},
{id:"203",name:"Kiribati"},{id:"82",name:"Kuwait"},{id:"83",name:"Kyrgyzstan"},{id:"84",name:"Lao People's Democratic Republic"},{id:"85",name:"Latvia"},{id:"86",name:"Lebanon"},{id:"87",name:"Lesotho"},{id:"88",name:"Liberia"},{id:"281",name:"Libya"},{id:"90",name:"Liechtenstein"},{id:"91",name:"Lithuania"},{id:"92",name:"Luxembourg"},{id:"208",name:"Macau"},{id:"93",name:"Macedonia"},{id:"94",name:"Madagascar"},{id:"95",name:"Malawi"},{id:"96",name:"Malaysia"},{id:"97",name:"Maldives"},{id:"98",
name:"Mali"},{id:"99",name:"Malta"},{id:"207",name:"Marshall Islands"},{id:"210",name:"Martinique"},{id:"100",name:"Mauritania"},{id:"212",name:"Mauritius"},{id:"241",name:"Mayotte"},{id:"101",name:"Mexico"},{id:"102",name:"Moldova, Republic of"},{id:"103",name:"Monaco"},{id:"104",name:"Mongolia"},{id:"290",name:"Montenegro"},{id:"294",name:"Montserrat"},{id:"105",name:"Morocco"},{id:"106",name:"Mozambique"},{id:"242",name:"Myanmar"},{id:"107",name:"Namibia"},{id:"108",name:"Nepal"},{id:"109",name:"Netherlands"},
{id:"110",name:"Netherlands Antilles"},{id:"213",name:"New Caledonia"},{id:"111",name:"New Zealand"},{id:"112",name:"Nicaragua"},{id:"113",name:"Niger"},{id:"114",name:"Nigeria"},{id:"217",name:"Niue"},{id:"214",name:"Norfolk Island"},{id:"272",name:"North Korea"},{id:"116",name:"Norway"},{id:"117",name:"Oman"},{id:"118",name:"Pakistan"},{id:"222",name:"Palau"},{id:"282",name:"Palestine"},{id:"119",name:"Panama"},{id:"219",name:"Papua New Guinea"},{id:"120",name:"Paraguay"},{id:"121",name:"Peru"},
{id:"122",name:"Philippines"},{id:"221",name:"Pitcairn"},{id:"123",name:"Poland"},{id:"124",name:"Portugal"},{id:"126",name:"Qatar"},{id:"315",name:"Republic of Kosovo"},{id:"127",name:"Reunion"},{id:"128",name:"Romania"},{id:"129",name:"Russia"},{id:"130",name:"Rwanda"},{id:"205",name:"Saint Kitts and Nevis"},{id:"206",name:"Saint Lucia"},{id:"237",name:"Saint Vincent and the Grenadines"},{id:"132",name:"Samoa (Independent)"},{id:"227",name:"San Marino"},{id:"133",name:"Saudi Arabia"},{id:"134",
name:"Senegal"},{id:"266",name:"Serbia"},{id:"135",name:"Seychelles"},{id:"136",name:"Sierra Leone"},{id:"137",name:"Singapore"},{id:"302",name:"Sint Maarten"},{id:"138",name:"Slovakia"},{id:"139",name:"Slovenia"},{id:"223",name:"Solomon Islands"},{id:"140",name:"Somalia"},{id:"141",name:"South Africa"},{id:"257",name:"South Georgia and the South Sandwich Islands"},{id:"142",name:"South Korea"},{id:"311",name:"South Sudan"},{id:"143",name:"Spain"},{id:"144",name:"Sri Lanka"},{id:"293",name:"Sudan"},
{id:"146",name:"Suriname"},{id:"225",name:"Svalbard and Jan Mayen Islands"},{id:"147",name:"Swaziland"},{id:"148",name:"Sweden"},{id:"149",name:"Switzerland"},{id:"285",name:"Syria"},{id:"152",name:"Taiwan"},{id:"260",name:"Tajikistan"},{id:"153",name:"Tanzania"},{id:"154",name:"Thailand"},{id:"155",name:"Togo"},{id:"232",name:"Tonga"},{id:"234",name:"Trinidad and Tobago"},{id:"156",name:"Tunisia"},{id:"157",name:"Turkey"},{id:"287",name:"Turks \x26amp; Caicos Islands"},{id:"159",name:"Uganda"},{id:"161",
name:"Ukraine"},{id:"162",name:"United Arab Emirates"},{id:"262",name:"United Kingdom"},{id:"163",name:"Uruguay"},{id:"165",name:"Uzbekistan"},{id:"239",name:"Vanuatu"},{id:"166",name:"Vatican City State (Holy See)"},{id:"167",name:"Venezuela"},{id:"168",name:"Vietnam"},{id:"169",name:"Virgin Islands (British)"},{id:"238",name:"Virgin Islands (U.S.)"},{id:"188",name:"Western Sahara"},{id:"170",name:"Yemen"},{id:"173",name:"Zambia"},{id:"174",name:"Zimbabwe"}],d.hitch(this,function(a){q.place('\x3coption value\x3d"'+
a.id+'"\x3e'+a.name+"\x3c/option\x3e",this.countrySelectNode,"last")}));this.inherited(arguments)}}),M=l([f],{templateString:z,validateAsType:"email"}),H=l([f],{templateString:B,validateAsType:"birthday",validateAsGroup:!0,postCreate:function(){this.inherited(arguments);"DD/MM"==this.dateformat&&(q.place(this.dayNode,this.inputsContainer,"first"),q.place(this.monthNode,this.inputsContainer,"last"))}}),X=l([f],{templateString:C,validateAsType:"date",validateAsGroup:!0,postCreate:function(){this.inherited(arguments);
"MM/DD/YYYY"==this.dateformat?(q.place(this.monthNode,this.inputsContainer,"first"),q.place(this.yearNode,this.inputsContainer,"last")):"DD/MM/YYYY"===this.dateformat&&(q.place(this.dayNode,this.inputsContainer,"first"),q.place(this.yearNode,this.inputsContainer,"last"))}}),R=l([f],{templateString:D,validateAsType:"phone",validateAsGroup:!0}),N=l([f],{templateString:G,validateAsType:"url"}),Q=l([f],{templateString:I,validateAsType:"radiocheckbox",postCreate:function(){a.forEach(this.choices,d.hitch(this,
function(a,b){var c=this.merge_id?this.name+"-"+b:this.name+"-"+this.group_id+"-"+b,c="mc-"+c,d='\x3cli\x3e\x3cinput id \x3d"'+c+'" type\x3d"'+this.type+'" value\x3d"'+a.value+'" name\x3d"'+this.name;"checkbox"==this.type&&(d+="["+a.value+"]");d+='" /\x3e\x3clabel for\x3d"'+c+'"\x3e'+a.label+"\x3c/label\x3e\x3c/li\x3e";q.place(d,this.choicesContainer,"last")}));this.inherited(arguments)}}),S=l([f],{templateString:L,validateAsType:"radiocheckbox"}),Y=l([k,h],{templateString:y,gdprLabel:"",gdprDescription:"",
gdprLegal:"",gdprMCLegal:"",postCreate:function(){this.inherited(arguments);q.place(this.gdprMCLegal,this.gdprMcLegalContainer)}}),O=l([f],{templateString:J,validateAsType:"select",postCreate:function(){var b=[];a.forEach(this.choices,d.hitch(this,function(a){var c=q.toDom('\x3coption value\x3d"'+a.value+'"\x3e'+a.label+"\x3c/option\x3e");this._empty(a.label)&&b.push(c);q.place(c,this.choicesContainer,"last")}));0<b.length?t.set(b[0],"selected","selected"):q.place('\x3coption value\x3d"" selected\x3d"selected"\x3e\x3c/option\x3e',
this.choicesContainer,"first");this.inherited(arguments)}});return l("SignupForm",[k,h,w],{templateString:v,subscribeUrl:"#",honeypotFieldName:"",fields:[],buttonLabel:"Subscribe",description:"",footer:"",config:{},constructor:function(){this.formIsValid=!1;this.fieldNodes=[]},postMixInProperties:function(){this.fields=this.config.fields;this.footer=this.config.footer;this.description=this.config.description;this.modalVariation=this.config.modalVariation;this.template=this.config.template;this.hasGdprEnabled=
this.config.hasGdprEnabled;this.gdprLabel=this.config.gdprLabel;this.gdprDescription=this.config.gdprDescription;this.gdprLegal=this.config.gdprLegal;this.gdprMCLegal=q.toDom("\x3cspan\x3e"+this.config.gdprMCLegal+"\x3c/span\x3e");this.config.buttonLabel&&(this.buttonLabel=this.config.buttonLabel)},postCreate:function(){this.hasGdprEnabled&&(this.gdprContainer=new Y({gdprLabel:this.gdprLabel,gdprDescription:this.gdprDescription,gdprLegal:this.gdprLegal,gdprMCLegal:this.gdprMCLegal}),"modal"!==this.modalVariation||
1!==this.template&&2!==this.template||this.gdprContainer.placeAt(this.formFieldsContainer,"after"));this.addFields();this.addHoneypot();u.set(this.footerContainer,this.footer);u.set(this.descriptionContainer,this.description);var a=this;m(this.formNode,"submit",function(d){d.stopPropagation();d.preventDefault();a._validateForm();a.formIsValid?(a.config.captcha?(d=a._getCaptchaForm(),window.open(d),r.set(c(".mc-closeModal",this.modalClose)[0],"display","none"),r.set(c(".mc-modal",this.mcModal)[0],
"display","none"),r.set(c(".mc-modal-bg",this.modalOverlay)[0],"display","none")):b.get(a._getJsonPostUrl(),{jsonp:"c",query:n.toQuery(a.formNode)}).then(function(b){"error"===b.result?a._handleErrorResponse(b):a._handleSuccessResponse(b);a.emit("resizeFrame",{})}),a.setCookieOnSubscribe()):a.emit("resizeFrame",{})})},setCookieOnSubscribe:function(){var a=new Date((new Date).getTime()+7889238E3);document.cookie="MCPopupSubscribed\x3dyes;expires\x3d"+a.toUTCString()+";path\x3d/"},addFields:function(){this.fieldNodes.length&&
(a.forEach(this.fieldNodes,function(a){a.destroy()}),this.fieldNodes=[],q.empty(this.formFieldsContainer),this.hasGdprEnabled&&q.empty(this.gdprContainer.gdprFieldsContainer));a.forEach(this.fields,d.hitch(this,function(a){var b=this._createField(a);this.hasGdprEnabled&&a.marketing_preference_id?b.placeAt(this.gdprContainer.gdprFieldsContainer):b.placeAt(this.formFieldsContainer);b.startup()}))},addHoneypot:function(){var a=q.toDom('\x3cdiv style\x3d"position:absolute;left:-5000px;"\x3e\x3cinput type\x3d"text" name\x3d"'+
this.honeypotFieldName+'" tabindex\x3d"-1" value\x3d""\x3e\x3c/div\x3e');"fixed"===this.modalVariation&&(a=q.toDom('\x3cdiv style\x3d"position:absolute;top:-5000px;width:0" aria-hidden\x3d"true"\x3e\x3cinput type\x3d"text" name\x3d"'+this.honeypotFieldName+'" tabindex\x3d"-1" value\x3d""\x3e\x3c/div\x3e'));q.place(a,this.formFieldsContainer,"last")},_validateForm:function(){var b=[];a.forEach(this.fieldNodes,function(a){a=a.validateField();0<a.length&&b.push(a)});this.formIsValid=!(0<b.length)},_createField:function(a){switch(a.type){case "email":a=
new M(a);break;case "address":a=new K(a);break;case "birthday":a=new H(a);break;case "date":a=new X(a);break;case "phone":a="US"==a.phoneformat?new R(a):new V(a);break;case "number":a=new P(a);break;case "select":case "dropdown":a=new O(a);break;case "radio":case "checkbox":a=a.marketing_preference_id?new S(a):new Q(a);break;case "url":case "image":a=new N(a);break;default:a=new V(a)}this.fieldNodes.push(a);return a},_handleSuccessResponse:function(b){var e=c(".popup-signup-success",this.formResponseMessages)[0];
e||(e=q.place('\x3cdiv class\x3d"popup-signup-success"\x3e\x3c/div\x3e',this.formResponseMessages));var f="",h=b.type,f="custom"!==h?"\x3cspan style\x3d'font-size: 24px;'\x3e\x3cspan style\x3d'font-family:arial,helvetica neue,helvetica,sans-serif;'\x3e"+b.msg+"\x3c/span\x3e\x3c/span\x3e":b.msg;u.set(e,f);(b=c(".flash-errors",this.formResponseMessages)[0])&&r.set(b,"display","none");this.formNode.reset();a.forEach(this.fieldNodes,function(a){a.resetField()});r.set(this.formContentContainer,"display",
"none");r.set(this.formImageContainer,"display","none");if("confirmation"!==h){var k=c(".mc-closeModal",this.modalClose)[0],l=c(".mc-modal",this.mcModal)[0],m=c(".mc-modal-bg",this.modalOverlay)[0];setTimeout(d.hitch(this,function(){r.set(e,"display","none");r.set(k,"display","none");r.set(l,"display","none");r.set(m,"display","none")}),3E3)}},_handleErrorResponse:function(b){var d=c(".popup-signup-success",this.formResponseMessages)[0];d&&r.set(d,"display","none");b.msg&&((d=c(".flash-errors",this.formResponseMessages)[0])||
(d=q.place('\x3cdiv class\x3d"flash-errors"\x3e\x3c/div\x3e',this.formResponseMessages)),u.set(d,b.msg),"absolute"===r.getComputedStyle(this.formImageContainer).position&&r.set(this.formImageContainer,{top:p.getMarginBox(d).h+"px"}));b.errors&&a.forEach(this.fieldNodes,function(a){b.errors.hasOwnProperty(a.merge_id)?a.setFieldAsInvalid(b.errors[a.merge_id]):a.setFieldAsValid()})},_getJsonPostUrl:function(){var a=this.subscribeUrl;return a=a.replace("/form-post?u\x3d","/form-post-json?u\x3d")},_getCaptchaForm:function(){var a=
this.subscribeUrl.replace("/form-post?u\x3d","/post?u\x3d"),b=a.substring(a.indexOf("?")+1,a.length),a=a.split("?")[0],b=e.queryToObject(b),c=n.toObject(this.formNode),b=Object.assign(b,c),b=e.objectToQuery(b);return a+"?"+b},toHTML:function(){return this.domNode.outerHTML}})})},"mojo/widgets/_CustomStyleRulesMixin":function(){define(["dojo/_base/declare","dojo/sniff"],function(l,k){return l([],{createStyleNode:function(h,f){var a;if(f&&(a=h.getElementById(f)))return a;a=document.createElement("style");
a.type="text/css";a.setAttribute("id",f?f:"");h.getElementsByTagName("head")[0].appendChild(a);return a},getStyleSheet:function(h){9>k("ie")?h=h.styleSheet:(h.appendChild(document.createTextNode("")),h=h.sheet);this.addCSSRule(h,"body","width:100%;height:100%;",0);return h},addCSSRule:function(h,f,a,c){c="undefined"!==typeof c?c:"cssRules"in h?h.cssRules.length:h.rules.length;"insertRule"in h?h.insertRule(f+"{"+a+"}",c):"addRule"in h&&h.addRule(f,a,c)}})})},"mojo/signup-forms/BannerPreview":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/on","dojo/dom-construct","./BannerFrame"],function(l,k,h,f,a){return l([a],{config:{},previewCssNode:null,postCreate:function(){this.inherited(arguments);this.config.watch("description",k.hitch(this,"updateDescription"));this.config.watch("buttonLabel",k.hitch(this,"updateButtonLabel"));this.config.watch("styles",k.hitch(this,"updateStyles"))},updateDescription:function(a,e,f){this.bannerContent.bannerDescription.innerHTML=this._cleanText(f);this.updateDocHeight()},updateButtonLabel:function(a,
e,f){this.bannerContent.bannerClose.innerHTML=f},updateStyles:function(a,e,f){this.styles=f;this.loadCustomCss().then(k.hitch(this,"updateDocHeight"))},_cleanText:function(a){a=a.replace(/<\/?[^>]+(>|$)/gi,"");a=a.replace(/&nbsp;/gi," ");return 140<a.length?a.substring(0,140)+"...":a}})})},"mojo/signup-forms/BannerFrame":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/query dojo/_base/lang dojo/window dojo/on dojo/dom dojo/dom-geometry dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/html dojo/promise/all dojo/Deferred dojo/sniff dojo/text!./templates/banner.html mojo/widgets/_CustomStyleRulesMixin dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){var y=l([k,h],{templateString:w,config:{},description:"",subscribeLabel:"Subscribe",closeLabel:"Close",postMixInProperties:function(){this.config.closeLabel&&(this.closeLabel=this.config.closeLabel);this.config.description&&(this.description=this.config.description);this.config.buttonLabel&&(this.subscribeLabel=this.config.buttonLabel)},postCreate:function(){this.inherited(arguments);q.set(this.bannerDescription,this._cleanText(this.description))},_cleanText:function(a){a=
a.replace(/<\/?[^>]+(>|$)/gi,"");a=a.replace(/&nbsp;/gi," ");return 140<a.length?a.substring(0,140)+"...":a}});return l([k,v],{version:"1.0",iframe:null,frameDoc:null,config:{},customCssNode:null,env:"prod",constructor:function(a){if(!a.iframe||!a.iframe.tagName||"iframe"!=a.iframe.tagName.toLowerCase())throw Error("You must specify an iframe attribute to an iframe element");},postMixInProperties:function(){this.config.version&&(this.version=this.config.version);this.config.styles&&(this.styles=this.config.styles);
this.frameDoc=this.iframe.contentWindow.document},postCreate:function(){this.bannerContent=new y({config:this.config});this.frameDoc.write('\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3chead\x3e\x3cmeta name\x3d"viewport" content\x3d"width\x3ddevice-width, initial-scale\x3d1, maximum-scale\x3d1, user-scalable\x3dno"/\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e');this.frameDoc.close();this.bannerContent.placeAt(this.frameDoc.body);r([this.loadCommonCss(),this.loadBannerCss(),this.loadCustomCss()]).then(a.hitch(this,
function(){this.defer(this.updateDocHeight,500)}));e(window,"resize",a.hitch(this,function(){this.updateDocHeight()}))},startup:function(){this.inherited(arguments)},docHeight:function(){return d.getMarginBox(this.bannerContent.bannerContainer).h},updateDocHeight:function(){try{n.set(this.iframe,"height",this.docHeight()+"px")}catch(a){}},loadCommonCss:function(){var a=new t,b=this.frameDoc.createElement("link");b.rel="stylesheet";b.type="text/css";b.href="dev"==this.env?"/css/signup-forms/popup/common.css":
"//downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/common.css";b.media="all";e(b,"load",function(){a.resolve()});this.frameDoc.getElementsByTagName("head")[0].appendChild(b);return a.promise},loadBannerCss:function(){var a=new t,b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href="dev"==this.env?"/css/signup-forms/popup/banner.css":"//downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/banner.css";b.media="all";e(b,"load",function(){a.resolve()});
this.frameDoc.getElementsByTagName("head")[0].appendChild(b);return a.promise},loadCustomCss:function(){this.customCssNode&&b.destroy(this.customCssNode);var a=new t;this.customCssNode=this.createStyleNode(this.frameDoc);var c=this.getStyleSheet(this.customCssNode);if(this.styles)for(var d in this.styles)if(this.styles.hasOwnProperty(d))switch(d){case "button":for(var e in this.styles[d])switch(e){case "color":this.addCSSRule(c,".bannerContent__subscribeButton","background-color:"+this.styles[d][e]+
";");break;case "hover_color":this.addCSSRule(c,".bannerContent__subscribeButton:hover","background-color:"+this.styles[d][e]+";");break;case "text_color":this.addCSSRule(c,".bannerContent__subscribeButton","color:"+this.styles[d][e]+";");break;case "alignment":"right"===this.styles[d][e]?this.addCSSRule(c,".bannerContent__subscribeButton","float:right;"):"center"===this.styles[d][e]?(this.addCSSRule(c,".bannerContent__subscribeButton","float:none;margin-left:auto;margin-right:auto;"),9>=u("ie")?
(this.addCSSRule(c,".bannerContent__subscribeButton","display:table-cell;"),this.addCSSRule(c,".bannerContent__buttonContainer","margin-left:auto;margin-right:auto;display:table;")):this.addCSSRule(c,".bannerContent__subscribeButton","display:table;")):this.addCSSRule(c,".bannerContent__subscribeButton","float:left;");break;case "style":"full"==this.styles[d][e]&&this.addCSSRule(c,".bannerContent__subscribeButton","width:100%;")}}a.resolve();return a.promise}})})},"mojo/signup-forms/PopupSignupForm":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/modal.html ./SignupFormFrame ./BannerFrame dojo/query dojo/_base/lang dojo/on dojo/dom-construct dojo/dom-style dojo/sniff dojo/keys dojo/promise/all dojo/Deferred dojo/dom-class mojo/widgets/_CustomStyleRulesMixin dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l("PopupSignupForm",[k,h,w],{templateString:f,popupDelay:1E3,popupOpacity:.65,closeLabel:"close",origOverflowValue:null,version:"1.0",config:{},subscribeUrl:"#",honeypotFieldName:"",customCssNode:null,env:"prod",postMixInProperties:function(){this.config.popupOpacity&&(this.popupOpacity=this.config.popupOpacity/100);this.config.popupDelay&&(isNaN(Number(this.config.popupDelay))?this.popupDelay=this.config.popupDelay:this.popupDelay=1E3*this.config.popupDelay);
this.config.styles&&(this.styles=this.config.styles);this.config.closeLabel&&(this.closeLabel=this.config.closeLabel);this.config.version&&(this.version=this.config.version);this.config.template&&(this.template=this.config.template)},postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);n.set(this.bannerContainer,"display","none");n.set(this.modalOverlay,"display","none");n.set(this.modalContainer,"display","none");this._hasCookie()||(this.bannerFrame=new c({iframe:this.iframeBannerContainer,
config:this.config}),this.bannerFrame.startup(),this.modalFrame=new a({iframe:this.iframeModalContainer,config:this.config,subscribeUrl:this.subscribeUrl,honeypotFieldName:this.honeypotFieldName,env:this.env}),this.modalFrame.startup(),this._setupModal(),r([this.loadModalCss(),this.loadCustomCss()]).then(m.hitch(this,"openModal")))},openModal:function(){function a(){d();document.removeEventListener(e,a,!1)}function b(){window.innerHeight+window.scrollY>=document.body.offsetHeight/2&&(d(),document.removeEventListener("scroll",
b,!1))}function c(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(d(),document.removeEventListener("scroll",c,!1))}var d=this._openModal.bind(this),e=dojo.isFF?"mouseout":"mouseleave";"exit"==this.popupDelay?-1<window.navigator.userAgent.indexOf("Edge")||dojo.isIE||window.screen&&640>window.screen.width?setTimeout(d,1E3):document.firstElementChild.addEventListener(e,a,!1):"middle"==this.popupDelay?document.addEventListener("scroll",b,!1):"bottom"==this.popupDelay?document.addEventListener("scroll",
c,!1):setTimeout(d,this.popupDelay)},closeModal:function(){this._closeModal()},showModal:function(){n.set(this.bannerContainer,"display","none");n.set(this.modalOverlay,"visibility","visible");n.set(this.modalContainer,"visibility","visible")},closeBanner:function(){n.set(this.bannerContainer,"display","none");this._closeModal()},_openModal:function(){n.set(this.bannerContainer,"display","block");n.set(this.modalOverlay,"display","block");n.set(this.modalContainer,"display","block");this.modalFrame.updateDocHeight();
n.set(this.modalOverlay,"opacity",this.popupOpacity);n.set(this.modalContainer,"opacity",1)},_closeModal:function(){-1===window.location.href.indexOf("mailchimp.com")&&this._setCookie();if(void 0===this.modalContainer.style.animation||"fixed"!==this.config.modalVariation&&"slide"!==this.config.modalVariation)this._hideOverlay();else try{this.modalContainer.addEventListener("webkitAnimationEnd",this._hideOverlay.bind(this)),this.modalContainer.addEventListener("animationend",this._hideOverlay.bind(this)),
u.add(this.modalContainer,"mc-modal--close")}catch(a){this._hideOverlay()}},_hideOverlay:function(){n.set(this.modalOverlay,"opacity",0);n.set(this.modalOverlay,"display","none");this._cleanup()},_cleanup:function(){b.destroy(this.domNode);n.set(document.body,"overflow",this.origOverflowValue)},_setupModal:function(){this.origOverflowValue=dojo.getComputedStyle(document.body).overflow;n.set(document.body,"overflow","auto");var a=this.bannerFrame.bannerContent;d(a.modalOpen,"click",m.hitch(this,"closeBanner"));
d(a.bannerClose,"click",m.hitch(this,"showModal"));d(e("[data-action\x3d'close-mc-modal']")[0],"click",m.hitch(this,"closeModal"));d(window.document,"keyup",m.hitch(this,function(a){a.keyCode==q.ESCAPE&&this.closeModal()}));d(this.modalFrame.frameDoc,"keyup",m.hitch(this,function(a){a.keyCode==q.ESCAPE&&this.closeModal()}))},loadModalCss:function(){var a=new t,b=document.createElement("link");b.rel="stylesheet";b.type="text/css";"dev"==this.env?(b.href="/css/signup-forms/popup/modal.css","slide"===
this.config.modalVariation?b.href="/css/signup-forms/popup/modal-slidein.css":"fixed"===this.config.modalVariation&&(b.href="/css/signup-forms/popup/modal-fixed.css")):(b.href="//downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/modal.css","slide"===this.config.modalVariation?b.href="//downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/modal-slidein.css":"fixed"===this.config.modalVariation&&(b.href="//downloads.mailchimp.com/css/signup-forms/popup/"+this.version+"/modal-fixed.css"));
b.media="all";d(b,"load",function(){a.resolve()});document.getElementsByTagName("head")[0].appendChild(b);return a.promise},loadCustomCss:function(){this.customCssNode&&b.destroy(this.customCssNode);var a=new t;this.customCssNode=this.createStyleNode(document);var c=this.getStyleSheet(this.customCssNode);if(this.styles)for(var d in this.styles)if(this.styles.hasOwnProperty(d))switch(d){case "modal":for(var e in this.styles[d])switch(e){case "close_link_color":this.addCSSRule(c,".mc-closeModal","color:"+
this.styles[d][e]+";")}}!this.template||3!==this.template&&4!==this.template||this.addCSSRule(c,".mc-modal","width: 603px;");a.resolve();return a.promise},_setCookie:function(){var a=new Date((new Date).getTime()+31536E6);document.cookie="MCPopupClosed\x3dyes;expires\x3d"+a.toGMTString()+";path\x3d/"},_hasCookie:function(){var a=document.cookie.split(";");for(i=0;i<a.length;i++)if(parts=a[i].split("\x3d"),-1!==parts[0].indexOf("MCPopupClosed")||-1!==parts[0].indexOf("MCPopupSubscribed"))return!0;
return!1}})})},"vendor/lodash-amd/isInteger":function(){define(["./toInteger"],function(l){return function(k){return"number"==typeof k&&k==l(k)}})},"vendor/lodash-amd/inRange":function(){define(["./_baseInRange","./toFinite","./toNumber"],function(l,k,h){return function(f,a,c){a=k(a);void 0===c?(c=a,a=0):c=k(c);f=h(f);return l(f,a,c)}})},"vendor/lodash-amd/_baseInRange":function(){define([],function(){var l=Math.max,k=Math.min;return function(h,f,a){return h>=k(f,a)&&h<l(f,a)}})},"mojo/views/lists/settings/defaults":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/on dijit/registry mojo/lib/flags mojo/user".split(" "),
function(l,k,h,f,a,c,e){return l([k],{captchaEnabled:null,captchaUserEnabled:null,doubleOptin:null,onReady:function(){this.optinSwitch=a.byId("double-optin");this.recaptchaInput=a.byId("enable_captcha");this.doubleOptin?this.recaptchaInput.set("checked","Y"===this.captchaEnabled):this.recaptchaInput.set("checked","Y"===this.captchaUserEnabled);f(this.optinSwitch,"change",h.hitch(this,function(){this.optinSwitch.checked?this.recaptchaInput.set("checked","Y"===this.captchaEnabled):this.recaptchaInput.set("checked",
"Y"===this.captchaUserEnabled)}))}})})},"mojo/views/lists/segments/new":function(){define("dojo/_base/declare mojo/views/_base dojo/on dojo/dom dojo/dom-class codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed codemirror4/addon/display/placeholder".split(" "),function(l,k,h,f,a,c){return l([k],{onReady:function(){var a=this;h(this.$widget.uploadSegment,"change",function(){a._toggleSegmentOptions()});this.editor=c.fromTextArea(this.$el.pasteArea,{mode:"text",tabMode:"indent",indentUnit:2,
smartIndent:!1,theme:"default",autoClearEmptyLines:!0,lineWrapping:!1,lineNumbers:!0});this._toggleSegmentOptions()},_toggleSegmentOptions:function(){var c=!0===this.$widget.uploadSegment.checked;a.toggle(this.$el.uploadSegmentContainer,"hide",!c);a.toggle(this.$el.pasteSegmentContainer,"hide",c);c||(this.editor.refresh(),this.editor.focus())}})})},"mojo/views/lists/segmentation-test/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-construct dojo/_base/lang dojo/on dojo/number dojo/request mojo/url mojo/utils mojo/segmentation/Segment mojo/app/campaigns/recipients".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k],{listId:null,segmentEditor:null,onReady:function(){this.segmentEditor=new b({configType:"full",listId:this.listId});h.place(this.segmentEditor.domNode,this.$el.editorContainer,"only");a(this.$el.runAdvancedBtn,"click",f.hitch(this,"runAdvancedSegment"));n.reloadSegmentCallbacks("segmentpane-"+this.listId);a(this.$el.runRegularBtn,"click",f.hitch(this,"runRegularSegment"))},runRegularSegment:function(){e.post(m.toUrl("/lists/segmentation-test/regular-count",
{id:this.listId}),{data:n.getSegmentData(this.listId),handleAs:"json"}).then(f.hitch(this,function(a){this.$el.regularCountLabel.innerHTML=this._getDisplayMessage(a)}))},runAdvancedSegment:function(){e.get(m.toUrl("/lists/segmentation-test/advanced-count"),{query:{id:this.listId,ast:JSON.stringify(this.segmentEditor.getAST())},handleAs:"json"}).then(f.hitch(this,function(a){this.$el.advancedCountLabel.innerHTML=this._getDisplayMessage(a)}))},_getDisplayMessage:function(a){return a.error?a.error:this._formatCountLabel(a.count)},
_formatCountLabel:function(a){return c.format(a)+" "+d.plural(a,"subscriber")}})})},"mojo/views/lists/members/contact-profile":function(){define("dojo/_base/declare mojo/views/_base dojo/on dojo/dom-construct dojo/router dijit/registry mojo/user mojo/lib/flags mojo/widgets/contact-profile/Api mojo/widgets/contact-profile/ProfileOverview mojo/widgets/contact-profile/ContactFields mojo/widgets/contact-profile/FieldsList mojo/widgets/contact-profile/FieldsListItem mojo/widgets/contact-profile/AddNote mojo/widgets/contact-profile/ActivityFeed mojo/widgets/contact-profile/Tags".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([k],{memberID:null,listID:null,openRate:null,clickRate:null,currency_symbol:null,has_ecomm:null,ecomm_total:null,order_average:null,has_social:null,social_profile_buy_module:null,selectedLanguage:null,media:null,gdprEnabled:!1,isHardDeleted:!1,onReady:function(){this.initProfileOverviewWidget();this.initContactFields();this.setupMetaInfo();e.flagIsOn(m.CRM_TAGS_V1)&&this.initTags();this.initAddNoteWidget();this.initActivityFeedWidget();this.setupModalRouter()},
initProfileOverviewWidget:function(){var a=new b({memberID:this.memberID,listID:this.listID,isHardDeleted:this.isHardDeleted});a.placeAt(this.$el.profileOverviewContainer);a.startup()},initContactFields:function(){var a=this.getInfoWidgets();a.placeAt(this.$el.contactFieldsContainer);a.startup()},getInfoWidgets:function(){return new n({memberID:this.memberID,listID:this.listID,openRate:this.openRate,clickRate:this.clickRate,currency_symbol:this.currency_symbol,has_ecomm:this.has_ecomm,ecomm_total:this.ecomm_total,
order_average:this.order_average,has_social:this.has_social,social_profile_buy_module:this.social_profile_buy_module,gdprEnabled:this.gdprEnabled})},initTags:function(){var a=new u({memberID:this.memberID,listID:this.listID});a.placeAt(this.$el.tagsContainer);a.startup()},initAddNoteWidget:function(){var a=new r({memberID:this.memberID});a.placeAt(this.$el.addNoteContainer);a.startup()},initActivityFeedWidget:function(){var a=new t({memberID:this.memberID});a.placeAt(this.$el.activityFeedContainer);
a.startup()},setupMetaInfo:function(){var a=this;h(this.$el.languageSelect,"change",function(b){a.selectedLanguage=b.target.value});h(this.$el.submitMetaDialog,"click",function(){a.submitMetaInfo()})},submitMetaInfo:function(){var a=document.querySelector('#format-radio input[type\x3d"radio"]:checked').value;d.submitMetaInfo(this.memberID,this.selectedLanguage,a)},setupModalRouter:function(){var b=this;a.register(":id",function(a){b.interpretHash(a.params.id)});a.startup();-1<window.location.href.indexOf("edit-post")&&
this.interpretHash("edit-profile-dialog")},interpretHash:function(a){a&&c.byId(a).show()}})})},"mojo/views/lists/members/index":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom dojo/on dojo/query dojo/parser dojo/aspect dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/_base/array dojo/dnd/Source dijit/registry dijit/Dialog dijit/form/DropDownButton mojo/analytics/SubscriberTable mojo/app/lists/SegmentBar mojo/app/lists/SegmentListOverlay mojo/widgets/contact-table/TopLevelSelectionBar mojo/widgets/tags/TagOverlay mojo/widgets/tags/Api mojo/url mojo/utils mojo/Pusher mojo/user mojo/app/lists/members mojo/app/campaigns/recipients mojo/app/lists/segments mojo/segmentation/Segment mojo/segmentation/api mojo/app/pro/segment mojo/maps mojo/lib/flags dojox/html/entities".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T,V,P,K,M,H){return l([k],{listId:null,totalMemberCount:0,emailStatus:"Y",shouldSegment:!1,selectedSegment:null,segments:null,userLat:null,userLng:null,userAddr:null,subscriberTable:null,segmentChannel:null,openSegmentOnLoad:!1,tags:[],onReady:function(){"custom"==this.selectedSegment&&(this.selectedSegment=this.getCustomSegment());this._setupMemberTable();G.flagIsOn(M.CRM_TAGS_V1)?this._initFilterSegmentBar():this._initSegmentBar();
this._toggleOverlays();G.pro&&V.getConfig(this.listId,"full");this.openSegmentOnLoad&&this.toggleSegment(!0)},getCustomSegment:function(){return{status:"started"}},_setupMemberTable:function(){var e=C.toUrl("/lists/segments/members",{list_id:this.listId});this.subscriberTable=new v({dataUrl:e,emailStatus:this.emailStatus,options:{wait:!0},segment:this.shouldSegment?this.selectedSegment:null},f.byId("member-grid"));this.subscriberTable.set("page",1);this.subscriberTable.requery();this.subscriberTable.watch("emailStatus",
h.hitch(this,function(){this._toggleEmailStatusActions();this._updateExportLinks()}));this.subscriberTable.watch("segment",h.hitch(this,function(a,b,c){c&&c.hasOwnProperty("type")&&"saved"!=c.type&&this.toggleSegment(!1);this._updateExportLinks();this._toggleOverlays()}));this._updateExportLinks();a(f.byId("toggle-column-target"),"click",function(a){a.preventDefault();b.toggle(c(".column-toggle")[0],"column-toggle--active");b.contains(c(".column-toggle")[0],"column-toggle--active")?d.set(c(".column-toggle")[0],
"aria-hidden","true"):(d.set(c(".column-toggle")[0],"aria-hidden","false"),c(".column-toggle")[0].focus())});m.after(new r("merge-columns",{withHandles:!0}),"onDndDrop",h.hitch(this,"_setOrder"));a(this.$el.deleteSelectedBtn,"click",h.hitch(this,function(){I.confirmBulkAction("delete",this.listId)}));q.forEach(t.toArray(),function(b){"dijit.MenuItem"!=b.declaredClass&&"dijit/MenuItem"!=b.declaredClass||a(b,"click",function(){var a=d.get(this.domNode,"data-mojo-bulk-action");if(a){var b=d.get(this.domNode,
"data-mojo-bulk-action-value");b?I.confirmBulkAction(a,b):I.confirmBulkAction(a)}})});G.flagIsOn(M.CRM_TAGS_V1)&&(b.remove(this.$el.taggingButtonContainer,"hide"),this._setupTagManagement());this._handleSegmentActions();this._handleAdvancedSegmentActions();this._handleSegmentPushUpdates()},_setupTagManagement:function(){var a=this;this.tagOverlay=new z({tags:this.tags,contacts:this.subscriberTable.getSelection(),listId:this.listId,tagCreationAllowed:!0,successCallback:h.hitch(this,"_taggingSuccessCallback")});
this.tagButton=new w({label:"Assign Tags",dropDown:this.tagOverlay},this.$el.taggingButton);this.tagButton.startup();this.subscriberTable.watch("allAll",function(c,d,e){e?b.add(a.$el.taggingButtonContainer,"hide"):b.remove(a.$el.taggingButtonContainer,"hide")});this._setupTagHandlers()},_setupTagHandlers:function(){a(this.tagOverlay,"open",h.hitch(this,"_getSelectionTaggingData"));a(this.tagOverlay,"applyTag",h.hitch(this,"_applyTagToSelection"));a(this.tagOverlay,"removeTag",h.hitch(this,"_removeTagFromSelection"));
a(this.tagOverlay,"createTag",h.hitch(this,"_createTag"))},_getSelectionTaggingData:function(){this.tagOverlay.setLoadingState(!0);B.getSelectedContactsTags(this.subscriberTable.getSelection(),h.hitch(this,"_refreshTaggingWidget"))},_refreshTaggingWidget:function(a){this._markTagState(a);this.tagOverlay.setContacts(this.subscriberTable.getSelection());this.tagOverlay.setTags(this.tags);this.tagOverlay.refresh()},_markTagState:function(a){var b=Object.keys(a).length;this.tags.forEach(function(c){var d=
0;Object.keys(a).forEach(function(b){a[b].forEach(function(a){c.tag_id===a&&(d+=1)})});c.state=0<d&&d<b?"MIXED":d===b?"ALL":"NONE"})},_getListTaggingData:function(){var a=this;B.getListTags(this.listId,h.hitch(this,function(b){a.tags=b.list_tags}))},_applyTagToSelection:function(a){B.applyTagToContacts(this.listId,this.subscriberTable.getSelection(),a,h.hitch(this,"_taggingSuccessCallback"))},_removeTagFromSelection:function(a){B.removeTagFromContacts(this.listId,this.subscriberTable.getSelection(),
a,h.hitch(this,"_taggingSuccessCallback"))},_createTag:function(){B.createTagApplyToContacts(this.listId,this.tagOverlay.getInputValue(),this.subscriberTable.getSelection(),h.hitch(this,"_taggingSuccessCallback"))},_taggingSuccessCallback:function(){D.toast("Successfully updated tags for selected contacts");this.subscriberTable.refresh();this.tagButton.closeDropDown();this._getListTaggingData()},_handleSegmentActions:function(){var b=this;a(this.$el.previewSegmentBtn,"click",h.hitch(this,function(a){a.stopPropagation();
a.preventDefault();J.storeSegment(this.listId,L.getSegmentData(this.listId));this.runSegment()}));a(this.$el.saveSegmentBtn,"click",h.hitch(this,function(a){a.stopPropagation();a.preventDefault();J.storeSegment(this.listId,L.getSegmentData(this.listId));if(b.subscriberTable.segment&&b.subscriberTable.segment.id){a=c("#editor-segment-name");var d=""!=a?a.val():this.subscriberTable.segment.name,e=c("#segment-form-"+this.listId);d?J.updateSavedSegment(this.listId,b.subscriberTable.segment.id,d).then(function(a){a.errors?
D.showFormErrors(e,a.errors):(D.toast('Segment "'+a.name+'" saved'),b.subscriberTable.setSegment(a),b.segmentList.updateSegment(a),b.runSegment())},function(){D.toast("We've run into some trouble saving your segment. Try again.","error")}):a&&D.addError(a[0],"Please enter a name")}}));a(this.$el.cancelSegmentBtn,"click",h.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.cancelSegment();this._toggleSegmentAd(!1)}))},_toggleSegmentAd:function(a){var b=t.byId("segmentation-ad-"+this.listId);
b&&(a?b.show():b.hide())},_handleAdvancedSegmentActions:function(){this.$el.cancelAdvancedSegmentBtn&&a(this.$el.cancelAdvancedSegmentBtn,"click",h.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.closeAdvancedSegment()}));this.$el.runAdvancedSegmentBtn&&a(this.$el.runAdvancedSegmentBtn,"click",h.hitch(this,function(a){a.stopPropagation();a.preventDefault();this.runAdvancedSegment()}))},_handleSegmentPushUpdates:function(){if(this.segmentChannel){var a=this;F.load().then(function(b){b.subscribe(a.segmentChannel).bind("update",
function(b){b.list_id==a.listId&&a._onUpdatedSegmentData(b)})})}},_onUpdatedSegmentData:function(a){var b=this.subscriberTable.segment,b=b&&b.id==a.id;"finished"==a.status&&(b&&this.selectSegment(a),(b=this.segmentList.findSegment(a.id,a.type))?b&&"finished"!=b.status&&D.toast(H.encode(a.name)+" finished generating."):G.flagIsOn(M.CRM_TAGS_V1)&&"static"===a.type||D.toast("\x26ldquo;"+H.encode(a.name)+"\x26rdquo; segment successfully added"));this.segmentList.updateSegment(a)},runSegment:function(){if(this.subscriberTable.segment){var a=
this.subscriberTable.segment;a.edited||(a.edited=!0,this.subscriberTable.setSegment(a))}else this.subscriberTable.setSegment(this.getCustomSegment());this.subscriberTable.requery();this.toggleSegment(!1)},toggleSegment:function(a){if("boolean"!=typeof a||!0===a&&!b.contains("member-grid-wrap","disabled")||!1===a&&"none"!=n.get("member-segment-editor","display"))this.subscriberTable&&(n.set(this.$el.saveSegmentBtn,"display",this.subscriberTable.segment&&this.subscriberTable.segment.id?"":"none"),n.set(this.$el.previewSegmentBtn,
"display",this.subscriberTable.segment&&this.subscriberTable.segment.id?"none":"")),D.disclosureElement("member-segment-editor",this,!1,h.hitch(this,"_switchSegmentNav"))},newSegment:function(){J.getEditor(this.listId,{clear:!0}).then(h.hitch(this,function(a){L.reloadSegmentCallbacks("segmentpane-"+this.listId);this.subscriberTable.clearSegment();this._updateSegmentHTML(a);this.toggleSegment(!0)}))},editSegment:function(){var a=this.subscriberTable.segment;if("advanced"==a.type)this.editAdvancedSegment(a);
else{var b=c("#segment-form-"+this.listId).attr("data-segment-id")[0];b&&b==a.id||!a.id&&!b?this.toggleSegment(!0):J.getEditor(this.listId,{segment_id:a.id}).then(h.hitch(this,function(a){this._updateSegmentHTML(a);this.toggleSegment(!0)}))}},saveNewSegment:function(){var a=this.subscriberTable.segment;a&&!a.hasOwnProperty("id")&&J.confirmSave(this.listId).then(h.hitch(this,function(a){this._onUpdatedSegmentData(a);"finished"==a.status?this.selectSegment(a):this.subscriberTable.setSegment(a)}))},
createNewDSS:function(){J.showDiscoverSimilarDialog(this.listId).then(h.hitch(this,function(a){this._onUpdatedSegmentData(a);"finished"==a.status?this.selectSegment(a):this.subscriberTable.setSegment(a)}))},selectSegment:function(a){"advanced"==a.type?P.setListSegment(this.listId,a.id).then(h.hitch(this,function(){this.subscriberTable.showSubscribers();this.subscriberTable.setSegment(a);this.subscriberTable.set("page",1);this.subscriberTable.requery()})):J.getEditor(this.listId,{segment_id:a.id,store:!0}).then(h.hitch(this,
function(b){this._updateSegmentHTML(b);this.subscriberTable.setSegment(a);this.subscriberTable.set("page",1);this.subscriberTable.requery()}))},cancelSegment:function(){this.toggleSegment(!1);this.subscriberTable.resize();var a=this.listId;this.subscriberTable.segment&&this.subscriberTable.segment.id&&J.getEditor(a,{segment_id:this.subscriberTable.segment.id}).then(function(a){this._updateSegmentHTML(a)})},openAdvancedSegment:function(a){this.segmentEditor&&this.segmentEditor.destroy();this.segmentEditor=
new T({listId:this.listId,configType:"full",savedAST:a});p.place(this.segmentEditor.domNode,this.$el.advancedSegmentEditorContainer,"only");b.remove(this.$el.advancedSegmentContainer,"hide");this.segmentBar.editSegmentMode();this._toggleOverlays();this.segmentEditor.on("conditionCountChange",h.hitch(this,function(){this.toggleSaveAdvancedSegment(this.segmentEditor.getConditionCount())}));this.toggleSaveAdvancedSegment(this.segmentEditor.getConditionCount())},toggleSaveAdvancedSegment:function(a){var b=
this.$el.runAdvancedSegmentBtn;a?b.removeAttribute("disabled"):b.setAttribute("disabled","disabled")},closeAdvancedSegment:function(){this.segmentEditor&&(this.segmentEditor.destroy(),this.segmentEditor=null,this.$el.advancedNameInput.value="",b.add(this.$el.advancedSegmentContainer,"hide"),this.segmentBar.viewSegmentMode(),this._toggleOverlays())},editAdvancedSegment:function(a){P.getSegment(this.listId,a.id).then(h.hitch(this,function(a){this.$el.advancedNameInput.value=a.name;this.openAdvancedSegment(a.ast);
this.segmentEditor.segmentId=a.id}))},runAdvancedSegment:function(){var a=this.segmentEditor.getAST(),b=this.$el.advancedNameInput.value,c=this.segmentEditor.segmentId;if(!this._runningAdvanced){this._runningAdvanced=!0;var d=h.hitch(this,function(a){this.closeAdvancedSegment();this.subscriberTable.setSegment(a);this.segmentList.updateSegment(a);this._runningAdvanced=!1}),e=h.hitch(this,function(){this._runningAdvanced=!1});P.runListSegment(this.listId,c,b,a).then(d,e)}},rerunAdvancedSegment:function(){var a=
this.subscriberTable.segment;"advanced"==a.type&&P.reRunSegment(this.listId,a.id).then(h.hitch(this,function(a){this.segmentList.updateSegment(a);this.subscriberTable.setSegment(a)}))},confirmDeleteSegment:function(a){var b=t.byId("confirm-delete-segment");b.set("segment",a);b.show()},deleteSegment:function(){var a=t.byId("confirm-delete-segment").segment,b=h.hitch(this,function(){var b=this.subscriberTable.segment;b&&b.id==a.id&&this.subscriberTable.clearSegment();this.segmentList.removeSegment(a);
D.toast(H.encode(a.name)+" successfully deleted")});"advanced"==a.type?P.deleteSegment(this.listId,a.id).then(b):J.deleteSegment(this.listId,a.id).then(b)},toggleSegmentPane:function(a){var c=this.$el.savedSegmentContainer,d=this.$el.advancedSegmentContainer;switch(a){case "saved":n.set(c,"display","block");b.add(d,"hide");this.cancelSegment();_mc.newSegment();break;case "advanced":n.set(c,"display","none"),b.remove(d,"hide"),this.closeAdvancedSegment(),_mc.openAdvancedSegment()}},_toggleOverlays:function(){if("none"!=
n.get(this.segmentList.domNode,"display")||this._isEditorVisible())b.add(this.$el.failedSegmentContainer,"hide");else{var a=this.subscriberTable.segment;b.toggle(this.$el.failedSegmentContainer,"hide",!(a&&"errored"==a.status))}a=c(this.$el.tableOverlay).children().filter(function(a){return"none"!=n.get(a,"display")});b.toggle(this.subscriberTable.domNode,"hide",0<a.length);b.toggle(this.$el.tableOverlay,"hide",!a.length)},_isEditorVisible:function(){var a=this.$el.advancedSegmentContainer,a=a&&"none"!=
n.get(a,"display"),b="none"!=n.get("member-segment-editor","display");return a||b},_switchSegmentNav:function(a){switch(a){case "open":this.segmentBar.editSegmentMode();c("#segment-message-container, .member-segment-nav, .bulk-actions .select-all-block, .bulk-actions .small-meta, .reorder").style("display","none");L.reloadSegmentCallbacks("segmentpane-"+this.listId);c(".st-headers").addClass("invisible");c("#member-segment-editor select")[0].focus();this._toggleOverlays();break;case "close":this.segmentBar.viewSegmentMode(),
c("#segment-message-container, .member-segment-nav, .bulk-actions .select-all-block, .bulk-actions .small-meta, .reorder").style("display",""),c(".st-headers").removeClass("invisible"),this._toggleOverlays()}},_setupMaps:function(){K.def_lat=this.userLat;K.def_lng=this.userLng;K.def_addr=this.userAddr},_initSegmentBar:function(){this._initSegmentOverlay();this.segmentBar=new y({target:"member-grid",segmentList:this.segmentList,listId:this.listId},this.$el.segmentBar);this.segmentBar.startup()},_initSegmentOverlay:function(){this.segmentList=
new x({segments:this.segments,target:"member-grid",listId:this.listId},this.$el.segmentListOverlay);this.segmentList.startup();this.segmentList.on("overlayShow",h.hitch(this,function(){this._toggleOverlays()}));this.segmentList.on("overlayHide",h.hitch(this,function(){this._toggleOverlays()}))},_initFilterSegmentBar:function(){this._initSegmentOverlay();this.topLevelBar=new A({target:"member-grid"},this.$el.segmentBar);this.topLevelBar.startup()},_setOrder:function(){for(var a=c('#merge-columns input[type\x3d"checkbox"]'),
b=[],d=0;d<a.length;d++){var e=a[d].id.replace("columncheck-","");b.push(e)}f.byId("sort-order").value=b.join(":")},_toggleEmailStatusActions:function(){if(this.subscriberTable)switch(this.subscriberTable.emailStatus){case v.EMAIL_STATUS.UNSUB:b.add(this.$el.bulkActionSelect,"hide");b.add(this.$el.deleteSelectedBtn,"hide");break;default:b.remove(this.$el.bulkActionSelect,"hide"),b.remove(this.$el.deleteSelectedBtn,"hide")}},_updateExportLinks:function(){if(this.subscriberTable){var a=this.subscriberTable.emailStatus,
b=C.toUrl("/lists/members/export-segment",{id:this.listId,active:a});if(this.$group.exportLink&&this.$group.exportLink.length){var c="";if(this.subscriberTable.segment)c=b;else switch(a){case v.EMAIL_STATUS.ACTIVE:c=C.toUrl("/lists/members/export",{id:this.listId});break;case v.EMAIL_STATUS.BOUNCED:c=C.toUrl("/lists/members/export-bounced",{id:this.listId});break;case v.EMAIL_STATUS.UNSUB:c=C.toUrl("/lists/members/export-unsubscribed",{id:this.listId});break;case v.EMAIL_STATUS.TRANSACTIONAL:c=C.toUrl("/lists/members/export-transactional",
{id:this.listId});break;default:throw Error("No export link was found.");}a=this.subscriberTable.segment?"Export Segment":"Export List";this.$el.exportCsv&&d.set(this.$el.exportCsv,"href",c);this.$group.exportLink.attr("href",c).html(a)}}},_updateSegmentHTML:function(a){var b=c("#segment-form-"+this.listId);t.findWidgets(b[0]).forEach(function(a){a.destroy()});b.replaceWith(a);a=c("#segment-form-"+this.listId)[0];e.parse(a)}})})},"mojo/maps":function(){define(["dojo/dom","dijit/registry"],function(l,
k){var h={marker:null,map:null,def_lat:null,def_lang:null,loaded:null,loadCode:function(){h.loaded||(google.load("maps","3",{other_params:"client\x3dgme-mailchimp\x26sensor\x3dfalse",callback:function(){}}),h.loaded=!0)},initMap:function(f,a,c){null!=a&&(a=new google.maps.LatLng(h.def_lat,h.def_lng),h.addressSearch(f,a,!1))},addressSearch:function(f,a,c){h.map=new google.maps.Map(document.getElementById(f+"-map"),{mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!1,panControl:!1,zoomControl:!1,
mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1});var e=new google.maps.Geocoder;a=null==a?{address:l.byId(f+"-address").value}:{latLng:a};var m;e.geocode(a,function(a,b){b!=google.maps.GeocoderStatus.OK?alert("Unable to locate the location entered. Please try again."):(l.byId(f+"-address").value=a[0].formatted_address,m=a[0].geometry.location,0!=c&&(k.byId(f+"-mapdialog").show(),h.map.fitBounds(a[0].geometry.viewport),google.maps.event.trigger(h.map,"resize"),h.addMarker(f,
m,9)))});return!1},addMarker:function(f,a,c){null!=h.marker&&h.marker.setMap(null);h.marker=new google.maps.Marker({position:a,map:h.map});h.map.setCenter(a);null!=c&&h.map.setZoom(c);try{c=f+"-lng",l.byId(f+"-lat").value=a.lat(),l.byId(c).value=a.lng()}catch(e){}}};return mojo.maps=h})},"mojo/views/lists/members/prune":function(){define("dojo/_base/declare mojo/views/_base mojo/url dojo/on dojo/dom mojo/app/lists/members mojo/analytics/VisTableListMembers mojo/analytics/VisQuery".split(" "),function(l,
k,h,f,a,c,e,m){return l([k],{listId:null,queryLabel:null,querySelect:null,memberTable:null,onReady:function(){var a={select:this.querySelect,select_count:"count(id)",from:"recipients",label:this.queryLabel},b=h.toUrl("/campaigns/segments/popup-data",{lid:this.listId,id:"prune",iter:!0});this.memberTable=new e({query:new m(b,a)},this.$el.memberGrid);if(this.$el.pruneButton){var k=this;f(this.$el.pruneButton,"click",function(a){a.stopPropagation();a.preventDefault();c.confirmBulkActionWithParameters("prune",
k.listId,!1,!0,function(){dojo.style(k.$el.pruneButton,"display","none");window.location=h.toUrl("lists/members/",{id:k.listId})})})}}})})},"mojo/views/lists/members/query":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/segmentation/Segment","dojo/on","dojo/_base/lang"],function(l,k,h,f,a){return l([k],{listId:null,onReady:function(){this.segmentEditor=new h({listId:this.listId,savedAST:this._loadFromStorage()},this.$el.segmentDom);f(this.$el.saveBtn,"click",a.hitch(this,"_saveToStorage"));
f(this.$el.clearBtn,"click",a.hitch(this,"_clearStorage"))},_clearStorage:function(a){sessionStorage.removeItem(this.listId+"_ast")},_saveToStorage:function(){var a=this.segmentEditor.getAST();sessionStorage.setItem(this.listId+"_ast",JSON.stringify(a))},_loadFromStorage:function(){var a=null;try{a=sessionStorage.getItem(this.listId+"_ast"),a=JSON.parse(a)}catch(e){}return a}})})},"mojo/views/lists/members/reconfirm-external":function(){define("dojo/_base/declare mojo/views/_base mojo/url dojo/on dojo/dom mojo/app/lists/members mojo/analytics/VisTableListMembers mojo/analytics/VisQuery".split(" "),
function(l,k,h,f,a,c,e,m){return l([k],{listId:null,queryLabel:null,querySelect:null,memberTable:null,onReady:function(){var a={select:this.querySelect,select_count:"count(id)",from:"recipients",label:this.queryLabel},b=h.toUrl("/campaigns/segments/popup-data",{lid:this.listId,id:"reconfirm-external",iter:!0});this.memberTable=new e({query:new m(b,a)},this.$el.memberGrid);if(this.$el.reconfirmExternalButton){var k=this;f(this.$el.reconfirmExternalButton,"click",function(a){a.stopPropagation();a.preventDefault();
c.confirmBulkActionWithParameters("reconfirm-external",k.listId,!1,!0,function(){dojo.style(k.$el.reconfirmExternalButton,"display","none");window.location=h.toUrl("lists/members/",{id:k.listId})})})}}})})},"mojo/views/lists/members/import/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-class dojo/dom-attr dojo/query dojo/on mojo/widgets/KbSearch".split(" "),function(l,k,h,f,a,c,e){return l([k],{onReady:function(){chimport=this.$el.chimport;radioGroup=this.$el.radioGroup;serviceType=
this.$el.serviceType;importType=this.$el.importType;importFinishBtn=this.$group.importFinishBtn;integrationType="none";c(a("[data-kb-help]"),"click",function(a){a.stopPropagation();a.preventDefault();e.main().show()});"MacIntel"!=navigator.platform&&h.add(chimport,"hide");c(radioGroup,"change",function(a){"other"==a.target.value?(importType.value=integrationType,h.remove(serviceType,"hide"),"none"==integrationType&&importFinishBtn.addClass("disabled")):(importType.value=a.target.value,importFinishBtn.removeClass("disabled"),
h.add(serviceType,"hide"))});c(importFinishBtn,"click",function(a){"LastImport"==importType.value?(ga("send","event","import","replicate",integrationType),ga("send","event","import","started",integrationType)):ga("send","event","import","started",importType.value)});c(a('a[class^\x3d"import-"]'),"click",function(c){integrationType=c.target.name;importType.value=integrationType;a("a.bordered").removeClass("bordered");h.add(c.target,"bordered");importFinishBtn.removeClass("disabled")})}})})},"mojo/views/lists/members/import/match":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-class dojo/dom-attr dojo/query dojo/on mojo/widgets/KbSearch".split(" "),
function(l,k,h,f,a,c,e){return l([k],{onReady:function(){c(a("[data-kb-help]"),"click",function(a){a.stopPropagation();a.preventDefault();e.main().show()})}})})},"mojo/views/lists/members/import/review":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/dom-class dojo/query dojo/on mojo/widgets/KbSearch".split(" "),function(l,k,h,f,a,c,e){return l([k],{onReady:function(){var h=this.$el.subscribeToGroups,d=this.$el.updateExisting,b=this.$el.importType,k=this.$el.ready,l=this.$el.rep,
q=this.$el.rep_url,r=this.$group.interestGroup,t=this.$group.groupInputs,u=this.$group.inputs,w=this.$group.importFinishBtn;c(a("[data-kb-help]"),"click",function(a){a.stopPropagation();a.preventDefault();e.main().show()});0==k.value?w.addClass("disabled"):c(w,"click",function(a){ga("send","event","import","finished",b.value)});"undefined"!==typeof h&&(c(h,"change",function(a){h.checked?r.removeClass("hide"):r.addClass("hide")}),c(t,"change",function(a){a.target.checked?f.remove(u[a.target.value],
"hide"):f.add(u[a.target.value],"hide")}));l.value&&dojo.xhrGet({url:q.value,handleAs:"json",load:function(b){if(b.success){import_as=a("[data-mc-el\x3d'importAs'] input");for(var c=0;c<import_as.length;c++)b.data.import_as==import_as[c].value&&import_as[c].click();if("undefined"!==typeof h&&b.data.interests){h.click();for(var e={},c=dropdownCount=0;c<b.data.interests.length;c++)(sel=dojo.byId("group_"+b.data.interests[c]))?(sel.click(),e[sel.name.match(/\[\d*\]/g)[0]]=!0):a("[data-mc-group\x3d'inputs'] select")[dropdownCount]&&
(sel=a("option[value\x3d"+b.data.interests[c]+"]").parent()[0],sel.value=b.data.interests[c],e[sel.name.match(/\[\d*\]/g)[0]]=!0,dropdownCount++);interests=a("[data-mc-group\x3d'groupInputs']");for(c=0;c<interests.length;c++)interests[c].name.replace("interest_selected","")in e&&interests[c].click()}"Y"==b.data.update_existing&&d.click()}}})}})})},"mojo/views/lists/members/import/setup":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/html dojo/query dojo/on dojo/request/xhr mojo/lib/flags mojo/widgets/KbSearch mojo/utils mojo/url mojo/user codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed codemirror4/addon/display/placeholder".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([k],{importOkay:!0,onReady:function(){var a=this,k=this.$el.upgradeDisclaimer,l=this.$group.importFinishBtn,n=this.$el.testIntegrationBtn,t=this.$el.addAll,z=this.$el.removeAll,B=this.$group.checkFields,C=this.$el.importType,D=this.$el.rep,F=this.$el.rep_url,G=a.$widget.upgradeWarningModal;"File"===C.value&&(d(this.$el.browseFileInput,"change",function(){q.clearValidation(a.$el.helpText);f.remove(a.$el.fileFieldWrapper,"invalid");l.addClass("disabled");
q.setCleanFileName(this);f.remove(a.$el.loadingMessageWrapper,"hide");var d=this.files[0];if(d){var e=new FormData;e.append("import_file",d);b(r.toUrl("/lists/members/import/file-import-upgrade-check",{id:a.list_id}),{handleAs:"text",data:e,method:"POST"}).then(function(b){f.add(a.$el.loadingMessageWrapper,"hide");b=JSON.parse(b);!1===b.Upgrade?l.removeClass("disabled"):b.Upgrade?(c.place(b.Upgrade,a.$el.dijitDialogMessageContent,"only"),G.show()):b.Errors&&(q.validationError(a.$el.helpText,b.Errors),
f.add(a.$el.fileFieldWrapper,"invalid"),a.$el.browseFileInput.value=null,q.setCleanFileName(a.$el.browseFileInput))})}else f.add(a.$el.loadingMessageWrapper,"hide")}),d(this.$el.acknowledgeUpgradeButton,"click",function(){l.removeClass("disabled");G.hide();d.emit(h.byId("finish-import"),"click",{bubbles:!0,cancelable:!0})}),d(this.$el.rejectUpgradeLink,"click",function(){G.hide();a.$el.browseFileInput.value=null;q.setCleanFileName(a.$el.browseFileInput);l.addClass("disabled")}));d(m("[data-kb-help]"),
"click",function(a){a.stopPropagation();a.preventDefault();p.main().show()});l.addClass("disabled");"undefined"!==typeof k&&d(k,"click",function(b){a._enable_next()});"undefined"!==typeof this.$el.testIntegrationBtn&&d(n,"click",function(b){a._test_integration(n.name)});"undefined"!==typeof t&&"undefined"!==typeof z&&"undefined"!==typeof B&&(d(t,"click",function(a){for(a=B.length-1;0<=a;a--)B[a].checked||B[a].click()}),d(z,"click",function(a){for(a=B.length-1;0<=a;a--)B[a].checked&&B[a].click()}));
switch(C.value){case "CutPaste":var I=u.fromTextArea(this.$el.cutPasteBox,{mode:"text",autofocus:!0,tabMode:"indent",indentUnit:2,smartIndent:!1,theme:"default",autoClearEmptyLines:!0,lineWrapping:!1,lineNumbers:!0});I.on("change",function(){I.save()});break;case "GSpreadsheets":if(this.$el.googleConnected){var L=this.$el.gspreadsheetsSource,J=this.$el.gspreadsheetsError,T=this.$el.gspreadsheetsSheet,V=this.$el.sheetDropdown,P=this.$el.sheetStatus,k=this.$el.spreadsheetUrl,K=this.$el.sidUrl,M={};
this.importOkay=!1;dojo.xhrGet({url:k.value,handleAs:"json",load:function(a){if(a.valid){for(i=0;i<L.length;i++)mojo.utils.deleteOption(L,i);mojo.utils.addOption(L,"Select a spreadsheet","");if(0<a.s.length)for(i=0;i<a.s.length;i++)mojo.utils.addOption(L,a.s[i].title,a.s[i].sid),M[a.s[i].sid]=a.s[i]}else e.set(J,a.msg),f.remove(J,"hide")}});d(L,"change",function(b){var c=L.options[L.selectedIndex].value;c?(f.remove(P,"hide"),f.add(V,"hide"),M[c].sheets={},dojo.xhrGet({url:K.value+c,handleAs:"json",
load:function(b){if(b.valid&&b.sheets){f.add(J,"hide");mojo.utils.removeAllOptions(T);for(i=0;i<b.sheets.length;i++)mojo.utils.addOption(T,b.sheets[i].title,b.sheets[i].gid),M[c].sheets[b.sheets[i].gid]=b.sheets[i];a.importOkay=!0;a._enable_next();f.remove(V,"hide")}else e.set(J,b.msg),f.remove(J,"hide"),a.importOkay=!1,a._enable_next();f.add(P,"hide")}})):(f.add(V,"hide"),a.importOkay=!1,a._enable_next())});D.value&&dojo.xhrGet({url:F.value,handleAs:"json",load:function(a){a.success&&(m("select[data-mc-el\x3d'gspreadsheetsSource']")[0].value=
a.data)}})}break;case "Highrise":if(D.value&&connected){var H=this.$el.tagDisclosure;dojo.xhrGet({url:F.value,handleAs:"json",load:function(a){if(a.success){for(var b=0;b<a.data.fields.length;b++)m("input[name\x3d'fields["+a.data.fields[b]+"]']")[0].click();if(a.data.tags)for(H.click(),b=0;b<a.data.tags.length;b++)m("input[name\x3d'tags["+a.data.tags[b]+"]']")[0].click()}}})}else dojo.byId("highrise_w_email").click(),dojo.byId("highrise_h_email").click(),dojo.byId("highrise_o_email").click();break;
case "Eventbrite":D.value&&id&&dojo.xhrGet({url:F.value,handleAs:"json",load:function(a){a.success&&(m("select[name\x3d'eb_listid']")[0].value=a.data)}});break;case "SalesForce":case "Freshbooks":case "GContacts":case "Zendesk":case "Zoho":case "Javelin":D.value&&connected&&dojo.xhrGet({url:F.value,handleAs:"json",load:function(a){if(a.success){name=C.value.toLowerCase();"gcontacts"==name?name="contact":"freshbooks"==name?name="fb":"javelin"==name&&(dojo.byId("javelin_w_email").click(),dojo.byId("javelin_h_email").click());
for(var b=0;b<a.data.length;b++)dojo.byId(name+"_"+a.data[b]).click()}}})}a._enable_next()},_enable_next:function(){var a=this.$el.upgradeDisclaimer,b=this.$group.importFinishBtn,c=this.importType;this.importOkay&&("undefined"===typeof a||a.checked)&&"File"!==c?b.removeClass("disabled"):b.addClass("disabled")},_test_integration:function(a){var b=this.$el.integrationLoading,c=this.$el.integrationErrorMsg,d=this.$el.testIntegrationBtn,e=this.$el.integrationUsername.value,h=this.$el.integrationPassword.value,
k=this.$el.integrationUrl.value;if("highrise"==a)params={set:"1",site:e,token:h,json:1};else if("freshbooks"==a)params={site:e,token:h,json:1};else if("zendesk"==a)params={"zd-username":e,"zd-password":h,"zd-site":this.$el.integrationToken.value,json:1};else if("zoho"==a)params={"zoho-username":e,"zoho-password":h,json:1};else if("javelin"==a)params={site:e,token:h,json:1};else return;dojo.xhrGet({url:k,content:params,handleAs:"json",load:function(e){try{f.remove(b,"hide"),dojo.attr(d,"innerHTML",
"Connecting..."),1==e.result.valid?(f.add(b,"hide"),"highrise"==a?window.location.reload():window.location.href+="s\x3dsuccess"):(f.add(b,"hide"),f.remove(c,"hide"),dojo.attr(c,"innerHTML",e.result.msg),dojo.attr(d,"innerHTML","Authorize Connection"))}catch(h){}}})}})})},"mojo/views/lists/dashboard/imports":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","dijit/Dialog"],function(l,k,h,f){return l([k],{onReady:function(){},showUndoDialog:function(a,c){this.dialog&&this.dialog.destroy();
this.dialog=new f({title:"Undo Import"});var e=h.toUrl("/lists/dashboard/undo-import-dialog",{id:a,import_id:c});this.dialog.setHref(e);this.dialog.show()},hideUndoDialog:function(){this.dialog&&this.dialog.hide()}})})},"mojo/views/lists/dashboard/overview":function(){define("dojo/_base/declare dojo/request/xhr dojo/_base/lang dojo/on mojo/views/_base mojo/url d3/d3 mojo/charts mccharts/mccharts mojo/colors".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([a],{listId:null,onReady:function(){this.$el.listGrowthChart&&
this._initOldListGrowthChart();this.$el.campaignHistory&&this._initOldCampaignPerformanceChart();this.$el.campaignPerformance&&this._initCampaignPerformanceChart();this.$el.audienceGrowthChart&&this._initAudienceGrowthChart()},_initAudienceGrowthChart:function(){var a=d.models.stackBarChart();this._overviewAjaxCalls(c.toUrl("dashboard/audience"),{period:7,list_id:this.listId}).then(function(c){c={subscribers:c.growth.data.subscribers.active,net_growth:c.growth.data.subscribers.net_growth};a.aspectRatio(2,
1);a.xAxis.keyValue("date");a.yAxis.keyValue("val");a.yAxis.maxTicks(6);a.colors([b.yellow6,b.yellow3]);a.noDataMessage("Hmm...Looks like you don't have growth data for this time period.");var d=a.legend();d.seriesLabels(["Existing subscribers","Audience Change"]);d.horizontalAlign("right");var f=a.tooltip();f.enabled(!0);f.xOffset(10);f.dataFormatter(function(a){var b=e.format(",");return e.time.format("%b %d, %Y")(a.x)+"\x3cbr/\x3e"+d.seriesLabels()[a.seriesIndex]+": "+b(a.y)});a.loadChart("#audience-growth-chart",
c)});f(this.$widget.audienceDaySelect,"change",h.hitch(this,function(b){this._overviewAjaxCalls(c.toUrl("dashboard/audience"),{period:b,list_id:this.listId}).then(function(c){var d={};d.xAxisFormat="360"===b?"%b %y":"%b %d";a.update({subscribers:c.growth.data.subscribers.active,net_growth:c.growth.data.subscribers.net_growth},d)})}))},_initCampaignPerformanceChart:function(){var a=d.models.multiLineChart();this._overviewAjaxCalls(c.toUrl("/reports/campaign-history-json-data"),{list_id:this.listId}).then(function(b){a.xAxis.showTicks(!1);
a.yAxis.keyValues(["openRate","clickRate"]);a.yAxis.tickFormat(d.u.percentageTick);var c=a.legend();c.seriesLabels(["Open Rate","Click Rate"]);c.horizontalAlign("right");c=a.tooltip();c.enabled(!0);c.dataFormatter(function(a){var b="";a.serie0&&(b="Open Rate: \x3cspan class\x3d'font-weight--bold'\x3e"+a.serie0.openRate+"%\x3c/span\x3e \x3cbr\x3e");a.serie1&&(b=b+"Click Rate: \x3cspan class\x3d'font-weight-bold'\x3e"+a.serie1.clickRate+"%\x3c/span\x3e \x3cbr\x3e");return b=a.serie0?b+a.serie0.bubbleText:
b+a.serie1.bubbleText});a.loadChart("#campaign-performance",[b,b])})},_initOldListGrowthChart:function(){var a=new m.ListGrowthChart("list-growth-chart",c.toUrl("/lists/list-growth-am-chart"),this.listId,"all");f(this.$el.toggleSubscribed,"click",function(){a.toggleActivity("subscribed",this.checked)});f(this.$el.toggleImported,"click",function(){a.toggleActivity("imported",this.checked)});f(this.$el.toggleExisting,"click",function(){a.toggleActivity("existing",this.checked)})},_initOldCampaignPerformanceChart:function(){new m.PerformanceOverviewChart("campaign-history",
c.toUrl("/reports/campaign-history-json-data",{list_id:this.listId}))},_overviewAjaxCalls:function(a,b){return k(a,{query:b,handleAs:"json"})}})})},"mojo/views/lists/contact-prototype/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/analytics/SubscriberTable","mojo/url"],function(l,k,h,f){return l([k],{listId:null,emailStatus:"Y",contactTable:null,onReady:function(){this._setupMemberTable()},_setupMemberTable:function(){var a=f.toUrl("/lists/segments/members",{list_id:this.listId});
this.contactTable=new h({dataUrl:a,emailStatus:this.emailStatus,options:{wait:!0},segment:null},this.$el.contactTableContainer);this.contactTable.set("page",1);this.contactTable.requery()}})})},"mojo/views/landing-pages/checklist":function(){define("dojo/_base/declare dojo/dom-construct mojo/views/_base dojo/_base/lang mojo/api/page mojo/lib/page/statustypes mojo/widgets/campaigns/CampaignUrlErrorDialog mojo/widgets/checklist-editor/items/CampaignName mojo/widgets/checklist-editor/Container mojo/widgets/checklist-editor/items/List mojo/widgets/checklist-editor/items/PageContent mojo/widgets/checklist-editor/items/PageSettings mojo/widgets/checklist-editor/status/PageStatus mojo/widgets/checklist-editor/items/PageTitleUrl mojo/widgets/checklist-editor/items/Store mojo/widgets/checklist-editor/items/PageTitle mojo/widgets/checklist-editor/items/PageUrl mojo/lib/flags mojo/url mojo/user".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){var A=function(a){return!0},z=function(a){return!0};return l([h],{onReady:function(){this.page.content_button="Edit Design";this.isRequestMapperDown&&new e({pageUrl:this.page.page_url.url,pageId:this.page.page_id});var h,k,l=this.page.status===c.DRAFT;h=this.page.store_id?{label:"Store",description:"New subscribers will be added to the list ",actionLabel:"Set Store",editLabel:"Edit Store",contentWidget:t,isComplete:function(a){return!!a.list.id},isValid:z,
isDisabled:!l,canToggleAvailability:l}:{label:"List",description:"Contacts will be added to ",actionLabel:"Set List",editLabel:"Edit List",contentWidget:b,isComplete:function(a){return!!a.list.id},isValid:z,isDisabled:!l,canToggleAvailability:l};this.page.page_has_signup_block&&(k={label:"Settings",position:"after",widget:p,isComplete:A,isValid:z,acceptTerms:a.acceptTerms});var F=[{label:"Name",position:"before",widget:m,isComplete:A,isValid:z,validationMessage:"Your landing page name is too long."}];
x.flagIsOn(v.LANDING_PAGES_SPLIT_CHECKLIST_TITLE_URL)?(F.push({label:"Page Title",contentWidget:u,isComplete:u.isComplete,isValid:u.isValid}),F.push({label:"URL",contentWidget:w,isComplete:w.isComplete,isValid:w.isValid,isDisabled:!l,canToggleAvailability:l})):F.push({label:"Page Title \x26 URL",contentWidget:r,isComplete:r.isComplete,isValid:r.isValid,isDisabled:!l,canToggleAvailability:l});F.push(h);F.push({label:"Content",description:"Design the content for your landing page.",contentWidget:n,
actionLabel:this.page.content_button,editLabel:this.page.content_button,errorLabel:this.page.content_button,isComplete:n.isComplete,isValid:n.isValid,activate:f.hitch(this,function(){window.location.href=y.toUrl("/landing-pages/editor",{id:this.page.page_id})})});k&&F.push(k);(new d({statusWidget:q,model:a.createFromProperties(this.page),items:F,isValid:z,onSave:function(a,b){a.campaign_url&&a.campaign_url.brand_token&&b.campaignUrl.brandToken===a.campaign_url.brand_token&&delete a.campaign_url.brand_token;
return b.patch(a)}})).placeAt(this.$el.checklist)}})})},"mojo/views/landing-pages/editor":function(){define("dojo/_base/declare dojo/dom dojo/has dojo/on dojo/query mojo/neapolitan/Neapolitan mojo/views/_base mojo/widgets/KbSearch mojo/widgets/ActionableDialog".split(" "),function(l,k,h,f,a,c,e,m,d){return l([e],{onReady:function(){window.app.setDesignStyles(k.byId("design-editor"));h("ios")&&a(".iframe-wrapper").addClass("ios-iframe-scroll");a("[data-kb-help]").on("click",function(a){a.stopPropagation();
a.preventDefault();m.main().show()});a("[data-save-on-click]").forEach(function(a){f(a,"click",function(b){b.preventDefault();var c=a.href;b.target.innerText=window.app.isPagePublished?"Publishing...":"Saving...";window.app.saveAll().then(function(){b.target.innerText=window.app.saveButtonText;window.location=c})})});var b=a('[data-mc-el\x3d"wizardFreddieLogo"]')[0];f(b,"click",function(a){window.app.isPagePublished&&window.app.didMakeChanges&&(a.preventDefault(),a.stopPropagation(),(new d({title:"Are you sure?",
contentMessage:"You\u2019ve made changes that have not been published. If you exit now, we\u2019ll save your work so you can come back later, but visitors to your landing page will not see these changes.",primaryActionLabel:"Exit without publishing",onClickPrimaryAction:function(a,c){window.onbeforeunload=null;window.location=b.getAttribute("href")},secondaryActionLabel:"Keep editing",onClickSecondaryAction:function(a,b){b.hide()}})).show())})}})})},"mojo/neapolitan/Neapolitan":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/dom-style dojo/dom-attr dojo/dom-construct dojo/Deferred dojo/promise/all dojo/on dojo/aspect dojo/topic dijit/Dialog dijit/registry mojo/neapolitan/blocks mojo/neapolitan/utils mojo/neapolitan/mobile/utils mojo/neapolitan/models/mcedit/Text mojo/neapolitan/models/mcedit/Image mojo/neapolitan/models/Repeatable mojo/neapolitan/models/Hideable mojo/neapolitan/dnd/BlockSource mojo/neapolitan/LinkCheckerSlider mojo/neapolitan/ShareSettings mojo/neapolitan/DesignPane mojo/neapolitan/Endpoint mojo/neapolitan/widgets/PreservedContentDialog mojo/signup-forms/PagesFormConfig mojo/api/privacy-badge mojo/api/page-banner mojo/widgets/Previewer mojo/widgets/FileManager mojo/widgets/LinkPicker mojo/ImageEditor mojo/Pusher mojo/utils mojo/url mojo/user mojo/lib/flags mojo/polyfills/Element.matches".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T,V,P,K,M,H,X,R,N){return k(null,{CAMPAIGN_RENDERING_TYPES:{PAGE:"page"},isPageTemplate:!1,campaignType:null,editingType:"campaign",isDndBlockTemplate:!1,hasBackgroundStyles:!1,channelPath:null,channel:null,ecommStores:[],allEcommStores:[],campaignList:null,defaultStoreId:null,editableStyles:null,availableMCBlockActions:["edit"],availableNeapolitanBlockActions:["move","edit","clone","delete"],availableSingleUseNeapolitanBlockActions:["move",
"edit","delete"],singleUseBlocks:{page:["signUpForm"]},singleUseActiveBlocks:{},campaignActionsTopics:{addBlock:{}},blockActionsTopics:{edit:{},sort:{},"delete":{},clone:{},done:{}},blockActiveTopic:null,selectedBlock:null,campaignTopics:{},blockTopics:{},signUpEmailField:"",signupFieldsConfig:{},hasSignupFormStyles:!1,didMakeChanges:!1,constructor:function(a){h.mixin(this,a);this._blocks=[];this._byIds={};this.viewers={};this.viewerCount=0;this.editables={};this.editableMetadata={};this.variants=
{};this.preservedContentBlocks=[];this.restrictions=[];this.hasSignupFormStyles=R.flagIsOn(N.LANDING_PAGES_SIGNUP_STYLES);if(!this.campaignId)throw Error("Attempted to create Neapolitan without a campaign");if(!this.rootUrl)throw Error("rootUrl is required");this._endpoint=new F(this.rootUrl,this.campaignId,this.variant);this.channelPath&&this._initPusherEvents();a.signUpFormConfig&&(R.flagIsOn(N.GDPR_NATIVE_FORM_FEATURES)&&this.hasOwnProperty("gdprEnabled")&&I.setGDPREnabled(this.gdprEnabled),this.setFormConfig(this.signUpEmailField,
this.signupFieldsConfig,a.signUpFormConfig));a.privacyBadgeConfig&&(a.privacyBadgeConfig.pageId=this.campaignId,this.privacyBadgeStateful=L.createFromProperties(a.privacyBadgeConfig));a.pageBannerConfig&&R.flagIsOn(N.LANDING_PAGES_DISMISSIBLE_BANNER)&&(a.pageBannerConfig.pageId=this.campaignId,this.pageBannerStateful=J.createFromProperties(a.pageBannerConfig));this._campaignTypeOverrides();this._setupSubscriptions();this.isPageTemplate=this.campaignType===this.CAMPAIGN_RENDERING_TYPES.PAGE},destroy:function(){this._teardownSubscriptions();
this.inherited(arguments)},checkDndBlockTemplateType:function(){return this.isDndBlockTemplate},availableBlocksToAdd:function(a){return this.isDndBlockTemplate?(t.setEditingType(this.editingType),t.getBlockTypesByCampaign(this.campaignType,R,a,this.ecommStores)):[]},availableBlockEditorActions:function(){return this.isDndBlockTemplate&&this._blocks?this.availableNeapolitanBlockActions:this.availableMCBlockActions},setBackgroundOptions:function(a){this.hasBackgroundStyles=a||!1},setTemplateType:function(a){this.isDndBlockTemplate=
a},_campaignTypeOverrides:function(){switch(this.campaignType){case "abandonedCart":P.prototype.abandonedCartEnabled=!0,t.overrideBlockDefaults("button",{buttonText:"Return to Checkout",link:{attrs:{},href:"*|CART:URL|*",title:""}}),t.overrideBlockDefaults("productRec",{storeId:this.defaultStoreId,variant:this.variant})}},_initPusherEvents:function(){M.load().then(h.hitch(this,function(a){this.channel=a.subscribe(this.channelPath);this.channel.bind("create",h.hitch(this,function(a){this._endpoint.get(a.id).then(h.hitch(this,
function(b){b=this._addBlock(a.container,a.index,b);var c=Preview.getContainer(a.container);c&&c.addMcBlock(b,a.index)}))}));this.channel.bind("update",h.hitch(this,function(a){a.id?this._endpoint.get(a.id).then(h.hitch(this,"_updateBlockMetadata")):a.ids&&this._endpoint.getByIds(a.ids).then(h.hitch(this,function(a){l.forEach(a,h.hitch(this,"_updateBlockMetadata"))}))}));this.channel.bind("reorder",h.hitch(this,function(a){var b=this.byId(a.id);a.hasOwnProperty("container")&&b.set("_containerId",
a.container);a.hasOwnProperty("index")&&b.set("_index",a.index)}));this.channel.bind("remove",h.hitch(this,function(a){(a=this.byId(a.id))&&a.remove(!0)}));this.channel.bind("content:update",h.hitch(this,function(a){(a=this.getEditable(a.id))||window.refreshCampaign();a.update()}));this.channel.bind("repeatable:reorder",h.hitch(this,function(a){var b=this.getEditable(a.id);b||window.refreshCampaign();b.toggleVisibility(a.visible);b.reorder(a.old_index,a.index)}));this.channel.bind("repeatable:create",
h.hitch(this,function(a){var b=this.getEditable(a.id);b||window.refreshCampaign();b.addFromUpdate(a.index)}));this.channel.bind("repeatable:remove",h.hitch(this,function(a){var b=this.getEditable(a.id);b||window.refreshCampaign();b.removeChild(a.index)}));this.channel.bind("repeatable:toggle",h.hitch(this,function(a){var b=this.getEditable(a.id);b||window.refreshCampaign();b.toggleVisibility(a.visible)}));this.channel.bind("repeatable:variant",h.hitch(this,function(a){var b=this.getEditable(a.id);
b||window.refreshCampaign();b.changeVariant(a.index,a.variant,!0)}));this.channel.bind("hideable:toggle",h.hitch(this,function(a){var b=this.getEditable(a.id);b||window.refreshCampaign();b.toggle(a.visible)}));this.channel.bind("layoutChanged",h.hitch(this,"layoutChanged"));this.channel.bind("pusher:member_added",h.hitch(this,"addViewer"));this.channel.bind("pusher:member_removed",h.hitch(this,"removeViewer"));this.channel.subscribed?this.channel.members.each(h.hitch(this,"addViewer")):this.channel.bind("pusher:subscription_succeeded",
h.hitch(this,function(a){a.each(h.hitch(this,"addViewer"))}));this.channel.bind("designStyles",h.hitch(this,function(){this.designEditor&&this.designEditor.updateAllStyles(!1)}));p.subscribe("mojo/reauth/required",function(){a.disconnect()})}))},_setupSubscriptions:function(){for(var a in this.campaignActionsTopics)this.campaignActionsTopics.hasOwnProperty(a)&&(this.campaignActionsTopics[a]=p.subscribe("native/mobile/campaign/action/"+a,h.hitch(this,this.actions[a])));for(var b in this.blockActionsTopics)this.blockActionsTopics.hasOwnProperty(b)&&
(this.blockActionsTopics[b]=p.subscribe("native/mobile/block/action/"+b,h.hitch(this,this.actions[b])));this.blockActiveTopic=p.subscribe("neapolitan/block/activate",h.hitch(this,this._toggleSelectedBlock))},_teardownSubscriptions:function(){for(var a in this.campaignActionsTopics)this.campaignActionsTopics.hasOwnProperty(a)&&this.campaignActionsTopics[a].remove();for(var b in this.blockActionsTopics)this.blockActionsTopics.hasOwnProperty(b)&&this.blockActionsTopics[b].remove();this.blockActiveTopic.remove()},
_toggleSelectedBlock:function(a){var b=!1;a&&a.hasOwnProperty("shouldNotFireGlobalToolbar")&&!a.shouldNotFireGlobalToolbar?b=!0:a||(b=!0);if(this.isDndBlockTemplate)if(this.selectedBlock&&(this.selectedBlockView=null,this.selectedBlock.set("_isSelected",!1),b&&(window.top&&window.top.app&&window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.resetStateQueue(),H.globalPublish("native/toolbar/state/global"))),a&&a.id){if(this.selectedBlockView=a.view,this.selectedBlock=this.byId(a.id))this.selectedBlock.set("_isSelected",
!0),w.campaignBlockSelected()}else this.selectedBlock=null;else this.selectedBlock&&(this.selectedBlock.setBlockInActive(),b&&(window.top&&window.top.app&&window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.resetStateQueue(),H.globalPublish("native/toolbar/state/global"))),a&&a.model?(this.selectedBlock=a.model,w.campaignBlockSelected()):this.selectedBlock=null},actions:{"delete":function(){this.selectedBlock.remove();this._toggleSelectedBlock()},clone:function(){this.selectedBlockView&&
this.selectedBlockView.cloneBlock()},sort:function(a){this.selectedBlockView&&this.selectedBlockView.sortBlock(a)},done:function(a){this._toggleSelectedBlock(a)},edit:function(){this.selectedBlock.openEditor();w.triggerNativeHideToolbar()}},_updateBlockMetadata:function(a){var b=this.byId(a.id);b.set("editedBy",a.edited_by);b.set("editedById",a.edited_by_id);b.updateData(a.data)},updateAll:function(a,b){var c=[];l.forEach(a,function(a){c.push({data:a.data(),id:a.id,container:a._containerId,html:a.getMarkup()})});
this._endpoint.updateAll(c,b)},saveAll:function(){var a=[];l.forEach(this._blocks,function(b){a.push({data:b.data(),id:b.id,container:b._containerId,html:b.getMarkup()})});return d([this._endpoint.updateAll(a,{notify:!0}),I.save()])},layoutChanged:function(b){window.base_tpl_id&&window.base_tpl_id!==b.id&&(this.closeCurrentEditor(),b=new q({title:"Layout Changed",content:"\x3ch4\x3eHold up, we need to refresh!\x3c/h4\x3e\x3cp\x3eThe layout for this campaign was changed by another user. Don\x26rsquo;t worry, we saved all changes you were making. This page will automatically refresh in 3, 2...\x3c/p\x3e"}),
b.startup(),a.set(b.closeButtonNode,"display","none"),b.show(),setTimeout(function(){document.location.href=window.parent.neapolitan_content_block_root+"?id\x3d"+window.tpl_id},2500))},closeCurrentEditor:function(){var a=r.byId("editor-pane");a&&a.closeEditor()},setBlocks:function(a){for(var b in a)l.forEach(a[b],h.hitch(this,function(a,c){this._checkForSingleUse(a)||this._addBlock(b,c,a)}));this.updateBlockSource()},setFormConfig:function(a,b,c){this.formConfig=I.setupFormConfig(this.campaignId,
a,b,c)},newBlock:function(a,b,c,d,e){"undefined"===typeof e&&(e=!1);d=h.mixin({_containerId:a,_index:c,_campaignRenderingType:this.campaignType},d);this.variant&&(d=h.mixin({variant:this.variant},d));a=t.create(b,d);a._default=e;a.save();this.didMakeChanges=!0;this._blockPostProcess(a);return a},addViewer:function(a){this.viewers.hasOwnProperty(a.id)||this.viewerCount++;this.viewers[a.id]=h.mixin({},a.info);this.viewers[a.id].avatar=X.addProxy(this.viewers[a.id].avatar);this.viewers[a.id].me=this.channel&&
this.channel.members.me.id===a.id},removeViewer:function(a){this.viewers.hasOwnProperty(a.id)&&(delete this.viewers[a.id],this.viewerCount--)},getSupportViewer:function(){return this.viewers.mcsupport},setEditableMetadata:function(a){this.editableMetadata=a},setRestrictions:function(a){this.restrictions=a},addRepeatable:function(a){var b=c.get(a,"mc:repeatable"),d=this.getEditableBase(b),e=d.base[d.id];e||(d.base[d.id]=e=new x(b,a.parentNode,this.editingType,this._endpoint,this.variants&&this.variants[b]));
e.add(a)},addHideable:function(a){var b,d=c.get(a,"mc:hideable"),e=d.replace("hideable_",""),f=e.lastIndexOf("_");0<=f?(b=e.substr(0,f),b=this.getEditableBase(b),e=parseInt(e.substr(f+1)-1,10),b.base[b.id].hideables["hideable_"+e]=new A(d,a,this.editingType,this._endpoint)):(b=this.getEditableBase(d),b.base[b.id]=new A(d,a,this.editingType,this._endpoint))},openPreservedContentDialog:function(){this.contentDialog||(this.contentDialog=new G({campaignId:this.campaignId,rootUrl:this.rootUrl,preservedContentBlocks:this.preservedContentBlocks}));
return this.contentDialog.show()},hasPreservedContent:function(){return this.preservedContentBlocks&&0<this.preservedContentBlocks.length},setVariants:function(a){this.variants=a},setMcEdit:function(a,b){var d=c.get(a,"mc:edit"),e=c.get(a,"mc:type");if(e){var f=this.getEditableBase(d),k=!1;f.base[f.id]&&(b?k=!0:(f.base[f.id].destroy(),f.base[f.id]=null));d={endpoint:this._endpoint,stylesPath:this.rootUrl+"/fckeditor-css?id\x3d"+this.campaignId+"\x26block\x3d"+d+"\x26variant\x3d"+this.variant,savedContent:this._getEditableContent(d),
duplicate:k,restrictions:this._getRestrictions(d)};switch(e){case "text":e=new v(d,a);break;case "imageText":e=new y(h.mixin(d,{allowText:!0}),a);break;case "image":e=new y(d,a);break;default:throw Error("Unhandled MCEdit type of "+e);}e&&(e.startup(),k||(f.base[f.id]=e))}},getEditable:function(a){a=this.getEditableBase(a);return a.base[a.id]?a.base[a.id]:null},getEditableBase:function(a){var b=this.editables;if(null!==a.match(":")){do{var c=this._splitRepeatableId(a);a=c.id;b[c.repeatableId].children[c.index]||
(b[c.repeatableId].children[c.index]={});b=b[c.repeatableId].children[c.index]}while(null!==a.match(":"))}return{base:b,id:a}},byType:function(a){return l.filter(this._blocks,function(b){return b.type===a})},byId:function(a){return this._byIds[a]},setupBlockSource:function(a){this.blockSource=new z(a,{campaignType:this.campaignType,editingType:this.editingType,ecommStores:this.ecommStores})},updateBlockSource:function(a){a&&(this.singleUseActiveBlocks={},a.forEach(h.hitch(this,function(a){this._checkForSingleUse(a)})));
a=Object.keys(this.singleUseActiveBlocks);this.blockSource&&this.blockSource.updateBlockIcons(a)},setDesignStyles:function(a,b){var c={styleSections:this.editableStyles,monkeyRewardsOptions:b,endpoint:this._endpoint};this.isPageTemplate&&this.privacyBadgeStateful&&(c=h.mixin(c,{privacyBadge:{model:this.privacyBadgeStateful,onSave:L.save}}));this.isPageTemplate&&R.flagIsOn(N.LANDING_PAGES_DISMISSIBLE_BANNER)&&this.pageBannerStateful&&(c=h.mixin(c,{pageBanner:{model:this.pageBannerStateful,onSave:J.save}}));
this.designEditor=new D(c,a)},_getEditableContent:function(a){var b;if(null!==a.match(":")){var c=this.editableMetadata;do{var d=this._splitRepeatableId(a);a=d.id;if(c&&c[d.repeatableId]&&c[d.repeatableId][d.index])c=c[d.repeatableId][d.index];else{c=null;break}}while(null!==a.match(":"));c&&(b=c[a])}else b=this.editableMetadata[a];return b},_getRestrictions:function(a){for(var b=0;b<this.restrictions.length;b++)if(this.restrictions[b].name===a)return this.restrictions[b];return null},_splitRepeatableId:function(a){a=
a.split(":");3<a.length&&(a=a.slice(0,2).concat([a.slice(2).join(":")]));return{repeatableId:a[0],index:parseInt(a[1],10),id:a[2]}},_addBlock:function(a,b,c){a=h.mixin({id:c.id,_containerId:a,_index:b,editedBy:c.edited_by,editedById:c.edited_by_id,_campaignRenderingType:this.campaignType},c.data);c=t.create(c.type,a);this._blockPostProcess(c);return c},_blockPostProcess:function(a){n.after(a,"remove",h.hitch(this,function(){Preview.getContainer(a._containerId).removeMcBlock(a.id);this._blocks.splice(this._blocks.indexOf(a),
1);delete this._byIds[a.id];this.updateBlockSource(this._blocks)}));var b=h.hitch(this,function(){this.didMakeChanges=!0});["save","remove","reorder"].forEach(function(c){n.after(a,c,b,!0)});this._blocks.push(a);this._byIds[a.id]=a;this.updateBlockSource(this._blocks)},togglePreview:function(){if(!this.newPreviewer||this.newPreviewer._destroyed)this.newPreviewer=new T({previewId:this.campaignId,previewType:this.editingType,titleText:this.campaignTitle,showMergeInfo:this.showMerge,splitsOnSubject:this.splitsOnSubject,
variant:this.variant,campaignType:this.campaignType});!0===this.newPreviewer.displayActive?this.newPreviewer.hide():this.newPreviewer.show()},toggleInboxPreview:function(){this.togglePreview();this.newPreviewer&&this.newPreviewer.changeView("inbox")},showLinkChecker:function(){this.linkChecker&&this.linkChecker.destroy();this.linkChecker=new B({url:this.rootUrl+"/link-checker-preview?id\x3d"+this.campaignId,endpoint:this._endpoint,titleText:this.campaignTitle});this.linkChecker.show()},showShareSettings:function(){this.shareSettings&&
this.shareSettings.destroy();this.shareSettings=new C({campaignId:this.campaignId,titleText:this.campaignTitle});this.closeCurrentEditor();this.shareSettings.show()},getImageInfo:function(a){return K.getImageInfo(a)},getEditableStylesByDom:function(a){var b={};if(!this.editableStyles)return b;if(!this._styleSectionCache){this._styleSectionCache=[];for(var c in this.editableStyles)this.editableStyles.hasOwnProperty(c)&&(this._styleSectionCache=this._styleSectionCache.concat(this.editableStyles[c]))}this._styleSectionCache.forEach(function(c){for(var d in c.props)if(c.props.hasOwnProperty(d))try{a.matches(c.props[d].selector)&&
(b[d]=c.props[d])}catch(e){}});return b},updateStyles:function(a,b){var c="",d;for(d in a)if(a.hasOwnProperty(d))for(var e in a[d])a[d].hasOwnProperty(e)&&(c+=d+"{"+e+":"+a[d][e].value+";}\n");u.createStyles(f.byId("preview-template").contentWindow.document).add(c);c=this._endpoint.saveStyles(a,b);c.then(h.hitch(this,function(){this.designEditor&&this.designEditor.updateAllStyles(!0)}));return c},_checkForSingleUse:function(a){if(this.singleUseActiveBlocks.hasOwnProperty(a.type))return!0;this.singleUseBlocks.hasOwnProperty(this.campaignType)&&
-1!==this.singleUseBlocks[this.campaignType].indexOf(a.type)&&(this.singleUseActiveBlocks[a.type]=a.id);return!1},checkSignupFormFlag:function(){return this.hasSignupFormStyles}})})},"mojo/neapolitan/blocks":function(){define("mojo/lib/flags ./models/blocks/Text ./models/blocks/BoxedText ./models/blocks/Divider ./models/blocks/Image ./models/blocks/ImageGroup ./models/blocks/ImageCard ./models/blocks/ImageCaption ./models/blocks/SocialShare ./models/blocks/SocialFollow ./models/blocks/Button ./models/blocks/Footer ./models/blocks/Code ./models/blocks/RssHeader ./models/blocks/RssItems ./models/blocks/Video ./models/blocks/Api ./models/blocks/ProductRec ./models/blocks/Product ./models/blocks/AbandonedCart ./models/blocks/AbandonedBrowse ./models/blocks/PromoCode ./models/blocks/SignUpForm ./models/blocks/WebVideo vendor/lodash-amd/filter vendor/lodash-amd/keyBy".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F){var G=null;l=[k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C];var I={},L={};for(k=0;k<l.length;k++)if(h=l[k],f=h.prototype.type){for(a=0;I.hasOwnProperty(f);)f=h.prototype.type+"_"+a,a++;I[f]=h}var J={text:!0,boxedText:!0,divider:!0,button:!0,footer:!0,image:!0,imageCard:!0,imageGroup:!0,imageCaption:!0,video:!0,socialFollow:!0,socialShare:!0,product:!0,productRec:!0,abandonedCart:!0,promoCode:!0};return{overrideBlockDefaults:function(a,
b){L[a]=b},getBlocks:function(){return I},getFilteredBlocks:function(a){return F(D(I,function(b){return-1===a.indexOf(b.prototype.type)}),"prototype.type")},getBlockTypesByCampaign:function(a,b,c,d,e){d=[];for(var f in I)if(I.hasOwnProperty(f)){var h=a,k=b,l=c,m=I[f].prototype;e=m._visible;var n=m._campaignType?m._campaignType===h:!0,p=m._ecommOnly?k.isAnyEcomm:!0,q=0<=m._editingTypes.indexOf(G),r=m._paidOnly?m._paidOnly&&k.hasPaid:!0,k=m._featureFlag?k.flagIsOn(m._featureFlag):!0,l=l?J[m.type]:!0,
h="page"===h?J[m.type]:!0;e&&n&&p&&q&&r&&k&&l&&h&&d.push(f)}return d},create:function(a,b){var c=null;L[a]&&(c=L[a]);return new I[a](b,c)},setEditingType:function(a){G=a}}})},"mojo/neapolitan/models/blocks/Text":function(){define("dojo/_base/declare dojo/query dojo/dom-construct dojo/dom-attr dojo/_base/array ./_Block".split(" "),function(l,k,h,f,a,c){return l([c],{type:"text",_name:"Text",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-text-content-blocks",_description:"Add some text.",
_defaultText:"This is a text block. You can use it to add text to your template.",constructor:function(){this.content=[this._defaultText];this.numberOfColumns=1;this.splitOption=[100];this.selectedColumn=0;this.styles=[{name:"Text style",selector:".mcnTextContent, .mcnTextContentLeft, .mcnTextContentRight, .mcnTextContent p, .mcnTextContentLeft p, .mcnTextContentRight p",props:{color:{value:""},"font-family":{value:""},"font-size":{value:""},"font-style":{value:""},"font-weight":{value:""},"line-height":{value:""},
"text-align":{value:""}}}]},onLinkUpdate:function(c,l,d){var b=this.getContent(),n=k("a",b)[d];if(n&&f.get(n,"href")==c){var p=k(".mcnTextContentContainer",b),q=k(n).parents(".mcnTextContentContainer")[0],p=a.indexOf(p,q);if(0>p)return h.destroy(b),this.inherited(arguments);var n=a.indexOf(k("a",q),n),q=h.create("div"),r=h.toDom(this.content[p]);h.place(r,q);f.set(k("a",q)[n],"href",l);this.content[p]=k(q).html();h.destroy(q);h.destroy(b);return this.save()}h.destroy(b);return this.inherited(arguments)}})})},
"mojo/neapolitan/models/blocks/_Block":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/Stateful dojox/mvc/sync mojo/utils mojo/neapolitan/editors mojo/neapolitan/Endpoint mojo/neapolitan/renderers mojo/neapolitan/utils".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){return k([c],{id:null,type:null,variant:null,_containerId:null,_name:"Block",_kbLink:null,_label:null,_campaignType:null,_visible:!0,_ecommOnly:!1,_editingTypes:["campaign","page","template"],
_requiresPlatform:null,_paidOnly:!1,_description:"",_isSelected:!1,_default:!1,_imageUploaderType:"image",_renderMergeTags:!1,_campaignRenderingType:null,_blockEditorControls:["sort","edit","clone","delete"],constructor:function(){this._endpoint=new b(window.parent.neapolitan_content_block_root,window.parent.tpl_id,window.parent.variant)},postscript:function(a,b){b&&p.extend(!0,this,b);this.styles&&l.forEach(this.styles,function(a){if(h.isArray(a.props)){var b={};l.forEach(a.props,function(a){b[a]=
{value:""}});a.props=b}});a&&p.extend(!0,this,a)},data:function(){var a={},b;for(b in this)b in c.prototype||0==b.indexOf("_")||-1!=l.indexOf(["id","type","editedBy","editedById"],b)||h.isFunction(this[b])||(a[b]=this[b]);return a},save:function(a){this._previousStyles=null;if(this.id)return this._endpoint.update(this._containerId,this.id,{html:this.getMarkup(),data:this.data()},a);a=this._endpoint.create(this._containerId,this.getMarkup(Preview.getContainer(this._containerId).containerWidth),this._index,
this.type,this.data(),this._default);a.then(h.hitch(this,function(a){this.id=a.id}));return a},remove:function(b){this._editor&&this._editor.cancelAndHide();return b?(this.get("_isSelected")&&m.globalPublish("native/mobile/block/action/done"),b=new a,b.resolve(),b):this._endpoint.remove(this._containerId,this.id)},reorder:function(a,b){var c;c=b?this.getMarkup(Preview.getContainer(b).containerWidth):this.getMarkup();c=this._endpoint.update(this._containerId,this.id,{html:c,data:this.data(),index:a,
new_container:b});var d=this;c.then(h.hitch(this,function(){b&&d.set("_containerId",b);this.set("_index",a)}));return c},applyStyles:function(a){this._previousStyles||(this._previousStyles=this.styles);this.set("styles",a)},revertStyles:function(){this.set("styles",this._previousStyles);this._previousStyles=null},getRendererModel:function(a){a||(a=Preview.getContainer(this._containerId).containerWidth);return h.mixin({containerWidth:a},this.data())},getContent:function(a){return n.getContent(this.type,
this.getRendererModel(a),this._campaignRenderingType)},getMarkup:function(a){return n.getMarkup(this.type,this.getRendererModel(a),this._campaignRenderingType)},getContainerWidth:function(){return Preview.getContainer(this._containerId).containerWidth},openEditor:function(){if(!this._editor||this._editor&&!this._editorOpen)this._editor=d.create(this.type,this),this.set("_editorOpen",!0),this._editor.show(),f.after(this._editor,"destroy",h.hitch(this,function(){this.set("_editorOpen",!1)}))},updateData:function(a){this.set(a);
if(this._editor&&this._editorOpen)this._editor.onDataUpdate(a)},onLinkUpdate:function(b,c,d){b=new a;b.reject("Oops! Looks like we unable to change this link. Contact support if the problem persist.");return b},canLinkUpdate:function(){return!0},_setupMergeListeners:function(a){},_teardownMergeListeners:function(a){}})})},"mojo/neapolitan/editors":function(){define("./editors/blocks/TextEditor ./editors/blocks/TextEditorMobile ./editors/blocks/BoxedTextEditor ./editors/blocks/BoxedTextEditorMobile ./editors/blocks/DividerEditor ./editors/blocks/DividerEditorMobile ./editors/blocks/ImageEditor ./editors/blocks/ImageEditorMobile ./editors/blocks/ImageCardEditor ./editors/blocks/ImageCardEditorMobile ./editors/blocks/ImageGroupEditor ./editors/blocks/ImageGroupEditorMobile ./editors/blocks/ImageWithCaptionEditor ./editors/blocks/ImageWithCaptionEditorMobile ./editors/blocks/SocialShareEditor ./editors/blocks/SocialShareEditorMobile ./editors/blocks/SocialFollowEditor ./editors/blocks/SocialFollowEditorMobile ./editors/blocks/ButtonEditor ./editors/blocks/ButtonEditorMobile ./editors/blocks/FooterEditor ./editors/blocks/FooterEditorMobile ./editors/blocks/CodeEditor ./editors/blocks/RssHeaderEditor ./editors/blocks/RssHeaderEditorMobile ./editors/blocks/RssItemsEditor ./editors/blocks/RssItemsEditorMobile ./editors/blocks/VideoEditor ./editors/blocks/VideoEditorMobile ./editors/blocks/ApiEditor ./editors/blocks/ProductRecEditor ./editors/blocks/ProductRecEditorMobile ./editors/blocks/ProductEditor ./editors/blocks/ProductEditorMobile ./editors/blocks/AbandonedCartEditor ./editors/blocks/AbandonedCartEditorMobile ./editors/blocks/AbandonedBrowseEditor ./editors/blocks/PromoCodeEditor ./editors/blocks/PromoCodeEditorMobile ./editors/blocks/UnsupportedBlockMobile ./editors/blocks/SignUpFormEditor ./editors/blocks/WebVideoEditor".split(" "),
function(){var l={text:!0,boxedText:!0,divider:!0,button:!0,footer:!0,image:!0,imageCard:!0,imageGroup:!0,imageCaption:!0,video:!0,socialFollow:!0,socialShare:!0,rssHeader:!0,rssItems:!0,product:!0,productRec:!0,abandonedCart:!0,promoCode:!0},k={},h;for(h=0;h<arguments.length;h++){var f=arguments[h],a=f.prototype.type;if(a){for(var c=0;k.hasOwnProperty(a);)a=f.prototype.type+"_"+c,c++;k[a]=f}}return{getAllByType:function(){return k},create:function(a,c){var d=window.app&&window.app.nativeUtils&&window.app.nativeUtils.getNativeObject(),
b=a;d&&(b=l[a]?a+"-mobile":"unsupported-mobile");return new k[b]({block:c})}}})},"mojo/neapolitan/editors/blocks/TextEditor":function(){define("dojo/_base/declare ./_Base mojo/neapolitan/editors/_CKMixin dojo/text!./templates/TextEditor/editor.html dojo/text!./templates/TextEditor/splitIcons.html dojo/_base/lang dojo/query dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/_base/array dojo/on dojox/dtl dojox/dtl/Context dijit/form/Select mojo/neapolitan/widgets/EditorContainer".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([k,h],{type:"text",templateString:f,widgetsInTemplate:!0,maxColumns:2,splitOptions:[[[100]],[[50,50],[35,65],[65,35]]],postCreate:function(){this.block.splitOption instanceof Array||(this.block.splitOption=this._getSplitOptions()[this.block.splitOption]);this.inherited(arguments);this.columnSelectInput&&(this.sync("numberOfColumns",this.columnSelectInput,"value"),this.watch("numberOfColumns",c.hitch(this,function(){for(var a=0;a<this.block.numberOfColumns;a++)if(null===
this.block.content[a]||"undefined"===typeof this.block.content[a])this.block.content[a]=this.block._defaultText;this.block.set("splitOption",this._getSplitOptions()[0]);this.block.numberOfColumns-1<this.block.selectedColumn&&(this.block.set("selectedColumn",this.block.numberOfColumns-1),this._reloadEditor());this._renderColumnSelection();this._renderSplitIcons()})),this.watch("selectedColumn",c.hitch(this,function(){this._renderSplitIcons()})),this._renderColumnSelection(),this._renderSplitIcons());
var a=this;q(this.splitSelector,".mojoTextSplitLayout:click",function(){a._selectSplitOption(this)});this._setupPreservedContent()},_selectSplitOption:function(a){e(".mojoTextSplitLayout:selected",this.domNode).removeClass("selected");d.add(a,"selected");this.block.set("splitOption",this._getSplitOptions()[n.get(a,"data-split-option")])},_renderSplitIcons:function(){var a=null;p.forEach(this._getSplitOptions(),c.hitch(this,function(b,c){b.toString()==this.block.splitOption.toString()&&(a=c)}));var b=
this.getSplitIconTemplate().render(new t({selected:a,splits:this._getSplitOptions()}));m.place(b,this.splitSelector,"only");e(this.splitSelectorSection).style("display",1<this.block.numberOfColumns?"block":"none")},_renderColumnSelection:function(){m.empty(this.columnSelector);if(1<this.block.numberOfColumns)for(var a=0;a<this.block.numberOfColumns;a++){var b=m.create("div",{"class":"inline-block padding-bottom--lv2 padding-right--lv5 font-weight--bold"}),c=m.create("a",{href:"#0","data-value":a,
innerHTML:"Column "+(a+1),"class":"c-editortabs_item inline-block small-meta"});this.block.selectedColumn===a&&d.add(c,"active");m.place(c,b);m.place(b,this.columnSelector);this.connect(c,"click","_edit")}},startup:function(){this.showCKEditor(this.ckeditorContainer,this.timestampContainer,this._getCKContent(this.block.selectedColumn),c.hitch(this,"publishReady"))},show:function(){this.publishSetup()},_edit:function(a){a.stopPropagation();a.preventDefault();e("a",this.columnSelector).removeClass("active");
d.add(a.target,"active");a=parseInt(n.get(a.target,"data-value"),10);this.block.content[this.block.selectedColumn]=this.editor.getData();this.block.selectedColumn=a;this._reloadEditor()},_reloadEditor:function(){this.showCKEditor(this.ckeditorContainer,this.timeStampContainer,this._getCKContent(this.block.selectedColumn))},_getSplitOptions:function(){return this.splitOptions[this.block.numberOfColumns-1]},getSplitIconTemplate:function(){this.iconTemplate||(this.iconTemplate=new dojox.dtl.Template(a));
return this.iconTemplate},onCKChange:function(){var a=this.block.content;a[this.block.selectedColumn]=this.editor.getData();this.block.set("content",a)},_getCKContent:function(a){return null!==this.block.content[a]&&"undefined"!==typeof this.block.content[a]?this.block.content[a]:this.block._defaultText}})})},"mojo/neapolitan/editors/blocks/_Base":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/_base/lang dojo/_base/array dojo/dom-style dojo/on dojo/dom-construct ../_EditorMixin ../BlockStyleEditor dojox/mvc/sync dojo/NodeList-dom".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k,h,d],{type:null,widgetsInTemplate:!0,CAMPAIGN_RENDERING_TYPES:{PAGE:"page"},isPageTemplate:!1,constructor:function(a){this._watches=[];this._syncs=[]},postMixInProperties:function(){this.inherited(arguments);this.storeMap={}},postCreate:function(){this.isPageTemplate=this.block._campaignRenderingType===this.CAMPAIGN_RENDERING_TYPES.PAGE;if(this.styleEditorContainer){var a=this.getStyleEditor();a.startup();m.place(a.domNode,this.styleEditorContainer);this.watch("styles",
f.hitch(this,function(){a.updateInputs(this.block.styles)}))}},uninitialize:function(){a.forEach(this._watches,function(a){a.unwatch()});a.forEach(this._syncs,function(a){a.remove()});this._watches=[];this._syncs=[];this.inherited(arguments)},watch:function(a,b){var c=a?this.block.watch(a,b):this.block.watch(b);this._watches.push(c)},sync:function(a,b,c){a=n(this.block,a,b,c);this._syncs.push(a)},getStyleEditor:function(){if(!this.styleEditor||this.styleEditor._destroyed){var a=f.clone(this.block.styles);
this.styleEditor=new b({styles:a,type:this.block._name,kbLink:this.block._kbLink});this.connect(this.styleEditor,"onChange",function(a){this.updateStyles(a);this.applyAll&&this._updateAllBlockStyles()});this.connect(this.styleEditor,"onCancel",function(a){this.updateStyles(a);this._done();this.applyAll&&this._revertAllBlockStyles();this.applyAll=!1});this.connect(this.styleEditor,"onRevert",function(a){this.updateStyles(a);this.applyAll&&this._updateAllBlockStyles()});this.connect(this.styleEditor,
"onApplyToAll",function(a){(this.applyAll=a)?this._updateAllBlockStyles():this._revertAllBlockStyles()})}return this.styleEditor},_setupPreservedContent:function(){if(this.switchContentBtn){var a=this;window.app.hasPreservedContent()&&(c.set(this.switchContentBtn,"display",""),e(this.switchContentBtn,"click",function(b){b.stopPropagation();b.preventDefault();window.app.openPreservedContentDialog().then(function(b){a.block._endpoint.getPreservedContent(b.name,b.type).then(function(b){a.editor.setData(b);
a.onCKChange()})})}))}},_updateAllBlockStyles:function(){this._blocksByType||(this._blocksByType=window.app.byType(this.type));a.forEach(this._blocksByType,f.hitch(this,function(a){a!==this.block&&a.applyStyles(this.block.styles)}))},_revertAllBlockStyles:function(){this._blocksByType&&a.forEach(this._blocksByType,f.hitch(this,function(a){a!==this.block&&a.revertStyles()}))},_saveAllBlockStyles:function(){this._blocksByType&&window.app.updateAll(this._blocksByType,{notify:!0})},updateStyles:function(a){null==
this.currentStyles&&(this.currentStyles=f.clone(this.block.styles));this.block.set("styles",a)},revertStyles:function(){this.currentStyles&&(this.block.set("styles",this.currentStyles),this.currentStyles=null)},saveAndHide:function(){this.publishDone()},cancelAndHide:function(){this._skipSave=!0;this.publishDone()},_done:function(){this.styleEditor&&!this.styleEditor._destroyed&&(this.applyAll&&(this.applyAll=!1,this._saveAllBlockStyles()),this.styleEditor.done(),this.styleEditor.destroy())},save:function(a){return this.block.save(a)},
onDataUpdate:function(a){},onClose:function(){this._done();this._skipSave||this.save().then(f.hitch(this,"destroy"))}})})},"mojo/neapolitan/editors/BlockStyleEditor":function(){define("dojo/_base/declare dojo/text!./templates/blockStyleEditor.html ./StyleEditor dojo/dom-style dojo/dom-class dojo/dom-construct dojo/dom-attr mojo/utils velocity/velocity".split(" "),function(l,k,h,f,a,c,e,m,d){return l([h],{templateString:k,type:"",kbLink:null,isOptional:!0,widgetsInTemplate:!0,postCreate:function(){this.inherited(arguments);
this.connect(this.applyCheckbox,"onChange","_applyToAll");this.connect(this.revertBtn,"click","revert");this.kbLink&&(e.set(this.styleKbLink,"href",this.kbLink),a.remove(this.styleKbLinkWrap,"hide"))},_applyToAll:function(){this.onApplyToAll(e.get(this.applyCheckbox,"checked"))},onApplyToAll:function(a){},onChange:function(){a.remove(this.revertBtn,"no-clicky");d(this.revertBtn,{opacity:1},{duration:200});m.globalPublish("neapolitan/blocks/style/changed")},onRevert:function(){a.add(this.revertBtn,
"no-clicky");d(this.revertBtn,{opacity:0},{duration:200})}})})},"mojo/neapolitan/editors/StyleEditor":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/query dojo/string dojo/dom-construct dojo/topic dijit/_Widget dijit/_Templated dijit/form/TextBox mojo/widgets/input/Color mojo/widgets/input/Border mojo/widgets/input/Display mojo/widgets/input/Measurement mojo/widgets/input/Flex mojo/widgets/input/PageWidth mojo/widgets/input/PercentageWidth mojo/widgets/input/Background mojo/widgets/input/Font mojo/widgets/FeedbackBlock mojo/neapolitan/style-keys mojo/utils dojo/text!./templates/styleEditor.html dojo/text!./templates/styleSection.html ./_EditorMixin".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F){var G=l([n],{containerTpl:'\x3cdiv class\x3d"style-field selfclear style-{styleSuffix}"\x3e\x3clabel\x3e{label}\x3c/label\x3e\x3c/div\x3e',postCreate:function(){this.inherited(arguments);this.skipContainer||(this.inputContainerNode=e.toDom(h.replace(this.containerTpl,{styleSuffix:this.label.toLowerCase().replace(" ",""),label:this.label})),e.place(this.domNode,this.inputContainerNode))}}),I=l([d,b],{sectionName:"",styles:null,templateString:D,
isOptional:!1,constructor:function(){this._inputBySelectorMap={};this.inputs=[];this.selectors=[];this._stylesBySelectorMap={}},postMixInProperties:function(){k.forEach(this.styles,h.hitch(this,function(a){-1===this.selectors.indexOf(a.selector)&&this.selectors.push(a.selector);this._stylesBySelectorMap[a.selector]||(this._stylesBySelectorMap[a.selector]={});this._stylesBySelectorMap[a.selector][a.property]=a}))},postCreate:function(){this._createInputs();this.own(f(this.headerNode,"click",h.hitch(this,
function(){k.forEach(this.selectors,function(a){Preview.highlightEditable(a)})})))},updateValue:function(a,b,c){return this._hasAllBgProperties(a)&&this._isBgProperty(b)?(this._inputBySelectorMap[a]["--mc-bg"].updateValue(b,c),!0):this._isFontProperty(b)?(this._inputBySelectorMap[a]["--mc-font"].updateValue(b,c),!0):this._inputBySelectorMap[a]&&this._inputBySelectorMap[a][b]?(this._inputBySelectorMap[a][b].set("value",c,!1),!0):!1},revert:function(){k.forEach(this.inputs,"item.reset();")},_hasAllBgProperties:function(a){return k.every(z.BG_PROPS,
h.hitch(this,function(b){return this._stylesBySelectorMap[a].hasOwnProperty(b)}))},_isBgProperty:function(a){return-1!==z.BG_PROPS.indexOf(a)},_isFontProperty:function(a){return-1!==z.FONT_PROPS.indexOf(a)},_createInputs:function(){for(var a in this._stylesBySelectorMap)if(this._stylesBySelectorMap.hasOwnProperty(a)){var b=this._stylesBySelectorMap[a],c={};this._hasAllBgProperties(a)&&(this._createBackgroundInput(a),k.forEach(z.BG_PROPS,function(a){c[a]=!0}));var d={};k.forEach(z.FONT_PROPS,function(a){b.hasOwnProperty(a)&&
(d[a]=b[a].value,c[a]=!0)});Object.keys(d).length&&this._createFontInput(a,d);for(var e in b)c[e]||this._createSinglePropertyInput(b[e])}},_createFontInput:function(a,b){var c=new x({selector:a,properties:b,isOptional:this.isOptional,useExtendedWebFonts:window.app&&"page"===window.app.campaignType});c.startup();e.place(c.domNode,this.domNode);this._addInputToMap(a,"--mc-font",c);this.connect(c,"onChange",function(b,d){this.onChange(c.selector,b,d,this._stylesBySelectorMap[a][b].important)})},_createBackgroundInput:function(a){var b=
new y({selector:a,color:this._stylesBySelectorMap[a][z.BG_COLOR].value,image:this._stylesBySelectorMap[a][z.BG_IMAGE].value,position:this._stylesBySelectorMap[a][z.BG_POSITION].value,repeat:this._stylesBySelectorMap[a][z.BG_REPEAT].value,size:this._stylesBySelectorMap[a][z.BG_SIZE].value});b.startup();this.inputs.push(b);e.place(b.domNode,this.domNode);this._addInputToMap(a,"--mc-bg",b);this.connect(b,"onChange",function(c,d){this.onChange(b.selector,c,d,this._stylesBySelectorMap[a][c].important)})},
_createSinglePropertyInput:function(a){var b;switch(a.property){case "background-color":b=new p(h.mixin(a,{valueOnEmpty:"transparent",noColorEnabled:!0}));break;case "border-color":b=new p(a);break;case "border-top":case "border-left":case "border-right":case "border-bottom":case "border":b=new q(a);break;case "display":b=new r(a);break;case "visibility":b=new VisibilityInput(a);break;case "max-width":b=new t(a);".contentContainer"===a.selector&&(a.label="Width",b=new w(a));break;case "width":b=a.editorInputType&&
"percentage"===a.editorInputType?new v(a):new t(a);break;case "height":case "margin":case "padding":case "padding-top":case "padding-bottom":case "padding-right":case "padding-left":case "border-radius":b=new t(a);break;case "flex":b=new u(a);break;default:b=new G(a)}this.connect(b,"onChange",function(){this.onChange(b.selector,b.property,b.get("value"),a.important)});b.startup();this.inputs.push(b);e.place(b.inputContainerNode,this.domNode);this._addInputToMap(a.selector,a.property,b);return b},
_addInputToMap:function(a,b,c){this._inputBySelectorMap[a]||(this._inputBySelectorMap[a]={});this._inputBySelectorMap[a][b]=c},onChange:function(a,b,c,d){}});return l([d,b,F],{templateString:C,inlineStyleListener:null,isOptional:!1,_silentChanges:!1,constructor:function(){this.title="";this.styles=[];this.sections=[];this._sectionsBySelectorMap={};this._setupInlineStyleWarningListener()},destroy:function(){this.inlineStyleListener&&this.inlineStyleListener.remove();this.inherited(arguments)},postCreate:function(){var a=
h.clone(this.styles);k.forEach(a,function(a){for(var b in a.props){a.props[b].value||(a.props[b].value="");var c=a.props[b].important;c||(c=null!==a.props[b].value.match("!important"));a.props[b].important=c}});this.changedStyles=a;this.changeSet=null;k.forEach(a,h.hitch(this,function(a,b){var d=[],f;for(f in a.props){var l=a.props[f],m=l.selector||a.selector,n=l.important,l=l.label||this._getStyleLabel(f),p=a.props[f].hasOwnProperty("isOptional")?a.props[f].isOptional:this.isOptional,q=a.props[f].value;
n&&(q=c.trim(q.replace("!important","")));m={value:q,important:n,selector:m,property:f,isOptional:p,label:l};(n=a.props[f].editorInputType)&&(m.editorInputType=n);d.push(m)}a.name&&"Caption"===a.name&&(a.name=this._getStyleSectionName(this.type,a.name));var r=new I({sectionName:a.name?a.name:"",styles:d,isOptional:this.isOptional});r.startup();e.place(r.domNode,this.styleForm);this.sections.push(r);k.forEach(r.selectors,h.hitch(this,function(a){this._sectionsBySelectorMap[a]||(this._sectionsBySelectorMap[a]=
[]);this._sectionsBySelectorMap[a].push(r)}));this.connect(r,"onChange",function(b,c,d,e){this.changeSet=this.changeSet||{};this.changeSet[b]||(this.changeSet[b]={});this.changeSet[b][c]={value:d,important:e};a.props[c].value=d;if(!this._silentChanges)this.onChange(this.changedStyles,{value:d,selector:b,important:e,property:c})})}));this.backBtn&&this.connect(this.backBtn,"click","_onSave");this.cancelBtn&&this.connect(this.cancelBtn,"click","_onCancel");this.saveBtn&&this.connect(this.saveBtn,"click",
"_onSave")},_setupInlineStyleWarningListener:function(){this.inlineStyleListener=m.subscribe("current/block/has/inline/style",h.hitch(this,function(b){b.hasStyles&&(b=new A({title:"Content tab vs. Style",message:"It looks like you're using inline styles for your content, which may override these changes.",type:"error"}),e.place(b.domNode,a('[data-js-el\x3d"styleHeader"]',this.styleForm)[0],"after"))}))},_getStyleSectionName:function(a,b){var c=b;switch(a){case "Image Card":case "Image + Caption":case "Video":c=
"Text style"}return c},updateInputs:function(a){this._silentChanges=!0;a=h.clone(a);k.forEach(a,function(a){for(var b in a.props){a.props[b].value||(a.props[b].value="");var c=a.props[b].important;c||(c=null!==a.props[b].value.match("!important"));a.props[b].important=c}});k.forEach(a,h.hitch(this,function(a){for(var b in a.props){var d=a.props[b].selector||a.selector,e=a.props[b].value,e=c.trim(e.replace("!important",""));this._sectionsBySelectorMap[d]&&k.forEach(this._sectionsBySelectorMap[d],function(a){a.updateValue(d,
b,e)})}}));this._silentChanges=!1},_onCancel:function(a){a.stopPropagation();a.preventDefault();this.cancel=!0;this.onCancel(this.styles);this.done()},revert:function(){this._silentChanges=!0;k.forEach(this.sections,"item.revert();");setTimeout(h.hitch(this,function(){this._silentChanges=!1;this.changeSet=null;this.onRevert(this.styles)},0))},_onSave:function(a){a.stopPropagation();a.preventDefault();this.save();this.done()},save:function(){this.onSave(this.getStyles(),this.changeSet);this.changeSet=
null},onChange:function(a,b){},onCancel:function(a){},onSave:function(a,b){},onRevert:function(a){},getStyles:function(){return this.changedStyles},_getStyleLabel:function(a){switch(a){case z.BG_COLOR:return"Background";case z.COLOR:return"Text Color";case z.FLEX:return"Width";default:return a.replace(/-/g," ")}}})})},"mojo/neapolitan/editors/_CKMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/date/locale dojo/has dojo/on dojo/html dojo/query dojo/dom-class mojo/user mojo/lib/flags mojo/lib/logger ./_TextBlockStyleWarningMixin codemirror4/lib/codemirror codemirror4/mode/htmlmixed/htmlmixed dojo/sniff".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([q],{autosaveInterval:2E4,customCkStylesPath:null,ckSkinConfig:"mcneapolitanconfig.js",constructor:function(){this.autosaveInSecs=this.autosaveInterval/1E3},isMobile:Boolean(window.app&&window.app.nativeUtils&&window.app.nativeUtils.getNativeObject()),showCKEditor:function(f,l,q,v){l&&(this._timeStampContainer=l,e.set(this._timeStampContainer,"We'll autosave every "+this.autosaveInSecs+" seconds"));l={customConfig:this.ckSkinConfig,height:500,mergeTags:window.fckeditor_merge_url+
"?id\x3d"+window.tpl_id+"\x26block\x3dneapolitan",stylesSet:"mc_styles_neapolitan:"+window.fckeditor_style_url+"?id\x3d"+window.tpl_id+"\x26block\x3dneapolitan",on:{instanceReady:k.hitch(this,function(){this.editor.on("change",k.hitch(this,"_onCKChange"));k.isFunction(v)&&v();this.editor.on("key",window.parent.hotKeyHandler);if(a("touch")){var b=this.editor.window.$;c(this.editor.document.$,"touchend",function(a){b.focus();a.stopPropagation()})}this.isPageTemplate||this._createWebfontWarning(f)}),
webfontPresent:k.hitch(this,function(a){m(this._fontWarningDom).toggleClass("hide",!a.data.isPresent)}),afterCommandExec:function(a){var b=1===a.data.command.previousState?"off":"on";"autogrow"!==a.data.name&&p.info("ckeditor-plugin-usage","CKEditor button click",{state:b,editingType:window.app.editingType,plugin:a.data.name,isMobile:this.isMobile,campaignId:window.app&&window.app.campaignId,blockId:this.block.id,blockType:this.block.type})}.bind(this)}};this.customCkStylesPath&&(l.contentsCss=this.customCkStylesPath);
var y="aspell mergetags mcimage onchange toolbarexpander webfont".split(" ");b.flagIsOn(n.CKEDITOR_BOLD_LINKS)&&y.push("boldlinks");(!a("ie")||9<=!a("ie"))&&y.push("autogrow");this.restrictions&&(y.push("restrictions"),l.restrictions={maxLength:this.restrictions.max_length,allowUrls:this.restrictions.allow_urls},l.disallowedContent="img",!1===this.restrictions.allow_urls&&(l.disallowedContent+=" a"));l.extraPlugins=y.join(",");if(!dojo.isIE||8<dojo.isIE)l.on.mode=k.hitch(this,function(){if("source"==
this.editor.mode){var a=m(".cke_source")[0],b=r.fromTextArea(a,{mode:"text/html",autofocus:!0,tabMode:"indent",indentUnit:2,smartIndent:!1,theme:"default",autoClearEmptyLines:!0,lineWrapping:!0,lineNumbers:!0});c(b.display.wrapper,"contextmenu",function(a){a.stopPropagation()});d.add(m(".cke_inner")[0],"codeMirror-on");var e=b.addLineClass(0,"activeline");b.on("cursorActivity",function(){var a=b.getLineHandle(b.getCursor().line);a!=e&&(b.removeLineClass(e,"background","activeline"),e=b.addLineClass(a,
"background","activeline"))});b.on("change",k.hitch(this,function(){a.value=b.getValue();this._onCKChange()}))}else d.remove(m(".cke_inner")[0],"codeMirror-on"),this.editor.resize()});h.empty(f);this.editor=CKEDITOR.appendTo(f,l,q);window.editor=this.editor;window.onbeforeunload=k.hitch(this,function(){if(this.editor&&this.editor.checkDirty())return"You are about to leave this page. Any changes you have made to the content will be lost. Are you sure you want to do this?"})},clearCKAutosave:function(){this.autosaveTimeout&&
clearTimeout(this.autosaveTimeout);window.onbeforeunload=null},onCKChange:function(){},_onCKChange:function(){this.autosaveTimeout||(this.autosaveTimeout=setTimeout(k.hitch(this,"_autoSaveEditor"),this.autosaveInterval));this.onCKChange()},_autoSaveEditor:function(){this.autosaveTimeout=null;this.editor&&this.editor.checkDirty()&&this.save().then(k.hitch(this,function(){if(this._timeStampContainer){var a=f.format(new Date,{selector:"date",datePattern:"h:mma v M/d/yy"});this._timeStampContainer.innerHTML=
"autosaved "+a}this.editor.resetDirty()}))},_createWebfontWarning:function(a){this._fontWarningDom=h.place("\x3cp class\x3d'font-weight--bold small-meta padding--lv2 dim-el hide'\x3eIf an email client \x3ca href\x3d'http://kb.mailchimp.com/campaigns/design/limitations-of-html-email' target\x3d'_blank'\x3edoesn't support web fonts\x3c/a\x3e, we'll use a similar standard font instead.\x3c/p\x3e",a)},onClose:function(){this.clearCKAutosave();this.editor&&(this.onCKChange(),this.editor.destroy(),this.editor=
null);this.inherited(arguments)}})})},"mojo/neapolitan/editors/_TextBlockStyleWarningMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","mojo/utils","mojo/neapolitan/mobile/utils"],function(l,k,h,f,a){var c=["h1","h2","h3","h4"],e=["style"];return l(null,{postCreate:function(){this.inherited(arguments);var c;a.getNativeObject()&&(this.block&&(c=this._getContentFromBlock(this.block)),c&&this._checkContentForInlineStyles(c))},_getContentFromBlock:function(a){return a.content?
a.content:a.caption?[a.caption.text]:a.captions?a.captions.map(function(a){return a.text}):!1},_checkContentStringForStyles:function(a){var d=c.filter(function(b){return a&&-1!==a.indexOf("\x3c"+b)}),b=e.filter(function(b){return a&&-1!==a.indexOf(b+"\x3d")});return 0<d.length||0<b.length},_checkContentForInlineStyles:function(a){0<a.filter(k.hitch(this,function(a){return this._checkContentStringForStyles(a)})).length&&f.globalPublish("current/block/has/inline/style",{hasStyles:!0})}})})},"dojox/dtl":function(){define(["./dtl/_base"],
function(l){return l})},"dojox/dtl/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojox/string/tokenize dojo/_base/json dojo/dom dojo/_base/xhr dojox/string/Builder dojo/_base/Deferred".split(" "),function(l,k,h,f,a,c,e,m){l.experimental("dojox.dtl");var d=k.getObject("dojox.dtl",!0);d._base={};d.TOKEN_BLOCK=-1;d.TOKEN_VAR=-2;d.TOKEN_COMMENT=-3;d.TOKEN_TEXT=3;d._Context=k.extend(function(a){a&&(k._mixin(this,a),a.get&&(this._getter=a.get,delete this.get))},{push:function(){var a=this,
b=k.delegate(this);b.pop=function(){return a};return b},pop:function(){throw Error("pop() called on empty Context");},get:function(a,b){var c=this._normalize;if(this._getter){var d=this._getter(a);if(void 0!==d)return c(d)}return void 0!==this[a]?c(this[a]):b},_normalize:function(a){a instanceof Date&&(a.year=a.getFullYear(),a.month=a.getMonth()+1,a.day=a.getDate(),a.date=a.year+"-"+("0"+a.month).slice(-2)+"-"+("0"+a.day).slice(-2),a.hour=a.getHours(),a.minute=a.getMinutes(),a.second=a.getSeconds(),
a.microsecond=a.getMilliseconds());return a},update:function(a){var b=this.push();a&&k._mixin(this,a);return b}});var b=/("(?:[^"\\]*(?:\\.[^"\\]*)*)"|'(?:[^'\\]*(?:\\.[^'\\]*)*)'|[^\s]+)/g,n=/\s+/g,p=function(a,b){a=a||n;a instanceof RegExp||(a=new RegExp(a,"g"));if(!a.global)throw Error("You must use a globally flagged RegExp with split "+a);a.exec("");for(var c,d=[],e=0,f=0;(c=a.exec(this))&&!(d.push(this.slice(e,a.lastIndex-c[0].length)),e=a.lastIndex,b&&++f>b-1););d.push(this.slice(e));return d};
d.Token=function(a,b){this.token_type=a;this.contents=new String(k.trim(b));this.contents.split=p;this.split=function(){return String.prototype.split.apply(this.contents,arguments)}};d.Token.prototype.split_contents=function(a){var c,d=[],e=0;for(a=a||999;e++<a&&(c=b.exec(this.contents));)c=c[0],'"'==c.charAt(0)&&'"'==c.slice(-1)?d.push('"'+c.slice(1,-1).replace('\\"','"').replace("\\\\","\\")+'"'):"'"==c.charAt(0)&&"'"==c.slice(-1)?d.push("'"+c.slice(1,-1).replace("\\'","'").replace("\\\\","\\")+
"'"):d.push(c);return d};var q=d.text={_get:function(a,b,c){a=d.register.get(a,b.toLowerCase(),c);if(!a){if(!c)throw Error("No tag found for "+b);return null}c=a[1];a=a[2];-1!=c.indexOf(":")&&(c=c.split(":"),c=c.pop());var e=a;/\./.test(a)&&(a=a.replace(/\./g,"/"));require([a],function(){});a=k.getObject(e);return a[c||b]||a[b+"_"]||a[c+"_"]},getTag:function(a,b){return q._get("tag",a,b)},getFilter:function(a,b){return q._get("filter",a,b)},getTemplate:function(a){return new d.Template(q.getTemplateString(a))},
getTemplateString:function(a){return c._getText(a.toString())||""},_resolveLazy:function(a,b,e){return b?e?e.fromJson(c._getText(a))||{}:d.text.getTemplateString(a):c.get({handleAs:e?"json":"text",url:a})},_resolveTemplateArg:function(a,b){if(q._isTemplate(a)){if(!b){var c=new m;c.callback(a);return c}return a}return q._resolveLazy(a,b)},_isTemplate:function(a){return void 0===a||"string"==typeof a&&(a.match(/^\s*[<{]/)||-1!=a.indexOf(" "))},_resolveContextArg:function(a,b){if(a.constructor==Object){if(!b){var c=
new m;c.callback(a);return c}return a}return q._resolveLazy(a,b,!0)},_re:/(?:\{\{\s*(.+?)\s*\}\}|\{%\s*(load\s*)?(.+?)\s*%\})/g,tokenize:function(a){return h(a,q._re,q._parseDelims)},_parseDelims:function(a,b,c){if(a)return[d.TOKEN_VAR,a];if(b)for(a=k.trim(c).split(/\s+/g),b=0;c=a[b];b++)/\./.test(c)&&(c=c.replace(/\./g,"/")),require([c]);else return[d.TOKEN_BLOCK,c]}};d.Template=k.extend(function(a,b){var c=b?a:q._resolveTemplateArg(a,!0)||"",c=q.tokenize(c);this.nodelist=(new d._Parser(c)).parse()},
{update:function(b,c){return q._resolveContextArg(c).addCallback(this,function(c){var e=this.render(new d._Context(c));b.forEach?b.forEach(function(a){a.innerHTML=e}):a.byId(b).innerHTML=e;return this})},render:function(a,b){b=b||this.getBuffer();a=a||new d._Context({});return this.nodelist.render(a,b)+""},getBuffer:function(){return new e}});var r=/\{\{\s*(.+?)\s*\}\}/g;d.quickFilter=function(a){if(!a)return new d._NodeList;if(-1==a.indexOf("{%"))return new d._QuickNodeList(h(a,r,function(a){return new d._Filter(a)}))};
d._QuickNodeList=k.extend(function(a){this.contents=a},{render:function(a,b){for(var c=0,d=this.contents.length;c<d;c++)b=this.contents[c].resolve?b.concat(this.contents[c].resolve(a)):b.concat(this.contents[c]);return b},dummyRender:function(a){return this.render(a,d.Template.prototype.getBuffer()).toString()},clone:function(a){return this}});d._Filter=k.extend(function(a){if(!a)throw Error("Filter must be called with variable name");this.contents=a;var b=this._cache[a];b?(this.key=b[0],this.filters=
b[1]):(this.filters=[],h(a,this._re,this._tokenize,this),this._cache[a]=[this.key,this.filters])},{_cache:{},_re:/(?:^_\("([^\\"]*(?:\\.[^\\"])*)"\)|^"([^\\"]*(?:\\.[^\\"]*)*)"|^([a-zA-Z0-9_.]+)|\|(\w+)(?::(?:_\("([^\\"]*(?:\\.[^\\"])*)"\)|"([^\\"]*(?:\\.[^\\"]*)*)"|([a-zA-Z0-9_.]+)|'([^\\']*(?:\\.[^\\']*)*)'))?|^'([^\\']*(?:\\.[^\\']*)*)')/g,_values:{0:'"',1:'"',2:"",8:'"'},_args:{4:'"',5:'"',6:"",7:"'"},_tokenize:function(){for(var a,b,c=0,d=[];c<arguments.length;c++)d[c]=void 0!==arguments[c]&&
"string"==typeof arguments[c]&&arguments[c];if(this.key){for(a in this._args)if(d[a]){b=arguments[a];"'"==this._args[a]?b=b.replace(/\\'/g,"'"):'"'==this._args[a]&&(b=b.replace(/\\"/g,'"'));b=[!this._args[a],b];break}a=q.getFilter(arguments[3]);if(!k.isFunction(a))throw Error(arguments[3]+" is not registered as a filter");this.filters.push([a,b])}else for(a in this._values)if(d[a]){this.key=this._values[a]+arguments[a]+this._values[a];break}},getExpression:function(){return this.contents},resolve:function(a){if(void 0===
this.key)return"";for(var b=this.resolvePath(this.key,a),c=0,d;d=this.filters[c];c++)b=d[1]?d[1][0]?d[0](b,this.resolvePath(d[1][1],a)):d[0](b,d[1][1]):d[0](b);return b},resolvePath:function(a,b){var c,e;c=a.charAt(0);e=a.slice(-1);if(isNaN(parseInt(c)))if('"'==c&&c==e)c=a.slice(1,-1);else{if("true"==a)return!0;if("false"==a)return!1;if("null"==a||"None"==a)return null;e=a.split(".");c=b.get(e[0]);if(k.isFunction(c)){var f=b.getThis&&b.getThis();c=c.alters_data?"":f?c.call(f):""}for(f=1;f<e.length;f++){var h=
e[f];if(c){var l=c;if(k.isObject(c)&&"items"==h&&void 0===c[h]){var h=[],m;for(m in c)h.push([m,c[m]]);c=h}else{if(c.get&&k.isFunction(c.get)&&c.get.safe)c=c.get(h);else if(void 0===c[h]){c=c[h];break}else c=c[h];k.isFunction(c)?c=c.alters_data?"":c.call(l):c instanceof Date&&(c=d._Context.prototype._normalize(c))}}else return""}}else c=-1==a.indexOf(".")?parseInt(a):parseFloat(a);return c}});d._TextNode=d._Node=k.extend(function(a){this.contents=a},{set:function(a){this.contents=a;return this},render:function(a,
b){return b.concat(this.contents)},isEmpty:function(){return!k.trim(this.contents)},clone:function(){return this}});d._NodeList=k.extend(function(a){this.contents=a||[];this.last=""},{push:function(a){this.contents.push(a);return this},concat:function(a){this.contents=this.contents.concat(a);return this},render:function(a,b){for(var c=0;c<this.contents.length;c++)if(b=this.contents[c].render(a,b),!b)throw Error("Template must return buffer");return b},dummyRender:function(a){return this.render(a,
d.Template.prototype.getBuffer()).toString()},unrender:function(a,b){return b},clone:function(){return this},rtrim:function(){for(;;)if(i=this.contents.length-1,this.contents[i]instanceof d._TextNode&&this.contents[i].isEmpty())this.contents.pop();else break;return this}});d._VarNode=k.extend(function(a){this.contents=new d._Filter(a)},{render:function(a,b){var c=this.contents.resolve(a);c.safe||(c=d._base.escape(""+c));return b.concat(c)}});d._noOpNode=new function(){this.render=this.unrender=function(a,
b){return b};this.clone=function(){return this}};d._Parser=k.extend(function(a){this.contents=a},{i:0,parse:function(a){var b={},c;a=a||[];for(var e=0;e<a.length;e++)b[a[e]]=!0;for(e=new d._NodeList;this.i<this.contents.length;)if(c=this.contents[this.i++],"string"==typeof c)e.push(new d._TextNode(c));else{var f=c[0];c=c[1];if(f==d.TOKEN_VAR)e.push(new d._VarNode(c));else if(f==d.TOKEN_BLOCK){if(b[c])return--this.i,e;var h=c.split(/\s+/g);h.length&&(h=h[0],(h=q.getTag(h))&&e.push(h(this,new d.Token(f,
c))))}}if(a.length)throw Error("Could not find closing tag(s): "+a.toString());this.contents.length=0;return e},next_token:function(){var a=this.contents[this.i++];return new d.Token(a[0],a[1])},delete_first_token:function(){this.i++},skip_past:function(a){for(;this.i<this.contents.length;){var b=this.contents[this.i++];if(b[0]==d.TOKEN_BLOCK&&b[1]==a)return}throw Error("Unclosed tag found when looking for "+a);},create_variable_node:function(a){return new d._VarNode(a)},create_text_node:function(a){return new d._TextNode(a||
"")},getTemplate:function(a){return new d.Template(a)}});d.register={_registry:{attributes:[],tags:[],filters:[]},get:function(a,b){for(var c=d.register._registry[a+"s"],e=0,f;f=c[e];e++)if("string"==typeof f[0]){if(f[0]==b)return f}else if(b.match(f[0]))return f},getAttributeTags:function(){for(var a=[],b=d.register._registry.attributes,c=0,e;e=b[c];c++)if(3==e.length)a.push(e);else{var f=k.getObject(e[1]);f&&k.isFunction(f)&&(e.push(f),a.push(e))}return a},_any:function(a,b,c){for(var e in c)for(var f=
0,h;h=c[e][f];f++){var l=h;k.isArray(h)&&(l=h[0],h=h[1]);if("string"==typeof l){if("attr:"==l.substr(0,5)){var m=h;"attr:"==m.substr(0,5)&&(m=m.slice(5));d.register._registry.attributes.push([m.toLowerCase(),b+"."+e+"."+m])}l=l.toLowerCase()}d.register._registry[a].push([l,h,b+"."+e])}},tags:function(a,b){d.register._any("tags",a,b)},filters:function(a,b){d.register._any("filters",a,b)}};var t=/&/g,u=/</g,w=/>/g,v=/'/g,y=/"/g;d._base.escape=function(a){return d.mark_safe(a.replace(t,"\x26amp;").replace(u,
"\x26lt;").replace(w,"\x26gt;").replace(y,"\x26quot;").replace(v,"\x26#39;"))};d._base.safe=function(a){"string"==typeof a&&(a=new String(a));"object"==typeof a&&(a.safe=!0);return a};d.mark_safe=d._base.safe;d.register.tags("dojox.dtl.tag",{date:["now"],logic:["if","for","ifequal","ifnotequal"],loader:["extends","block","include","load","ssi"],misc:"comment debug filter firstof spaceless templatetag widthratio with".split(" "),loop:["cycle","ifchanged","regroup"]});d.register.filters("dojox.dtl.filter",
{dates:["date","time","timesince","timeuntil"],htmlstrings:["linebreaks","linebreaksbr","removetags","striptags"],integers:["add","get_digit"],lists:"dictsort dictsortreversed first join length length_is random slice unordered_list".split(" "),logic:["default","default_if_none","divisibleby","yesno"],misc:["filesizeformat","pluralize","phone2numeric","pprint"],strings:"addslashes capfirst center cut fix_ampersands floatformat iriencode linenumbers ljust lower make_list rjust slugify stringformat title truncatewords truncatewords_html upper urlencode urlize urlizetrunc wordcount wordwrap".split(" ")});
d.register.filters("dojox.dtl",{_base:["escape","safe"]});return d})},"dojox/string/tokenize":function(){define(["dojo/_base/lang","dojo/_base/sniff"],function(l,k){var h=l.getObject("dojox.string",!0).tokenize;return h=function(f,a,c,e){var h=[],d,b;for(b=0;d=a.exec(f);){b=f.slice(b,a.lastIndex-d[0].length);b.length&&h.push(b);if(c){if(k("opera")){for(b=d.slice(0);b.length<d.length;)b.push(null);d=b}d=c.apply(e,d.slice(1).concat(h.length));"undefined"!=typeof d&&h.push(d)}b=a.lastIndex}b=f.slice(b);
b.length&&h.push(b);return h}})},"dojox/dtl/Context":function(){define(["dojo/_base/lang","./_base"],function(l,k){return k.Context=l.extend(function(h){this._this={};k._Context.call(this,h)},k._Context.prototype,{getKeys:function(){var h=[],f;for(f in this)this.hasOwnProperty(f)&&"_this"!=f&&h.push(f);return h},extend:function(h){return l.delegate(this,h)},filter:function(h){var f=new k.Context,a=[],c,e;if(h instanceof k.Context)a=h.getKeys();else if("object"==typeof h)for(var l in h)a.push(l);else for(c=
0;e=arguments[c];c++)"string"==typeof e&&a.push(e);c=0;for(l;l=a[c];c++)f[l]=this[l];return f},setThis:function(h){this._this=h},getThis:function(){return this._this},hasKey:function(h){return this._getter&&"undefined"!=typeof this._getter(h)||"undefined"!=typeof this[h]?!0:!1}})})},"mojo/neapolitan/widgets/EditorContainer":function(){define("dojo/query dojo/_base/array dojo/_base/declare dojo/_base/event dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom-geometry dojo/on mojo/utils dijit/_Templated dijit/_Widget dojo/dom-construct dojo/text!./templates/editorContainer.html dojo/fx dojo/NodeList-fx dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return h("mojo.neapolitan.widgets.EditorContainer",[p,n],{baseClass:"mojoEditorContainer",templateString:r,defaultSection:null,sections:null,postCreate:function(){this.sections=l(".mojoEditorSection",this.containerNode);this._setupSections();this._buildSectionNav();this._showDefaultSection()},disableSection:function(a){this._getSectionLink(a).addClass("disabled")},enableSection:function(a){this._getSectionLink(a).removeClass("disabled")},_getSectionLink:function(a){return l('li button[data-section\x3d"'+
a+'"]',this.sectionList)},toggleSection:function(a){this._toggleSectionNav(a);l(".mojoEditorSection",this.containerNode).style("display","none").removeClass("active").filter("."+a+"EditorSection").addClass("active").style("display","block")},_toggleSectionNav:function(a){l("li button",this.sectionList).removeClass("v-buttonGroupBordered--active");this._getSectionLink(a).addClass("v-buttonGroupBordered--active")},_showDefaultSection:function(){this.toggleSection(this.defaultSection);1>=l(this.sectionList).children().length&&
a.set(this.sectionList,"display","none")},_buildSectionNav:function(){var a=this;this.sections&&this.sections.length&&(this.sections.forEach(function(a){var c=e.get(a,"data-mojo-section"),d=b.capitalize(c),f="";if(this.defaultSection===c||e.get(a,"data-mojo-selected"))f=" v-buttonGroupBordered--active";q.place("\x3cli class\x3d'c-buttonGroupItem v-buttonGroupItemFlex'\x3e\x3cbutton type\x3d'button' class\x3d'c-buttonGroupButton v-buttonGroupBordered v-buttonGroupButtonFlex"+f+"' data-section\x3d'"+
c+"'\x3e"+d+"\x3c/button\x3e\x3c/li\x3e",this.sectionList)}.bind(this)),d(this.sectionList,"li button:click",function(b){f.stop(b);c.contains(this,"disabled")||(b=e.get(this,"data-section"),a.toggleSection(b))}))},_setupSections:function(){this.sections&&this.sections.length&&this.sections.forEach(function(a){var b=e.get(a,"data-mojo-section");if(!this.defaultSection||e.get(a,"data-mojo-selected"))this.defaultSection=b;c.add(a,b+"EditorSection");e.get(a,"data-mojo-ck-scroll")&&this._handleCKToolbarScroll(a)}.bind(this))},
_handleCKToolbarScroll:function(a){var b=null;d(a,"scroll",function(){if(!b){var d=l(".cke_toolbox",a)[0];d&&(d=m.position(d),b=d.y+d.h)}b&&(d=m.position(a).y+a.scrollTop-1>b&&1<a.scrollTop,c.toggle(a,"contentEditorScrolled",d))})}})})},"mojo/neapolitan/editors/blocks/TextEditorMobile":function(){define(["dojo/_base/declare","mojo/neapolitan/editors/blocks/TextEditor","mojo/neapolitan/editors/_MobileBlockMixin","mojo/neapolitan/widgets/EditorContainerMobile","dojo/text!./templates/TextEditor/editorMobile.html"],
function(l,k,h,f,a){return l([k,h],{templateString:a,type:"text-mobile",domElementHiddenOnFocus:["sectionHeader","columnSelector","recoverContentWarning"],destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/_MobileBlockMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-class dojo/dom-style dojo/fx/Toggler mojo/utils mojo/neapolitan/mobile/utils".split(" "),
function(l,k,h,f,a,c,e,m){return l(null,{mobileSaveHandler:null,toggleCKEditModeHandler:null,domElementHiddenOnFocus:[],togglerElements:[],postCreate:function(){this.inherited(arguments);this._setupTogglerObjectsForCKFocus();m.toggleViewportZooming(!0);window.top&&window.top.app&&window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.setScreenState({state:"blockEditor",backAction:k.hitch(this,this.saveAndHide)})},destroy:function(){this.inherited(arguments);m.toggleViewportZooming(!1)},
_setupTogglerObjectsForCKFocus:function(){this.togglerElements=this.domElementHiddenOnFocus.map(k.hitch(this,function(a){return new c({node:this[a]})}))},_setupNativeMobileHandlers:function(){this.mobileSaveHandler=h.subscribe("current/block/editor/save/for/mobile",k.hitch(this,this.saveAndHide));this.toggleCKEditModeHandler=h.subscribe("current/block/editor/toggle/ckeditor/mode",k.hitch(this,this._toggleCKEditMode))},_teardownNativeMobileHandlers:function(){this.mobileSaveHandler.remove();this.toggleCKEditModeHandler.remove();
window.top&&window.top.app&&window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.removeStateQueue();var a=window.top.app&&window.top.app.nativeUtils&&window.top.app.nativeUtils.getNativeVersion();a&&a.then(function(a){a&&a.hasOwnProperty("versionNumber")&&m.campaignBlockSelected()})},_toggleDomElementsOnFocus:function(c){var b=this;this.togglerElements.forEach(k.hitch(this,function(e){c?(this.domElementHiddenOnFocus.forEach(function(c){a.set(b[c],"display","block")}),e.show()):(e.hide(),
this.domElementHiddenOnFocus.forEach(function(c){a.set(b[c],"display","none")}))}))},_toggleCKEditMode:function(a){this.ckeditorContainer&&(a.isEditMode?this._toggleDomElementsOnFocus(!1):this._toggleDomElementsOnFocus(!0))}})})},"mojo/neapolitan/widgets/EditorContainerMobile":function(){define("dojo/_base/declare dojo/_base/lang dojo/debounce dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/on dojo/query dojo/topic dojo/touch dojo/fx/Toggler dijit/form/Select mojo/neapolitan/widgets/EditorContainer mojo/utils mojo/widgets/ActionButtonPane dojo/text!./templates/editorContainerMobile.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){return l("mojo.neapolitan.widgets.EditorContainerMobile",[t],{templateString:v,activeSection:null,togglerActionPane:null,touchPressEvent:null,touchReleaseEvent:null,ckeTopToggler:null,ckeTopEl:null,scrollCkeEvt:null,touchScrollingTimeout:null,ckEditor:null,keyboardHeight:0,saveAndHide:function(){u.globalPublish("current/block/editor/save/for/mobile")},postCreate:function(){this.inherited(arguments);this._setupCKEvents();this.togglerActionPaneHandler=n.subscribe("current/block/editor/toggle/ckeditor/mode",
k.hitch(this,this._toggleCKEditMode))},destroy:function(){this.togglerActionPaneHandler&&this.togglerActionPaneHandler.remove();this.ckResizeHandler&&this.ckResizeHandler.remove();this.nativeKeyboardUpHandler&&this.nativeKeyboardUpHandler.remove();this.ckBlurBackBtnHandler&&this.ckBlurBackBtnHandler.remove();this.ckFocusBackBtnHandler&&this.ckFocusBackBtnHandler.remove()},_buildSectionNav:function(){var b=this,d=[],e={button:{action:this.saveAndHide,buttonText:"Save \x26 Close",align:"right",colorStyles:"p1"}};
this.sections&&1<this.sections.length&&(c.destroy(this.sectionList),this.sections.forEach(function(b){var c=f.get(b,"data-mojo-section"),e=u.capitalize(c);this.defaultSection===c||f.get(b,"data-mojo-selected");a.add(b,c+"EditorSection");d.push({label:e,value:c})}.bind(this)),e.select={options:d,align:"left",order:"first",classNames:"!margin--lv0 select-small valign-middle",onChange:function(a){b.toggleSection(a)}});(new w(e)).placeAt(this.actionPane)},_handleCKToolbarScroll:function(a){this.scrollAbleNode=
a;d(window,"scroll",k.hitch(this,h(this._updateToolBarPos,100)));d(window,"scroll",k.hitch(this,this._triggerScrollStart))},_updateToolBarPos:function(){if(this.ckeTopEl)if(this.isEditingText){var a=0;0<window.pageYOffset&&(a=window.pageYOffset-1);this.ckeTopEl.style.transform="translateY("+a+"px)"}else this.ckeTopEl.style.transform="translateY(0)"},_resetToolBarPos:function(){this.ckeTopEl.style.transform="translateY(0)"},_onCKResize:function(a){var b=a.editor;a=b.container.getElementsByTag("iframe").$[0];
b=parseFloat(b.element.find(".cke_contents").$[0].style.height.replace("px",""),10);u.globalPublish("current/block/editor/ckeditor/resize",{height:b,iframeEl:a})},_processCKResizeHandler:function(a){if(this.isEditingText){var b=a.height+this.keyboardHeight;this.toolcolEl.style.height=b+"px";a.iframeEl.style.height=b+"px"}else this.toolcolEl.style.height="",a.iframeEl.style.height="100%",this.htmlEl.style.height=""},_fireCKSelectionChange:function(a){var b=a.data&&a.data.path&&a.data.path.block&&a.data.path.block.$;
a=a.data&&a.data.path&&a.data.path.lastElement&&a.data.path.lastElement.$;b?document.body.scrollTop=b.offsetTop-75:a&&(document.body.scrollTop=a.offsetTop-75)},_fireCKToggleMode:function(a){var b=a.editor.getCommand("toolbarCollapse");b.editorFocus=!1;a.editor.execCommand("toolbarCollapse");b.editorFocus=!0;var c=a.editor,b=c.container,d=b.getElementsByTag("iframe").$[0];"focus"===a.name&&(b&&b.addClass("cke_expand"),c=parseFloat(c.element.find(".cke_contents").$[0].style.height.replace("px",""),
10),d.style.height=c+"px",u.globalPublish("current/block/editor/toggle/ckeditor/mode",{isEditMode:!0,ckeEl:b}));"blur"===a.name&&(b&&b.removeClass("cke_expand"),d.style.height="100%",u.globalPublish("current/block/editor/toggle/ckeditor/mode",{isEditMode:!1}))},_nativeTriggerCKBlur:function(){this.ckEditor.focusManager.blur(!0)},_nativeTriggerCKFocus:function(){this.ckEditor.focusManager.focus(!0)},_onKeyboardUp:function(a){a&&a.keyboardHeight&&0<a.keyboardHeight&&0===this.keyboardHeight&&(this.keyboardHeight=
a.keyboardHeight,this.ckEditor.fire("resize"))},_toggleCKEditMode:function(b){this.ckeTopEl||(this.ckeTopEl=document.querySelector(".cke_top"),this.ckeTopToggler=new q({node:this.ckeTopEl,showDuration:400}));(this.isEditingText=b.isEditMode)?(a.add(this.containerNode,"mobileContainerColbody--focused"),m.set(this.actionPane,"display","none"),a.add(this.bodyEl,"editor--active"),this.htmlEl.style.height=b.ckeEl.$.scrollHeight+"px",this.scrollCkeEvt=d(b.ckeEl,"scroll",k.hitch(this,this._triggerScrollStart)),
this._updateToolBarPos(),window.scrollTo(0,0),window.top&&window.top.app&&window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.setScreenState({state:"ckEditorFocus",backAction:k.hitch(this,this._nativeTriggerCKBlur)})):(a.remove(this.containerNode,"mobileContainerColbody--focused"),m.set(this.actionPane,"display","block"),a.remove(this.bodyEl,"editor--active"),this.toolcolEl.style.height="auto",this.htmlEl.style.height="",this._removeTouchEvents(),this._resetToolBarPos(),window.top&&
window.top.app&&window.top.app.nativeStateHandler&&window.top.app.nativeStateHandler.removeStateQueue({state:"ckEditorFocus"}))},_removeTouchEvents:function(){this.ckeTopToggler.show();this.touchScrollingTimeout=null;this.scrollCkeEvt&&this.scrollCkeEvt.removeListener()},_triggerScrollStart:function(a){this.ckeTopToggler.node.style.setProperty("display","none");this.ckeTopToggler.node.style.setProperty("opacity","0");this.touchScrollingTimeout&&window.clearTimeout(this.touchScrollingTimeout);this.touchScrollingTimeout=
setTimeout(k.hitch(this,this._touchReleaseHandler),100)},_touchReleaseHandler:function(a){this.ckeTopToggler.node.style.setProperty("display","block");this.ckeTopToggler.show()},_setupCKEvents:function(){var a=this;this.bodyEl=b("body")[0];this.htmlEl=b("html")[0];this.toolcolEl=b("#toolcol")[0];this.ckResizeHandler=n.subscribe("current/block/editor/ckeditor/resize",k.hitch(this,this._processCKResizeHandler));this.nativeKeyboardUpHandler=n.subscribe("native/mobile/keyboard/up",k.hitch(this,this._onKeyboardUp));
this.ckBlurBackBtnHandler=n.subscribe("current/blur/ckEditor/for/mobile",k.hitch(this,this._nativeTriggerCKBlur));this.ckFocusBackBtnHandler=n.subscribe("current/focus/ckEditor/for/mobile",k.hitch(this,this._nativeTriggerCKFocus));window.CKEDITOR.on("instanceReady",function(b){b=b.editor;b.hasListeners("focus")&&b.removeListener("focus",a._fireCKToggleMode);b.hasListeners("blur")&&b.removeListener("blur",a._fireCKToggleMode);b.hasListeners("resize")&&b.removeListener("resize",a._onCKResize);b.hasListeners("selectionChange")&&
b.removeListener("selectionChange",a._fireCKSelectionChange);b.on("focus",a._fireCKToggleMode);b.on("blur",a._fireCKToggleMode);b.on("resize",a._onCKResize);b.on("selectionChange",a._fireCKSelectionChange);a.ckEditor=b})}})})},"mojo/neapolitan/editors/blocks/BoxedTextEditor":function(){define(["dojo/_base/declare","./TextEditor"],function(l,k){return l([k],{type:"boxedText"})})},"mojo/neapolitan/editors/blocks/BoxedTextEditorMobile":function(){define(["dojo/_base/declare","./TextEditorMobile"],function(l,
k){return l([k],{type:"boxedText-mobile"})})},"mojo/neapolitan/editors/blocks/DividerEditor":function(){define(["dojo/_base/declare","./_Base","dojo/text!./templates/DividerEditor/editor.html","mojo/neapolitan/widgets/EditorContainer"],function(l,k,h){return l([k],{type:"divider",templateString:h})})},"mojo/neapolitan/editors/blocks/DividerEditorMobile":function(){define(["dojo/_base/declare","./DividerEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/DividerEditor/editorMobile.html"],
function(l,k,h,f){return l([k,h],{type:"divider-mobile",templateString:f,destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/ImageEditor":function(){define(["dojo/_base/declare","./_Base","dojo/text!./templates/ImageEditor/editor.html","dojo/_base/lang"],function(l,k,h,f){return l([k],{type:"image",retina:!1,templateString:h,postCreate:function(){this.inherited(arguments);
this.sync("edgeToEdge",this.edgeToEdgeToggle,"checked");this.sync("retina",this.retinaToggle,"checked");this.sync("align",this.alignInput,"value");this.sync("image",this.imageRow,"image");this.watch("_uploading",f.hitch(this,function(){this.imageRow.toggleUploadMessage(this.block._uploading)}));this.connect(this.imageRow,"onChange","updateImage");this.imageRow.addMaxWidthRestriction(1200,"This image is so big it may obliterate inboxes. Images should be around 600px to 800px wide.","resize")},onUploading:function(a){this.imageRow.toggleUploadMessage(a)},
updateImage:function(){this.block.set("image",this.imageRow.image);this.save()}})})},"mojo/neapolitan/editors/blocks/ImageEditorMobile":function(){define(["dojo/_base/declare","./ImageEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/ImageEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"image-mobile",templateString:f,destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},
"mojo/neapolitan/editors/blocks/ImageCardEditor":function(){define("dojo/_base/declare ./_Base mojo/neapolitan/editors/_CKMixin dojo/text!./templates/ImageCardEditor/editor.html dojo/_base/lang dojo/query dojo/html".split(" "),function(l,k,h,f,a,c,e){return l([k,h],{type:"imageCard",templateString:f,postCreate:function(){this.inherited(arguments);this._eventAndSyncSetup();this._toggleOptions();this._setupPreservedContent()},_eventAndSyncSetup:function(){this._setImagePadding();this.sync("captionPosition",
this.captionPositionInput,"value");this.watch("captionPosition",a.hitch(this,"_toggleOptions"));this.sync("captionWidth",this.captionWidthInput,"value");this.sync("align",this.alignInput,"value");this.sync("edgeToEdge",this.edgeToEdgeToggle,"checked");this.watch("edgeToEdge",a.hitch(this,"_setImagePadding"));this.connect(this.imageRow,"onChange","onImageListChange");this.imageRow.addMaxWidthRestriction(1200,"This image is so big it may obliterate inboxes. Images should be around 600px to 800px wide.",
"resize");this._updateImage();this.watch("caption",a.hitch(this,"_updateImage"))},_updateImage:function(){this.imageRow.set("image",this.block.caption.image);this.imageRow.render()},_setImagePadding:function(){this.block.edgeToEdge?(this.originalImagePadding=this.outerPadding,this.imagePadding=0):this.originalImagePadding&&(this.imagePadding=this.originalImagePadding)},startup:function(){this.showCKEditor(this.ckeditorContainer,this.timestampContainer,this.block.caption.text,a.hitch(this,"publishReady"))},
show:function(){this.publishSetup()},onCKChange:function(){var a=this.block.caption;a.text=this.editor.getData();this.block.set("caption",a)},_reloadEditor:function(){this.showCKEditor(this.ckeditorContainer,this.timeStampContainer,this.block.caption.text)},_toggleOptions:function(){switch(this.block.captionPosition){case "left":case "right":c(this.captionWidthInputContainer).style("display","block");var a=this.block.captionPosition.charAt(0).toUpperCase()+this.block.captionPosition.slice(1)+" ";
e.set(this.captionSide,a);break;case "top":case "bottom":c(this.captionWidthInputContainer).style("display","none"),c(this.alignInputContainer).style("display","block")}},onUploading:function(a){this.imageRow.toggleUploadMessage(a)},onImageListChange:function(){var a=this.block.caption;a.image=this.imageRow.image;this.block.set("caption",a);this.save()}})})},"mojo/neapolitan/editors/blocks/ImageCardEditorMobile":function(){define(["dojo/_base/declare","./ImageCardEditor","mojo/neapolitan/editors/_MobileBlockMixin",
"dojo/text!./templates/ImageCardEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"imageCard-mobile",templateString:f,domElementHiddenOnFocus:["sectionHeader","switchContentBtn","imageSet","recoverContentWarning"],destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/ImageGroupEditor":function(){define("dojo/_base/declare ./_Base dojo/text!./templates/ImageGroupEditor/editor.html dojo/text!./templates/ImageGroupEditor/groupIcons.html dojo/_base/lang dojox/dtl dojox/dtl/Context dojo/query dojo/on dojo/_base/array dojo/dom-class dojo/dom-attr dojo/dom-construct dijit/form/Select mojo/neapolitan/widgets/EditorContainer mojo/neapolitan/widgets/ImageList".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([k],{type:"imageGroup",templateString:h,outerPadding:9,groupLayouts:[[[1]],[[2],[1,1]],[[1,2],[2,1],[1,1,1]],[[2,2],[1,2,1]],[[1,2,2],[2,1,2],[2,2,1]]],postCreate:function(){this.inherited(arguments);var b=this;this._imagesTotal=this.block.images.length;this.sync("images",this.imageList,"images");this.own(d(this.layoutSelector,".mojoImageGroupLayout:click",function(){b._selectLayout(this)}));this.connect(this.imageList,"onChange","updateImages");this.watch("images",
a.hitch(this,function(){this._imagesTotal!=this.block.images.length&&(this.block.set("selectedLayout",this.groupLayouts[this.block.images.length-1][0]),this._renderLayoutIcons(),this._imagesTotal=this.block.images.length)}));this.watch("selectedLayout",a.hitch(this,function(){this._renderLayoutIcons()}));this.watch("_uploading",a.hitch(this,function(){this.imageList.toggleUploadMessage(this.block._uploading)}));this._renderLayoutIcons();this._addWidthChecks();this._addAspectRatioChecks()},_renderLayoutIcons:function(){var c=
[];b.forEach(this.getLayoutGroup(),a.hitch(this,function(d){var e=[],f=this.block.selectedLayout.length==d.length;b.forEach(d,a.hitch(this,function(a,b){f&&this.block.selectedLayout[b]!=a&&(f=!1);for(var c=[],d=0;d<a;d++)c.push("");e.push(c)}));c.push({layout:e,selected:f})}));var d=this.getIconTemplate().render(new e({layouts:c}));q.place(d,this.layoutSelector,"only")},getLayoutGroup:function(){return 1<this.block.images.length?this.groupLayouts[this.block.images.length-1]:this.groupLayouts[0]},
_selectLayout:function(a){a=p.get(a,"data-layout");this.block.set("selectedLayout",this.groupLayouts[this.block.images.length-1][a]);this._addAspectRatioChecks();this._addWidthChecks();this.block.save()},_getCalculatedContainerWidth:function(a){return 2==a?Math.floor(this.block.getContainerWidth()/2-4*this.outerPadding):Math.floor(this.block.getContainerWidth()-4*this.outerPadding)},_addWidthChecks:function(){var c=0;b.forEach(this.block.selectedLayout,a.hitch(this,function(a){var d=this._getCalculatedContainerWidth(a),
e=this.imageList.imageRows.slice(c,c+a);b.forEach(e,function(a){a.addMinWidthRestriction(d,"Oops, this image is too small for this space. Please upload a larger version that is at least 600px wide.");a.addMaxWidthRestriction(1200,"This image is so big it may obliterate inboxes. Images should be around 600px to 800px wide.","resize")});c+=a}))},_addAspectRatioChecks:function(){var c=0;b.forEach(this.block.selectedLayout,a.hitch(this,function(a){var d=this._getCalculatedContainerWidth(a),e=this.block.images.slice(c,
c+a),f=this._getShortestHeight(d,e),e=this.imageList.imageRows.slice(c,c+a);b.forEach(e,function(a){a.restrictAspectRatio(d,f)});c+=a}))},_getShortestHeight:function(a,c){var d=null;b.forEach(c,function(b){b&&b.width>=a&&(b=Math.round(b.height/(b.width/a)),null==d||b<d)&&(d=b)});return d},getIconTemplate:function(){this.iconTemplate||(this.iconTemplate=new dojox.dtl.Template(f));return this.iconTemplate},onUploading:function(a){this.imageList.toggleUploadMessage(a)},updateImages:function(b){var c=
this.block.images.length;this.block.set("images",a.clone(this.imageList.images));c!=this.block.images.length&&(this.block.set("selectedLayout",this.groupLayouts[this.block.images.length-1][0]),this._renderLayoutIcons());switch(b){case "image":this._addWidthChecks();case "reorder":this._addAspectRatioChecks()}this.block.save()}})})},"mojo/neapolitan/widgets/ImageList":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/imageList.html dojo/text!./templates/imageListMobile.html dojo/on dojo/_base/lang dojo/_base/connect dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom-attr dojo/_base/array dojo/query dijit/registry dojo/dnd/Source mojo/neapolitan/widgets/ImageRow".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([k,h],{templateString:f,templateStringMobile:a,baseClass:"mojoImageList",maxImages:null,minImages:1,isMobile:!1,imagesRows:null,postMixInProperties:function(){this.images=this.images?e.clone(this.images):[];this.imageRows=[]},render:function(){var a=this;this.multipleImages=1<this.images.length;q.forEach(this.images,e.hitch(this,function(a,b){this._appendImage(b,a)}));q.forEach(this.imageRows,function(b){b.toggleDragHandle(a.multipleImages);b.setActions(a._getRowActions())})},
toggleUploadMessage:function(a){b.set(this.uploadOverlay,"display",a?"block":"")},constructor:function(a){a.isMobile&&(this.isMobile=a.isMobile,this.templateString=this.templateStringMobile)},postCreate:function(){var a=this;this.watch("images",e.hitch(this,function(){this.render();this._triggerDndSync();this._checkAddButton()}));this.render();this.isMobile||(this.dndSource=new u(this.imageList,{withHandles:!0,singular:!0,accept:"dndImageListItem"}),this.connect(this.dndSource,"onDropInternal",function(){this.imageRows=
[];var b=[];q.forEach(this.dndSource.getAllNodes(),function(c){c=t.byNode(c);a.imageRows.push(c);b.push(c.image)});this.images=b;this.onChange("reorder")}));this.connect(this.addBtn,"click",function(a){a.stopPropagation();a.preventDefault();this.addImage(null)});this._checkAddButton()},addImage:function(a){this._appendImage(this.images.length,a);this.images.push(a);this.images.length>this.minImages&&this.render();this._triggerDndSync();this._checkAddButton();this.onChange("image")},updateImage:function(a,
b){this.images[a]=b;this._appendImage(a,b);this._triggerDndSync()},removeImage:function(a){this.imageRows[a].destroy();this.imageRows.splice(a,1);this.images.splice(a,1);this.images.length===this.minImages&&this.render();this._triggerDndSync();this._checkAddButton();this.onChange("image")},_checkAddButton:function(){this.maxImages&&this.images.length>=this.maxImages?b.set(this.addBtn,"display","none"):b.set(this.addBtn,"display","block")},_appendImage:function(a,b){if(this.imageRows[a])this.imageRows[a].updateImage(b);
else{var c=new w({image:b,actions:this._getRowActions(),isMobile:this.isMobile,renderingType:this.renderingType});c.startup();this.imageRows[a]=c;c.on("change",e.hitch(this,function(a){var b=this.imageRows.indexOf(c);c.image&&this.updateImage(b,c.image);this.onChange(a)}));c.on("remove",e.hitch(this,function(){var a=this.imageRows.indexOf(c);this.removeImage(a)}));d.place(c.domNode,this.imageList)}},_getRowActions:function(){var a=["edit","link","alt"];this.isMobile&&(a=["link","alt"]);this.images.length>
this.minImages&&a.push("remove");return a},_triggerDndSync:function(){this.isMobile||this.dndSource.sync()},onChange:function(a){}})})},"mojo/neapolitan/editors/blocks/ImageGroupEditorMobile":function(){define(["dojo/_base/declare","./ImageGroupEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/ImageGroupEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"imageGroup-mobile",templateString:f,destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},
postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/ImageWithCaptionEditor":function(){define("dojo/_base/declare ./_Base mojo/neapolitan/editors/_CKMixin dojo/text!./templates/ImageWithCaptionEditor/editor.html dojo/_base/lang dojox/dtl dojox/dtl/Context dojo/query dojo/on dojo/dom-class dojo/dom-style dojo/dom-construct dojo/dom-attr dojo/html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([k,h],{type:"imageCaption",
templateString:f,numberOfCaptionsInput:null,postCreate:function(){this.inherited(arguments);"page"!==this.block._campaignRenderingType?(this.numberOfCaptionsInputPages&&this.numberOfCaptionsInputPages.destroy(),this.numberOfCaptionsInput=this.numberOfCaptionsInputEmail):(this.numberOfCaptionsInputEmail.destroy(),this.numberOfCaptionsInput=this.numberOfCaptionsInputPages);this.sync("captionPosition",this.captionPositionInput,"value");this.sync("captionWidth",this.captionWidthInput,"value");this.sync("numberOfCaptions",
this.numberOfCaptionsInput,"value");this.sync("align",this.alignInput,"value");this.watch("captionPosition",a.hitch(this,"_toggleOptions"));this.watch("numberOfCaptions",a.hitch(this,function(a,b,c){this.block._getCaption(c-1);c-1<this.block.selectedCaption&&this.block.set("selectedCaption",c-1);this.block.setUpCaptions();this._reloadEditor();this._renderCaptionSelection()}));this.watch("captions",a.hitch(this,"_updateImage"));this.connect(this.imageRow,"onChange","onImageListChange");this.imageRow.addMaxWidthRestriction(1200,
"This image is so big it may obliterate inboxes. Images should be around 600px to 800px wide.","resize");this._toggleOptions();this._renderCaptionSelection();this._updateImage();this._setupPreservedContent()},startup:function(){this.showCKEditor(this.ckeditorContainer,this.timestampContainer,this.block.getSelectedCaption().text,a.hitch(this,"publishReady"))},show:function(){this.publishSetup()},onCKChange:function(){var a=this.block.getSelectedCaption();a.text=this.editor.getData();this.block.setSelectedCaption(a)},
_updateImage:function(){this.imageRow.image!==this.block.getSelectedCaption().image&&(this.imageRow.set("image",this.block.getSelectedCaption().image),this.imageRow.render())},_renderCaptionSelection:function(){p.empty(this.captionSelector);var a=Number(this.block.numberOfCaptions);if(1<a)for(var c=0;c<a;c++){var d=p.create("div",{"class":"inline-block padding-bottom--lv2 padding-right--lv5 font-weight--bold"}),e=p.create("a",{href:"#0","data-value":c,innerHTML:"Caption "+(c+1),"class":"c-editortabs_item inline-block small-meta"});
this.block.selectedCaption===c&&b.add(e,"active");p.place(e,d);p.place(d,this.captionSelector);this.connect(e,"click","_editCaption")}},_editCaption:function(a){m("a",this.captionSelector).removeClass("active");b.add(a.target,"active");a=parseInt(q.get(a.target,"data-value"),10);var c=this.block.getSelectedCaption();c.text=this.editor.getData();this.block.setSelectedCaption(c);this.block.set("selectedCaption",a);this._reloadEditor();this._updateImage()},_reloadEditor:function(){this.showCKEditor(this.ckeditorContainer,
this.timeStampContainer,this.block.getSelectedCaption().text)},_toggleOptions:function(){switch(this.block.captionPosition){case "left":case "right":m(this.captionWidthInputContainer).style("display","block");var a=this.block.captionPosition.charAt(0).toUpperCase()+this.block.captionPosition.slice(1)+" ";r.set(this.captionSide,a);break;case "top":case "bottom":m(this.captionWidthInputContainer).style("display","none"),m(this.alignInputContainer).style("display","block")}},onUploading:function(a){this.imageRow.toggleUploadMessage(a)},
onImageListChange:function(){var a=this.block.getSelectedCaption();a.image=this.imageRow.image;this.block.setSelectedCaption(a);this.save()}})})},"mojo/neapolitan/editors/blocks/ImageWithCaptionEditorMobile":function(){define(["dojo/_base/declare","./ImageWithCaptionEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/ImageWithCaptionEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"imageCaption-mobile",templateString:f,domElementHiddenOnFocus:["sectionHeader",
"captionSelector","switchContentBtn","imageSet","recoverContentWarning"],destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/SocialShareEditor":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated ./_Base dojo/text!./templates/SocialShareEditor/editor.html dojo/_base/lang dojo/query dojo/on dojo/dom-attr dojo/_base/array dojo/_base/connect mojo/neapolitan/widgets/ItemList mojo/url dijit/form/Select dijit/form/TextBox mojo/neapolitan/widgets/EditorContainer dojo/NodeList-dom".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([f],{type:"socialShare",draggableListItem:!0,templateString:a,constructor:function(){this.iconBaseUrl=q.addProxy("http://cdn-images.mailchimp.com/icons/social-block-v2")},postCreate:function(){this.inherited(arguments);this.itemList=this._createItemList().placeAt(this.itemList);this.connect(this.itemList,"onChange","saveItems");this.connect(this.itemList,"onContentChange","updateItems");this.block.set("items",this.itemList.getOutputModel());this._highlightSelectedLayout();
this._highlightSelectedIconStyle();this._toggleCustomUrlInput();var a=this;m(this.layoutSelector,"li:click",function(){a._selectLayout(this)});m(this.iconStyleSelector,".iconStyle:click",function(){a._selectIconStyle(this)});m(this.iconTypeInput,"change",function(){a._selectIconType(this.value);a.block.set("iconType",this.value)});this._selectIconType(this.block.iconType);this.iconTypeInput.set("value",this.block.iconType);this.sync("align",this.alignInput,"value");this.watch("align",function(b,c,
d){e(a.layoutSelector).style("textAlign",d)});this.sync("adjustableWidth",this.adjustableWidthInput,"value");this.sync("shareContentSource",this.shareContentSourceInput,"value");this.watch("shareContentSource",function(){a._toggleCustomUrlInput()});this.sync("customUrl",this.customUrlInput,"value");this.connect(this.customUrlInput,"onKeyUp",function(){this.block.set("customUrl",this.customUrlInput.get("value"))});this.sync("customDescription",this.customDescriptionInput,"value");this.connect(this.customDescriptionInput,
"onKeyUp",function(){this.block.set("customDescription",this.customDescriptionInput.get("value"))})},_createItemList:function(){var a={showAddButton:!0,addButtonText:"Add another service",items:this.block.items,maxItems:6,draggableItems:this.draggableListItem,doFilterAvailableItemTypes:!0,availableItemTypes:[{value:"facebookShare",label:"Facebook"},{value:"twitterShare",label:"Twitter"},{value:"linkedInShare",label:"LinkedIn"},{value:"pinterestShare",label:"Pinterest"},{value:"instapaperShare",label:"Instapaper"},
{value:"googlePlusShare",label:"Google +1"}]};"page"!==this.block._campaignRenderingType&&(a.availableItemTypes.push({value:"forwardToFriend",label:"Forward to Friend"}),a.maxItems=7);return new p(a)},_selectIconType:function(a){e(".iconType",this.domNode).style("display","none");switch(a){case "outline":e(this.outlineTypeContainer).style("display","");break;default:e(this.solidTypeContainer).style("display","")}},_toggleCustomUrlInput:function(){switch(this.block.shareContentSource){case "custom":e(this.customUrlInputContainer).style("display",
"block");break;case "campaign":e(this.customUrlInputContainer).style("display","none")}},_highlightSelectedLayout:function(){e("li:selected",this.layoutSelector).removeClass("selected");var a=this.block.blockLayout,a="."+this.block.itemArrangement+a.charAt(0).toUpperCase()+a.slice(1);e(a,this.layoutSelector).addClass("selected")},_selectLayout:function(a){this.block.set("blockLayout",d.get(a,"data-blockLayout"));this.block.set("itemArrangement",d.get(a,"data-itemArrangement"));this._highlightSelectedLayout();
this.save()},_highlightSelectedIconStyle:function(){e(".iconStyle:selected",this.iconStyleSelector).removeClass("selected");e(".iconStyle."+this.block.iconStyle,this.iconStyleSelector).addClass("selected")},_selectIconStyle:function(a){this.block.set("iconStyle",d.get(a,"data-iconStyle"));this._highlightSelectedIconStyle();this.save()},updateItems:function(){this.block.set("items",this.itemList.getOutputModel())},saveItems:function(){this.updateItems();this.save()},onDataUpdate:function(a){this.itemList.reset(a.items)}})})},
"mojo/neapolitan/widgets/ItemList":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/text!./templates/itemList.html dojo/text!./templates/socialFollow.html dojo/text!./templates/socialShare.html dojo/on dojo/_base/lang dojo/_base/xhr dojo/_base/connect dojo/_base/event dojo/dom-construct dojo/dom dojo/dom-style dojo/dom-class dojo/dom-attr dojo/keys dojo/_base/array dojo/query dojox/dtl dojox/dtl/Context dojo/dnd/Source mojo/widgets/LinkPicker mojo/url dijit/form/Select dojo/html dijit/registry".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G){d=l([k,h],{postMixInProperties:function(){this.data=m.mixin(this.defaultData,this.data)},postCreate:function(){var a=this;e(this.removeLink,"click",function(){a.onItemRemove()});if(this.typeSelectContainer)this.itemTypeSelect=new D({options:this.data.availableItemTypes,value:this.data.type}),this.itemTypeSelect.placeAt(this.typeSelectContainer),this.connect(this.itemTypeSelect,"onChange",function(a){this.data={type:a};this.onItemTypeChange()});
else throw Error("This item type, "+this.data.type+", does not have a typeSelectContainer attach point!");},onItemChange:function(){},onItemRemove:function(){},onItemTypeChange:function(){}});d=l([d],{dragHandleTemplate:'\x3cdiv class\x3d"mojoItemListItemHandle dojoDndHandle padding--lv2 absolute hide-dnd-avatar" title\x3d"Drag to Sort"\x3e\x3cspan class\x3d"freddicon vellip"\x3e\x3c/span\x3e\x3c/div\x3e',constructor:function(){this.baseIconUrl=C.addProxy("http://cdn-images.mailchimp.com/icons/social-block-v2")},
postCreate:function(){this.inherited(arguments);if(this.params.data.isDraggable){var a=p.toDom(this.dragHandleTemplate);p.place(a,this.domNode,"first")}}});a=l([d],{templateString:a,defaultFollowLabel:"Link text",defaultLinkInputType:"url",postCreate:function(){this.inherited(arguments);this._connectTextInput();this._connectLinkInput()},getOutputModel:function(){return{text:u.get(this.textInput,"value"),link:u.get(this.linkInput,"value"),type:this.data.type}},_connectTextInput:function(){this.connect(this.textInput,
"keyup","onItemChange");this.connect(this.textInput,"input","onItemChange")},_connectLinkInput:function(){this.connect(this.textInput,"keyup","onItemChange");this.connect(this.linkInput,"input","onItemChange")}});var I=l([a],{constructor:function(){var a;try{a=window.campaignData.social.fb_profile_url}catch(b){}this.defaultData={link:a?a:"http://www.facebook.com",text:"Facebook",type:"facebookFollow",iconPath:"color-facebook-128.png",followTitle:"Facebook URL",followLabel:this.defaultFollowLabel,
linkInputType:this.defaultLinkInputType}}}),L=l([a],{constructor:function(){this.defaultData={link:"http://www.linkedin.com",text:"LinkedIn",type:"linkedInFollow",iconPath:"color-linkedin-128.png",followTitle:"LinkedIn profile URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),J=l([a],{constructor:function(){this.defaultData={link:"http://www.youtube.com",text:"YouTube",type:"YouTubeFollow",iconPath:"color-youtube-128.png",followTitle:"YouTube channel URL",followLabel:this.defaultFollowLabel,
linkInputType:this.defaultLinkInputType}}}),T=l([a],{constructor:function(){this.defaultData={link:"http://www.tumblr.com",text:"Tumblr",type:"TumblrFollow",iconPath:"color-tumblr-128.png",followTitle:"Tumblr blog URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),V=l([a],{constructor:function(){this.defaultData={link:"http://instagram.com",text:"Instagram",type:"InstagramFollow",iconPath:"color-instagram-128.png",followTitle:"Instagram profile URL",followLabel:this.defaultFollowLabel,
linkInputType:this.defaultLinkInputType}}}),P=l([a],{constructor:function(){this.defaultData={link:"https://www.snapchat.com/add/",text:"Snapchat",type:"SnapchatFollow",iconPath:"color-snapchat-128.png",followTitle:"Snapchat URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),K=l([a],{constructor:function(){this.defaultData={link:"http://www.soundcloud.com",text:"SoundCloud",type:"soundCloudFollow",iconPath:"color-soundcloud-128.png",followTitle:"SoundCloud URL",followLabel:this.defaultFollowLabel,
linkInputType:this.defaultLinkInputType}}}),M=l([a],{constructor:function(){this.defaultData={link:"http://www.pinterest.com",text:"Pinterest",type:"pinterestFollow",iconPath:"color-pinterest-128.png",followTitle:"Pinterest board URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),H=l([a],{constructor:function(){this.defaultData={link:"http://plus.google.com",text:"Google Plus",type:"googlePlusFollow",iconPath:"color-googleplus-128.png",followTitle:"Google Plus profile URL",
followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),X=l([a],{linkPrefix:"http://www.twitter.com/",constructor:function(){var a;try{a=window.campaignData.social.twitter_profile_url}catch(b){}this.defaultData={link:a?a:this.linkPrefix,text:"Twitter",type:"twitterFollow",iconPath:"color-twitter-128.png",followTitle:"Twitter URL or username",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}},getOutputModel:function(){return{text:u.get(this.textInput,
"value"),link:this.data.link,type:this.data.type}},_connectLinkInput:function(){this.connect(this.linkInput,"keyup",this._linkInputHandler);this.connect(this.linkInput,"input",this._linkInputHandler)},_linkInputHandler:function(){var a=this.linkInput.value,a=0===a.indexOf("@")?this.linkPrefix+a.replace("@",""):this._checkProtocol(a)?a:this.linkPrefix+a;0!==a.indexOf("http")&&(a="http://"+a);this.data.link=a;this.onItemChange()},_checkProtocol:function(a){return v.some(["http://","https://","www."],
function(b){var c=a.length>b.length?b.length:a.length;return b.slice(0,c)===a.slice(0,c)})}}),R=l([a],{constructor:function(){this.defaultData={link:"https://github.com",text:"GitHub",type:"githubFollow",iconPath:"color-github-128.png",followTitle:"GitHub URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),N=l([a],{constructor:function(){this.defaultData={link:"https://vimeo.com",text:"Vimeo",type:"vimeoFollow",iconPath:"color-vimeo-128.png",followTitle:"Vimeo URL",
followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),Q=l([a],{constructor:function(){this.defaultData={link:"https://vine.co",text:"Vine",type:"vineFollow",iconPath:"color-vine-128.png",followTitle:"Vine URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),S=l([a],{constructor:function(){this.defaultData={link:"https://medium.com",text:"Medium",type:"mediumFollow",iconPath:"color-medium-128.png",followTitle:"Medium URL",followLabel:this.defaultFollowLabel,
linkInputType:this.defaultLinkInputType}}}),Y=l([a],{constructor:function(){this.defaultData={link:"https://www.reddit.com",text:"Reddit",type:"redditFollow",iconPath:"color-reddit-128.png",followTitle:"Reddit URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),O=l([a],{constructor:function(){this.defaultData={link:"https://www.flickr.com",text:"Flickr",type:"flickrFollow",iconPath:"color-flickr-128.png",followTitle:"Flickr URL",followLabel:this.defaultFollowLabel,
linkInputType:this.defaultLinkInputType}}}),W=l([a],{constructor:function(){this.defaultData={link:"https://dribbble.com",text:"Dribbble",type:"dribbbleFollow",iconPath:"color-dribbble-128.png",followTitle:"Dribbble URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),da=l([a],{constructor:function(){this.defaultData={link:"https://www.spotify.com",text:"Spotify",type:"spotifyFollow",iconPath:"color-spotify-128.png",followTitle:"Spotify URL",followLabel:this.defaultFollowLabel,
linkInputType:this.defaultLinkInputType}}}),ca=l([a],{constructor:function(){this.defaultData={link:"http://www.houzz.com",text:"Houzz",type:"houzzFollow",iconPath:"color-houzz-128.png",followTitle:"Houzz URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),Da=l([a],{constructor:function(){this.defaultData={link:"https://vk.com",text:"VKontakte",type:"vkFollow",iconPath:"color-vk-128.png",followTitle:"VKontakte URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),
ua=l([a],{constructor:function(){this.defaultData={link:"http://www.yourfeedurl.com",text:"RSS",type:"rssFollow",iconPath:"color-rss-128.png",followTitle:"RSS URL",followLabel:this.defaultFollowLabel,linkInputType:this.defaultLinkInputType}}}),eb=l([a],{constructor:function(){var a;try{a=window.campaignData.social.website_url}catch(b){}this.defaultData={link:a?a:"http://www.yourwebsite.com",text:"Website",type:"genericLink",iconPath:"color-link-128.png",followTitle:"Page URL",followLabel:this.defaultFollowLabel,
linkInputType:this.defaultLinkInputType}}}),fb=l([a],{constructor:function(){var a;try{a=this._mailToLink(window.campaignData.social.from_email)}catch(b){a="mailto:your@email.com"}this.defaultData={link:a?a:"",text:"Email",type:"emailLink",iconPath:"color-forwardtofriend-128.png",followTitle:"Email Address",followLabel:this.defaultFollowLabel,linkInputType:"email"}},postCreate:function(){this.inherited(arguments);u.set(this.linkInput,"value",this.data.link.replace("mailto:",""))},getOutputModel:function(){return{text:u.get(this.textInput,
"value"),link:this.data.link,type:this.data.type}},_mailToLink:function(a){return(a.match("mailto:")?"":"mailto:")+a},_connectLinkInput:function(){e(this.linkInput,"keyup, input",m.hitch(this,function(){this.data.link=this._mailToLink(u.get(this.linkInput,"value"));this.onItemChange()}))}});c=l([d],{templateString:c,constructor:function(){this.baseIconUrl=C.addProxy("http://cdn-images.mailchimp.com/icons/social-block-v2")},postCreate:function(){this.inherited(arguments);this.connect(this.textInput,
"keyup","onItemChange");this.connect(this.textInput,"input","onItemChange")},getOutputModel:function(){return{text:u.get(this.textInput,"value"),link:this.data.link,type:this.data.type}}});var La=l([c],{constructor:function(){this.defaultData={link:"",text:"Share",type:"facebookShare",iconPath:"color-facebook-128.png"}}}),ja=l([c],{constructor:function(){this.defaultData={link:"",text:"Tweet",type:"twitterShare",iconPath:"color-twitter-128.png"}}}),ob=l([c],{constructor:function(){this.defaultData=
{link:"",text:"Read Later",type:"instapaperShare",iconPath:"color-instapaper-128.png"}}}),ta=l([c],{constructor:function(){this.defaultData={link:"",text:"+1",type:"googlePlusShare",iconPath:"color-googleplus-128.png"}}}),Aa=l([c],{constructor:function(){this.defaultData={link:"*|FORWARD|*",text:"Forward",type:"forwardToFriend",iconPath:"color-forwardtofriend-128.png"}}}),Ua=l([c],{constructor:function(){this.defaultData={link:"",text:"Share",type:"linkedInShare",iconPath:"color-linkedin-128.png"}}}),
Ca=l([c],{constructor:function(){this.defaultData={link:"",text:"Pin",type:"pinterestShare",iconPath:"color-pinterest-128.png"}}});return l("mojo.neapolitan.widgets.ItemList",[k,h],{templateString:f,baseClass:"mojoItemList",showAddButton:!1,doFilterAvailableItemTypes:!1,maxItems:5,minItems:1,draggableItems:!0,render:function(){var a=this.getOutputModel();p.empty(this.itemList);this.filteredAvailableItemTypes=this.filterAvailableItemTypes(a);v.forEach(a,m.hitch(this,function(a,b){this._appendItem(b,
a)}))},postMixInProperties:function(){this.addButtonText||(this.addButtonText="\x3cspan class\x3d'freddicon add-circle'\x3e\x3cspan\x3e+\x3c/span\x3e\x3c/span\x3e Add another item")},postCreate:function(){this.render();this.dndSource=new z(this.itemList,{withHandles:!0,singular:!0,accept:"dndItemListItem"});this.connect(this.dndSource,"onDropInternal",function(a){this.onChange()});this.showAddButton&&this.connect(this.addBtn,"click",function(a){n.stop(a);var b=0;v.forEach(this.filteredAvailableItemTypes,
function(a,c){a.disabled||(b=c)});this.addItem({type:this.filteredAvailableItemTypes[b].value})});this._checkAddButton()},reset:function(a){this.items=a;p.empty(this.itemList);this.filteredAvailableItemTypes=this.filterAvailableItemTypes(a);v.forEach(a,m.hitch(this,function(a,b){this._appendItem(b,a)}));this.dndSource.sync()},addItem:function(a){this._appendItem(this.getOutputModel().length,a);this.getOutputModel().length>this.minItems&&this.render();this.filteredAvailableItemTypes=this.filterAvailableItemTypes(this.getOutputModel());
this.onChange();this._checkAddButton();this.dndSource.sync()},updateItem:function(a,b){p.place(this._renderItem(a,b),this._getItemDom(a),"replace");this.filteredAvailableItemTypes=this.filterAvailableItemTypes(this.getOutputModel());this.dndSource.sync()},removeItem:function(a){p.destroy(this._getItemDom(a));this.filteredAvailableItemTypes=this.filterAvailableItemTypes(this.getOutputModel());this.render();this._checkAddButton();this.onChange();this.dndSource.sync()},filterAvailableItemTypes:function(a){var b=
v.map(a,function(a){return a.type});a=m.clone(this.availableItemTypes);v.forEach(a,function(a){var c=v.indexOf(b,a.value);a.disabled=-1<c});return a},_checkAddButton:function(){this.getOutputModel().length<=this.minItems?y(".removeLink",this.domNode).style("display","none"):y(".removeLink",this.domNode).style("display","block");!this.showAddButton||this.getOutputModel().length>=this.maxItems?r.set(this.addBtn,"display","none"):r.set(this.addBtn,"display","block")},_appendItem:function(a,b){p.place(this._renderItem(a,
b),this.itemList)},_buildItemFromData:function(a){switch(a.type){case "facebookFollow":return new I({data:a});case "twitterFollow":return new X({data:a});case "genericLink":return new eb({data:a});case "emailLink":return new fb({data:a});case "pinterestFollow":return new M({data:a});case "googlePlusFollow":return new H({data:a});case "linkedInFollow":return new L({data:a});case "youTubeFollow":return new J({data:a});case "tumblrFollow":return new T({data:a});case "instagramFollow":return new V({data:a});
case "snapchatFollow":return new P({data:a});case "soundCloudFollow":return new K({data:a});case "githubFollow":return new R({data:a});case "vimeoFollow":return new N({data:a});case "vineFollow":return new Q({data:a});case "mediumFollow":return new S({data:a});case "redditFollow":return new Y({data:a});case "flickrFollow":return new O({data:a});case "dribbbleFollow":return new W({data:a});case "spotifyFollow":return new da({data:a});case "houzzFollow":return new ca({data:a});case "vkFollow":return new Da({data:a});
case "rssFollow":return new ua({data:a});case "facebookShare":return new La({data:a});case "forwardToFriend":return new Aa({data:a});case "googlePlusShare":return new ta({data:a});case "instapaperShare":return new ob({data:a});case "linkedInShare":return new Ua({data:a});case "pinterestShare":return new Ca({data:a});case "twitterShare":return new ja({data:a});default:throw Error("This ItemListItem type, "+a.type+", has not been implemented.");}},getNodeIndex:function(a){return this.dndSource.getAllNodes().indexOf(a.domNode)},
_renderItem:function(a,b){b.availableItemTypes=!0===this.doFilterAvailableItemTypes?m.clone(this.filteredAvailableItemTypes):m.clone(this.availableItemTypes);b.isDraggable=this.draggableItems;var c=this._buildItemFromData(b);this.connect(c,"onItemChange",function(){this.onContentChange()});this.connect(c,"onItemTypeChange",function(){p.place(this._renderItem(a,c.data),c.domNode,"replace");this.render();this.dndSource.sync();this.onChange()});this.connect(c,"onItemRemove",function(){this.removeItem(this.getNodeIndex(c))});
return c.domNode},getOutputModel:function(){return this.dndSource?v.map(this.dndSource.getAllNodes(),function(a){return dijit.byId(a.id).getOutputModel()}):this.items},_getItemDom:function(a){return y(".mojoItemListItem",this.itemList)[a]},onContentChange:function(){},onChange:function(){}})})},"mojo/neapolitan/editors/blocks/SocialShareEditorMobile":function(){define(["dojo/_base/declare","./SocialShareEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/SocialShareEditor/editorMobile.html"],
function(l,k,h,f){return l([k,h],{draggableListItem:!1,type:"socialShare-mobile",templateString:f,destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/SocialFollowEditor":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated ./_Base dojo/text!./templates/SocialFollowEditor/editor.html dojo/_base/lang dojo/query dojo/on dojo/dom-attr dojo/_base/array dojo/dom-construct mojo/neapolitan/widgets/ItemList mojo/url dijit/form/Select mojo/neapolitan/widgets/EditorContainer dojo/NodeList-dom".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([f],{draggableListItem:!0,type:"socialFollow",templateString:a,constructor:function(){this.iconBaseUrl=q.addProxy("http://cdn-images.mailchimp.com/icons/social-block-v2")},postCreate:function(){this.inherited(arguments);var a=this;this.itemList=(new p({showAddButton:!0,addButtonText:"Add another service",items:this.block.items,maxItems:10,draggableItems:this.draggableListItem,availableItemTypes:[{value:"facebookFollow",label:"Facebook"},{value:"twitterFollow",
label:"Twitter"},{value:"linkedInFollow",label:"LinkedIn"},{value:"youTubeFollow",label:"YouTube"},{value:"pinterestFollow",label:"Pinterest"},{value:"googlePlusFollow",label:"Google Plus"},{value:"tumblrFollow",label:"Tumblr"},{value:"instagramFollow",label:"Instagram"},{value:"snapchatFollow",label:"Snapchat"},{value:"soundCloudFollow",label:"SoundCloud"},{value:"githubFollow",label:"GitHub"},{value:"vimeoFollow",label:"Vimeo"},{value:"vineFollow",label:"Vine"},{value:"mediumFollow",label:"Medium"},
{value:"redditFollow",label:"Reddit"},{value:"flickrFollow",label:"Flickr"},{value:"dribbbleFollow",label:"Dribbble"},{value:"spotifyFollow",label:"Spotify"},{value:"houzzFollow",label:"Houzz"},{value:"vkFollow",label:"VKontakte"},{value:"rssFollow",label:"RSS"},{value:"emailLink",label:"Email"},{value:"genericLink",label:"Website"}]})).placeAt(this.itemList);this.connect(this.itemList,"onChange","saveItems");this.connect(this.itemList,"onContentChange","updateItems");this.updateItems();this.sync("display",
this.displayInput,"value");this.watch("display",c.hitch(this,function(a,b,c){"text"==c&&this.block.set("itemArrangement","inline");this._filterLayoutsDisplay()}));this.connect(this.displayInput,"onChange",function(){this.save()});this._filterLayoutsDisplay();this._highlightSelectedIconStyle();m(this.layoutSelector,"li:click",function(){a._selectLayout(this)});m(this.iconStyleSelector,".iconStyle:click",function(){a._selectIconStyle(this)});m(this.iconTypeInput,"change",function(){a._selectIconType(this.value);
a.block.set("iconType",this.value)});this._selectIconType(this.block.iconType);this.sync("iconType",this.iconTypeInput,"value");this.sync("align",this.alignInput,"value");this.sync("adjustableWidth",this.adjustableWidthInput,"value")},_selectIconType:function(a){e(".iconType",this.domNode).style("display","none");switch(a){case "outline":e(this.outlineTypeContainer).style("display","");break;default:e(this.solidTypeContainer).style("display","")}},_filterLayoutsDisplay:function(){switch(this.block.display){case "text":e(".textOnly",
this.domNode).style("display","block");e(".iconOnly",this.domNode).style("display","none");e(".iconAndText",this.domNode).style("display","none");e(".iconStyleContainer",this.domNode).style("display","none");break;case "icon":e(".textOnly",this.domNode).style("display","none");e(".iconOnly",this.domNode).style("display","block");e(".iconAndText",this.domNode).style("display","none");e(".iconStyleContainer",this.domNode).style("display","block");break;case "both":e(".textOnly",this.domNode).style("display",
"none"),e(".iconOnly",this.domNode).style("display","none"),e(".iconAndText",this.domNode).style("display","block"),e(".iconStyleContainer",this.domNode).style("display","block")}this._highlightSelectedLayout()},_highlightSelectedLayout:function(){e("li:selected",this.layoutSelector).removeClass("selected");var a=this.block.blockLayout,a="."+this.block.itemArrangement+a.charAt(0).toUpperCase()+a.slice(1);e(a,this.layoutSelector).addClass("selected")},_selectLayout:function(a){this.block.set("blockLayout",
d.get(a,"data-blockLayout"));this.block.set("itemArrangement",d.get(a,"data-itemArrangement"));this._highlightSelectedLayout();this.save()},_highlightSelectedIconStyle:function(){e(".iconStyle:selected",this.iconStyleSelector).removeClass("selected");e(".iconStyle."+this.block.iconStyle,this.iconStyleSelector).addClass("selected")},_selectIconStyle:function(a){this.block.set("iconStyle",d.get(a,"data-iconStyle"));this._highlightSelectedIconStyle();this.save()},updateItems:function(){this.block.set("items",
this.itemList.getOutputModel())},saveItems:function(){this.updateItems();this.save()},onDataUpdate:function(a){this.itemList.reset(a.items)}})})},"mojo/neapolitan/editors/blocks/SocialFollowEditorMobile":function(){define(["dojo/_base/declare","./SocialFollowEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/SocialFollowEditor/editorMobile.html","dojo/query"],function(l,k,h,f,a){return l([k,h],{draggableListItem:!1,type:"socialFollow-mobile",templateString:f,destroy:function(){this._teardownNativeMobileHandlers();
this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/ButtonEditor":function(){define("dojo/_base/declare ./_Base dojo/text!./templates/ButtonEditor/editor.html dojo/dom-construct dojo/_base/lang mojo/widgets/LinkPicker mojo/neapolitan/utils mojo/neapolitan/widgets/EditorContainer dijit/form/Select dijit/form/TextBox".split(" "),function(l,k,h,f,a,c,e){return l([k],{type:"button",templateString:h,postCreate:function(){this.inherited(arguments);
var e=this;this.linkPicker=new c(a.mixin({anchors:window.getAllAnchors(),inline:!0,showButtons:!1,showRemoveLink:!1},this.block.link));f.place(this.linkPicker.domNode,this.linkForm);this.sync("align",this.buttonAlignInput,"value");this.sync("buttonWidth",this.buttonWidthInput,"value");this.sync("buttonText",this.buttonTextInput,"value");this.connect(this.buttonTextInput,"onKeyUp",function(){e.block.set("buttonText",e.buttonTextInput.get("value"))})},_save:function(){this.saveAndHide()},save:function(){var a=
this.linkPicker.getLink();a.href=e.encodeSafeUrl(a.href);this.block.set("link",a);return this.inherited(arguments)},onDataUpdate:function(a){this.linkPicker.set(a.link);this.linkPicker.refreshInputs()}})})},"mojo/neapolitan/editors/blocks/ButtonEditorMobile":function(){define(["dojo/_base/declare","mojo/neapolitan/editors/blocks/ButtonEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/ButtonEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"button-mobile",templateString:f,
destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/FooterEditor":function(){define("dojo/_base/declare ./TextEditor mojo/user dojo/dom-style dojo/on dijit/registry dojo/text!./templates/FooterEditor/editor.html".split(" "),function(l,k,h,f,a,c,e){return l([k],{type:"footer",templateString:e,postCreate:function(){this.inherited(arguments);if(h.hasRole("manager")){var e=
c.byId("edit-contactinfo-modal");e&&(f.set(this.editContactInfo,"display",""),a(this.editContactInfo,"click",function(a){a.stopPropagation();a.preventDefault();e.show()}))}}})})},"mojo/neapolitan/editors/blocks/FooterEditorMobile":function(){define(["dojo/_base/declare","./FooterEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/FooterEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"footer-mobile",templateString:f,domElementHiddenOnFocus:["sectionHeader",
"footerContactInfo","columnSelector","recoverContentWarning"],destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/CodeEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct codemirror4/lib/codemirror ./_Base dojo/text!./templates/CodeEditor/editor.html mojo/neapolitan/widgets/EditorContainer codemirror4/mode/htmlmixed/htmlmixed".split(" "),
function(l,k,h,f,a,c,e,m){return l([a],{type:"code",templateString:c,postCreate:function(){this.inherited(arguments);this.isPageTemplate&&this.emailHTMLCodeWarning.remove();this.codeEditor=f(this.editorContainer,{value:this.block.html,mode:"htmlmixed",autofocus:!0,tabMode:"indent",indentUnit:2,smartIndent:!1,autoClearEmptyLines:!0,lineWrapping:!0,lineNumbers:!0});this.codeEditor.on("change",k.hitch(this,function(){this.block.set("html",this.codeEditor.getValue())}))},onShow:function(){this.codeEditor.refresh();
this.codeEditor.focus()}})})},"mojo/neapolitan/editors/blocks/RssHeaderEditor":function(){define("dojo/_base/declare ./RssItemsEditor dojo/_base/lang dojo/text!./templates/RssHeaderEditor/basicContent.html dojo/text!./templates/RssHeaderEditor/intermediateContent.html dojo/text!./templates/RssHeaderEditor/advancedContent.html dojo/html dijit/form/Select mojo/neapolitan/widgets/EditorContainer".split(" "),function(l,k,h,f,a,c){return l([k],{type:"rssHeader",presetsLabel:"RSS Header Style",constructor:function(){this.contentPresets=
{basic:{label:"Basic",content:f},intermediate:{label:"Intermediate",content:a},advanced:{label:"Advanced",content:c},custom:{label:"Custom",content:c}}}})})},"mojo/neapolitan/editors/blocks/RssItemsEditor":function(){define("dojo/_base/declare ./_Base mojo/neapolitan/editors/_CKMixin dojo/_base/lang dojo/text!./templates/RssItemsEditor/editor.html dojo/text!./templates/RssItemsEditor/excerptsContent.html dojo/text!./templates/RssItemsEditor/titlesContent.html dojo/text!./templates/RssItemsEditor/fullContent.html dojo/html dojo/dom-style dijit/form/Select dojox/html/entities mojo/neapolitan/widgets/EditorContainer".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k,h],{type:"rssItems",templateString:a,presetsLabel:"RSS Items Style",constructor:function(){this.contentPresets={excerpts:{label:"Excerpts",content:c},titles:{label:"Titles Only",content:e},full:{label:"Full Content",content:m},custom:{label:"Custom",content:m}}},postCreate:function(){this.inherited(arguments);var a=[],b;for(b in this.contentPresets)a.push({value:b,label:this.contentPresets[b].label});this.RSSItemsStyleInput=new n({options:a});this.RSSItemsStyleInput.placeAt(this.presetContainer);
this.sync("selectedPreset",this.RSSItemsStyleInput,"value");this.watch("selectedPreset",f.hitch(this,function(a,b,c){"custom"!=c||this.block.customContent||(this.block.set("customContent",this.contentPresets.custom.content),this.showCKEditor(this.ckeditorContainer,this.timeStampContainer,this._getCustomContent()));this.updateEditorWithContent(c)}));this.updateEditorWithContent(this.block.selectedPreset)},updateEditorWithContent:function(a){"custom"==a?(b.set(this.ckeditorContainer,"display","block"),
b.set(this.mergeTagPreviewToggle,"display","none")):(a=dojox.html.entities.encode(this.contentPresets[a].content).replace(/\n/g,"\x3cbr /\x3e"),d.set(this.mergeTagPreview,a),b.set(this.ckeditorContainer,"display","none"),b.set(this.mergeTagPreviewToggle,"display","block"))},show:function(){this.publishSetup()},_getContent:function(){return"custom"==this.block.selectedPreset?this.block.customContent:this.contentPresets[this.block.selectedPreset].content},_getCustomContent:function(){return this.block.customContent?
this.block.customContent:""},startup:function(){this.showCKEditor(this.ckeditorContainer,this.timestampContainer,this._getCustomContent(),f.hitch(this,"publishReady"))},onCKChange:function(){this.block.set("customContent",this.editor.getData())}})})},"mojo/neapolitan/editors/blocks/RssHeaderEditorMobile":function(){define("dojo/_base/declare ./RssItemsEditorMobile mojo/neapolitan/editors/_MobileBlockMixin dojo/text!./templates/RssHeaderEditor/basicContent.html dojo/text!./templates/RssHeaderEditor/intermediateContent.html dojo/text!./templates/RssHeaderEditor/advancedContent.html dojo/html dijit/form/Select mojo/neapolitan/widgets/EditorContainer".split(" "),
function(l,k,h,f,a,c){return l([k,h],{type:"rssHeader-mobile",presetsLabel:"RSS Header Style",constructor:function(){this.contentPresets={basic:{label:"Basic",content:f},intermediate:{label:"Intermediate",content:a},advanced:{label:"Advanced",content:c},custom:{label:"Custom",content:c}}},destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/RssItemsEditorMobile":function(){define(["dojo/_base/declare",
"./RssItemsEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/RssItemsEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"rssItems-mobile",templateString:f,destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/VideoEditor":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/on dojo/mouse dojo/request/script dojo/io-query dojo/dom-construct dojo/dom-style dojo/dom-attr dojo/promise/all dojo/Deferred dijit/_FocusMixin ./ImageCardEditor dojo/text!./templates/VideoEditor/editor.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){return l([r],{type:"video",templateString:t,widgetsInTemplate:!0,postCreate:function(){this.inherited(arguments);b.set(this.videoUrlInput,"value",this.block.video.url);this.isUrl(this.videoUrlInput.value)&&d.set(this.imageRowContainer,"display","block");f(this.videoUrlInput,"input",h.hitch(this,function(a){this.isUrl(this.videoUrlInput.value)?(d.set(this.imageRowContainer,"display","block"),this.getVideoData(this.videoUrlInput.value).then(h.hitch(this,function(a){this.updateVideo(a)}))):
(d.set(this.imageRowContainer,"display","none"),d.set(this.thumbnailError,"display","none"),this.block.video.url=null,this.imageRow.removeImage())}))},_updateImage:function(){this.block.video.url&&this.block.caption.image&&(this.block.caption.image.link=this.block.caption.image.link||{},this.block.caption.image.link.href=this.block.video.url);this.inherited(arguments);this.block.video.image=this.block.caption.image},updateVideo:function(a){a.url&&(this.block.video.url=a.url);this.block.video.service=
a.service;a.image&&a.image.src?this.block.createVideoThumbnail(a.image.src).then(h.hitch(this,function(b){this.imageRow._imageSelected(b);h.mixin(this.imageRow.image,a.image)})):this._updateImage()},removeImage:function(){this.imageRow.removeImage()},_getThumbnailEndpoint:function(a,b){switch(a){case "youtube":return"https://www.googleapis.com/youtube/v3/videos?key\x3dAIzaSyDHWeEm7vJ952wojVZbYhY5gg7xH5RW7oU\x26part\x3dsnippet\x26id\x3d"+b;case "vimeo":return"https://vimeo.com/api/v2/video/"+b+".json";
default:throw"Unsupported video service";}},getVideoData:function(a){var b=this,e=new p,f={youtube:/(?:youtube(?:-nocookie)?.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu.be\/)([^"&?/ ]{11})/,vimeo:/^http[s]?:\/\/(?:[w]+.)*vimeo.com(?:[/w]*)?\/([0-9]+)$/},h={link:{href:a,attrs:{target:"_blank"}}},k=Object.keys(f)[Object.keys(f).length-1],l;for(l in f)if(f.hasOwnProperty(l))if(f[l].test(a)){var m=l,n=f[l].exec(a)[1];c.get(this._getThumbnailEndpoint(m,n),{jsonp:"callback",preventCache:!0,timeout:3E3}).then(function(c){if(!c||
c.error||c.hasOwnProperty("items")&&0===c.items.length)d.set(b.thumbnailError,"display","block"),e.resolve({url:a});else{switch(m){case "youtube":h.alt=c.items[0].snippet.title;c.items[0].snippet.thumbnails.hasOwnProperty("maxres")?h.src=c.items[0].snippet.thumbnails.maxres.url:c.items[0].snippet.thumbnails.hasOwnProperty("standard")?h.src=c.items[0].snippet.thumbnails.standard.url:c.items[0].snippet.thumbnails.hasOwnProperty("high")?h.src=c.items[0].snippet.thumbnails.high.url:c.items[0].snippet.thumbnails.hasOwnProperty("medium")?
h.src=c.items[0].snippet.thumbnails.medium.url:h.src=c.items[0].snippet.thumbnails["default"].url;h.link.attrs.title=c.items[0].snippet.title;break;case "vimeo":h.alt=c[0].title;h.src=c[0].thumbnail_large;h.link.attrs.title=c[0].title;break;default:throw h.src=null,"Unknown video service";}d.set(b.thumbnailError,"display","none");e.resolve({url:a,service:m,id:n,image:h})}},function(c){d.set(b.thumbnailError,"display","block");e.resolve({url:a})});break}else k===l&&(d.set(b.thumbnailError,"display",
"block"),e.resolve({url:a}));return e.promise},isUrl:function(a){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)}})})},
"mojo/neapolitan/editors/blocks/VideoEditorMobile":function(){define(["dojo/_base/declare","./VideoEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/VideoEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"video-mobile",templateString:f,domElementHiddenOnFocus:["sectionHeader","videoUrlRow","switchContentBtn","imageRowContainer","recoverContentWarning"],destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);
this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/ApiEditor":function(){define("dojo/_base/declare ./_Base dojo/text!./templates/ApiEditor/editor.html dojo/dom-construct dojo/_base/lang codemirror4/lib/codemirror mojo/neapolitan/widgets/EditorContainer codemirror4/mode/htmlmixed/htmlmixed".split(" "),function(l,k,h,f,a,c){return l([k],{type:"api",templateString:h,postCreate:function(){this.inherited(arguments);this.codeEditor=c(this.editorContainer,{value:this.block.html,mode:"htmlmixed",
autofocus:!0,tabMode:"indent",indentUnit:2,smartIndent:!1,autoClearEmptyLines:!0,lineWrapping:!0,lineNumbers:!0});this.codeEditor.options.readOnly=this.block.editable?!1:"nocursor";this.codeEditor.on("change",a.hitch(this,function(){this.block.set("html",this.codeEditor.getValue())}))},onShow:function(){this.codeEditor.refresh();this.codeEditor.focus()}})})},"mojo/neapolitan/editors/blocks/ProductRecEditor":function(){define("dojo/_base/declare ./_Base ./_EcommBase dojo/query dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/on mojo/lib/flags mojo/user mojo/url mojo/api/campaign dojo/text!./templates/ProductRecEditor/editor.html mojo/neapolitan/widgets/EditorContainer".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){return l([h,k],{type:"productRec",templateString:t,connectAStoreUrl:q.toUrl("/account/connected-sites/wizard"),postMixInProperties:function(){this.inherited(arguments);this.storeMap={}},postCreate:function(){var a=this;this.inherited(arguments);0===window.app.allEcommStores.length?this.setupConnectAStore():(this.sync("numProducts",this.numProductsSelectInput,"value"),this.sync("buttonText",this.buttonTextInput,"value"),this.sync("buttonAlign",this.buttonAlignInput,
"value"),this.sync("buttonWidth",this.buttonWidthInput,"value"),this.sync("titleEnabled",this.titleToggle,"checked"),this.sync("priceEnabled",this.priceToggle,"checked"),this.sync("buttonEnabled",this.buttonToggle,"checked"),this.watch("buttonEnabled",m.hitch(this,"_toggleButtonSettings")),this._toggleButtonSettings(),this.watch("layout",m.hitch(this,"_handleLayoutSelect")),this.watch("numProducts",m.hitch(this,"_updateStartIndexSelect")),this._handleLayoutSelect(),this._updateStartIndexSelect(),
this.setupStoreSection(),this.sync("startIndex",this.startIndexSelectInput,"value"),this.sync("buttonLinkType",this.buttonLinkTypeSelectInput,"value"),this.own(b(this.layoutSelectList,"[data-layout]:click",function(){var b=c.get(this,"data-layout");a.block.set("layout",b)})),this.watch("buttonLinkType",m.hitch(this,"_updateDefaultButtonText")),this.watch("storeId",m.hitch(this,"_updateButtonLinkSelection")))},_updateDefaultButtonText:function(){var a=this.block.buttonText||"",b=this.block.buttonLinkType;
"cart"!=b||a&&"View"!=a.trim()?"product"!=b||a&&"Buy now"!=a.trim()||this.buttonTextInput.set("value","View"):this.buttonTextInput.set("value","Buy now")},_toggleButtonSettings:function(){a.toggle(this.buttonSettingsContainer,"hide",!this.block.buttonEnabled)},updateConfigurationFields:function(){this._updateButtonLinkSelection()},_updateButtonLinkSelection:function(){var b=this.storeMap[this.block.storeId];if(b)switch(b.platform){case "Shopify":a.add(this.noLinkOptionLabel,"hide");a.remove(this.buttonLinkContainer,
"hide");break;default:a.remove(this.noLinkOptionLabel,"hide"),a.add(this.buttonLinkContainer,"hide"),this.block.set("buttonLinkType","product")}},_handleLayoutSelect:function(){f("[data-layout]",this.layoutSelectList).removeClass("selected");f("[data-layout\x3d"+this.block.layout+"]",this.layoutSelectList).addClass("selected")},_updateStartIndexSelect:function(){var a=+this.block.numProducts;this.startIndexSelectInput.removeOption(this.startIndexSelectInput.options);for(var b=a,c=0;10>b;c++){var d=
c+1,b=c+a;this.startIndexSelectInput.addOption({value:c,label:"from "+d+" \x26ndash; "+b})}}})})},"mojo/neapolitan/editors/blocks/_EcommBase":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated dojo/_base/lang dojo/_base/array dojo/on dojo/dom-construct dojo/dom-class dojo/Deferred vendor/lodash-amd/some vendor/lodash-amd/find vendor/lodash-amd/template mojo/api/campaign mojo/api/member-list mojo/lib/logger mojo/widgets/FeedbackBlock ../_EditorMixin dojo/text!./templates/EcommBlock/storeMismatch.html dojo/text!./templates/EcommBlock/storeMismatchTitle.html dojo/text!./templates/EcommBlock/pRexStoreMismatch.html dojo/text!./templates/EcommBlock/pRexStoreMismatchTitle.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){return l([k,h,w],{storeMap:null,storeId:null,storeMismatchTemplate:null,storeMismatchTitleTemplate:null,constructor:function(a){this.storeMismatchTemplate=p(v);this.storeMismatchTitleTemplate=p(y);this.pRexStoreMismatchTemplate=p(x);this.pRexStoreMismatchTitleTemplate=p(A)},setupConnectAStore:function(){m.add(this.EditorContainer.domNode,"hide");this.ActionButtonsPane&&m.add(this.ActionButtonsPane,"hide");this.block.type?this.type=this.block.type:
m.add(this.ConnectAStoreImage,"hide");c(this.connectAStoreButton,"click",function(){t.info("ecomm-blocks","Ecomm Blocks - ConnectAStore Button Clicked",{campaign_id:window.app.campaignId})});c(this.connectAStoreCancelButton,"click",function(){t.info("ecomm-blocks","Ecomm Blocks - ConnectAStore Cancel Button Clicked",{campaign_id:window.app.campaignId})});m.remove(this.ConnectAStore,"hide");this.onShow=function(){this.EditorContainer.destroyRecursive()}},setupStoreSection:function(){var b=window.app.allEcommStores;
a.forEach(b,f.hitch(this,function(a){this.storeMap[a.store_id]=a}));1<b.length?this._setupStoreDropdown(b):this._setupStoreLabel();this.updateConfigurationFields()},updateConfigurationFields:function(){},_setupStoreDropdown:function(b){this.block.storeId||(this.storeSelectDropdown.addOption({value:0,label:"Choose a Store\x26hellip;"}),this.block.set("storeId",0),this._disableSidebar());c(this.storeSelectDropdown,"change",f.hitch(this,function(a){a!==this.storeId&&(a?this._enableSidebar():this._disableSidebar(),
this._updateStoreId(this.storeSelectDropdown.value),this.updateConfigurationFields(),this._updateStoreFlashblock())}));a.forEach(b,f.hitch(this,function(a){!0===a.show_promo_code_block&&this.storeSelectDropdown.addOption({value:a.store_id,label:a.name,url:a.store_url})}));b=window.app.ecommStores;0===this.block.storeId&&1===b.length&&(this.block.set("storeId",b[0].store_id),this._enableSidebar());this._updateStoreId(this.block.storeId);m.remove(this.storeSelectContainer,"hide");this._updateStoreFlashblock()},
_updateStoreId:function(a){this.storeId=a;this.storeSelectDropdown&&this.sync("storeId",this.storeSelectDropdown,"value")},_setupStoreLabel:function(){var a,b=window.app.ecommStores,c=window.app.allEcommStores;1===b.length?a=b[0]:1===c.length&&(a=c[0]);this._updateStoreId(a.store_id);this._updateStoreFlashblock();m.add(this.storeSelectContainer,"hide");this.storeNameLabel.innerHTML=a.name;m.remove(this.oneStoreLabel,"hide")},_updateStoreFlashblock:function(){this.storeId&&this._getAssociatedListByStoreId(this.storeId).then(function(a){var b=
n(window.app.memberLists,{listId:window.app.campaignListId});if(b&&b.listId!==a.listId){var c="productRec"===this.block.type?this.pRexStoreMismatchTemplate:this.storeMismatchTemplate,d=("productRec"===this.block.type?this.pRexStoreMismatchTitleTemplate:this.storeMismatchTitleTemplate)({campaignListName:b.name});a=c({storesListName:a.name,campaignListName:b.name,storeName:this.storeMap[this.storeId].name});d=new u({message:a,title:d,type:"info"});m.remove(this.storeInfo,"hide");e.place(d.domNode,this.storeInfo,
"only")}else m.add(this.storeInfo,"hide")}.bind(this))},_getAssociatedListByStoreId:function(a){a=this._getStoreById(a);var b=null;a&&(b=a.store_list_id);var c=new d;window.app.memberLists?c.resolve(window.app.memberLists):r.list().then(function(a){window.app.memberLists=a;c.resolve(a)});return c.then(function(a){return n(a,{listId:b})})},_getStoreById:function(a){return n(window.app.allEcommStores,{store_id:a})},_disableSidebar:function(){m.add(this.configurationFields,"disabled-container")},_enableSidebar:function(){m.remove(this.configurationFields,
"disabled-container")}})})},"mojo/neapolitan/editors/blocks/ProductRecEditorMobile":function(){define(["dojo/_base/declare","mojo/neapolitan/editors/blocks/ProductRecEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/ProductRecEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"productRec-mobile",templateString:f,storeMap:null,destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},
"mojo/neapolitan/editors/blocks/ProductEditor":function(){define("dojo/_base/declare ./_Base ./_EcommBase mojo/neapolitan/editors/_CKMixin mojo/lib/flags mojo/user mojo/url dojo/query dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/on dojox/html/entities dojo/text!./templates/ProductEditor/editor.html dojo/text!./templates/ProductEditor/_product_thumb.html mojo/neapolitan/widgets/EditorContainer".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([k,
h,f],{type:"product",templateString:u,selectedProductIndex:null,connectAStoreUrl:e.toUrl("/account/connected-sites/wizard"),_silentCKChanges:!1,postMixInProperties:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments);var a=this;0===window.app.allEcommStores.length?this.setupConnectAStore():(this.sync("buttonAlign",this.buttonAlignInput,"value"),this.sync("buttonWidth",this.buttonWidthInput,"value"),this.watch("layout",p.hitch(this,"_handleLayoutSelect")),this._handleLayoutSelect(),
this.own(r(this.layoutSelectList,"[data-layout]:click",function(){var c=b.get(this,"data-layout");a.block.set("layout",c)}),r(this.insertProductBtn,"click",function(){a.block.addProductFromStore(a.storeId)}),r(this.addProductThumbBtn,"click",function(){a.block.addProductFromStore(a.storeId).then(function(){var b=a.block.products.length-1;a._checkProductThumbnail(b);a._setSelectedProduct(b)})}),r(this.bestSellerBtn,"click",function(){a.block.addTopSellersFromStore(a.storeId)}),r(this.thumbnailContainer,
"[data-mc-action\x3ddelete]:click",function(){var c=b.get(this,"data-mc-index");a.block.removeProductByIndex(c)}),r(this.titleInput,"keyup",function(){a._getSelectedProduct().title=t.encode(this.value);a.block.updateProducts()}),r(this.priceInput,"keyup",function(){a._getSelectedProduct().price=this.value;a.block.updateProducts()}),r(this.domNode,"[name\x3dselectedProduct_"+this.id+"]:change",function(){a._setSelectedProduct(this.value)}),r(this.descriptionSwitch,"change",function(){a._getSelectedProduct().descriptionEnabled=
this.checked;a.block.updateProducts();a._toggleDescription()}),r(this.buttonSwitch,"change",function(){a._getSelectedProduct().buttonEnabled=this.checked;a.block.updateProducts();a._toggleButtonOptions()}),r(this.buttonLinkTypeSelectInput,"change",function(){a._getSelectedProduct().buttonLinkType=this.value;a.block.updateProducts();a._updateDefaultButtonText()}),r(this.buttonTextInput,"keyup",function(){a._getSelectedProduct().buttonText=this.value;a.block.updateProducts()}),r(this.changeProductLink,
"click",function(b){b.stopPropagation();b.preventDefault();a.block.replaceProduct(a.selectedProductIndex).then(function(){a._updateProductInputs()})})),this.setupStoreSection(),this.block.products.length&&(this.selectedProductIndex=0),this.watch("products",p.hitch(this,function(){this.block.products.length?(null===this.selectedProductIndex||this.block.products.length-1<=this.selectedProductIndex)&&this._setSelectedProduct(this.block.products.length-1):this._setSelectedProduct(0);this._toggleProductContainers();
this._toggleAddProductBtn();this._renderThumbnails()})),this._toggleProductContainers(),this._toggleAddProductBtn(),this._renderThumbnails(),this._updateProductInputs(),this._toggleDescription(),this._toggleButtonOptions())},startup:function(){var a=this._getSelectedProduct();this.showCKEditor(this.ckeditorContainer,this.timestampContainer,a?a.description:"",p.hitch(this,"publishReady"))},show:function(){0===window.app.allEcommStores.length&&(d.add(this.EditorContainer.domNode,"hide"),d.remove(this.ConnectAStore,
"hide"),this.ActionButtonsPane&&d.add(this.ActionButtonsPane,"hide"));this.publishSetup()},onShow:function(){0===window.app.allEcommStores.length&&this.EditorContainer.destroyRecursive()},onCKChange:function(){if(!this._silentCKChanges){var a=this._getSelectedProduct();a&&(a.description=this.editor.getData(),this.block.updateProducts())}},_updateProductInputs:function(){var a=this._getSelectedProduct();a&&(this.titleInput.value=t.decode(a.title),this.priceInput.value=a.price,this.descriptionSwitch.set("checked",
a.descriptionEnabled),this.buttonSwitch.set("checked",a.buttonEnabled),this.buttonTextInput.value=a.buttonText,a.hasValidCartUrl()?this.buttonLinkTypeSelectInput.getOptions("cart")||this.buttonLinkTypeSelectInput.addOption({value:"cart",label:"Product in cart"}):this.buttonLinkTypeSelectInput.removeOption("cart"),this.buttonLinkTypeSelectInput.set("value",a.buttonLinkType),this.editor&&(this._silentCKChanges=!0,this.editor.setData(a.description,{callback:p.hitch(this,function(){this._silentCKChanges=
!1})})))},_setSelectedProduct:function(a){a=+a;this.selectedProductIndex!==a&&(this.selectedProductIndex=a,this._updateProductInputs())},_getSelectedProduct:function(){return this.block.products.length?this.block.products[this.selectedProductIndex]:null},_renderThumbnails:function(){n.empty(this.thumbnailContainer);var a=this;this.block.products.forEach(function(b,c){n.place(p.replace(w,{id:a.id,index:c,imageUrl:b.imageUrl}),a.thumbnailContainer)});this._checkProductThumbnail(this.selectedProductIndex)},
_checkProductThumbnail:function(a){m("[name\x3dselectedProduct_"+this.id+"][value\x3d"+a+"]",this.domNode).attr("checked",!0)},_toggleProductContainers:function(){var a=0<this.block.products.length;d.toggle(this.noProductContainer,"hide",a);d.toggle(this.productDetailsContainer,"hide",!a)},_toggleAddProductBtn:function(){d.toggle(this.addProductThumbBtn,"hide",this.block.hasMaxProducts())},_toggleDescription:function(){var a=this._getSelectedProduct();a&&d.toggle(this.descriptionEditorContainer,"hide",
!a.descriptionEnabled)},_toggleButtonOptions:function(){var a=this._getSelectedProduct();a&&d.toggle(this.buttonEditorContainer,"hide",!a.buttonEnabled)},_updateDefaultButtonText:function(){var a=this._getSelectedProduct();if(a){var b=a.buttonText||"",c=a.buttonLinkType;"cart"!==c||b&&"View"!==b.trim()?"product"!==c||b&&"Buy now"!==b.trim()||(this.buttonTextInput.value="View",a.buttonText="View",this.block.updateProducts()):(this.buttonTextInput.value="Buy now",a.buttonText="Buy now",this.block.updateProducts())}},
_handleLayoutSelect:function(){m("[data-layout]",this.layoutSelectList).removeClass("selected");m("[data-layout\x3d"+this.block.layout+"]",this.layoutSelectList).addClass("selected")}})})},"mojo/neapolitan/editors/blocks/ProductEditorMobile":function(){define(["dojo/_base/declare","mojo/neapolitan/editors/blocks/ProductEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/ProductEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"product-mobile",templateString:f,
domElementHiddenOnFocus:"sectionHeader productDetailsImagesAndTitle productDetailsTitlePrice productDetailsCustomDescButton productDetailsButtonDetails productDetailsLinkText".split(" "),destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/AbandonedCartEditor":function(){define("dojo/_base/declare ./_Base dojo/query dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/on dojo/text!./templates/AbandonedCartEditor/editor.html mojo/neapolitan/widgets/EditorContainer".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([k],{type:"abandonedCart",templateString:b,postCreate:function(){this.inherited(arguments);this.sync("numProducts",this.numProductsSelectInput,"value");this.sync("priceEnabled",this.priceToggle,"checked")}})})},"mojo/neapolitan/editors/blocks/AbandonedCartEditorMobile":function(){define(["dojo/_base/declare","mojo/neapolitan/editors/blocks/AbandonedCartEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/AbandonedCartEditor/editorMobile.html"],
function(l,k,h,f){return l([k,h],{type:"abandonedCart-mobile",templateString:f,destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/AbandonedBrowseEditor":function(){define("dojo/_base/declare ./_Base dojo/query dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/on dojo/text!./templates/AbandonedBrowseEditor/editor.html mojo/neapolitan/widgets/EditorContainer".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([k],{type:"abandonedBrowse",templateString:b,postCreate:function(){this.inherited(arguments);this.sync("buttonText",this.buttonTextInput,"value");this.sync("buttonAlign",this.buttonAlignInput,"value");this.sync("buttonWidth",this.buttonWidthInput,"value");this.sync("priceEnabled",this.priceToggle,"checked");this.sync("buttonEnabled",this.buttonToggle,"checked");this.watch("buttonEnabled",e.hitch(this,"_toggleButtonSettings"));this._toggleButtonSettings();this.sync("buttonLinkType",
this.buttonLinkTypeSelectInput,"value");this.watch("buttonLinkType",e.hitch(this,"_updateDefaultButtonText"))},_toggleButtonSettings:function(){f.toggle(this.buttonSettingsContainer,"hide",!this.block.buttonEnabled)},_updateDefaultButtonText:function(){var a=this.block.buttonText||"",b=this.block.buttonLinkType;"cart"!==b||a&&"View"!==a.trim()?"product"!==b||a&&"Buy now"!==a.trim()||this.buttonTextInput.set("value","View"):this.buttonTextInput.set("value","Buy now")}})})},"mojo/neapolitan/editors/blocks/PromoCodeEditor":function(){define("dojo/_base/declare ./_Base ./_EcommBase mojo/neapolitan/editors/_CKMixin dojo/query dojo/request/xhr dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/_base/lang dojo/_base/array dojo/html dojo/on dojo/store/Memory dijit/form/FilteringSelect dojo/text!./templates/PromoCodeEditor/editor.html dojo/text!./templates/PromoCodeEditor/_promo-description.html dojox/dtl dojox/dtl/Context dojox/html/entities dojo/request mojo/lib/flags mojo/user mojo/neapolitan/utils mojo/url mojo/Pusher mojo/widgets/FeedbackBlock mojo/neapolitan/widgets/EditorContainer".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G){return l([h,k,f],{type:"promoCode",templateString:u,descriptionTemplate:null,defaultDescription:"Describe your promo code here.",stores:null,storeId:null,storeUrl:null,storeMap:null,_editorOpen:!1,initializedStore:!1,platform:"",promos:null,promoCodeInput:null,_dataStores:null,promoPusherChannel:null,promoPusherEvent:null,connectAStoreUrl:D.toUrl("/account/connected-sites/wizard"),postMixInProperties:function(){this.inherited(arguments);
this.storeMap={};this._dataStores={};this.descriptionTemplate=new window.dojox.dtl.Template(w)},postCreate:function(){this.inherited(arguments);var b=this;this._editorOpen=!0;0===window.app.allEcommStores.length?this.setupConnectAStore():this.setupStoreSection();this.own(q(this.descriptionSwitch,"change",function(){b.block.toggleDescription();b._toggleBlockElement(b.block.descriptionEnabled,b.descriptionEditor);b.editor&&b.editor.setData(b.block.description)}),q(this.expirationSwitch,"change",function(){b.block.toggleExpiration();
b._toggleBlockElement(b.block.expirationEnabled,b.expirationDate)}),q(this.buttonSwitch,"change",function(){b.block.toggleButton();b._toggleBlockElement(b.block.buttonEnabled,b.promoButton)}),q(this.alignInput,"change",function(){b.block.updateAlignment(this.value)}),q(a("a",this.refreshPromoText),"click",function(){"Shopify"===b.platform&&(e.remove(b.syncingPromoText,"hide"),e.add(b.refreshPromoText,"hide"));b.promoCodeInput.set("disabled",!0);b._refreshPromoCodes().then(function(a){a.pusher_channel&&
a.pusher_status_event&&(b.promoPusherChannel=a.pusher_channel,b.promoPusherEvent=a.pusher_status_event,b._initializePusher())})}))},show:function(){0===window.app.allEcommStores.length&&(e.add(this.EditorContainer.domNode,"hide"),e.remove(this.ConnectAStore,"hide"),this.ActionButtonsPane&&e.add(this.ActionButtonsPane,"hide"));this.publishReady()},onShow:function(){0===window.app.allEcommStores.length&&this.EditorContainer.destroyRecursive()},onClose:function(){this._editorOpen=!1;return this.inherited(arguments)},
save:function(){var a=m.get(this.buttonUrl,"value"),a=C.encodeSafeUrl(a);this.block.set("link",a);return this.inherited(arguments)},startup:function(){0<window.app.ecommStores.length&&(this.block.description||this._updateDescription(this.defaultDescription));this.showCKEditor(this.ckeditorContainer,this.timestampContainer,this.block.description,b.hitch(this,"publishReady"))},onCKChange:function(){this._editorOpen&&(this.block.description=this.editor.getData(),this.block.refreshPromos())},updateConfigurationFields:function(){this.storeId&&
(this.sync("align",this.alignInput,"value"),this.sync("buttonWidth",this.buttonWidthInput,"value"),this.sync("buttonText",this.buttonTextInput,"value"),this.connect(this.buttonTextInput,"onKeyUp",function(){this.block.set("buttonText",this.buttonTextInput.get("value"))}),this.platform=this.storeMap[this.storeId]?this.storeMap[this.storeId].platform:"","Shopify"!==this.platform?e.add(this.refreshPromoText,"hide"):e.remove(this.refreshPromoText,"hide"),this._loadPromoCodes().then(b.hitch(this,function(a){this._updatePromos(a);
this._setupPromoCodeInput();this.initializedStore&&(this._insertPromoCode({id:null,promo:null,expiration:null,description:null}),this.promoCodeInput.reset(),this.storeUrl=this.storeMap[this.storeId]?this.storeMap[this.storeId].store_url:"",this.buttonUrl.set("value",this.storeUrl),this.promoCodeInput.store=null,this.promoCodeInput.store=this._getMemoryStore());this.promos.length?this.block.promoId?this.promoCodeInput.set("displayedValue",this.block.promoCode):this._togglePromoCodes(!1):this._togglePromoCodes(!0);
"Shopify"===this.platform&&this._canRetrieveCodes().then(b.hitch(this,function(a){a.can_retrieve_promo_codes||(a="",a=D.toUrl("/ecommerce/reauthorize-shopify-from-wizard",{store_id:this.storeId,campaign_id:window.app.campaignId,reauth_for_promo_codes:"Y"}),this._insertFeedbackBlock("To use a promo code \x3ca href\x3d'"+a+"'\x3eupdate your Shopify permissions\x3c/a\x3e.","warning"),e.add(this.refreshPromoText,"hide"),this.promoCodeInput.set("disabled",!0))}));this.initializedStore=!0})),this.block.descriptionEnabled&&
(this.descriptionSwitch.set("value",!0,!1),e.remove(this.descriptionEditor,"hide")),this.block.expirationEnabled&&(this.block.expirationDate&&p.set(this.expirationDate,this.block.expirationDate),this.expirationSwitch.set("value",!0,!1),e.remove(this.expirationDate,"hide")),this.block.buttonEnabled&&(this.buttonSwitch.set("value",!0,!1),e.remove(this.promoButton,"hide")),this._updateStoreUrl())},_updateStoreUrl:function(){this.storeUrl=""===this.block.link?this.storeMap[this.storeId]?this.storeMap[this.storeId].store_url:
"":this.block.link;this.buttonUrl.set("value",this.storeUrl)},_setupPromoCodeInput:function(){var a=this;this.promoCodeInput=new t({searchAttr:"promo",placeHolder:"Search by code",invalidMessage:"No promo code found.",store:this._getMemoryStore(),required:!1,onChange:function(){a.initializedStore&&this.item&&a._insertPromoCode(this.item)}});this.promoCodeInput.startup();this.promoCodeInput.placeAt(this.promoCodeSelectContainer,"only");e.remove(this.promoCodeSelectContainer,"hide")},_insertFeedbackBlock:function(a,
b){this.feedbackBlock&&this.feedbackBlock.destroy();this.feedbackBlock=new G({message:a,type:b});this.feedbackBlock.placeAt(this.promoFeedbackBlock,"only")},_updateDescription:function(a){this.block.description=b.trim(this.descriptionTemplate.render(new y({description:a})));this.block.refreshPromos();this.editor&&this.editor.setData(this.block.description)},_canRetrieveCodes:function(){return A.get(D.toUrl("/ecommerce/can-retrieve-promo-codes"),{query:{store_id:this.storeId},handleAs:"json"})},_loadPromoCodes:function(){return A.get(D.toUrl("/ecommerce/get-promo-codes"),
{query:{store_id:this.storeId},handleAs:"json"})},_refreshPromoCodes:function(){return A.get(D.toUrl("/ecommerce/refresh-promo-codes"),{query:{store_id:this.storeId},handleAs:"json"})},_insertPromoCode:function(a){this.block.promoId!==a.id&&this._updateDescription(a.description||this.defaultDescription);a.expiration?p.set(this.expirationDate,a.expiration):p.set(this.expirationDate,"No expiration date");this.block.updatePromoCode(a.id,a.promo,a.expiration,"*|PROMO_CODE:["+["$store_id\x3d"+a.store_id,
"$rule_id\x3d"+a.rule_id,"$code_id\x3d"+a.code_id,"$promo_code\x3d"+a.promo].toString()+"]|*")},_updatePromos:function(a){this.promos=n.map(a,function(a){return{store_id:a.store_foreign_id,rule_id:a.promo_rule_id,code_id:a.promo_code_id,id:a.promo_code_id,promo:x.encode(a.code),expiration:a.ends_at,description:a.description}})},_togglePromoCodes:function(a){a?(this._insertFeedbackBlock("Please verify that there are active codes in your store and your e-commerce integration is up to date.","warning"),
this.promoCodeInput.set("disabled",a)):(this.feedbackBlock&&this.feedbackBlock.destroy(),this.promoCodeInput&&!0===m.get(this.promoCodeInput,"disabled")&&this.promoCodeInput.set("disabled",!1))},_getMemoryStore:function(){this._dataStores[this.storeId]||(this._dataStores[this.storeId]=new r({data:this.promos}));return this._dataStores[this.storeId]},_initializePusher:function(){var a=this;if(a.channel)return!1;F.load().then(function(b){a.channel=b.subscribe(a.promoPusherChannel);a.channel.bind(a.promoPusherEvent,
function(b){"success"===b.status?a.storeId&&a._loadPromoCodes().then(function(b){a._updatePromos(b);a._dataStores[a.storeId]=null;a.promoCodeInput.store=a._getMemoryStore();a._togglePromoCodes(!1);"Shopify"===a.platform&&(e.add(a.syncingPromoText,"hide"),e.remove(a.refreshPromoText,"hide"))}):(a._insertFeedbackBlock("Uh oh, there was a problem refreshing your promo codes.","error"),a.promoCodeInput.set("disabled",!0),"Shopify"===a.platform&&(e.add(a.syncingPromoText,"hide"),e.remove(a.refreshPromoText,
"hide")))},this)})},_toggleBlockElement:function(a,b){a?e.remove(b,"hide"):e.add(b,"hide")}})})},"mojo/neapolitan/editors/blocks/PromoCodeEditorMobile":function(){define(["dojo/_base/declare","mojo/neapolitan/editors/blocks/PromoCodeEditor","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/PromoCodeEditor/editorMobile.html"],function(l,k,h,f){return l([k,h],{type:"promoCode-mobile",templateString:f,domElementHiddenOnFocus:"promoCodeFeedbackandStore sectionHeader promoCodeDescriptionTitle promoCodeSelectContainer promoCodeExpirationToggle promoCodeButtonInput".split(" "),
destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/editors/blocks/UnsupportedBlockMobile":function(){define("dojo/_base/declare dojo/dom-construct ./_Base mojo/neapolitan/editors/_MobileBlockMixin dojo/text!./templates/UnsupportedBlock/blockMobile.html mojo/utils".split(" "),function(l,k,h,f,a,c){return l([h,f],{type:"unsupported-mobile",templateString:a,constructor:function(a){this.inherited(arguments);
this.unsupportedTypeText=c.capitalize(a.block.type)},destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers();k.place("\x3cspan\x3eThe "+this.unsupportedTypeText+" \x3c/span\x3e",this.unsupportType,"first")}})})},"mojo/neapolitan/editors/blocks/SignUpFormEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on dojo/text!./templates/SignUpFormEditor/editor.html dojox/html/entities mojo/neapolitan/widgets/AvailableFormFieldManager mojo/neapolitan/widgets/EditorContainer mojo/neapolitan/editors/_CKMixin mojo/signup-forms/PagesFormConfig mojo/widgets/input/Measurement mojo/widgets/input/FontStyle mojo/url mojo/utils mojo/user mojo/lib/flags ./_Base".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return l([x,p],{type:"signUpForm",templateString:m,formConfig:null,fieldOptionWidget:null,signupPusherChannel:null,_editorOpen:!1,listSettingsUrl:null,formBuilderUrl:null,constructor:function(){window.app.list.id&&(this.listSettingsUrl=u.toUrl("lists/settings/defaults",{id:window.app.list.id}),this.formBuilderUrl=u.toUrl("lists/designer",{id:window.app.list.id}))},postCreate:function(){var b=arguments;this._editorOpen=!0;this.block._kbLink?(h.set(this.styleKbLink,
"href",this.block._kbLink),this.styleKbLink.innerText="Learn more about using "+this.block._name+" content blocks."):a.destroy(this.styleKbLinkContainer);this._setupFormConfigInputs();this.own(e(this.buttonLabelInput,"change",k.hitch(this,function(a){a=d.encode(a);this.buttonLabelInput.value!==a&&(this.buttonLabelInput.value=a);this.formConfig.set("buttonLabel",a)})),e(this.formLabelFontInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.labels.font=a;this.formConfig.set("styles",
b)})),e(this.formLabelTextColorInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.labels.color=a;this.formConfig.set("styles",b)})),e(this.buttonTextColorInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.button.text_color=a;this.formConfig.set("styles",b)})),e(this.buttonBackgroundColorInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.button.color=a;this.formConfig.set("styles",b)})),e(this.buttonHoverColorInput,
"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.button.hover_color=a;this.formConfig.set("styles",b)})),e(this.buttonAlignInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.button.alignment=a;this.formConfig.set("styles",b)})),e(this.buttonStyleInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.button.style=a?"full":null;this.formConfig.set("styles",b)})),e(this.alertSwitch,"change",k.hitch(this,function(a){k.clone(this.formConfig);
this.formConfig.set("showConfirmation",a)})));this.inherited(b)},onClose:function(){this._editorOpen=!1;return this.inherited(arguments)},startup:function(){this.showCKEditor(this.ckeditorContainer,this.timestampContainer,this.formConfig.successMessage,k.hitch(this,"publishReady"))},onCKChange:function(){var a=this.formConfig.successMessage,a=this.editor.getData();this.formConfig.set("successMessage",a)},save:function(){this.formConfig.set("successMessage",this.formConfig.successMessage);q.save().then(k.hitch(this,
function(a){this._updateFormConfig()}));return this.inherited(arguments)},updateFieldOrder:function(a,b){this.fieldOptionWidget&&this.fieldOptionWidget.updateFieldState(!1,q.updateSortedFields(a,b))},updateRequiredField:function(a,b){q.updateRequiredFields(a,b)},updateFieldSelection:function(a,b){this.fieldOptionWidget&&this.fieldOptionWidget.updateFieldState(!0,q.updateFieldSelection(a,b))},_updateFormConfig:function(){w.globalPublish("neapolitan/preview/pages/form/config/update")},_setupFormConfigInputs:function(){this.formConfig=
q.getStateful();this.formConfig.set("showConfirmation",!1);var a=d.decode(this.formConfig.buttonLabel);this.buttonLabelInput.set("value",a);v.flagIsOn(y.LANDING_PAGES_SIGNUP_STYLES)&&(a=k.clone(this.formConfig.styles.button),"0"===a.padding&&(a.padding="15px"),this.formConfig.styles.button=k.mixin({font:"Arial, 'Helvetica Neue', Helvetica, sans-serif",font_size:"16px",letter_spacing:"normal",font_style:"bold",border:0,border_radius:"3px",padding:"15px"},a));this.buttonLabelInput.set("value",this.formConfig.buttonLabel);
this.formLabelFontInput.set("value",this.formConfig.styles.labels.font);this.formLabelTextColorInput.set("value",this.formConfig.styles.labels.color);this.buttonTextColorInput.set("value",this.formConfig.styles.button.text_color);this.buttonBackgroundColorInput.set("value",this.formConfig.styles.button.color);this.buttonHoverColorInput.set("value",this.formConfig.styles.button.hover_color);this.buttonAlignInput.set("value",this.formConfig.styles.button.alignment);this.buttonStyleInput.set("checked",
"full"===this.formConfig.styles.button.style);v.flagIsOn(y.LANDING_PAGES_SIGNUP_STYLES)?this._setUpNewInputs():(f.add(this.buttonNewFields,"hide"),f.add(this.buttonTextNewFields,"hide"));this.formConfig.watch("buttonLabel",k.hitch(this,this._updateFormConfig));this.formConfig.watch("styles",k.hitch(this,this._updateFormConfig));this.formConfig.watch("successMessage",k.hitch(this,this._updateFormConfig));this.formConfig.watch("showConfirmation",k.hitch(this,this._updateFormConfig));this.formConfig.doubleOptin?
(c.set(this.confirmationMessage,"display","none"),this.formConfig.canEditDoubleOptin?c.set(this.lockedDoubleOptinNotice,"display","none"):c.set(this.canEditDoubleOptinNotice,"display","none")):(c.set(this.canEditDoubleOptinNotice,"display","none"),c.set(this.lockedDoubleOptinNotice,"display","none"));h.set(this.signupFormBuilderLink,"href",u.toUrl("lists/designer/",{id:window.app.list.id}));f.remove(this.signupFormBuilderText,"hide");this.formConfig.watch("fields",k.hitch(this,this._updateFormConfig));
this.fieldsConfig=q.getFieldsConfig();this.emailFieldLabelText=this.fieldsConfig.emailLabel;this.fieldOptionWidget=new b({model:k.clone(this.formConfig.fields),fieldsConfig:this.fieldsConfig,onFieldChange:this.updateFieldSelection.bind(this),onFieldSort:this.updateFieldOrder.bind(this),onFieldRequired:this.updateRequiredField.bind(this)});this.fieldOptionWidget.placeAt(this.selectFormFieldFieldset)},_setUpNewInputs:function(){this.buttonTextFontInput.set("value",this.formConfig.styles.button.font);
this.buttonTextFontSizeInput.set("value",this.formConfig.styles.button.font_size);this.buttonTextLetterSpacingInput.set("value",this.formConfig.styles.button.letter_spacing);this.buttonTextFontStyleInput=new t({label:"Font Style",properties:{"font-weight":this.formConfig.styles.button.font_style},onChange:k.hitch(this,function(a,b){var c=k.clone(this.formConfig.styles);c.button.font_style=b;this.formConfig.set("styles",c)})});a.place(this.buttonTextFontStyleInput.domNode,this.buttonTextFontStyleContainer,
"last");this.buttonBorderInput.set("value",this.formConfig.styles.button.border);var b=this.generateMeasurementStyle(this.formConfig.styles.button.border_radius);this.buttonBorderRadiusInput=new r(b);this.buttonBorderRadiusInput.placeAt(this.borderRadiusContainer);b=this.generateMeasurementStyle(this.formConfig.styles.button.padding);this.buttonPaddingInput=new r(b);this.buttonPaddingInput.placeAt(this.paddingContainer);this.own(e(this.buttonTextFontInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);
b.button.font=a;this.formConfig.set("styles",b)})),e(this.buttonTextFontSizeInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.button.font_size=a;this.formConfig.set("styles",b)})),e(this.buttonTextLetterSpacingInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.button.letter_spacing=a;this.formConfig.set("styles",b)})),e(this.buttonBorderInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.button.border=a;this.formConfig.set("styles",
b)})),e(this.buttonBorderRadiusInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.button.border_radius=a;this.formConfig.set("styles",b)})),e(this.buttonPaddingInput,"change",k.hitch(this,function(a){var b=k.clone(this.formConfig.styles);b.button.padding=a;this.formConfig.set("styles",b)})))},generateMeasurementStyle:function(a){return{value:a,suffix:"px"}}})})},"mojo/neapolitan/widgets/AvailableFormFieldManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dnd/Source dojo/dom dojo/dom-construct dojo/dom-class dojo/query dojo/when mojo/widgets/Renderable mojo/widgets/input/AvailableFieldInput dojo/text!./templates/availableFormFieldManager.html vendor/lodash-amd/differenceBy vendor/lodash-amd/filter vendor/lodash-amd/find vendor/lodash-amd/reject vendor/lodash-amd/forEach vendor/lodash-amd/map".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){return l([b],{templateString:p,fieldsConfig:null,renderedSelectedListFields:null,renderedAvailableListFields:null,renderedSelectedGdprFields:null,renderedAvailableGdprFields:null,constructor:function(a){this.state={hasGdpr:a.fieldsConfig.hasGdpr,emailLabel:a.fieldsConfig.emailLabel,model:{availableListFields:a.fieldsConfig.fieldSets.availableListFields,selectedListFields:a.fieldsConfig.fieldSets.selectedListFields,availableGdprFields:a.fieldsConfig.hasGdpr?
a.fieldsConfig.fieldSets.availableGdprFields:[],selectedGdprFields:a.fieldsConfig.hasGdpr?a.fieldsConfig.fieldSets.selectedGdprFields:[]}}},updateFieldState:function(a,b){this._destroyed||(a?this.setState({model:{availableListFields:b.fieldSets.availableListFields,selectedListFields:b.fieldSets.selectedListFields,availableGdprFields:b.fieldSets.availableGdprFields,selectedGdprFields:b.fieldSets.selectedGdprFields}}):(this.state.model.availableListFields=b.fieldSets.availableListFields,this.state.model.selectedListFields=
b.fieldSets.selectedListFields,this.state.model.availableGdprFields=b.fieldSets.availableGdprFields,this.state.model.selectedGdprFields=b.fieldSets.selectedGdprFields))},render:function(){this.inherited(arguments);this.renderItems()},_getSelectedByAttachPoint:function(a){a=m("[data-mc-field-selector]",a);return v(a,function(a){return a.dataset.fieldKey})},renderItems:function(){this.renderedSelectedListFields=this.get("state").model.selectedListFields.map(function(a){a=new n({onChange:this.onFieldChange,
onRequiredChange:this.onFieldRequired,model:a,isSelected:!0,hasRequiredToggle:!0,isGroup:a.isGroup,fieldType:"list",fieldDndClasses:"dojoDndItem selected"});a.placeAt(this.selectedListContainer);return a},this);this.renderedAvailableListFields=this.get("state").model.availableListFields.map(function(a){a=new n({onChange:this.onFieldChange,model:a,isSelected:!1,fieldDndClasses:"",fieldType:"list",isGroup:a.isGroup});a.placeAt(this.availableListContainer);return a},this);this.dndListSource=new f(this.selectedListContainer,
{withHandles:!0});h.after(this.dndListSource,"onDrop",k.hitch(this,function(){var a=this._getSelectedByAttachPoint(this.selectedListContainer);this.onFieldSort(a,"list")}));if(this.get("state").hasGdpr){var a=this.get("state").model.selectedGdprFields,b=1>=a.length;this.renderedSelectedGdprFields=a.map(function(a){a=new n({onChange:this.onFieldChange,onRequiredChange:this.onFieldRequired,model:a,isSelected:!0,isDisabled:b,hasRequiredToggle:!1,isGroup:a.isGroup,fieldType:"marketing_preference",fieldDndClasses:"dojoDndItem selected"});
a.placeAt(this.selectedGdprContainer);return a},this);this.renderedAvailableGdprFields=this.get("state").model.availableGdprFields.map(function(a){a=new n({onChange:this.onFieldChange,model:a,isSelected:!1,fieldDndClasses:"",fieldType:"marketing_preference",isGroup:a.isGroup});a.placeAt(this.availableGdprContainer);return a},this);this.dndGdprSource=new f(this.selectedGdprContainer,{withHandles:!0});h.after(this.dndGdprSource,"onDrop",k.hitch(this,function(){var a=this._getSelectedByAttachPoint(this.selectedGdprContainer);
this.onFieldSort(a,"marketing_preference")}))}else c.destroy(this.gdprContainer)}})})},"vendor/lodash-amd/differenceBy":function(){define("./_baseDifference ./_baseFlatten ./_baseIteratee ./_baseRest ./isArrayLikeObject ./last".split(" "),function(l,k,h,f,a,c){return f(function(e,f){var d=c(f);a(d)&&(d=void 0);return a(e)?l(e,k(f,1,a,!0),h(d,2)):[]})})},"vendor/lodash-amd/forEach":function(){define(["./_arrayEach","./_baseEach","./_castFunction","./isArray"],function(l,k,h,f){return function(a,c){return(f(a)?
l:k)(a,h(c))}})},"vendor/lodash-amd/map":function(){define(["./_arrayMap","./_baseIteratee","./_baseMap","./isArray"],function(l,k,h,f){return function(a,c){return(f(a)?l:h)(a,k(c,3))}})},"vendor/lodash-amd/_baseMap":function(){define(["./_baseEach","./isArrayLike"],function(l,k){return function(h,f){var a=-1,c=k(h)?Array(h.length):[];l(h,function(e,h,d){c[++a]=f(e,h,d)});return c}})},"mojo/signup-forms/PagesFormConfig":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/request/xhr dojo/Stateful mojo/url mojo/lib/flags mojo/user vendor/lodash-amd/filter vendor/lodash-amd/forEach vendor/lodash-amd/reject vendor/lodash-amd/differenceBy vendor/lodash-amd/find vendor/lodash-amd/map vendor/lodash-amd/sortBy vendor/lodash-amd/pull".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){var w=l([a],{pageId:null,_formConfigEndpoint:"landing-pages/save-signup-form-settings",formConfig:null,fieldsConfig:null,_allFieldTypes:["merge","group","marketing_preference"],gdprEnabled:!1,allKeyedFields:null,listSelectedIds:[],gdprSelectedIds:[],_defaultEmailField:{label:"Email Address",name:"EMAIL",type:"email",required:!0},setupFormConfig:function(b,c,d){this._defaultEmailField.label=b;this.set("formConfig",new a(d));this.setupFields(b,c,this.get("formConfig").get("fields"));
return this.get("formConfig")},updateFormConfig:function(a){b(a,k.hitch(this,function(a,b){this.formConfig.set(b,a)}));return this.get("formConfig")},updateFieldSelection:function(a,b){a._isSelected=b;d(this.allKeyedFields,{isMarketingPreference:!1,_isSelected:!0});d(this.allKeyedFields,{isMarketingPreference:!0,_isSelected:!0});b?this._addIdToSorted(a._postKeyId,a._fieldType):this._removeIdFromSorted(a._postKeyId,a._fieldType);this.updateRenderedFields();return this.fieldsConfig.set("fieldSets",
this._getAvailableFields(this.allKeyedFields))},updateRequiredFields:function(a,b){q(this.allKeyedFields,["_postKeyId",a]).required=b;this.updateRenderedFields()},updateSortedFields:function(a,c){var d;switch(c){case "marketing_preference":d=this.gdprSelectedIds;break;default:d=this.listSelectedIds}b(a,function(a,b){d[b]=a});this.updateRenderedFields();return this.fieldsConfig.set("fieldSets",this._getAvailableFields(this.allKeyedFields))},_addIdToSorted:function(a,b){switch(b){case "marketing_preference":this.gdprSelectedIds.push(a);
break;default:this.listSelectedIds.push(a)}},_removeIdFromSorted:function(a,b){switch(b){case "marketing_preference":this.gdprSelectedIds=u(this.gdprSelectedIds,a);break;default:this.listSelectedIds=u(this.listSelectedIds,a)}},setupFields:function(c,d,e){this.allKeyedFields=r(d,k.hitch(this,function(a,b){a._postKeyId=b;a._isSelected=!1;a.isGroup=!1;a.isMarketingPreference="marketing_preference"===this._getSelectedType(this._allFieldTypes,a);a._fieldType=this._getSelectedType(this._allFieldTypes,a);
return a}));b(e,k.hitch(this,function(a,b){var c=this._getSelectedKey(this._allFieldTypes,a),d=q(this.allKeyedFields,["_postKeyId",c.key]);d&&(d._isSelected=!0,d.required=a.required,"group"===c.type&&(d.isGroup=!0),"marketing_preference"===c.type&&(d.isMarketingPreference=!0),this._addIdToSorted(c.key,c.type))}));this.set("fieldsConfig",new a({hasGdpr:this.get("gdprEnabled"),emailLabel:c,fieldSets:this._getAvailableFields(this.allKeyedFields)}));return this.get("fieldsConfig")},_getAvailableFields:function(a){var b=
{};if(m.flagIsOn(e.GDPR_NATIVE_FORM_FEATURES)&&this.get("gdprEnabled")){b.availableGdprFields=d(a,{isMarketingPreference:!0,_isSelected:!1});var c=d(a,{isMarketingPreference:!0,_isSelected:!0});b.selectedGdprFields=r(this.gdprSelectedIds,function(a){return q(c,["_postKeyId",a])})}b.availableListFields=d(a,{isMarketingPreference:!1,_isSelected:!1});var f=d(a,{isMarketingPreference:!1,_isSelected:!0});b.selectedListFields=r(this.listSelectedIds,function(a){return q(f,["_postKeyId",a])});return b},updateRenderedFields:function(){var a=
[this._defaultEmailField],b=d(this.allKeyedFields,{isMarketingPreference:!1,_isSelected:!0}),c=r(this.listSelectedIds,function(a){return q(b,["_postKeyId",a])}),a=a.concat(c);if(m.flagIsOn(e.GDPR_NATIVE_FORM_FEATURES)&&this.get("gdprEnabled"))var f=d(this.allKeyedFields,{isMarketingPreference:!0,_isSelected:!0}),c=r(this.gdprSelectedIds,function(a){return q(f,["_postKeyId",a])}),a=a.concat(c);this.formConfig.set("fields",a)},_addDefaultEmailField:function(a){return a.unshift(this._defaultEmailField)},
_createPostKey:function(a,c){var d;b(a,function(a){c.hasOwnProperty(a+"_id")&&(d=a+"_"+c[a+"_id"])});return d},_getSelectedKey:function(a,c){var d={};b(a,function(a){c.hasOwnProperty(a+"_id")&&(d.type=a,d.key=a+"_"+c[a+"_id"])});return d},_getSelectedType:function(a,c){var d;b(a,function(a){c._postKeyId.indexOf(a)&&(d=c._postKeyId.substring(0,c._postKeyId.lastIndexOf("_")))});return d},_serializeFields:function(a){return n(a,{name:"EMAIL"}).map(k.hitch(this,function(a){return a.hasOwnProperty("_postKeyId")?
a._postKeyId:this._createPostKey(this._allFieldTypes,a)}))},save:function(){var a={styles:JSON.stringify(this.formConfig.styles),setting:JSON.stringify({success_message:this.formConfig.successMessage,button_label:this.formConfig.buttonLabel})};a.fields=JSON.stringify(this._serializeFields(this.formConfig.get("fields")));var b={};d(this.formConfig.fields,{required:!0}).forEach(k.hitch(this,function(a){"EMAIL"!==a.name&&(a._postKeyId||(a._postKeyId=this._createPostKey(this._allFieldTypes,a)),b[a._postKeyId]=
"on")}));a.required_fields=JSON.stringify(b);return f.post(c.toUrl(this._formConfigEndpoint,{id:this.formConfig.pageId}),{data:a,handleAs:"json"}).then(k.hitch(this,function(a){return this.updateFormConfig(a)}))}}),v=null;return{_getPagesFormConfig:function(){v||(v=new w);return v},setupFormConfig:function(a,b,c,d){var e=this._getPagesFormConfig();e.set("pageId",a);return e.setupFormConfig(b,c,d)},getStateful:function(){return this._getPagesFormConfig().get("formConfig")},getFieldsConfig:function(){return this._getPagesFormConfig().get("fieldsConfig")},
updateFieldSelection:function(a,b){return this._getPagesFormConfig().updateFieldSelection(a,b)},updateRequiredFields:function(a,b){return this._getPagesFormConfig().updateRequiredFields(a,b)},updateSortedFields:function(a,b){return this._getPagesFormConfig().updateSortedFields(a,b)},setGDPREnabled:function(a){this._getPagesFormConfig().set("gdprEnabled",a)},save:function(){return this._getPagesFormConfig().save()}}})},"vendor/lodash-amd/sortBy":function(){define(["./_baseFlatten","./_baseOrderBy",
"./_baseRest","./_isIterateeCall"],function(l,k,h,f){return h(function(a,c){if(null==a)return[];var e=c.length;1<e&&f(a,c[0],c[1])?c=[]:2<e&&f(c[0],c[1],c[2])&&(c=[c[0]]);return k(a,l(c,1),[])})})},"vendor/lodash-amd/_baseOrderBy":function(){define("./_arrayMap ./_baseIteratee ./_baseMap ./_baseSortBy ./_baseUnary ./_compareMultiple ./identity".split(" "),function(l,k,h,f,a,c,e){return function(m,d,b){var n=-1;d=l(d.length?d:[e],a(k));m=h(m,function(a,b,c){return{criteria:l(d,function(b){return b(a)}),
index:++n,value:a}});return f(m,function(a,d){return c(a,d,b)})}})},"vendor/lodash-amd/_baseSortBy":function(){define([],function(){return function(l,k){var h=l.length;for(l.sort(k);h--;)l[h]=l[h].value;return l}})},"vendor/lodash-amd/_compareMultiple":function(){define(["./_compareAscending"],function(l){return function(k,h,f){for(var a=-1,c=k.criteria,e=h.criteria,m=c.length,d=f.length;++a<m;){var b=l(c[a],e[a]);if(b)return a>=d?b:b*("desc"==f[a]?-1:1)}return k.index-h.index}})},"vendor/lodash-amd/_compareAscending":function(){define(["./isSymbol"],
function(l){return function(k,h){if(k!==h){var f=void 0!==k,a=null===k,c=k===k,e=l(k),m=void 0!==h,d=null===h,b=h===h,n=l(h);if(!d&&!n&&!e&&k>h||e&&m&&b&&!d&&!n||a&&m&&b||!f&&b||!c)return 1;if(!a&&!e&&!n&&k<h||n&&f&&c&&!a&&!e||d&&f&&c||!m&&c||!b)return-1}return 0}})},"vendor/lodash-amd/pull":function(){define(["./_baseRest","./pullAll"],function(l,k){return l(k)})},"vendor/lodash-amd/pullAll":function(){define(["./_basePullAll"],function(l){return function(k,h){return k&&k.length&&h&&h.length?l(k,
h):k}})},"vendor/lodash-amd/_basePullAll":function(){define(["./_arrayMap","./_baseIndexOf","./_baseIndexOfWith","./_baseUnary","./_copyArray"],function(l,k,h,f,a){var c=Array.prototype.splice;return function(e,m,d,b){var n=b?h:k,p=-1,q=m.length,r=e;e===m&&(m=a(m));for(d&&(r=l(e,f(d)));++p<q;)for(var t=0,u=m[p],u=d?d(u):u;-1<(t=n(r,u,t,b));)r!==e&&c.call(r,t,1),c.call(e,t,1);return e}})},"vendor/lodash-amd/_baseIndexOfWith":function(){define([],function(){return function(l,k,h,f){--h;for(var a=l.length;++h<
a;)if(f(l[h],k))return h;return-1}})},"mojo/neapolitan/editors/blocks/WebVideoEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/query dojo/mouse dojo/on dojo/promise/all dojo/request/script dijit/_FocusMixin ./ImageCardEditor vendor/lodash-amd/debounce dojo/text!./templates/WebVideoEditor/editor.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){var w={youtube:/(?:youtube(?:-nocookie)?.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu.be\/)([^"&?/ ]{11})/,
vimeo:/^http[s]?:\/\/(?:[w]+.)*vimeo.com(?:[/w]*)?\/([0-9]+)$/};return l([r],{type:"webVideo",templateString:u,widgetsInTemplate:!0,_captionControlElements:[],postCreate:function(){this.inherited(arguments);this._setupCaptionFields()},_eventAndSyncSetup:function(){var a=this;this._setImagePadding();this.sync("captionEnabled",this.captionSwitch,"value");this.sync("captionPosition",this.captionPositionInput,"value");this.watch("captionPosition",k.hitch(this,"_toggleOptions"));this.sync("captionWidth",
this.captionWidthInput,"value");f.set(this.videoUrlInput,"value",this.block.video.url);this.own(b(this.captionSwitch,"change",function(b){a._toggleCaption(b);a.editor&&a.editor.setData(a.block.caption.text)}),b(this.videoUrlInput,"input",t(this._handleUrlInputForVideoLookup,500).bind(this)))},_handleUrlInputForVideoLookup:function(a){a=a.target.value;""===a?(this._toggleBlockElement(!1,this.linkError),this.updateVideo({url:""})):this.isUrl(a)?this.getVideoData(a).then(this.updateVideo.bind(this)):
(this._toggleBlockElement(!0,this.linkError),this.updateVideo({url:a}))},_updateImage:function(){this.block.video.url&&this.block.caption.image&&(this.block.caption.image.link=this.block.caption.image.link||{},this.block.caption.image.link.href=this.block.video.url);this.inherited(arguments);this.block.video.image=this.block.caption.image},updateVideo:function(a){var b=k.clone(this.block.video);a.url?b.url=a.url:""===a.url&&(b.url=null);a.service?(this._toggleBlockElement(!1,this.linkError),b.service=
a.service,b.heightRatio=a.heightRatio,b.mergeString="*|"+this.block.video.mergeTag+":[$service\x3d"+a.service+",$id\x3d"+a.id+",$imgAlt\x3d"+a.image.alt+",$imgProtocol\x3d"+a.image.url.protocol+",$imgPath\x3d"+a.image.url.path+",$imgWidth\x3d"+a.image.width+"]|**|END:"+this.block.video.mergeTag+"|*"):(b.service="",b.mergeString="");this.block.set("video",b)},_checkVideoEndpoint:function(a,b){switch(a){case "youtube":return"https://www.googleapis.com/youtube/v3/videos?key\x3dAIzaSyDHWeEm7vJ952wojVZbYhY5gg7xH5RW7oU\x26part\x3dsnippet\x26id\x3d"+
b;case "vimeo":return"https://vimeo.com/api/v2/video/"+b+".json";default:throw"Unsupported video service";}},_setupCaptionFields:function(){var a=m(".style-background",this.styleEditorContainer)[0],b=m('[data-section-name\x3d"Caption style"]',this.styleEditorContainer)[0];a&&this._captionControlElements.push({el:a,forCaptionActive:!0});b&&this._captionControlElements.push({el:b,forCaptionActive:!0});this._captionControlElements.push({el:this.captionPositionInputContainer,forCaptionActive:!0});this._captionControlElements.push({el:this.captionWidthInputContainer,
forCaptionActive:!0});this._captionControlElements.push({el:this.enableCaptionMessage,forCaptionActive:!1});this._toggleCaptionControls(this.block.captionEnabled)},_toggleCaption:function(a){this.block.toggleCaption(a);this._toggleCaptionControls(this.block.captionEnabled);this._toggleBlockElement(this.block.captionEnabled,this.captionEditorContainer)},_toggleCaptionControls:function(a){this._captionControlElements.forEach(function(b){a?this._toggleBlockElement(b.forCaptionActive,b.el):this._toggleBlockElement(!b.forCaptionActive,
b.el)}.bind(this))},_toggleBlockElement:function(b,c){b?a.contains(c,"hide")&&a.remove(c,"hide"):a.add(c,"hide")},getVideoData:function(a){var b=this,c=new h,d=Object.keys(w)[Object.keys(w).length-1],e,f,k;for(k in w)if(w.hasOwnProperty(k))if(w[k].test(a)){e=k;f=w[k].exec(a)[1];break}else d===k&&(b._toggleBlockElement(!0,b.linkError),c.resolve({url:null}));e&&f?p.get(this._checkVideoEndpoint(e,f),{jsonp:"callback",preventCache:!0,timeout:2E3}).then(function(d){if(!d||d.error||d.hasOwnProperty("items")&&
0===d.items.length)b._toggleBlockElement(!1,b.linkError),c.resolve({url:a});else{var h=this._getHeightRatio(56.25,e,d);d=this._getImageData(e,d);c.resolve({url:a,service:e,id:f,image:d,heightRatio:h})}}.bind(this),function(d){b._toggleBlockElement(!0,b.linkError);c.resolve({url:a})}):c.resolve({url:a});return c.promise},_getImageData:function(a,b){var c={};switch(a){case "youtube":c=this._getYouTubeImageObject(b.items[0].snippet.thumbnails);break;case "vimeo":c.alt=b[0].title,c.url=this._getImageUrl(b[0].thumbnail_large),
c.width=b[0].width}return c},_getHeightRatio:function(a,b,c){switch(b){case "youtube":b=this._getYouTubeDimensionObject(c.items[0].snippet.thumbnails);a=Number(b.vHeight)/Number(b.vWidth)*100;break;case "vimeo":c[0].height&&c[0].width&&(a=Number(c[0].height)/Number(c[0].width)*100)}return a},_getImageUrl:function(a){a=a.split("://");return{protocol:a[0],path:a[1]}},_getYouTubeImageObject:function(a){var b={};a.hasOwnProperty("maxres")?(b.width=a.maxres.width,a=a.maxres.url):a.hasOwnProperty("standard")?
(b.width=a.standard.width,a=a.standard.url):a.hasOwnProperty("high")?(b.width=a.high.width,a=a.high.url):a.hasOwnProperty("medium")?(b.width=a.medium.width,a=a.medium.url):(b.width=a.default.width,a=a["default"].url);b.url=this._getImageUrl(a);return b},_getYouTubeDimensionObject:function(a){var b={};a.hasOwnProperty("maxres")?(b.vHeight=a.maxres.height,b.vWidth=a.maxres.width):a.hasOwnProperty("standard")?(b.vHeight=a.standard.height,b.vWidth=a.standard.width):a.hasOwnProperty("high")?(b.vHeight=
a.high.height,b.vWidth=a.high.width):a.hasOwnProperty("medium")?(b.vHeight=a.medium.height,b.vWidth=a.medium.width):(b.vHeight=a.default.height,b.vWidth=a.default.width);return b},isUrl:function(a){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)}})})},
"vendor/lodash-amd/debounce":function(){define(["./isObject","./now","./toNumber"],function(l,k,h){var f=Math.max,a=Math.min;return function(c,e,m){function d(a){var b=r,d=t;r=t=void 0;x=a;return w=c.apply(d,b)}function b(a){var b=a-y;a-=x;return void 0===y||b>=e||0>b||z&&a>=u}function n(){var c=k();if(b(c))return p(c);var d=setTimeout,f;f=c-x;c=e-(c-y);f=z?a(c,u-f):c;v=d(n,f)}function p(a){v=void 0;if(B&&r)return d(a);r=t=void 0;return w}function q(){var a=k(),c=b(a);r=arguments;t=this;y=a;if(c){if(void 0===
v)return x=a=y,v=setTimeout(n,e),A?d(a):w;if(z)return v=setTimeout(n,e),d(y)}void 0===v&&(v=setTimeout(n,e));return w}var r,t,u,w,v,y,x=0,A=!1,z=!1,B=!0;if("function"!=typeof c)throw new TypeError("Expected a function");e=h(e)||0;l(m)&&(A=!!m.leading,u=(z="maxWait"in m)?f(h(m.maxWait)||0,e):u,B="trailing"in m?!!m.trailing:B);q.cancel=function(){void 0!==v&&clearTimeout(v);x=0;r=y=t=v=void 0};q.flush=function(){return void 0===v?w:p(k())};return q}})},"vendor/lodash-amd/now":function(){define(["./_root"],
function(l){return function(){return l.Date.now()}})},"mojo/neapolitan/Endpoint":function(){define("dojo/_base/xhr dijit/Dialog dijit/form/Button dojo/json dojo/_base/connect dojo/_base/lang dojo/_base/array mojo/utils mojo/Pusher mojo/user mojo/lib/flags mojo/lib/logger".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){var q=[],r=function(a,b){switch(b.xhr.status){case 404:m.globalPublish("show-toast",[{message:"Oops. Looks like the block no longer exist.",type:"error"}]);break;case 403:break;default:m.globalPublish("show-toast",
[{message:"Oops. Looks like something went wrong. Try again.",type:"error"}])}},t=function(a,b){r(a,b);403==b.xhr.status&&q.push(b)};a.subscribe("mojo/reauth/complete",function(a){e.forEach(q,function(b){var c=b.args.content;c.__csrf_token=a;l.post({url:b.url,content:c,sync:!0,handleAs:"json"})});q=[]});var u=function(a){a||refreshCampaign()};return function(a,b,e){var h=function(c,f){f.url=a+c;f.content||(f.content={});f.content&&(f.content.id=b,e&&(f.content.variant=e),f.content.__csrf_token=window.top.__csrf,
f.content.socket_id=d.getSocketId());f.hasOwnProperty("handleAs")||(f.handleAs="json");return f};return{update:function(a,b,d,e){e||(e=!1);a=c.mixin({blockId:b,container:a},d);a.data&&!c.isString(a.data)&&(a.data=f.stringify(a.data));return l.post(h("/update-block",{content:a,sync:e,load:u,error:t}))},updateAll:function(a,b){var d=c.mixin(b,{blocks:f.stringify(a)});return l.post(h("/update-all-blocks",{content:d,load:u,error:t}))},create:function(a,b,c,d,e,k){0<=["product","productRec","promoCode"].indexOf(d)&&
p.info("ecomm-blocks","Ecomm Blocks - Block Added",{block_type:d,campaign_id:window.app.campaignId,campaign_type:window.app.campaignType,connected_stores:window.app.allEcommStores.length});"undefined"===typeof k&&(k=!1);return l.post(h("/new-block",{content:{type:d,container:a,html:b,index:c,data:f.stringify(e),is_default:k},sync:!0,load:u,error:r}))},remove:function(a,b){var c=window.app._byIds[b],c=c?c.type:void 0;0<=["product","productRec","promoCode"].indexOf(c)&&p.info("ecomm-blocks","Ecomm Blocks - Block Removed",
{block_type:c,campaign_id:window.app.campaignId,campaign_type:window.app.campaignType,connected_stores:window.app.allEcommStores.length});return l.post(h("/remove-block",{content:{blockId:b,container:a},sync:!0,load:u,error:r}))},get:function(a){return l.get(h("/get-block",{content:{blockId:a},error:r}))},getByIds:function(a){if(c.isArray(a))return l.get(h("/get-block",{content:{ids:a.join(",")},error:r}));throw Error("getByIds expects an array");},getBlocks:function(){return l.get(h("/get-blocks",
{error:r}))},saveStyles:function(a,b){var c="/save-styles";b&&(c+="?source\x3d"+b);return l.post(h(c,{content:{styles:f.stringify(a)},handleAs:"text"}))},getStyles:function(){return l.get(h("/design-styles",{}))},mcedit:{getText:function(a){return l.get(h("/get-content",{content:{block:a},handleAs:"text"}))},getImage:function(a){return l.get(h("/get-image",{content:{block:a}}))},saveText:function(a,b){return l.post(h("/save-content",{content:{section:a,value:b},handleAs:"text"}))},saveImage:function(a,
b){var c={"image-block":a};if("string"==typeof b)c.text=b;else for(var d in b)if(b.hasOwnProperty(d))switch(d){case "src":c["image-url"]=b[d];break;case "link":b[d]&&(c["image-link"]=b[d].href,b[d].attrs&&"_blank"===b[d].attrs.target&&(c["image-target"]=!0));break;default:c["image-"+d]=b[d]}return l.post(h("/save-image",{content:c,handleAs:"text"}))},removeImage:function(a,b){"undefined"==typeof b&&(b=!1);return l.post(h("/remove-image",{content:{block:a,set_default:b}}))},recoverContent:function(a,
b,c){return l.post(h("/set-content-from-preserved",{content:{section:a,block:b,type:c?c:"html"}}))}},hideable:{toggle:function(a){return l.post(h("/toggle-hideable",{content:{name:a},sync:!0}))}},repeatables:{getContent:function(a,b){return l.get(h("/get-repeatable-content",{content:{name:a,index:b}}))},add:function(a){return l.post(h("/add-repeatable",{content:{name:a},sync:!0}))},remove:function(a,b){return l.post(h("/remove-repeatable",{content:{name:a+":"+b},sync:!0}))},reorder:function(a,b,c){return l.post(h("/reorder-repeatable",
{content:{name:a+":"+b,index:c},sync:!0}))},changeVariant:function(a,b,c){return l.post(h("/change-repeatable-variant",{content:{name:a+":"+b,variant:c}}))}},getPreservedContent:function(a,b){return l.get(h("/preserved-block-preview",{content:{block:a,type:b?b:"html"},handleAs:"text"}))},markLinkAsChecked:function(a){return l.get(h("/mark-link",{content:{link:a}}))},linkScreenshot:function(a){return l.get(h("/link-screenshot",{content:{link:a}}))},makeVideoThumbnail:function(a){return l.get(h("/make-video-thumbnail",
{content:{src:encodeURI(a)}}))}}}})},"mojo/neapolitan/renderers":function(){define("./email-renderers/BoxedTextBlock ./email-renderers/ButtonBlock ./email-renderers/DividerBlock ./email-renderers/ImageCardBlock ./email-renderers/ImageBlock ./email-renderers/ImageGroupBlock ./email-renderers/ImageWithCaptionBlock ./email-renderers/TextBlock ./email-renderers/SocialFollowBlock ./email-renderers/SocialShareBlock ./email-renderers/CodeBlock ./email-renderers/RssItemsBlock ./email-renderers/RssHeaderBlock ./email-renderers/VideoBlock ./email-renderers/ApiBlock ./email-renderers/ProductRecBlock ./email-renderers/ProductBlock ./email-renderers/AbandonedCartBlock ./email-renderers/AbandonedBrowseBlock ./email-renderers/PromoCodeBlock ./web-renderers/SignUpFormBlock ./web-renderers/TextBlock ./web-renderers/BoxedTextBlock ./web-renderers/DividerBlock ./web-renderers/CodeBlock ./web-renderers/ImageBlock ./web-renderers/ImageCardBlock ./web-renderers/ButtonBlock ./web-renderers/ProductBlock ./web-renderers/ImageWithCaptionBlock ./web-renderers/SocialFollowBlock ./web-renderers/ImageGroupBlock ./web-renderers/PromoCodeBlock ./web-renderers/SocialShareBlock ./web-renderers/WebVideoBlock ./block-renderers/email/BoxedTextBlock ./block-renderers/web/BoxedTextBlock ./block-renderers/email/ButtonBlock ./block-renderers/web/ButtonBlock ./block-renderers/email/TextBlock ./block-renderers/web/TextBlock mojo/lib/flags mojo/user".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T,V,P,K,M,H,X,R,N,Q,S,Y,O){var W={boxedText:O.flagIsOn(Y.NEAPOLITAN_RENDER_REFACTOR)?new H:new l,button:O.flagIsOn(Y.NEAPOLITAN_RENDER_REFACTOR)?new R:new k,divider:new h,imageCard:new f,image:new a,imageGroup:new c,imageCaption:new e,socialFollow:new d,socialShare:new b,text:O.flagIsOn(Y.NEAPOLITAN_RENDER_REFACTOR)?new Q:new m,code:new n,rssItems:new p,rssHeader:new q,video:new r,api:new t,productRec:new u,product:new w,abandonedCart:new v,
abandonedBrowse:new y,promoCode:new x},da={text:O.flagIsOn(Y.NEAPOLITAN_RENDER_REFACTOR)?new S:new z,boxedText:O.flagIsOn(Y.NEAPOLITAN_RENDER_REFACTOR)?new X:new B,divider:new C,signUpForm:new A,code:new D,imageCard:new G,button:O.flagIsOn(Y.NEAPOLITAN_RENDER_REFACTOR)?new N:new I,image:new F,imageGroup:new V,imageCaption:new J,socialFollow:new T,product:new L,promoCode:new P,socialShare:new K,webVideo:new M};W.footer=W.text;return{getMarkup:function(a,b,c){var d=W[a];a=da[a];return c&&"page"===c?
O.flagIsOn(Y.NEAPOLITAN_RENDER_REFACTOR)&&a.getRenderedString?a.getRenderedString({model:b,renderingType:c}):a.getMarkup(b,c):O.flagIsOn(Y.NEAPOLITAN_RENDER_REFACTOR)&&d.getRenderedString?d.getRenderedString({model:b,renderingType:c}):d.getMarkup(b,c)},getContent:function(a,b,c){return c&&"page"===c?da[a].getContent(b,c):W[a].getContent(b,c)}}})},"mojo/neapolitan/email-renderers/BoxedTextBlock":function(){define(["dojo/_base/declare","./TextBlock","dojo/text!../editors/blocks/templates/BoxedTextEditor/output.html"],
function(l,k,h){return l("mojo.neapolitan.renderers.BoxedTextBlock",[k],{outputTplStr:h,getOutputModel:function(f){for(var a=[],c=f.containerWidth,e="string"==typeof f.content?[f.content]:f.content,h=0;h<f.numberOfColumns;h++)a.push({content:e[h]?e[h]:"",width:Math.floor(f.splitOption[h]/100*c)});return{columns:a,columnCount:f.numberOfColumns,containerWidth:f.containerWidth}}})})},"mojo/neapolitan/email-renderers/TextBlock":function(){define(["dojo/_base/declare","./_Renderer","dojo/text!../editors/blocks/templates/TextEditor/output.html"],
function(l,k,h){return l("mojo.neapolitan.email-renderers.TextBlock",[k],{outputTplStr:h,getSplitWidth:function(f,a){return Math.floor(a/100*f)},getOutputModel:function(f){for(var a=[],c=f.containerWidth,e="string"==typeof f.content?[f.content]:f.content,h=0;h<f.numberOfColumns;h++)a.push({content:e[h]?e[h]:"",width:this.getSplitWidth(c,f.splitOption[h])});return{columns:a,columnCount:f.numberOfColumns,containerWidth:f.containerWidth}}})})},"mojo/neapolitan/email-renderers/_Renderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/query dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/on mojo/lib/logger mojo/neapolitan/utils dojox/dtl dojox/dtl/Context dojox/dtl/tag/logic dojox/dtl/tag/loop dojox/dtl/filter/lists dojox/dtl/filter/logic dojo/NodeList-dom dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l("mojo.neapolitan.renderers._Renderer",[],{outerPadding:9,innerPadding:9,outputTplStr:"",getMarkup:function(b){var c=this.getContent(b);b=c.outerHTML;var e=a.create("div");a.place(c,e);c=f(e).html();a.destroy();b!==c&&d.info("check-feature-use","Found inconsistency between innerHTML with created parent and outerHTML",{campaign_id:window.app.campaignId});return c},getContent:function(b){this.template||(this.template=new dojox.dtl.Template(this.outputTplStr));
var c=this.getOutputModel(k.clone(b)),c=k.mixin({outerPadding:this.outerPadding,innerPadding:this.innerPadding},c),c=a.toDom(k.trim(this.template.render(new p(c))));return this._inlineStyles(c,b.styles)},getOutputModel:function(a){return a},_inlineStyles:function(a,c){c&&c.forEach(function(c){for(var d in c.props)if(c.props.hasOwnProperty(d)){var e=c.props[d].value;if(e&&""!==e){var h=c.props[d].selector||c.selector;"mcBlockContainer"===h?f(a).style(b.dashToCamel(d),e):f(h,a).style(b.dashToCamel(d),
e)}}});return a}})})},"dojox/dtl/tag/logic":function(){define(["dojo/_base/lang","../_base"],function(l,k){var h=l.getObject("tag.logic",!0,k);h.IfNode=l.extend(function(f,a,c,e){this.bools=f;this.trues=a;this.falses=c;this.type=e},{render:function(f,a){var c,e,h;if("or"==this.type){for(c=0;e=this.bools[c];c++)if(h=e[0],e=e[1],(e=e.resolve(f))&&!h||h&&!e)return this.falses&&(a=this.falses.unrender(f,a)),this.trues?this.trues.render(f,a,this):a;this.trues&&(a=this.trues.unrender(f,a));return this.falses?
this.falses.render(f,a,this):a}for(c=0;e=this.bools[c];c++)if(h=e[0],e=e[1],e=e.resolve(f),e==h)return this.trues&&(a=this.trues.unrender(f,a)),this.falses?this.falses.render(f,a,this):a;this.falses&&(a=this.falses.unrender(f,a));return this.trues?this.trues.render(f,a,this):a},unrender:function(f,a){a=this.trues?this.trues.unrender(f,a):a;return a=this.falses?this.falses.unrender(f,a):a},clone:function(f){var a=this.trues?this.trues.clone(f):null;f=this.falses?this.falses.clone(f):null;return new this.constructor(this.bools,
a,f,this.type)}});h.IfEqualNode=l.extend(function(f,a,c,e,h){this.var1=new k._Filter(f);this.var2=new k._Filter(a);this.trues=c;this.falses=e;this.negate=h},{render:function(f,a){var c=this.var1.resolve(f),e=this.var2.resolve(f),c="undefined"!=typeof c?c:"",e="undefined"!=typeof c?e:"";if(this.negate&&c!=e||!this.negate&&c==e)return this.falses&&(a=this.falses.unrender(f,a,this)),this.trues?this.trues.render(f,a,this):a;this.trues&&(a=this.trues.unrender(f,a,this));return this.falses?this.falses.render(f,
a,this):a},unrender:function(f,a){return h.IfNode.prototype.unrender.call(this,f,a)},clone:function(f){var a=this.trues?this.trues.clone(f):null;f=this.falses?this.falses.clone(f):null;return new this.constructor(this.var1.getExpression(),this.var2.getExpression(),a,f,this.negate)}});h.ForNode=l.extend(function(f,a,c,e){this.assign=f;this.loop=new k._Filter(a);this.reversed=c;this.nodelist=e;this.pool=[]},{render:function(f,a){var c,e,h,d=!1,b=this.assign;for(h=0;h<b.length;h++)if("undefined"!=typeof f[b[h]]){d=
!0;f=f.push();break}!d&&f.forloop&&(d=!0,f=f.push());h=this.loop.resolve(f)||[];var k=[];if(l.isObject(h)&&!l.isArrayLike(h))for(c in h)k.push(h[c]);else k=h;for(c=k.length;c<this.pool.length;c++)this.pool[c].unrender(f,a,this);this.reversed&&(k=k.slice(0).reverse());var p=f.forloop={parentloop:f.get("forloop",{})};for(c=e=0;c<k.length;c++){var q=k[c];p.counter0=e;p.counter=e+1;p.revcounter0=k.length-e-1;p.revcounter=k.length-e;p.first=!e;p.last=e==k.length-1;if(1<b.length&&l.isArrayLike(q)){d||(d=
!0,f=f.push());var r={};for(h=0;h<q.length&&h<b.length;h++)r[b[h]]=q[h];l.mixin(f,r)}else f[b[0]]=q;e+1>this.pool.length&&this.pool.push(this.nodelist.clone(a));a=this.pool[e++].render(f,a,this)}delete f.forloop;if(d)f.pop();else for(h=0;h<b.length;h++)delete f[b[h]];return a},unrender:function(f,a){for(var c=0,e;e=this.pool[c];c++)a=e.unrender(f,a);return a},clone:function(f){return new this.constructor(this.assign,this.loop.getExpression(),this.reversed,this.nodelist.clone(f))}});l.mixin(h,{if_:function(f,
a){var c,e,l,d=[],b=a.contents.split();b.shift();a=b.join(" ");b=a.split(" and ");if(1==b.length)l="or",b=a.split(" or ");else for(l="and",c=0;c<b.length;c++)if(-1!=b[c].indexOf(" or "))throw Error("'if' tags can't mix 'and' and 'or'");for(c=0;e=b[c];c++){var n=!1;0==e.indexOf("not ")&&(e=e.slice(4),n=!0);d.push([n,new k._Filter(e)])}c=f.parse(["else","endif"]);e=!1;a=f.next_token();"else"==a.contents&&(e=f.parse(["endif"]),f.next_token());return new h.IfNode(d,c,e,l)},_ifequal:function(f,a,c){var e=
a.split_contents();if(3!=e.length)throw Error(e[0]+" takes two arguments");var k="end"+e[0],d=f.parse(["else",k]),b=!1;a=f.next_token();"else"==a.contents&&(b=f.parse([k]),f.next_token());return new h.IfEqualNode(e[1],e[2],d,b,c)},ifequal:function(f,a){return h._ifequal(f,a)},ifnotequal:function(f,a){return h._ifequal(f,a,!0)},for_:function(f,a){var c=a.contents.split();if(4>c.length)throw Error("'for' statements should have at least four words: "+a.contents);var e="reversed"==c[c.length-1],k=e?-3:
-2;if("in"!=c[c.length+k])throw Error("'for' tag received an invalid argument: "+a.contents);for(var d=c.slice(1,k).join(" ").split(/ *, */),b=0;b<d.length;b++)if(!d[b]||-1!=d[b].indexOf(" "))throw Error("'for' tag received an invalid argument: "+a.contents);b=f.parse(["endfor"]);f.next_token();return new h.ForNode(d,c[c.length+k+1],e,b)}});return h})},"dojox/dtl/tag/loop":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/json","../_base","dojox/string/tokenize"],function(l,k,h,
f,a){var c=l.getObject("tag.loop",!0,f);c.CycleNode=l.extend(function(a,c,d,b){this.cyclevars=a;this.name=c;this.contents=d;this.shared=b||{counter:-1,map:{}}},{render:function(a,c){a.forloop&&!a.forloop.counter0&&(this.shared.counter=-1);++this.shared.counter;var d=this.cyclevars[this.shared.counter%this.cyclevars.length],b=this.shared.map;b[d]||(b[d]=new f._Filter(d));d=b[d].resolve(a,c);this.name&&(a[this.name]=d);this.contents.set(d);return this.contents.render(a,c)},unrender:function(a,c){return this.contents.unrender(a,
c)},clone:function(a){return new this.constructor(this.cyclevars,this.name,this.contents.clone(a),this.shared)}});c.IfChangedNode=l.extend(function(a,c,d){this.nodes=a;this._vars=c;this.shared=d||{last:null,counter:0};this.vars=k.map(c,function(a){return new dojox.dtl._Filter(a)})},{render:function(a,c){a.forloop&&(a.forloop.counter<=this.shared.counter&&(this.shared.last=null),this.shared.counter=a.forloop.counter);var d;d=this.vars.length?h.toJson(k.map(this.vars,function(b){return b.resolve(a)})):
this.nodes.dummyRender(a,c);if(d!=this.shared.last){var b=null===this.shared.last;this.shared.last=d;a=a.push();a.ifchanged={firstloop:b};c=this.nodes.render(a,c);a=a.pop()}else c=this.nodes.unrender(a,c);return c},unrender:function(a,c){return this.nodes.unrender(a,c)},clone:function(a){return new this.constructor(this.nodes.clone(a),this._vars,this.shared)}});c.RegroupNode=l.extend(function(a,c,d){this._expression=a;this.expression=new f._Filter(a);this.key=c;this.alias=d},{_push:function(a,c,d){d.length&&
a.push({grouper:c,list:d})},render:function(a,c){a[this.alias]=[];var d=this.expression.resolve(a);if(d){for(var b=null,f=[],h=0;h<d.length;h++){var k=d[h][this.key];b!==k?(this._push(a[this.alias],b,f),b=k,f=[d[h]]):f.push(d[h])}this._push(a[this.alias],b,f)}return c},unrender:function(a,c){return c},clone:function(a,c){return this}});l.mixin(c,{cycle:function(a,f){var d=f.split_contents();if(2>d.length)throw Error("'cycle' tag requires at least two arguments");if(-1!=d[1].indexOf(","))for(var b=
d[1].split(","),d=[d[0]],h=0;h<b.length;h++)d.push('"'+b[h]+'"');if(2==d.length){b=d[d.length-1];if(!a._namedCycleNodes)throw Error("No named cycles in template: '"+b+"' is not defined");if(!a._namedCycleNodes[b])throw Error("Named cycle '"+b+"' does not exist");return a._namedCycleNodes[b]}4<d.length&&"as"==d[d.length-2]?(b=d[d.length-1],d=new c.CycleNode(d.slice(1,d.length-2),b,a.create_text_node()),a._namedCycleNodes||(a._namedCycleNodes={}),a._namedCycleNodes[b]=d):d=new c.CycleNode(d.slice(1),
null,a.create_text_node());return d},ifchanged:function(a,f){var d=f.contents.split(),b=a.parse(["endifchanged"]);a.delete_first_token();return new c.IfChangedNode(b,d.slice(1))},regroup:function(e,f){var d=a(f.contents,/(\s+)/g,function(a){return a});if(11>d.length||"as"!=d[d.length-3]||"by"!=d[d.length-7])throw Error("Expected the format: regroup list by key as newList");var b=d.slice(2,-8).join("");return new c.RegroupNode(b,d[d.length-5],d[d.length-1])}});return c})},"dojox/dtl/filter/lists":function(){define(["dojo/_base/lang",
"../_base"],function(l,k){var h=l.getObject("filter.lists",!0,k);l.mixin(h,{_dictsort:function(f,a){return f[0]==a[0]?0:f[0]<a[0]?-1:1},dictsort:function(f,a){if(!a)return f;var c,e,h=[];if(!l.isArray(f))for(e in c=f,f=[],c)f.push(c[e]);for(c=0;c<f.length;c++)h.push([(new dojox.dtl._Filter("var."+a)).resolve(new dojox.dtl._Context({"var":f[c]})),f[c]]);h.sort(dojox.dtl.filter.lists._dictsort);var d=[];for(c=0;e=h[c];c++)d.push(e[1]);return d},dictsortreversed:function(f,a){return a?dojox.dtl.filter.lists.dictsort(f,
a).reverse():f},first:function(f){return f.length?f[0]:""},join:function(f,a){return f.join(a||",")},length:function(f){return isNaN(f.length)?(f+"").length:f.length},length_is:function(f,a){return f.length==parseInt(a)},random:function(f){return f[Math.floor(Math.random()*f.length)]},slice:function(f,a){for(var c=(a||"").split(":"),e=[],h=0;h<c.length;h++)c[h].length?e.push(parseInt(c[h])):e.push(null);null===e[0]&&(e[0]=0);0>e[0]&&(e[0]=f.length+e[0]);if(2>e.length||null===e[1])e[1]=f.length;0>
e[1]&&(e[1]=f.length+e[1]);return f.slice(e[0],e[1])},_unordered_list:function(f,a){var c=dojox.dtl.filter.lists,e,h="";for(e=0;e<a;e++)h+="\t";if(f[1]&&f[1].length){var d=[];for(e=0;e<f[1].length;e++)d.push(c._unordered_list(f[1][e],a+1));return h+"\x3cli\x3e"+f[0]+"\n"+h+"\x3cul\x3e\n"+d.join("\n")+"\n"+h+"\x3c/ul\x3e\n"+h+"\x3c/li\x3e"}return h+"\x3cli\x3e"+f[0]+"\x3c/li\x3e"},unordered_list:function(f){return h._unordered_list(f,1)}});return h})},"dojox/dtl/filter/logic":function(){define(["dojo/_base/lang",
"../_base"],function(l,k){var h=l.getObject("filter.logic",!0,k);l.mixin(h,{default_:function(f,a){return f||a||""},default_if_none:function(f,a){return null===f?a||"":f||""},divisibleby:function(f,a){return 0===parseInt(f,10)%parseInt(a,10)},_yesno:/\s*,\s*/g,yesno:function(f,a){a||(a="yes,no,maybe");var c=a.split(dojox.dtl.filter.logic._yesno);return 2>c.length?f:f?c[0]:!f&&null!==f||3>c.length?c[1]:c[2]}});return h})},"mojo/neapolitan/email-renderers/ButtonBlock":function(){define(["dojo/_base/declare",
"./_Renderer","dojo/text!../editors/blocks/templates/ButtonEditor/output.html"],function(l,k,h){return l("mojo.neapolitan.renderers.ButtonBlock",[k],{outputTplStr:h,getOutputModel:function(f){return{totalPadding:2*this.outerPadding,buttonText:f.buttonText,align:f.align,buttonWidth:f.buttonWidth,target:f.link&&f.link.attrs.target?f.link.attrs.target:"_blank",href:f.link?f.link.href:"#",linkClasses:f.link?f.link.attrs["class"]:"",title:f.link&&f.link.attrs.title?f.link.attrs.title:f.buttonText}}})})},
"mojo/neapolitan/email-renderers/DividerBlock":function(){define(["dojo/_base/declare","./_Renderer","dojo/text!../editors/blocks/templates/DividerEditor/output.html"],function(l,k,h){return l("mojo.neapolitan.renderers.DividerBlock",[k],{outputTplStr:h,getOutputModel:function(f){return{totalPadding:2*this.outerPadding}}})})},"mojo/neapolitan/email-renderers/ImageCardBlock":function(){define("dojo/_base/declare ./_Renderer dojo/_base/array dojo/dom-construct dojo/dom-style dojox/dtl dojox/dtl/Context dojo/text!../editors/blocks/templates/ImageCardEditor/output.html dojo/text!../editors/blocks/templates/ImageCardEditor/_horizontal.html dojo/text!../editors/blocks/templates/ImageCardEditor/_vertical.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l("mojo.neapolitan.renderers.ImageCardBlock",[k],{outputTplStr:m,constructor:function(){this.horizontalTemplate=new dojox.dtl.Template(d);this.verticalTemplate=new dojox.dtl.Template(b)},getOutputModel:function(a){var b=this._getWidths(a),c=a.caption;c.image&&(c.image.calculatedWidth=c.image&&c.image.width>b.image?b.image:c.image.width);return{blockHtml:this._getCaptionTemplate(a.captionPosition).render(new e({widths:b,align:a.align,position:a.captionPosition,
caption:c,container:a.container,innerPadding:this.innerPadding,outerPadding:this.outerPadding,totalPadding:2*this.outerPadding,firstPadding:"0 "+this.innerPadding+"px "+this.innerPadding+"px "+this.innerPadding+"px ",lastPadding:this.innerPadding+"px "+this.innerPadding+"px 0 "+this.innerPadding+"px ",singlePadding:"0 "+this.outerPadding+"px "})),totalPadding:2*this.outerPadding,outerPadding:this.outerPadding}},_getCaptionTemplate:function(a){switch(a){case "left":case "right":return this.horizontalTemplate;
case "top":case "bottom":return this.verticalTemplate;default:throw Error("Unknown captionPosition");}},_getWidths:function(a){var b=Math.floor(a.containerWidth-2*this.outerPadding-2*this.innerPadding),c,d,e,f,h=0,k=0,l=0;switch(a.captionPosition){case "top":case "bottom":c=d=Math.floor(b-4*this.innerPadding);h=this.innerPadding;e=2*this.innerPadding;!0===a.edgeToEdge&&(d+=2*this.innerPadding,c+=4*this.innerPadding,e=0,h+=this.innerPadding,k+=this.innerPadding);break;case "left":case "right":e=2*
this.innerPadding;switch(a.captionWidth){case "half":d=Math.floor((b-4*this.innerPadding)/2);f=Math.floor(b/2);c=Math.floor(f-2*this.innerPadding);break;case "one-third":d=Math.floor((b-2*this.innerPadding)/3);f=Math.floor(b-d-2*this.innerPadding);c=Math.floor(f-2*this.innerPadding);break;case "two-third":c=Math.floor((b-2*this.innerPadding)/3);d=Math.floor(b-c-4*this.innerPadding);f=Math.floor(c+2*this.innerPadding);break;case "three-quarter":c=Math.floor((b-4*this.innerPadding)/4);d=Math.floor(b-
c-4*this.innerPadding);f=Math.floor(c+2*this.innerPadding);break;default:throw Error("Unknown captionWidth");}a.edgeToEdge&&(c+=2*this.innerPadding,e=0,k+=2*this.innerPadding,l+=this.innerPadding,h+=this.innerPadding);break;default:throw Error("Unknown captionPosition");}b=this._getImageBorderOffset(a);b<c&&(c-=b);return{edgeToEdge:a.edgeToEdge,caption:d,container:f,image:c,imagePadding:e,calculatedInnerPadding:h,calculatedTextSidePadding:k,calculatedTextTopPadding:l}},_getImageBorderOffset:function(b){var c=
0;b.styles&&b.styles instanceof Array&&h.forEach(b.styles,function(b){if("Card"===b.name&&b.props&&b.props.border&&(b=b.props.border)&&b.value){var d=f.create("div");a.set(d,"border",b.value);(b=a.get(d,"borderWidth"))&&(c=2*+b)}});return c}})})},"mojo/neapolitan/email-renderers/ImageBlock":function(){define("dojo/_base/declare ./_Renderer dojo/_base/lang dojo/text!../editors/blocks/templates/ImageEditor/output.html mojo/lib/flags mojo/user".split(" "),function(l,k,h,f,a,c){return l("mojo.neapolitan.renderers.ImageBlock",
[k],{outputTplStr:f,getOutputModel:function(a){var c={innerPadding:this.innerPadding,outerPadding:this.outerPadding};a.edgeToEdge&&(c.innerPadding=0,c.outerPadding=0);a.containerWidth=a.containerWidth-2*c.innerPadding-2*c.outerPadding;if(a.image){var c=h.mixin(c,a.image),d="",b;a.retina?(b=c.width/2,d="mcnRetinaImage"):(b=c.width,d="mcnImage");c.calculatedWidth=b<a.containerWidth?b:a.containerWidth;c.align=a.align;c.imageClass=d;return c}return h.mixin(c,{src:null,calculatedWidth:a.containerWidth})}})})},
"mojo/neapolitan/email-renderers/ImageGroupBlock":function(){define(["dojo/_base/declare","./_Renderer","dojo/_base/array","dojo/_base/lang","dojo/text!../editors/blocks/templates/ImageGroupEditor/output.html"],function(l,k,h,f,a){return l("mojo.neapolitan.renderers.ImageGroupBlock",[k],{outputTplStr:a,getOutputModel:function(a){return{images:this._getImageGroupModel(a)}},_getImageGroupModel:function(a){var e=[],k=0;h.forEach(a.selectedLayout,f.hitch(this,function(d){for(var b=[],h=this._getCalculatedContainerWidth(d,
a.containerWidth),l=0;l<d;l++){var q=2==d?(a.containerWidth-2*this.innerPadding-4*this.innerPadding)/d:a.containerWidth-4*this.innerPadding;if(a.images[k]&&a.images[k].hasOwnProperty("src")){var r=f.mixin({},a.images[k]);r.calculatedWidth=h;r.calculatedWidth=r.width<h?r.width:h;r.columnWidth=q;b.push(r)}else b.push(f.mixin({src:null,calculatedWidth:h,index:k,columnWidth:q}));k++}e.push(b)}));return e},_getCalculatedContainerWidth:function(a,e){return 2==a?Math.floor(e/2-4*this.outerPadding):Math.floor(e-
4*this.outerPadding)}})})},"mojo/neapolitan/email-renderers/ImageWithCaptionBlock":function(){define("dojo/_base/declare ./_Renderer dojox/dtl dojox/dtl/Context dojo/text!../editors/blocks/templates/ImageWithCaptionEditor/output.html dojo/text!../editors/blocks/templates/ImageWithCaptionEditor/_horizontal.html dojo/text!../editors/blocks/templates/ImageWithCaptionEditor/_vertical.html".split(" "),function(l,k,h,f,a,c,e){return l("mojo.neapolitan.renderers.ImageWithCaptionBlock",[k],{outputTplStr:a,
constructor:function(){this.horizontalTemplate=new dojox.dtl.Template(c);this.verticalTemplate=new dojox.dtl.Template(e)},getOutputModel:function(a){for(var c=[],b=this._getWidths(a),e=Number(a.numberOfCaptions),h=0;h<e;h++){var k=a.captions[h];k||(k={image:null,text:""});k.image&&(k.image.calculatedWidth=k.image&&k.image.width>b.image?b.image:k.image.width);k.columnWidth=b.columnWidth;c.push(k)}return{blockHtml:this._getCaptionTemplate(a.captionPosition).render(new f({widths:b,align:a.align,position:a.captionPosition,
captions:c,container:a.container,innerPadding:this.innerPadding,outerPadding:this.outerPadding,firstPadding:"0 "+this.innerPadding+"px "+this.innerPadding+"px "+this.innerPadding+"px ",lastPadding:this.innerPadding+"px "+this.innerPadding+"px 0 "+this.innerPadding+"px ",singlePadding:"0 "+this.innerPadding+"px ",captionCount:e}))}},_getCaptionTemplate:function(a){switch(a){case "left":case "right":return this.horizontalTemplate;case "top":case "bottom":return this.verticalTemplate;default:throw Error("Unknown captionPosition");
}},_getWidths:function(a){var c=Math.floor(a.containerWidth-2*this.outerPadding-2*this.innerPadding),b;b=Number(a.numberOfCaptions);switch(a.captionPosition){case "top":case "bottom":2===b?(a=b=c=Math.floor(c/b),c=a-2*this.innerPadding):a=c=b=c=Math.floor((c-2*this.innerPadding*(b-1))/b);break;case "left":case "right":switch(a.captionWidth){case "half":b=a=c=Math.floor((c-4*this.innerPadding)/2);break;case "one-third":b=Math.floor((c-4*this.innerPadding)/3);c=a=c-b-4*this.innerPadding;break;case "two-third":a=
Math.floor((c-4*this.innerPadding)/3);b=c-a-4*this.innerPadding;c=a;break;case "three-quarter":a=Math.floor((c-4*this.innerPadding)/4);b=c-a-4*this.innerPadding;c=a;break;default:throw Error("Unknown captionWidth");}break;default:throw Error("Unknown captionPosition");}return{caption:b,container:a,image:c,columnWidth:!1}}})})},"mojo/neapolitan/email-renderers/SocialFollowBlock":function(){define("dojo/_base/declare ./_Renderer dojox/dtl dojox/dtl/Context dojo/_base/lang dojo/_base/array mojo/url dojo/text!../editors/blocks/templates/SocialFollowEditor/output.html dojo/text!../editors/blocks/templates/SocialFollowEditor/_horizontal.html dojo/text!../editors/blocks/templates/SocialFollowEditor/_vertical.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l("mojo.neapolitan.renderers.SocialFollowBlock",[k],{outputTplStr:m,defaultText:{facebookFollow:"Facebook",twitterFollow:"Twitter",linkedInFollow:"LinkedIn",youTubeFollow:"YouTube",pinterestFollow:"Pinterest",googlePlusFollow:"Google Plus",emailLink:"Email",tumblr:"Tumblr",instagram:"Instagram",snapchat:"Snapchat",githubFollow:"Github",vimeoFollow:"Vimeo",vineFollow:"Vine",mediumFollow:"Medium",redditFollow:"Reddit",flickrFollow:"Flickr",dribbbleFollow:"Dribbble",
spotifyFollow:"Spotify",houzzFollow:"Houzz",vkFollow:"VKontakte",rssFollow:"RSS",genericLink:"Website"},constructor:function(){this.horizontalTemplate=new dojox.dtl.Template(d);this.verticalTemplate=new dojox.dtl.Template(b)},_getBlockTemplate:function(a){switch(a){case "vertical":return this.verticalTemplate;default:return this.horizontalTemplate}},_getServiceIconUrl:function(a,b,c,d){var f;switch(a.type){case "facebookFollow":f="facebook";break;case "twitterFollow":f="twitter";break;case "linkedInFollow":f=
"linkedin";break;case "youTubeFollow":f="youtube";break;case "pinterestFollow":f="pinterest";break;case "googlePlusFollow":f="googleplus";break;case "emailLink":f="forwardtofriend";break;case "tumblrFollow":f="tumblr";break;case "instagramFollow":f="instagram";break;case "snapchatFollow":f="snapchat";break;case "soundCloudFollow":f="soundcloud";break;case "githubFollow":f="github";break;case "vimeoFollow":f="vimeo";break;case "vineFollow":f="vine";break;case "mediumFollow":f="medium";break;case "redditFollow":f=
"reddit";break;case "flickrFollow":f="flickr";break;case "dribbbleFollow":f="dribbble";break;case "spotifyFollow":f="spotify";break;case "houzzFollow":f="houzz";break;case "vkFollow":f="vk";break;case "rssFollow":f="rss";break;default:f="link"}var h="";switch(c){case "outline":h=c+"-"}switch(d){case "inline":iconSize="48";break;default:iconSize="96"}a.iconUrl=e.addProxy("http://cdn-images.mailchimp.com/icons/social-block-v2/"+h+b+"-"+f+"-"+iconSize+".png")},_setDefaultText:function(a){if(!a.text){var b=
this.defaultText[a.type];b||(b="Link");a.text=b}},getOutputModel:function(b){c.forEach(b.items,a.hitch(this,function(a){this._getServiceIconUrl(a,b.iconStyle,b.iconType,b.itemArrangement);this._setDefaultText(a);a.link||(a.link="")}));var d=!0,e=!0;switch(b.display){case "text":e=!1;break;case "icon":d=!1}var h=Math.floor(b.containerWidth-2*this.outerPadding-2*this.innerPadding)-40;return{blockHtml:this._getBlockTemplate(b.blockLayout).render(new f({items:b.items,itemArrangement:b.itemArrangement,
displayText:d,displayIcon:e,align:b.align,adjustableWidth:b.adjustableWidth,innerPadding:this.innerPadding,calculatedWidth:h}))}}})})},"mojo/neapolitan/email-renderers/SocialShareBlock":function(){define("dojo/_base/declare ./_Renderer dojo/_base/array dojo/_base/lang mojo/url dojox/dtl dojox/dtl/Context dojo/text!../editors/blocks/templates/SocialShareEditor/output.html dojo/text!../editors/blocks/templates/SocialShareEditor/_horizontal.html dojo/text!../editors/blocks/templates/SocialShareEditor/_vertical.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l("mojo.neapolitan.renderers.SocialShareBlock",[k],{outputTplStr:m,defaultText:{facebookShare:"Share",twitterShare:"Tweet",instapaperShare:"Read Later",googlePlusShare:"+1",forwardToFriend:"Forward to Friend",linkedInShare:"Share",pinterestShare:"Pin"},constructor:function(){this.horizontalTemplate=new dojox.dtl.Template(d);this.verticalTemplate=new dojox.dtl.Template(b)},getOutputModel:function(a){h.forEach(a.items,f.hitch(this,function(b){this._getServiceIconUrl(b,
a.iconStyle,a.iconType);this._buildShareUrl(b,this._getShareUrl(a),this._getDescription(a));this._setDefaultText(b)}));var b=Math.floor(a.containerWidth-2*this.outerPadding-2*this.innerPadding)-40;return{blockHtml:this._getBlockTemplate(a.blockLayout).render(new e({items:a.items,itemArrangement:a.itemArrangement,align:a.align,adjustableWidth:a.adjustableWidth,calculatedWidth:b}))}},_getBlockTemplate:function(a){switch(a){case "vertical":return this.verticalTemplate;default:return this.horizontalTemplate}},
_getShareUrl:function(a){switch(a.shareContentSource){case "custom":return encodeURIComponent(a.customUrl);default:return"*|URL:ARCHIVE_LINK_SHORT|*"}},_setDefaultText:function(a){if(!a.text){var b=this.defaultText[a.type];b||(b="Share");a.text=b}},_getDescription:function(a){switch(a.shareContentSource){case "custom":return encodeURIComponent(a.customDescription);default:return"*|URL:MC_SUBJECT|*"}},_buildShareUrl:function(a,b,c){switch(a.type){case "facebookShare":b="http://www.facebook.com/sharer/sharer.php?u\x3d"+
b;break;case "twitterShare":b="http://twitter.com/intent/tweet?text\x3d"+(c+": "+b);break;case "linkedInShare":b="http://www.linkedin.com/shareArticle?url\x3d"+b+"\x26mini\x3dtrue\x26title\x3d"+c;break;case "pinterestShare":b="https://www.pinterest.com/pin/find/?url\x3d"+b;break;case "forwardToFriend":b="*|FORWARD|*";break;case "googlePlusShare":b="https://plus.google.com/share?url\x3d"+b;break;case "instapaperShare":b="http://www.instapaper.com/hello2?url\x3d"+b+"\x26title\x3d"+c;break;default:b=
"link"}a.link=b},_getServiceIconUrl:function(b,c,d){var e;switch(b.type){case "facebookShare":e="facebook";break;case "twitterShare":e="twitter";break;case "linkedInShare":e="linkedin";break;case "pinterestShare":e="pinterest";break;case "instapaperShare":e="instapaper";break;case "googlePlusShare":e="googleplus";break;case "forwardToFriend":e="forwardtofriend";break;default:e="link"}var f="";switch(d){case "outline":f=d+"-"}b.iconUrl=a.addProxy("http://cdn-images.mailchimp.com/icons/social-block-v2/"+
f+c+"-"+e+"-48.png")}})})},"mojo/neapolitan/email-renderers/CodeBlock":function(){define(["dojo/_base/declare","./_Renderer","dojo/text!../editors/blocks/templates/CodeEditor/output.html"],function(l,k,h){return l([k],{outputTplStr:h,getOutputModel:function(f){return{html:f.html}}})})},"mojo/neapolitan/email-renderers/RssItemsBlock":function(){define(["dojo/_base/declare","./TextBlock","dojo/text!../editors/blocks/templates/RssItemsEditor/excerptsContent.html","dojo/text!../editors/blocks/templates/RssItemsEditor/titlesContent.html",
"dojo/text!../editors/blocks/templates/RssItemsEditor/fullContent.html"],function(l,k,h,f,a){return l("mojo.neapolitan.renderers.RssItemsBlock",[k],{presets:{excerpts:h,titles:f,full:a},getOutputModel:function(a){return this.inherited(arguments,[{numberOfColumns:1,splitOption:[100],content:"custom"==a.selectedPreset?a.customContent:this.presets[a.selectedPreset]}])}})})},"mojo/neapolitan/email-renderers/RssHeaderBlock":function(){define(["dojo/_base/declare","./TextBlock","dojo/text!../editors/blocks/templates/RssHeaderEditor/basicContent.html",
"dojo/text!../editors/blocks/templates/RssHeaderEditor/intermediateContent.html","dojo/text!../editors/blocks/templates/RssHeaderEditor/advancedContent.html"],function(l,k,h,f,a){return l("mojo.neapolitan.renderers.RssHeaderBlock",[k],{presets:{basic:h,intermediate:f,advanced:a},getOutputModel:function(a){return this.inherited(arguments,[{numberOfColumns:1,splitOption:[100],content:"custom"==a.selectedPreset?a.customContent:this.presets[a.selectedPreset]}])}})})},"mojo/neapolitan/email-renderers/VideoBlock":function(){define(["dojo/_base/declare",
"./ImageCardBlock"],function(l,k,h){return l("mojo.neapolitan.renderers.VideoBlock",[k],{})})},"mojo/neapolitan/email-renderers/ApiBlock":function(){define(["dojo/_base/declare","./_Renderer","dojo/text!../editors/blocks/templates/ApiEditor/output.html"],function(l,k,h){return l([k],{outputTplStr:h,getOutputModel:function(f){return{html:f.html}}})})},"mojo/neapolitan/email-renderers/ProductRecBlock":function(){define("dojo/_base/declare ./_Renderer ./ButtonBlock mojo/neapolitan/models/Link dojo/_base/lang dojo/dom-construct dojo/text!../editors/blocks/templates/ProductRecEditor/vertical.html dojo/text!../editors/blocks/templates/ProductRecEditor/horizontal.html dojo/text!../editors/blocks/templates/ProductRecEditor/_product-content.html dojox/dtl dojox/dtl/Context dojox/dtl/tag/logic dojox/dtl/tag/loop".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k],{verticalTemplate:null,horizontalTemplate:null,contentTemplate:null,buttonRenderer:null,constructor:function(){this.inherited(arguments);this._loadTemplates();this.buttonRenderer=new h},getContent:function(b){var d=this.getOutputModel(a.clone(b)),d=a.mixin({outerPadding:this.outerPadding,innerPadding:this.innerPadding},d),d=c.toDom(a.trim(("vertical"==b.layout?this.verticalTemplate:this.horizontalTemplate).render(new n(d))));return this._inlineStyles(d,
b.styles)},_loadTemplates:function(){this.verticalTemplate=new dojox.dtl.Template(e);this.horizontalTemplate=new dojox.dtl.Template(m);this.contentTemplate=new dojox.dtl.Template(d)},_getMergeTagOpen:function(a){var b=[];a.numProducts&&b.push("$total\x3d"+a.numProducts);a.startIndex&&b.push("$start_index\x3d"+a.startIndex);a.storeId&&b.push("$store_id\x3d"+a.storeId);a="";b.length&&(a="["+b.join(",")+"]");return"*|PRODUCT_RECOMMENDATION:"+a+"|*"},_calculateColumnWidth:function(a){var b=a.containerWidth;
switch(a.layout){case "vertical":1<a.numProducts&&(b/=a.numProducts);break;case "horizontal":b/=2;break;default:throw Error("No layout defined");}return b},_buttonMarkup:function(a){a={buttonText:a.buttonText,buttonWidth:a.buttonWidth,align:a.buttonAlign,link:new f(a.buttonLinkType&&"cart"==a.buttonLinkType?"*|PRODUCT:CART_URL|*":"*|PRODUCT:URL|*","*|PRODUCT:TITLE|*")};return this.buttonRenderer.getMarkup(a)},_contentMarkup:function(b){var c=[];b.titleEnabled&&c.push({html:"*|PRODUCT:TITLE|*\x3cbr /\x3e",
className:"mcnProductTitle",styles:"padding-top:9px; padding-left:18px; padding-right:18px;"});b.priceEnabled&&c.push({html:"*|PRODUCT:PRICE|*\x3cbr /\x3e",className:"mcnProductPrice",styles:"padding-top:9px; padding-left:18px; padding-right:18px;"});b.buttonEnabled&&c.push({html:this._buttonMarkup(b),className:"mcnProductButton",styles:"padding-top:18px"});return c.length?a.trim(this.contentTemplate.render(new n({rows:c}))):""},getOutputModel:function(a){var b=this._calculateColumnWidth(a),c=b-36;
return{contentHTML:this._contentMarkup(a),columnWidth:b,imageWidth:c,totalPadding:2*this.outerPadding,precMergeTagOpen:this._getMergeTagOpen(a),precMergeTagClose:"*|END:PRODUCT_RECOMMENDATION|*"}}})})},"mojo/neapolitan/models/Link":function(){define(["dojo/_base/declare"],function(l){return l(null,{constructor:function(k,h){this.attrs={};this.href=k;this.title=h}})})},"mojo/neapolitan/email-renderers/ProductBlock":function(){define("dojo/_base/declare ./_Renderer ./ButtonBlock mojo/neapolitan/models/Link dojo/_base/lang dojo/dom-construct dojo/text!../editors/blocks/templates/ProductEditor/vertical.html dojo/text!../editors/blocks/templates/ProductEditor/horizontal.html dojo/text!../editors/blocks/templates/ProductEditor/_product-content.html dojox/dtl dojox/dtl/Context dojox/dtl/tag/logic dojox/dtl/tag/loop".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([k],{verticalTemplate:null,horizontalTemplate:null,contentTemplate:null,buttonRenderer:null,constructor:function(){this.inherited(arguments);this._loadTemplates();this.buttonRenderer=new h},getContent:function(b){var d=this.getOutputModel(a.clone(b)),d=a.mixin({outerPadding:this.outerPadding,innerPadding:this.innerPadding},d),d=c.toDom(a.trim(("vertical"===b.layout?this.verticalTemplate:this.horizontalTemplate).render(new n(d))));return this._inlineStyles(d,
b.styles)},_loadTemplates:function(){this.verticalTemplate=new window.dojox.dtl.Template(e);this.horizontalTemplate=new window.dojox.dtl.Template(m);this.contentTemplate=new window.dojox.dtl.Template(d)},_calculateColumnWidth:function(a){var b=a.containerWidth;switch(a.layout){case "vertical":1<a.products.length&&(b/=a.products.length);break;case "horizontal":b/=2;break;default:throw Error("No layout defined");}return b},_buttonMarkup:function(a,b){var c={buttonText:b.buttonText,buttonWidth:a.buttonWidth,
align:a.buttonAlign,link:new f(b.getButtonLinkUrl(),b.title)};return this.buttonRenderer.getMarkup(c)},_contentMarkup:function(b,c){var d=[];c.title&&d.push({html:c.title+"\x3cbr /\x3e",className:"mcnProductTitle",styles:"padding-top:9px; padding-left:18px; padding-right:18px;"});c.price&&d.push({html:c.price+"\x3cbr /\x3e",className:"mcnProductPrice",styles:"padding-top:9px; padding-left:18px; padding-right:18px;"});c.descriptionEnabled&&c.description&&d.push({html:c.description+"\x3cbr/\x3e",className:"mcnProductDescription",
styles:"padding-top:9px; padding-left:18px; padding-right:18px;"});c.buttonEnabled&&d.push({html:this._buttonMarkup(b,c),className:"mcnProductButton",styles:"padding-top:18px"});return d.length?a.trim(this.contentTemplate.render(new n({rows:d}))):""},getOutputModel:function(a){var b=this._calculateColumnWidth(a),c=b-36,d=this,e=[];a.products.forEach(function(b){e.push({product:b,body:d._contentMarkup(a,b)})});return{productsData:e,columnWidth:b,imageWidth:c,totalPadding:2*this.outerPadding}}})})},
"mojo/neapolitan/email-renderers/AbandonedCartBlock":function(){define(["dojo/_base/declare","./_Renderer","./ButtonBlock","mojo/neapolitan/models/Link","dojo/text!../editors/blocks/templates/AbandonedCartEditor/output.html"],function(l,k,h,f,a){return l([k],{outputTplStr:a,constructor:function(){this.inherited(arguments);this.buttonRenderer=new h},_getMergeTagOpen:function(a){var e=[];a.numProducts&&e.push("$total\x3d"+a.numProducts);a="";e.length&&(a="["+e.join(",")+"]");return"*|ABANDONED_CART:"+
a+"|*"},getOutputModel:function(a){return{titleOnly:!a.priceEnabled,mergeTagOpen:this._getMergeTagOpen(a),mergeTagClose:"*|END:ABANDONED_CART|*"}}})})},"mojo/neapolitan/email-renderers/AbandonedBrowseBlock":function(){define(["dojo/_base/declare","./_Renderer","./ButtonBlock","mojo/neapolitan/models/Link","dojo/text!../editors/blocks/templates/AbandonedBrowseEditor/output.html"],function(l,k,h,f,a){return l([k],{outputTplStr:a,buttonRenderer:null,constructor:function(){this.inherited(arguments);this.buttonRenderer=
new h},getOutputModel:function(a){return{priceEnabled:a.priceEnabled,buttonEnabled:a.buttonEnabled,buttonHtml:this._buttonMarkup(a),mergeTagOpen:"*|ABANDONED_BROWSE:|*",mergeTagClose:"*|END:ABANDONED_BROWSE|*"}},_buttonMarkup:function(a){var e="*|PRODUCT:URL|*";a.buttonLinkType&&"cart"===a.buttonLinkType&&(e="*|PRODUCT:CART_URL|*");a={buttonText:a.buttonText,buttonWidth:a.buttonWidth,align:a.buttonAlign,link:new f(e,"*|PRODUCT:TITLE|*")};return this.buttonRenderer.getMarkup(a)}})})},"mojo/neapolitan/email-renderers/PromoCodeBlock":function(){define("dojo/_base/declare ./_Renderer ./ButtonBlock mojo/neapolitan/models/Link dojo/_base/lang dojo/dom-construct dojo/text!../editors/blocks/templates/PromoCodeEditor/basicTemplate.html dojo/text!../editors/blocks/templates/PromoCodeEditor/_promo-content.html dojox/dtl dojox/dtl/Context".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([k],{outputTplStr:e,contentTemplate:null,buttonRenderer:null,constructor:function(){this.inherited(arguments);this.contentTemplate=new window.dojox.dtl.Template(m);this.buttonRenderer=new h},_contentMarkup:function(c){var d=[];c.descriptionEnabled&&c.description&&d.push({html:c.description,className:"mcnPromoDescription",styles:"padding-bottom:18px;",align:c.align});c.promoCode=c.promoCode?c.mergeTag:"Promo Code";d.push({html:c.promoCode,className:"mcnPromoCode",
styles:"padding-bottom: 18px; word-break: break-all;",align:c.align});if(c.expirationEnabled){var e=null,e=c.expirationDate?"Expiration date: "+c.expirationDate:"No expiration date";d.push({html:e,className:"mcnExpirationDate",styles:"padding-bottom:18px;",align:c.align})}c.buttonEnabled&&d.push({html:this._buttonMarkup(c),className:"mcnButtonContent"});return d.length?a.trim(this.contentTemplate.render(new b({rows:d}))):""},_buttonMarkup:function(a){a={buttonText:a.buttonText,buttonWidth:a.buttonWidth,
link:new f(a.link,a.title)};return this.buttonRenderer.getMarkup(a)},getOutputModel:function(a){var b=a.description,c=a.promoCode,d=a.mergeTag,e=a.expirationDate,f=a.promoId,h=this._contentMarkup(a);return{description:b,promoCode:c,expirationDate:e,promoId:f,mergeTag:d,align:a.align,promoBody:h,buttonText:a.buttonText,buttonWidth:a.buttonWidth,href:a.link}}})})},"mojo/neapolitan/web-renderers/SignUpFormBlock":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/query dojo/text!../editors/blocks/templates/SignUpFormEditor/_form-fields-content.html dojo/text!../editors/blocks/templates/SignUpFormEditor/outputWeb.html dojox/dtl dojox/dtl/Context dijit/_TemplatedMixin dijit/_WidgetBase ../email-renderers/_Renderer".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([b],{outputTplStr:a,formFieldsTemplate:null,constructor:function(){this.inherited(arguments);this.formFieldsTemplate=new window.dojox.dtl.Template(f)},getOutputModel:function(a){return{signUpFormBody:this.formFieldsTemplate.render(new e({formFields:a.mergeTag}))}}})})},"mojo/neapolitan/web-renderers/TextBlock":function(){define(["dojo/_base/declare","../email-renderers/_Renderer","dojo/text!../editors/blocks/templates/TextEditor/outputWeb.html"],function(l,k,
h){return l("mojo.neapolitan.web-renderers.TextBlock",[k],{outputTplStr:h,getOutputModel:function(f){for(var a=[],c="string"===typeof f.content?[f.content]:f.content,e=0;e<f.numberOfColumns;e++)a.push({content:c[e]?c[e]:"",flexStyle:this._getFlexStyle(f.splitOption[e])});return{columns:a,columnCount:f.numberOfColumns}},_getFlexStyle:function(f){var a="flex: ";switch(f){case 65:a+="2 0 0;";break;case 35:a+="1 0 0;";break;default:a+="1;"}return a}})})},"mojo/neapolitan/web-renderers/BoxedTextBlock":function(){define(["dojo/_base/declare",
"./TextBlock","dojo/text!../editors/blocks/templates/BoxedTextEditor/outputWeb.html"],function(l,k,h){return l("mojo.neapolitan.renderers.BoxedTextBlock",[k],{outputTplStr:h})})},"mojo/neapolitan/web-renderers/DividerBlock":function(){define(["dojo/_base/declare","../email-renderers/DividerBlock","dojo/text!../editors/blocks/templates/DividerEditor/outputWeb.html"],function(l,k,h){return l("mojo.neapolitan.email-renderers.DividerBlock",[k],{outputTplStr:h})})},"mojo/neapolitan/web-renderers/CodeBlock":function(){define(["dojo/_base/declare",
"../email-renderers/CodeBlock","dojo/text!../editors/blocks/templates/CodeEditor/outputWeb.html"],function(l,k,h){return l([k],{outputTplStr:h})})},"mojo/neapolitan/web-renderers/ImageBlock":function(){define(["dojo/_base/declare","../email-renderers/ImageBlock","dojo/_base/lang","dojo/text!../editors/blocks/templates/ImageEditor/outputWeb.html"],function(l,k,h,f){return l("mojo.neapolitan.web-renderers.ImageBlock",[k],{outputTplStr:f,getOutputModel:function(a){var c={innerPadding:this.innerPadding,
outerPadding:this.outerPadding};a.edgeToEdge&&(c.innerPadding=0,c.outerPadding=0);if(a.image){var c=h.mixin(c,a.image),e="",f;a.retina?(f="50%",e="mcnRetinaImage"):(f="100%",e="mcnImage");c.align=a.align;c.imageClass=e;c.maxWidth=f;return c}return h.mixin(c,{src:null})}})})},"mojo/neapolitan/web-renderers/ImageCardBlock":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-construct dojo/dom-style dojox/dtl dojox/dtl/Context dojo/text!../editors/blocks/templates/ImageCardEditor/outputWeb.html ../email-renderers/ImageCardBlock".split(" "),
function(l,k,h,f,a,c,e,m){var d={center:"center",left:"flex-start",right:"flex-end"};return k("mojo.neapolitan.web-renderers.ImageCardBlock",[m],{outputTplStr:e,getOutputModel:function(a){var c=this._getWidths(a),d=a.caption;d.image&&(d.image.calculatedWidth=d.image&&d.image.width>c.image?c.image:d.image.width);return{widths:c,align:a.align,caption:d,innerPadding:this.innerPadding,imageContentClassNames:this._getClassName(a.captionPosition),styleFlexDirection:this._getFlexDirection(a.captionPosition),
totalImagePadding:this._getImagePadding(a.captionPosition,a.edgeToEdge),cardImageContentClassName:a.edgeToEdge?"mcnImageCardImageContentE2E":"mcnImageCardImageContent",cardImageContentStyle:this._getCardImageContentStyle(this._getImagePadding(a.captionPosition,a.edgeToEdge),a.captionWidth,a.captionPosition),captionContentStyle:this._getCaptionContentStyle(a.captionWidth,a.captionPosition),captionAlign:this._getCardImageAlign(a.align)}},_getContentFlex:function(a,c){var d,e;if("top"===c||"bottom"===
c)e=d="0 0 auto";else switch(a){case "one-third":d="0 0 30%";e="0 0 70%";break;case "two-third":e="0 0 30%";d="0 0 70%";break;case "three-quarter":d="0 0 75%";e="0 0 25%";break;default:e=d="0 0 50%"}return{caption:d,image:e}},_getCardImageContentStyle:function(a,c,d){return"display:flex; flex:"+this._getContentFlex(c,d).image+";"},_getCardImageAlign:function(a){return"justify-content: "+d[a]+";"},_getCaptionContentStyle:function(a,c){return"display:flex; flex:"+this._getContentFlex(a,c).caption},
_getWidths:function(a){var c=Math.floor(a.containerWidth-2*this.outerPadding-2*this.innerPadding);switch(a.captionPosition){case "top":case "bottom":c=Math.floor(c-4*this.innerPadding);!0===a.edgeToEdge&&(c+=2*this.innerPadding);break;case "left":case "right":c=this._getContentFlex(a.captionWidth).caption;switch(a.captionWidth){case "half":break;case "one-third":break;case "two-third":break;case "three-quarter":break;default:throw Error("Unknown captionWidth");}break;default:throw Error("Unknown captionPosition");
}this._getImageBorderOffset(a);return{caption:c}},_getClassName:function(a){var c="mcnImageCardBottomContent";switch(a){case "top":c="mcnImageCardTopContent";break;case "bottom":c="mcnImageCardBottomContent";break;case "left":c="mcnImageCardLeftContentInner";break;case "right":c="mcnImageCardRightContentInner";break;default:throw Error("Unknown captionPosition");}return c},_getFlexDirection:function(a){var c="column";switch(a){case "top":c="column-reverse";break;case "bottom":c="column";break;case "left":c=
"row-reverse";break;case "right":c="row";break;default:throw Error("Unknown captionPosition");}return c},_getImagePadding:function(a,c){var d="padding: 0px;";if(!c)switch(a){case "top":d="padding:0 18px 18px 18px;";break;case "bottom":d="padding:18px 18px 0 18px;";break;case "left":d="padding:18px 18px 18px 0;";break;case "right":d="padding:18px 0 18px 18px;";break;default:throw Error("Unknown captionPosition");}return d}})})},"mojo/neapolitan/web-renderers/ButtonBlock":function(){define(["dojo/_base/declare",
"../email-renderers/ButtonBlock","dojo/text!../editors/blocks/templates/ButtonEditor/outputWeb.html"],function(l,k,h){var f={center:"center",left:"flex-start",right:"flex-end"};return l("mojo.neapolitan.email-renderers.ButtonBlock",[k],{outputTplStr:h,getOutputModel:function(a){return{totalPadding:2*this.outerPadding,buttonText:a.buttonText,align:f[a.align||"center"],buttonWidth:a.buttonWidth,target:a.link&&a.link.attrs.target?a.link.attrs.target:"_blank",href:a.link?a.link.href:"#",linkClasses:a.link?
a.link.attrs["class"]:"",title:a.link&&a.link.attrs.title?a.link.attrs.title:a.buttonText}}})})},"mojo/neapolitan/web-renderers/ProductBlock":function(){define(["dojo/_base/declare","../email-renderers/_Renderer","./ButtonBlock","mojo/neapolitan/models/Link","dojo/text!../editors/blocks/templates/ProductEditor/outputWeb.html"],function(l,k,h,f,a){return l([k],{buttonRenderer:null,outputTplStr:a,constructor:function(){this.buttonRenderer=new h},_buttonMarkup:function(a,e){var h={buttonText:e.buttonText,
buttonWidth:a.buttonWidth,align:a.buttonAlign,link:new f(e.getButtonLinkUrl(),e.title)};return this.buttonRenderer.getMarkup(h)},_contentMarkup:function(a,e){var f=[];e.title&&f.push({html:e.title+"\x3cbr /\x3e",className:"mcnProductTitle",styles:"padding-top:9px; padding-left:18px; padding-right:18px;"});e.price&&f.push({html:e.price+"\x3cbr /\x3e",className:"mcnProductPrice",styles:"padding-top:9px; padding-left:18px; padding-right:18px;"});e.descriptionEnabled&&e.description&&f.push({html:e.description+
"\x3cbr/\x3e",className:"mcnProductDescription",styles:"padding-top:9px; padding-left:18px; padding-right:18px;"});e.buttonEnabled&&f.push({html:this._buttonMarkup(a,e),className:"mcnProductButton",styles:"padding-top:18px"});return f},_getContainerClasses:function(a){var e="mcnRecContentContainer";"vertical"===a.layout&&1<a.products.length&&(e+=" mcnRecContentContainer--row");return e},_getContainerStyles:function(a){return("vertical"===a.layout?"flex:1; flex-direction: column":"flex-shrink: 0; flex-direction: row")+
";padding-top: 9px; padding-bottom: 9px; display: flex;"},_getImageContentStyles:function(a){return("vertical"===a.layout?"flex-shrink: 0":"flex: 1")+";padding-left: 18px; padding-right: 18px"},getOutputModel:function(a){var e=this;return{productsData:a.products.map(function(f){return{product:f,body:e._contentMarkup(a,f)}}),flexDirection:"vertical"===a.layout?"row":"column",flexWrap:"vertical"===a.layout?"wrap":"no-wrap",containerClasses:this._getContainerClasses(a),containerStyles:this._getContainerStyles(a),
imageContentStyles:this._getImageContentStyles(a),textContentStyles:"vertical"===a.layout?"":"flex: 1"}}})})},"mojo/neapolitan/web-renderers/ImageWithCaptionBlock":function(){define(["dojo/_base/declare","../email-renderers/ImageWithCaptionBlock","dojox/dtl","dojox/dtl/Context","dojo/text!../editors/blocks/templates/ImageWithCaptionEditor/outputWeb.html"],function(l,k,h,f,a){var c={center:"center",left:"flex-start",right:"flex-end"};return l("mojo.neapolitan.web-renderers.ImageWithCaptionBlock",[k],
{outputTplStr:a,getOutputModel:function(a){for(var c=[],d=this._getWidths(a),b=Number(a.numberOfCaptions),f=0;f<b;f++){var h=a.captions[f];h||(h={image:null,text:""});h.image&&(h.image.calculatedWidth=h.image&&h.image.width>d.image?d.image:h.image.width);h.columnWidth=d.columnWidth;c.push(h)}return{widths:d,align:a.align,position:a.captionPosition,captions:c,styleFlexDirection:this._getFlexDirection(a.captionPosition),imageContentClassNames:this._getClassName(a.captionPosition),totalImagePadding:this._getImagePadding(a.captionPosition,
a.edgeToEdge),captionImageContentStyle:this._getCaptionImageContentStyle(this._getImagePadding(a.captionPosition,a.edgeToEdge),a.captionWidth,a.captionPosition),captionContentStyle:this._getCaptionContentStyle(a.captionWidth,a.captionPosition),captionAlign:this._getCardImageAlign(a.align),containerClasses:this._getContainerClasses(a),innerClass:this._getInnerFlexClass(a)}},_getContentFlex:function(a,c){var d,b;if("top"===c||"bottom"===c)b=d="0 0 auto";else switch(a){case "one-third":d="0 0 30%";b=
"0 0 70%";break;case "two-third":b="0 0 30%";d="0 0 70%";break;case "three-quarter":d="0 0 75%";b="0 0 25%";break;default:b=d="0 0 50%"}return{caption:d,image:b}},_getImagePadding:function(a,c){var d="padding: 0px;";if(!c)switch(a){case "top":d="padding:9px 9px 0 9px;";break;case "bottom":d="padding:0 9px 9px 9px;";break;case "left":d="padding:0 9px;";break;case "right":d="padding:0 9px;";break;default:throw Error("Unknown captionPosition");}return d},_getCaptionImageContentStyle:function(a,c,d){return"display:flex; flex:"+
this._getContentFlex(c,d).image+";"},_getCardImageAlign:function(a){return c[a]},_getCaptionContentStyle:function(a,c){return"display:flex; flex:"+this._getContentFlex(a,c).caption+";"},_getClassName:function(a){var c="mcnCaptionBottomImageContent";switch(a){case "top":c="mcnCaptionTopImageContent";break;case "bottom":c="mcnCaptionBottomImageContent";break;case "left":c="mcnCaptionLeftContentInner";break;case "right":c="mcnCaptionRightContentInner";break;default:throw Error("Unknown captionPosition");
}return c},_getContainerClasses:function(a){var c="mcnCaptionBlock",d=Number(a.numberOfCaptions);"left"!==a.captionPosition&&"right"!==a.captionPosition||2!==d||(c+=" mcnCaptionColumn");return c},_getInnerFlexClass:function(a){return"left"===a.captionPosition||"right"===a.captionPosition?"mcnCaptionColumn":""},_getFlexDirection:function(a){var c="column";switch(a){case "top":c="column-reverse";break;case "bottom":c="column";break;case "left":c="row-reverse";break;case "right":c="row";break;default:throw Error("Unknown captionPosition");
}return c},_getWidths:function(a){var c=Math.floor(a.containerWidth-2*this.outerPadding-2*this.innerPadding);switch(a.captionPosition){case "top":case "bottom":a=c;break;case "left":case "right":switch(a.captionWidth){case "half":a=Math.floor((c-4*this.innerPadding)/2);break;case "one-third":a=c-4*this.innerPadding;break;case "two-third":a=Math.floor((c-4*this.innerPadding)/3);break;case "three-quarter":a=Math.floor((c-4*this.innerPadding)/4);break;default:throw Error("Unknown captionWidth");}break;
default:throw Error("Unknown captionPosition");}return{image:a}}})})},"mojo/neapolitan/web-renderers/SocialFollowBlock":function(){define("dojo/_base/declare dojo/_base/lang dojox/dtl dojox/dtl/Context mojo/url dojo/text!../editors/blocks/templates/SocialFollowEditor/outputWeb.html dojo/text!../editors/blocks/templates/SocialFollowEditor/_verticalWeb.html dojo/text!../editors/blocks/templates/SocialFollowEditor/_horizontalWeb.html dojo/text!../editors/blocks/templates/SocialFollowEditor/_itemWeb.html ../email-renderers/_Renderer".split(" "),
function(l,k,h,f,a,c,e,m,d,b){var n={center:"center",left:"flex-start",right:"flex-end"},p={inline:"row",stacked:"column"};return l("mojo.neapolitan.web-renderers.SocialFollowBlock",[b],{outputTplStr:c,constructor:function(){this.verticalTemplate=new h.Template(e);this.horizontalTemplate=new h.Template(m);this.socialItemTemplate=new h.Template(d)},_getBlockTemplate:function(a){switch(a){case "vertical":return this.verticalTemplate;default:return this.horizontalTemplate}},defaultText:{facebookFollow:"Facebook",
twitterFollow:"Twitter",linkedInFollow:"LinkedIn",youTubeFollow:"YouTube",pinterestFollow:"Pinterest",googlePlusFollow:"Google Plus",emailLink:"Email",tumblr:"Tumblr",instagram:"Instagram",snapchat:"Snapchat",githubFollow:"Github",vimeoFollow:"Vimeo",vineFollow:"Vine",mediumFollow:"Medium",redditFollow:"Reddit",flickrFollow:"Flickr",dribbbleFollow:"Dribbble",spotifyFollow:"Spotify",houzzFollow:"Houzz",vkFollow:"VKontakte",rssFollow:"RSS",genericLink:"Website"},_getServiceIconUrl:function(b,c,d,e){var f;
switch(b.type){case "facebookFollow":f="facebook";break;case "twitterFollow":f="twitter";break;case "linkedInFollow":f="linkedin";break;case "youTubeFollow":f="youtube";break;case "pinterestFollow":f="pinterest";break;case "googlePlusFollow":f="googleplus";break;case "emailLink":f="forwardtofriend";break;case "tumblrFollow":f="tumblr";break;case "instagramFollow":f="instagram";break;case "snapchatFollow":f="snapchat";break;case "soundCloudFollow":f="soundcloud";break;case "githubFollow":f="github";
break;case "vimeoFollow":f="vimeo";break;case "vineFollow":f="vine";break;case "mediumFollow":f="medium";break;case "redditFollow":f="reddit";break;case "flickrFollow":f="flickr";break;case "dribbbleFollow":f="dribbble";break;case "spotifyFollow":f="spotify";break;case "houzzFollow":f="houzz";break;case "vkFollow":f="vk";break;case "rssFollow":f="rss";break;default:f="link"}var h="";switch(d){case "outline":h=d+"-"}b.iconUrl=a.addProxy("http://cdn-images.mailchimp.com/icons/social-block-v2/"+h+c+
"-"+f+"-"+("inline"===e?"48":"96")+".png")},_setDefaultText:function(a){if(!a.text){var b=this.defaultText[a.type];a.text=b?b:"Link"}},_setItemMargins:function(a,b,c,d,e){var f=e=0,h=0;if("stacked"===a.itemArrangement)if("vertical"===a.blockLayout)f=b+1<c?this.innerPadding:0;else switch(a.align){case "left":b+1<c&&(e=this.innerPadding);h=this.innerPadding;break;case "right":0<b&&(h=this.innerPadding);e=this.innerPadding;break;default:h=e=this.innerPadding}else if("vertical"===a.blockLayout)f=b+1<
c?this.innerPadding:0;else switch(f=d?this.innerPadding:0,a.align){case "left":e=b+1<c?2*this.innerPadding:this.innerPadding;h=this.innerPadding;break;case "right":h=0<b?2*this.innerPadding:this.innerPadding;e=this.innerPadding;break;default:e=b+1<c?2*this.innerPadding:this.innerPadding,h=this.innerPadding}return"0px  "+e+"px  "+f+"px  "+h+"px"},_getIconMargin:function(a,b,c,d,e,f){var h=d=0,k=0;c&&"stacked"===b&&"vertical"===a&&(h=5,k=d=this.innerPadding,e+1<f&&(h=0));c||("vertical"===a?(h=5,k=d=
this.innerPadding,e+1<f&&(d=k=this.innerPadding)):h=5);return"0px  "+d+"px  "+h+"px  "+k+"px"},_getIconWidth:function(a,b,c){return"stacked"===a?"auto":"horizontal"===b||c&&"vertical"===b?"24px":"42px"},_setupItemTemplate:function(a,b,c,d,e,h,k){b=new f({item:a,itemArrangement:p[b],iconWidth:this._getIconWidth(b,c,d),iconMargin:this._getIconMargin(c,b,d,e,h,k),displayText:d,displayIcon:e,textIconMargin:e&&"inline"===b?"5px":"0px"});a.template=this.socialItemTemplate.render(b)},getOutputModel:function(a){var b=
!0,c=!0;switch(a.display){case "text":c=!1;break;case "icon":b=!1}a.items.forEach(k.hitch(this,function(d,e,f){this._getServiceIconUrl(d,a.iconStyle,a.iconType,a.itemArrangement);this._setDefaultText(d);d.link||(d.link="");d.margins=this._setItemMargins(a,e,f.length,b,c);this._setupItemTemplate(d,a.itemArrangement,a.blockLayout,b,c,e,f.length)}));return{blockHtml:this._getBlockTemplate(a.blockLayout).render(new f({items:a.items,align:n[a.align],adjustableWidth:a.adjustableWidth?"1 1 auto":"0 0 none",
innerPadding:this.innerPadding})),align:n[a.align],innerPadding:this.innerPadding,outerPadding:this.outerPadding}}})})},"mojo/neapolitan/web-renderers/ImageGroupBlock":function(){define(["dojo/_base/declare","../email-renderers/ImageGroupBlock","dojo/_base/array","dojo/_base/lang","dojo/text!../editors/blocks/templates/ImageGroupEditor/outputWeb.html"],function(l,k,h,f,a){return l("mojo.neapolitan.email-renderers.ImageGroupBlock",[k],{outputTplStr:a,getOutputModel:function(a){return{images:this._getImageGroupModel(a)}},
_getImageGroupModel:function(a){var e=[],k=0;h.forEach(a.selectedLayout,f.hitch(this,function(d){for(var b=[],h,l=this._getCalculatedContainerWidth(d,a.containerWidth),q=0;q<d;q++){h=2===d?"0 0 50%":"1";if(a.images[k]&&a.images[k].hasOwnProperty("src")){var r=f.mixin({},a.images[k]);r.calculatedWidth=l;r.calculatedWidth=r.width<l?r.width:l;r.flexStyle=h;b.push(r)}else h="auto",b.push(f.mixin({src:null,calculatedWidth:l,index:k,flexStyle:h}));k++}e.push(b)}));return e},_getCalculatedContainerWidth:function(a,
e){return 2===a?Math.floor(e/2-4*this.outerPadding):Math.floor(e-4*this.outerPadding)}})})},"mojo/neapolitan/web-renderers/PromoCodeBlock":function(){define(["dojo/_base/declare","../email-renderers/_Renderer","./ButtonBlock","mojo/neapolitan/models/Link","dojo/text!../editors/blocks/templates/PromoCodeEditor/outputWeb.html"],function(l,k,h,f,a){return l([k],{outputTplStr:a,buttonRenderer:null,constructor:function(){this.inherited(arguments);this.buttonRenderer=new h},_contentRows:function(a){var e=
[],f=a.align||"center";a.descriptionEnabled&&a.description&&e.push({html:a.description,className:"mcnPromoDescription",styles:"padding-bottom:18px;padding-left:18px;padding-right:18px;text-align:"+f});a.promoCode||(a.promoCode="Promo Code");e.push({html:a.promoCode,className:"mcnPromoCode",styles:"padding-bottom:18px;padding-left:18px;padding-right:18px;word-break:break-all;text-align:"+f});if(a.expirationEnabled){var d=null,d=a.expirationDate?"Expiration date: "+a.expirationDate:"No expiration date";
e.push({html:d,className:"mcnExpirationDate",styles:"padding-bottom:18px;padding-left:18px;padding-right:18px;text-align:"+f})}a.buttonEnabled&&e.push({html:this._buttonMarkup(a),className:"mcnButtonContent"});return e},_buttonMarkup:function(a){a={buttonText:a.buttonText,buttonWidth:a.buttonWidth,link:new f(a.link,a.title)};return this.buttonRenderer.getMarkup(a)},getOutputModel:function(a){return{rows:this._contentRows(a)}}})})},"mojo/neapolitan/web-renderers/SocialShareBlock":function(){define("dojo/_base/declare dojo/_base/lang dojox/dtl dojox/dtl/Context mojo/url dojo/text!../editors/blocks/templates/SocialShareEditor/outputWeb.html ../email-renderers/_Renderer".split(" "),
function(l,k,h,f,a,c,e){var m={center:"center",left:"flex-start",right:"flex-end"};return l("mojo.neapolitan.web-renderers.SocialShareBlock",[e],{outputTplStr:c,defaultText:{facebookShare:"Share",twitterShare:"Tweet",instapaperShare:"Read Later",googlePlusShare:"+1",linkedInShare:"Share",pinterestShare:"Pin"},getOutputModel:function(a){a.items.forEach(k.hitch(this,function(b){this._getServiceIconUrl(b,a.iconStyle,a.iconType);this._buildShareUrl(b,this._getShareUrl(a),this._getDescription(a));this._setDefaultText(b)}));
return{items:a.items,itemArrangement:a.itemArrangement,adjustableWidth:a.adjustableWidth,flexStyle:this._getFlexDirection(a.blockLayout),containerWidth:this._getContainerWidth(a.adjustableWidth),blockAlign:this._getBlockAlign(a.align)}},_getFlexDirection:function(a){switch(a){case "vertical":a="column";break;default:a="row"}return a},_getContainerWidth:function(a){return"100%"===a?"1 1 auto":"0 1 auto"},_getBlockAlign:function(a){return"justify-content: "+m[a]+";"},_getShareUrl:function(a){switch(a.shareContentSource){case "custom":return encodeURIComponent(a.customUrl);
default:return"*|PAGE:URL|*"}},_setDefaultText:function(a){if(!a.text){var b=this.defaultText[a.type];b||(b="Share");a.text=b}},_getDescription:function(a){switch(a.shareContentSource){case "custom":return encodeURIComponent(a.customDescription);default:return"*|PAGE:TITLE|*"}},_buildShareUrl:function(a,b,c){switch(a.type){case "facebookShare":b="http://www.facebook.com/sharer/sharer.php?u\x3d"+b;break;case "twitterShare":b="http://twitter.com/intent/tweet?text\x3d"+(c+": "+b);break;case "linkedInShare":b=
"http://www.linkedin.com/shareArticle?url\x3d"+b+"\x26mini\x3dtrue\x26title\x3d"+c;break;case "pinterestShare":b="https://www.pinterest.com/pin/find/?url\x3d"+b;break;case "googlePlusShare":b="https://plus.google.com/share?url\x3d"+b;break;case "instapaperShare":b="http://www.instapaper.com/hello2?url\x3d"+b+"\x26title\x3d"+c;break;default:b="link"}a.link=b},_getServiceIconUrl:function(c,b,e){var f;switch(c.type){case "facebookShare":f="facebook";break;case "twitterShare":f="twitter";break;case "linkedInShare":f=
"linkedin";break;case "pinterestShare":f="pinterest";break;case "instapaperShare":f="instapaper";break;case "googlePlusShare":f="googleplus";break;default:f="link"}var h="";switch(e){case "solid":h="";break;default:h=e+"-"}c.iconUrl=a.addProxy("http://cdn-images.mailchimp.com/icons/social-block-v2/"+h+b+"-"+f+"-48.png")}})})},"mojo/neapolitan/web-renderers/WebVideoBlock":function(){define(["dojo/_base/declare","../web-renderers/ImageCardBlock","dojo/text!../editors/blocks/templates/WebVideoEditor/outputWeb.html"],
function(l,k,h){return l("mojo.neapolitan.web-renderers.WebVideoBlock",[k],{outputTplStr:h,videoContainerStyles:" position:relative; height:0; overflow:hidden; padding-bottom:",_getVideoContainerStyles:function(f){return f.video&&""!==f.mergeString?this.videoContainerStyles+String(f.video.heightRatio)+"%;":""},_getContentFlex:function(f,a){var c,e;if("top"===a||"bottom"===a)e=c="0 0 auto";else switch(f){case "one-third":c="0 1 30%";e="0 0 70%";break;case "two-third":e="0 0 30%";c="0 1 70%";break;
case "three-quarter":c="0 1 75%";e="0 0 25%";break;default:c="0 1 50%",e="0 0 50%"}return{caption:c,image:e}},getOutputModel:function(f){var a=this._getWidths(f),c=f.caption,e=this._getCardImageContentStyle(this._getImagePadding(f.captionPosition,!0),f.captionWidth,f.captionPosition),h=this._getClassName(f.captionPosition),d=this._getFlexDirection(f.captionPosition);c.image&&(c.image.calculatedWidth=c.image&&c.image.width>a.image?a.image:c.image.width);f.video&&f.video.mergeString||(f.video=null);
f.captionEnabled||(e=this._getCardImageContentStyle(this._getImagePadding("bottom",!0),null,"bottom"),c=null,h=this._getClassName("bottom"),d=this._getFlexDirection("bottom"));return{widths:a,align:f.align,caption:c,innerPadding:this.innerPadding,imageContentClassNames:h,styleFlexDirection:d,totalImagePadding:this._getImagePadding(f.captionPosition,f.edgeToEdge),cardImageContentStyle:e,captionContentStyle:this._getCaptionContentStyle(f.captionWidth,f.captionPosition),video:f.video,videoContainerStyles:this._getVideoContainerStyles(f)}}})})},
"mojo/neapolitan/block-renderers/email/BoxedTextBlock":function(){define(["dojo/_base/declare","./TextBlock","dojo/text!./templates/_boxedTextBlockColumn.html"],function(l,k,h){return l("mojo.neapolitan.block-renderers.email.BoxedTextBlock",[k],{blockClassName:"mcnBoxedTextBlock",innerBlockClassName:"mcnBoxedTextBlockInner",outerBlockClassName:"mcnBoxedTextBlockOuter",columnTplStr:h,boxedCellStyle:"padding: 18px;",_getColumnProps:function(f,a,c){var e="",h="100%";2===f&&(e="mcnBoxedTextContentColumn",
h=a);return{content:c,width:a,tableWidth:h,tableStyle:this._getTableStyle(f,a),cellStyle:this.defaultColumnStyle,boxedCellStyle:this.boxedCellStyle,boxContentColumnClassNames:e}}})})},"mojo/neapolitan/block-renderers/email/TextBlock":function(){define("dojo/_base/declare dojox/dtl dojox/dtl/Context ../TextBlock dojo/text!./templates/TextBlockOutput.html dojo/text!./templates/_textBlockColumn.html".split(" "),function(l,k,h,f,a,c){return l("mojo.neapolitan.block-renderers.email.TextBlock",[f],{outputTplStr:a,
columnTplStr:c,defaultColumnTableStyle:"width: 100%",getOutputModel:function(a){return{textColumns:this._getTextColumns(a),blockClassName:this.blockClassName,innerBlockClassName:this.innerBlockClassName,outerBlockClassName:this.outerBlockClassName,innerBlockStyle:this.innerBlockStyle}},_getTextColumns:function(a){for(var c="number"===typeof a.numberOfColumns?a.numberOfColumns:parseInt(a.numberOfColumns,10),d=a.containerWidth,b="string"===typeof a.content?[a.content]:a.content,f=new k.Template(this.columnTplStr),
l="",q=0;q<c;q++)var r=b[q]?b[q]:"",t=this._getSplitWidth(d,a.splitOption[q]),r=this._getColumnProps(c,t,r),l=l+f.render(new h(r));return l},_getColumnProps:function(a,c,d){return{content:d,width:c,tableStyle:this._getTableStyle(a,c),cellStyle:this.defaultColumnStyle}},_getTableStyle:function(a,c){return 2===a?"width:"+c+"px;":this.defaultColumnTableStyle},_getCellStyle:function(){return this.defaultColumnStyle},_getSplitWidth:function(a,c){return Math.floor(c/100*a)}})})},"mojo/neapolitan/block-renderers/TextBlock":function(){define(["dojo/_base/declare",
"./_BlockRenderer"],function(l,k){return l("mojo.neapolitan.block-renderers.TextBlock",[k],{blockClassName:"mcnTextBlock",outerBlockClassName:"mcnTextBlockOuter",innerBlockClassName:"mcnTextBlockInner",innerBlockStyle:"padding-top:9px;",defaultColumnStyle:"padding:0 18px 9px"})})},"mojo/neapolitan/block-renderers/_BlockRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-construct dojo/dom-class dojo/dom-attr dojo/on mojo/neapolitan/utils dojox/dtl dojox/dtl/Context dojox/dtl/tag/logic dojox/dtl/tag/loop dojox/dtl/filter/lists dojox/dtl/filter/logic dojo/NodeList-dom dojo/NodeList-manipulate".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l("mojo.neapolitan.block-renderers._BlockRenderer",[],{outerPadding:9,innerPadding:9,renderingType:null,outputTplStr:"",getRenderedString:function(a){var b="",b=this.getContent(a.model,a.renderingType);a=f.create("div");f.place(b,a);b=h(a).html();f.destroy(a);return b},getContent:function(a,c){this.renderingType=c;var e;this.template||(this.template=new d.Template(this.outputTplStr));e=this.getOutputModel(k.clone(a));e=k.mixin({outerPadding:this.outerPadding,innerPadding:this.innerPadding},
e);e=f.toDom(k.trim(this.template.render(new b(e))));return this._inlineStyles(e,a.styles)},getOutputModel:function(a){return a},_inlineStyles:function(a,b){b.forEach(function(b){for(var c in b.props)if(b.props.hasOwnProperty(c)){var d=b.props[c].value;if(d&&""!==d){var e=b.props[c].selector||b.selector;"mcBlockContainer"===e?h(a).style(m.dashToCamel(c),d):h(e,a).style(m.dashToCamel(c),d)}}});return a}})})},"mojo/neapolitan/block-renderers/web/BoxedTextBlock":function(){define(["dojo/_base/declare",
"./TextBlock"],function(l,k){return l("mojo.neapolitan.block-renderers.web.BoxedTextBlock",[k],{blockClassName:"mcnBoxedTextBlock",innerBlockClassName:"mcnBoxedTextBlockInner",columnContainerClassNames:"mcnBoxedTextBlockColumn",columnContentClassNames:"mcnTextContentContainer mcnTextContent",defaultColumnContainerStyle:"width:100%; padding: 0px 18px 9px; ",defaultColumnStyle:"width: 100%; padding: 18px;",_getContainerStyle:function(h,f){var a=this.defaultColumnContainerStyle;2===h&&(a+=this._getFlexStyle(f));
return a}})})},"mojo/neapolitan/block-renderers/web/TextBlock":function(){define("dojo/_base/declare dojox/dtl dojox/dtl/Context ../TextBlock dojo/text!./templates/TextBlockOutput.html dojo/text!./templates/_textBlockColumn.html".split(" "),function(l,k,h,f,a,c){return l("mojo.neapolitan.block-renderers.web.TextBlock",[f],{outputTplStr:a,columTplStr:c,defaultColumnContainerStyle:"width:100%;",innerBlockStyle:"display:flex; padding-top:9px;",columnContainerClassNames:"",columnContentClassNames:"mcnTextContent",
getOutputModel:function(a){for(var c="number"===typeof a.numberOfColumns?a.numberOfColumns:parseInt(a.numberOfColumns,10),d="string"===typeof a.content?[a.content]:a.content,b=new k.Template(this.columTplStr),f="",l=0;l<c;l++)var q=d[l]?d[l]:"",f=f+b.render(new h({containerStyle:this._getContainerStyle(c,a.splitOption[l]),itemStyle:this.defaultColumnStyle,content:q,columnContainerClassNames:this.columnContainerClassNames,columnContentClassNames:this.columnContentClassNames}));return{textColumns:f,
blockClassName:this.blockClassName,innerBlockClassNames:this.innerBlockClassName,innerBlockStyle:this.innerBlockStyle}},_getContainerStyle:function(a,c){return 2===a?this._getFlexStyle(c):this.defaultColumnContainerStyle},_getFlexStyle:function(a){var c="flex: ";switch(a){case 65:c+="2 0 0;";break;case 35:c+="1 0 0;";break;default:c+="1 1 0;"}return c}})})},"mojo/neapolitan/block-renderers/email/ButtonBlock":function(){define("dojo/_base/declare dojox/dtl dojox/dtl/Context ../ButtonBlock dojo/text!./templates/ButtonBlockOutput.html dojo/text!../common/templates/partials/ButtonContentOutput.html".split(" "),
function(l,k,h,f,a,c){return l("mojo.neapolitan.block-renderers.ButtonBlock",[f],{outputTplStr:a,contentTplStr:c,getOutputModel:function(a){return{blockClassName:this.blockClassName,outerBlockClassName:this.outerBlockClassName,innerBlockClassName:this.innerBlockClassName,contentContainerClassName:this.contentContainerClassName,contentClassName:this.contentClassName,totalPadding:2*this.outerPadding,blockStyle:"min-width:100%;",innerBlockStyle:"padding:0 18px 18px 18px;",contentContainerStyle:"border-collapse:separate !important;",
buttonContent:this.getButtonContent(a),align:a.align,buttonWidth:a.buttonWidth}},getButtonContent:function(a){var c=new k.Template(this.contentTplStr);a=this.getContentProps(a);return c.render(new h(a))},getContentProps:function(a){return{contentClasses:this.getContentClasses(a),contentStyle:this.contentStyle,target:a.link&&a.link.attrs.target?a.link.attrs.target:"_blank",href:a.link?a.link.href:"#",title:a.link&&a.link.attrs.title?a.link.attrs.title:a.buttonText,buttonText:a.buttonText}},getContentClasses:function(a){return this.buttonClassName+
" "+(a.link?a.link.attrs["class"]:"")}})})},"mojo/neapolitan/block-renderers/ButtonBlock":function(){define(["dojo/_base/declare","./_BlockRenderer"],function(l,k){return l("mojo.neapolitan.block-renderers.ButtonBlock",[k],{blockClassName:"mcnButtonBlock",outerBlockClassName:"mcnButtonBlockOuter",innerBlockClassName:"mcnButtonBlockInner",contentContainerClassName:"mcnButtonContentContainer",contentClassName:"mcnButtonContent",buttonClassName:"mcnButton",contentStyle:"font-weight:bold; letter-spacing:-.5px; line-height:100%; text-align:center; text-decoration: none;"})})},
"mojo/neapolitan/block-renderers/web/ButtonBlock":function(){define("dojo/_base/declare dojox/dtl dojox/dtl/Context ../ButtonBlock dojo/text!./templates/ButtonBlockOutput.html dojo/text!../common/templates/partials/ButtonContentOutput.html".split(" "),function(l,k,h,f,a,c){var e={center:"center",left:"flex-start",right:"flex-end"};return l("mojo.neapolitan.block-renderers.ButtonBlock",[f],{outputTplStr:a,contentTplStr:c,getOutputModel:function(a){return{blockClassName:this.blockClassName,innerBlockClassName:this.innerBlockClassName,
totalPadding:2*this.outerPadding,blockStyle:"display: flex; padding:0 18px 18px 18px;",align:e[a.align||"center"],buttonWidth:a.buttonWidth,buttonContent:this.getButtonContent(a)}},getButtonContent:function(a){var c=new k.Template(this.contentTplStr);a=this.getContentProps(a);return c.render(new h(a))},getContentProps:function(a){return{contentClasses:this.getContentClasses(a),contentStyle:this.contentStyle,buttonText:a.buttonText,target:a.link&&a.link.attrs.target?a.link.attrs.target:"_blank",href:a.link?
a.link.href:"#",title:a.link&&a.link.attrs.title?a.link.attrs.title:a.buttonText}},getContentClasses:function(a){return this.buttonClassName+" "+this.contentContainerClassName+" "+(a.link?a.link.attrs["class"]:"")}})})},"mojo/neapolitan/models/blocks/BoxedText":function(){define(["dojo/_base/declare","./Text"],function(l,k){return l([k],{type:"boxedText",_name:"Boxed Text",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-boxed-text-content-blocks",_description:"Highlight a block of text.",
_defaultText:"This is a Boxed Text block. Use a contrasting background to draw attention to this content.",constructor:function(){this.styles=[{name:"Text style",selector:".mcnTextContent, .mcnTextContent p",props:{color:{value:"#F2F2F2"},"font-family":{value:"Helvetica"},"font-size":{value:"14px"},"font-style":{value:""},"font-weight":{value:"normal"},"line-height":{value:""},"text-align":{value:"center"}}},{name:"Container style",selector:".mcnTextContentContainer",props:{"background-color":{value:"#404040"},
border:{value:""}}}]}})})},"mojo/neapolitan/models/blocks/Divider":function(){define(["dojo/_base/declare","./_Block"],function(l,k){return l([k],{type:"divider",_name:"Divider",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-divider-content-blocks",_description:"Visually separate your content.",constructor:function(){this.styles=[{name:"Divider style",selector:".mcnDividerBlockInner",props:{"padding-top":{value:"18px"},"padding-bottom":{value:"18px"},"border-top":{value:"2px solid #EAEAEA",
selector:".mcnDividerContent"},"background-color":{selector:"mcBlockContainer"}}}]}})})},"mojo/neapolitan/models/blocks/Image":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","mojo/api/brand-assets","./_Block"],function(l,k,h,f,a){return l([a],{type:"image",_name:"Image",_description:"Drop an image into your template.",_renderMergeTags:!0,constructor:function(){this.image=null;this.edgeToEdge=!1;this.align="center"},onImageUpload:function(a){this.set("image",k.mixin(k.mixin({},
this.image),a));this.save()},onLinkUpdate:function(a,e,f){return this.image&&this.image.link&&this.image.link.href===a?(this.image.link.href=e,this.save()):this.inherited(arguments)},_setupMergeListeners:function(a){a.brandUpdateSubscription=h.subscribe(f.TOPIC_CHANGES,a.refresh.bind(a))},_teardownMergeListeners:function(a){a.brandUpdateSubscription&&a.brandUpdateSubscription.remove()}})})},"mojo/neapolitan/models/blocks/ImageGroup":function(){define(["dojo/_base/declare","dojo/_base/lang","./_Block"],
function(l,k,h){return l([h],{type:"imageGroup",_name:"Image Group",_description:"Arrange a collection of images.",constructor:function(){this.images=[null,null];this.selectedLayout=[2]},onImageUpload:function(f,a){var c=k.clone(this.images);c[a]=f;this.set("images",c);this.save()},onLinkUpdate:function(f,a,c){return this.images&&this.images[c]&&this.images[c].link&&this.images[c].link.href===f?(this.images[c].link.href=a,this.images[c].link.text&&this.images[c].link.text===f&&(this.images[c].link.href=
a),this.save()):this.inherited(arguments)}})})},"mojo/neapolitan/models/blocks/ImageCard":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-construct dojo/dom-attr dojo/_base/array mojo/utils ./_Block".split(" "),function(l,k,h,f,a,c,e,m){return l([m],{type:"imageCard",_name:"Image Card",_description:"Build a card with an image and caption.",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-image-card-content-blocks",_defaultCaption:"Input caption text here. Use the block's Settings tab to change the caption position and set other styles.",
constructor:function(){this.caption={text:this._defaultCaption,image:null};this.captionPosition="bottom";this.captionWidth="two-third";this.edgeToEdge=!0;this.align="left";this.styles=[{name:"Text style",selector:".mcnTextContent, .mcnTextContent p",props:{color:{value:"#F2F2F2"},"font-family":{value:"Helvetica"},"font-size":{value:"14px"},"font-style":{value:""},"font-weight":{value:"normal"},"line-height":{value:""},"text-align":{value:"center"}}},{name:"Card",selector:".mcnImageCardRightContentInner, .mcnImageCardLeftContentInner, .mcnImageCardBottomContent, .mcnImageCardTopContent",
props:{"background-color":{value:"#404040"},border:{value:""}}}]},onImageUpload:function(a){var b=this.caption;b.image=a;this.set("caption",b);this.save()},onLinkUpdate:function(c,b,e){var k=this.getContent(),l=h("a",k)[e];if(l&&a.get(l,"href")==c&&("left"==this.captionPosition||"right"==this.captionPosition?this._handleHorizontalLinkUpdate(c,b,l,k):this._handleVerticalLinkUpdate(c,b,l,k)))return f.destroy(k),this.save();f.destroy(k);return this.inherited(arguments)},_handleHorizontalLinkUpdate:function(a,
b,f){var k=".mcnImageCard"+e.capitalize(this.captionPosition)+"TextContentContainer",l=".mcnImageCard"+e.capitalize(this.captionPosition)+"ImageContentContainer";if(h(f).parents(l)[0])return this._updateImageUrl(a,b);k=h(f).parents(k)[0];f=c.indexOf(h("a",k),f);return this._updateContentUrl(f,a,b)},_handleVerticalLinkUpdate:function(a,b,f){var k=".mcnImageCard"+e.capitalize(this.captionPosition)+"ImageContent";if(h(f).parent(k)[0])return this._updateImageUrl(a,b);k=h(f).parents(".mcnTextContent")[0];
f=c.indexOf(h("a",k),f);return this._updateContentUrl(f,a,b)},_updateImageUrl:function(a,b){return this.caption&&this.caption.image&&this.caption.image.link&&this.caption.image.link.href==a?(this.caption.image.link.href=b,this.caption.image.link.text==a&&(this.caption.image.link.text=b),!0):!1},_updateContentUrl:function(c,b,e){b=f.create("div");var k=f.toDom(this.caption.text);f.place(k,b);a.set(h("a",b)[c],"href",e);this.caption.text=h(b).html();f.destroy(b);return!0}})})},"mojo/neapolitan/models/blocks/ImageCaption":function(){define("dojo/_base/declare dojo/dom-attr dojo/query dojo/dom-construct dojo/_base/array mojo/utils ./_Block".split(" "),
function(l,k,h,f,a,c,e){return l([e],{type:"imageCaption",_name:"Image + Caption",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-image-caption-content-blocks",_description:"Add an image with a descriptive caption.",_label:"Image + Caption",_defaultCaption:"Input caption text here. Use the block's Settings tab to change the caption position and set other styles.",constructor:function(){this.captions=[{text:this._defaultCaption,image:null}];this.selectedCaption=0;this.captionPosition=
"bottom";this.captionWidth="half";this.numberOfCaptions="1";this.align="center";this.styles=[{name:"Text style",selector:".mcnTextContent, .mcnTextContent p",props:{color:{value:""},"font-family":{value:""},"font-size":{value:""},"font-style":{value:""},"font-weight":{value:""},"line-height":{value:""},"text-align":{value:""}}}]},getSelectedCaption:function(){return this._getCaption(this.selectedCaption)},setSelectedCaption:function(a){this._setCaption(this.selectedCaption,a)},setUpCaptions:function(){var a=
Number(this.numberOfCaptions);if(a<this.captions.length)for(var c=this.captions.length;c>a;c--)delete this.captions[c-1];for(c=0;c<a;c++){var b=this.captions[c];b||(b={image:null,text:this._defaultCaption},this.captions[c]=b)}},_getCaption:function(a){var c=this.captions;c[a]||(c[a]={text:this._defaultCaption,image:null},this.set("captions",c));return c[a]},_setCaption:function(a,c){var b=this.captions;b[a]=c;this.set("captions",b)},onImageUpload:function(a,c){var b=this._getCaption(c);b.image=a;
this._setCaption(c,b);this.save()},onLinkUpdate:function(a,c,b){var e=this.getContent(),l=h("a",e)[b];if(l&&k.get(l,"href")==a&&("left"==this.captionPosition||"right"==this.captionPosition?this._handleHorizontalLinkUpdate(a,c,l,e):this._handleVerticalLinkUpdate(a,c,l,e)))return f.destroy(e),this.save();f.destroy(e);return this.inherited(arguments)},_handleHorizontalLinkUpdate:function(e,d,b,f){var k=".mcnCaption"+c.capitalize(this.captionPosition)+"TextContentContainer",l=".mcnCaption"+c.capitalize(this.captionPosition)+
"ImageContentContainer",r=h(l,f);f=h(k,f);if(l=h(b).parents(l)[0])return f=a.indexOf(r,l),this._updateImageUrl(f,e,d);k=h(b).parents(k)[0];b=a.indexOf(h("a",k),b);f=a.indexOf(f,k);return this._updateContentUrl(f,b,e,d)},_handleVerticalLinkUpdate:function(e,d,b,f){var k=".mcnCaption"+c.capitalize(this.captionPosition)+"Content",l=".mcnCaption"+c.capitalize(this.captionPosition)+"ImageContent";f=h(k,f);k=h(b).parents(k)[0];k=a.indexOf(f,k);if(h(b).parent(l)[0])return this._updateImageUrl(k,e,d);l=h(b).parents(".mcnTextContent")[0];
b=a.indexOf(h("a",l),b);return this._updateContentUrl(k,b,e,d)},_updateImageUrl:function(a,c,b){return(a=this.captions[a])&&a.image&&a.image.link&&a.image.link.href==c?(a.image.link.href=b,a.image.link.text==c&&(a.image.link.text=b),!0):!1},_updateContentUrl:function(a,c,b,e){a=this.captions[a];b=f.create("div");var l=f.toDom(a.text);f.place(l,b);k.set(h("a",b)[c],"href",e);a.text=h(b).html();f.destroy(b);return!0}})})},"mojo/neapolitan/models/blocks/SocialShare":function(){define(["dojo/_base/declare",
"./_Block"],function(l,k){return l([k],{type:"socialShare",_name:"Social Share",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-social-share-content-blocks",_description:"Encourage your audience to share your content.",constructor:function(){this.blockLayout="horizontal";this.itemArrangement="inline";this.iconStyle="dark";this.iconType="outline";this.align="center";this.shareContentSource="campaign";this.customDescription=this.customUrl="";this.adjustableWidth="100%";this.items=[];this.styles=
[{name:"Container styles",selector:".mcnShareContent",props:{"background-color":{value:""},border:{value:""}}},{name:"Button style",selector:".mcnShareContentItem",props:{"background-color":{value:""},border:{value:""},"border-radius":{value:"3px"}}},{name:"Text style",selector:".mcnShareTextContent a",props:{color:{value:"#202020"},"font-family":{value:"Arial"},"font-size":{value:"12px"},"font-weight":{value:"normal"},"line-height":{value:"normal"},"text-align":{value:"center"},"text-decoration":{value:"none"}}}]},
postscript:function(h){this.inherited(arguments);if(!this.items.length){var f=[{type:"facebookShare"},{type:"twitterShare"}];"page"!==this._campaignRenderingType&&f.push({type:"forwardToFriend"});this.items=f}}})})},"mojo/neapolitan/models/blocks/SocialFollow":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-construct","dojo/_base/array","./_Block"],function(l,k,h,f,a){return l([a],{type:"socialFollow",_name:"Social Follow",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-social-follow-content-blocks",
_description:"Promote your social media accounts.",constructor:function(){this.blockLayout="horizontal";this.itemArrangement="inline";this.iconStyle="color";this.iconType="solid";this.display="icon";this.align="center";this.adjustableWidth="100%";this.items=[];this.styles=[{name:"Container style",selector:".mcnFollowContent",props:{"background-color":{value:""},border:{value:""}}},{name:"Text style",selector:".mcnFollowTextContent a",props:{color:{value:"#202020"},"font-family":{value:"Arial"},"font-size":{value:"11px"},
"font-weight":{value:"normal"},"text-decoration":{value:"none"}}}]},postscript:function(a){this.inherited(arguments);this.items.length||(this.items=[{type:"facebookFollow"},{type:"twitterFollow"},{type:"genericLink"}])},onLinkUpdate:function(a,e,h){var d=this.getContent(),b=k("a",d)[h];if(b){var l=k(b).parents(".mcnFollowIconContent")[0],p=null;l?(d=k(".mcnFollowIconContent",d),p=f.indexOf(d,l)):k(b).parents(".mcnFollowTextContent")[0]&&(d=k(".mcnFollowTextContent",d),p=f.indexOf(d,l));if(0<=p&&this.items[p]&&
this.items[p].link==a)return this.items[p].link=e,this.save()}return this.inherited(arguments)}})})},"mojo/neapolitan/models/blocks/Button":function(){define(["dojo/_base/declare","./_Block","./_ButtonMixin"],function(l,k,h){return l([k,h],{type:"button",_name:"Button",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-button-content-blocks",_description:"Create a prominent call to action.",constructor:function(f){this.buttonText="Buy Now";this.align="center";this.buttonWidth="";this.styles=
this._getButtonStyles(f._campaignRenderingType)},onLinkUpdate:function(f,a,c){return this.link&&this.link.href===f?(this.link.href=a,this.save()):this.inherited(arguments)}})})},"mojo/neapolitan/models/blocks/_ButtonMixin":function(){define(["dojo/_base/declare"],function(l,k){return l(null,{_getButtonStyles:function(h){return"page"===h?[{name:"Button style",selector:".mcnButtonContentContainer",props:{border:{value:""},"border-radius":{value:"3px"},"background-color":{value:"#2BAADF"},padding:{value:"15px"}}},
{name:"Button text style",selector:".mcnButton",props:{color:{value:"#FFFFFF",selector:".mcnButton"},"font-family":{value:"Arial"},"font-size":{value:"16px"},"font-weight":{value:"bold"},"letter-spacing":{value:"normal"}}}]:[{name:"Button style",selector:".mcnButtonContentContainer",props:{border:{value:""},"border-radius":{value:"3px"},"background-color":{value:"#2BAADF"}}},{name:"Button text style",selector:".mcnButtonContent",props:{color:{value:"#FFFFFF",selector:".mcnButtonContent .mcnButton"},
"font-family":{value:"Arial"},"font-size":{value:"16px"},"font-weight":{value:"bold",selector:".mcnButtonContent .mcnButton"},"letter-spacing":{value:"normal",selector:".mcnButtonContent .mcnButton"},padding:{value:"15px"}}}]}})})},"mojo/neapolitan/models/blocks/Footer":function(){define(["dojo/_base/declare","./Text","dojo/text!../../editors/blocks/templates/FooterEditor/footerContent.html"],function(l,k,h){return l([k],{type:"footer",_name:"Footer",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-footer-content-blocks",
_description:"Insert your contact information and required unsubscribe link.",_defaultText:h})})},"mojo/neapolitan/models/blocks/Code":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-construct","dojo/dom-attr","./_Block"],function(l,k,h,f,a){return l([a],{type:"code",_name:"Code",_description:"Use your own custom HTML.",constructor:function(){this.html='\x3cdiv class\x3d"mcnTextContent"\x3eUse your own custom HTML\x3c/div\x3e'},onLinkUpdate:function(a,e,l){var d=h.create("div");h.place(this.html,
d,"only");var b=k("a",d)[l];return b&&f.get(b,"href")==a?(b.href=e,this.html=d.innerHTML,this.save()):this.inherited(arguments)}})})},"mojo/neapolitan/models/blocks/RssHeader":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-attr","dojo/query","./_Block"],function(l,k,h,f,a){return l([a],{type:"rssHeader",_name:"RSS Header",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-rss-header-content-blocks",_description:"Display your blog's title, description and more.",
_campaignType:"rss",constructor:function(){this.customContent=null;this.selectedPreset="basic";this.styles=[{name:"Type",selector:".mcnTextContent, .mcnTextContentLeft, .mcnTextContentRight",props:"color font-family font-size font-weight line-height text-align".split(" ")}]},onLinkUpdate:function(a,e,l){if("custom"==this.selectedPreset){var d=k.create("div"),b=k.toDom(this.customContent);k.place(b,d);if((b=f("a",d)[l])&&h.get(b,"href")==a)return h.set(b,"href",e),this.customContent=d.innerHTML,k.destroy(d),
this.save()}k.destroy(d);return this.inherited(arguments)},canLinkUpdate:function(){return"custom"==this.selectedPreset}})})},"mojo/neapolitan/models/blocks/RssItems":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-construct","dojo/query","./_Block"],function(l,k,h,f,a){return l([a],{type:"rssItems",_name:"RSS Items",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-rss-items-content-blocks",_description:"Display posts from your blog.",_campaignType:"rss",constructor:function(){this.customContent=
null;this.selectedPreset="excerpts";this.styles=[{name:"Type",selector:".mcnTextContent, .mcnTextContentLeft, .mcnTextContentRight",props:"color font-family font-size font-weight line-height text-align".split(" ")}]},onLinkUpdate:function(a,e,l){if("custom"==this.selectedPreset){var d=h.create("div"),b=h.toDom(this.customContent);h.place(b,d);if((b=f("a",d)[l])&&k.get(b,"href")==a)return k.set(b,"href",e),this.customContent=d.innerHTML,h.destroy(d),this.save();h.destroy(d)}return this.inherited(arguments)},
canLinkUpdate:function(){return"custom"==this.selectedPreset}})})},"mojo/neapolitan/models/blocks/Video":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","./ImageCard"],function(l,k,h,f){return l([f],{type:"video",_name:"Video",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-video-content-blocks",_description:"Add a video.",_imageUploaderType:"video",constructor:function(){this.inherited(arguments);this.video={url:"",image:null,service:null}},createVideoThumbnail:function(a){var c=
new h;this._endpoint.makeVideoThumbnail(a).then(k.hitch(this,function(a){c.resolve(a)}));return c.promise}})})},"mojo/neapolitan/models/blocks/Api":function(){define(["dojo/_base/declare","dojo/query","dojo/dom-construct","dojo/dom-attr","./_Block"],function(l,k,h,f,a){return l([a],{type:"api",_name:"Api",_description:"",_visible:!1,editable:!0,clientName:null,clientLogo:null,constructor:function(){this.html='\x3cdiv class\x3d"mcnTextContent"\x3e\x3c/div\x3e'},onLinkUpdate:function(a,e,l){var d=h.create("div");
h.place(this.html,d,"only");var b=k("a",d)[l];return b&&f.get(b,"href")==a?(b.href=e,this.html=d.innerHTML,this.save()):this.inherited(arguments)}})})},"mojo/neapolitan/models/blocks/ProductRec":function(){define(["dojo/_base/declare","./_Block"],function(l,k){return l([k],{type:"productRec",_name:"Product Rec",_description:"Show personalized product recommendations.",_ecommOnly:!0,_editingTypes:["campaign","page"],_paidOnly:!1,_renderMergeTags:!0,constructor:function(){this.styles=[{name:"Product title",
selector:".mcnProductTitle",props:{color:{value:"#202020"},"font-family":{value:"Helvetica"},"font-size":{value:"16px"},"font-style":{value:"normal"},"font-weight":{value:"bold"},"line-height":{value:"100%"},"text-align":{value:"left"}}},{name:"Product price",selector:".mcnProductPrice",props:{color:{value:""},"font-family":{value:"Helvetica"},"font-size":{value:"14px"},"font-style":{value:"normal"},"font-weight":{value:"normal"},"line-height":{value:"100%"},"text-align":{value:"left"}}},{name:"Button style",
selector:".mcnButtonContentContainer",props:{border:{value:""},"border-radius":{value:"3px"},"background-color":{value:"#2BAADF"}}},{name:"Button text style",selector:".mcnButtonContent",props:{color:{value:"#FFFFFF",selector:".mcnButtonContent .mcnButton"},"font-family":{value:"Helvetica"},"font-size":{value:"16px"},"font-weight":{value:"bold",selector:".mcnButtonContent .mcnButton"},"letter-spacing":{value:"normal",selector:".mcnButtonContent .mcnButton"},padding:{value:"15px"}}}];this.layout="vertical";
this.numProducts=2;this.startIndex=0;this.storeId=null;this.buttonText="View";this.buttonWidth="100%";this.buttonAlign="center";this.buttonLinkType="product";this.buttonEnabled=this.priceEnabled=this.titleEnabled=!0}})})},"mojo/neapolitan/models/blocks/Product":function(){define("dojo/_base/declare dojo/_base/lang mojo/url mojo/widgets/ecommerce/ProductPicker ./_Block ./_ButtonMixin mojo/lib/flags mojo/user".split(" "),function(l,k,h,f,a,c,e,m){var d=l(null,{id:null,buttonLinkType:"product",title:"",
imageUrl:"",addToCartUrl:"",productUrl:"",buttonEnabled:!0,buttonText:"View",descriptionEnabled:!1,description:"",constructor:function(a){k.mixin(this,a);this.imageUrl&&(this.imageUrl=h.addProxy(this.imageUrl))},getButtonLinkUrl:function(){var a;this.buttonLinkType&&"cart"===this.buttonLinkType&&(a=this.addToCartUrl);a||(a=this.productUrl);return a},hasValidCartUrl:function(){return this.addToCartUrl&&this.addToCartUrl!==this.productUrl}});return l([a,c],{type:"product",_name:"Product",_description:"Promote products from your store.",
_ecommOnly:!0,_editingTypes:["campaign","page"],constructor:function(a){this.styles=[{name:"Product title",selector:".mcnProductTitle",props:{color:{value:"#202020"},"font-family":{value:"Helvetica"},"font-size":{value:"16px"},"font-style":{value:"normal"},"font-weight":{value:"bold"},"line-height":{value:"100%"},"text-align":{value:"left"}}},{name:"Product price",selector:".mcnProductPrice",props:{color:{value:""},"font-family":{value:"Helvetica"},"font-size":{value:"14px"},"font-style":{value:"normal"},
"font-weight":{value:"normal"},"line-height":{value:"100%"},"text-align":{value:"left"}}}].concat(this._getButtonStyles(a._campaignRenderingType));this.layout="vertical";this.products=[];this.buttonWidth="100%";this.buttonAlign="center"},postscript:function(){this.inherited(arguments);this.products=this.products.map(function(a){return new d(a)})},addProduct:function(){var a=this;return f.chooseProduct().then(function(c){c.forEach(function(c){a.products.push(a._createNewProduct(c));a.updateProducts()});
a.save()})},addProductFromStore:function(a){var c=this;return f.chooseProductFromStore(a).then(function(a){a.forEach(function(a){c.products.push(c._createNewProduct(a));c.updateProducts()});c.save()})},replaceProduct:function(a){var c=this;return f.chooseProduct().then(function(d){var e=d[0];e&&(d=c.products[a],e=c._createNewProduct(e),d&&(e.description=d.description,e.buttonText=d.buttonText),c.products[a]=e,c.updateProducts(),c.save())})},addTopSellersFromStore:function(a){var c=this;return f.chooseTopSellersFromStore(a||
this.storeId).then(function(a){a=a.slice(0,4).map(function(a){return c._createNewProduct(a)});c.set("products",a);c.save()})},removeProductByIndex:function(a){this.products[a]&&(this.products.splice(a,1),this.updateProducts(),this.save())},hasMaxProducts:function(){return 4<=this.products.length},updateProducts:function(){this.set("products",this.products)},_createNewProduct:function(a){return new d({id:a.product_id,title:a.title,price:a.price,imageUrl:a.image_url,productUrl:a.product_url,addToCartUrl:a.add_to_cart_url})}})})},
"mojo/neapolitan/models/blocks/AbandonedCart":function(){define(["dojo/_base/declare","./_Block"],function(l,k){return l([k],{type:"abandonedCart",_name:"Cart",_description:"Remind customers about items left in their cart.",_ecommOnly:!0,_campaignType:"abandonedCart",_renderMergeTags:!0,constructor:function(){this.styles=[{name:"Product title",selector:".mcnProductTitle",props:{color:{value:"#202020"},"font-family":{value:"Helvetica"},"font-size":{value:"20px"},"font-style":{value:"normal"},"font-weight":{value:"bold"},
"line-height":{value:"125%"},"text-align":{value:"left"}}},{name:"Product price",selector:".mcnProductPrice",props:{color:{value:"#202020"},"font-family":{value:"Helvetica"},"font-size":{value:"16px"},"font-style":{value:"normal"},"font-weight":{value:"normal"},"line-height":{value:"150%"},"text-align":{value:"left"}}}];this.numProducts=3;this.priceEnabled=!0}})})},"mojo/neapolitan/models/blocks/AbandonedBrowse":function(){define(["dojo/_base/declare","./_Block"],function(l,k){return l([k],{type:"abandonedBrowse",
_name:"Retargeting",_description:"Remind visitors about items they viewed on your site.",_ecommOnly:!0,_campaignType:"abandonedBrowse",_renderMergeTags:!0,constructor:function(){this.styles=[{name:"Product title",selector:".mcnProductTitle",props:{color:{value:"#202020"},"font-family":{value:"Helvetica"},"font-size":{value:"20px"},"font-style":{value:"normal"},"font-weight":{value:"bold"},"line-height":{value:"125%"},"text-align":{value:"left"}}},{name:"Product price",selector:".mcnProductPrice",
props:{color:{value:"#202020"},"font-family":{value:"Helvetica"},"font-size":{value:"16px"},"font-style":{value:"normal"},"font-weight":{value:"normal"},"line-height":{value:"150%"},"text-align":{value:"left"}}},{name:"Button style",selector:".mcnButtonContentContainer",props:{border:{value:""},"border-radius":{value:"3px"},"background-color":{value:"#2BAADF"}}},{name:"Button text style",selector:".mcnButtonContent",props:{color:{value:"#FFFFFF",selector:".mcnButtonContent .mcnButton"},"font-family":{value:"Helvetica"},
"font-size":{value:"16px"},"font-weight":{value:"bold",selector:".mcnButtonContent .mcnButton"},"letter-spacing":{value:"normal",selector:".mcnButtonContent .mcnButton"},padding:{value:"15px"}}}];this.numProducts=1;this.buttonText="View";this.buttonWidth="100%";this.buttonAlign="center";this.buttonLinkType="product";this.buttonEnabled=this.priceEnabled=!0}})})},"mojo/neapolitan/models/blocks/PromoCode":function(){define(["dojo/_base/declare","./_Block","./_ButtonMixin"],function(l,k,h){return l([k,
h],{type:"promoCode",_name:"Promo Code",_description:"Offer a promo code to your customers.",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-promo-code-content-blocks",_ecommOnly:!0,_editingTypes:["campaign","page"],_requiresPlatform:!0,_paidOnly:!1,_renderMergeTags:!0,constructor:function(f){this.styles=[{name:"Container style",selector:".mcnPromoCodeContentContainer",props:{"background-color":{value:"#EFEFEF"},"background-image":{value:""},"background-size":{value:""},"background-position":{value:""},
"background-repeat":{value:"no-repeat"},border:{value:"1px solid #999999"}}},{name:"Promo code",selector:".mcnPromoCode",props:{color:{value:"#555555"},"font-family":{value:"Helvetica"},"font-size":{value:"48px"},"font-style":{value:"normal"},"font-weight":{value:"bold"}}},{name:"Expiration date",selector:".mcnExpirationDate",props:{color:{value:"#555555"},"font-family":{value:"Helvetica"},"font-size":{value:"14px"},"font-style":{value:"normal"},"font-weight":{value:"normal"}}}].concat(this._getButtonStyles(f._campaignRenderingType));
this.expirationDate=this.mergeTag=this.promoId=this.promoCode=null;this.expirationEnabled=!0;this.align="center";this.buttonText="Shop Now";this.buttonWidth="";this.buttonEnabled=!0;this.link="";this.descriptionEnabled=!1;this.description=null},updatePromoCode:function(f,a,c,e){this.promoId=f;this.promoCode=a;this.expirationDate=c;this.mergeTag=e;this.refreshPromos()},refreshPromos:function(){this.set("promoCode",this.promoCode);this.save()},toggleDescription:function(){this.descriptionEnabled=!this.descriptionEnabled;
this.refreshPromos()},toggleExpiration:function(){this.expirationEnabled=!this.expirationEnabled;this.refreshPromos()},toggleButton:function(){this.buttonEnabled=!this.buttonEnabled;this.refreshPromos()},updateAlignment:function(f){this.align=f;this.refreshPromos()}})})},"mojo/neapolitan/models/blocks/SignUpForm":function(){define(["dojo/_base/declare","dojo/topic","./_Block"],function(l,k,h){return l([h],{type:"signUpForm",_campaignType:"page",_name:"Signup Form",_blockEditorControls:["sort","edit",
"delete"],_description:"Collect subscribers through a signup form.",_renderMergeTags:!0,mergeTag:"*|PAGE:SIGNUP_FORM|*",_kbLink:"https://kb.mailchimp.com/campaigns/landing-pages/use-signup-form-blocks",_setupMergeListeners:function(f){f.formConfigUpdate=k.subscribe("neapolitan/preview/pages/form/config/update",f.refresh.bind(f))},_teardownMergeListeners:function(f){f.formConfigUpdate&&f.formConfigUpdate.remove()}})})},"mojo/neapolitan/models/blocks/WebVideo":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/Deferred","./ImageCard"],function(l,k,h,f){return l([f],{type:"webVideo",_name:"Video",_kbLink:"http://kb.mailchimp.com/campaigns/content-blocks/use-video-content-blocks",_description:"Add a video.",_campaignType:"page",_renderMergeTags:"true",mergeTag:"WEB_VIDEO",_imageUploaderType:"video",captionEnabled:!1,constructor:function(){this.caption={text:this._defaultCaption,image:null};this.captionPosition="bottom";this.captionWidth="two-third";this.styles=[{name:"Block",selector:".mcnImageCardRightContentInner, .mcnImageCardLeftContentInner, .mcnImageCardBottomContent, .mcnImageCardTopContent",
props:{width:{editorInputType:"percentage",label:"Width",selector:".mcnVideoContainer",value:"100%"},border:{value:""}}},{name:"Caption style",selector:".mcnTextContent, .mcnTextContent p",props:{"background-color":{selector:".mcnImageCardRightContentInner, .mcnImageCardLeftContentInner, .mcnImageCardBottomContent, .mcnImageCardTopContent",value:"#404040"},color:{value:"#F2F2F2"},"font-family":{value:"Helvetica"},"font-size":{value:"14px"},"font-style":{value:""},"font-weight":{value:"normal"},"line-height":{value:""},
"text-align":{value:"center"}}}];this.video={url:"",image:null,service:null,mergeTag:this.mergeTag,mergeString:""}},postscript:function(a,c){var e;a.styles&&a.styles[0]&&a.styles[0].props&&a.styles[0].props.flex&&(e=a.styles[0].props.flex.value.substring(4),delete a.styles[0].props.flex);var f;a.styles&&a.styles[0]&&a.styles[0].props&&a.styles[0].props["background-color"]&&(f=a.styles[0].props["background-color"].value,delete a.styles[0].props["background-color"]);this.inherited(arguments);e&&(this.styles[0].props.width.value=
e);f&&(this.styles[1].props["background-color"].value=f)},toggleCaption:function(a){this.captionEnabled=a;this.save()}})})},"vendor/lodash-amd/keyBy":function(){define(["./_baseAssignValue","./_createAggregator"],function(l,k){return k(function(h,f,a){l(h,a,f)})})},"vendor/lodash-amd/_createAggregator":function(){define(["./_arrayAggregator","./_baseAggregator","./_baseIteratee","./isArray"],function(l,k,h,f){return function(a,c){return function(e,m){var d=f(e)?l:k,b=c?c():{};return d(e,a,h(m,2),
b)}}})},"vendor/lodash-amd/_arrayAggregator":function(){define([],function(){return function(l,k,h,f){for(var a=-1,c=null==l?0:l.length;++a<c;){var e=l[a];k(f,e,h(e),l)}return f}})},"vendor/lodash-amd/_baseAggregator":function(){define(["./_baseEach"],function(l){return function(k,h,f,a){l(k,function(c,e,k){h(a,c,f(c),k)});return a}})},"mojo/neapolitan/models/mcedit/Text":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/on dojo/query mojo/neapolitan/editors/mcedit/Text mojo/neapolitan/editors/mcedit/TextMobile ./_Base".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l([n],{postCreate:function(){var a=c.place('\x3cdiv class\x3d"edit-content"\x3e\x3cdiv class\x3d"tpl-content"\x3e\x3c/div\x3e\x3c/div\x3e',this.domNode),b=window.top&&window.top.app&&window.top.app.nativeUtils&&window.top.app.nativeUtils.getNativeVersion&&window.top.app.nativeUtils.getNativeVersion();this.savedContent&&(m(".tpl-content",this.domNode)[0].innerHTML=this.savedContent);if(this.duplicate)m(".edit-content",this.domNode).prepend('\x3cdiv class\x3d"editedOverlay blockError"\x3e\x3cstrong\x3eEditing disabled:\x3c/strong\x3e Duplicate mc:edit ID\x3c/div\x3e');
else{var d=this;this.isMobile||(this.editableLinks=c.place('\x3cspan class\x3d"edit-content-links"\x3e\x3cspan\x3e\x3ca class\x3d"edit-content-link tpl-link" href\x3d"#" mc:action\x3d"edit"\x3eEdit\x3c/a\x3e\x3c/span\x3e\x3c/span\x3e',a),e(this.editableLinks,"a:click",function(a){a.stopPropagation();a.preventDefault();a=f.get(this,"mc:action");switch(a){case "edit":d.openEditor();break;default:throw Error("mcedit text does not handle "+a);}}),e(this.domNode,".tpl-content:click",k.hitch(d,function(a){a.stopPropagation();
a.preventDefault();d.openEditor()})));this.contentDom=m(".tpl-content",this.domNode)[0];this.isMobile?b?b.then(function(a){a?e(d.domNode,"click",k.hitch(d,d.setBlockActive)):e(d.domNode,"click",k.hitch(d,function(a){a.stopPropagation();a.preventDefault();d.openEditor()}))}):e(d.domNode,"click",k.hitch(d,function(a){a.stopPropagation();a.preventDefault();d.openEditor()})):e(d.domNode,"click",k.hitch(d,function(a){a.stopPropagation();a.preventDefault();d.openEditor()}));this._savedContent=this.content=
this.savedContent;this.watch("content",k.hitch(this,function(){this.contentDom.innerHTML=this.content;window.resizePreview()}))}},isFooter:function(){return null!=this.editId.match("footer")},save:function(){if(this._savedContent!=this.content)return this._savedContent=this.content,this.endpoint.mcedit.saveText(this.editId,this.content);var a=new h;a.resolve();return a},update:function(){this.endpoint.mcedit.getText(this.editId).then(k.hitch(this,function(a){this.set("content",a)}))},recoverContent:function(a){return this.endpoint.mcedit.recoverContent(this.editId,
a.name,a.type)},getEditor:function(){return this.getEditorByType(this.isMobile)({mcedit:this,customCkStylesPath:this.stylesPath,restrictions:this.restrictions})},getEditorByType:function(a){return a?b:d},onLinkUpdate:function(a,b,d){var e=c.create("div"),h=c.toDom(this.content);c.place(h,e);if((h=m("a",e)[d])&&f.get(h,"href")==a)return f.set(h,"href",b),this.set("content",e.innerHTML),c.destroy(e),this.save();c.destroy(e);return this.inherited(arguments)}})})},"mojo/neapolitan/editors/mcedit/Text":function(){define("dojo/_base/declare ./_Base mojo/neapolitan/editors/_CKMixin dojo/text!./templates/text.html dojo/_base/lang dojo/on dijit/registry dojo/query dojo/dom-class dojo/dom-attr dojo/dom-geometry dojo/dom-style".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([k,h],{templateString:f,startup:function(){this.inherited(arguments);this.showCKEditor(this.ckeditorContainer,this.timestampContainer,this.mcedit.content,a.hitch(this,"publishReady"))},show:function(){this.publishSetup()},postCreate:function(){this.inherited(arguments);var d=this.mcedit.isFooter&&this.mcedit.isFooter(),f=this;p.set(this.footerContactInfo,"display",d?"block":"none");var h=e.byId("edit-contactinfo-modal");d&&h&&(p.set(this.contactEditLink,
"display",""),c(this.contactEditLink,"click",function(a){a.preventDefault();a.stopPropagation();h.show()}));window.app.hasPreservedContent()&&(p.set(this.switchContentBtn,"display",""),c(this.switchContentBtn,"click",function(a){a.stopPropagation();a.preventDefault();window.app.openPreservedContentDialog().then(function(a){f.mcedit.recoverContent(a).then(function(a){f.mcedit.set("content",a.content);f.editor.setData(a.content)})})}));(d=m(".mojoEditableTextSection",this.domNode))&&d.length&&d.forEach(a.hitch(this,
function(a){b.get(a,"data-mojo-ck-scroll")&&this._handleCKToolbarScroll(a)}))},_onDone:function(a){a.preventDefault();a.stopPropagation();this.done()},onCKChange:function(){var a=this.editor.getData();this.mcedit.set("content",a)},_handleCKToolbarScroll:function(a){var b=null;c(a,"scroll",function(){if(!b){var c=m(".cke_toolbox",a)[0];c&&(c=n.position(c),b=c.y+c.h)}b&&(c=n.position(a).y+a.scrollTop-1>b&&1<a.scrollTop,d.toggle(a,"contentEditorScrolled",c))})}})})},"mojo/neapolitan/editors/mcedit/_Base":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated ../_EditorMixin dojo/_base/lang dojo/_base/array dojox/mvc/sync dojo/NodeList-dom".split(" "),
function(l,k,h,f,a,c,e){return l([k,h,f],{widgetsInTemplate:!0,constructor:function(){this._watches=[];this._syncs=[];this._skipSave=!1},uninitialize:function(){c.forEach(this._watches,function(a){a.unwatch()});c.forEach(this._syncs,function(a){a.remove()});this._watches=[];this._syncs=[];this.inherited(arguments)},watch:function(a,c){var b=a?this.mcedit.watch(a,c):this.mcedit.watch(c);this._watches.push(b)},sync:function(a,c,b){a=e(this.mcedit,a,c,b);this._syncs.push(a)},saveAndHide:function(){this.done()},
cancelAndHide:function(){this._skipSave=!0;this.done()},save:function(a){return this.mcedit.save(a)},onClose:function(){this._skipSave?this.destroy():this.save().then(a.hitch(this,"destroy"))},onDataUpdate:function(a){},onShow:function(){}})})},"mojo/neapolitan/editors/mcedit/TextMobile":function(){define(["dojo/_base/declare","./Text","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/textMobile.html","mojo/neapolitan/widgets/ColorPicker"],function(l,k,h,f,a){return l([k,h],{type:"text-mobile",
templateString:f,domElementHiddenOnFocus:["sectionHeader","columnSelector","recoverContentWarning"],destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/models/mcedit/_Base":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/on dijit/_Widget mojo/utils".split(" "),function(l,k,h,
f,a,c,e,m,d,b,n){return l([b],{editId:null,type:"mcedit",duplicate:!1,isMobile:!1,postMixInProperties:function(){if(!this.endpoint)throw Error("Must pass a endpoint wrapper");this.isMobile=window.app&&window.app.nativeUtils&&window.app.nativeUtils.getNativeObject()},buildRendering:function(){this.inherited(arguments);this.editId=c.get(this.domNode,"mc:edit")},getEditor:function(){throw Error("Must implement getEditor");},setBlockActive:function(){n.globalPublish("neapolitan/block/activate",{id:this.id,
model:this});e.toggle(this.domNode,"native-highlight-mobile--active")},setBlockInActive:function(){e.toggle(this.domNode,"native-highlight-mobile--active")},openEditor:function(a){a||(a="default");this._editors||(this._editors={});var b=this._editors[a];this.isEditorOpen(a)||(b={editor:this.getEditor(),open:!0},this._currentEditor=this._editors[a]=b,b.editor.show(),h.after(b.editor,"destroy",function(){b.open=!1}))},closeEditor:function(a){a||(a="default");this._editors||(this._editors={});(a=this._editors[a])&&
a.editor.done()},isEditorOpen:function(a){a||(a="default");return this._editors?(a=this._editors[a])&&a.open:!1},onLinkUpdate:function(a,b,c){a=new f;a.reject("Oops! Looks like we unable to change this link. Contact support if the problem persist.");return a},canLinkUpdate:function(){return!0},update:function(){},destroy:function(){this._currentEditor&&this._currentEditor.open&&this._currentEditor.editor.cancelAndHide();this.inherited(arguments)}})})},"mojo/neapolitan/models/mcedit/Image":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on dojo/query mojo/url mojo/neapolitan/editors/mcedit/Image mojo/neapolitan/editors/mcedit/Text mojo/neapolitan/editors/mcedit/ImageMobile mojo/neapolitan/editors/mcedit/TextMobile ./_Base".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([u],{allowText:!1,useText:!1,emptyImage:"http://gallery.mailchimp.com/653153ae841fd11de66ad181a/images/transparent.gif",constructor:function(){this.content=this.savedBorderWidth=this.savedBorderStyle=this.savedBorderColor=this.savedAlign=this.savedHeight=this.savedWidth=this.image=this.savedContent=null},postMixInProperties:function(){this.mixProps();this.inherited(arguments)},mixProps:function(a){a&&(this.savedContent=a);a=this.savedContent&&this.savedContent.hasOwnProperty("text");
this.set("useText",a);this.useText?this._mixTextProps():this._mixImageProps()},_mixImageProps:function(){if(this.savedContent)if(this.savedContent.url&&this.savedContent.url!==this.emptyImage){var a={src:this.savedContent.url,alt:this.savedContent.alt};this.savedContent.file_id&&(a.fileId=this.savedContent.file_id);this.savedContent.link&&(a.link={href:this.savedContent.link,attrs:{target:this.savedContent.target?this.savedContent.target:"_self"}});this.set("savedBorderColor",this.savedContent.border_color);
this.set("savedBorderStyle",this.savedContent.border_style);this.set("savedBorderWidth",this.savedContent.border_width);this.set("image",a);this.set("savedAlign",this.savedContent.align);var b=a="";"undefined"!=typeof this.savedContent._savedWidth&&(a=this.savedContent._savedWidth);"undefined"!=typeof this.savedContent._savedHeight&&(b=this.savedContent._savedHeight);this.set("savedWidth",a);this.set("savedHeight",b)}else this._clearImageAttrs()},_mixTextProps:function(){this.savedContent&&(this.content=
this.savedContent.text)},postCreate:function(){var b=this,c=window.top&&window.top.app&&window.top.app.nativeUtils&&window.top.app.nativeUtils.getNativeVersion&&window.top.app.nativeUtils.getNativeVersion();this._verifyDom();if(!this.useText&&this.imageDom&&(this.image||(this.image={src:this.imageDom.src,alt:this.imageDom.alt?this.imageDom.alt:""}),this.image.width=this.imageDom.naturalWidth,this.image.height=this.imageDom.naturalHeight,!this.image.width&&!this.image.height))d.once(this.imageDom,
"load",k.hitch(this,function(){this.image.width=this.imageDom.naturalWidth;this.image.height=this.imageDom.naturalHeight;this.updateDom()}));this.isMobile?c?c.then(function(a){a?d(b.domNode,"click",k.hitch(b,b.setBlockActive)):d(b.domNode,"click",function(a){a.stopPropagation();a.preventDefault();b.openEditor()})}):d(b.domNode,"click",function(a){a.stopPropagation();a.preventDefault();b.openEditor()}):(d(b.domNode,"click",function(a){a.stopPropagation();a.preventDefault();b.openEditor()}),d(this.domNode,
"a.tpl-link:click",function(c){c.stopPropagation();c.preventDefault();c=a.get(this,"mc:action");switch(c){case "edit":b.openEditor();break;case "remove":b.removeImage(!1);break;case "defaultContent":b.removeImage(!0);break;case "switchType":(c=!b.useText)?b.image=null:b.content=" ";b.set("useText",c);b.openEditor();break;default:throw Error(c+" is not handled on mcedit of type image.");}}),this._generateEditActions());this.updateDom();this.watch(function(a){"useText"==a&&(b.clearDom(),b._verifyDom());
this._queueRefresh()})},_queueRefresh:function(){this._timeout||(this._timeout=setTimeout(k.hitch(this,function(){this.updateDom();this._generateEditActions();this._timeout=null}),0))},_generateEditActions:function(){var a=b(".edit-links",this.domNode)[0];e.empty(a);var c={};this.useText?(c.edit="Edit",c.remove="Remove"):this.image?(c.edit="Edit",c.remove="Remove"):(c.edit="Change",c.defaultContent="Use Default");this.allowText&&(c.switchType=this.useText?"Use Image":"Use Text");for(var d in c)c.hasOwnProperty(d)&&
e.place("\x3cspan\x3e\x3ca href\x3d'#' class\x3d'tpl-link' mc:action\x3d'"+d+"'\x3e"+c[d]+"\x3c/a\x3e\x3c/span\x3e",a)},updateDom:function(){this.useText?this.updateTextDom():this.updateImageDom();window.resizePreview()},clearDom:function(){e.empty(this.domNode);this.imageWrapper=this.imageMeta=this.imageDom=this.editLinks=this.contentDom=null},updateTextDom:function(){this._verifyDom();this.contentDom.innerHTML=this.content?this.content:"\x3cdiv\x3e\x26nbsp;\x3c/div\x3e";c.remove(this.domNode,"empty")},
_verifyDom:function(){this.contentDom||(this.contentDom=b(".tpl-image-content",this.domNode)[0],this.contentDom||(this.contentDom=e.place("\x3cdiv class\x3d'tpl-image-content'\x3e\x3c/div\x3e",this.domNode)));this.editLinks||(this.editLinks=e.toDom('\x3cspan class\x3d"edit-links"\x3e\x3c/span\x3e'),b(this.domNode).prepend(this.editLinks));if(!this.useText){this.maxWidth=a.get(this.domNode,"mc:max-width");this.maxHeight=a.get(this.domNode,"mc:max-height");0==parseInt(this.maxWidth)&&(this.maxWidth=
null);0==parseInt(this.maxHeight)&&(this.maxHeight=null);this.imageDom||(this.imageDom=b("img",this.domNode)[0]);if(this.image&&!this.imageDom){var c=this.getCalculatedSize(),c=k.mixin({src:n.addProxy(this.image.src)},c);this.imageDom=e.create("img",c);b(".tpl-image-content",this.domNode).append(this.imageDom)}this.imageWrapper=b(".tpl-image-content \x3e div",this.domNode)[0];this.imageWrapper||(b(this.contentDom).wrapInner("\x3cdiv\x3e\x3c/div\x3e"),this.imageWrapper=b(this.contentDom).children()[0]);
this.maxSizeText=(this.maxWidth?this.maxWidth+" wide":"any width")+" x "+(this.maxHeight?this.maxHeight+" tall":"any height");this.imageMeta||(this.imageMeta=e.toDom('\x3cspan class\x3d"image-meta"\x3e\x3c/span\x3e'),b(this.domNode).prepend(this.imageMeta))}},updateImageDom:function(){if(this.image){this._verifyDom();var b=this.getCalculatedSize(),d={src:n.addProxy(this.image.src)};""!=b.width&&(d.width=b.width);""!=b.height&&(d.height=b.height);a.set(this.imageDom,d);m.set(this.imageDom,{width:b.width?
b.width+"px":null,height:b.height?b.height+"px":null,borderColor:this.savedBorderColor,borderWidth:parseInt(this.savedBorderWidth)+"px",borderStyle:this.savedBorderStyle,maxWidth:this.maxWidth,maxHeight:this.maxHeight});this.savedAlign&&m.set(this.imageWrapper,"textAlign","none"!==this.savedAlign?this.savedAlign:null);this.imageMeta.innerHTML=this.maxSizeText;c.remove(this.domNode,"empty")}else this.imageDom&&(e.destroy(this.imageDom),this.imageDom=null),this.imageWrapper&&(e.destroy(this.imageWrapper),
this.imageWrapper=null),this.imageMeta.innerHTML="\x3cstrong\x3e(No Image Selected)\x3c/strong\x3e",c.add(this.domNode,"empty")},getCalculatedSize:function(){return{width:this.savedWidth?this.savedWidth:"",height:this.savedHeight?this.savedHeight:""}},removeImage:function(a){return this.endpoint.mcedit.removeImage(this.editId,a).then(k.hitch(this,function(a){this._clearImageAttrs(a)}))},_clearImageAttrs:function(a){var b=null,b=a&&a.src?{src:a.src,width:parseInt(a._width),height:parseInt(a._height)}:
null;this.set("savedWidth",null);this.set("savedHeight",null);this.set("savedAlign",null);this.set("savedBorderColor",null);this.set("savedBorderStyle",null);this.set("savedBorderWidth",null);this.set("useText",!1);this.set("image",b)},save:function(){if(this.useText){if(this.content)return this.endpoint.mcedit.saveImage(this.editId,this.content);this.set("useText",!1);return this.removeImage(!1)}if(this.image){var a=this.getCalculatedSize();this.set("savedWidth",a.width);this.set("savedHeight",a.height);
var b={};this.savedAlign&&(b.align=this.savedAlign);this.savedBorderColor&&(b["border-color"]=this.savedBorderColor);this.savedBorderStyle&&(b["border-style"]=this.savedBorderStyle);this.savedBorderWidth&&(b["border-width"]=parseInt(this.savedBorderWidth));return this.endpoint.mcedit.saveImage(this.editId,k.mixin(b,this.image,a))}a=new h;a.resolve();return a},getEditor:function(){return this.getEditorByType(this.useText,this.isMobile)({mcedit:this})},getEditorByType:function(a,b){return b?a?t:r:a?
q:p},openEditor:function(){this.inherited(arguments,[this.useText?"text":"image"])},closeEditor:function(){this.inherited(arguments,[this.useText?"text":"image"])},update:function(){this.endpoint.mcedit.getImage(this.editId).then(k.hitch(this,function(a){this.mixProps(a);this.updateDom()}))},onLinkUpdate:function(c,d,f){if(this.useText){var h=e.create("div"),k=e.toDom(this.content);e.place(k,h);if((k=b("a",h)[f])&&a.get(k,"href")==c)return a.set(k,"href",d),this.set("content",h.innerHTML),e.destroy(h),
this.save();e.destroy(h);return this.inherited(arguments)}return this.image&&this.image.link&&this.image.link.href&&this.image.link.href==c?(this.image.link.href=d,this.image.link.text==c&&(this.image.link.text=d),this.save()):this.inherited(arguments)}})})},"mojo/neapolitan/editors/mcedit/Image":function(){define("dojo/_base/declare ./_Base dojo/_base/lang dojo/_base/window dojo/dom-construct dojo/text!./templates/image.html mojo/neapolitan/widgets/ColorPicker".split(" "),function(l,k,h,f,a,c,e){return l([k],
{templateString:c,postCreate:function(){this.sync("image",this.imageRow,"image");this.connect(this.imageRow,"onChange","updateImage");this.imageRow.addMaxWidthRestriction(1200,"This image is so big it may obliterate inboxes. Images should be around 600px to 800px wide.","resize");this.widthInput.value=this.mcedit.savedWidth;this.heightInput.value=this.mcedit.savedHeight;this.alignInput.set("value",this.mcedit.get("savedAlign"),!1);this.borderWidthInput.set("value",this.mcedit.get("savedBorderWidth"),
!1);this.borderStyleInput.set("value",this.mcedit.get("savedBorderStyle"),!1);this.borderColorInput.set("value",this.mcedit.get("savedBorderColor"),!1);this.connect(this.widthInput,"change","_adjustHeightProportions");this.connect(this.heightInput,"change","_adjustWidthProportions");this.connect(this.alignInput,"onChange",function(a){this._updateValue("savedAlign",a)});this.connect(this.borderWidthInput,"onChange",function(a){this._updateValue("savedBorderWidth",a)});this.connect(this.borderStyleInput,
"onChange",function(a){this._updateValue("savedBorderStyle",a)});this.connect(this.borderColorInput,"onChange",function(a){this._updateValue("savedBorderColor",a)});this.watch(h.hitch(this,function(a,c,b){switch(a){case "savedHeight":this.heightInput.value=b;break;case "savedWidth":this.widthInput.value=b;break;case "savedAlign":this.alignInput.set("value",b,!1);break;case "image":null==b&&this.editorContainer.toggleSection("content");this._toggleSettingSection(null!=b);break;case "savedBorderWidth":this.borderWidthInput.set("value",
b,!1);break;case "savedBorderStyle":this.borderStyleInput.set("value",b,!1);break;case "savedBorderColor":this.borderColorInput.set("value",b,!1)}}));this._toggleSettingSection(null!=this.mcedit.image);this.colorPicker=new e;this.colorPicker.startup();a.place(this.colorPicker.domNode,f.body());this.colorPicker.addInput(this.borderColorInput)},_toggleSettingSection:function(a){a?this.editorContainer.enableSection("settings"):this.editorContainer.disableSection("settings")},_updateValue:function(a,
c){this.mcedit.set(a,c);this.mcedit.save()},_adjustHeightProportions:function(){if(this.mcedit.image&&this.proportionCheckbox.checked){var a=parseInt(1/(this.mcedit.image.width/this.mcedit.image.height)*parseInt(this.widthInput.value));this.heightInput.value=a;this.mcedit.set("savedHeight",a)}this.mcedit.set("savedWidth",this.widthInput.value);this.mcedit.save()},_adjustWidthProportions:function(){if(this.mcedit.image&&this.proportionCheckbox.checked){var a=parseInt(this.mcedit.image.width/this.mcedit.image.height*
parseInt(this.heightInput.value));this.widthInput.value=a;this.mcedit.set("savedWidth",a)}this.mcedit.set("savedHeight",this.heightInput.value);this.mcedit.save()},onUploading:function(a){this.imageRow.toggleUploadMessage(a)},updateImage:function(a){"image"==a&&(this.mcedit.set("savedWidth",null),this.mcedit.set("savedHeight",null));this.mcedit.set("image",this.imageRow.image);this.mcedit.save()},onClose:function(){this.destroy()}})})},"mojo/neapolitan/editors/mcedit/ImageMobile":function(){define(["dojo/_base/declare",
"./Image","mojo/neapolitan/editors/_MobileBlockMixin","dojo/text!./templates/imageMobile.html","mojo/neapolitan/widgets/ColorPicker"],function(l,k,h,f,a){return l([k,h],{type:"image-mobile",templateString:f,destroy:function(){this._teardownNativeMobileHandlers();this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._setupNativeMobileHandlers()}})})},"mojo/neapolitan/models/Repeatable":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/_base/array dojo/query dojo/on dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/dom-geometry dojo/aspect".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l(null,{repeatableId:null,type:"repeatable",constructor:function(a,b,d,h,l){var p=this;this.endpoint=h;this.repeatableId=a;this.repeatableDoms=[];this.editingType=d;this.parentDom=b;this.variantConfig=l;this.children=[];this.hideables={};if(!this.repeatableId)throw Error("repeatableId must not be empty");if(!this.endpoint)throw Error("Must pass a endpoint wrapper");window.top.app&&window.top.app.nativeUtils&&window.top.app.nativeUtils.getNativeObject()||
(this.controls=m.place('\x3cdiv class\x3d\'tpl-repeatwrap tpl-rounded\'\x3e\x3ca href\x3d"#" mc:action\x3d"hide" title\x3d"Hide the entire section" class\x3d"tpl-hidetoggle tpl-hidedel mc-repeat-action"\x3ehide\x3c/a\x3e\x3ca href\x3d"#" mc:action\x3d"add" title\x3d"add another section" class\x3d"tpl-repeatadd mc-repeat-action"\x3eadd\x3c/a\x3e\x3ca href\x3d"#" mc:action\x3d"remove" title\x3d"remove last section" class\x3d"tpl-repeatdel mc-repeat-action"\x3eremove\x3c/a\x3e\x3c/div\x3e',window.Preview.getControlDom()));
"template"!==this.editingType&&this.variantConfig&&this.variantConfig.options&&(a=f.map(this.variantConfig.options,function(a,b){return{label:a,value:b}}),this.variantSelect=Preview.newSelect(a),this.variantSelect.startup(),this.controls&&this.variantSelect.placeAt(this.controls),c(this.variantSelect,"change",function(){p.changeVariant(p.selectedIndex,this.get("value"))}),c(this.variantSelect.dropDown.domNode,"mouseenter",k.hitch(this,function(){this._showControls()})),c(this.variantSelect.dropDown.domNode,
"mouseleave",k.hitch(this,"_hideControls")));this.previewDoc=e.byId("preview-template").contentWindow.document;this.controls&&(c(this.controls,"a.mc-repeat-action:click",function(a){a.stopPropagation();a.preventDefault();switch(n.get(this,"mc:action")){case "add":p.endpoint.repeatables.add(p.repeatableId).then(function(a){window.app.setEditableMetadata(a.content.metadata);p.addFromHtml(a.content.html);p._repositionControls(p.repeatableDoms[p.selectedIndex])});break;case "remove":if(1<p.repeatableDoms.length){var b=
p.selectedIndex;p.endpoint.repeatables.remove(p.repeatableId,b).then(function(){p.removeChild(b)})}break;case "hide":p.endpoint.hideable.toggle("hideable_"+p.repeatableId+"_"+(p.selectedIndex+1)).then(function(){p.toggleVisibility()});break;default:throw Error("Repeatable action not handled.");}}),c(this.controls,"mouseenter",k.hitch(this,function(){this._showControls()})),c(this.controls,"mouseleave",k.hitch(this,"_hideControls")));"template"!=this.editingType&&(this.dndSource=Preview.createRepeatableDnd(this.parentDom,
this.repeatableId),q.after(this.dndSource,"onDropInternal",function(a,b){var c=a[0],d=f.indexOf(p.repeatableDoms,c),e=p.dndSource.getAllNodes().indexOf(c);p.endpoint.repeatables.reorder(p.repeatableId,d,e).then(function(){p.reorder(d,e)},function(){window.refreshCampaign()})},!0))},addFromUpdate:function(a){this.endpoint.repeatables.getContent(this.repeatableId,a).then(k.hitch(this,function(a){a.metadata&&window.app.setEditableMetadata(a.metadata);this.addFromHtml(a.html)}))},addFromHtml:function(a){a=
m.place(a,this.repeatableDoms[this.repeatableDoms.length-1],"after");this.add(a);this._parseEditables(a);window.resizePreview()},toggleVisibility:function(a){var b=this.repeatableDoms[0];"undefined"!==typeof a?d.toggle(b,"tpl-hidden",!a):d.toggle(b,"tpl-hidden");this._repositionControls(b)},replaceChild:function(a,b){this._removeEditables(a);var c=m.place(b,this.repeatableDoms[a],"replace");this.repeatableDoms[a]=c;this._addDndControls(c);this.children[a]={};this._parseEditables(c);this.renameEditableIds()},
removeChild:function(a){this._removeEditables(a);this.children.splice(a,1);m.destroy(this.repeatableDoms[a]);this.repeatableDoms.splice(a,1);this.renameEditableIds();this.dndSource&&this.dndSource.sync();window.resizePreview()},_parseEditables:function(a){Preview.parseEditables(a)},_removeEditables:function(a){if(a=this.children[a]){var b=function(a){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];switch(d.type){case "repeatable":f.forEach(d.children,function(a){b(a)});break;case "hideable":case "mcedit":d.destroy();
a[c]=null;break;default:throw Error("editable has an unhandled type");}}};b(a)}},renameEditableIds:function(){var a=function(b,c,d){for(var e in b)if(b.hasOwnProperty(e)){var h=b[e],k=c+":"+d+":"+e;switch(h.type){case "repeatable":h.repeatableId=k;f.forEach(h.children,function(b,c){a(b,k,c)});break;case "hideable":h.hideableId=k;break;case "mcedit":h.editId=k;break;default:throw Error("editable has an unhandled type");}}};f.forEach(this.children,k.hitch(this,function(b,c){a(b,this.repeatableId,c)}))},
changeVariant:function(a,b,c){c?this.endpoint.repeatables.getContent(this.repeatableId,a).then(k.hitch(this,function(c){c.metadata&&window.app.setEditableMetadata(c.metadata);this.variantConfig.active[a]=b;this.replaceChild(a,c.html)})):this.endpoint.repeatables.changeVariant(this.repeatableId,a,b).then(k.hitch(this,function(c){c.content.metadata&&window.app.setEditableMetadata(c.content.metadata);this.variantConfig.active[a]=b;this.replaceChild(a,c.content.html)}))},reorder:function(a,b){var c=this.repeatableDoms.splice(a,
1)[0];this.repeatableDoms.splice(b,0,c);c=this.children.splice(a,1)[0];this.children.splice(b,0,c);this.variantConfig&&(c=this.variantConfig.active.splice(a,1)[0],this.variantConfig.active.splice(b,0,c));this.renameEditableIds()},add:function(a){var b=parseInt(n.get(a,"mc:repeatindex"));this.repeatableDoms[b]=a;this._addDndControls(a);this.variantConfig&&this.variantConfig.active.push(0);this.dndSource&&this.dndSource.sync()},_addDndControls:function(a){d.add(a,"tpl-repeatblock dojoDndItem");var b;
switch(a.tagName.toLowerCase()){case "tr":b="td";break;case "ul":case "ol":b="li";break;default:b="div"}"template"!=this.editingType&&(b=m.create(b,{"class":"tpl-repeatmovewrap dojoDndHandle"}),m.place('\x3ca class\x3d"tpl-repeatmove" href\x3d"#"\x3emove\x3c/a\x3e',b),m.place(b,a));c(a,"mouseenter",k.hitch(this,function(){this._showControls(a)}));c(a,"mouseleave",k.hitch(this,"_hideControls"))},_showControls:function(b){var c=this;!b&&0<=this.selectedIndex&&(b=this.repeatableDoms[this.selectedIndex]);
b&&h.withDoc(c.previewDoc,function(){c._repositionControls(b);a(".tpl-wrap-hover").removeClass("tpl-wrap-hover");c.controls&&d.add(c.controls,"tpl-wrap-hover");a(".repeatable-drag-hover").removeClass("repeatable-drag-hover");a(".dojoDndHandle",b).addClass("repeatable-drag-hover")})},_hideControls:function(){h.withDoc(this.previewDoc,function(){a(".tpl-wrap-hover").removeClass("tpl-wrap-hover");a(".repeatable-drag-hover").removeClass("repeatable-drag-hover")})},_repositionControls:function(c){setTimeout(k.hitch(this,
function(){var e=p.position(c),h=1<this.repeatableDoms.length;this.controls&&(d.toggle(this.controls,"can-del",h),d.toggle(this.controls,"can-hide",!h&&"template"!==this.editingType));var k=!d.contains(c,"tpl-hidden");h||this.controls&&(k?a(".tpl-hideadd",this.controls).removeClass("tpl-hideadd").addClass("tpl-hidedel"):a(".tpl-hidedel",this.controls).removeClass("tpl-hidedel").addClass("tpl-hideadd"));this.selectedIndex=f.indexOf(this.repeatableDoms,c);this.controls&&d.toggle(this.controls,"can-add",
this.repeatableDoms.length===this.selectedIndex+1&&k);a(".tpl-repeatmovewrap",c).style({position:"absolute",top:e.y-10+"px",left:e.x-10+"px",display:h?"":"none"});this.controls&&b.set(this.controls,{position:"absolute",top:e.y+e.h+"px",left:e.x+"px"});this.variantSelect&&this.variantSelect.set("value",this.variantConfig.active[this.selectedIndex],!1)}),0)}})})},"mojo/neapolitan/models/Hideable":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/window dojo/_base/array dojo/query dojo/on dojo/dom dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-geometry".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){return l(null,{hideableId:null,type:"hideable",constructor:function(a,d,f,h){this.hideableId=a;this.dom=d;this.endpoint=h;this.previewDoc=e.byId("preview-template").contentWindow.document;this.editingType=f;this.listeners=[];this.controls=m.place("\x3cdiv class\x3d'tpl-hidewrap tpl-rounded'\x3e\x3ca href\x3d'#' class\x3d'tpl-hidetoggle tpl-hidedel'\x3eHide/Show\x3c/a\x3e\x3c/div\x3e",window.Preview.getControlDom());b.set(this.controls,"position","absolute");var l=this;
"template"!=this.editingType&&this.listeners.push(c(this.controls,"click",function(a){a.preventDefault();l.endpoint.hideable.toggle(l.hideableId).then(function(){l.toggle()})}));this.listeners.push(c(this.dom,"mouseenter",k.hitch(this,"_onMouseEnter")));this.listeners.push(c(this.controls,"mouseenter",k.hitch(this,"_onMouseEnter")));this.listeners.push(c(this.dom,"mouseleave",k.hitch(this,"_onMouseLeave")));this.listeners.push(c(this.controls,"mouseleave",k.hitch(this,"_onMouseLeave")))},toggle:function(a){"undefined"!==
typeof a?d.toggle(this.dom,"tpl-hidden",!a):d.toggle(this.dom,"tpl-hidden");this._repositionControls()},_onMouseEnter:function(){var b=this;h.withDoc(b.previewDoc,function(){b._repositionControls();a(".tpl-wrap-hover").removeClass("tpl-wrap-hover");d.add(b.controls,"tpl-wrap-hover")})},_onMouseLeave:function(){h.withDoc(this.previewDoc,function(){a(".tpl-wrap-hover").removeClass("tpl-wrap-hover")})},_repositionControls:function(){var c=n.position(this.dom),e=n.position(this.controls);b.set(this.controls,
{position:"absolute",top:c.y+c.h/2+"px",left:c.x+c.w/2-e.w/2+"px"});d.contains(this.dom,"tpl-hidden")?a(".tpl-hidedel",this.controls).removeClass("tpl-hidedel").addClass("tpl-hideadd"):a(".tpl-hideadd",this.controls).removeClass("tpl-hideadd").addClass("tpl-hidedel")},destroy:function(){f.forEach(this.listeners,function(a){a.remove()});m.destroy(this.controls)}})})},"mojo/neapolitan/dnd/BlockSource":function(){define("dojo/_base/declare dojo/_base/window dojo/dnd/Manager dojo/dnd/Source dojo/dom-class dojo/dom-construct dojo/string mojo/lib/flags mojo/neapolitan/blocks mojo/user vendor/lodash-amd/isEqual dojo/text!./templates/blockTemplate.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){h.manager().OFFSET_Y=10;h.manager().OFFSET_X=10;return l([f],{copyOnly:!0,selfAccept:!1,campaignType:null,ecommStores:[],blockList:[],pageBlockMap:{text:!0,boxedText:!0,divider:!0,code:!1,button:!0,image:!0,imageCard:!0,imageGroup:!0,imageCaption:!0,socialFollow:!0,product:!0,promoCode:!0,signUpForm:!0,socialShare:!0,webVideo:!0},constructor:function(){this.singular=!0;this.creator=this._avatarCreator;this.currentBlockList=d.getBlocks();this.insertBlockIcons(this.currentBlockList)},
_avatarCreator:function(a,b){return{node:c.toDom(e.substitute(p,{name:a.name,description:a.description,editorType:a.editorType})),data:a,type:["new-mc-block"]}},updateBlockIcons:function(a){a=d.getFilteredBlocks(a);n(this.currentBlockList,a)||(this.node.innerHTML="",this.currentBlockList=a,this.insertBlockIcons(this.currentBlockList))},insertBlockIcons:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this._editorVisible(c)&&this.insertNodes(!1,[{name:c.prototype._label||c.prototype._name,
description:c.prototype._description,editorType:b}])}},_validPlatformCheck:function(){var a=!1;this.ecommStores.forEach(function(b){!0===b.show_promo_code_block&&(a=!0)});return a},_editorVisible:function(a){var c=a.prototype;a=c._visible;var d=c._campaignType?c._campaignType===this.campaignType:!0,e=0<=c._editingTypes.indexOf(this.editingType),f=c._ecommOnly?b.isAnyEcomm:!0,h=c._paidOnly?c._paidOnly&&b.hasPaid:!0,k=c._featureFlag?b.flagIsOn(c._featureFlag):!0,c="page"===this.campaignType?this.pageBlockMap[c.type]:
!0;return a&&d&&e&&f&&h&&k&&c},onDndStart:function(b){this===b&&a.remove(k.body(),"open-drawer");this.inherited(arguments)}})})},"mojo/neapolitan/LinkCheckerSlider":function(){define("dojo/_base/declare dojo/query dojo/_base/lang dojo/_base/window dojo/on dojo/dom-attr dojo/dom-class dojo/topic dojo/has mojo/utils mojo/neapolitan/utils mojo/app/wizard mojo/neapolitan/LinkCheckerPane mojo/neapolitan/editors/LinkCheckerEditor mojo/widgets/TopSliderPane dojo/text!./templates/linkCheckerSlider.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([t],{content:u,badgeText:"Link checker",postMixInProperties:function(){this.inherited(arguments);if(!this.url)throw Error("You must provide a url to load the link checker.");},postCreate:function(){this.inherited(arguments);var b=this,d=h.hitch(this,function(){k(this.previewFrame).siblings(".iframe-loading-message").style("display","none");this.linkStore=this.previewFrame.contentWindow.linkStore;this.checkerPane?this.checkerPane.set("linkStore",this.linkStore):
this.checkerPane=new q({linkStore:this.linkStore,endpoint:this.endpoint,onHover:h.hitch(this,function(a){this.selectLink(a)}),onSelect:h.hitch(this,function(a){this.openEditor(a)})},this.linkCheckerPane);this._isEditorOpen()&&(this.editor.linkStore=this.linkStore,this.editor.refresh());n.createStyles(this.previewFrame.contentWindow.document).add(".mc-outline { outline: 2px solid red; }");f.withDoc(this.previewFrame.contentWindow.document,function(){k("a").on("click",function(a){a.preventDefault();
a=c.get(this,"mc:link-id");b.openEditor(a);b.selectLink(a)})});this._resizePreview()});this.own(a(this.previewFrame,"load",d),m.subscribe("neapolitan/LinkChecker/refresh",h.hitch(this,"refresh")))},show:function(){app.closeCurrentEditor();this.displayActive||k(this.previewFrame).siblings(".iframe-loading-message").style("display","block");k("body").addClass("slider-editor");this.refresh();return this.inherited(arguments)},hide:function(){var a=this.inherited(arguments);this.closeEditor();k("body").removeClass("slider-editor");
return a},refresh:function(){k(this.previewFrame).siblings(".iframe-loading-message").style("display","block");this.previewFrame.src=this.url},_resizePreview:function(){var a=b.docHeight(this.previewFrame.contentWindow.document);this.previewFrame.style.height=a+"px"},openEditor:function(a){this._isEditorOpen()?this.editor.goToLink(a):(this.editor=new r({selectedLinkId:a,linkStore:this.linkStore,endpoint:this.endpoint,onViewed:h.hitch(this,function(a){this.checkerPane&&this.checkerPane.markAsViewed(a)}),
onPaging:h.hitch(this,"selectLink")}),this.editor.show())},_isEditorOpen:function(){return this.editor&&!this.editor._destroyed},closeEditor:function(){this._isEditorOpen()&&this.editor.done()},selectLink:function(a){var b=this;f.withDoc(this.previewFrame.contentWindow.document,function(){var c=k('[mc:link-id\x3d"'+a+'"]');c.length&&(c=1==c.children().length&&"img"==c.children()[0].tagName.toLowerCase()?c.children()[0]:c[0],k(".mc-outline").removeClass("mc-outline"),e.add(c,"mc-outline"),n.smoothScroll({node:c,
win:b.previewContainer,duration:250}).play())})},onEsc:function(){this._isEditorOpen()?this.closeEditor():this.hide()}})})},"mojo/neapolitan/LinkCheckerPane":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/query dojo/dom-class dojo/dom-attr dojo/on dojo/mouse dijit/_WidgetBase dijit/_Templated dojo/text!./templates/linkCheckerPane.html dojo/text!./templates/linkCheckerPaneItem.html".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([b,n],{templateString:p,
linkTpl:q,linkStore:null,postCreate:function(){var a=this;this._renderLinks();this.own(m(this.linkList,"li:click",function(){a.onSelect(e.get(this,"data-mc-link-id"))}),m(this.linkList,m.selector("li",d.enter),function(){a.onHover(e.get(this,"data-mc-link-id"))}));this.watch("linkStore",h.hitch(this,"refresh"))},refresh:function(){this._renderLinks()},onHover:function(a){},onSelect:function(a){},markAsViewed:function(b){this._numChecked++;this.numChecked.innerHTML=this._numChecked;a('[data-mc-link-id\x3d"'+
b+'"]',this.domNode).removeClass("unread")},_renderLinks:function(){f.empty(this.linkList);this._numChecked=0;k.forEach(this.linkStore.order,h.hitch(this,function(b){b=h.mixin({linkId:b},this.linkStore.links[b]);b.href||(b.href="Link to Nowhere...");var d=f.place(f.toDom(h.replace(this.linkTpl,b)),this.linkList);b.iconSrc&&(a(".media-image",d).append('\x3cimg src\x3d"'+b.iconSrc+'"/\x3e'),c.add(a(".media-image",d)[0],"icon-available"));b.checked?this._numChecked++:c.add(d,"unread")}));this.numLinks.innerHTML=
this.linkStore.order.length;this.numChecked.innerHTML=this._numChecked}})})},"mojo/neapolitan/editors/LinkCheckerEditor":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated ./_EditorMixin dojo/text!./templates/linkCheckerEditor.html dojo/_base/lang dojo/_base/array dojo/dom-class dojo/dom-style dojo/query dojo/dom-attr dojo/dom-construct dojo/topic dojo/on mojo/KeyShortcuts mojo/utils dojo/NodeList-dom".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){var w={};return l([k,h,f],
{sliderEditor:!0,templateString:a,widgetsInTemplate:!0,postCreate:function(){this.selectedIndex=this.selectedLinkId?e.indexOf(this.linkStore.order,this.selectedLinkId):0;this.refresh();this.own(r(this.prevBtn,"click",c.hitch(this,"_prev")),r(this.nextBtn,"click",c.hitch(this,"_next")),r(this.saveBtn,"click",c.hitch(this,"_save")),r(this.editLink,"click",c.hitch(this,"_edit")),r(this.cancelLink,"click",c.hitch(this,"_hideForm")),t.onEnter(this.linkForm,c.hitch(this,"_save")),t.onKey("e",c.hitch(this,
"_edit")),t.onSpecialKey("RIGHT_ARROW",c.hitch(this,"_next")),t.onSpecialKey("LEFT_ARROW",c.hitch(this,"_prev")));this.totalCount.innerHTML=this.linkStore.order.length},refresh:function(){this.selectedLinkId=this.linkStore.order[this.selectedIndex];this.selectedLink=this.linkStore.links[this.selectedLinkId];this._renderLink();window.scrollTo(0,0)},_renderLink:function(){this.href.innerHTML=this.selectedLink.href;this.href.href=this.selectedLink.href;this.label.innerHTML=this.selectedLink.label;this.currentPos.innerHTML=
1+this.selectedIndex;this.linkInput.value=this.selectedLink.href;this.selectedLink.iconSrc?(this.linkIcon.src=this.selectedLink.iconSrc,m.add(this.linkIconContainer,"icon-available")):(this.linkIcon.src="",m.remove(this.linkIconContainer,"icon-available"));n.set(this.visitLink,"href",this.selectedLink.href);var a=this._getModel();this.selectedLink.canEdit&&a&&a.canLinkUpdate()?(d.set(this.editLink,"display",""),d.set(this.notEditableMsg,"display","none")):(d.set(this.editLink,"display","none"),d.set(this.notEditableMsg,
"display",""));if(!this.selectedLink.checked){var b=this.selectedLinkId;this.endpoint.markLinkAsChecked(b).then(c.hitch(this,function(){this.linkStore.links[b].checked=!0;this.onViewed(b)}))}if(this.selectedLink.validUrl){d.set(this.noPreviewMsg,"display","none");d.set(this.noScreenshotMsg,"display","none");var e=this.selectedLinkId;w.hasOwnProperty(e)?a=w[e]:(d.set(this.screenshotContainer,"display","none"),d.set(this.imageLoader,"display",""),a=this.endpoint.linkScreenshot(e),w[e]=a);a.then(c.hitch(this,
function(a){e===this.selectedLinkId&&("success"===a.status?this._showScreenShot(a.url):this._showScreenShot(null))}))}else d.set(this.noScreenshotMsg,"display","none"),d.set(this.screenshotContainer,"display","none"),d.set(this.imageLoader,"display","none"),d.set(this.noPreviewMsg,"display","");m.toggle(this.prevBtn,"disabled",0===this.selectedIndex);m.toggle(this.nextBtn,"disabled",this.selectedIndex>=this.linkStore.order.length-1)},_showScreenShot:function(a){a?(d.set(this.imageLoader,"display",
"none"),b("img",this.screenshotContainer).length?(b("img",this.screenshotContainer).attr("src",a),b("a",this.screenshotContainer).attr("href",this.selectedLink.href)):p.place('\x3ca target\x3d"_blank" href\x3d"'+this.selectedLink.href+'" title\x3d"Open link in new window"\x3e\x3cimg src\x3d"'+a+'"\x3e\x3c/a\x3e',this.screenshotContainer,"only"),d.set(this.screenshotContainer,"display","")):(d.set(this.screenshotContainer,"display","none"),d.set(this.imageLoader,"display","none"),d.set(this.noScreenshotMsg,
"display",""))},_getModel:function(){var a=null;if(this.selectedLink)switch(this.selectedLink.type){case "block":a=app.byId(this.selectedLink.id);break;case "editable":a=app.getEditable(this.selectedLink.id);break;default:throw Error("Attempted to edit a link that has an unhandled type:"+this.selectedLink.type);}return a},_save:function(a){a&&(a.preventDefault(),a.stopPropagation());if(a=this._getModel()){d.set(this.screenshotContainer,"display","none");d.set(this.noScreenshotMsg,"display","none");
d.set(this.imageLoader,"display","");u.toggleButtonLoadingState(this.saveBtn,"Saving...");var b=this.linkInput.value.trim();decodeURIComponent(b).match(/^((http[s]?:|ftp:|mailto:|tel:|#|\*\|[a-z]+:))/gi)||(b="http://"+b);this.href.innerHTML=b;n.set(this.href,"href",b);a.onLinkUpdate(this.selectedLink.href,b,this.selectedLink.scopeIndex).then(c.hitch(this,"_onSaveSuccess"),c.hitch(this,"_onSaveError"))}else this._onNoContent()},_onNoContent:function(){this.done();u.toast("Oops! Looks like that content is not available anymore.",
"error");q.publish("neapolitan/LinkChecker/refresh")},_onSaveSuccess:function(){q.publish("neapolitan/LinkChecker/refresh");m.contains(this.saveBtn,"button-loading")&&u.toggleButtonLoadingState(this.saveBtn,"");this._hideForm()},_onSaveError:function(a){this._hideForm();m.contains(this.saveBtn,"button-loading")&&u.toggleButtonLoadingState(this.saveBtn,"");u.toast(a,"error")},_edit:function(a){a.stopPropagation();a.preventDefault();d.set(this.linkForm,"display","");d.set(this.editLink,"display","none");
this.linkInput.select()},_hideForm:function(a){a&&(a.stopPropagation(),a.preventDefault());d.set(this.linkForm,"display","none");d.set(this.editLink,"display","")},goToLink:function(a){a=e.indexOf(this.linkStore.order,a);0<=a&&a<this.linkStore.order.length&&(this.selectedIndex=a,this._updateLinkInfo())},_next:function(){var a=e.indexOf(this.linkStore.order,this.selectedLinkId);a++;a<this.linkStore.order.length&&(this.selectedIndex=a,this._updateLinkInfo())},_prev:function(){var a=e.indexOf(this.linkStore.order,
this.selectedLinkId);a--;0<=a&&(this.selectedIndex=a,this._updateLinkInfo())},_updateLinkInfo:function(){this.selectedLinkId=this.linkStore.order[this.selectedIndex];this.selectedLink=this.linkStore.links[this.selectedLinkId];this._renderLink();this.onPaging(this.selectedLinkId)},_onDone:function(a){a.stopPropagation();a.preventDefault();this.done()},onClose:function(){this.destroy()},onSave:function(){},onViewed:function(a){},onPaging:function(a){}})})},"mojo/neapolitan/DesignPane":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/dom dojo/topic dojo/touch mojo/neapolitan/editors/DesignEditor mojo/neapolitan/editors/MonkeyRewardsEditor mojo/neapolitan/editors/PrivacyBadgeEditor mojo/neapolitan/editors/PageBannerEditor mojo/neapolitan/utils mojo/widgets/DrillNav".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return k([p],{previewStyleBlock:null,constructor:function(){this.sections={}},postMixInProperties:function(){if(!this.endpoint)throw Error("You must provide endpoints for DesignPane to work");},postCreate:function(){for(var a in this.styleSections)this.styleSections.hasOwnProperty(a)&&this.addSection(a,this.styleSections[a]);this.addMonkeyRewardSection();this.addPageBannerSection();this.addPrivacyBadgeSection()},updateAllStyles:function(a){this.endpoint.getStyles().then(h.hitch(this,
function(b){if(!a){var c=this.createStyleBlock(),d;for(d in b)if(b.hasOwnProperty(d))for(var e in b[d])if(b[d].hasOwnProperty(e)){var f=b[d][e];"string"===typeof f&&(f=h.trim(f));c.add(d+"{"+e+":"+f+";}")}}var k=[],m;for(m in this.sections)l.forEach(this.sections[m].styles,function(a){for(var c in a.props)b.hasOwnProperty(a.props[c].selector)&&b[a.props[c].selector].hasOwnProperty(c)&&(a.props[c].value=b[a.props[c].selector][c],-1===k.indexOf(a)&&k.push(a))});this._isEditorOpen()&&this.styleEditor.updateInputs(k);
var n=this;setTimeout(function(){n._replacePreviewStyleBlock()},0)}))},_replacePreviewStyleBlock:function(){if(this.previewStyleBlock&&this._isEditorOpen()){var a=this.styleEditor.changeSet;if(a){var b=this.createStyleBlock(),c;for(c in a)if(a.hasOwnProperty(c)){var d=c+" {",e=a[c],f;for(f in e)if(e.hasOwnProperty(f)){var h=e[f],d=d+(f+":"+h.value);h.important&&(d+=" !important");d+=";"}d+="}";b.add(d)}this.previewStyleBlock.remove();this.previewStyleBlock=b}}},_isEditorOpen:function(){return this.styleEditor&&
!this.styleEditor._destroyed},addSection:function(a,b){var d=this.addNavItem({name:a});this.sections[a]={styles:b};this.connect(d,c.press,h.hitch(this,function(){this._isEditorOpen()||(this.styleEditor=new e({styles:this.sections[a].styles,title:a}),this.styleEditor.show(),this.previewStyleBlock=this.createStyleBlock(),this.connect(this.styleEditor,"onChange",function(a,b){var c=b.selector+" { "+b.property+":"+b.value;b.important&&(c+=" !important");this.previewStyleBlock.add(c+";}")}),this.connect(this.styleEditor,
"onCancel",function(){this.previewStyleBlock.remove();this.previewStyleBlock=null}),this.connect(this.styleEditor,"onSave",h.hitch(this,function(b,c){c&&this.endpoint.saveStyles(c).then(h.hitch(this,function(){this.sections[a].styles=b}))})))}))},addMonkeyRewardSection:function(){if(this.monkeyRewardsOptions){var a=this.addNavItem({name:"MonkeyRewards"});this.connect(a,c.press,h.hitch(this,function(){this._isEditorOpen()||(this.styleEditor=new m(this.monkeyRewardsOptions),this.styleEditor.show())}))}},
addPrivacyBadgeSection:function(){if(this.privacyBadge){var b=this.addNavItem({name:"Privacy Badge"});this.connect(b,c.press,h.hitch(this,function(){this._privacyBadgeOpen()}));a.subscribe("neapolitan/privacy_badge/editor/open",h.hitch(this,this._privacyBadgeOpen))}},addPageBannerSection:function(){if(this.pageBanner){var b=this.addNavItem({name:"Notification Bar"});this.connect(b,c.press,h.hitch(this,function(){this._pageBannerOpen()}));a.subscribe("neapolitan/page_banner/editor/open",h.hitch(this,
this._pageBannerOpen))}},createStyleBlock:function(){return n.createStyles(f.byId("preview-template").contentWindow.document)},_privacyBadgeOpen:function(){this._isEditorOpen()||(this.styleEditor=new d(this.privacyBadge),this.styleEditor.show(),window.wizard&&window.wizard.changeWizardPane("design"))},_pageBannerOpen:function(){this._isEditorOpen()||(this.styleEditor=new b(this.pageBanner),this.styleEditor.show(),window.wizard&&window.wizard.changeWizardPane("design"))}})})},"mojo/neapolitan/editors/DesignEditor":function(){define(["dojo/_base/declare",
"./StyleEditor"],function(l,k){return l([k],{onClose:function(){this.cancel||this.save();this.destroy()}})})},"mojo/neapolitan/editors/MonkeyRewardsEditor":function(){define("dojo/_base/declare dijit/_Widget dijit/_Templated ./_EditorMixin dojo/text!./templates/monkeyRewardsEditor.html dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/_base/connect dojo/_base/event dojo/dom-attr dojo/dom-style dojo/_base/xhr dojo/query dojo/NodeList-dom".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([k,
h,f],{templateString:a,widgetsInTemplate:!0,postCreate:function(){this._renderSelectedBanner();n.set(this.toggleRewards,"value",this.status);p.set(this.required?this.freeAccount:this.paidAccount,"display","block");this.connect(this.toggleRewards,"change","_toggleRewards");e.forEach(this.banners,c.hitch(this,function(a){var c=this._createBannerDom(a);r(c).addClass("cursor-pointer");var d=m.create("li",{"class":"c-monkeyRewardImageListItem float-left margin--lv2 !margin-left--lv0 !margin-bottom--lv0"});
this.connect(c,"click",function(d){b.stop(d);r("img",this.bannerSelector).removeClass("c-monkeyRewardImage--selected");r(c).addClass("c-monkeyRewardImage--selected");this._save(a)});this.selectedBanner.id==a.id&&r(c).addClass("c-monkeyRewardImage--selected");m.place(c,d);m.place(d,this.bannerSelector)}))},_createBannerDom:function(a){return m.create("img",{src:a.url,width:a.width,height:a.height,"class":"border-radius--lv1 padding--lv1 v-bg-base-gray"})},_renderSelectedBanner:function(){m.place(this._createBannerDom(this.selectedBanner),
this.bannerContainer,"only")},_toggleRewards:function(){q.post({url:save_style_url+"?id\x3d"+tpl_id,content:{property:"use-monkeyrewards",value:n.get(this.toggleRewards,"value"),selector:"fake"},sync:!0,handleAs:"text"})},_save:function(a){q.post({url:window.update_banner_campaign_url,content:{banner:a.id},handleAs:"json",load:c.hitch(this,function(){this.selectedBanner=a;this._renderSelectedBanner()})})},_onDone:function(a){b.stop(a);this.done()},onClose:function(){this.destroy()}})})},"mojo/neapolitan/editors/PrivacyBadgeEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dijit/_Templated dijit/_Widget mojo/url ./_EditorMixin dojo/text!./templates/privacyBadgeEditor.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([e,c,d],{templateString:b,widgetsInTemplate:!0,THEME_DARK:"dark",THEME_LIGHT:"light",model:null,postCreate:function(a){this.inherited(arguments);this._toggleElements(this.model.get("enabled"));this._setupInputs()},_toggleElements:function(a){a?(h.contains(this.privacyDescription,"hide")&&h.remove(this.privacyDescription,"hide"),h.contains(this.themeStyleSection,"hide")&&h.remove(this.themeStyleSection,"hide"),h.contains(this.privacyWarning,"hide")||h.add(this.privacyWarning,
"hide")):(h.contains(this.privacyWarning,"hide")&&h.remove(this.privacyWarning,"hide"),h.contains(this.privacyDescription,"hide")||h.add(this.privacyDescription,"hide"),h.contains(this.themeStyleSection,"hide")||h.add(this.themeStyleSection,"hide"))},onTogglePrivacyEnabled:function(a){this.model.set("enabled",a);this._toggleElements(this.model.get("enabled"))},onThemeChange:function(a,b){b&&this.model.set("theme",a)},_setupInputs:function(){this.privacyBadgeDark.set("value",this.model.get("theme")===
this.THEME_DARK);this.privacyBadgeLight.set("value",this.model.get("theme")===this.THEME_LIGHT);this.privacyBadgeEnabledSwitch.set("value",this.model.get("enabled"))},onSave:function(){},_onDone:function(a){a.preventDefault();a.stopPropagation();this.onSave(this.model);this.done()},_onCancel:function(a){a.preventDefault();a.stopPropagation();this.done()},onClose:function(){this.destroy()}})})},"mojo/neapolitan/editors/PageBannerEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/on dijit/_Templated dijit/_Widget mojo/url ./_EditorMixin ./_CKMixin ./GlobalElementStyleEditor dojo/text!./templates/pageBannerEditor.html".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([m,e,b,n],{templateString:q,widgetsInTemplate:!0,isPageTemplate:!0,model:null,postCreate:function(a){this.inherited(arguments);this._setupKbLink(this.model.get("_kbLink"));this._toggleElements(this.model.get("enabled"));this._setupInputs();this._setupStyleEditor()},startup:function(){this.showCKEditor(this.ckeditorContainer,null,this.model.get("content"),k.hitch(this,"publishReady"))},_setupKbLink:function(a){h.set(this.kbLink,"href",a)},_toggleElements:function(a){a?
(f.contains(this.styleEditorContainer,"hide")&&f.remove(this.styleEditorContainer,"hide"),f.contains(this.contentSection,"hide")&&f.remove(this.contentSection,"hide"),f.contains(this.pageBannerWarning,"hide")||f.add(this.pageBannerWarning,"hide")):(f.contains(this.pageBannerWarning,"hide")&&f.remove(this.pageBannerWarning,"hide"),f.contains(this.styleEditorContainer,"hide")||f.add(this.styleEditorContainer,"hide"),f.contains(this.contentSection,"hide")||f.add(this.contentSection,"hide"))},onToggleEnabled:function(a){this.model.set("enabled",
a);this._toggleElements(this.model.get("enabled"))},onCKChange:function(){this.model.set("content",this.editor.getData())},_setupInputs:function(){this.pageBannerEnabledSwitch.set("value",this.model.get("enabled"))},save:function(){return this.onSave(this.model)},onSave:function(){},_onDone:function(a){a.preventDefault();a.stopPropagation();this.onSave(this.model);this.done()},_onCancel:function(a){a.preventDefault();a.stopPropagation();this.done()},onClose:function(){this.destroy()},_setupStyleEditor:function(){if(this.styleEditorContainer){var b=
this._getStyleEditor();b.startup();a.place(b.domNode,this.styleEditorContainer);this.watch("styles",k.hitch(this,function(){b.updateInputs(this.block.styles)}))}},_getStyleEditor:function(){if(!this.styleEditor||this.styleEditor._destroyed){var a=k.clone(this.model.styles);this.styleEditor=new p({styles:a,type:"Styles"});this.connect(this.styleEditor,"onChange",function(a){this.model.set("styles",a)});this.connect(this.styleEditor,"onCancel",function(a){this.model.set("styles",a);this._done()})}return this.styleEditor}})})},
"mojo/neapolitan/editors/GlobalElementStyleEditor":function(){define(["dojo/_base/declare","dojo/dom-class","mojo/utils","./StyleEditor","dojo/text!./templates/globalElementStyleEditor.html"],function(l,k,h,f,a){return l([f],{templateString:a,type:"",kbLink:null,isOptional:!0,widgetsInTemplate:!0,postCreate:function(){this.inherited(arguments)},onChange:function(){h.globalPublish("neapolitan/blocks/style/changed")}})})},"mojo/neapolitan/widgets/PreservedContentDialog":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Templated dijit/layout/ContentPane dojo/on dojo/io-query dojo/Deferred dojo/text!./templates/preservedContentDialog.html dojo/dom-construct dojo/dom-class dojo/_base/lang dijit/Dialog".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([k,h],{templateString:m,widgetsInTemplate:!0,postMixInProperties:function(){if(!this.campaignId)throw Error("Please specify the template or campaign Id");if(!this.rootUrl)throw Error("Please specify the root url for this editor");if(!this.preservedContentBlocks)throw Error("You must specify preserved content map");},postCreate:function(){var c=this;this.index=null;this.watch("index",n.hitch(this,function(a,c,d){b.toggle(this.prevBtn,"disabled",0>=d);b.toggle(this.nextBtn,
"disabled",d>=this.preservedContentBlocks.length-1);this._loadContent()}));this.own(a(this.prevBtn,"click",n.hitch(this,function(a){a.stopPropagation();a.preventDefault();b.contains(this.prevBtn,"disabled")||this.set("index",this.get("index")-1)})),a(this.nextBtn,"click",n.hitch(this,function(a){a.stopPropagation();a.preventDefault();b.contains(this.nextBtn,"disabled")||this.set("index",this.get("index")+1)})),a(this.useBtn,"click",function(a){a.stopPropagation();a.preventDefault();c.hide().then(function(){c.promise.resolve(c.preservedContentBlocks[c.index])})}),
a(this.cancelBtn,"click",n.hitch(this,"hide")))},_loadContent:function(){this.contentPane||(this.contentPane=new f({},this.contentPaneContainer));var a=c.objectToQuery({id:this.campaignId,block:this.preservedContentBlocks[this.index].name,type:this.preservedContentBlocks[this.index].type});this.contentPane.setHref(this.rootUrl+"/preserved-block-preview?"+a)},show:function(){this.promise=new e;this.dialog||(this.dialog=new p({title:"Recovered Content",content:this.domNode}));this.set("index",0);this.dialog.show();
return this.promise},hide:function(){if(this.dialog)return this.dialog.hide();var a=new e;a.resolve();return a}})})},"mojo/api/privacy-badge":function(){define("dojo/_base/declare dojo/_base/lang dojo/request/xhr dojo/Deferred dojo/Stateful mojo/url mojo/utils mojo/user mojo/lib/flags".split(" "),function(l,k,h,f,a,c,e,m,d){var b=l([a],{enabled:!0,theme:"light",pageId:null});return{save:function(a){var b=c.toUrl("/landing-pages/save-privacy-badge-settings",{id:a.pageId});a={enabled:a.get("enabled"),
theme:a.get("theme")};return h.post(b,{handleAs:"json",data:{setting:JSON.stringify(a)}})},createFromProperties:function(a){return new b(a)}}})},"mojo/api/page-banner":function(){define("dojo/_base/declare dojo/_base/lang dojo/request/xhr dojo/Deferred dojo/Stateful mojo/url mojo/user mojo/lib/flags".split(" "),function(l,k,h,f,a,c,e,m){var d=l([a],{styles:[{name:"Style",selector:".mcnPageBannerContainer",props:{"background-color":{value:"#BFECFA",isOptional:!1}}}],pageId:null,content:'\x3cp style\x3d"text-align: center;"\x3e\x3cem\x3eWrite your own or use one of our examples:\x3c/em\x3e\x3c/p\x3e\x3cp style\x3d"text-align: center;"\x3eWe use cookies to improve your experience and help us understand how you use our site. By using this site, you accept our [use of cookies].\x3c/p\x3e\x3cp style\x3d"text-align: center;"\x3eAct fast! This offer ends March 31.\x3c/p\x3e',
enabled:!1,_kbLink:"https://kb.mailchimp.com/campaigns/landing-pages/use-notification-bars-on-landing-pages"});return{save:function(a){var d=c.toUrl("/landing-pages/save-page-banner-settings",{id:a.pageId});a={styles:a.get("styles"),content:a.get("content"),enabled:a.get("enabled")};return h.post(d,{handleAs:"json",data:{setting:JSON.stringify(a)}})},createFromProperties:function(a){return new d(a)}}})},"mojo/polyfills/Element.matches":function(){define([],function(){Element.prototype.matches||(Element.prototype.matches=
Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(l){l=(this.document||this.ownerDocument).querySelectorAll(l);for(var k=l.length;0<=--k&&l.item(k)!==this;);return-1<k});return{}})},"mojo/views/landing-pages/finished-published":function(){define("dojo/_base/declare dojo/on dojo/query mojo/utils/promotion-utils mojo/lib/logger mojo/views/_base".split(" "),
function(l,k,h,f,a,c){return l([c],{onReady:function(){h("[data-lp-social-share]").forEach(function(c){var f=c.dataset.lpSocialShare,d=c.dataset.lpId;k(c,"click",function(b){a.info("landing-pages","Published Page Social Promotion",{page_id:d,social_network:f});return!0})});f.setupButtonEvents()}})})},"mojo/views/index/index":function(){define("dojo/_base/declare mojo/views/_base mojo/widgets/index/campaigns/CampaignContainer mojo/widgets/index/recommendations/RecommendationContainer mojo/widgets/index/stats/StatsContainer mojo/widgets/index/resources/ResourcesContainer".split(" "),
function(l,k,h,f,a,c){return l([k],{recommendationContainer:null,statsContainer:null,resourcesContainer:null,onReady:function(){this.$el.greeting.innerText=this.welcome.greeting;this.$el.firstName.innerText=this.welcome.firstName;this._initRecommendations();this._initStats();this._initCampaigns();this._initResources()},_initRecommendations:function(){this.recommendationContainer=new f({recommendations:this.recommendations},this.$el.recommendationContainer)},_initStats:function(){this.statsContainer=
new a({stats:this.stats},this.$el.statsContainer)},_initCampaigns:function(){this.campaignContainer=new h({campaigns:this.campaigns},this.$el.campaignContainer)},_initResources:function(){this.resourcesContainer=new c({resources:this.resources},this.$el.resourcesContainer)}})})},"mojo/views/index/new-dashboard":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/dom-class dojo/dom-construct dojo/on dojo/query dojo/request/xhr dijit/registry mojo/views/_base mojo/colors mojo/lib/flags mojo/url mojo/user mojo/widgets/ButtonGroup mojo/widgets/index/recommendations/RecommendationContainer mojo/widgets/account/connected-sites/MCJsTermsDialog d3/d3 mccharts/mccharts velocity/velocity".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A){return l([n],{storeDaySelect:null,audienceDaySelect:null,engagementDaySelect:null,recommendationContainer:null,storePastDays:null,storePercentage:null,fromMailChimpWidget:null,fromCampaignsWidget:null,fromAutomationsWidget:null,totalStoreRevenueWidget:null,storeOrdersWidget:null,ordersGraphData:null,audiencePastDays:null,audiencePercentage:null,audienceChangeWidget:null,unsubsBouncesWidget:null,totalAudienceWidget:null,sourcesGraphData:null,emailsDelivered:null,
openedTotal:null,openedPercentage:null,clickedTotal:null,clickedPercentage:null,addedToCartTotal:null,addedToCartPercentage:null,purchasedTotal:null,purchasedPercentage:null,emailsPastDays:null,ecommerceGraphData:null,showMCJsTermsModal:!1,onReady:function(){this.itemTpl="\x3cli class\x3d'c-buttonGroupItem'\x3e\x3cbutton data-mc-value\x3d'{value}' title\x3d'{title}' class\x3d'c-buttonGroupButton v-buttonGroupUnderlined'\x3e{label}\x3c/button\x3e\x3c/li\x3e";this.activeClass=" v-buttonGroupUnderlined--active";
t.flagIsOn(q.CONBOARDING_RECOMMENDATIONS)&&"viewer"!==t.role&&this.$el.recommendationSection&&this._initRecommendations();this.$el.dismissStore&&e(this.$el.dismissStore,"click",k.hitch(this,function(){this._loadDashboardData("dashboard/dismiss-connect-your-store").then(k.hitch(this,function(){A(this.$group.storeNoDataState,{opacity:.5},{duration:1500,complete:k.hitch(this,function(){a.add(this.$group.storeNoDataState,"no-clicky")})})}))}));this.$el.ecommerceSection&&this._initEcommerce();this.$el.audienceSection&&
this._initAudience();this.$el.engagementSection&&this._initEngagement();this._initAnalytics();this.showMCJsTermsModal&&(new v).show()},_initAnalytics:function(){this._logGoogleAnalytics(this.$el.btnConnectSite,"Button / Get Started - Connect Sites");this._logGoogleAnalytics(this.$el.dismissStore,"Link / Maybe Later - Connect Sites");this._logGoogleAnalytics(this.$el.storeName,"Link / View Connected Sites");this._logGoogleAnalytics(this.$el.linkConnectedSites,"Link / View Connected Sites");this._logGoogleAnalytics(this.$el.btnViewReportsEcomm,
"Button / View Reports - Ecommerce");this._logGoogleAnalytics(this.$el.btnCreateList,"Button / Create A List");this._logGoogleAnalytics(this.$el.btnImportSubscribers,"Button / Import Subscribers");this._logGoogleAnalytics(this.$el.btnViewLists,"Button / View Lists");this._logGoogleAnalytics(this.$el.btnSendCampaign,"Button / Send A Campaign");this._logGoogleAnalytics(this.$el.createCampaignButtonEngagement,"Button / Create A Campaign");this._logGoogleAnalytics(this.$el.btnViewReportsEngagement,"Button / View Reports - Engagement");
h.after(b.byId("dashMainTabContainer"),"selectChild",this._handleTabSelect)},_logGoogleAnalytics:function(a,b){a&&e(a,"click",function(){window.ga("send","event","dashboard","Dashboard Index",b)})},_handleTabSelect:function(a,b){if(b[0])switch(b[0].id){case "tabOverview":window.ga("send","event","dashboard","Dashboard Index","Tab Link / Overview");break;case "tabActivity":window.ga("send","event","dashboard","Dashboard Index","Tab Link / Activity")}},_initRecommendations:function(){var a=this.isClosed||
0>=Object.keys(this.recommendations).length?"closed":"open";if(this.$group.flashBlock||this.$group.feedbackBlock)a="closed";this.recommendationContainer=new w({state:a,recs:this.recommendations},this.$el.recommendationSection)},_initEcommerce:function(){var c=this;c.storeDaySelect=b.byId(this.$el.storeDaySelect.id);c.storePastDays=b.byId(this.$el.storePastDays.id);c.storePercentage=b.byId(this.$el.storePercentage.id);c.fromMailChimpWidget=b.byId(this.$el.revenueFromMailchimp.id);c.fromCampaignsWidget=
b.byId(this.$el.fromCampaigns.id);c.fromAutomationsWidget=b.byId(this.$el.fromAutomations.id);c.totalStoreRevenueWidget=b.byId(this.$el.totalStoreRevenue.id);c.storeOrdersWidget=b.byId(this.$el.storeOrders.id);var d=[{title:"Revenue",value:"Revenue",label:"Revenue"},{title:"Orders",value:"Orders",label:"Orders"}];c.storeTabs=new u({options:d,itemTpl:c.itemTpl,activeClass:c.activeClass});c.storeTabs.placeAt(c.$el.storeGraphToggler);c.storeTabs.startup();c.storeTabs.setSelected(d[0].value);var f=x.models.stackBarChart(),
h=x.models.multiLineTimeSeriesChart();c._loadDashboardData("dashboard/ecommerce").then(function(b){b=b.data;c._updateEcommerceMetaData(b);var d=b.revenue.data.orders;f.aspectRatio(2,1);f.xAxis.keyValue("date");f.yAxis.keyValue("val");f.yAxis.maxTicks(6);f.yAxis.tickFormat(x.u.currencyTick);f.colors([p.green6,p.green3,p.green1]);f.noDataMessage("Hmm...Looks like you don't have revenue data for this time period.");var e=b.site_count;c.$el.siteNoData&&0<e&&a.add(c.$el.siteNoData,"hide");var l=f.legend();
l.seriesLabels(["Campaigns","Automations","Other"]);l.horizontalAlign("right");e=f.tooltip();e.enabled(!0);e.xOffset(10);e.dataFormatter(function(a){var b=y.format(",.2f");return y.time.format("%b %d, %Y")(a.x)+"\x3cbr/\x3e$"+b(a.y)+" from "+l.seriesLabels()[a.seriesIndex]});f.loadChart("#storeRevenueChart",d);c.ordersGraphData=[b.orders.data.orders.completed_orders,b.orders.data.carts.recovered_carts];h.aspectRatio(2,1);h.xAxis.keyValue("date");h.xAxis.maxTicks(7);h.yAxis.keyValues(["val","val"]);
h.yAxis.maxTicks(6);h.colors([p.pink6,p.pink3]);h.noDataMessage("Hmm...Looks like you don't have orders data for this time period.");var n=h.legend();n.seriesLabels(["Completed Orders","Recovered Carts"]);n.horizontalAlign("right");b=h.tooltip();b.enabled(!0);b.dataFormatter(function(a){var b="",c=y.format(","),d=y.time.format("%b %d, %Y"),b=b+d(new Date(a.date))+"\x3cbr\x3e";a.serie0&&(b=b+n.seriesLabels()[0]+": \x3cspan style\x3d'font-weight: bold'\x3e"+c(a.serie0.val)+"\x3c/span\x3e \x3cbr\x3e");
a.serie1&&(b=b+n.seriesLabels()[1]+": \x3cspan style\x3d'font-weight: bold'\x3e"+c(a.serie1.val)+"\x3c/span\x3e \x3cbr\x3e");return b});c.storeTabs.on("change",k.hitch(c.storeTabs,function(){"Orders"===this.value?(a.add(c.$el.storeRevenueGraph,"hide"),a.remove(c.$el.storeOrdersGraph,"hide"),!1===!!m(".mcchart-container","storeOrdersGraph").children().length&&h.loadChart("#storeOrdersChart",c.ordersGraphData)):(a.remove(c.$el.storeRevenueGraph,"hide"),a.add(c.$el.storeOrdersGraph,"hide"))}))},function(a){});
e(c.storeDaySelect,"change",function(a){c._loadDashboardData("dashboard/ecommerce",a).then(function(b){b=b.data;c._updateEcommerceMetaData(b);c.storePastDays.set("endVal",a);var d={};d.xAxisFormat="360"===a?"%b '%y":"%b %d";f.update(b.revenue.data.orders,d);c.ordersGraphData=[b.orders.data.orders.completed_orders,b.orders.data.carts.recovered_carts];m(".mcchart-container","storeOrdersGraph").children().length&&h.update(c.ordersGraphData)})})},_updateEcommerceMetaData:function(a){var b=a.revenue.meta_data.orders.mailchimp.current,
c=a.revenue.meta_data.orders.total_by_series.email_campaigns,d=a.revenue.meta_data.orders.total_by_series.automations,e=a.revenue.meta_data.orders.totals.current,f=a.orders.meta_data.orders.totals.current;a=this._findRateOfChange(a.revenue.meta_data.orders.mailchimp.current,a.revenue.meta_data.orders.mailchimp.previous);this._checkPercentage(a,this.$el.storePercentageWrapper,this.storePercentage);this.fromMailChimpWidget.set("endVal",b);this.fromCampaignsWidget.set("endVal",c);this.fromAutomationsWidget.set("endVal",
d);this.totalStoreRevenueWidget.set("endVal",e);this.storeOrdersWidget.set("endVal",f);this.$el.storeName&&(this.$el.storeName.innerHTML="E-Commerce performance")},_initAudience:function(){var c=this;this.audienceDaySelect=b.byId(this.$el.audienceDaySelect.id);this.audiencePastDays=b.byId(this.$el.audiencePastDays.id);this.audiencePercentage=b.byId(this.$el.audiencePercentage.id);this.audienceChangeWidget=b.byId(this.$el.audienceChange.id);this.unsubsBouncesWidget=b.byId(this.$el.unsubsBounces.id);
this.totalAudienceWidget=b.byId(this.$el.totalAudience.id);var d=x.models.stackBarChart(),f=x.models.doughnutChart(),h=[{title:"Growth",value:"Growth",label:"Growth"},{title:"Sources",value:"Sources",label:"Sources"}];this.audienceTabs=new u({options:h,itemTpl:c.itemTpl,activeClass:c.activeClass});var l=!0;this.audienceTabs.placeAt(this.$el.audienceGraphToggler);this.audienceTabs.startup();this.audienceTabs.setSelected(h[0].value);this.audienceTabs.on("change",k.hitch(this.audienceTabs,function(){"Sources"===
this.value?(a.add(c.$el.audienceGrowthGraph,"hide"),a.remove(c.$el.audienceSourcesGraph,"hide"),l&&(l=!1,f.colors([p.blue6,p.green6,p.orange6,p.pink6,p.red6,p.violet6]),f.strokeWidth(40),f.percentageOnly(!0),f.loadChart("#sourcesDoughnutchart",c.sourcesGraphData).then(function(a){c._showNoDataState(a.data,c.$el.audienceSourcesGraphWrapper,c.$el.audienceSourcesNoData);f.legendContainer=c.$el.audienceSourcesLegend;c._createLegendNodes(a.data.length);f._createLegend()}))):(a.remove(c.$el.audienceGrowthGraph,
"hide"),a.add(c.$el.audienceSourcesGraph,"hide"))}));c._loadDashboardData("dashboard/audience").then(function(a){a=a.data;c.sourcesGraphData=a.sources.data.distribution.sources;c._updateAudienceMetaData(a);a={subscribers:a.growth.data.subscribers.active,net_growth:a.growth.data.subscribers.net_growth};d.aspectRatio(2,1);d.xAxis.keyValue("date");d.yAxis.keyValue("val");d.yAxis.maxTicks(6);d.colors([p.yellow6,p.yellow3]);d.noDataMessage("Hmm...Looks like you don't have growth data for this time period.");
var b=d.legend();b.seriesLabels(["Existing subscribers","Audience Change"]);b.horizontalAlign("right");var e=d.tooltip();e.enabled(!0);e.xOffset(10);e.dataFormatter(function(a){var c=y.format(",");return y.time.format("%b %d, %Y")(a.x)+"\x3cbr/\x3e"+b.seriesLabels()[a.seriesIndex]+": "+c(a.y)});d.loadChart("#audienceGrowthChart",a)},function(a){});e(c.audienceDaySelect,"change",function(a){c._loadDashboardData("dashboard/audience",a).then(function(b){b=b.data;c.audiencePastDays.set("endVal",a);c._updateAudienceMetaData(b);
c.sourcesGraphData=b.sources.data.distribution.sources;var e={};e.xAxisFormat="360"===a?"%b '%y":"%b %d";d.update({subscribers:b.growth.data.subscribers.active,net_growth:b.growth.data.subscribers.net_growth},e);l||f.updateData(c.sourcesGraphData).then(function(a){c._showNoDataState(a.data,c.$el.audienceSourcesGraphWrapper,c.$el.audienceSourcesNoData);c._createLegendNodes(a.data.length);f._createLegend()})})})},_showNoDataState:function(b,d,e){0===b.length?(a.add(d,"hide"),a.remove(e,"hide"),c.place("\x3cp\x3eHmm... Looks like you don't have audience data for this time period.\x3c/p\x3e",
this.$el.audienceSourcesNoData,"only")):(a.remove(d,"hide"),a.add(e,"hide"))},_createLegendNodes:function(a){for(var b=0;b<a;b++)c.place('\x3cdiv class\x3d"flex flex-justify-right"\x3e\x3cdiv class\x3d"flex-half"\x3e\x3c/div\x3e\x3cdiv class\x3d"flex-third"\x3e\x3c/div\x3e\x3c/div\x3e',this.$el.audienceSourcesLegend)},_updateAudienceMetaData:function(a){var b=a.growth.meta_data.subscribers.totals.active,c=a.growth.meta_data.subscribers.totals.net_growth,d=this._findRateOfChange(b,b-c);a=a.growth.meta_data.subscribers.totals.unsubscribes;
this._checkPercentage(d,this.$el.audiencePercentageWrapper,this.audiencePercentage);this.audiencePercentage.set("endVal",d);this.audienceChangeWidget.set("endVal",c);this.unsubsBouncesWidget.set("endVal",a);this.totalAudienceWidget.set("endVal",b)},_findRateOfChange:function(a,b){return 0===b?0:a/b*100-100},_initEngagement:function(){var c=this;this.engagementDaySelect=b.byId(this.$el.engagementDaySelect.id);this.emailsDelivered=b.byId(this.$el.emailsDelivered.id);this.openedTotal=b.byId(this.$el.openedTotal.id);
this.openedPercentage=b.byId(this.$el.openedPercentage.id);this.clickedTotal=b.byId(this.$el.clickedTotal.id);this.clickedPercentage=b.byId(this.$el.clickedPercentage.id);this.emailsPastDays=b.byId(this.$el.emailsPastDays.id);this.$el.addedToCartTotal&&(this.addedToCartTotal=b.byId(this.$el.addedToCartTotal.id),this.addedToCartPercentage=b.byId(this.$el.addedToCartPercentage.id),this.purchasedTotal=b.byId(this.$el.purchasedTotal.id),this.purchasedPercentage=b.byId(this.$el.purchasedPercentage.id));
if(this.$el.engagementToggler){var d=[{title:"Inbox",value:"Inbox",label:"Inbox"},{title:"E-commerce",value:"E-commerce",label:"E-commerce"}];this.engagementTabs=new u({options:d,itemTpl:c.itemTpl,activeClass:c.activeClass});this.engagementTabs.placeAt(this.$el.engagementToggler);this.engagementTabs.startup();this.engagementTabs.setSelected(d[0].value)}var f=x.models.multiLineTimeSeriesChart(),h=x.models.multiLineTimeSeriesChart(),l=!0;c._loadDashboardData("dashboard/engagement").then(function(b){var d=
b.data;c._updateEngagementMetadata(d);b=[d.campaigns.data.rates.open_rate,d.campaigns.data.rates.click_rate];c.ecommerceGraphData=[d.campaigns.data.rates.add_to_cart_rate,d.campaigns.data.rates.purchase_rate];f.aspectRatio(2,1);f.xAxis.keyValue("date");f.xAxis.maxTicks(7);f.yAxis.keyValues(["val","val"]);f.yAxis.maxTicks(6);f.yAxis.tickFormat(x.u.percentageTick);f.colors([p.violet6,p.violet3]);f.noDataMessage("Hmm...Looks like you don't have campaign engagement data for this time period.");var e=
f.legend();e.seriesLabels(["Opened","Clicked"]);e.horizontalAlign("right");d=f.tooltip();d.enabled(!0);d.dataFormatter(function(a){var b="",c=y.time.format("%b %d, %Y"),b=b+c(new Date(a.date))+"\x3cbr\x3e";a.serie0&&(b=b+e.seriesLabels()[0]+": \x3cspan style\x3d'font-weight: bold'\x3e"+y.format(".2f")(a.serie0.val)+"% \x3c/span\x3e \x3cbr\x3e");a.serie1&&(b=b+e.seriesLabels()[1]+": \x3cspan style\x3d'font-weight: bold'\x3e"+y.format(".2f")(a.serie1.val)+"% \x3c/span\x3e \x3cbr\x3e");return b});f.loadChart("#emailEngagementChart",
b);h.aspectRatio(2,1);h.xAxis.keyValue("date");h.xAxis.maxTicks(7);h.yAxis.keyValues(["val","val"]);h.yAxis.maxTicks(6);h.yAxis.tickFormat(x.u.percentageTick);h.colors([p.pink6,p.pink3]);h.noDataMessage("Hmm...Looks like you don't have e-commerce data for this time period.");var m=h.legend();m.seriesLabels(["Added to cart","Purchased"]);m.horizontalAlign("right");b=h.tooltip();b.enabled(!0);b.dataFormatter(function(a){var b="",c=y.time.format("%b %d, %Y"),b=b+c(new Date(a.date))+"\x3cbr\x3e";a.serie0&&
(b=b+m.seriesLabels()[0]+": \x3cspan style\x3d'font-weight: bold'\x3e"+y.format(".2f")(a.serie0.val)+"% \x3c/span\x3e \x3cbr\x3e");a.serie1&&(b=b+m.seriesLabels()[1]+": \x3cspan style\x3d'font-weight: bold'\x3e"+y.format(".2f")(a.serie1.val)+"% \x3c/span\x3e \x3cbr\x3e");return b});if(c.$el.engagementToggler)c.engagementTabs.on("change",k.hitch(c.engagementTabs,function(){"E-commerce"===this.value?(a.add(c.$el.emailEngagementChartWrapper,"hide"),a.remove(c.$el.ecommerceEngagementChartWrapper,"hide"),
l&&(l=!1,h.loadChart("#ecommEngagementChart",c.ecommerceGraphData))):(a.remove(c.$el.emailEngagementChartWrapper,"hide"),a.add(c.$el.ecommerceEngagementChartWrapper,"hide"))}))});e(this.engagementDaySelect,"change",function(a){c._loadDashboardData("dashboard/engagement",a).then(function(b){b=b.data;c.ecommerceGraphData=[b.campaigns.data.rates.add_to_cart_rate,b.campaigns.data.rates.purchase_rate];c.engagementDaySelect.set("endVal",a);c.emailsPastDays.set("endVal",a);l||h.update(c.ecommerceGraphData);
f.update([b.campaigns.data.rates.open_rate,b.campaigns.data.rates.click_rate]);c._updateEngagementMetadata(b)})})},_updateEngagementMetadata:function(a){var b=this._getPercentage(a.campaigns.meta_data.stats.total_by_series.opened,a.campaigns.meta_data.stats.total_by_series.delivered),c=this._getPercentage(a.campaigns.meta_data.stats.total_by_series.clicked,a.campaigns.meta_data.stats.total_by_series.opened),d=this._getPercentage(a.campaigns.meta_data.stats.total_by_series.added_to_cart,a.campaigns.meta_data.stats.total_by_series.clicked),
e=this._getPercentage(a.campaigns.meta_data.stats.total_by_series.purchased,a.campaigns.meta_data.stats.total_by_series.added_to_cart);this.emailsDelivered.set("endVal",a.campaigns.meta_data.stats.total_by_series.delivered);this.openedTotal.set("endVal",a.campaigns.meta_data.stats.total_by_series.opened);this.openedPercentage.set("endVal",b);this.clickedTotal.set("endVal",a.campaigns.meta_data.stats.total_by_series.clicked);this.clickedPercentage.set("endVal",c);this.addedToCartTotal&&this.addedToCartTotal.set("endVal",
a.campaigns.meta_data.stats.total_by_series.added_to_cart);this.purchasedTotal&&this.purchasedTotal.set("endVal",a.campaigns.meta_data.stats.total_by_series.purchased);this.addedToCartPercentage&&this.addedToCartPercentage.set("endVal",d);this.purchasedPercentage&&this.purchasedPercentage.set("endVal",e)},_getPercentage:function(a,b){return 0===b?0:a/b*100},_loadDashboardData:function(a,b){var c=7;b&&(c=b);var e=new f;d.get(r.toUrl(a),{handleAs:"json",query:{period:c}}).then(function(a){e.resolve({promise:"success",
data:a})});return e},_checkPercentage:function(b,c,d){-1<b&&1>b?a.add(c,"hide"):(a.remove(c,"hide"),d.set("endVal",b))}})})},"mojo/views/fresh/peaches2/users/lists/list-activity":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr","dojo/on","mojo/url"],function(l,k,h,f,a){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;f(this.$el.searchEmailForm,"submit",function(e){e.preventDefault();e.stopPropagation();a.findEmail()})},findEmail:function(){var c=encodeURIComponent(this.$el.searchEmailInput.value),
c=a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/lists}",{_s:"list-activity",user_id:this.pageJs.userAttrs.userId,search_email:c});this.pageJs.tabContainer.listActivitySection.set("href",c)}})})},"mojo/views/fresh/peaches2/users/lists/list-growth":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/peaches mojo/url dojo/html".split(" "),function(l,k,h,f,a,c,e){return l([k],{pageJs:null,elId:null,onReady:function(){var f=this;new a.ListGrowthChart("lists-growth-chart",
c.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/lists/list-growth-am-chart"),this.pageJs.userAttrs.userId,"all","recent");var d=this.$widget.listsGrowthSelect;d.set("onChange",function(){var b=this.attr("value"),h="";"all"!==b&&(h="(\x3ca onclick\x3d'event.preventDefault(); _mc.viewListDetails(this.innerHTML)' href\x3d'#0'\x3e"+b+"\x3c/a\x3e)");var k=d.attr("displayedValue");e.set(f.$el.listsGrowthTitle,"Growth for: "+k+h);new a.ListGrowthChart("lists-growth-chart",c.toUrl("peaches2/"+
f.pageJs.userAttrs.agentRole+"/users/lists/list-growth-am-chart"),f.pageJs.userAttrs.userId,b,"recent")})}})})},"mojo/views/fresh/peaches2/users/lists/list-stats":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/request/xhr mojo/url dojo/html dojo/dom dojo/query".split(" "),function(l,k,h,f,a,c,e,m,d){return l([k],{pageJs:null,elId:null,listId:null,onReady:function(){},peachesUrl:function(a,d){return c.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users"+a,
d)},vipList:function(a){this.listId=a;this.$widget.vipListDialog.show()},doVipList:function(){var a=this.$el.vipReason.value;a?(this.$widget.vipListDialog.hide(),window.location=this.peachesUrl("/lists/list-vip-add",{user_id:this.pageJs.userAttrs.userId,list_id:this.listId,reason:a})):window.alert("You have to provide a reason")},removeVipList:function(a){this.$widget.removeVipListDialog.show();this.listId=a},doRemoveVipList:function(){window.location=this.peachesUrl("/lists/list-vip-remove",{user_id:this.pageJs.userAttrs.userId,
list_id:this.listId})},deleteList:function(a){this.listId=a;this.$widget.deleteListDialog.show()},doListDeletion:function(){var a=this.$el.deleteListNote.value;a?window.location=this.peachesUrl("/lists/list-delete",{user_id:this.pageJs.userAttrs.userId,note:a,id:this.listId}):window.alert("You have to provide a note")},undeleteList:function(a){this.listId=a;this.$widget.undeleteListDialog.show()},doListUndeletion:function(){var a=this.$el.undeleteListNote.value;a?window.location=this.peachesUrl("/lists/list-undelete",
{user_id:this.pageJs.userAttrs.userId,id:this.listId,note:a}):window.alert("You have to provide a note")},showUnengaged:function(b,c){var d=h.get(b,"id");null!==c&&a(this.peachesUrl("/lists//list-total-unengaged"),{query:{list_id:c,user_id:this.pageJs.userAttrs.userId},handleAs:"json"}).then(function(a){"success"===a.status?e.set(m.byId(d+"-container"),"[ unengaged: "+a.total+" ]"):alert("Oops! Something happened :( Sorry.")});return!1},showForceMembershipCheckDialog:function(a){this.listId=a;this.$widget.membershipcheckForceDialog.show()},
doForceMembershipCheck:function(){var a="action\x3d"+d("input[type\x3dradio][name\x3dmembershipcheck_action]:checked")[0].value+"\x26campaign_id\x3d"+this.$el.membershipcheckCampaignId.value+"\x26first_sent\x3d"+this.$el.membershipcheckFirstSent.checked+"\x26never_sent\x3d"+this.$el.membershipcheckNeverSent.checked+"\x26prune\x3d"+this.$el.membershipcheckPrune.checked+"\x26ecomm\x3d"+this.$el.membershipcheckEcomm.checked+"\x26rating\x3d"+this.$el.membershipcheckRating.value+"\x26no_open\x3d"+this.$el.membershipcheckNoOpen.value+
"\x26age\x3d"+this.$el.membershipcheckAge.value+"\x26list_id\x3d"+this.listId+"\x26user_id\x3d"+this.pageJs.userAttrs.userId;window.location=this.peachesUrl("/lists/force-membership-check?"+a)},showRemoveMembershipCheckDialog:function(a){this.listId=a;this.$widget.membershipcheckRemoveDialog.show()},doRemoveMembershipCheck:function(){window.location=this.peachesUrl("/lists/override-membership-check",{user_id:this.pageJs.userAttrs.userId,list_id:this.listId})}})})},"mojo/views/fresh/peaches2/users/lists/unsubscribe":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage mojo/peaches mojo/url mccharts/mccharts dojo/request/xhr dojo/dom-construct mojo/widgets/ButtonGroup dojo/dom-class".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q){return l([k],{pageJs:null,elId:null,onReady:function(){this.itemTpl="\x3cli class\x3d'c-buttonGroupItem'\x3e\x3cbutton data-mc-value\x3d'{value}' title\x3d'{title}' class\x3d'c-buttonGroupButton v-buttonGroupUnderlined'\x3e{label}\x3c/button\x3e\x3c/li\x3e";this.activeClass=" v-buttonGroupUnderlined--active";new e.ListsMostUnsubs(m.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/lists/get-list-most-unsubs"),this.pageJs.userAttrs.userId,m.toUrl("/peaches2/"+
this.pageJs.userAttrs.agentRole+"/users/lists/list-details",{user_id:this.pageJs.userAttrs.userId,list_id:null}));var b={target:"unsubscribe-reasons-list",filters:[{label:"List",key:"list_id",type:"select"},{label:"Age",key:"age",type:"select",options:{1:"One day",2:"Two days",7:"One week",30:"One month",90:"Three months"}},{label:"Reason",key:"reason",type:"select",options:{NORMAL:"NORMAL",NOSIGNUP:"NOSIGNUP",OTHER:"OTHER",SPAM:"SPAM"}},{label:"Type",key:"type",type:"select",options:{S:"Abuse Complaint",
A:"Admin",C:"Campaign",W:"Not a Campaign"}},{label:"Comments Only",key:"comments",type:"checkbox"}]},d=new a(b);this.$el.unsubscribeFilters.appendChild(d.domNode);b=new c(b);this.$el.unsubscribeFiltersMessage.appendChild(b.domNode);b={target:"reasons-by-age-list",filters:[{label:"Age",key:"age",type:"select",options:{1:"One day",2:"Two days",7:"One week",30:"One month",90:"Three months"}}]};d=new a(b);this.$el.unsubscribeReasonsFilters.appendChild(d.domNode);b=new c(b);this.$el.unsubscribeReasonsFiltersMessage.appendChild(b.domNode);
this.$el.unsubscribeButtonGroup&&(b=[{title:"All Time",value:"All Time",label:"All Time"},{title:"90 days",value:"90",label:"90 days"},{title:"30 days",value:"30",label:"30 days"}],this.unsubscribeTabs=new p({options:b,itemTpl:this.itemTpl,activeClass:this.activeClass}),this.unsubscribeTabs.placeAt(this.$el.unsubscribeButtonGroup),this.unsubscribeTabs.startup(),this.unsubscribeTabs.setSelected(b[0].value));this.showOverallGraph()},showOverallGraph:function(a){var c=this,e=d.models.doughnutChart();
b(m.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/lists/get-account-unsubs",{user_id:this.pageJs.userAttrs.userId}),{handleAs:"json"}).then(function(a){var b={};Object.keys(a).forEach(function(c){var d=[],e;for(e in a[c])if(a[c][e]){var f=a[c][e];switch(e){case "":e="Unspecified";break;case "NORMAL":e="No longer interested";break;case "NOSIGNUP":e="Did not sign up";break;case "SPAM":e="Spammy Content";break;case "OTHER":e="Other";break;case "INAPPROPRIATE":e="Inappropriate";break;case "BYADMIN":e=
"Unsub by Admin";break;default:e="Unknown Source"}d.push({type:e,value:f})}b[c]=d});return b}).then(function(a){e.colors("#cfbecd #b79db5 #9f7d9c #fbd4b4 #f69343 #ffeebf #fede88".split(" "));e.strokeWidth(30);e.percentageOnly(!0);e.loadChart("#overall-unsubscribe-reasons",a.all_time).then(function(a){e.legendContainer=c.$el.overallUnsubLegend;c._createLegendNodes(a.data.length);e._createLegend()});c.unsubscribeTabs.on("change",function(){"90"===this.value&&e.updateData(a.last_90_days).then(function(a){c._showNoDataState(a.data);
c._createLegendNodes(a.data.length);e._createLegend()});"30"===this.value&&e.updateData(a.last_30_days).then(function(a){c._showNoDataState(a.data);c._createLegendNodes(a.data.length);e._createLegend()});"All Time"===this.value&&e.updateData(a.all_time).then(function(a){c._showNoDataState(a.data);c._createLegendNodes(a.data.length);e._createLegend()})})})},_createLegendNodes:function(a){for(var b=0;b<a;b++)n.place('\x3cdiv class\x3d"flex small-meta"\x3e\x3cdiv class\x3d""\x3e\x3c/div\x3e\x3cdiv class\x3d"flex-fourth small-meta"\x3e\x3c/div\x3e\x3c/div\x3e',
this.$el.overallUnsubLegend)},_showNoDataState:function(a){0===a.length?q.remove(this.$el.noUnsubData,"hide"):q.add(this.$el.noUnsubData,"hide")}})})},"mojo/views/fresh/peaches2/users/integrations/api-watcher":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/request/xhr dojo/dom-class mojo/app/peaches2/utils".split(" "),function(l,k,h,f,a,c,e){return l([k],{pageJs:null,elId:null,onReady:function(){var k=this;this.$group.loggingStatusCheckbox&&this.$group.loggingStatusCheckbox.forEach(function(c){f(c,
"click",function(){var b=c.value,f="off";c.checked&&(f="on");a(k.pageJs.peachesUrl("/integrations/api-set-logging"),{query:{user_id:k.pageJs.userAttrs.userId,apikey:b,logging_status:f},handleAs:"json"}).then(function(a){"on"===a?c.checked=!0:"off"===a?c.checked=!1:e.setFlash("Error encountered: "+a,"error")})})});this.$group.viewApikeyData&&this.$group.viewApikeyData.forEach(function(d){f(d,"click",function(){var b=h.get(this,"data-apikey"),d=k.$el.apiCallList;d.innerHTML="\x3cdiv\x3e\x3cstrong\x3eLoading results...\x3c/strong\x3e\x3c/div\x3e";
k.$el.apiCallData.innerHTML="";k.$group.viewApikeyData.removeClass("selected");c.add(this,"selected");a(k.pageJs.peachesUrl("/integrations/api-watcher-data"),{query:{user_id:k.pageJs.userAttrs.userId,apikey:b}}).then(function(b){d.innerHTML=b;k.parse();f(k.$group.callListItem,"click",function(){var b=h.get(this,"data-call-id");k.$el.apiCallData.innerHTML="\x3cstrong\x3eLoading results...\x3c/strong\x3e";k.$group.callListItem.forEach(function(a){c.remove(a,"selected")});c.add(this,"selected");a(k.pageJs.peachesUrl("/integrations/api-watcher-data"),
{query:{user_id:k.pageJs.userAttrs.userId,call_id:b}}).then(function(a){k.$el.apiCallData.innerHTML=a})})})})})}})})},"mojo/views/fresh/peaches2/users/integrations/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/app/peaches2/tabContainerUtil mojo/app/peaches2/webhooks dojo/query".split(" "),function(l,k,h,f,a,c){return l([k,a],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var a=this;this.pageTabs.forEach(function(c){"webhooks"===c.stub&&
(c.href=h.toUrl("/peaches2/admin/webhooks/get-list",{users:a.userAttrs.userId}))});var c=new f;c.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=c;this.modules=this.tabContainer.viewModule},peachesUrl:function(a,c){return h.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users"+a,c)},exportCalls:function(){var a=c("[name\x3dapi-stats-date]")[0].value.split("-"),a=this.peachesUrl("/integrations/export-api-calls",{user_id:this.userAttrs.userId,d:a[2],m:a[1],y:a[0]});
document.location.href=a}})})},"mojo/views/fresh/peaches2/users/integrations/webhooks":function(){define(["dojo/_base/declare","mojo/views/_base"],function(l,k){return l([k],{pageJs:null,elId:null,onReady:function(){this.pageJs.webhookHeadCheckAll()}})})},"mojo/views/fresh/peaches2/users/ecommerce/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","mojo/app/peaches2/tabContainerUtil"],function(l,k,h,f){return l([k],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,
onReady:function(){var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule}})})},"mojo/views/fresh/peaches2/users/compliance/abuse-report":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/url mojo/peaches".split(" "),function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;a.loadAbuseChart();f(this.$el.growthSelect,"change",function(){a.changeList()})},
loadAbuseChart:function(){new c.AbusePerformanceOverviewChart("campaign-history",a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/campaign-abuse-history-json-data",{user_id:this.pageJs.userAttrs.userId}))},changeList:function(){var e=this.$el.growthSelect.value;"All Lists"===e&&this.loadAbuseChart();e=a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/campaign-abuse-history-json-data",{user_id:this.pageJs.userAttrs.userId,list_id:e});new c.AbusePerformanceOverviewChart("campaign-history",
e)}})})},"mojo/views/fresh/peaches2/users/compliance/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","mojo/app/peaches2/tabContainerUtil","mojo/views/fresh/peaches2/users/lists/index"],function(l,k,h,f,a){return l([k,a],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule}})})},"mojo/views/fresh/peaches2/users/compliance/list-stats":function(){define(["dojo/_base/declare",
"mojo/views/fresh/peaches2/users/lists/list-stats"],function(l,k){return l([k])})},"mojo/views/fresh/peaches2/users/campaigns/automation":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr dojo/on dojo/topic dijit/registry".split(" "),function(l,k,h,f,a,c,e){return l([h],{pageJs:null,elId:null,automationListRendered:null,onReady:function(){var h=this;c.subscribe("mojo/analytics/List/automations-list/render",function(c){var b=h.pageJs;h.pageJs.tabContainer.automationSection.set("title",
"Automation ("+c.total+")");h.parse(h.elId);h.$group.automationEmailTool&&h.$group.automationEmailTool.forEach(function(a){e.byId(a.id).set("onChange",function(){b.openEmailTool(this)})});h.$group.manageAutomationLinksButtons&&h.$group.manageAutomationLinksButtons.forEach(function(c){a(c,"click",function(){b.manageLinks(f.get(c,"data-campaign-id"))})});h.$group.manageAutomationLinksButtons&&h.$group.manageAutomationLinksButtons.forEach(function(c){a(c,"click",function(){b.manageBounces(f.get(c,"data-campaign-id"))})});
h.$group.deleteAutomationButtons&&h.$group.deleteAutomationButtons.forEach(function(c){a(c,"click",function(){b.deleteCampaign(f.get(c,"data-campaign-id"),f.get(c,"data-campaign-type"),"automation")})});h.$group.viewAutomationDetails&&h.$group.viewAutomationDetails.forEach(function(c){a(c,"click",function(){b.viewCampaignDetails(f.get(c,"data-campaign-id"))})});h.$group.viewParentDetails&&h.$group.viewParentDetails.forEach(function(c){a(c,"click",function(){b.viewCampaignDetails(f.get(c,"data-campaign-id"))})});
h.$group.viewDetailsTitleButtons&&h.$group.viewDetailsTitleButtons.forEach(function(c){a(c,"click",function(){b.viewCampaignDetails(f.get(c,"data-campaign-id"))})});h.automationListRendered||(h.automationListRendered=!0,b.loadFilter("automation"))})}})})},"mojo/views/fresh/peaches2/users/campaigns/autoresponder":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr dojo/on dojo/topic dijit/registry".split(" "),function(l,k,h,f,a,c,e){return l([h],{pageJs:null,elId:null,
autoresponderRendered:null,onReady:function(){var h=this;c.subscribe("mojo/analytics/List/autoresponders-list/render",k.hitch(this,function(c){var b=this.pageJs;h.pageJs.tabContainer.autoresponderSection.set("title","Autoresponder ("+c.total+")");h.parse(this.elId);h.$group.autoresponderEmailTool&&h.$group.autoresponderEmailTool.forEach(function(a){e.byId(a.id).set("onChange",function(){b.openEmailTool(this)})});h.$group.deletAutoresponderButtons&&h.$group.deletAutoresponderButtons.forEach(function(c){a(c,
"click",function(){b.deleteCampaign(f.get(c,"data-campaign-id"),null,"autoresponder")})});h.$group.manageAutoresponderBounces&&h.$group.deletAutomanageAutoresponderBouncesresponderButtons.forEach(function(c){a(c,"click",function(){b.manageBounces(f.get(c,"data-campaign-id"))})});h.$group.manageAutoresponderLinks&&h.$group.manageAutoresponderLinks.forEach(function(c){a(c,"click",function(){b.manageLinks(f.get(c,"data-campaign-id"))})});h.$group.viewAutoresponderDetails&&h.$group.viewAutoresponderDetails.forEach(function(c){a(c,
"click",function(){b.viewCampaignDetails(f.get(c,"data-campaign-id"))})});this.autoresponderRendered||(this.autoresponderRendered=!0,b.loadFilter("autoresponder"))}))}})})},"mojo/views/fresh/peaches2/users/campaigns/deleted":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr dojo/dom-class dojo/on dojo/topic dijit/registry".split(" "),function(l,k,h,f,a,c,e,m){return l([h],{pageJs:null,elId:null,deletedCampaignsRendered:null,deletedAutomationsRendered:null,onReady:function(){var d=
this;this.parse(this.elId);var b=this.pageJs;this.$widget.chooseDeletedCampaign.set("onChange",function(){"campaigns"===this.value&&(a.remove(d.$el.deletedCampaignsList,"hide"),a.add(d.$el.deletedAutomationsList,"hide"),a.add(d.$el.deletedOldCampaignsList,"hide"),d.$el.deletedTitle.innerHTML="Deleted Campaigns");"automations"===this.value&&(a.add(d.$el.deletedCampaignsList,"hide"),a.remove(d.$el.deletedAutomationsList,"hide"),a.add(d.$el.deletedOldCampaignsList,"hide"),d.$el.deletedTitle.innerHTML=
"Deleted Automations");"old-campaigns"===this.value&&(a.add(d.$el.deletedCampaignsList,"hide"),a.add(d.$el.deletedAutomationsList,"hide"),a.remove(d.$el.deletedOldCampaignsList,"hide"),d.$el.deletedTitle.innerHTML="Campaigns Deleted Before 06/30/2014")});e.subscribe("mojo/analytics/List/deleted-campaigns-list/render",k.hitch(this,function(a){this.parse(d.pageJs.tabContainer.deletedSection.id);this.$group.manageDeletedLinks&&this.$group.manageDeletedLinks.forEach(function(a){c(a,"click",function(){b.manageLinks(f.get(a,
"data-campaign-id"))})});this.$group.viewDeletedCampaign&&this.$group.viewDeletedCampaign.forEach(function(a){c(a,"click",function(){b.viewCampaignDetails(f.get(a,"data-campaign-id"))})});this.deletedCampaignsRendered||(b.loadFilter("deleted"),this.deletedCampaignsRendered=!0)}));e.subscribe("mojo/analytics/List/deleted-automations-list/render",k.hitch(this,function(a){this.parse(d.pageJs.tabContainer.deletedSection.id);this.$group.manageDeletedAutomationLinks&&this.$group.manageDeletedAutomationLinks.forEach(function(a){c(a,
"click",function(){b.manageLinks(f.get(a,"data-campaign-id"))})});this.$group.deletedAutomationsEmailTool&&this.$group.deletedAutomationsEmailTool.forEach(function(a){m.byId(a.id).set("onChange",function(){b.openEmailTool(this)})});this.$group.manageDeletedAutomationBounces&&this.$group.manageDeletedAutomationBounces.forEach(function(a){c(a,"click",function(){b.manageBounces(f.get(a,"data-campaign-id"))})});this.$group.manageDeletedAutomationLinks&&this.$group.manageDeletedAutomationLinks.forEach(function(a){c(a,
"click",function(){b.manageLinks(f.get(a,"data-campaign-id"))})});this.$group.viewDeletedAutomation&&this.$group.viewDeletedAutomation.forEach(function(a){c(a,"click",function(){b.viewCampaignDetails(f.get(a,"data-campaign-id"))})});this.$group.manageDeletedAutomationBounces&&this.$group.manageDeletedAutomationBounces.forEach(function(a){c(a,"click",function(){b.manageBounces(f.get(a,"data-campaign-id"))})});this.deletedAutomationsRendered||(b.loadFilter("deleted-automation"),this.deletedAutomationsRendered=
!0)}))}})})},"mojo/views/fresh/peaches2/users/campaigns/index":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base mojo/app/peaches2/tabContainerUtil mojo/app/peaches2/utils dojo/topic dijit/registry mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage dojo/dom dojo/dom-attr dojo/on dojo/dom-class mojo/utils mojo/url dojo/request/xhr".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([h],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,campaingId:null,
sectionId:null,onReady:function(){this.pageTabs.forEach(function(a){a.preload=!0});var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule;this.modules.autoresponder.set("campaignIndex",this);p(this.$el.deleteCampaignCancelButton,"click",k.hitch(this,function(){this.cancelDelete()}))},openEmailTool:function(a){a=a.attr("value");if(!a)return!1;"http:"===a.substring(0,5)||"https:"===a.substring(0,6)?window.open(a):
window.location=a;return!1},deleteCampaign:function(a,b,c){this.$el.campaignId.value=a;this.$el.sectionId.value=c;this.$el.regularUserId.value=this.userAttrs.userId;"variate-child"===b?q.remove("deleteVariateText","hide"):q.add("deleteVariateText","hide");this.$widget.deleteDialog.show()},submitDeletedCampaign:function(a){a.stopPropagation();a.preventDefault();0===this.$el.deleteNote.value.length?r.addError(this.$el.deleteNote,"Please provide a note"):5>this.$el.deleteNote.value.length?r.addError(this.$el.deleteNote,
"Please provide a more meaningful note"):this.$el.deleteDialogForm.submit()},cancelDelete:function(){this.$widget.deleteDialog.hide();r.removeErrors(this.$el.deleteNote);this.$el.deleteNote.value=""},manageLinks:function(a){var b=this;a={title:"Campaign Links: "+a,href:t.toUrl("/peaches2/"+b.userAttrs.agentRole+"/users/campaigns",{_s:"campaign-links",user_id:b.userAttrs.userId,cid:a}),stub:"campaign-links",closable:!0,onClose:function(){b.tabContainer.campaignLinksSection=null;return!0}};this.tabContainer.addNewPane(a,
!0)},viewCampaignDetails:function(a){var b=this;a={title:"Campaign Details: "+a,href:t.toUrl("/peaches2/"+b.userAttrs.agentRole+"/users/campaigns",{_s:"campaign-details",user_id:b.userAttrs.userId,cid:a}),stub:"campaign-details",closable:!0,onClose:function(){b.tabContainer.campaignDetailsSection=null;return!0}};this.tabContainer.addNewPane(a,!0)},manageBounces:function(a){var b=this;a={title:"Bounces: "+a,href:t.toUrl("/peaches2/"+b.userAttrs.agentRole+"/users/campaigns",{_s:"campaign-bounces",user_id:b.userAttrs.userId,
cid:a}),stub:"campaign-bounces",closable:!0,onClose:function(){b.tabContainer.campaignBouncesSection=null;return!0}};this.tabContainer.addNewPane(a,!0)},resizeIframe:function(){b.byId("HtmlIframe").style.height=frames.campaignIframe.document.body.scrollHeight+"px"},showCampaignContent:function(){this.saveCampaignDetailsTab("content");this.resizeIframe()},saveCampaignDetailsTab:function(b){u(t.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/campaigns/save-campaign-details-state",{user_id:this.userAttrs.userId,
section:b}),{handleAs:"json"}).then(function(a){},function(b){a.utils.setFlash(b,"error")})},translateToggle:function(a,b){var c="http://translate.google.com/translate?tl\x3den\x26u\x3d"+escape(b);window.open(c+"\x26translate_to\x3den",a,"height\x3d500,width\x3d700")},sendEventSearchForm:function(a,c,d){d=b.byId(d).value;e.byId("event-search-subsection").setHref(t.toUrl("/peaches2/"+this.userAttrs.agentRole+"/users/campaigns/event-search}",{user_id:a,cid:c,email:d}))},loadFilter:function(a){var c=
null,c=null,e={filters:[{label:"Status",key:"status",type:"select",options:{save:"Saved",paused:"Paused",schedule:"Scheduled",sending:"sending",sent:"Sent",canceled:"Cancelled"}},{label:"Created since...",key:"age",type:"select",options:{1:"One day ago",2:"Two days ago",7:"One week ago"}},{label:"List ID",key:"list_id",type:"text"},{label:"FROM Name",key:"from_name",type:"text"},{label:"FROM Email",key:"from_email",type:"text"},{label:"Title",key:"title",type:"text"},{label:"Subject",key:"subject",
type:"text"},{label:"Parent Campaign",key:"parent",type:"text"},{label:"Include this parent",key:"include_parent",type:"checkbox"}]};"autoresponder"===a&&(e.target="autoresponders-list",c=new m(e),b.byId("autoresponders-filters").appendChild(c.domNode),c=new d(e),b.byId("autoresponders-filters-message").appendChild(c.domNode));"automation"===a&&(e.target="automations-list",c=new m(e),b.byId("automations-filters").appendChild(c.domNode),c=new d(e),b.byId("automations-filters-message").appendChild(c.domNode));
e.filters.unshift({label:"Type",key:"type",type:"select",options:{regular:"Regular",plaintext:"Plain text",variate:"Multivariate","variate-child":"Multivariate Child",absplit:"A/B Split",rss:"RSS"}});"regular"===a&&(e.target="regular-list",c=new m(e),b.byId("campaigns-filters").appendChild(c.domNode),c=new d(e),b.byId("campaigns-filters-message").appendChild(c.domNode));"deleted"===a&&(e.target="deleted-campaigns-list",c=new m(e),b.byId("deleted-campaigns-filters").appendChild(c.domNode),c=new d(e),
b.byId("deleted-campaigns-filters-message").appendChild(c.domNode));"deleted-automation"===a&&(e.target="deleted-automations-list",c=new m(e),b.byId("deleted-automations-filters").appendChild(c.domNode),c=new d(e),b.byId("deleted-automations-filters-message").appendChild(c.domNode))}})})},"mojo/views/fresh/peaches2/users/campaigns/regular":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom-attr dojo/on dojo/topic dijit/registry".split(" "),function(l,k,h,f,a,c,e){return l([h],
{pageJs:null,elId:null,regularListRendered:null,onReady:function(){var h=this;c.subscribe("mojo/analytics/List/regular-list/render",k.hitch(this,function(c){var b=this.pageJs;h.pageJs.tabContainer.regularSection.set("title","Email Campaigns ("+c.total+")");h.parse(h.elId);h.$group.campaignEmailTool&&h.$group.campaignEmailTool.forEach(function(a){e.byId(a.id).set("onChange",function(){b.openEmailTool(this)})});h.$group.deleteRegularCampaign&&h.$group.deleteRegularCampaign.forEach(function(c){a(c,"click",
function(){b.deleteCampaign(f.get(c,"data-campaign-id"),f.get(c,"data-campaign-type"),"regular")})});h.$group.manageLinksButton&&h.$group.manageLinksButton.forEach(function(c){a(c,"click",function(){b.manageLinks(f.get(c,"data-campaign-id"))})});h.$group.mangageRegularBounceButtons&&h.$group.mangageRegularBounceButtons.forEach(function(c){a(c,"click",function(){b.manageBounces(f.get(c,"data-campaign-id"))})});h.$group.openCampaignDetailsSubject&&h.$group.openCampaignDetailsSubject.forEach(function(c){a(c,
"click",function(){b.viewCampaignDetails(f.get(c,"data-campaign-id"))})});h.$group.openCampaignDetailsId&&h.$group.openCampaignDetailsId.forEach(function(c){a(c,"click",function(){b.viewCampaignDetails(f.get(c,"data-campaign-id"))})});h.$group.viewMvtParentDetails&&h.$group.viewMvtParentDetails.forEach(function(c){a(c,"click",function(){b.viewCampaignDetails(f.get(c,"data-campaign-id"))})});h.$group.viewRssParentDetails&&h.$group.viewRssParentDetails.forEach(function(c){a(c,"click",function(){b.viewCampaignDetails(f.get(c,
"data-campaign-id"))})});this.regularListRendered||(this.regularListRendered=!0,b.loadFilter("regular"))}))}})})},"mojo/views/fresh/peaches2/users/billing/billing-setup":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/dom-style dojo/dom-class mojo/app/peaches2/utils".split(" "),function(l,k,h,f,a,c,e){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;this.$group.submitDateForm.forEach(function(a){f(a,"click",function(a){a.stopPropagation();a.preventDefault();
e.utils.sendFormViaAjax(this.parentElement)})});this.$el.firstPaymentInputEdit&&f(this.$el.firstPaymentInputEdit,"click",function(){c.remove(a.$el.firstPaymentInput,"hide");c.add(a.$el.firstPaymentInputEdit,"hide")});this.$el.lastPaymentInputEdit&&f(this.$el.lastPaymentInputEdit,"click",function(){c.remove(a.$el.lastPaymentInput,"hide");c.add(a.$el.lastPaymentInputEdit,"hide")});this.$el.monthlyStartDateInputEdit&&f(this.$el.monthlyStartDateInputEdit,"click",function(){c.remove(a.$el.monthlyStartDateInput,
"hide");c.add(a.$el.monthlyStartDateInputEdit,"hide")});this.$el.monthlyPaymentFailedInputEdit&&f(this.$el.monthlyPaymentFailedInputEdit,"click",function(){c.remove(a.$el.monthlyPaymentFailedInput,"hide");c.add(a.$el.monthlyPaymentFailedInputEdit,"hide")});this.$el.monthlyPlanRadio.checked&&c.add(this.$el.paygoPlanSelect,"hide");this.$el.paygoPlanRadio.checked&&c.add(this.$el.monthlyPlanSelect,"hide");f(this.$el.monthlyPlanRadio,"change",function(){a.$el.monthlyPlanRadio.checked&&(c.toggle(a.$el.monthlyPlanSelect,
"hide"),c.toggle(a.$el.paygoPlanSelect,"hide"))});f(this.$el.paygoPlanRadio,"change",function(){a.$el.paygoPlanRadio.checked&&(c.toggle(a.$el.monthlyPlanSelect,"hide"),c.toggle(a.$el.paygoPlanSelect,"hide"))})},cancelEdit:function(a,d){c.add(this.$el[a],"hide");c.remove(this.$el[d],"hide")}})})},"mojo/views/fresh/peaches2/users/billing/credit-account":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/array dojo/dom-attr dojo/on dojo/dom-class mojo/url dojo/request/xhr mojo/app/peaches2/utils".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([k],{pageJs:null,elId:null,onReady:function(){var b=this;this.totalCreditsInput=this.$el.totalCreditsInput;var d=0;h.forEach(this.$group.creditTypeRadio,function(e,f){c.contains(b.$group.creditTypeWrap[f],"hide")||(d=f);a(e,"change",function(){b.saveCreditTypeState(e.value);c.add(b.$group.creditTypeWrap[d],"hide");c.remove(b.$group.creditTypeWrap[f],"hide");d=f})});a(this.$el.creditAccountForm,"submit",function(a){a.stopPropagation();a.preventDefault();b.validateCreditAccountForm()});
var e=this.$el.currentMonkeyRewardsInput,f=this.$el.monkeyRewardsToCreditInput,k=this.$el.monkeyRewardsTotalAmount;a(f,"keyup",function(){b.setCreditAccount(f.value,e.value,k,!0)});a(f,"change",function(){b.setCreditAccount(f.value,e.value,k,!0)});var l=this.$el.currentMonthsInput,m=this.$el.monthsToCreditInput,w=this.$el.creditMonthsTotalAmount;l&&(a(m,"keyup",function(){b.setCreditAccount(m.value,l.value,w,!0)}),a(m,"change",function(){b.setCreditAccount(m.value,l.value,w,!0)}));var v=this.$el.currentFreeMandrillMonthlyBlocksInput,
y=this.$el.freeMandrillMonthlyBlocksToCreditInput,x=this.$el.freeMandrillMonthlyBlocksTotalAmount;v&&(a(y,"keyup",function(){b.setCreditAccount(y.value,v.value,x,!0)}),a(y,"change",function(){b.setCreditAccount(y.value,v.value,x,!0)}));var A=this.$el.currentMandrillBlocksInput,z=this.$el.mandrillBlocksToCreditInput,B=this.$el.mandrillBlocksTotalAmount;z&&(a(z,"change",function(){b.setCreditAccount(z.value,A.value,B,!0)}),a(z,"keyup",function(){b.setCreditAccount(z.value,A.value,B,!0)}));var C=this.$el.otherCreditsToCreditInput;
C&&(a(C,"change",function(){b.totalCreditsInput.value=C.value}),a(C,"keyup",function(){b.totalCreditsInput.value=C.value}))},saveCreditTypeState:function(a){m(e.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/billing/save-credit-type-state",{user_id:this.pageJs.userAttrs.userId,type:a}),{handleAs:"json"})},parseCurrency:function(a){return a.replace(/,/g,"")},commaSeparateNumber:function(a){for(;/(\d+)(\d{3})/.test(a.toString());)a=a.toString().replace(/(\d+)(\d{3})/,"$1,$2");return a},
setCreditAccount:function(a,c,d,e){c=this.parseCurrency(c);c=Number(a)+Number(c);var f=this.commaSeparateNumber(c.toFixed(2));this.totalCreditsInput.value=e?c.toFixed(2):a.toFixed(2);d.innerHTML=f},validateCreditAccountForm:function(){var a=this.$el.totalCreditsInput,e=this.$el.creditAccountForm,f=this.$el.creditReasonInput;if(""===a.value||0>=a.value)return d.utils.setFlash("Can not set the balance to less than zero.","error"),!1;if(0===f.value.length)return d.utils.setFlash("Dont forget to add the Reason for this credit.",
"error"),c.add(this.$el.creditReasonInput,"invalid"),!1;e.submit()}})})},"mojo/views/fresh/peaches2/users/billing/email-trace":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage".split(" "),function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,onReady:function(){var e={target:"emails-left-list",filters:[{label:"Since",key:"from",type:"text"},{label:"Up to",key:"to",type:"text"}]},f=new a(e);this.$el.emailsLeftListFilters.appendChild(f.domNode);
e=new c(e);this.$el.emailsLeftListFiltersMessage.appendChild(e.domNode)}})})},"mojo/views/fresh/peaches2/users/billing/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","mojo/app/peaches2/tabContainerUtil"],function(l,k,h,f){return l([k],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule}})})},"mojo/views/fresh/peaches2/users/billing/orders":function(){define(["dojo/_base/declare",
"mojo/views/_base","dojo/dom-attr","dojo/on","dojo/topic"],function(l,k,h,f,a){return l([k],{pageJs:null,elId:null,onReady:function(){var c=this;a.subscribe("mojo/analytics/List/orders-list/render",function(a){c.parse(c.elId);c.$group.viewOrderDetailsLink&&c.$group.viewOrderDetailsLink.forEach(function(a){f(a,"click",function(){c.viewOrderDetails(h.get(a,"data-url"),h.get(a,"data-order-id"))})})})},viewOrderDetails:function(a,e){var f=this;this.pageJs.tabContainer.addNewPane({title:"Order Details: "+
e,href:a,stub:"order-details",closable:!0,onClose:function(){f.pageJs.tabContainer.orderDetails=null;return!0}},!0)},refundOrder:function(a,e,f,d,b,h){this.$el.refundOrderId.value=a;this.$el.refundWarningText.innerHTML="Are you sure you want to refund order "+a+" on "+d+"?  This will reduce revenue by the amount refunded.";this.$el.refundAmount.value=e;this.$el.checkRefundRules.value=h;this.$widget.refundWarningArea.show()},retryOrder:function(a){this.$el.retryOrderId.value=a;this.$el.retryWarningText.innerHTML=
"Are you sure you want to retry order "+a+"?";this.$widget.retryWarningArea.show()},openChargeback:function(a){this.$el.openChargebackId.value=a;this.$el.openChargebackWarningText.innerHTML="Are you sure you want to open a chargeback on \x3cstrong\x3eorder "+a+"\x3c/strong\x3e? \x3cbr/\x3eIt's sure to disable sending until the user pays it back.";this.$widget.openChargebackWarningArea.show()},voidChargeback:function(a){this.$el.voidChargebackId.value=a;this.$el.voidChargebackWarningText.innerHTML=
"Are you sure you want to void the chargeback on \x3cstrong\x3eorder "+a+"\x3c/strong\x3e?";this.$widget.voidChargebackWarningArea.show()},cancelRetries:function(a){this.$el.cancelRetriesId.value=a;this.$el.cancelRetriesWarningText.innerHTML="Are you sure you want to cancel retries on \x3cstrong\x3eorder "+a+"\x3c/strong\x3e?";this.$widget.cancelRetriesWarningArea.show()}})})},"mojo/views/fresh/peaches2/users/billing/pre-pay":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr",
"dojo/on","mojo/app/peaches2/utils"],function(l,k,h,f,a){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this,e=this.$el.prePayCreditsSelect;this.updateCreditsAmount(e.options[e.selectedIndex].text);f(this.$el.prePayCreditsSelect,"change",function(){a.updateCreditsAmount(this.options[this.selectedIndex].text)});f(this.$el.prePayCreditsForm,"submit",function(e){e.preventDefault();e.stopPropagation();a.validatePrepayCreditsForm()});f(this.$el.prePayMonthlyForm,"submit",function(e){e.preventDefault();
e.stopPropagation();a.validatePrepayMonthlyForm()})},updateCreditsAmount:function(a){a=a.match(/\$[0-9]+(\.[0-9][0-9])?/g)[0].replace("$","");this.$el.prePayCreditsAmount.value=a},validatePrepayCreditsForm:function(){if(0>=this.$el.prePayCreditsAmount.value.length)return a.utils.setFlash("Please enter a value","error"),!1;this.$el.prePayCreditsForm.submit()},validatePrepayMonthlyForm:function(){if(0>=this.$el.prePayAmountInput.value.length)return a.utils.setFlash("Please enter a value","error"),!1;
if(""===this.$el.prePayMonthlyPlanSelect.value)return a.utils.setFlash("Please enter an option from the select box","error"),!1;this.$el.prePayMonthlyForm.submit()}})})},"mojo/views/fresh/peaches2/users/ads/facebook-deleted":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/topic dojo/_base/lang".split(" "),function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,onReady:function(){var c=this;c.pageJs.loadFilter("facebook-deleted");c.parse();a.subscribe("mojo/analytics/List/facebook-deleted-list/render",
function(a){c.$group.facebookDeletedAdId&&c.$group.facebookDeletedAdId.forEach(function(a){f(a,"click",function(){c.pageJs.viewAdDetails(h.get(a,"data-campaign-id"))})})})}})})},"mojo/views/fresh/peaches2/users/ads/facebook":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on dojo/topic dojo/_base/lang".split(" "),function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,onReady:function(){var c=this;c.pageJs.loadFilter("facebook");c.parse();a.subscribe("mojo/analytics/List/facebook-list/render",
function(a){c.$group.facebookAdId&&c.$group.facebookAdId.forEach(function(a){f(a,"click",function(){c.pageJs.viewAdDetails(h.get(a,"data-campaign-id"))})})})}})})},"mojo/views/fresh/peaches2/users/ads/index":function(){define("dojo/_base/declare dojo/topic mojo/views/_base mojo/url mojo/app/peaches2/tabContainerUtil mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage".split(" "),function(l,k,h,f,a,c,e){return l([h],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var c=
this;this.pageTabs.forEach(function(a){a.preload=!0});var d=new a;d.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=d;this.modules=this.tabContainer.viewModule;k.subscribe("mojo/analytics/List/facebook-deleted-list/render",function(a){c.parse();d.facebookDeletedSection.set("title","Deleted Facebook Ads ("+a.total+")")});k.subscribe("mojo/analytics/List/facebook-list/render",function(a){c.parse();d.facebookSection.set("title","Facebook Ads ("+a.total+")")})},
viewAdDetails:function(a){var c=this;a={title:"Ad Details: "+a,href:f.toUrl("/peaches2/"+c.userAttrs.agentRole+"/users/ads",{_s:"ad-details",user_id:c.userAttrs.userId,ad_id:a}),stub:"ad-details",closable:!0,onClose:function(){c.tabContainer.adDetailsSection=null;return!0}};this.tabContainer.addNewPane(a,!0)},loadFilter:function(a){var d,b={filters:[{label:"Status",key:"status",type:"select",options:{save:"Saved",paused:"Paused",schedule:"Scheduled",sending:"sending",sent:"Sent",canceled:"Cancelled"}},
{label:"Created since...",key:"age",type:"select",options:{1:"One day ago",2:"Two days ago",7:"One week ago"}},{label:"List ID",key:"list_id",type:"text"},{label:"FROM Name",key:"from_name",type:"text"},{label:"FROM Email",key:"from_email",type:"text"},{label:"Title",key:"title",type:"text"},{label:"Subject",key:"subject",type:"text"},{label:"Parent Campaign",key:"parent",type:"text"},{label:"Include this parent",key:"include_parent",type:"checkbox"}]};"facebook-deleted"===a&&(b.target="facebook-deleted-list",
d=new c(b),this.$el.facebookDeletedFilters.appendChild(d.domNode),d=new e(b),this.$el.facebookDeletedFiltersMessage.appendChild(d.domNode));"facebook"===a&&(b.target="facebook-list",d=new c(b),this.$el.facebookFilters.appendChild(d.domNode),d=new e(b),this.$el.facebookFiltersMessage.appendChild(d.domNode))}})})},"mojo/views/fresh/peaches2/users/account/cleanup":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-style","dojo/on"],function(l,k,h,f){return l([k],{pageJs:null,elId:null,
onReady:function(){var a=this;f(this.$el.actionSelect,"change",function(c){var e=this.value;a.$group.actionForm.forEach(function(a){e===a.id?h.set(a,"display","block"):h.set(a,"display","none")})})}})})},"mojo/views/fresh/peaches2/users/account/dkim":function(){define("dojo/_base/declare mojo/views/_base dojo/on mojo/url dojo/request/xhr mojo/app/peaches2/utils".split(" "),function(l,k,h,f,a,c){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;h(this.$el.dkimKeyName,"change",function(){a.populateForm()});
h(this.$el.dkimGenerateButton,"click",function(){a.generateDkim()});h(this.$el.dkimDeleteButton,"click",function(){a.deleteKey()});this.$el.dkimKeyChanges.onsubmit=function(){a.$el.dkimDomain.disabled=!1;a.$el.dkimSelector.disabled=!1}},generateDkim:function(){var e=this;a(f.toUrl("/peaches2/"+e.pageJs.userAttrs.agentRole+"/users/account/dkim-generate"),{query:{user_id:e.pageJs.userAttrs.userId}}).then(function(a){e.$el.dkimKeyData.value=a},function(a){c.utils.setFlash(a,"error")})},deleteKey:function(){var e=
this.$el.dkimKeyName.value;a(f.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/account/dkim-delete-key"),{query:{user_id:this.pageJs.userAttrs.userId,id:e}}).then(function(a){location.reload()},function(a){c.utils.setFlash(a,"error")})},populateForm:function(){var e=this,h=this.$el.dkimKeyName.value;"new"===h?(this.$el.dkimDomain.disabled=!1,this.$el.dkimSelector.disabled=!1,this.$el.dkimDomain.value="",this.$el.dkimSelector.value="",e.$el.dkimKeyData.value=""):(e.$el.dkimDomain.disabled=
!0,this.$el.dkimSelector.disabled=!0,a(f.toUrl("/peaches2/"+e.pageJs.userAttrs.agentRole+"/users/account/dkim-get-data"),{query:{user_id:e.pageJs.userAttrs.userId,id:h},handleAs:"json"}).then(function(a){e.$el.dkimSelector.value=a.selector;e.$el.dkimDomain.value=a.domain;e.$el.dkimKeyData.value=a.key_data},function(a){c.utils.setFlash(a,"error")}))}})})},"mojo/views/fresh/peaches2/users/account/features":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr","dojo/on"],function(l,
k,h,f){return l([k],{pageJs:null,elId:null,onReady:function(){var a=this;this.$group.addFeatureButtons&&this.$group.addFeatureButtons.forEach(function(c){f(c,"click",function(){a.addFeature(h.get(c,"data-feature-id"),h.get(c,"data-feature-name"))})});this.$group.removeFeatureButtons&&this.$group.removeFeatureButtons.forEach(function(c){f(c,"click",function(){a.removeFeature(h.get(c,"data-feature-id"),h.get(c,"data-feature-name"))})})},addFeature:function(a,c){this.$el.featureId.value=a;this.$el.featureStartTime.value=
"";this.$el.featureEndTime.value="";this.$el.addFeatureText.innerHTML="Do you want to add \x3cstrong\x3e"+c+"\x3c/strong\x3e to this user?";this.$widget.addFeatureDialog.show()},removeFeature:function(a,c){this.$el.featureRemoveId.value=a;this.$el.removeFeatureText.innerHTML="Are you sure you want to remove \x3cstrong\x3e"+c+"\x3c/strong\x3e from this user?";this.$widget.removeFeatureDialog.show()}})})},"mojo/views/fresh/peaches2/users/account/index":function(){define(["dojo/_base/declare","mojo/views/_base",
"mojo/url","mojo/app/peaches2/tabContainerUtil"],function(l,k,h,f){return l([k],{pageTabs:null,activeSection:null,userAttrs:null,modules:null,onReady:function(){var a=new f;a.createContentPanes(this.$el.informationTabs,this,window._mcaModules);this.tabContainer=a;this.modules=this.tabContainer.viewModule;"login-details"===this.activeSection&&this.modules.viewLogins.viewLoginDetails(window.location.href,"")},refreshUserActivityPane:function(a,c,e){this.tabContainer.userActivitySection&&(a=h.toUrl("/peaches2/"+
this.userAttrs.agentRole+"/users/account",{_s:"user-activity",type:"undefined"!==typeof e?e:"",user_id:a,page:c}),this.tabContainer.userActivitySection.setHref(a))}})})},"mojo/views/fresh/peaches2/users/account/summary":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/on mojo/url dojo/dom-class mojo/app/peaches2/utils".split(" "),function(l,k,h,f,a,c,e){return l([k],{pageJs:null,elId:null,editingSummary:!1,onReady:function(){var a=this;c.remove(this.$el.editSummaryButton,
"hide");f(this.$el.editSummaryButton,"click",function(){a.editSummary()})},editSummary:function(){var c=a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/account/edit-summary",{user_id:this.pageJs.userAttrs.userId});this.pageJs.tabContainer.summarySection.set("href",c);this.hideEditSummaryButton(!0);this.editingSummary=!0},saveSummary:function(a){a.preventDefault();var c=this;e.utils.sendFormViaAjax("edit-summary-form").then(function(){c.viewSummary();e.utils.updateUserTags(c.pageJs.userAttrs)})},
viewSummary:function(){var c=a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/account",{user_id:this.pageJs.userAttrs.userId,_s:"summary"});this.pageJs.tabContainer.summarySection.set("href",c);this.editingSummary=!1;this.hideEditSummaryButton(!1)},hideEditSummaryButton:function(a){var d=this.$el.editSummaryButton;if(!d)return!1;!0===a||!0===this.editingSummary?c.add(d,"hide"):c.remove(d,"hide")},showSwagHistory:function(){var c=this,d={title:"Swag History",href:a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+
"/users/account/swag-history",{user_id:this.pageJs.userAttrs.userId}),stub:"swag-history",closable:!0,onClose:function(){c.pageJs.tabContainer.swagHistorySection=null;return!0}};this.pageJs.tabContainer.addNewPane(d,!0)},showSegmentLogging:function(){var c=this,d={title:"Pro Segment",href:a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/account/pro-logging",{user_id:this.pageJs.userAttrs.userId}),stub:"pro-segment",closable:!0,onClose:function(){c.pageJs.tabContainer.proSegmentSection=
null;return!0}};this.pageJs.tabContainer.addNewPane(d,!0)},reinstate:function(c,d){"undefined"===typeof d&&(d=!1);var b=a.toUrl("/peaches2/"+this.pageJs.userAttrs.agentRole+"/users/reinstate-post",{user_id:this.pageJs.userAttrs.userId,whitelist:d});"Y"===c&&(b+="\x26send_email\x3dY");document.location=b}})})},"mojo/views/fresh/peaches2/users/account/view-logins":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/dom-attr","dojo/on"],function(l,k,h,f){return l([k],{pageJs:null,elId:null,
onReady:function(){var a=this;this.$group.viewLoginAccount&&this.$group.viewLoginAccount.forEach(function(c){f(c,"click",function(){a.viewLoginDetails(h.get(c,"data-url"),h.get(c,"data-name"))})});"login-details"===this.activeSection&&this.viewLoginDetails(window.location.href)},viewLoginDetails:function(a,c){var e=this;this.pageJs.tabContainer.addNewPane({title:"Login Details: "+c,href:a,stub:"login-details",closable:!0,onClose:function(){e.pageJs.tabContainer.loginDetailsSection=null;return!0}},
!0)}})})},"mojo/views/fresh/peaches2/qa/accounts/index":function(){define(["dojo/_base/declare","dojo/on","mojo/views/_base"],function(l,k,h){return l([h],{onReady:function(){var f=this;k(this.$el.addAccountButton,"click",function(){f.$widget.addAccountDialog.show()})},deleteTestingAccount:function(f){this.$el.userIdInput.value=f;this.$widget.deleteDialog.show()}})})},"mojo/views/fresh/peaches2/investigations/dashboards/suspicious-patterns/index":function(){define(["dojo/_base/declare","mojo/views/_base",
"mojo/analytics/parts/FilterMenu","mojo/analytics/parts/FilterMessage"],function(l,k,h,f){return l([k],{onReady:function(){var a={target:"suspicious-patterns-list",filters:[{label:"Type",key:"suspicious_type",type:"select",options:{"supported send":"Suspicious Send Patterns (supported)","unsupported send'":"Suspicious Send Patterns (unsupported)",monthly:"4XMonthly",stalked:"Stalked Users",signup:"Signup - Bad Domain",replyto:"Replyto - Bad Domain",listformspam:"List Form Spam",verification:"List Form Spam",
"large list upload":"Large List Upload","big sender":"Big Sender",vetting:"Vetting","potential spammer":"Potential Spammer"}}]},c=new h(a);this.$el.suspiciousPatternsFilters.appendChild(c.domNode);a=new f(a);this.$el.suspiciousPatternsFiltersMessage.appendChild(a.domNode)}})})},"mojo/views/fresh/peaches2/investigations/dashboards/multiple-accounts/index":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/dom-style dojo/dom-class dojo/dom".split(" "),function(l,k,h,f,a,c){return l([k],
{onReady:function(){this.toggleSection("domain")},toggleSection:function(a){h(".sectme").forEach(function(a){f.set(a,"display","none")});f.set(c.byId(a),"display","block")},toggleDetail:function(c){var k=c.split("-")[0];h(".detailme",c).forEach(function(c){a.contains(c,k)||("none"===f.get(c,"display")?(f.set(c,"display","none"),f.set(c,"display","block")):(f.set(c,"display","block"),f.set(c,"display","none")))})}})})},"mojo/views/fresh/peaches2/financial/exports":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/dom dojo/on dojo/dom-style dojo/dom-attr mojo/url dojo/query".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([h],{monthVal:null,yearVal:null,onReady:function(){var b=(new Date).getMonth()+1;e.set(d("option[value\x3d"+("0"+b).slice(-2)+"]")[0],"selected",!0);this.monthVal=this.$el.monthSelect.value;this.yearVal=this.$el.yearSelect.value;a(this.$el.monthSelect,"change",k.hitch(this,function(){this.monthVal=this.$el.monthSelect.value}));a(this.$el.yearSelect,"change",k.hitch(this,function(){this.yearVal=this.$el.yearSelect.value}))},exportOverviewReport:function(){10>=this.monthVal&&
2015>=this.yearVal?c.set(this.$el.ordersFeedback,"display","block"):c.set(this.$el.ordersFeedback,"display","non");document.location=m.toUrl("/peaches2/financial/export-discounts-overview ",{discount_month:this.monthVal})},exportMonthlyOrdersReport:function(){document.location=m.toUrl("/peaches2/financial/monthly-orders-post",{month:this.monthVal,year:this.yearVal})},exportMonthlyRefundsReport:function(){document.location=m.toUrl("/peaches2/financial/monthly-orders-post",{refunds_only:"Y",month:this.monthVal,
year:this.yearVal})},exportIntlOrdersReport:function(){document.location=m.toUrl("/peaches2/financial/i18n-orders-export",{month:this.monthVal,year:this.yearVal})},exportFBReports:function(){document.location=m.toUrl("/peaches2/financial/fb-export",{month:this.monthVal,year:this.yearVal})}})})},"mojo/views/fresh/peaches2/financial/orders":function(){define(["dojo/_base/declare","dojo/_base/lang","mojo/views/_base","mojo/analytics/parts/FilterMenu","mojo/analytics/parts/FilterMessage"],function(l,
k,h,f,a){return l([h],{onReady:function(){var c={target:"orders-list",filters:[{label:"Order Type",key:"type",type:"select",options:{internal:"Internal Orders",regular:"Regular Orders"}},{label:"Status",key:"status",type:"select",options:{paid:"Paid",refunded:"Refunded",failed:"Failed"}},{label:"Order ID",key:"order_id",type:"text"},{label:"User ID",key:"user_id",type:"text"}]},e=new f(c);this.$el.ordersFilters.appendChild(e.domNode);c=new a(c);this.$el.ordersFiltersMessage.appendChild(c.domNode)}})})},
"mojo/views/fresh/peaches2/delivery/seedlists/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","dojo/on","dijit/registry"],function(l,k,h,f,a){return l([k],{user_id:null,onReady:function(){var a=this;f(this.$el.createSeedlistButton,"click",function(){a.$widget.createSeedlistDialog.show()})},deleteSeedList:function(a){this.$el.userIdInput.value=a;this.$widget.deleteDialog.show()}})})},"mojo/views/fresh/peaches2/delivery/dedicated-ips/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url dijit/registry dojo/on mojo/analytics/parts/FilterMenu mojo/analytics/parts/FilterMessage".split(" "),
function(l,k,h,f,a,c,e){return l([k],{user_id:null,onReady:function(){var f=this,d={filters:[{label:"User ID",key:"user_id",type:"text"},{label:"Username or company",key:"username",type:"text"},{label:"MTA",key:"mta",type:"text"},{label:"Status",key:"status",type:"select",options:{Y:"Can send",N:"Can not send"}},{label:"Type",key:"type",type:"select",options:{SHEDICATED:"SHEDICATED",DEDICATED:"DEDICATED"}},{label:"Custom DNS",key:"dns",type:"select",options:{GENERIC:"GENERIC",ELIGIBLE:"ELIGIBLE",
CUSTOM:"CUSTOM",LEGACY:"LEGACY"}},{label:"Charged for IPs?",key:"is_billable",type:"select",options:{Y:"Yes",N:"No"}}],target:"dedicated-ip-list"},b=new c(d);this.$el.dedicatedIpListFilters.appendChild(b.domNode);d=new e(d);this.$el.dedicatedIpListFiltersMessage.appendChild(d.domNode);a(this.$el.createIpButton,"click",function(){f.$widget.createIpDialog.show()})},deleteIp:function(a){this.$el.userIdInput.value=a;this.$el.idInput.value=a;this.$widget.deleteDialog.show()}})})},"mojo/views/fresh/peaches2/admin/webhooks/index":function(){define(["dojo/_base/declare",
"mojo/views/_base","mojo/url","mojo/app/peaches2/webhooks","mojo/app/peaches2/utils"],function(l,k,h,f,a){return l([k,f],{users:null,onReady:function(){this.inherited(arguments);var c=this,e=this.users.list;e&&Object.keys(e).forEach(function(e){c.$widget["webHook"+e].set("onDownloadEnd",function(){a.utils.refreshOnError(this);c.webhookHeadCheckAll()})})}})})},"mojo/views/fresh/peaches2/admin/job-server/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/dom-style mojo/url dojo/on mojo/app/peaches2/utils dojo/request/xhr dijit/registry".split(" "),
function(l,k,h,f,a,c,e,m,d){return l([k],{onReady:function(){var a=this;c(this.$el.deleteAllErrorsButton,"click",function(){a.$widget.deleteAllErrorsDialog.show()});c(this.$el.closeDeleteAllButton,"click",function(){a.$widget.deleteAllErrorsDialog.hide()});c(this.$el.closeViewErrorsDialog,"click",function(){a.$widget.jobErrorsDialog.hide()})},viewErrors:function(b){var c=this;m(a.toUrl("/peaches2/admin/job-server/view-errors"),{query:{job:b}}).then(function(a){c.$el.viewErrorsDialogContent.innerHTML=
a;c.$widget.jobErrorsDialog.show()})},retryJob:function(b,c){var d=this;m(a.toUrl("/peaches2/admin/job-server/retry-single"),{query:{db_name:c,job_id:b},handleAs:"json"}).then(function(a){a.success?(f.set("error-"+a.job_id,"display","none"),d.$widget.jobErrorsDialog.hide(),e.utils.setFlash("Retrying job "+a.job_id,"info")):(d.$widget.jobErrorsDialog.hide(),e.utils.setFlash("Error occurred","error"))})},deleteJob:function(b,c){var d=this;m(a.toUrl("/peaches2/admin/job-server/delete-single"),{query:{db_name:c,
job_id:b},handleAs:"json"}).then(function(a){a.success?(f.set("error-"+a.job_id,"display","none"),d.$widget.jobErrorsDialog.hide(),e.utils.setFlash("Deleting job "+a.job_id,"info")):h.byId("error-"+a.job_id+"-action-delete").innerHTML="error occurred"})}})})},"mojo/views/fresh/peaches2/admin/agents/index":function(){define(["dojo/_base/declare","mojo/views/_base","mojo/url","dijit/registry"],function(l,k,h,f){return l([k],{user_id:null,deleteUser:function(a){this.$el.userIdInput.value=a;this.$widget.deleteDialog.show()},
exportPermissions:function(){document.location=h.toUrl("/peaches2/admin/agents/export",{type:"permissions"})}})})},"mojo/views/campaigns/edit":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct mojo/views/_base mojo/api/campaign mojo/widgets/checklist-editor/Container mojo/widgets/checklist-editor/status/CampaignStatus mojo/widgets/checklist-editor/items/CampaignName mojo/widgets/checklist-editor/items/From mojo/widgets/checklist-editor/items/Recipients mojo/widgets/checklist-editor/items/Subject mojo/widgets/checklist-editor/items/CampaignUrl mojo/widgets/checklist-editor/items/Content mojo/widgets/checklist-editor/items/SocialPostingWrapper mojo/widgets/campaigns/CampaignUrlErrorDialog mojo/widgets/checklist-editor/items/Settings mojo/lib/logger mojo/url mojo/utils dojo/dom-form dojo/dom-attr dojo/on".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z){var B=function(a){return!0},C=function(a){return!0};return l([f],{onReady:function(){this.campaign.content_button="sending"===this.campaign.status?"Edit design":this.campaign.rendered_html?this.campaign.is_content_ready?"Edit design":"Resolve":"Design Email";this.isRequestMapperDown&&new t({campaignUrl:this.campaign.campaign_url.url,campaignId:this.campaign.campaign_id});var f=[{label:"Name",position:"before",widget:m,isComplete:B,isValid:C},{label:"To",
description:"Who are you sending this campaign to?",actionLabel:"Add Recipients",editLabel:"Edit Recipients",contentWidget:b,isComplete:b.isComplete,isValid:b.isValid,isPending:function(a){return a.recipients.needsRecipientCount()}},{label:"From",description:"Who is sending this campaign?",editLabel:"Edit From",contentWidget:d,isComplete:d.isComplete,isValid:d.isValid},{label:"Subject",description:"What's the subject line for this campaign?",contentWidget:n,isComplete:n.isComplete,isValid:n.isValid},
{label:"Content",description:"Design the content for your email.",contentWidget:q,actionLabel:this.campaign.content_button,editLabel:this.campaign.content_button,errorLabel:this.campaign.content_button,isComplete:q.isComplete,isValid:q.isValid,activate:function(){window.location.href=v.toUrl("/campaigns/show",{id:this.model.campaignId})}},{label:"Share your campaign",position:"after",widget:p,isComplete:p.isComplete,isValid:p.isValid},{label:"Social Posting",position:"after",widget:r,isComplete:B,
isValid:C},{label:"Settings",position:"after",widget:u,isComplete:B,isValid:C}];(new c({statusWidget:e,model:a.createFromProperties(this.campaign),items:f,onSave:function(a,b){return b.patch(a)}})).placeAt(this.$el.campaignChecklist);this.$el.submitFeedbackForm&&z(this.$el.submitFeedbackForm,"click",k.hitch(this,function(){this.submitFeedbackform()}));this.$el.customerFeedbackTextArea&&z(this.$el.customerFeedbackTextArea,"keyup",k.hitch(this,function(){750<this.$el.customerFeedbackTextArea.value.length?
(A.set(this.$el.submitFeedbackForm,"disabled","disabled"),y.addError(this.$el.customerFeedbackTextArea,"Your message should be 750 characters or less.")):(A.remove(this.$el.submitFeedbackForm,"disabled"),y.removeErrors(this.$el.customerFeedbackTextArea))}))},submitFeedbackform:function(){750<this.$el.customerFeedbackTextArea.value.length?y.addError(this.$el.customerFeedbackTextArea,"Your message should be 750 characters or less."):(w.info("multichannel-checklist-editor","User Feedback",x.toObject(this.$el.checklistFeedbackForm)),
this.$widget.checklistFeedbackDialog.hide())}})})},"mojo/views/campaigns/index":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array mojo/views/_base dijit/registry dijit/Dialog dojo/dom dojo/query dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/on dojo/topic dojo/request dojo/Deferred dojo/promise/all dojo/request/xhr mojo/app/campaigns mojo/app/placards mojo/api/outreach mojo/utils mojo/url mojo/widgets/dashboard-feedback/GenericFeedbackPage mojo/user mojo/lib/flags".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F){return l([f],{onReady:function(){this.$el.feedbackdropdown&&q(this.$el.feedbackdropdown,"click",k.hitch(this,function(a){C.show(this.wufoo_feedback_form_id)}));this.campaignsChannel&&y.handleCommentUpdates(this.campaignsChannel);var b=this;q(m("#rename-form"),"submit",function(a){z.toggleButtonLoadingState(m("[data-action\x3d'try-rename']")[0]);a.preventDefault();b.tryRename(this)});if(D.flagIsOn(F.GLOBAL_LIST_SWITCHER)){var c=a.byId("list-select"),
d=a.getEnclosingWidget(e.byId("campaigns-list"));d.setFilter("list",c.value);c.on("change",function(){d.setFilter("list",c.value)})}b.$widget.newCampaignIndexDialog&&w(h.map(m("img",b.$widget.newCampaignIndexDialog.domNode),function(a){var b=new u;if(a.complete)b.resolve();else q.once(a,"load",function(){b.resolve()});return b.promise})).then(function(){b.$widget.newCampaignIndexDialog.show();var a=m("[data-action\x3d'dismissDialog']")[0];q(a,"click",function(a){b.$widget.newCampaignIndexDialog.hide()});
a.focus()});this.$el.tosFeedbackBlock&&q(this.$el.acceptTos,"click",k.hitch(this,function(){this._acceptTerms()}))},_acceptTerms:function(){v(B.toUrl("account/connected-sites/accept-terms-and-unpause-features"),{handleAs:"json"}).then(k.hitch(this,function(a){a.success&&p.set(this.$el.tosFeedbackBlock,"display","none")}))},showPauseModal:function(a,b,c){y.showPauseModal(a,b,c)},pauseAd:function(b,c){x.pauseAd(b,c).then(function(){a.byId("campaigns-list").render()})},unpauseAd:function(b,c){x.unpauseAd(b,
c).then(function(){a.byId("campaigns-list").render()})},showCancelAdModal:function(b,c){x.confirmCancel(b,c).then(function(){a.byId("campaigns-list").render()})},showRenameModal:function(a,b){y.showRenameModal(a,b)},tryRename:function(c){z.toggleButtonLoadingState(m("[data-action\x3d'try-rename']")[0]);var f=e.byId("rename-field"),h=f.value,k=b.get(f,"data-cid"),l=b.get(f,"data-oldname");if(h&&h!==l)a.byId("rename").hide(),n.place(n.create("input",{name:"id",type:"hidden",value:k}),c),n.place(n.create("input",
{name:"new_title",type:"hidden",value:h}),c),n.place(n.create("input",{name:"old_title",type:"hidden",value:l}),c),c.submit();else return c=e.byId("rename-error"),d.add(f,"invalid"),d.remove(c,"hide"),c.innerHTML=h===l?"That's the same name you had before.":"Every campaign needs a name. Get creative.",!1}})})},"mojo/views/campaigns/share":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base mojo/lib/logger mojo/url mojo/utils".split(" "),function(l,k,h,f,a,c){return l([h],{onReady:function(){}})})},
"mojo/views/campaigns/show":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/on dojo/dom-class dojo/dom dojo/query dojo/Deferred mojo/utils mojo/url mojo/widgets/campaigns/CampaignArchiveUrl".split(" "),function(l,k,h,f,a,c,e,m,d,b,n){return l([k],{campaignId:null,archivedBaseUrl:null,campaignToken:null,brandToken:null,rootDomain:null,onReady:function(){d.parseEmoji(c.byId("content"));this.$el.archiveUrlPane&&this._initEditArchiveUrl()},confirmLastEdit:function(){var a=
new m,b=this.$widget.editArchiveUrlConfirmation;f(this.$el.confirmationSave,"click",function(c){c.stopPropagation();c.preventDefault();a.resolve(!0);b.hide()});f(this.$el.confirmationCancel,"click",function(c){c.stopPropagation();c.preventDefault();a.resolve(!1);b.hide()});b.show();return a.promise},_initEditArchiveUrl:function(){var b=this,c=b.$el,d=null,e;f(c.editArchiveUrlButton,"click",h.hitch(this,function(){a.toggle(c.archiveUrlPane,"hide");a.toggle(c.editArchiveUrlPane,"hide");d||(d=new n({rootDomain:this.rootDomain,
campaignToken:this.campaignToken,brandToken:this.brandToken,campaignId:this.campaignId,archivedBaseUrl:this.archivedBaseUrl,editMode:!0}),d.placeAt(c.editArchiveUrlHolder))}));e=function(){if(d.campaignToken===d.originalValue){var e=new m;e.resolve();return e.promise}return d.editUrl().then(h.hitch(this,function(d){d.response.status&&(b.archivedUrlNumberOfRemainingEdits--,a.toggle(c.archiveUrlPane,"hide"),a.toggle(c.editArchiveUrlPane,"hide"),c.archiveUrlLink.innerHTML=d.response.url,c.archiveUrlLink.href=
d.response.url)}))};f(c.saveNewUrl,"click",h.hitch(this,function(){1===b.archivedUrlNumberOfRemainingEdits?this.confirmLastEdit().then(function(a){if(a)return e()}).then(function(){0===b.archivedUrlNumberOfRemainingEdits&&a.toggle(c.editArchiveUrlButton,"hide")}):e()}));f(c.cancelArchiveEditing,"click",h.hitch(this,function(){a.toggle(c.archiveUrlPane,"hide");a.toggle(c.editArchiveUrlPane,"hide")}))}})})},"mojo/views/campaigns/wizard/autocampaigns":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/on dojo/Deferred dojo/_base/lang dojo/request/xhr mojo/KeyShortcuts mojo/neapolitan/utils mojo/Pusher dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-prop dojo/parser dojo/_base/array dojo/html dojo/dom dojo/aspect dojo/dom-form dojo/store/Memory dojo/dnd/Source dojo/dnd/Manager dijit/registry dijit/Dialog mojo/widgets/Previewer mojo/widgets/AutomationOverlay mojo/widgets/automation/SettingsOverlay mojo/utils mojo/url dojo/topic velocity/velocity dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J,T,V,P){var K=l([z],{autoSync:!0,withHandles:!0,a:null,b:null,insertNodes:function(a,b,c,d){this.a=b;this.b=d}});return l([k],{isMergeBasedSend:null,parentCampaignId:null,campaignStatus:null,childCampaignCount:null,listId:null,maxOffset:null,channelName:null,onReady:function(){this.isMergeBasedSend&&this.instantiateMergeField();this.instantiateSingleSourceDnd(v.byId("emails-container"));this.initializeQueueCount();f(document,"[data-action\x3d'open-view']:click",
function(a){a.stopPropagation();a.preventDefault();if(a=n.get(this,"data-popup-id"))C.byId(a).onExecute();a=n.get(this,"data-view-id");var b=n.get(this,"data-email-id"),c=n.get(this,"data-email-name"),d=h(".email[data-email_id\x3d"+b+"]").parents(".email-row-container")[0];G.main().openView(b,a,{emailName:c},d)});f(document,"[data-action\x3d'open-settings']:click",function(){C.byId("settings-overlay").show()});T.subscribe("campaign/"+this.parentCampaignId+"/setup",function(){L.toast("Settings updated",
"success")});T.subscribe("campaign/"+this.parentCampaignId+"/title",function(a){h(".c-campaignTitle, #builder-header").forEach(function(b){r.set(b,"textContent",a)})});0<=(document.location.search||"").toLowerCase().indexOf("setup")&&C.byId("settings-overlay").show()},instantiateMergeField:function(){f(document,'[data-workflow\x3d"merge-field"]:change',c.hitch(this,"changeMergeFieldAction"))},changeMergeFieldAction:function(){var a=v.byId("auto-event-datemerge").value;e.post(J.toUrl("automations/change-merge-field"),
{data:{parent_campaign_id:this.parentCampaignId,merge_id:a},handleAs:"json"}).then(c.hitch(this,function(a){this.updateTriggersOnMergeFieldChange(a)}),function(a){})},updateTriggersOnMergeFieldChange:function(a){emailRows=h("#emails-container .email-row-container");u.forEach(emailRows,c.hitch(this,function(b,c){h("[data-action\x3d'trigger']",b)[0].innerHTML=a[c]}))},showDeleteConfirmation:function(a,b){var c=C.byId("delete-confirmation"),d=J.toUrl("automations/confirm-delete",{parent_campaign_id:a,
child_campaign_id:b});n.set(c,"href",d);c.show()},instantiateDeleteConfirmationForm:function(){var a=v.byId("delete-child-campaign");h("input[type\x3dtext]",a)[0].focus();f(a,"submit",c.hitch(this,function(a){a.stopImmediatePropagation();a.preventDefault();var b=parseInt(h("input[name\x3dchild_campaign_id]")[0].value,10);a=h("input[name\x3dparent_campaign_id]")[0].value;e.post(J.toUrl("automations/delete-child-campaign"),{data:{child_campaign_id:b,parent_campaign_id:a},handleAs:"json"}).then(c.hitch(this,
function(a){"success"===a.status?this.deleteChildCampaign(b):"error"==a.status&&document.location.reload(!0)}),function(a){})}))},deleteChildCampaign:function(a){C.byId("delete-confirmation").hide();var b=this.getChildCampaignRow(a);V(b,{opacity:[.2,[.7,0,.175,1.333],1],scaleY:[0,[.7,0,.175,-.2],1],maxHeight:[0,[.7,0,.175,-.2],"300px"]},{delay:100,duration:333,complete:c.hitch(this,function(){L.toast("Roger that\x26mdash;email deleted successfully. Over.","success");q.destroy(b)})})},addChildCampaign:function(a){a=
{data:{campaign_id:a,date_based_event:this.isMergeBasedSend},handleAs:"json"};e.post(J.toUrl("automations/add-child-campaign"),a).then(c.hitch(this,function(a){"error"==a.status?document.location.reload(!0):(this.appendChildCampaignSource(a),T.publish("mojo/app/automation/addChildCampaign"),this.source&&(this.source.insertNodes(!1,a),this.source.sync()))}),function(a){})},appendChildCampaignSource:function(a,b){var c;b?(b.style.display="none",q.place(a.html,b,"after"),u.forEach(C.findWidgets(b),function(a){a.destroy()}),
q.destroy(b)):c=q.place(a.html,v.byId("emails-container"),"last");c=this.getChildCampaignRow(a.id);t.parse(c);V(c,{scaleY:[1,[.7,0,.175,1.333],0],opacity:[1,[.7,0,.175,1],.2]},{duration:200})},initializeQueueCount:function(){b.load().then(c.hitch(this,function(a){this.channel=a.subscribe(this.channelName);this.channel.bind("queue",function(a){this.processQueueCountUpdate(a)},this);e.post(J.toUrl("automations/queue-count"),{data:{parent_campaign_id:this.parentCampaignId},handleAs:"json"}).then(c.hitch(this,
function(a){}),function(a){})}))},processQueueCountUpdate:function(a){var b=this.getChildCampaignRow(a.campaign_id);b&&u.forEach(h("span[data-queue-count]",b),function(b){w.set(b,String(a.count))})},instantiateSingleSourceDnd:function(a){this.source||(this.source=new K(a));y.after(this.source,"onDrop",c.hitch(this,function(a,b,c){this.swapChildren(this.source.a[0],this.source.b)}))},swapChildren:function(a,b){var d=this.getChildCampaignId(a),f=this.getChildCampaignId(b);e.post(J.toUrl("automations/swap-content"),
{data:{a:d,b:f},handleAs:"json"}).then(c.hitch(this,function(c){if("success"==c.status){c=this.getChildCampaignImageUrl(a);var d=this.getChildCampaignImageUrl(b);this.setChildCampaignImageUrl(a,d);this.setChildCampaignImageUrl(b,c);c=this.getChildCampaignTitle(a);d=this.getChildCampaignTitle(b);this.setChildCampaignTitle(a,d);this.setChildCampaignTitle(b,c);this.notifyUser(a);this.notifyUser(b)}}),function(a){})},notifyUser:function(a){var b=h("[data-view-id\x3d'feedback']",a)[0];a=h("[data-view-id\x3d'status']",
a)[0];G.main().updateNotification("Content",b,a)},getChildCampaignImageUrl:function(a){return n.get(h(".c-emailImage",a)[0],"style")},setChildCampaignImageUrl:function(a,b){n.set(h(".c-emailImage",a)[0],"style",b)},getChildCampaignTitle:function(a){return h(".email-title",a)[0].innerHTML},setChildCampaignTitle:function(a,b){h(".email-title",a)[0].innerHTML=b},getChildCampaignId:function(a){return n.get(h(".email",a)[0],"data-email_id")},getChildCampaignStatus:function(a){return n.get(h(".email",a)[0],
"data-status")},getChildCampaignRow:function(a){return h(".email[data-email_id\x3d"+a+"]").parents(".email-row-container")[0]},reorderEmails:function(a){var b=v.byId("emails-container");u.forEach(a,function(a){row=this.getChildCampaignRow(a);q.place(row,b)},this)},toggleAddWorkflowButton:function(a){(addWorkflowButton=h("[data-view-id\x3d'queueAdd']")[0])&&(a?n.remove(addWorkflowButton,"disabled"):n.set(addWorkflowButton,"disabled","disabled"))},updateQueueCount:function(a){var b=this.getChildCampaignId(a);
e.get(J.toUrl("automations/get-queue-count",{id:b}),{handleAs:"json"}).then(c.hitch(this,function(b){"error"!=b.status&&u.forEach(h("span[data-queue-count]",a),function(a){w.set(a,b.count)})}),function(a){})},replicateChildCampaign:function(a){C.byId(n.get(h(".email[data-email_id\x3d"+a+"] .dijitComboButton")[0],"id")).closeDropDown();var b=this.parentCampaignId;e.post(J.toUrl("automations/replicate-child-campaign"),{data:{child_campaign_id:a,parent_campaign_id:b,date_based_event:this.isMergeBasedSend},
handleAs:"json"}).then(c.hitch(this,function(a){"error"==a.status?document.location.reload(!0):this.appendChildCampaignSource(a)}),function(a){})},toggleChildCampaignStatus:function(a){var b=this.parentCampaignId,d=this.getChildCampaignStatus(this.getChildCampaignRow(a)),f=h(".email[data-email_id\x3d"+a+"] .dijitComboButton a")[0];if(f)switch(d){case "sending":w.set(f,"Pausing \x26hellip;");break;case "paused":w.set(f,"Resuming \x26hellip;");break;case "draft":w.set(f,"Starting \x26hellip;")}e.post(J.toUrl("automations/toggle-child-campaign-status"),
{data:{child_campaign_id:a,parent_campaign_id:b},handleAs:"json"}).then(c.hitch(this,function(b){var c=this.getChildCampaignRow(a);this.appendChildCampaignSource(b,c);this.source&&(this.source.insertNodes(!1,b),this.source.sync())}),function(a){})},previewLayout:function(a,b,c,d,e,f){this.previewer&&this.previewer.destroy();this.previewer=new F({previewId:a,previewType:c,titleText:b,emailText:e,badgeText:d,showMergeInfo:f,splitsOnSubject:!1});this.previewer.show()},gotoQueueManagement:function(a){a=
J.toUrl("/campaigns/wizard/automation/add-queue-management?id\x3d"+a);window.location.href=a},showImportArContentDialog:function(){var b=new a,c=new D({title:"Import existing Autoresponder content",style:"width:580px;",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){h(".cancel-button",c.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();c.hide()});h("form",c.domNode).on("submit",function(a){a.stopPropagation();a.preventDefault();a=h("input[type\x3dsubmit]",c.domNode)[0];
L.toggleButtonLoadingState(a,"Importing...");a=x.toObject(this);if(a["autoresponders[]"]){var d=n.get(this,"action");e.post(d,{data:a,handleAs:"json"}).then(function(a){b.resolve(a);window.location.reload();c.hide()},function(a){b.reject(a);c.hide()})}else p.remove(h("[data-no-selection-error]",c.domNode)[0],"hide")})}}),d=J.toUrl("automations/import-ar-content-dialog",{id:this.parentCampaignId});c.setHref(d);c.show();return b}})})},"mojo/views/campaigns/wizard/autoconfirm":function(){define("dojo/_base/declare ./confirm dojo/query dojo/dom-attr mojo/utils mojo/app/wizard".split(" "),
function(l,k,h,f,a,c){return l([k],{campaignId:null,onReady:function(){a.parseEmoji(document.body);c.repositionFlashBlock();c.moveFinalAction(this.$el.deliveryOptions);var e=this;h(".resolve-share-settings").on("click",function(){var a=f.get(this,"data-campaign-id"),c=f.get(this,"data-campaign-title");e.openSocialShare(a,c,"circle-large-color")})}})})},"mojo/views/campaigns/wizard/recipients":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/query dojo/dom dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-construct dojo/_base/array dijit/registry dojo/on mojo/utils mojo/user mojo/maps mojo/app/wizard mojo/app/campaigns/recipients mojo/segmentation/Segment mojo/widgets/SubscriberTableOverlay mojo/widgets/LocalNavGroup".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x){return l([k],{userLat:null,userLng:null,userAddr:null,segmentEditors:null,proSegmentAsts:{},onInit:function(){this.segmentEditors={}},onReady:function(){var a=this._getSelectedListId();a&&this._toggleTargetingOption(a);this._handleWizardSubmit();this._attachEventHandlers();this._setupMaps()},hideSegments:function(){a.byId("accordion-active");f(".dijitContentPane, .advanced-segments").style("display","none");this.$group.advancedSegments.style("display",
"none");a.byId("accordion-active").value=""},toggleSegment:function(b,d){d||(d="segmentpane");var e=a.byId("accordion-active").value,h=null,k=this;if(e&&"null"!=e)e=e.split("-")[1],e==b?(q.toggleAccordion(null,1),f(".goToNextStepContainer").removeClass("disabled"),h=n.byId("segmentpane-"+b),h.domNode.style.display="none"):(a.byId("segment-toggle-"+e),a.byId("accordion-active").value="",h=n.byId("segmentpane-"+e),h.domNode.style.display="none",this.toggleSegment(b));else if(n.byId("selectlist-"+b)&&
n.byId("selectlist-"+b).setChecked(!0),q.toggleAccordion("segment-"+b,1),h=n.byId(d+"-"+b))h.domNode.style.display="block",h.setHref(h.href).then(function(){if("pastedsegmentpane"===d){var e=a.byId("emails_"+b);e&&w.bindCodeMirror(e)}if("savedsegmentpane"===d){var e=f("[data-prebuilt-input\x3d"+b+"]:checked")[0],h=f("[data-saved-select\x3d"+b+"]")[0],l=f("[data-saved-input\x3d"+b+"]:checked")[0],m=null;e?m=c.get(e,"data-mc-segname"):h?h.value&&(m=h.options[h.selectedIndex].label):l&&(m=c.get(l,"data-mc-segname"));
k._getCurrentRecipientCountBar().selectSavedSegment(m)}"segmentpane"===d&&k._getCurrentRecipientCountBar().reloadCount()})},toggleSegmentRadio:function(b){var c=a.byId("accordion-active").value;c&&(c=c.split("-")[1])&&c!=b&&this.toggleSegment(c,a.byId("segment-toggle-"+c))},selectListClass:function(b,c){var d=a.byId("list-"+b);this._toggleSegmentOption(b);w.editSegment(b,c,!1);this.clearListClass();f(".send-audience-toggle",d).style("display","");m.add(d,"list-selected")},clearListClass:function(){f(".recipient-list").removeClass("list-selected");
f(".send-segment-toggle").style("display","none");f(".send-audience-toggle").style("display","none")},_attachEventHandlers:function(){var a=this;n.byId("recipient-select").on("change",h.hitch(this,function(a){a?(this.selectListClass(a,this.campaignID),this._toggleTargetingOption(a)):this.clearListClass()}));f(".send-audience-toggle input").on("click",function(){var b=c.get(this,"data-list_id");a._toggleTargetingOption(b)});p(document,"[data-prebuilt-input]:click",function(){var b=c.get(this,"data-prebuilt-input");
a._clearSavedSegmentSelection(b);a._setSelectedSegmentOption(b,"prebuilt");b=c.get(this,"data-mc-segname");a._getCurrentRecipientCountBar().selectSavedSegment(b)});p(document,"[data-saved-input]:click",function(){var b=c.get(this,"data-saved-input");a._clearPrebuiltSelection(b);a._setSelectedSegmentOption(b,"saved");b=c.get(this,"data-mc-segname");a._getCurrentRecipientCountBar().selectSavedSegment(b)});p(document,"[data-saved-select]:change",function(){var b=c.get(this,"data-saved-select");a._clearPrebuiltSelection(b);
a._setSelectedSegmentOption(b,"saved");b=null;this.value&&(b=this.options[this.selectedIndex].label);a._getCurrentRecipientCountBar().selectSavedSegment(b)})},_clearSavedSegmentSelection:function(a){f("[data-saved-select\x3d"+a+"]").attr("value","");f("[data-saved-input\x3d"+a+"]").attr("checked",!1)},_clearPrebuiltSelection:function(a){f("[data-prebuilt-input\x3d"+a+"]").attr("checked",!1)},_handleWizardSubmit:function(){var b=h.hitch(this,function(b){b=this._getSelectedListId();"advanced"===this._getSelectedSegmentOption(b)&&
this._injectAdvancedSegmentsAST(b);a.byId("wizard-form").submit()});window.wizard_formsubmit=b;u.onNextSubmit(b)},_toggleTargetingOption:function(a){var b=this._getSelectTargetOption(a),c=this.$widget.callout;c.hide();this.hideSegments();switch(b){case "no":this._setSelectedSegmentOption(a,b);this.$group.segmentTabContainer.style("display","none");this._getCurrentRecipientCountBar().selectEntireList();c.show();break;case "saved":b=this._getSelectedSegmentOption(a);"saved"!==b&&"prebuilt"!==b&&this._setSelectedSegmentOption(a,
"saved");this.toggleSegment(a,"savedsegmentpane");this.$group.segmentTabContainer.style("display","none");this._getCurrentRecipientCountBar().selectSavedSegment();break;default:this._showSegmentTabContainer(a),this._createNewSegmentTabs(a),this._getCurrentRecipientCountBar().selectNewSegment()}},_createNewSegmentTabs:function(a){var c=this.$el["tabsContainer"+a],e=[];d.empty(c);e.push({label:"New segment",value:"custom"});r.pro&&e.push({label:"Advanced segment",value:"advanced"});e.push({label:"Paste emails",
value:"pasted"});this.tabs=new x({options:e,templateString:'\x3cul class\x3d"flex"\x3e\x3c/ul\x3e'});this.tabs.startup();this.tabs.placeAt(c);var f=this._getSelectedSegmentOption(a),c=b.some(e,function(a){return a.value==f})?f:e[0].value;this.tabs.setSelected(c);e=h.hitch(this,function(b){this._setSelectedSegmentOption(a,b);this._toggleSegmentOption(a)});e(c);this.tabs.on("change",e)},_toggleSegmentOption:function(a){switch(this._getSelectedSegmentOption(a)){case "saved":this.hideSegments();this.toggleSegment(a,
"savedsegmentpane");this._getCurrentRecipientCountBar().selectSavedSegment();break;case "custom":this.hideSegments();this.toggleSegment(a);this._getCurrentRecipientCountBar().selectNewSegment();break;case "pasted":this.hideSegments();this.toggleSegment(a,"pastedsegmentpane");this._getCurrentRecipientCountBar().selectPastedSegment();break;case "advanced":this.hideSegments();this.toggleSegment(a,"advancedsegmentpane");this._showAdvancedSegment(a);this._getCurrentRecipientCountBar().selectNewAdvancedSegment(this.segmentEditors[a]);
break;default:this.hideSegments(),this.toggleSegmentRadio(a),this._getCurrentRecipientCountBar().selectEntireList()}},_showSegmentTabContainer:function(b){b=a.byId("segmentTabContainer-"+b);e.set(b,"display","")},_getSelectTargetOption:function(a){return(a=f("[name\x3dsend-to-target-radio-"+a+"]:checked")[0])?a.value:null},_getSelectedSegmentOption:function(a){return(a=f("[name\x3dsend-to-segment-radio-"+a+"]")[0])?a.value:null},_setSelectedSegmentOption:function(a,b){f("[name\x3dsend-to-segment-radio-"+
a+"]")[0].value=b},_getCurrentRecipientCountBar:function(){var a=this._getSelectedListId();return this.$widget["countBar"+a]},_getSelectedListId:function(){var a=n.byId("recipient-select");return a?a.value:null},_createAdvancedEditor:function(a){if(!this.segmentEditors[a]){var b=new v({listId:a,savedAST:this.proSegmentAsts[a],"class":"border-radius--lv1 border-gray"});b.startup();b.placeAt(this.$el["advancedContainer"+a]);this.segmentEditors[a]=b}},_showAdvancedSegment:function(b){this._createAdvancedEditor(b);
b=a.byId("advancedsegmentpane-"+b);e.set(b,"display","")},_injectAdvancedSegmentsAST:function(a){var b=this.segmentEditors[a];a=f("[name\x3dpro_segment_ast_"+a+"]")[0];b&&a&&(a.value=JSON.stringify(b.getAST()))},_setupMaps:function(){t.def_lat=this.userLat;t.def_lng=this.userLng;t.def_addr=this.userAddr}})})},"mojo/views/campaigns/wizard/setup":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/Deferred dojo/request/xhr dojo/debounce dojo/query dojo/on dojo/dom-class dojo/dom dojo/html dojo/dom-form dojo/dom-style dojo/dom-attr dojo/NodeList-manipulate dijit/registry dijit/Dialog mojo/app/conversations mojo/url mojo/utils mojo/validate mojo/app/wizard mojo/utils/campaign mojo/widgets/campaigns/CampaignArchiveUrl mojo/widgets/campaigns/CampaignUrlErrorDialog".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D){return l([k],{isRequestMapperDown:!1,campaignId:null,shortUrlLength:null,listHasFname:null,rootDomain:null,campaignToken:null,brandToken:null,hasEditedCampaignUrl:!1,urlExistResponse:null,onReady:function(){this.initPersonalizeTo();this.initGoogleAnalytics();this.initClickTale();this.initSocialOptions();this.initDigestOptions();this.initConversationOptions();this.setHasEditedCampaignUrl();z.repositionFlashBlock();this.$el.campaignUrlContainer&&
this.$el.campaignTokenEditor&&this.initCampaignArchiveUrl();this.isRequestMapperDown&&new D({campaignUrl:this.campaignUrl,campaignId:this.campaignId})},setHasEditedCampaignUrl:function(){var a=C.prototype.getCampaignTokenFromString(this.$el.campaignTokenInput.value),b=C.prototype.getCampaignTokenFromString(this.$el.subjectData.value);this.hasEditedCampaignUrl=null!==a&&a!==b},updateCampaignToken:function(a){a=C.prototype.getCampaignTokenFromString(a);var b=C.prototype.getCampaignTokenFromString(this.$el.subjectData.value);
a!==b&&(this.hasEditedCampaignUrl=!0,this.$el.hasEditedCampaignUrlInput.value=this.hasEditedCampaignUrl);this.campaignToken=a;this.$widget.campaignTokenEditor.campaignToken=this.campaignToken;this.$widget.campaignTokenEditor.originalInput.value=this.campaignToken;this.$el.campaignToken.innerText=this.campaignToken;this.$el.campaignTokenInput.value=this.campaignToken},updateBrandToken:function(a){this.brandToken=this.$widget.brandTokenSelect.get("value");this.$widget.brandTokenSelect.value=this.brandToken;
this.$el.brandToken.innerText="random"===this.brandToken?"[xxxxxx]":this.brandToken;this.$el.brandTokenInput.value=this.brandToken},checkTextSize:function(a){var c=280;switch(a){case "twitter":c=280;this.shortUrlLength=25;break;case "fb":c=500}var e=b.byId(a+"-characters-left");if(void 0!==b.byId(a+"-text")){var f=b.byId(a+"-text").value;"undefined"!==typeof f&&(c=c-f.length-this.shortUrlLength+7,a=b.byId(a+"-character-check"),e.innerHTML=c,10<=c?(d.remove(a,"warning"),d.remove(a,"error")):0<=c?(d.add(a,
"warning"),d.remove(a,"error")):(d.add(a,"error"),d.remove(a,"warning")))}},initCampaignArchiveUrl:function(){var b=this.$widget.campaignTokenEditor;this.hasEditedCampaignUrl||this.$widget.campaignTokenEditor.set("inputSetter",this.$el.subjectData);null===this.campaignToken&&""!==this.$el.subjectData.value&&this.updateCampaignToken(this.$el.subjectData.value);m(this.$el.campaignArchiveUrlEditButton,"click",h.hitch(this,function(){this.$widget.brandTokenSelect&&this.updateBrandToken(this.$widget.brandTokenSelect.get("value"));
this.updateCampaignToken(this.$el.campaignTokenInput.value);this.$widget.campaignArchiveUrlDialog.show()}));m(this.$el.subjectData,"keyup",h.hitch(this,function(a){this.hasEditedCampaignUrl||this.updateCampaignToken(a.target.value)}));this.$widget.subjectContainer.onBlur=h.hitch(this,function(){var c=this;this.hasEditedCampaignUrl||a(y.toUrl("/campaigns/wizard/generate-campaign-token"),{query:{id:b.campaignId,subject:b.campaignToken},handleAs:"json"}).then(function(a){a.campaign_token!==b.campaignToken&&
(c.updateCampaignToken(a.campaign_token),b.urlTokenInput.value=a.campaign_token,b.refresh(),c.hasEditedCampaignUrl=!1,c.$el.hasEditedCampaignUrlInput.value=c.hasEditedCampaignUrl)})});this.$el.brandTokenSelect&&(this.$widget.brandTokenSelect.onChange=h.hitch(this,function(){this.$widget.campaignTokenEditor.brandToken=this.$widget.brandTokenSelect.get("value");this.$widget.campaignTokenEditor.campaignUrlExists()}));m(this.$el.campaignUrlSave,"click",h.hitch(this,function(a){var c=this,e=this.$el.campaignUrlSave;
""!==b.campaignToken&&(d.add(e,"button-loading"),r.set(e,"disabled",!0),b.campaignUrlExists().then(function(a){d.remove(e,"button-loading");r.set(e,"disabled",!1);a||(c.$widget.brandTokenSelect&&c.updateBrandToken(c.$widget.brandTokenSelect.get("value")),c.updateCampaignToken(b.campaignToken),c.$widget.campaignArchiveUrlDialog.hide())},function(a){d.remove(e,"button-loading");r.set(e,"disabled",!1);c.updateCampaignToken(b.campaignToken);c.$widget.campaignArchiveUrlDialog.hide()}));a.stopPropagation();
a.preventDefault()}));m(this.$el.campaignUrlCancel,"click",h.hitch(this,function(a){b.urlTokenInput.value=this.$el.campaignTokenInput.value;this.$widget.campaignArchiveUrlDialog.hide();a.stopPropagation();a.preventDefault()}))},initPersonalizeTo:function(){var a=u.byId("personalize-to"),c=b.byId("to-email").value;this.listHasFname&&""===c&&(c="*|FNAME|*");a&&m(a,"click",function(){this.checked?(b.byId("to-email").value=c,b.byId("personalize-to-disclose").style.display="block"):(c=b.byId("to-email").value,
b.byId("personalize-to-disclose").style.display="none",b.byId("to-email").value="")})},initGoogleAnalytics:function(){var a=u.byId("analytics"),c=b.byId("analytics-tag"),d=b.byId("google-tag-disclose"),e=this;a&&(m(a,"click",function(){this.checked?(c.value||(c.value=e._getTrackingTag()),d.style.display="block"):d.style.display="none";x.checkInputLength(c,"GA-char-num",50)}),a.checked&&(d.style.display="block"))},initClickTale:function(){var a=u.byId("clicktale"),c=b.byId("clicktale-tag"),d=b.byId("clicktale-tag-disclose"),
e=this;a&&(m(a,"click",function(){this.checked?(c.value||(c.value=e._getTrackingTag()),d.style.display="block"):d.style.display="none"}),a.checked&&(d.style.display="block"))},initSocialOptions:function(){var a=u.byId("auto_tweet");a&&m(a,"click",function(){b.byId("auto_tweet_content").style.display=this.checked?"block":"none"});(a=u.byId("auto_fb_post"))&&m(a,"click",function(){this.checked?(b.byId("facebook-profiles").style.display="block",b.byId("auto_fb_content").style.display="block"):(b.byId("facebook-profiles").style.display=
"none",b.byId("auto_fb_content").style.display="none")});if(a=b.byId("twitter-text"))m(a,"keyup",h.hitch(this,function(){this.checkTextSize("twitter")})),this.checkTextSize("twitter");if(a=b.byId("fb-text"))m(a,"keyup",h.hitch(this,function(){this.checkTextSize("fb")})),this.checkTextSize("fb")},initDigestOptions:function(){var a=e("[data-digest-settings-link]")[0];a&&m(a,"click",h.hitch(this,this.showDigestSettingsDialog))},initConversationOptions:function(){var a=e("[data-conversation-settings-link]")[0];
a&&m(a,"click",h.hitch(this,this.showConversationSettingsDialog));if(a=u.byId("track-conversations")){var b=this.$el.conversationNotifiers;m(a,"change",function(){d.toggle(b,"hide",!this.checked)});d.toggle(b,"hide",!a.checked)}},_getTrackingTag:function(){var a=this.campaignType,c=b.byId("title").value,d=b.byId("subject").value;return B.getDefaultTrackingTag(a,c,d)},toggleDigestSettingsPane:function(a){e("[data-digest-settings-pane]")[0].style.display=a?"":"none"},showConversationSettingsDialog:function(a){a.stopPropagation();
a.preventDefault();v.notificationSettings({campaign_id:this.campaignId}).then(h.hitch(this,function(a){a=a.count;n.set(this.$el.convoNotifierCount,a+" user"+(1!==a||0===a?"s":""))}))},showDigestSettingsDialog:function(){var b=new f,c=new w({title:"Digest Settings",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){e(".cancel-button",c.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();c.hide()});e("form",c.domNode).on("submit",function(d){d.stopPropagation();d.preventDefault();
d=p.toObject(this);var f=r.get(this,"action");a.post(f,{data:d,handleAs:"json"}).then(function(a){b.resolve(a);var d=a.count+" user";if(1<a.count||0===a.count)d+="s";n.set(e("[data-report-notification-count]")[0],d);c.hide()},function(a){b.reject(a);c.hide()})})}}),d=y.toUrl("automations/notification-settings",{id:this.campaignId});c.setHref(d);c.show();return b}})})},"mojo/views/campaigns/wizard/variateconfirm":function(){define("dojo/_base/declare ./confirm dojo/dom-attr dojo/query dojo/on mojo/utils mojo/app/wizard".split(" "),
function(l,k,h,f,a,c,e){return l([k],{campaignId:null,onReady:function(){c.parseEmoji(document.body);e.repositionFlashBlock();e.moveFinalAction(this.$el.deliveryOptions);var k=this;f('[data-social-share-el\x3d"button"]').on("click",function(){var a=h.get(this,"data-campaign-id"),b=h.get(this,"data-campaign-title");k.openSocialShare(a,b,"circle-color")});this.initNotifyDialog();this.setupScheduleOptions();var d=f(".send-button")[2],b=(new Date).getTime();a(d,"click",function(){k.$el.freddieDropper.src=
"/images/dropper.gif?"+b});this.checkSendCountReady()}})})},"mojo/views/campaigns/wizard/variates":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/query dojo/on dojo/dom-class dojo/dom-style dojo/aspect dojo/number dijit/registry mojo/app/pro/segment mojo/widgets/VariateSelector mojo/widgets/VariateSelectorGroup mojo/widgets/SegmentDial mojo/app/wizard".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t){return l([k],{maxVariation:8,dial:null,selectorGroup:null,proSegmentId:null,
showSegmentLoader:!1,listId:null,onReady:function(){this._handleSegmentLoading();this.dial=new r({maxValue:this.maxVariation});this.dial.placeAt(this.$el.dial);this._createVariateSelectors();this._setupPartialControls();this._setupDelayControls();this.$el.numVariation.innerHTML=this.maxVariation},getTestPercent:function(){return+this.$el.testSizeInput.value},getTotalVariants:function(){return+this.selectorGroup.getTotal()},_createVariateSelectors:function(){var a=this;this.subjectSelector=this._createVariateSelector(this.$el.numSubjectsInput,
"Subject line");this.fromNameSelector=this._createVariateSelector(this.$el.numFromNameInput,"From name");this.contentSelector=this._createVariateSelector(this.$el.numContentInput,"Content");this.scheduleSelector=this._createVariateSelector(this.$el.numScheduleInput,"Send time");this.selectorGroup=new q({maxValue:this.maxVariation,selectors:[this.subjectSelector,this.fromNameSelector,this.contentSelector,this.scheduleSelector]});m.after(this.selectorGroup,"onChange",function(){a._updateDialValue();
a._updateSliderCombinations();a._updateRecipientCounts();a._toggleSendPerCombinationMsg()},!0);this._updateDialValue();this._updateSliderCombinations();m.after(this.scheduleSelector,"onChange",h.hitch(this,"_handleScheduleSelection"));this._toggleTestElements();this._handleScheduleSelection()},_updateTestPercent:function(a){10>a&&(a=10);this.$el.testSizeInput.value=a;this._updateRecipientCounts();this._toggleSendPerCombinationMsg()},_updateDialValue:function(){var a=this.getTotalVariants();this.dial.set("value",
1<a?a:0);c.toggle(this.$el.maxCombinationMsg,"invisible",8===a?!1:!0)},_updateSliderCombinations:function(){this.$widget.testSizeSlider.set("numCombinations",this.getTotalVariants())},_setupDelayControls:function(){b.byId("winner-select").on("change",h.hitch(this,"_toggleDelayControls"));this._toggleDelayControls()},_toggleDelayControls:function(){switch(b.byId("winner-select").value){case "manual":c.add(this.$el.waitTimeLabel,"hide");c.add(b.byId("wait-time").domNode,"hide");c.add(this.$el.ecommMessage,
"hide");c.remove(this.$el.manualMessage,"hide");break;case "total_revenue":c.remove(this.$el.waitTimeLabel,"hide");c.remove(b.byId("wait-time").domNode,"hide");c.remove(this.$el.ecommMessage,"hide");c.add(this.$el.manualMessage,"hide");break;default:c.remove(this.$el.waitTimeLabel,"hide"),c.remove(b.byId("wait-time").domNode,"hide"),c.add(this.$el.ecommMessage,"hide"),c.add(this.$el.manualMessage,"hide")}},_updateRecipientCounts:function(){var a=this.getTestPercent(),b=Math.floor(a/100*this.sendCount);
this.countPerCombination=Math.floor(b/this.getTotalVariants());this.$el.countPerCombination.innerHTML=d.format(this.countPerCombination);this.$el.countRemaining.innerHTML=d.format(this.sendCount-b);this.$el.testCountLabel.innerHTML=d.format(b);this.$el.winningListLabel.innerHTML=100-a+"%";this.$el.testListLabel.innerHTML=a+"%";this.$el.sliderValueLabel.innerHTML=a+"%"},_toggleSendPerCombinationMsg:function(){e.set(this.$el.sendPerCombinationMsg,"opacity",4E3>this.countPerCombination?1:.6);c.toggle(this.$el.comboWarningContainer,
"hide",5E3<=this.countPerCombination)},_setupPartialControls:function(){var a=this;this.$widget.testSizeSlider.set("value",a.getTestPercent());this.$widget.testSizeSlider.on("change",function(){a._updateTestPercent(a._sliderPercent());a._toggleTestElements()});a._updateRecipientCounts();a._toggleSendPerCombinationMsg()},_sliderPercent:function(){return Math.round(this.$widget.testSizeSlider.value)},_toggleTestElements:function(){100==this._sliderPercent()?this._onFullTest():this._onPartialTest()},
_onPartialTest:function(){this._toggleWinnerControls(!0);this._toggleSends(!0);this._updateTestPercent(this._sliderPercent())},_onFullTest:function(){this._toggleSends(!1);this._updateTestPercent(100);this._toggleWinnerControls(!1)},_toggleWinnerControls:function(a){c.toggle(this.$el.winnerOptionsContainer,"hide",!a)},_toggleSendTimeMsg:function(a){c.toggle(this.$el.sendTimeMsg,"hide",!a)},_toggleSends:function(a){c.toggle(this.$el.remainingContainer,"hide",!a);c.toggle(this.$el.testSizeContainer,
"hide",!a);c.toggle(this.$el.winningListLabel,"hide",!a)},_handleScheduleSelection:function(){var a=0<this.scheduleSelector.value;this._toggleTestElements();this._toggleSendTimeMsg(a);this._toggleTestSlider(!a)},_toggleTestSlider:function(a){a?(this._prevSliderValue&&this.$widget.testSizeSlider.set("value",this._prevSliderValue),this.$widget.testSizeSlider.set("disabled",!1)):(this._prevSliderValue=this.$widget.testSizeSlider.value,this.$widget.testSizeSlider.set("value",100),this.$widget.testSizeSlider.set("disabled",
!0))},_createVariateSelector:function(a,b){return new p({label:b,value:a.value?parseInt(a.value,10):0,name:a.name,maximum:this.maxVariation},a)},_handleSegmentLoading:function(){var a=1,b=this,c=function(){n.getCachedCount(b.listId,b.proSegmentId).then(function(b){null!=b.count?window.location.reload():(b=1E3*a,1E4<b&&(b=1E4),setTimeout(c,b),a++)})};this.showSegmentLoader&&(f(".goToNextStepContainer").addClass("disabled"),setTimeout(c,4E3))}})})},"mojo/views/campaigns/wizard/variatesetup":function(){define("dojo/_base/declare dojo/query dojo/dom-class dojo/_base/array dojo/_base/lang dojo/on ./setup mojo/app/wizard dijit/registry mojo/utils dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([e],{onReady:function(){this.initPersonalizeTo();this.initGoogleAnalytics();this.initClickTale();this.initConversationOptions();m.repositionFlashBlock();this.checkSimilarItems();this._checkSubjectDupe();this._checkFromDupe();this._checkSendTimeDupe()},checkSimilarItems:function(){var b=this;this.$group.subjectLine&&f.forEach(this.$group.subjectLine,function(d){c(d,"keyup",a.hitch(b,"_checkSubjectDupe"))});this.$group.fromName&&f.forEach(this.$group.fromName,
function(d){c(d,"change",a.hitch(b,"_checkFromDupe"))});this.$group.sendTime&&f.forEach(this.$group.sendTime,function(e){e=d.byNode(e);c(e,"change",a.hitch(b,"_checkSendTimeDupe"))})},_checkSubjectDupe:function(){var a=this.$group.subjectLine;a&&(a=f.map(a,function(a){return a.value}),h.toggle(this.$el.subjectMessage,"hide",this._isNonEmpty(a)))},_checkFromDupe:function(){var a=this.$group.fromName;a&&(a=f.map(a,function(a){return a.value}),h.toggle(this.$el.fromMessage,"hide",this._isNonEmpty(a)))},
_checkSendTimeDupe:function(){var a=this.$group.sendTime;a&&(a=f.map(a,function(a){return d.byNode(a).value}),h.toggle(this.$el.sendMessage,"hide",this._isNonEmpty(a)))},_isNonEmpty:function(a){a=f.filter(a,function(a){return null!==a&&""!==a});return b.isUniqueArray(a)}})})},"mojo/views/campaigns/wizard/neapolitan/mobile":function(){define(["dojo/_base/declare","dojo/_base/lang","mojo/views/_base"],function(l,k,h){return l([h],{setupMobile:function(){window.webkit={messageHandlers:{mobileSaveAndExit:{postMessage:function(f){}},
webContentDidLoad:{postMessage:function(f){window.app.nativeEvents.entryAnimationComplete()}},mobileReauth:{postMessage:function(f){}},getAppVersion:{postMessage:function(f){window.app.nativeEvents.messageResponse({id:f.id,data:{versionNumber:"2"}})}},openColorPicker:{postMessage:function(f){}},blockEdit:{postMessage:function(){}},backgroundEdit:{postMessage:function(f){}},globalToolbar:{postMessage:function(){}},hideToolbar:{postMessage:function(f){}}}}},onReady:function(){}})})},"mojo/views/campaigns/wizard/automation/queue-management":function(){define("dojo/_base/declare mojo/views/_base dojo/query dojo/json dojo/on dojo/_base/lang dojo/request/xhr dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/parser dojo/_base/array dojo/html dojo/dom dojo/aspect dijit/registry mojo/app/campaigns/recipients mojo/utils mojo/url dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){return l([k],{campaignId:null,listId:null,queueAction:null,onReady:function(){this.initializeWorkflowForm(this.campaignId,this.listId,this.queueAction,r.byId("workflow-setup"))},initializeWorkflowForm:function(b,d,f,k){var l=this;a(k,"[name\x3dsegment-type]:click",function(){h("[data-mc-segment-options]").style("display","none");h("[data-mc-segment-options\x3d"+this.value+"]").style("display","block");var a;switch(this.value){case "new":a=u.byId("segmentpane-"+
d);break;case "saved":a=u.byId("savedsegmentpane");break;default:throw Error("New segment option does not have a handler");}a.refresh()});var m="segmentpane-"+d;u.byId(m).on("load",function(){w.reloadSegmentCallbacks(m)});a(k,"[data-workflow-calculate-count]:click",function(a){a.preventDefault();a.stopPropagation();l._updateSegmentCount(b,k,f)});var n=r.byId("queue-action-button");a(n,"click",c.hitch(this,function(a){a.preventDefault();a.stopPropagation();l._saveWorkflowValues(b,k,f)}));a(k,"[data-workflow-segment-members]:click",
function(a){a.preventDefault();a.stopPropagation();a=c.mixin({id:b,"queue-action":f,__csrf_token:h("[name\x3d__csrf_token]")[0].value},l._getWorkflowValues(k));e.post(y.toUrl("campaigns/wizard/automation/queue-members"),{data:a,sync:!0,handleAs:"text"});a=y.toUrl("campaigns/segments/popup?id\x3d"+b+"\x26lid\x3d"+d);a=window.open(a,"_blank","toolbar\x3d0,scrollbars\x3d1,location\x3d0,status\x3d1,menubar\x3d0,resizable\x3d1,width\x3d600,height\x3d400");v.checkPopupWin(a)});this._updateSegmentCount(b,
k,f)},_updateSegmentCount:function(a,b,d){var e=h("[data-workflow-segment-count]");if(e.length){this._clearDelayTimer();e.html("\x3cp\x3e\x26nbsp;\x3c/p\x3e");var f;"add"==d&&(f="added to the workflow");"remove"==d&&(f="deleted from the workflow");this.delayTimer=setTimeout(c.hitch(this,function(){e.html("\x3cp\x3eCalculating recipient count...\x3c/p\x3e");this.delayTimer=null}),100);var k=c.hitch(this,function(a){this._clearDelayTimer();a=a.count;e.html("\x3cp\x3e"+('\x3ca href\x3d"#" data-workflow-segment-members\x3e'+
a+" subscriber"+(1!=a?"s":"")+"\x3c/a\x3e will be "+f+". ")+' \x3ca href\x3d"#" data-workflow-calculate-count\x3eRefresh count\x3c/a\x3e\x3c/p\x3e')}),l=c.hitch(this,function(){this._clearDelayTimer();e.html('Failed to get count. \x3ca href\x3d"#" data-workflow-calculate-count\x3eTry again.\x3c/a\x3e')});this._getSegmentCount(a,b,d).then(k,l)}},_clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},_saveWorkflowValues:function(a,b,d){button=r.byId("queue-action-button");
button.setAttribute("disabled","disabled");b=c.mixin({id:a,"queue-action":d,__csrf_token:h("[name\x3d__csrf_token]")[0].value},this._getWorkflowValues(b));e.post(y.toUrl("campaigns/wizard/automation/queue-management-post"),{data:b,sync:!0,handleAs:"text"});a=y.toUrl("campaigns/wizard/autocampaigns?id\x3d"+a);window.location.href=a},_getWorkflowValues:function(a){var b={};h("input,select",a).forEach(function(a){var c=a.type||"",d=a.value,e=a.name;"select-multiple"==c&&p.forEach(a.options,function(a){b[e]||
(b[e]=[]);a.selected&&b[e].push(a.value)});if("radio"==c||"checkbox"==c)a.checked||(d=null);"tags"==e&&d&&(b[e]||(b.tags=[]),b.tags.push(d));b[e]||(b[e]=d)});return b},_getSegmentCount:function(a,b,d){a=c.mixin({id:a,"queue-action":d},this._getWorkflowValues(b));return e.post(y.toUrl("campaigns/wizard/automation/queue-management-count"),{data:a,handleAs:"json"})}})})},"mojo/views/campaigns/folders/archive":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/on mojo/utils dijit/TitlePane".split(" "),
function(l,k,h,f,a,c,e,m){return l([k],{folders:null,onReady:function(){this.folders&&h.forEach(this.folders,f.hitch(this,"_renderFolderCode"))},_renderFolderCode:function(d){var b="folder-"+d.id,f=a.create("textarea",{id:b,innerHTML:d.code});c(f,"click",function(){e.selectAll(b)});d=new m({title:d.name,content:f,open:!1});d.startup();a.place(d.domNode,this.$el.codeContainer)}})})},"mojo/views/automations/finished-automation":function(){define(["dojo/_base/declare","dojo/on","dojo/query","mojo/utils/promotion-utils",
"mojo/views/_base"],function(l,k,h,f,a){return l([a],{onReady:function(){f.setupButtonEvents()}})})},"mojo/views/automations/transactional/index":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/query dojo/parser dojo/request/xhr dojo/dom-class dojo/dom-attr dojo/html dojo/topic dojo/on dojo/NodeList-traverse dijit/registry dijit/Dialog mojo/lib/flags mojo/views/_base mojo/url mojo/user vendor/pluralize/pluralize".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,
y){return l([u],{campaignId:null,storePlatform:null,onReady:function(){var a=this;f("[data-checklist-slat]").forEach(function(b){"status-bar"!==m.get(b,"data-checklist-slat")&&a.$widget.checklist.addOnSlatRenderedListener(m.get(b,"data-checklist-slat"),function(){a.$widget.statusBar.getView("status-bar")})});if(q.byId("startTransactionalBtn")){var b=q.byId("startTransactionalBtn").domNode;"bigcommerce"!==this.storePlatform&&"shopify"!==this.storePlatform&&"prestashop"!==this.storePlatform&&e.add(b,
"disabled");this.$el.checkPlatformDisclaimer&&n(this.$el.checkPlatformDisclaimer,"change",function(){e.toggle(b,"disabled")})}this.numStatusEmailSelected=this._getTotalStatusEmailSelected();this._orderStatusEmailSelected()&&(this.$el.emailsMessage.innerHTML=this._emailsMessage(this.numStatusEmailSelected));this._toggleEmailSelectedTick();this.$group.orderStatusSwitch.on("click",h.hitch(this,function(a){this._toggleEmailSelectedTick();this.numStatusEmailSelected=this._getTotalStatusEmailSelected();
this.$el.emailsMessage.innerHTML=this._emailsMessage(this.numStatusEmailSelected)}))},_emailsMessage:function(a){var b="";return b=0===a?"Select which order notifications you'd like to send.":"shopify"===this.storePlatform?"You've enabled \x3cstrong\x3e"+String(a)+"\x3c/strong\x3e "+y("notification",a)+". "+this._duplicateEmailsMessage():"You've enabled \x3cstrong\x3e"+String(a)+"\x3c/strong\x3e "+y("notification",a)},_duplicateEmailsMessage:function(){return'\x3cp class\x3d"full-width"\x3eWe don\'t want you to send duplicate messages! \x3ca href\x3d"http://kb.mailchimp.com/integrations/e-commerce/use-mailchimp-order-notifications-with-shopify" target\x3d"_blank"\x3eCheck the notification options in your store and other services\x3c/a\x3e.\x3c/p\x3e'},
_getTotalStatusEmailSelected:function(){return k.filter(this.$group.orderStatusSwitch,function(a){return a.checked}).length},_orderStatusEmailSelected:function(){return k.some(this.$group.orderStatusSwitch,function(a){return a.checked})},_toggleEmailSelectedTick:function(){this._orderStatusEmailSelected()?e.replace(this.$el.emailsTick,"v-textColorGreen","dim2"):e.replace(this.$el.emailsTick,"dim2","v-textColorGreen")},openDomainVerification:function(a){a=m.get(a,"data-email");a=w.toUrl("/account/verify-domain/",
{step:"add-new",email:a,cid:this.childId});this.verificationDialog||(this.verificationDialog=new r({title:"Verify Domain",style:"width: 620px;",refreshOnShow:"true",id:"mc-module-dialog",onHide:h.hitch(this,function(){this.$widget.checklist.getView("from")})}));this.verificationDialog.setHref(a);this.verificationDialog.show()}})})},"mojo/views/automations/abandoned-cart/index":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-attr dojo/query dojo/topic dijit/Dialog mojo/lib/flags mojo/url mojo/user mojo/widgets/campaigns/PlainTextDialog mojo/widgets/Previewer mojo/views/_base".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p){return l([p],{parentId:null,parentTitle:null,childId:null,previewer:null,onReady:function(){var c=this;f("[data-checklist-slat]").forEach(function(a){"status-bar"!==h.get(a,"data-checklist-slat")&&c.$widget.checklist.addOnSlatRenderedListener(h.get(a,"data-checklist-slat"),function(){c.$widget.statusBar.getView("status-bar")})});a.subscribe(b.successTopic(this.childId),function(){c.$widget.checklist.getView("content")})},openDomainVerification:function(a){a=h.get(a,
"data-email");a=m.toUrl("/account/verify-domain/",{step:"add-new",email:a,cid:this.childId});this.verificationDialog||(this.verificationDialog=new c({title:"Verify Domain",style:"width:620px;",refreshOnShow:"true",id:"mc-module-dialog",onHide:k.hitch(this,function(){self.$widget.checklist.getView("from")})}));this.verificationDialog.setHref(a);this.verificationDialog.show()},previewContent:function(){this.previewer||(this.previewer=new n({previewId:this.childId,previewType:"campaign",titleText:this.parentTitle,
showMergeInfo:!0}));this.previewer.show()},editPlainText:function(){b.show(this.childId)}})})},"mojo/views/automations/abandoned-browse/index":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/dom-attr dojo/on dojo/query dijit/Dialog dijit/registry mojo/lib/flags mojo/url mojo/user mojo/widgets/campaigns/PlainTextDialog mojo/widgets/Previewer mojo/views/_base".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([r],{onReady:function(){var a=this;c("[data-checklist-slat]").forEach(function(b){"status-bar"!==
f.get(b,"data-checklist-slat")&&a.$widget.checklist.addOnSlatRenderedListener(f.get(b,"data-checklist-slat"),function(){a.$widget.statusBar.getView("status-bar")})});this._productTypeSelect()},_productTypeSelect:function(){a(window.document,a.selector("[data-mc-el\x3d'productType']","attrmodified-value"),function(a){a=m.getEnclosingWidget(a.target);var b=c("[data-mc-el\x3d'newestProducts']")[0],d=c("[data-mc-el\x3d'bestProducts']")[0];if(a)switch(a.value){case "best_selling":h.set(d,"display","block");
h.set(b,"display","none");break;default:h.set(b,"display","block"),h.set(d,"display","none")}})},openDomainVerification:function(a){a=f.get(a,"data-email");a=b.toUrl("/account/verify-domain/",{step:"add-new",email:a,cid:this.childId});this.verificationDialog||(this.verificationDialog=new e({title:"Verify Domain",style:"width:620px;",refreshOnShow:"true",id:"mc-module-dialog",onHide:k.hitch(this,function(){this.$widget.checklist.getView("from")})}));this.verificationDialog.setHref(a);this.verificationDialog.show()},
previewContent:function(){this.previewer||(this.previewer=new q({previewId:this.childId,previewType:"campaign",titleText:this.parentTitle,showMergeInfo:!0}));this.previewer.show()},editPlainText:function(){p.show(this.childId)}})})},"mojo/views/ads/edit-mobile":function(){define("dojo/_base/declare mojo/context mojo/url mojo/widgets/ads/mobile-checklist/EventRouter mojo/widgets/ads/mobile-checklist/AndroidSimulator mojo/widgets/ads/mobile-checklist/FacebookSlat mojo/widgets/ads/mobile-checklist/GoogleSlat mojo/widgets/ads/mobile-checklist/iOSDevice mojo/widgets/ads/mobile-checklist/AndroidDevice mojo/views/_base".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([b],{ad:{},onReady:function(){this.useSimulator()&&this.initSimulator();this.initRouter()},initSimulator:function(){this.sim=new a({interfaceContainer:this.$el.interfaceContainer});this.sim.placeAt(this.$el.simulatorContainer);this.sim.startup()},initRouter:function(){this.router=new f({campaignUniqueId:this.ad.uniqueId,slatInterface:this.getSlatInterface(),deviceInterface:this.getDeviceInterface()});this.router.placeAt(this.$el.interfaceContainer);this.router.startup()},
getSlatInterface:function(){var a=null;switch(this.ad.type){case "facebook":a=c;break;case "google":a=e;break;default:throw Error("Unknown slat interface type.");}return a},getDeviceInterface:function(){if(window.webkit&&window.webkit.messageHandlers)return m;if(window.Android)return d;throw Error("Unknown device interface type.");},useSimulator:function(){var a="dev"===k.avestaEnvironment,b=-1!==window.location.search.indexOf("simulator\x3dtrue");return a||b}})})},"mojo/views/ads/edit":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-prop dojo/number dojo/on dojo/query dojo/request dojo/topic mojo/lib/flags mojo/url mojo/user mojo/utils mojo/app/account/billing mojo/app/placards mojo/app/placards/checklist/static mojo/app/placards/checklist/remarketing mojo/widgets/ads/SlingShotAnimation mojo/widgets/ads/checklist/status-bar/AdStatusBar mojo/views/_base mojo/widgets/ContactBillingModal dojo/NodeList-traverse".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C){return l([B],{_attachBillingSummaryEventHandlers:function(){var a=this,c=b("[data-action\x3d'edit-payment-info']");k.forEach(c,function(b){d(b,"click",function(b){b.preventDefault();b.stopPropagation();w.editBillingInfo().then(function(){a.refreshBillingSummary()})})});b("[data-mc-el\x3d'editPaymentAnchor']")[0]?new C({step:"payment",callbackURI:"reload",workflowMode:!0},b("[data-mc-el\x3d'editPaymentAnchor']")[0]):b("[data-mc-el\x3d'addPaymentAnchor']")[0]&&
new C({step:"payment",callbackURI:"reload",workflowMode:!0},b("[data-mc-el\x3d'addPaymentAnchor']")[0])},refreshBillingSummary:function(){var a=this.ad,b=this;n.post(r.toUrl("ads/billing-summary"),{data:{id:a.uniqueId},handleAs:"text"}).then(function(a){f.byId("plan-total-wrapper").innerHTML=a;b._attachBillingSummaryEventHandlers();b.parse(f.byId("plan-total-wrapper"));(a=f.byId("ad-budget"))&&b.$el.adBudgetConfirm&&(b.$el.adBudgetConfirm.innerHTML=a.innerHTML)})},onReady:function(){var f=this;this._setTitle(this.ad.name);
var h=this.ad,k;k={checklist:this.$widget.checklist};switch(h.type){case "facebook":k=y(k);break;case "google":k=x(k);break;default:throw"Unknown ad type";}k.setup(h);this.renderStatusBar();b("[data-checklist-slat]").forEach(function(b){"status-bar"!==a.get(b,"data-checklist-slat")&&f.$widget.checklist.addOnSlatRenderedListener(a.get(b,"data-checklist-slat"),function(a){f.renderStatusBar()})});u.checkIfBlocked(function(a){a&&f.showFeedback("Looks like you're using an ad blocker.","To continue using our Ad Builder, please disable your ad blocker. ",
"warning")});b("[data-no-connected-site\x3d'true']").forEach(function(){f.showFeedback("Connect your site",'You\'ll need to connect your site to use Google retargeting ads. \x3ca href\x3d"http://kb.mailchimp.com/integrations/connected-sites/about-connected-sites#Connect-Your-Site" target\x3d"_blank"\x3eHere\u2019s how\x3c/a\x3e.',"warning",!0)});b("[data-connected-site-connection-error\x3d'true']").forEach(function(){f.showFeedback("Can't reach your site",'We were unable to reach your site. Is it currently running? \x3ca href\x3d"'+
encodeURI(window.location.href)+'"\x3eCheck site again\x3c/a\x3e.',"warning",!0)});b("[data-requires-connected-site-upgrade\x3d'true']").forEach(function(b){"true"===a.get(b,"data-requires-ecomm-plugin-upgrade")?f.showFeedback("Update your store",'Please \x3ca href\x3d"http://kb.mailchimp.com/campaigns/google-remarketing-ads/update-your-store-for-retargeting" target\x3d"_blank"\x3eupdate your e-commerce integration\x3c/a\x3e to continue with Google remarketing ads. \x3ca href\x3d"'+encodeURI(window.location.href)+
'"\x3eCheck site again\x3c/a\x3e.',"warning",!0):f.showFeedback("Connect your site",'To continue with Google remarketing ads, you\u2019ll need to \x3ca href\x3d"'+r.toUrl("account/connected-sites")+'"\x3econnect your site with MailChimp\x3c/a\x3e.',"warning",!0)});p.subscribe("campaigns/checklist-interface",function(a){if("success"===a.status&&(f.refreshBillingSummary(),"budget"===a.itemId)){var b=-1!==a.startDate.indexOf("1969"),c=a.startDate+" at "+a.startTime+".";f.$el.confirmDuration&&e.set(f.$el.confirmDuration,
"textContent",a.durationInDays);e.set(f.$el.confirmStartDateTime,"textContent",b?"on the ad's approval date.":c)}});d(window.document,".c-button--loading:click",function(a){c.add(a.target,"button-loading disabled")});f.refreshBillingSummary();d(f.$el.editAdName,"click",function(a){a.preventDefault();f.$widget.editAdNameDialog.show()});d(f.$el.cancelAdRename,"click",function(a){a.preventDefault();f.$widget.editAdNameDialog.hide()});d(f.$el.saveAdRename,"click",function(){var a=f.$el.newAdName.value;
n.post(r.toUrl("/ads/rename"),{handleAs:"json",data:{id:h.uniqueId,name:a}}).then(function(a){f.$el.adName.textContent=a.name;f._setTitle(a.name);f.$widget.editAdNameDialog.hide()});window.ga("send","event","Ad Builder","Rename Ad",a)});this.$widget.tosDialog&&(this.$widget.tosDialog.show(),d(this.$el.cancelTos,"click",function(){f.$widget.tosDialog.hide();window.ga("send","event","Modal / Ad Campaign Terms of Use","Clicked / Cancel",name)}),d(this.$el.acceptTos,"click",function(a){a.preventDefault();
window.ga("send","event","Modal / Ad Campaign Terms of Use","Clicked / I Accept",name);n.post(r.toUrl("/ads/"+h.type+"/accept-terms"),{handleAs:"json"}).then(function(a){if("success"===a.status)f.$widget.tosDialog.hide(),window.location.reload(!0);else throw Error("Unknown error "+JSON.stringify(a));})}),d(window.document,d.selector("[data-mc-el\x3dshowTos]","click"),function(a){a.preventDefault();f.$widget.tosDialog.show()}));d(window.document,d.selector("[data-mc-el\x3dsubmitAd]","click"),function(){f.$el.addPayment&&
!f.$el.ccSecurity?(c.remove(f.$el.addPaymentBlock,"warning"),c.add(f.$el.addPaymentBlock,"error"),c.remove(f.$el.addPaymentError,"hide"),f.$el.addPayment.focus()):f.$el.ccSecurity&&3>f.$el.ccSecurity.value.length?(c.remove(f.$el.ccSecurityError,"hide"),c.add(f.$el.ccSecurity,"invalid"),f.$el.ccSecurity.focus()):(f.$el.ccSecurity&&(c.add(f.$el.ccSecurityError,"hide"),c.remove(f.$el.ccSecurity,"invalid")),window.ga("send","event","Ad Builder","Submit Ad"),f.$widget.confirmAdDialog.show(),a.has(f.$el.confirmAd,
"disabled")&&(a.remove(f.$el.confirmAd,"disabled"),c.remove(f.$el.confirmAd,"button-loading disabled")),A.startAnimation("animationCanvas",1))});d(window.document,d.selector("[data-mc-el\x3dcancelAd]","click"),function(){window.ga("send","event","Ad Builder","Cancel");v.confirmCancel(h.uniqueId).then(function(){window.location.reload(!0)})});d(window.document,d.selector("[data-mc-el\x3dresumeAd]","click"),function(){v.unpauseAd(h.uniqueId).then(function(){window.ga("send","event","Ad Builder","Resume Ad");
window.location.reload(!0)})});d(window.document,d.selector("[data-mc-el\x3dpauseAd]","click"),function(){v.pauseAd(h.uniqueId).then(function(){window.ga("send","event","Ad Builder","Pause Ad");window.location=r.toUrl("/ads/edit",{id:h.uniqueId})})});d(f.$el.closeAdDialog,"click",function(a){a.preventDefault();f.$widget.confirmAdDialog.hide()});d(f.$el.confirmAd,"click",function(b){b.preventDefault();a.set(this,"disabled","disabled");window.ga("send","event","Ad Builder","Confirm Order");n.post(r.toUrl("/ads/post-publish"),
{handleAs:"json",data:{id:h.uniqueId,"cc-security":f.$el.ccSecurity?f.$el.ccSecurity.value:null}}).then(function(a){switch(a.status){case "success":a=r.toUrl("/ads/finished-sent",{id:h.uniqueId});window.location=a;break;case "error":for(var b in a.errors)if({}.hasOwnProperty.call(a.errors,b)){f.showFlash(a.errors[b]);f.$widget.confirmAdDialog.hide();break}break;default:throw Error("Unknown state "+a.status);}})})},renderStatusBar:function(){var a=this;n.get(r.toUrl("/ads/status-bar",{id:a.ad.uniqueId}),
{handleAs:"json"}).then(function(b){a.ad=b.data.ad;z.render({status:a.ad.status,ad:a.ad},a.$el.statusBar)})},showFeedback:function(a,b,d,f){d=d||"error";var h=this.$el.feedback;["warning","error"].forEach(function(a){c.remove(h,a)});c.add(h,d);e.set(this.$el.feedbackTitle,"textContent",a);e.set(this.$el.feedbackMessage,f?"innerHTML":"textContent",b);c.remove(h,"hide")},hideFeedback:function(){c.add(this.$el.feedback,"hide")},showFlash:function(a){var b=this.$el.flash;this.$el.flashMessage.innerHTML=
a;c.remove(b,"hide")},hideFlash:function(){c.add(this.$el.flash,"hide")},_setTitle:function(a){this.$el.titleNode.innerText="Ad Builder - "+a+" | MailChimp"}})})},"mojo/views/ads/finished-sent":function(){define("dojo/_base/declare dojo/on dojo/query mojo/utils/promotion-utils mojo/views/_base mojo/widgets/ads/SlingShotAnimation".split(" "),function(l,k,h,f,a,c){return l([a],{onReady:function(){c.startAnimation("animationCanvas",2);f.setupButtonEvents()}})})},"mojo/views/account/billing-contact":function(){define("dojo/_base/declare mojo/views/_base dojo/on mojo/user mojo/lib/flags dojo/_base/lang".split(" "),
function(l,k,h,f,a,c){return l([k],{redirectedFromLogin:null,onReady:function(){this.redirectedFromLogin&&this.$el.vatId.focus();h(this.$el.accountPurposeBusiness,"change",c.hitch(this,function(){this.$el.accountPurposeBusiness.checked&&this.$el.vatId.focus()}));this.$widget.accountPurposeBusinessAU&&h(this.$widget.accountPurposeBusinessAU,"change",c.hitch(this,function(){this.$widget.accountPurposeBusinessAU.checked&&this.$el.vatId.focus()}))}})})},"mojo/views/account/billing-plan":function(){define("dojo dojo/_base/declare mojo/views/_base dojo/Deferred dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/html dojo/dom-construct dojo/dom-form dojo/dom-geometry dojo/_base/lang dojo/_base/array dojo/request/xhr dojo/window dijit/registry dijit/Dialog mojo/widgets/ContactBillingModal mojo/api/currency-exchange mojo/url mojo/utils mojo/app/account/billing mojo/app/account/mctx mojo/app/account/paypal dojo/number dojo/request velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y,x,A,z,B,C,D,F,G,I,L,J){l.require("mojo.widgets.ContactBillingModal");var T=function(a){c(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return k([h],{hasSocialPro:null,itemsPreSelected:null,monthly_t:null,currentCurrency:null,mctxEmailsPerBlock:25E3,mctxEmailsPerMonth:0,mctxMonthlyBlocks:0,mctxOpenConnectModal:null,mctxOpenStartTrialModal:null,mctxLinked:null,onReady:function(){var f=this,h=c("[name\x3d'billing-plan']");
f.mctxOpenStartTrialModal&&!this.mctxLinked&&f._startMandrillTrial();this.$el.addMandrill&&e(this.$el.addMandrill,"click",function(a){a.stopPropagation();a.preventDefault();f._startMandrillTrial()});f.mctxOpenConnectModal&&!this.mctxLinked&&f._connectMandrill().then(function(a){a.success&&f._continueMctxLinking()});this.$el.connectMandrillLink&&e(this.$el.connectMandrillLink,"click",function(a){a.stopPropagation();a.preventDefault();f._connectMandrill().then(function(a){a.success&&f._continueMctxLinking()})});
this.$el.editTransactionalBtn&&e(this.$el.editTransactionalBtn,"click",function(a){a.preventDefault();f.$el.setTransactional&&b.remove(f.$el.setTransactional,"hide");f.$el.transactionalRemaining&&b.add(f.$el.transactionalRemaining,"hide")});this.$el.setTransactionalBtn&&e(this.$el.setTransactionalBtn,"click",function(a){a.preventDefault();f.$el.setTransactional&&b.remove(f.$el.setTransactional,"hide");f.$el.transactionalRemaining&&b.add(f.$el.transactionalRemaining,"hide")});this.$el.closeSetTransactional&&
e(this.$el.closeSetTransactional,"click",function(a){a.preventDefault();f.$el.setTransactional&&b.add(f.$el.setTransactional,"hide");f.$el.transactionalRemaining&&b.remove(f.$el.transactionalRemaining,"hide")});this.$el.saveSetTransactional&&e(this.$el.saveSetTransactional,"click",function(a){a.preventDefault();a.stopPropagation();0>=f.$el.blocks.value&&C.toast("Please input at least one block for your monthly transactional plan.");c("input[name\x3dbilling-plan][value\x3dmonthly]")[0].click();var b=
y.byId("low-send-threshold").value;a=c('[name\x3d"user\\[mctx\\]\\[low_send_threshold_action\\]"]:checked')[0];var d="notification";a&&(d=a.value);var e=y.byId("low-send-autorefill-blocks").value,h=0<c("input[name\x3dlink-mandrill][value\x3dY]").length;c("[data-action\x3d'remove-mailchimp-pro']");(f.mctxMonthlyBlocks!=f.$el.blocks.value||f.lowSendThreshold!=b||f.lowSendThresholdAction!=d||f.lowSendAutorefillBlocks!=e||h)&&w.post(B.toUrl("transactional/updateMctxThresholdPost"),{handleAs:"json",data:{"mctx-monthly-blocks":f.$el.blocks.value,
"low-send-threshold":b,"low-send-threshold-action":d,"low-send-autorefill-blocks":e}}).then(function(a){1==a.success&&(f.calculatePurchase(),h?h?0<f.$el.blocks.value&&scroll(0,0):f.$el.closeSetTransactional.click():(f.$el.nextCycleMonthlyEmails?(f.$el.nextCycleMonthlyEmails.innerHTML=I.format(f.$el.blocks.value*f.mctxEmailsPerBlock),f.lowSendThreshold==b&&f.lowSendThresholdAction==d&&f.lowSendAutorefillBlocks==e||f.mctxMonthlyBlocks!=f.$el.blocks.value?f.lowSendThreshold==b&&f.lowSendThresholdAction==
d&&f.lowSendAutorefillBlocks==e||f.mctxMonthlyBlocks==f.$el.blocks.value?C.toast("Your changes will be reflected during next month\x26#39;s billing cycle."):C.toast("Your settings have been saved."):C.toast("Your threshold settings have been saved."),f.$el.closeSetTransactional.click()):0<f.$el.blocks.value&&(C.toast("Please continue to checkout."),scroll(0,0)),f.mctxMonthlyBlocks=f.$el.blocks.value,f.lowSendThreshold=b,f.lowSendThresholdAction=d,f.lowSendAutorefillBlocks=e))})});this.$el.setTopOffBtn&&
e(this.$el.setTopOffBtn,"click",function(a){a.preventDefault();f.$el.setManualTopOff&&b.remove(f.$el.setManualTopOff,"hide");f.$el.transactionalRemaining&&b.add(f.$el.transactionalRemaining,"hide")});this.$el.closeManualTopOff&&e(this.$el.closeManualTopOff,"click",function(a){a.preventDefault();f.$el.setManualTopOff&&b.add(f.$el.setManualTopOff,"hide");f.$el.transactionalRemaining&&b.remove(f.$el.transactionalRemaining,"hide")});var k=function(d){d=y.byId("low-send-threshold").value;c('[name\x3d"user\\[mctx\\]\\[low_send_threshold_action\\]"]:checked');
var e=y.byId("low-send-autorefill-blocks").value,h=a.byId("autoTopoffMsg");f.$el.autoTopoff.checked?(n.set(l.byId("autoTopoffMsgThreshold"),d),n.set(l.byId("autoTopoffMsgBlocks"),e),b.remove(h,"hide"),1==e?n.set(l.byId("blockPlurality"),"block"):n.set(l.byId("blockPlurality"),"blocks")):b.add(h,"hide")};this.$el.mctxAutoTopoff&&(c("input[name\x3d'user\\[mctx\\]\\[low_send_threshold_action\\]']").on("change",k),y.byId("low-send-threshold").on("change",k),y.byId("low-send-autorefill-blocks").on("change",
k));k=c("[data-action\x3d'add-social-pro']");u.forEach(k,function(a,c){e(a,"click",function(){b.contains(a,"added")?f._cancelListSocialPro(a):f._addListSocialPro(a);f.calculatePurchase()})});(k=c("[data-action\x3d'remove-social-pro']"))&&u.forEach(k,function(a,b){e(a,"click",function(){f._deleteListSocialPro(a)})});(k=c("[data-action\x3d'add-mailchimp-pro']"))&&u.forEach(k,function(a,c){e(a,"click",function(){b.contains(a,"added")?f._cancelMailChimpPro(a):f._addMailChimpPro(a);f.calculatePurchase()})});
k=c("[data-action\x3d'add-mctx-monthly']");k.length&&u.forEach(k,function(a,c){e(a,"click",function(){b.contains(a,"added")?f._cancelMctxMonthly(a):(f._addMctxMonthly(a),f.$el.setTransactional&&b.remove(f.$el.setTransactional,"hide"),f.$el.transactionalRemaining&&b.add(f.$el.transactionalRemaining,"hide"));f.calculatePurchase()})});k=c("[data-action\x3d'remove-mctx-monthly']");k.length&&u.forEach(k,function(a,b){e(a,"click",function(){f._deleteMctxMonthly(a)})});k=c("[data-action\x3d'update-mctx-monthly']");
k.length&&u.forEach(k,function(a,b){e(a,"click",function(){c("input[name\x3dbilling-plan][value\x3dmonthly]")[0].click();var a=l.byId("blocks").value;w.post(B.toUrl("transactional/updateMctxMonthlyBlocks"),{data:{"mctx-monthly-blocks":a},handleAs:"json"}).then(function(a){a.success&&(f.calculatePurchase(),f.$el.closeSetTransactional.click())})})});c("input[name\x3dbilling-plan]").on("change",function(){"monthly"!==this.value&&a.byId("blocks")&&(a.byId("blocks").value="")});k=c("[data-action\x3d'mctx-manual-topoff']");
k.length&&u.forEach(k,function(a,b){e(a,"click",function(){f.calculatePurchase();f.$el.closeManualTopOff.click();""!=f.$el.refillBlocks.value&&scroll(0,0)})});this.$el.creditsGrid&&d.set(this.$el.creditsGrid,{display:"none",opacity:0});this.$el.monthlyCalcLink&&e(this.$el.monthlyCalcLink,"click",function(){y.byId("monthly-calc-dialog").show();f.calculateMonthly()});this.$el.calcMonthlyInput&&e(this.$el.calcMonthlyInput,"keyup",function(){f.calculateMonthly()});c("[name\x3dcredit-select]").on("change",
t.hitch(this,function(){this.calculatePurchase()}));h.on("change",t.hitch(this,function(){this.calculatePurchase();this.doCreditsGridVisibility()}));c("form#payment-form").on("submit",function(a){var d=this,e=q.toObject(d);if(e["social_pro_lists[]"]&&!e["terms-sign"]){a.preventDefault();a.stopPropagation();var f=new x({id:"module-terms-dialog",title:"Accept Terms of Use",onHide:function(){f.destroyRecursive()},onDownloadEnd:function(){T(f)}});f.setHref(B.toUrl("account/accept-module-terms-modal"));
f.show().then(function(){c("form",f.domNode).on("submit",function(a){a.preventDefault();a.stopPropagation();c(".invalid-error",this).forEach(function(a){b.add(a,"hide")});b.remove("terms-sign","invalid");(a=q.toObject(this)["terms-sign"])?(a=p.toDom('\x3cinput type\x3d"hidden" name\x3d"terms-sign" value\x3d"'+a+'"\x3e'),p.place(a,d),c("button[type\x3dsubmit]",d).forEach(function(a){a.click()}),f.hide()):(b.add("terms-sign","invalid"),c(".invalid-error",this).forEach(function(a){b.remove(a,"hide")}))})})}else c('[type\x3d"submit"]',
this).forEach(function(a){a.disabled=!0})});this.doCreditsGridVisibility();this.calculatePurchase();this.$el.blocks.value=this.mctxMonthlyBlocks||0;this.$el.emailsPerBlock.innerHTML=I.format(this.mctxEmailsPerBlock);this.$el.emailsPerMonth.innerHTML=I.format(this.$el.blocks.value*this.mctxEmailsPerBlock);e(this.$el.refillBlocks,"keypress",function(a){f._preventEnterSubmit(a)});this._blockInputEvents(this.$el.blocks,this.$el.emailsPerMonth,this.$el.blockCostPerMonth,this.$el.emailCostPerMonth);this.$el.refillBlocks.value=
"";this.$el.emailsPerRefillBlock.innerHTML=I.format(this.mctxEmailsPerBlock);this.$el.emailsPerRefillMonth.innerHTML=I.format(this.$el.refillBlocks.value*this.mctxEmailsPerBlock)||0;e(this.$el.refillBlocks,"keyup",function(){var a=f.$el.refillBlocks.value;f._isNumber(a)||(f.$el.refillBlocks.value=a.substring(0,a.length-1));f._updateMctxCost(f.$el.refillBlocks.value,"transactional/refillBlockPrice").then(function(a){f.$el.blockCostPerRefillMonth.innerHTML=a.costLocalizedString;f.$el.emailCostPerRefillMonth.innerHTML=
a.symbol+a.costPerEmailLocalized});f.$el.emailsPerRefillMonth.innerHTML=f._updateMctxEmailsPerMonth(a,f.$el.refillBlocks)})},_blockInputEvents:function(a,b,d,f){var h=this;e(a,"keypress",function(a){h._preventEnterSubmit(a);a=a.charCode||a.keyCode;var b=c(".mctx-modal").length;46==a&&(this.value="",1>b&&C.toast("Please enter a whole number."))});e(a,"keyup",function(){var c=a.value;h._isNumber(c)||(a.value=c.substring(0,c.length-1));h._updateMctxCost(a.value,"transactional/monthlyBlockPrice").then(function(a){d.innerHTML=
a.costLocalizedString;f.innerHTML=a.symbol+a.costPerEmailLocalized});b.innerHTML=h._updateMctxEmailsPerMonth(c,a)})},_preventEnterSubmit:function(a){13===(a.charCode||a.keyCode)&&(a.stopPropagation(),a.preventDefault())},_updateMctxCost:function(a,b){return L.get(B.toUrl(b,{blocks:a}),{handleAs:"json"})},_updateMctxEmailsPerMonth:function(a,b){return 0<a?I.format(b.value*this.mctxEmailsPerBlock):0},_isNumber:function(a){return parseFloat(a)==a},_startMandrillTrial:function(){var a=function(a){mojo.utils.toggleButtonLoadingState(a);
b.add(a,"disabled");w.post(B.toUrl("transactional/startMctxTrialPost"),{handleAs:"json"}).then(function(c){1==c.success?window.location=B.toUrl("/transactional"):(mojo.utils.toggleButtonLoadingState(a),b.remove(a,"disabled"))})},d=new x({title:"Add Mandrill",onHide:function(){d.destroyRecursive()},onDownloadEnd:function(){c(".confirmMctxTrialBtn",d.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a(this)});T(d)}});d.setHref(B.toUrl("transactional/start-mctx-trial-modal"));d.show()},
_connectMandrill:function(){var d=this,e=new f,h=new x({title:"Add Mandrill",class:"mctx-modal",onHide:function(){h.destroyRecursive()},onDownloadEnd:function(){c(".cancel-button",h.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();h.hide();e.resolve({success:!1,reason:"cancelled"})});var f=function(c){mojo.utils.toggleButtonLoadingState(c);b.add(c,"disabled");w.post(B.toUrl("transactional/startMctxTrialPost"),{handleAs:"json"}).then(function(d){1==d.success?window.location=B.toUrl("/transactional"):
(mojo.utils.toggleButtonLoadingState(c),b.remove(c,"disabled"),d=d.reason,b.remove("link-mctx-error","hide"),a.byId("link-mctx-error-msg").innerHTML=d)})},k=function(c){b.add("link-mctx-error","hide");var e=a.byId("mandrill_username").value,f=a.byId("mandrill_password").value,h=a.byId("multi_auth").value;d.validateMandrill(e,f,h).then(function(d){C.toggleButtonLoadingState(c);1==d.success?(b.add("step1","hide"),b.add("step2","hide"),b.remove("step_add_blocks","hide")):"tfa required"==d.reason?(b.add("step1",
"hide"),b.remove("step2","hide")):"tfa invalid"==d.reason?(b.remove("link-mctx-error","hide"),a.byId("link-mctx-error-msg").innerHTML="Invalid two-factor authentication code"):"unknown username password combination"==d.reason?(b.remove("link-mctx-error","hide"),a.byId("link-mctx-error-msg").innerHTML='A username with that password could not be found. Please make sure you\'re not using an API key or SMTP password to connect. \x3ca href\x3d"https://mandrill.zendesk.com/hc/en-us/articles/218077987" target\x3d"_blank"\x3eLearn more\x3c/a\x3e',
b.remove("step1","hide"),b.add("step2","hide")):"mandrill already connected"==d.reason?(b.remove("link-mctx-error","hide"),a.byId("link-mctx-error-msg").innerHTML="This Mandrill account has already been connected to another MailChimp account.",b.remove("step1","hide"),b.add("step2","hide")):"user bad"==d.reason?(b.remove("link-mctx-error","hide"),a.byId("link-mctx-error-msg").innerHTML='Your account cannot be linked at this time. This may be due to a negative Mandrill balance, account suspension, or account closure. \x3ca href\x3d"https://mandrill.zendesk.com/hc/en-us/articles/218077987" target\x3d"_blank"\x3eLearn More\x3c/a\x3e',
b.remove("step1","hide"),b.add("step2","hide")):(b.remove("link-mctx-error","hide"),a.byId("link-mctx-error-msg").innerHTML="An unexpected error occurred.")})};c("#submit_no_mandrill",h.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();b.remove("step_start_trial","hide");b.add("step1","hide")});c("#submit_start_trial",h.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();f(this)});c("#submit_step_1,#submit_step_2",h.domNode).on("click",function(a){a.stopPropagation();
a.preventDefault();k(this)});c("#submit_add_blocks",h.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();""==c("[data-id\x3dblocks]")[0].value||0==c("[data-id\x3dblocks]")[0].value?b.remove("min_block_msg","hide"):(h.hide().then(function(){scroll(0,0)}),d.$el.blocks.value=c("[data-id\x3dblocks]",h.domNode)[0].value,d.$el.emailsPerBlock.innerHTML=c("[data-id\x3demailPerBlock]",h.domNode)[0].innerHTML,d.$el.emailsPerMonth.innerHTML=c("[data-id\x3demailsPerMonth]",h.domNode)[0].innerHTML,
d.$el.blockCostPerMonth.innerHTML=c("[data-id\x3dblockCostPerMonth]",h.domNode)[0].innerHTML,d.$el.emailCostPerMonth.innerHTML=c("[data-id\x3demailCostPerMonth]",h.domNode)[0].innerHTML,e.resolve({success:!0}))});c("#submit_add_blocks_needs_monthly",h.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();b.remove("step_add_mc_monthly","hide");b.add("step_add_blocks","hide")});c("#submit_add_mc_monthly",h.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();d.$el.blocks.value=
c("[data-id\x3dblocks]",h.domNode)[0].value;d.$el.emailsPerBlock.innerHTML=c("[data-id\x3demailPerBlock]",h.domNode)[0].innerHTML;d.$el.emailsPerMonth.innerHTML=c("[data-id\x3demailsPerMonth]",h.domNode)[0].innerHTML;d.$el.blockCostPerMonth.innerHTML=c("[data-id\x3dblockCostPerMonth]",h.domNode)[0].innerHTML;d.$el.emailCostPerMonth.innerHTML=c("[data-id\x3demailCostPerMonth]",h.domNode)[0].innerHTML;h.hide();e.resolve({success:!0})});var l=c("[data-mc-el\x3d'continueSetupBtn']"),m=c("[data-mc-el\x3d'setTransactional']")[0],
n=c("[data-mc-el\x3d'transactionalRemaining']")[0];c(l,h.domNode).on("click",function(a){a.stopPropagation();a.preventDefault();m&&b.remove(m,"hide");n&&b.add(n,"hide");h.hide()});var l=c("[data-id\x3dblocks]",h.domNode)[0],p=c("[data-id\x3demailsPerMonth]",h.domNode)[0],q=c("[data-id\x3dblockCostPerMonth]",h.domNode)[0],r=c("[data-id\x3demailCostPerMonth]",h.domNode)[0];l&&(c("[data-id\x3demailPerBlock]",h.domNode)[0].innerHTML=I.format(d.mctxEmailsPerBlock),d._blockInputEvents(l,p,q,r))}});h.setHref(B.toUrl("transactional/connect-mandrill"));
h.show();return e},_continueMctxLinking:function(){var d=a.byId("payment-form"),e=p.toDom('\x3cinput type\x3d"hidden" name\x3d"link-mandrill" value\x3d"Y"\x3e');p.place(e,d);c("input[name\x3dbilling-plan][value\x3dmonthly]")[0].click();this.$el.setTransactional&&b.remove(this.$el.setTransactional,"hide");0<c("input[name\x3dlink-mandrill][value\x3dY]").length&&(b.remove(this.$el.linkMctxFeedback,"hide"),this.$el.saveSetTransactional.innerHTML="Add Blocks to Checkout");b.add(this.$el.connectMandrillLink,
"hide");b.add(this.$el.closeSetTransactional,"hide");this.calculatePurchase()},validateMandrill:function(a,b,c){return w.post(B.toUrl("transactional/validateMctxAccountPost"),{handleAs:"json",data:{mandrill_username:a,mandrill_password:b,multi_auth:c}})},_attachSidebarEventHandlers:function(){var d=this;this.$el.confirmBillingInfo&&e(this.$el.confirmBillingInfo,"click",function(e){if("downgrade"==m.get(d.$el.confirmBillingInfo,"data-action"))dijit.byId("confirm-downgrade").show(),e.preventDefault();
else if(a.byId("cc-security-wrapper")&&!b.contains("cc-security-wrapper","hide")){var f=c("[data-mc-el\x3d'ccSecurity']")[0];if(f&&""==f.value){var h=c("[data-mc-el\x3d'ccSecurityError']")[0];b.remove(h,"hide");b.add(f,"invalid");e.preventDefault()}}});c("[data-mc-el\x3d'editPaymentAnchor']")[0]?new A({step:"payment",workflowMode:!0},c("[data-mc-el\x3d'editPaymentAnchor']")[0]):c("[data-mc-el\x3d'addPaymentAnchor']")[0]&&new A({step:"payment",workflowMode:!0},c("[data-mc-el\x3d'addPaymentAnchor']")[0]);
var f=c("[data-action\x3d'edit-payment-info']");u.forEach(f,function(a){e(a,"click",function(a){a.preventDefault();a.stopPropagation();D.editBillingInfo().then(function(){d.calculatePurchase()})})});e(c("[data-action\x3d'remove-card']"),"click",function(a){D.removeBillingInfo().then(function(){d.calculatePurchase()})})},_addListSocialPro:function(a){n.set(a,"Remove");b.add(a,"added");var c=p.toDom('\x3cinput id\x3d"listid_'+m.get(a,"data-value")+'" type\x3d"hidden" name\x3d"social_pro_lists[]" value\x3d"'+
m.get(a,"data-value")+'"\x3e');p.place(c,a,"after")},_cancelListSocialPro:function(a){n.set(a,"Add");b.remove(a,"added");p.destroy("listid_"+m.get(a,"data-value"))},_deleteListSocialPro:function(a){var b=new x({title:"Delete list from Social Profiles",onHide:function(){b.destroyRecursive()},onDownloadEnd:function(){T(b)}});b.setHref(B.toUrl("account/delete-social-pro-modal",{id:m.get(a,"data-value")}));b.show()},_addMailChimpPro:function(a){n.set(a,"Remove");b.add(a,"added");m.set(this.$el.mailchimpPro,
"value","Y")},_cancelMailChimpPro:function(a){n.set(a,"Add for $199 / month");b.remove(a,"added");m.set(this.$el.mailchimpPro,"value","N")},_addMctxMonthly:function(c){b.add(c,"added");m.set(this.$el.mctxMonthly,"value","Y");""==a.byId("blocks").value&&(a.byId("blocks").value=1)},_cancelMctxMonthly:function(c){n.set(c,"Add");b.remove(c,"added");m.set(this.$el.mctxMonthly,"value","N");a.byId("blocks")&&(a.byId("blocks").value="")},_deleteMctxMonthly:function(){var a=new x({title:"Disable Mandrill",
onHide:function(){a.destroyRecursive()},onDownloadEnd:function(){T(a)}});a.setHref(B.toUrl("transactional/delete-mctx-monthly-modal"));a.show()},calculatePurchase:function(){var b=w.post(B.toUrl("account/calculate-purchase"),{data:q.toObject(this.$el.form),handleAs:"text"});b.then(t.hitch(this,function(b){a.byId("plan-total-wrapper").innerHTML=b;this.parse(a.byId("plan-total-wrapper"));this._attachSidebarEventHandlers()}));return b},getSelectedBillingPlan:function(){var a=c("input[name\x3dbilling-plan]:checked")[0];
return a?a.value:null},doCreditsGridVisibility:function(){this.$el.creditsGrid&&("payg"===this.getSelectedBillingPlan()?(d.set(this.$el.creditsGrid,"display",""),J(this.$el.creditsGrid,{opacity:1},{duration:350})):J(this.$el.creditsGrid,{opacity:0},{duration:350,complete:t.hitch(this,function(){d.set(this.$el.creditsGrid,"display","none")})}))},calculateMonthly:function(){this.monthly_t&&clearTimeout(this.monthly_t);this.monthly_t=setTimeout(function(){var a=[];a.currency=this.currentCurrency;a.members=
parseInt(c("[data-mc-el\x3d'calcMonthlyInput']")[0].value.replace(/[^\d]/g,""));l.xhrPost({url:B.toUrl("account/plans-tables"),content:a,handleAs:"json",load:function(a){l.byId("plans-table")&&(l.byId("plans-table").innerHTML=a.plans)}});this.monthly_t=null},500)}})})},"mojo/views/account/billinginfo":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/utils dojo/request/xhr dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/dom-construct dojo/html dojo/_base/array mojo/app/account/billing mojo/widgets/ContactBillingModal".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u){return l([k],{onReady:function(){this.attachEventHandlers()},attachEventHandlers:function(){var a=this;e("[data-mc-el\x3d'addPaymentAnchor']")[0]&&new u({step:"payment",workflowMode:!0,onClose:function(){t.refreshPaymentInfo("billinginfo").then(function(){a.attachEventHandlers()})}},e("[data-mc-el\x3d'addPaymentAnchor']")[0]);e("[data-mc-el\x3d'editPaymentAnchor']")[0]&&new u({step:"payment",workflowMode:!0,onClose:function(){t.refreshPaymentInfo("billinginfo").then(function(){a.attachEventHandlers()})}},
e("[data-mc-el\x3d'editPaymentAnchor']")[0]);e("[data-mc-el\x3d'editBillingContactAnchor']")[0]&&new u({step:"billing",onClose:function(){t.refreshPaymentInfo("billinginfo").then(function(){a.attachEventHandlers()})}},e("[data-mc-el\x3d'editBillingContactAnchor']")[0]);this.parse(c.byId("current-billing-info"));this.updateCheckboxDescription();if(this.$group.notificationInputs){var b=[this.$el.invoiceNotification.checked,this.$el.billingNotification.checked];this.$el.paygNotification&&b.push(this.$el.paygNotification.checked,
this.$el.paygNotificationThreshold.value);this.$group.notificationInputs.on(["change","keyup"],function(){var c=[a.$el.invoiceNotification.checked,a.$el.billingNotification.checked];a.$el.paygNotification&&c.push(a.$el.paygNotification.checked,a.$el.paygNotificationThreshold.value);a.updateCheckboxDescription();n.toggle(a.$el.billingNotificationsSaveButton,"hide",!f.arraysMatch(c,b))})}if(this.$group.paygRefillInputs){var k=[this.$el.paygRefillCheckbox.checked,this.$el.paygRefillSelect.value,this.$el.paygRefillThreshold.value];
this.$group.paygRefillInputs.on(["change","keyup"],function(){var b=[a.$el.paygRefillCheckbox.checked,a.$el.paygRefillSelect.value,a.$el.paygRefillThreshold.value];a.updateCheckboxDescription();n.toggle(a.$el.paygRefillSaveButton,"hide",!f.arraysMatch(b,k))})}if(this.$el.currency){var l=d.get(this.$el.currency,"value");m(this.$el.currency,"change",function(b){n.remove(a.$el.currencySaveButton,"hide");d.get(a.$el.currency,"value")==l&&n.add(a.$el.currencySaveButton,"hide");"brl"===d.get(a.$el.currency,
"value")?n.remove(a.$el.currencyMessage,"hide"):n.add(a.$el.currencyMessage,"hide")})}m(e("[data-action\x3d'edit-payment-info']"),"click",function(b){t.editBillingInfo().then(function(b){"adyen"!=b["payment-method"]||b.is_adyen_already||(window.location=h.toUrl("account/adyen-setup"));t.refreshPaymentInfo("billinginfo").then(function(){a.attachEventHandlers()})})});m(e("[data-action\x3d'remove-card']"),"click",function(b){t.removeBillingInfo().then(function(){t.refreshPaymentInfo("billinginfo").then(function(){a.attachEventHandlers()})})});
this.$el.editBillingEmailLink&&m(this.$el.editBillingEmailLink,"click",function(){t.updateBillingEmail().then(function(){t.refreshPaymentInfo("billinginfo").then(function(){a.attachEventHandlers()})})});this.$el.paygNotificationThreshold&&m(this.$el.paygNotificationThreshold,"keypress",function(b){a.validateNumberInput(b)});this.$el.paygRefillThreshold&&m(this.$el.paygRefillThreshold,"keypress",function(b){a.validateNumberInput(b)})},updateCheckboxDescription:function(){if(this.$el.paygNotification||
this.$group.paygRefillInputs)n.toggle(this.$el.paygNotificationDesc,"dim3 no-clicky",!this.$el.paygNotification.checked),n.toggle(this.$el.paygRefillDesc,"dim3 no-clicky",!this.$el.paygRefillCheckbox.checked)},validateNumberInput:function(a){var b=/[0-9]/,c=a.keyCode||a.which;-1===[8,37,38,39,40].indexOf(c)&&(b.test(String.fromCharCode(c))||a.preventDefault(a))}})})},"mojo/views/account/close-survey":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class".split(" "),
function(l,k,h,f,a,c,e,m){return l([k],{onReady:function(){this.attachEventHandlers()},validateRequiredFields:function(){0<f("[name\x3d'whyClose[]']:checked").length&&0<f("[name\x3dmakesMeFeel]:checked").length&&""!==this.$el.passwordInput.value?(m.remove(this.$el.deleteButton,"disabled"),m.add(this.$el.requiredStatus,"hide")):(m.add(this.$el.deleteButton,"disabled"),m.remove(this.$el.requiredStatus,"hide"))},hidePlatformQuestion:function(){m.add(this.$el.platformQuestion,"hide");m.add(this.$el.otherReasonInput,
"hide");this.$el.otherReasonInput.value="";this.$el.platformQuestionInput.value=""},attachEventHandlers:function(){var d=this;a(f("[name\x3d'whyClose[]']"),"change",function(a){var e=!1;f("#whyClose_3, #whyClose_4").forEach(function(a){a.checked&&(e=!0)});e?d.hidePlatformQuestion():m.remove(d.$el.platformQuestion,"hide");0<f("#whyClose_14:checked").length?m.remove(d.$el.otherReasonInput,"hide"):(m.add(d.$el.otherReasonInput,"hide"),d.$el.otherReasonInput.value="");0<f("#whyClose_9:checked").length?
m.remove(d.$el.missingFeaturesInput,"hide"):(m.add(d.$el.missingFeaturesInput,"hide"),d.$el.missingFeaturesInput.value="");0<f("#whyClose_12:checked").length?m.remove(d.$el.missingIntegrationsInput,"hide"):(m.add(d.$el.missingIntegrationsInput,"hide"),d.$el.missingIntegrationsInput.value="");3<=f("[name\x3d'whyClose[]']:checked").length?f("[name\x3d'whyClose[]']:not(:checked)").forEach(function(a){c.set(a,"disabled",!0);m.add(a.parentNode,"dijitCheckBoxDisabled")}):f("[name\x3d'whyClose[]']").forEach(function(a){c.set(a,
"disabled",!1);m.remove(a.parentNode,"dijitCheckBoxDisabled")})});a(f("input[type\x3dradio], input[data-mc-el\x3dpasswordInput], input[type\x3dcheckbox]"),"change",function(){d.validateRequiredFields()})}})})},"mojo/views/account/details":function(){define("dojo/_base/declare dojo/_base/lang mojo/views/_base dojo/on dijit/registry mojo/utils mojo/user mojo/lib/flags".split(" "),function(l,k,h,f,a,c,e,m){return l([h],{isAgency:null,onReady:function(){f(this.$el.agencyForm,"submit",k.hitch(this,function(a){this._submitAgencySetting(a)}))},
_submitAgencySetting:function(d){"Y"===this.isAgency&&!1===this.$el.agencyCheck.checked&&(d.stopPropagation(),d.preventDefault(),c.toggleButtonLoadingState(this.$el.agencyFormButton),a.byId("disable-agency-dialog").show())}})})},"mojo/views/account/domains":function(){define("dojo/_base/declare mojo/views/_base dijit/registry mojo/url velocity/velocity dijit/Dialog dojo/dom dojo/query dojo/dom-class dojo/dom-attr dojo/on dojo/request/xhr mojo/utils dojo/dom-construct".split(" "),function(l,k,h,f,
a,c,e,m,d,b,n,p,q,r){return l([k],{enableAuthenticationModal:null,disableAuthenticationModal:null,domainDeleteModal:null,disableAuthentication:null,selectedDomain:null,errorsContainer:null,onReady:function(){this.enableAuthenticationModal=h.byId("configure-modal");this.disableAuthenticationModal=h.byId("disable-authentication");this.domainDeleteModal=h.byId("domain-delete");this.errorsContainer=e.byId("errors");var a=this;n(m("[data-action\x3d'try-authentication']")[0],"click",function(b){q.toggleButtonLoadingState(this);
b.preventDefault();a.tryAuthentication(a.selectedDomain,this)});n(m("[data-action\x3d'disable-authentication']")[0],"click",function(b){q.toggleButtonLoadingState(this);b.preventDefault();a.disableAuthentication(a.selectedDomain,this)});n(m("#delete-domain-form"),"submit",function(b){q.toggleButtonLoadingState(m("[data-action\x3d'delete-domain']")[0]);b.preventDefault();r.place(r.create("input",{name:"domain",type:"hidden",value:escape(a.selectedDomain)}),this);this.submit()})},showDomainDeleteModal:function(a){this.selectedDomain=
a;m(".domain-name").attr("innerHTML",a);domainDeleteModal.show()},showEnableDomainAuthenticationModal:function(a){this.selectedDomain=a;this.errorsContainer.innerHTML="";d.add("authentication-errors","hide");m(".domain-name").attr("innerHTML",a);this.enableAuthenticationModal.show()},showDisableDomainAuthenticationModal:function(a){this.selectedDomain=a;m(".domain-name").attr("innerHTML",a);disableAuthenticationModal.show()},tryAuthentication:function(b,c){var h=this;p(f.toUrl("/account/check-authentication"),
{handleAs:"json",query:{domain:b}}).then(function(b){if(b.success)window.location.reload();else{var f="";q.toggleButtonLoadingState(c);b.errors.dkim&&(f+="\x3cp\x3e\x3cstrong\x3eDKIM:\x3c/strong\x3e "+b.errors.dkim+"\x3cp/\x3e");b.errors.spf&&(f+="\x3cp\x3e\x3cstrong\x3eSPF:\x3c/strong\x3e "+b.errors.spf+"\x3cp/\x3e");h.errorsContainer.innerHTML=f;d.remove("authentication-errors","hide");a(e.byId("top"),"scroll",{container:m(".dijitDialogPaneContentArea")[0],duration:250,offset:-50})}})},disableAuthentication:function(a,
b){var c=this;p(f.toUrl("/account/disable-authentication"),{handleAs:"json",query:{domain:a}}).then(function(a){d.remove("authentication-errors","hide");a.success?window.location.reload():(q.toggleButtonLoadingState(b),c.errorsContainer.innerHTML="There was an error disabling authentication for this domain.")})}})})},"mojo/views/account/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/utils dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class dojo/html dojo/topic dojo/_base/array mojo/app/account/billing dijit/Dialog dijit/registry velocity/velocity velocity/velocity.ui".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w){return l([k],{creditsGrid:null,creditsGridToggle:null,buyCredits:null,cancelBuyCredits:null,creditSelect:null,numCredits:null,creditsGridOpen:null,onReady:function(){this.creditsGrid=c("[data-element\x3d'credits-grid']")[0];this.creditsGridToggle=c("[data-action\x3d'credits-grid-toggle']")[0];this.buyCredits=c("[data-action\x3d'buy-credits']")[0];this.cancelBuyCredits=c("[data-action\x3d'cancel-buy-credits']")[0];this.creditSelect=c("[name\x3d'credit-select']");
this.numCredits=c("[data-content\x3d'num-credits']")[0];this.creditsGridOpen=!1;var a=this;null!=this.creditsGrid&&(e(this.creditsGridToggle,"click",function(b){a.showCreditsGrid()}),e(this.cancelBuyCredits,"click",function(){a.hideCreditsGrid()}),e(this.creditSelect,"change",function(){b.remove(a.buyCredits,"disabled");n.set(a.numCredits,m.get(this,"data-content"))}),e(this.buyCredits,"click",function(){var a=c(dojo.query("[name\x3dcredit-select]:checked"));a&&(window.location=h.toUrl("/account/billing-plan",
{credits:a[0].value}))}));p.subscribe(u.byId("account-issues").getTopic(),function(){f.parseEmoji(u.byId("account-issues").domNode)})},showCreditsGrid:function(){this.creditsGridOpen||(d.set(this.creditsGrid,"display",""),w(this.creditsGrid,"transition.slideDownIn",500),this.creditsGridOpen=!0,b.add(this.creditsGridToggle,"hide"),b.remove(this.buyCredits,"hide"),b.remove(this.cancelBuyCredits,"hide"))},hideCreditsGrid:function(){var a=this;w(a.creditsGrid,"reverse",{duration:250});w(a.creditsGrid,
{height:0},{easing:"easeInOut",duration:200,complete:function(){d.set(a.creditsGrid,"display","none");d.set(a.creditsGrid,"height","auto");a.creditsGridOpen=!1;b.remove(a.creditsGridToggle,"hide");b.add(a.buyCredits,"disabled");b.add(a.buyCredits,"hide");b.add(a.cancelBuyCredits,"hide");q.forEach(a.creditSelect,function(b){m.get(b,"checked")&&(m.set(b,"checked",!1),n.set(a.numCredits,""))})}})}})})},"mojo/views/account/pro-remove-survey":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/query dojo/on dojo/dom-attr dojo/dom-style dojo/dom-class".split(" "),
function(l,k,h,f,a,c,e,m){return l([k],{onReady:function(){this.attachEventHandlers()},validateRequiredFields:function(){0<f("[name\x3dwhyRemovePro]:checked").length&&(m.remove(this.$el.removeButton,"disabled"),m.add(this.$el.requiredStatus,"hide"))},attachEventHandlers:function(){var c=this;a(f("[name\x3dwhyRemovePro]"),"change",function(){"Other"==this.value?m.remove(c.$el.otherReasonInput,"hide"):m.add(c.$el.otherReasonInput,"hide");"Too hard to figure out"==this.value?m.remove(c.$el.featuresTroubleInput,
"hide"):m.add(c.$el.featuresTroubleInput,"hide");"Doesn't meet my needs"==this.value?m.remove(c.$el.featuresShortInput,"hide"):m.add(c.$el.featuresShortInput,"hide");c.validateRequiredFields()})}})})},"mojo/views/account/users/index":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/on dijit/registry mojo/user mojo/url mojo/app/account/clients/revokeAccess".split(" "),function(l,k,h,f,a,c,e,m,d){return l([k],{inviteId:null,loginId:null,onReady:function(){this.$group.removeAccountBtn&&
a(this.$group.removeAccountBtn,"click",h.hitch(this,function(a){d.showRemoveAgencyDialog(f.get(a.target,"data-agency-id"))}));this.$group.revokeAccessBtn&&a(this.$group.revokeAccessBtn,"click",h.hitch(this,function(a){var c=f.get(a.target,"data-agency-id");a=f.get(a.target,"data-login-id");null===a?d.showRemoveAgencyDialog(c):d.showRemoveAgencyUserDialog(c,a)}))},submitRemoveUser:function(){d.doRemoveAgencyUser()},submitRemoveAccount:function(){d.doRemoveAgencyAccount()},showDeleteConfirmation:function(a){this.loginId=
a;c.byId("delete-user-dialog").show()},doDeleteLogin:function(){window.location=m.toUrl("/account/users/delete",{login_id:this.loginId,__csrf_token:e.__csrfToken})},showRevokeInviteConfirmation:function(a){this.inviteId=a;c.byId("delete-invite-dialog").show()},doDeleteInvite:function(){window.location=m.toUrl("/account/users/revoke-invitation",{key:this.inviteId,__csrf_token:e.__csrfToken})}})})},"mojo/views/account/users/view":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/on mojo/app/account/clients/revokeAccess".split(" "),
function(l,k,h,f,a,c){return l([k],{onReady:function(){this.$el.revokeAccessBtn&&a(this.$el.revokeAccessBtn,"click",h.hitch(this,function(a){var h=f.get(a.target,"data-agency-id");a=f.get(a.target,"data-login-id");null===a?c.showRemoveAgencyDialog(h):c.showRemoveAgencyUserDialog(h,a)}))},submitRemoveUser:function(){c.doRemoveAgencyUser()},submitRemoveAccount:function(){c.doRemoveAgencyAccount()}})})},"mojo/views/account/status/index":function(){define("dojo/_base/declare mojo/views/_base mojo/url mojo/utils dojo/request/xhr dojo/dom dojo/on dojo/dom-attr dojo/dom-class dijit/Dialog dojo/query".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n){var p=function(a){n(".cancel-button",a.domNode).on("click",function(b){b.stopPropagation();b.preventDefault();a.hide()})};return l([k],{onReady:function(){this.initAcknowledgementCheckMark();this.initDismissReconfirmModal();f.parseEmoji(c.byId("issue-detail"))},initAcknowledgementCheckMark:function(){var a=this.$el.acknowledgeCheckmark,b=this.$el.ignoreWarning;a&&e(a,"change",function(){d.toggle(b,"disabled")})},initDismissReconfirmModal:function(){var a=this,b=this.$el.confirmDismissReconfirm;
b&&e(b,"click",function(){a._dismissReconfirmModal(b)})},_dismissReconfirmModal:function(a){var c=new b({title:"Are you sure?",onHide:function(){c.destroyRecursive()},onDownloadEnd:function(){p(c)}});c.setHref(h.toUrl("account/status/dismiss-reconfirm-modal",{id:m.get(a,"data-value")}));c.show()}})})},"mojo/views/account/connected-sites/app-selection":function(){define("dojo/_base/declare mojo/views/_base velocity/velocity dojo/router dojo/hash dojo/_base/lang dojo/request/xhr mojo/url dojo/Deferred dojo/dom-style dojo/dom-construct vendor/lodash-amd/orderBy mojo/widgets/account/connected-sites/StoreSelectionManager mojo/widgets/account/connected-sites/instructions/AppInstructionsManager".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r){return l([k],{platformOptions:null,selectionManagerWidget:null,instuctionManagerWidget:null,hasRendered:!1,displayedContainer:null,onReady:function(){var a=p(this.platformOptions,["displayName"],["asc"]);this.selectionManagerWidget=new q({platforms:a,filters:[{displayText:"All",category:""},{displayText:"E-commerce Store",category:"ecommerce-store"},{displayText:"Website Builder",category:"website-builder"},{displayText:"Custom Website",category:"custom-website"}]});
this._setUpInstructionsRoute();this._setUpSelectionRoute();f.startup()},_setUpInstructionsRoute:function(){f.register(":identifier",c.hitch(this,function(b){b.stopImmediatePropagation();this._fetchInstructions(b.params.identifier).then(c.hitch(this,function(a){var b=JSON.parse(a.platformContent);a=new r({instructionData:b,pusherChannelName:a.pusherChannelName,connectionType:a.connectionType});this.hasRendered?this._revealInstructionsWithAnimation(a):(this._initialInstructionsRender(a),this.hasRendered=
!0)}),function(b){a("")})}))},_setUpSelectionRoute:function(){f.register("",c.hitch(this,function(a){a.stopImmediatePropagation();this.hasRendered?this._revealSelectionWithAnimation():(this._initialSelectionRender(),this.hasRendered=!0)}));a()||this.hasRendered||(this._initialSelectionRender(),this.hasRendered=!0)},_transition:function(a,b){var c=new d;h(b,a,{duration:100,delay:50,complete:function(){return c.resolve()}});return c},_hide:function(a){b.set(a,{opacity:"0",display:"none"})},_revealSelectionWithAnimation:function(){this._transition("transition.slideRightOut",
this.displayedContainer).then(c.hitch(this,function(){this._transition("transition.slideLeftIn",this.$el.selectionContainer).then(c.hitch(this,function(){this.displayedContainer=this.$el.selectionContainer}))}))},_revealInstructionsWithAnimation:function(a){this._transition("transition.slideLeftOut",this.displayedContainer).then(c.hitch(this,function(){n.empty(this.$el.instructionsContainer);a.placeAt(this.$el.instructionsContainer);this._transition("transition.slideRightIn",this.$el.instructionsContainer).then(c.hitch(this,
function(){this.displayedContainer=this.$el.instructionsContainer}))}))},_initialInstructionsRender:function(a){this._hide(this.$el.selectionContainer);a.placeAt(this.$el.instructionsContainer);this.selectionManagerWidget.placeAt(this.$el.selectionContainer);this.displayedContainer=this.$el.instructionsContainer},_initialSelectionRender:function(){this._hide(this.$el.instructionsContainer);this.selectionManagerWidget.placeAt(this.$el.selectionContainer);this.displayedContainer=this.$el.selectionContainer},
_fetchInstructions:function(a){var b=new d;e.get(m.toUrl("account/connected-sites/instructions?platform_identifier\x3d"+a),{handleAs:"json"}).then(function(a){b.resolve(a)},function(a){b.reject(a)});return b}})})},"vendor/lodash-amd/orderBy":function(){define(["./_baseOrderBy","./isArray"],function(l,k){return function(h,f,a,c){if(null==h)return[];k(f)||(f=null==f?[]:[f]);a=c?void 0:a;k(a)||(a=null==a?[]:[a]);return l(h,f,a)}})},"mojo/views/account/connected-sites/site-detail":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/dom-form dojo/dom-style dojo/html dojo/on dojo/query dojo/request/xhr mojo/Pusher mojo/url mojo/utils mojo/lib/clipboard mojo/lib/flags mojo/widgets/FeedbackBlock velocity/velocity mojo/views/_base".split(" "),
function(l,k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v,y){return l([y],{shopifyChannel:null,isSyncing:null,siteId:null,listSelected:null,store:null,errorMessage:null,hasPausedFeatureBlock:null,feedbackBlock:null,confirmChangeListModal:null,isShopifySite:null,onReady:function(){this.isSyncing&&this.setState({status:"syncing"});this._initializePusher();this.$el.openChangeList&&this.controlChangeList();this.$el.openCopyCodeBtn&&(d(this.$el.openCopyCodeBtn,"click",h.hitch(this,function(a){a.preventDefault();this._showCopyCode()})),
d(this.$el.cancelCopyCode,"click",h.hitch(this,function(a){a.preventDefault();this._hideCopyCode()})));this.$el.copyCodeBtn&&d(this.$el.copyCodeBtn,"click",h.hitch(this,function(a){this._copyCode(a)}));this.$group.checkConnection&&this._checkConnection();!this.listSelected&&this.$el.openChangeList&&(this._showChangeList(),a.add(this.$el.cancelChangeList,"hide"));this.$el.listSelect&&d(this.$el.listSelect,"change",h.hitch(this,function(){"0"===this.$el.listSelect.value?v(this.$el.listSelectContainer,
"transition.slideUpIn",{duration:100}):v(this.$el.listSelectContainer,"transition.slideDownOut",{duration:100});this.$el.listSelect.value?a.remove(this.$el.changeListSubmitEl,"disabled"):a.add(this.$el.changeListSubmitEl,"disabled")}));if(this.$el.changeListSubmitEl){a.add(this.$el.changeListSubmitEl,"disabled");var c=b("[data-current-list-option]");0<c.length&&f.set(c[0],"selected","selected");d.once(this.$el.changeListSubmitEl,"click",h.hitch(this,function(a){a.stopPropagation();a.preventDefault();
a=b("#list-name",this.$el.listSelectContainer)[0];var c=h.trim(a.value);this.confirmChangeListModal=this.$widget.confirmChangeListModal;"0"!==this.$el.listSelect.value||c?this.confirmChangeListModal?(this.confirmChangeListModal.show(),this._changeListWithPopup()):(r.removeErrors(a),this.changeList()):r.addError(a,"Please enter a name for your new list.")}))}this.$el.siteTrackingSwitch&&d(this.$el.siteTrackingSwitch,"change",h.hitch(this,function(){n.post(q.toUrl("account/connected-sites/set-site-tracking",
{id:this.siteId,enabled:this.$el.siteTrackingSwitch.checked?"enabled":"disabled"}),{handleAs:"json"}).then(h.hitch(this,function(a){a.siteTrackingEnabled?r.toast("Site tracking enabled!","success"):r.toast("Site tracking disabled!","success")}))}));this.errorMessage&&(this.feedbackBlock=new w({message:this.errorMessage,type:"error",containerClass:"av-flash !margin-bottom--lv0"}),this.feedbackBlock.placeAt(this.$el.feedbackBlock,"replace"));this.$el.tosFeedbackBlock&&d(this.$el.acceptTos,"click",h.hitch(this,
function(){this._acceptTerms()}));this.store&&!0===this.isShopifySite&&!1===this.isSyncing?this.storeHealthCheck():this.store||this.verifyCodeInjection()},_copyCode:function(a){a.preventDefault();a.stopPropagation();t.copy(this.$el.trackingCode.innerText);r.toast("Copied successfully!")},_checkConnection:function(){var a=this;this.$group.checkConnection.forEach(function(b){d(b,"click",function(b){b.preventDefault();b.stopPropagation();a.verifyCodeInjection()})})},controlChangeList:function(){var a=
this.$el.openChangeList,b=this.$el.cancelChangeList;a&&b&&(d(b,"click",h.hitch(this,function(a){a.preventDefault();this._hideChangeList()})),d(a,"click",h.hitch(this,function(a){a.preventDefault();this._showChangeList()})))},_changeListWithPopup:function(){d(this.$el.changeListConfirm,"click",h.hitch(this,function(){this.confirmChangeListModal.hide();this.changeList()}));d(this.$el.cancelChangeListModal,"click",h.hitch(this,function(){this.confirmChangeListModal.hide()}))},changeList:function(){var d=
this,e=c.toObject(this.$el.changeListInput),h=f.get(this.$el.changeListInput,"action");n.post(h,{data:e,handleAs:"json"}).then(function(c){c&&"success"===c.status&&(m.set(d.$el.currentListName,c.newListName),(c=b("[data-current-list-option]")[0])&&m.set(c,f.get(c,"data-current-list-option")),d._initializePusher(),d._hideChangeList(),a.remove(d.$el.cancelChangeList,"hide"),d.feedbackBlock&&d.feedbackBlock.destroy(),d.setState({status:"syncing"}))})},setState:function(b){var c={testing:this.$group["status-testing"],
syncing:this.$group["status-syncing"],connected:this.$group["status-connected"],error:this.$group["status-error"]};if(this.$el.lastPingedString){var d=this.$el.lastPingedString;"connected"===b.status?null!==b.store_sync_finished_at&&m.set(d,"updated "+b.store_sync_finished_at):"syncing"===b.status?m.set(d,"is currently syncing"):m.set(d,"")}Object.keys(c).forEach(function(d){k.forEach(c[d],function(c){d===b.status?a.remove(c,"hide"):a.add(c,"hide")})});d=this.$el.openChangeList;"connected"===b.status&&
d&&f.remove(d,"disabled");"error"===b.status&&this.$el.copyCode&&this.listSelected&&(this._showCopyCode(),this.$el.popupSlat&&a.add(this.$el.popupSlat,"hide"),this.$el.listSlat&&a.add(this.$el.listSlat,"hide"),this.feedbackBlock=new w({message:"Uh oh, we couldn't connect your site. Check your code and try again.",type:"error",containerClass:"av-flash !margin-bottom--lv0"}),this.feedbackBlock.placeAt(this.$el.feedbackBlock,"only"))},_showChangeList:function(){var b=this.$el.changeListContainer,c=this.$el.syncedList;
a.add(this.$el.openChangeList,"hide");a.add(c,"hide");v(b,"transition.slideUpIn",{duration:100})},_hideChangeList:function(){var b=this.$el.openChangeList,c=this.$el.syncedList;v(this.$el.changeListContainer,"transition.slideDownOut",{duration:100});a.remove(b,"hide");a.remove(c,"hide")},_showCopyCode:function(){a.add(this.$el.openCopyCodeBtn,"hide");a.add(this.$el.copyCodeIntro,"hide");v(this.$el.copyCode,"transition.slideUpIn",{duration:100})},_hideCopyCode:function(){v(this.$el.copyCode,"transition.slideDownOut",
{duration:100});a.remove(this.$el.openCopyCodeBtn,"hide");a.remove(this.$el.copyCodeIntro,"hide")},verifyCodeInjection:function(){this.setState({status:"testing"});n(q.toUrl("account/connected-sites/verify-code-injection?id\x3d"+this.siteId),{handleAs:"json"}).then(h.hitch(this,function(a){a.verified?(this.setState({status:"connected"}),r.toast("Our code was successfully detected on your site!","success")):this.setState({status:"error"})}))},storeHealthCheck:function(){n(q.toUrl("account/connected-sites/store-health-check?id\x3d"+
this.siteId),{handleAs:"json"}).then(h.hitch(this,function(a){a.success||this.setState({status:"error"})}))},_acceptTerms:function(){n(q.toUrl(this.hasPausedFeatureBlock?"account/connected-sites/accept-terms-and-unpause-features":"account/connected-sites/accept-terms"),{handleAs:"json"}).then(h.hitch(this,function(b){b.success&&(e.set(this.$el.tosFeedbackBlock,"display","none"),this.$el.addPREButton&&a.remove(this.$el.addPREButton,"disabled"),this.$el.addPopupButton&&a.remove(this.$el.addPopupButton,
"disabled"))}))},_initializePusher:function(){var a=this;if(a.channel)return!1;p.load().then(function(b){a.channel=b.subscribe(a.shopifyChannel);a.channel.bind("update",function(b){a.setState(b)},this)})}})})},"mojo/views/account/connected-sites/wizard/connection-settings":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/query dojo/on dojo/html dojo/_base/lang mojo/app/account/connected-sites".split(" "),function(l,k,h,f,a,c,e,m){return l([k],{onReady:function(){m.enableNext()}})})},
"mojo/views/account/connected-sites/wizard/connection-success":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/query dojo/on dojo/html dojo/_base/lang mojo/app/account/connected-sites".split(" "),function(l,k,h,f,a,c,e,m){return l([k],{onReady:function(){c.set(m.nextButton,"All Done");m.enableNext();a(m.nextButton,"click",function(a){a.stopPropagation();a.preventDefault();m.completeWizard()})}})})},"mojo/views/account/connected-sites/wizard/index":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/query dojo/on mojo/app/account/connected-sites mojo/lib/logger".split(" "),
function(l,k,h,f,a,c,e){return l([k],{onReady:function(){a(this.$el.nextBtn,"click",function(a){document.referrer.match(/campaigns\/wizard\/neapolitan|landing-pages\/editor/)&&(a=(a=document.referrer.match(/id=\d+/)[0])?a.substring(3):null,e.info("ecomm-blocks","Ecomm Blocks - Connected Site Chosen",{campaign_id:a}))});if(this.$group.platformOptions){var f=this.$el.manualGetStartedBtn,d=null;this.$group.platformRadio.forEach(function(b){a(b,"click",function(){d===this.value?(this.checked=!1,d=null,
c.disableNext(),f&&h.remove(f,"disabled","disabled")):(d=this.value,c.enableNext(),f&&h.set(f,"disabled","disabled"))})})}}})})},"mojo/views/account/connected-sites/wizard/manualcode":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-style dojo/dom-class dojo/dom-attr dojo/dom dojo/query dojo/on mojo/widgets/KbSearch dojo/_base/lang mojo/utils dojo/request/xhr mojo/Pusher mojo/lib/clipboard mojo/url velocity/velocity dojo/html mojo/app/account/connected-sites".split(" "),function(l,
k,h,f,a,c,e,m,d,b,n,p,q,r,t,u,w,v){return l([k],{siteId:null,onReady:function(){var a=this;this.$el.copyCode&&m(this.$el.copyCode,"click",b.hitch(this,function(a){this._copyCode(a)}));w.set(v.nextButton,"Connect");v.enableNext();m(v.nextButton,"click",function(b){b.stopPropagation();b.preventDefault();a.verifyCodeInjection()})},_copyCode:function(a){a.preventDefault();a.stopPropagation();r.copy(this.$el.trackingCode.innerText);n.toast("Copied successfully!")},verifyCodeInjection:function(){var a=
this;h.set(this.$el.feedbackBlock,"display","none");h.set(this.$el.scriptContainer,"display","none");u(this.$el.pingingContainer,"transition.slideUpIn",{duration:500});p(t.toUrl("account/connected-sites/wizard/verify-code-injection?id\x3d"+this.siteId),{handleAs:"json"}).then(function(b){b.verified?c.byId("wizard-form").submit():(h.set(a.$el.pingingContainer,"display","none"),h.set(a.$el.feedbackBlock,"display","block"),u(a.$el.scriptContainer,"transition.slideUpIn",{duration:500}))})}})})},"mojo/views/account/connected-sites/wizard/select-list":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/query dojo/on dojo/html mojo/utils dojo/_base/lang velocity/velocity mojo/app/account/connected-sites".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return l([k],{onReady:function(){var c=this;this.$el.listSelect&&a(this.$el.listSelect,"change",function(){"0"===c.$el.listSelect.value?d(c.$el.listSelectContainer,"transition.slideUpIn",{duration:100}):d(c.$el.listSelectContainer,"transition.slideDownOut",{duration:100});c.$el.listSelect.value?b.enableNext():b.disableNext()});a(b.nextButton,"click",function(a){var b=f("#list-name",c.$el.listSelectContainer)[0];"0"!==c.$el.listSelect.value||b.value||(a.stopPropagation(),
a.preventDefault(),e.addError(b,"Please enter a name for your new list."))})}})})},"mojo/views/account/connected-sites/wizard/site-url":function(){define("dojo/_base/declare mojo/views/_base dojo/dom-attr dojo/query dojo/on dojo/_base/lang dojo/_base/array mojo/utils dojo/keys dojo/debounce dojo/_base/event mojo/app/account/connected-sites".split(" "),function(l,k,h,f,a,c,e,m,d,b,n,p){return l([k],{errMsg:"",shopUrl:"",urlInput:"",urlIndex:"",subDomain:"",onReady:function(){var b=this;a(this.$el.siteUrl,
"focus",function(){p.enableNext();f(".invalid-error")[0]&&b.hideErrMessage()});a(p.nextButton,"click",function(a){b._validateUrl()||(a.stopPropagation(),a.preventDefault())})},_validateUrl:function(){this.urlInput=this.$el.siteUrl;switch(this.$el.platform.value){case "shopify":this.shopUrl="myshopify";this.urlIndex=e.indexOf(this.urlInput.value.split("."),this.shopUrl);this.subDomain=this.urlInput.value.split(".",1);if(""===this.subDomain[0]||0>this.urlIndex){this.errMsg="Please enter a URL with the format store-name.myshopify.com";
this.showErrMessage();return}break;case "bigcommerce":this.shopUrl="mybigcommerce";this.urlIndex=e.indexOf(this.urlInput.value.split("."),this.shopUrl);this.subDomain=this.urlInput.value.split(".",1);if(!this.urlInput||""===this.subDomain[0]||0>this.urlIndex){this.errMsg="Please enter a URL with the format store-name.mybigcommerce.com";this.showErrMessage();return}break;default:if(!/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(this.urlInput.value)){this.errMsg="Please enter a valid URL";
this.showErrMessage();return}}return!0},showErrMessage:function(){m.addError(this.urlInput,this.errMsg);p.disableNext()},hideErrMessage:function(){m.removeErrors(this.urlInput);p.enableNext()}})})},"mojo/views/account/connected-sites/wizard/sync":function(){define("dojo/_base/declare mojo/views/_base dojo/dom dojo/query dojo/_base/lang dojo/request/xhr mojo/Pusher mojo/url mojo/app/wizard".split(" "),function(l,k,h,f,a,c,e,m,d){return l([k],{shopifyChannel:null,siteId:null,onReady:function(){this._initializePusher();
window.setTimeout(a.hitch(this,function(){c(m.toUrl("account/connected-sites/wizard/store-sync-status?id\x3d"+this.siteId),{handleAs:"json"}).then(a.hitch(this,function(a){a.complete&&this.goToNextStep()}))}),3E3)},goToNextStep:function(){var a=f(".goToNextStepContainer a")[0];d.goToNextStep(a)},_initializePusher:function(){var a=this;e.load().then(function(c){a.channel=c.subscribe(a.shopifyChannel);a.channel.bind("update",this.goToNextStep,this)})}})})},"mojo/views/account/clients/add-user":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/store/Memory dijit/form/FilteringSelect dijit/form/RadioButton dojo/text!./templates/FilteringSelectUser.html".split(" "),
function(l,k,h,f,a,c,e,m){return l([k],{onReady:function(){var d=this,b=new c({autoComplete:!1,queryExpr:"*${0}*",name:"login_id",searchAttr:"fullname",labelAttr:"label",labelType:"html",placeHolder:"Search by name",invalidMessage:"No user found.",required:!0,onChange:function(){""===this.value?f.set(d.$el.submitBtn,"disabled",!0):f.remove(d.$el.submitBtn,"disabled")}},d.$el.userSearch);b.startup();var e=this.userList.map(function(a){return{user:a,id:a.login_id,login_id:a.login_id,fullname:a.fname+
" "+a.lname,label:h.replace(m,a)}});b.store=new a({data:e})}})})},"mojo/views/account/clients/edit-user":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/on mojo/app/account/clients/revokeAccess".split(" "),function(l,k,h,f,a,c){return l([k],{onReady:function(){a(this.$el.revokeAccessBtn,"click",h.hitch(this,function(a){var h=f.get(a.target,"data-client-id");a=f.get(a.target,"data-login-id");null===a?c.showRemoveAccountConfirmation(h):c.showRemoveUserConfirmation(h,
a)}))},submitRemoveUser:function(){c.doRemoveUser()},submitRemoveAccount:function(){c.doRemoveAccount()}})})},"mojo/views/account/clients/index":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/on mojo/url dijit/registry mojo/app/account/clients/revokeAccess".split(" "),function(l,k,h,f,a,c,e,m){return l([k],{requestKey:null,onReady:function(){this.$group.removeAccountBtn&&a(this.$group.removeAccountBtn,"click",h.hitch(this,function(a){m.showRemoveAccountConfirmation(f.get(a.target,
"data-client-id"))}))},submitRemoveAccount:function(){m.doRemoveAccount()},showCancelRequestConfirmation:function(a){this.requestKey=a;e.byId("cancel-request-dialog").show()},doCancelRequest:function(){window.location=c.toUrl("/account/clients/cancel-request?key\x3d{$request-\x3erequest_key}",{key:this.requestKey})}})})},"mojo/views/account/clients/manage":function(){define("dojo/_base/declare mojo/views/_base dojo/_base/lang dojo/dom-attr dojo/on mojo/app/account/clients/revokeAccess".split(" "),
function(l,k,h,f,a,c){return l([k],{onReady:function(){a(this.$group.revokeAccessBtn,"click",h.hitch(this,function(a){var h=f.get(a.target,"data-client-id");a=f.get(a.target,"data-login-id");null===a?c.showRemoveAccountConfirmation(h):c.showRemoveUserConfirmation(h,a)}))},submitRemoveUser:function(){c.doRemoveUser()},submitRemoveAccount:function(){c.doRemoveAccount()}})})},"mojo/views/account/buy/index":function(){define(["dojo/_base/declare","mojo/views/_base","dojo/query","dojo/on","mojo/app/account/billing"],
function(l,k,h,f,a){return l([k],{onReady:function(){this.attachEventHandlers()},attachEventHandlers:function(){f(h("[data-action\x3d'edit-payment-info']"),"click",function(c){a.editBillingInfo().then(function(){location.reload()})})}})})},"mojo/analytics/parts/Coachmark":function(){define("dojo/_base/declare dojo/_base/lang dojo/query dojo/dom-class dojo/on mojo/widgets/Coachmark ./_Part".split(" "),function(l,k,h,f,a,c,e){return l([c,e],{onShow:function(){}})})},"mojo/analytics/parts/ListMemberPagingTotal":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/_base/lang dojo/number dojox/mvc/sync dojo/text!./templates/listMemberPagingTotal.html".split(" "),
function(l,k,h,f,a,c,e){return l([k,h],{templateString:e,init:function(){c(this.target,"total",this,"total");c(this.target,"type",this,"type");this._updateTotal();this.watch("total",f.hitch(this,"_updateTotal"))},_updateTotal:function(){this.totalCount.innerHTML=a.format(this.total,{pattern:"#,###"})}})})},"mojo/analytics/parts/NoDataPane":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","./_Part"],function(l,k,h,f){return l([f],{canDisplay:function(){return this.target.hasFilters?
0==this.target.total&&!this.target.hasFilters():0==this.target.total}})})},"mojo/analytics/parts/Search":function(){define("dojo/_base/declare ./_Part dijit/_Templated dojo/text!./templates/search.html dojo/_base/array dojo/on dojo/_base/lang dojox/mvc/sync dojo/dom-attr dojo/keys".split(" "),function(l,k,h,f,a,c,e,m,d,b){return l([k,h],{templateString:f,label:"",placeholder:"Search",syncAttr:"search",alwaysVisible:!0,init:function(){d.set(this.search,"placeholder",this.placeholder);var a=this.target.getFilter(this.syncAttr)||
"";d.set(this.search,"value",a);this._watches.push(this.target.watchFilter(this.syncAttr,e.hitch(this,function(a,b,c){d.set(this.search,"value",c)})));c(this.submit,"click",e.hitch(this,"_setValue"));var f=this;c(this.search,"keyup",function(a){a=a.charCode||a.keyCode;a!==b.ENTER&&""!==this.value||f._setValue();a===b.ESCAPE&&(this.value="",f._setValue())})},_setValue:function(){this.target.setFilter(this.syncAttr,d.get(this.search,"value"))},canDisplay:function(){return this.alwaysVisible||this.inherited(arguments)},
onChange:function(a){}})})},"mojo/analytics/parts/SelectAll":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","./_Part","dojox/form/TriStateCheckBox"],function(l,k,h,f,a){return l([f],{init:function(){this.checkbox=new a({checked:!1});this.checkbox.placeAt(this.domNode);h(this.checkbox,"click",k.hitch(this,function(a){"mixed"==this.checkbox.get("value")&&this.checkbox.set("value","on");this.toggleCheck()}));this.target.selected.watch(k.hitch(this,function(){this.target.isAllSelected()?
this.checkbox.set("value","on"):this.target.hasSelection()?this.checkbox.set("value","mixed"):this.checkbox.set("value",!1)}))},toggleCheck:function(){"on"==this.checkbox.get("value")?this.target.toggleAll(!0):!1===this.checkbox.get("value")&&this.target.toggleAll(!1)}})})},"dojox/form/TriStateCheckBox":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/event dojo/query dojo/dom-attr dojo/text!./resources/TriStateCheckBox.html dijit/form/Button dijit/form/_ToggleButtonMixin dojo/NodeList-dom".split(" "),
function(l,k,h,f,a,c,e,m,d,b){return k("dojox.form.TriStateCheckBox",[d,b],{templateString:m,baseClass:"dojoxTriStateCheckBox",type:"checkbox",states:"",_stateLabels:null,stateValue:null,_currentState:0,_stateType:"False",readOnly:!1,checked:"",_aria_attr:"aria-checked",constructor:function(){this.states=[!1,"mixed",!0];this.checked=!1;this._stateLabels={False:"\x26#9633;",True:"\x26#8730;",Mixed:"\x26#9632;"};this.stateValues={False:!1,True:"on",Mixed:"mixed"}},_fillContent:function(a){},postCreate:function(){e.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},startup:function(){this.set("checked",this.params.checked||this.states[this._currentState]);e.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType]);this.inherited(arguments)},_setIconClassAttr:null,_setCheckedAttr:function(a,b){var c=h.indexOf(this.states,a);0<=c&&(this._currentState=c,this._stateType=this._getStateType(a),e.set(this.focusNode,"value",this.stateValues[this._stateType]),e.set(this.stateLabelNode,
"innerHTML",this._stateLabels[this._stateType]),this.inherited(arguments))},setChecked:function(a){l.deprecated("setChecked("+a+") is deprecated. Use set('checked',"+a+") instead.","","2.0");this.set("checked",a)},_setStatesAttr:function(a){if(f.isArray(a))this._set("states",a);else if(f.isString(a)){var b={"true":!0,"false":!1,mixed:"mixed"};a=a.split(/\s*,\s*/);for(var c=0;c<a.length;c++)a[c]=void 0!==b[a[c]]?b[a[c]]:!1;this._set("states",a)}},_setReadOnlyAttr:function(a){this._set("readOnly",a);
e.set(this.focusNode,"readOnly",a)},_setValueAttr:function(a,b){"string"==typeof a&&0>h.indexOf(this.states,a)&&(""==a&&(a="on"),this.stateValues.True=a,a=!0);this._created&&(this._currentState=h.indexOf(this.states,a),this.set("checked",a,b),e.set(this.focusNode,"value",this.stateValues[this._stateType]))},_setValuesAttr:function(a){this.stateValues.True=a[0]?a[0]:this.stateValues.True;this.stateValues.Mixed=a[1]?a[1]:this.stateValues.Mixed},_getValueAttr:function(){return this.stateValues[this._stateType]},
reset:function(){this._hasBeenBlurred=!1;this.set("states",this.params.states||[!1,"mixed",!0]);this.stateValues=this.params.stateValues||{False:!1,True:"on",Mixed:"mixed"};this.set("values",this.params.values||[]);this.set("checked",this.params.checked||this.states[0])},_onFocus:function(){this.id&&c("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&c("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.mouseFocus=
!1;this.inherited(arguments)},_onClick:function(b){if(this.readOnly||this.disabled)return a.stop(b),!1;this.click();return this.onClick(b)},click:function(){this._currentState>=this.states.length-1?this._currentState=0:-1==this._currentState?this.fixState():this._currentState++;var a=this._currentState;this.set("checked",this.states[this._currentState]);this._currentState=a;e.set(this.stateLabelNode,"innerHTML",this._stateLabels[this._stateType])},fixState:function(){this._currentState=this.states.length-
1},_getStateType:function(a){return a?"mixed"==a?"Mixed":"True":"False"},_onMouseDown:function(){this.mouseFocus=!0}})})},"mojo/analytics/parts/SelectPane":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","velocity/velocity","./_Part"],function(l,k,h,f,a){return l([a],{animationDuration:225,init:function(){this.target.selected.watch(k.hitch(this,"_toggleDisplay"))},_toggleDisplay:function(){"none"===this.domNode.style.display?this.canDisplay()&&(f(this.domNode,"stop"),f(this.domNode,
{opacity:[1,[.7,0,.175,1],0]},{duration:this.animationDuration,display:"inline"})):this.canDisplay()||(f(this.domNode,"stop"),f(this.domNode,{opacity:[0,[.7,0,.175,1],1]},{duration:this.animationDuration,display:"none"}))},canDisplay:function(){return this.hideOnSelect?!this.inherited(arguments)||!this.target.hasSelection():this.inherited(arguments)&&this.target.hasSelection()}})})},"mojo/analytics/parts/SortDirection":function(){define("dojo/_base/declare ./_Part dojo/_base/lang dojo/dom-style dojox/mvc/sync dijit/form/Button".split(" "),
function(l,k,h,f,a,c){return l([k],{init:function(){a(this.target,"asc",this,"asc");this.button=(new c({"class":this.buttonClass?this.buttonClass:"button",label:this.asc?'\x3cspan class\x3d"!margin-right--lv0 freddicon arrow-down" title\x3d"Change sort direction"\x3e\x3c/span\x3e':'\x3cspan class\x3d"!margin-right--lv0 freddicon arrow-up" title\x3d"Change sort direction"\x3e\x3c/span\x3e'})).placeAt(this.domNode);this.button.startup();this.connect(this.button,"onClick",function(){this.set("asc",!this.get("asc"))});
this.watch("asc",h.hitch(this,function(){this.button.set("label",this.asc?'\x3cspan class\x3d"!margin-right--lv0 freddicon arrow-down" title\x3d"Change sort direction"\x3e\x3c/span\x3e':'\x3cspan class\x3d"!margin-right--lv0 freddicon arrow-up" title\x3d"Change sort direction"\x3e\x3c/span\x3e')}));this.target.watch("sort",h.hitch(this,"_toggleDisplay"));this._toggleDisplay()},canDisplay:function(){return this.inherited(arguments)&&this.target.sort},_toggleDisplay:function(){f.set(this.domNode,"display",
this.canDisplay()?"":"none")}})})},"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel sentence-case\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition} !margin--lv0"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon block alignc height-inherit\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition} hide"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition} hide"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\t${!actionBarTemplate}\n\x3c/div\x3e\n\n',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cinput\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point\x3d"focusNode"\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n/\x3e\x3c/div\x3e\n',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/form/templates/Select.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point\x3d"_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing\x3d\'0\' cellpadding\x3d\'0\'\n\trole\x3d"listbox" aria-haspopup\x3d"true"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonContents" role\x3d"presentation"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point\x3d"containerNode,textDirNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitValidationContainer"\n\t\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t/\x3e\x3c/div\n\t\t\t\x3e\x3cinput type\x3d"hidden" ${!nameAttrSetting} data-dojo-attach-point\x3d"valueNode" value\x3d"${value}" aria-hidden\x3d"true"\n\t\t/\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point\x3d"titleNode" role\x3d"presentation"\n\t\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/\x3e\x3c/td\n\t\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation" aria-hidden\x3d"true"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:_onClick,onkeydown:_onButtonKeyDown"\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\n\t\t\tdata-dojo-attach-event\x3d"onkeydown:_onArrowKeyDown"\n\t\t\ttitle\x3d"${optionsTitle}"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode"\n\t\t\t\tclass\x3d"dijitOffScreen"\n\t\t\t\trole\x3d"presentation" aria-hidden\x3d"true"\n\t\t\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/DropDownBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}"\n\trole\x3d"combobox"\n\taria-haspopup\x3d"true"\n\tdata-dojo-attach-point\x3d"_popupStateNode"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point\x3d"_buttonNode" role\x3d"presentation"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitArrowButtonInner" value\x3d"\x26#9660; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"button presentation" aria-hidden\x3d"true"\n\t\t\t${_buttonInputDisabled}\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d\'dijitReset dijitInputInner\' ${!nameAttrSetting} type\x3d"text" autocomplete\x3d"off"\n\t\t\tdata-dojo-attach-point\x3d"textbox,focusNode" role\x3d"textbox"\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/templates/TitlePane.html":'\x3cdiv\x3e\n\t\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass\x3d"dijitTitlePaneTitle" data-dojo-attach-point\x3d"titleBarNode" id\x3d"${id}_titleBarNode"\x3e\n\t\t\x3cdiv class\x3d"dijitTitlePaneTitleFocus" data-dojo-attach-point\x3d"focusNode"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"arrowNode" class\x3d"dijitInline dijitArrowNode" role\x3d"presentation"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"arrowNodeInner" class\x3d"dijitArrowNodeInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitTitlePaneTextNode"\x3e\x3c/span\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTitlePaneContentOuter" data-dojo-attach-point\x3d"hideNode" role\x3d"presentation"\x3e\n\t\t\x3cdiv class\x3d"dijitReset" data-dojo-attach-point\x3d"wipeNode" role\x3d"presentation"\x3e\n\t\t\t\x3cdiv class\x3d"dijitTitlePaneContentInner" data-dojo-attach-point\x3d"containerNode" role\x3d"region" id\x3d"${id}_pane" aria-labelledby\x3d"${id}_titleBarNode"\x3e\n\t\t\t\t\x3c!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Calendar.html":'\x3ctable cellspacing\x3d"0" cellpadding\x3d"0" class\x3d"dijitCalendarContainer" role\x3d"grid" aria-labelledby\x3d"${id}_mddb ${id}_year" data-dojo-attach-point\x3d"gridNode"\x3e\n\t\x3cthead\x3e\n\t\t\x3ctr class\x3d"dijitReset dijitCalendarMonthContainer" valign\x3d"top"\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' data-dojo-attach-point\x3d"decrementMonth" scope\x3d"col"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"decreaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e-\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset\' colspan\x3d"5" scope\x3d"col"\x3e\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"monthNode"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/th\x3e\n\t\t\t\x3cth class\x3d\'dijitReset dijitCalendarArrow\' scope\x3d"col" data-dojo-attach-point\x3d"incrementMonth"\x3e\n\t\t\t\t\x3cspan class\x3d"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role\x3d"presentation"\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"increaseArrowNode" class\x3d"dijitA11ySideArrow"\x3e+\x3c/span\x3e\n\t\t\t\x3c/th\x3e\n\t\t\x3c/tr\x3e\n\t\t\x3ctr role\x3d"row"\x3e\n\t\t\t${!dayCellsHtml}\n\t\t\x3c/tr\x3e\n\t\x3c/thead\x3e\n\t\x3ctbody data-dojo-attach-point\x3d"dateRowsNode" data-dojo-attach-event\x3d"ondijitclick: _onDayClick" class\x3d"dijitReset dijitCalendarBodyContainer"\x3e\n\t\t\t${!dateRowsHtml}\n\t\x3c/tbody\x3e\n\t\x3ctfoot class\x3d"dijitReset dijitCalendarYearContainer"\x3e\n\t\t\x3ctr\x3e\n\t\t\t\x3ctd class\x3d\'dijitReset\' valign\x3d"top" colspan\x3d"7" role\x3d"presentation"\x3e\n\t\t\t\t\x3cdiv class\x3d"dijitCalendarYearLabel"\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"previousYearLabelNode" class\x3d"dijitInline dijitCalendarPreviousYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"currentYearLabelNode" class\x3d"dijitInline dijitCalendarSelectedYear" role\x3d"button" id\x3d"${id}_year"\x3e\x3c/span\x3e\n\t\t\t\t\t\x3cspan data-dojo-attach-point\x3d"nextYearLabelNode" class\x3d"dijitInline dijitCalendarNextYear" role\x3d"button"\x3e\x3c/span\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/td\x3e\n\t\t\x3c/tr\x3e\n\t\x3c/tfoot\x3e\n\x3c/table\x3e\n',
"url:dijit/templates/ProgressBar.html":'\x3cdiv class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\n\t\x3e\x3cdiv  data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\n\t\t\x3e\x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3cspan style\x3d"visibility:hidden"\x3e\x26#160;\x3c/span\n\t\x3e\x3c/div\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\n\t\x3e\x3cspan data-dojo-attach-point\x3d"indeterminateHighContrastImage"\n\t\t   class\x3d"dijitInline dijitProgressBarIndeterminateHighContrastImage"\x3e\x3c/span\n\x3e\x3c/div\x3e\n',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\t\t${!actionBarTemplate}\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/CheckedMenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"${role}" tabIndex\x3d"-1" aria-checked\x3d"${checked}"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\t\x3cspan class\x3d"dijitMenuItemIconChar dijitCheckedMenuItemIconChar"\x3e${!checkedChar}\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,labelNode,textDirNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26#160;\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dojox/form/resources/Uploader.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e \n\t\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1" data-dojo-attach-point\x3d"valueNode" /\x3e\n\x3c/span\x3e\n',
"url:mojo/widgets/templates/ActionButtonPane.html":'\x3cdiv class\x3d"c-actionButtonsPane"\x3e\n    \x3cdiv class\x3d"flex" data-dojo-attach-point\x3d"actionpFlexPaneEl"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/templates/IconButtonGroupItem.html":'\x3cli\x3e\n    \x3cbutton class\x3d"c-button--circle" type\x3d"button" name\x3d"{label}" data-type\x3d"iconSetItem" data-mc-value\x3d"{value}" title\x3d"{label}" \x3e\n        \x3cspan class\x3d"freddicon {icon}"\x3e\x3c/span\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/templates/IconButtonGroupItemWithImage.html":'\x3cli\x3e\n    \x3cbutton class\x3d"c-button--circle" type\x3d"button" name\x3d"{label}" data-type\x3d"iconSetItem" data-mc-value\x3d"{value}" title\x3d"{label}" \x3e\n        \x3cimg src\x3d"{path}" role\x3d"button"\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',"url:mojo/widgets/templates/ActionableDialogContent.html":'\x3cdiv class\x3d"dijitDialogPaneContentArea" data-dojo-attach-point\x3d"contentArea"\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar" data-dojo-attach-point\x3d"actionBar"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/sliderPaneWrapper.html":'\x3cdiv class\x3d"c-topSliderPane fixed pos-tb0 pos-lr0 bg-white overflow-hidden" style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"c-wizardNavigation c-wizardNavigation--overlay full-width textcolor border-bottom bg-gray small-meta fwb zin-lv2 absolute pos-t0 selfclear"\x3e\n\n        \x3c!-- WIZARD LEFT --\x3e\n        \x3cdiv class\x3d"wizard-menu float-left selfclear"\x3e\n            \x3cdiv class\x3d"wizard-title textcolor padding--lv3 !padding-top-bottom--lv0 float-left"\x3e\n                \x3cdiv class\x3d"wizard-header"\x3e\n                    \x3cspan data-dojo-attach-point\x3d"badge" class\x3d"badge textcolor !margin-left--lv0"\x3e\x3c/span\x3e\n                    \x3cspan data-dojo-attach-point\x3d"title" class\x3d"textcolor"\x3e\x3c/span\x3e\n                    \x3cspan data-dojo-attach-point\x3d"emailTitle" class\x3d"emailTitle textcolor"\x3e\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- WIZARD RIGHT --\x3e\n        \x3cdiv class\x3d"float-right"\x3e\n           \x3cnav\x3e\n                \x3cul class\x3d"linear-list small-meta selfclear" data-dojo-attach-point\x3d"topBarActions"\x3e\n                    \x3cli class\x3d"hover-item noborder"\x3e\n                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"closeLink" class\x3d"c-wizardLink--overlay nolink padding--lv3"\x3e\n                            \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                        \x3c/a\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/nav\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-topSliderPane_content absolute pos-lr0 pos-b0 full-width"\x3e{_content}\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/AddSegmentPane.html":'\x3cdiv class\x3d"padding--lv6 alignc"\x3e\n    \x3ch1\x3eAdd Segment views go here\x3c/h1\x3e\n\x3c/div\x3e',"url:mojo/widgets/templates/Autocomplete.html":'\x3cform class\x3d"c-autocomplete relative" autocomplete\x3d"off"\x3e\n    \x3cdiv \n        data-dojo-attach-point\x3d"SearchBox" \n        data-dojo-type\x3d"mojo/widgets/FilteredSearch" \n        data-dojo-props\x3d"placeholder: \'${placeholder}\', wait: \'${wait}\', searchTopic: \'${searchTopic}\'"\n        class\x3d"relative margin-bottom--lv0"\n    \x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"node_autoCompleteResults" class\x3d"c-autocomplete_suggestions position--absolute left--0 zin-lv1 bg-white border-gray hide full-width"\x3e\n        \n    \x3c/div\x3e\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"template_divider"\x3e\n        \x3cdiv class\x3d"c-autocomplete_divider small-meta padding--lv2 !padding-left--lv3 padding-bottom--lv1 font-weight--bold"\x3eTry searching for\x3c/div\x3e\n    \x3c/script\x3e\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"template_result"\x3e\n        \x3ca href\x3d"#0" class\x3d"c-autocomplete_suggestion block full-width padding--lv3 padding-bottom--lv2 padding-top--lv2 textcolor font-weight--bold normal-meta"\x3e\n            \x3cspan class\x3d"freddicon {icon} c-autocomplete_suggestion_icon padding-right--lv2"\x3e\x3c/span\x3e {label}\n            \x3cspan class\x3d"c-autocomplete_suggestion_prompt float-right small-meta font-weight--normal {promptClass}"\x3ePress \x3cstrong\x3eEnter\x3c/strong\x3e\x3c/span\x3e\n            \x3cspan class\x3d"c-autocomplete_suggestion_prompt float-right small-meta font-weight--normal {detailsClass}"\x3e{details}\x3c/span\x3e\n        \x3c/a\x3e                  \n    \x3c/script\x3e\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"template_iconImage"\x3e\n        \x3cimg class\x3d"c-autocomplete_suggestion_iconImage padding-right--lv2" src\x3d"{iconImage}" /\x3e\n    \x3c/script\x3e\n\x3c/form\x3e\n',
"url:mojo/widgets/input/templates/tag.html":'\x3cli class\x3d"c-tagList_item view-mode relative inline-block border-radius--lv1 valign-middle small-meta fwb textcolor" data-dojo-attach-point\x3d"tagDom"\x3e\n    \x3cdiv class\x3d"c-tagList_inner float-left padding--lv1 padding-top-bottom--lv0"\x3e\n        \x3cdiv class\x3d"c-tagList_label" data-dojo-attach-point\x3d"tagLabel"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"c-tagList_input small-meta fwb textcolor absolute pos-t0 pos-l0"\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"textInput" class\x3d"small-meta fwb"/\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n    \x3cbutton class\x3d"c-tagList_remove float-left padding--lv1 padding-top-bottom--lv0 margin--lv0" data-dojo-attach-point\x3d"removeBtn" tabindex\x3d"-1"\x3e\n        \x3cspan class\x3d"freddicon cross !margin-right--lv0"\x3e\x3c/span\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/input/templates/tagList.html":'\x3cdiv class\x3d"field-wrapper condition-value"\x3e\n    \x3cdiv class\x3d"c-tagInput" tabindex\x3d"-1" data-dojo-attach-point\x3d"tagInputDom" data-mc-name\x3d"tagInput"\x3e\n        \x3cdiv class\x3d"c-tagListDropdown small-meta fwb textcolor absolute border-radius--lv0 padding--lv0" data-dojo-attach-point\x3d"operatorDom"\x3e\x3c/div\x3e\n        \x3cul class\x3d"c-tagList" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/BillingInfo.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"paymentInfoContainer"\x3e\x3c!-- getPaymentInfoAction response goes here --\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/templates/previewer.html":'\x3cdiv class\x3d"template-previewer" data-dojo-attach-point\x3d"contentDom"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"previewPane" id\x3d"desktop-view" class\x3d"viewcol preview-split--wide preview-split--left"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"desktopViewInner" class\x3d"desktop-view-inner"\x3e\n            \x3cdiv class\x3d"iframe-wrapper full-height"\x3e\n                \x3cdiv class\x3d"wizard-header border-bottom"\x3e\n                    \x3cul data-dojo-attach-point\x3d"viewToggler"\x3e\x3c/ul\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"iframe-loading-message" data-dojo-attach-point\x3d"previewLoader"\x3e\n                    \x3cdiv class\x3d"loadingbar alignc"\x3e\n                        \x3cimg src\x3d"/css/icons/pulse.gif" class\x3d"pulse margin--lv2"\x3e\x3cbr /\x3e\n                        \x3cstrong\x3ePlease wait, loading \x26hellip;\x3c/strong\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"bananaPhone" class\x3d"full-height"\x3e\n                    \x3ciframe data-dojo-attach-point\x3d"previewIframe" class\x3d"preview-frame full-height" src\x3d""\x3e\x3c/iframe\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"inboxPreviewContainer" class\x3d"full-height overflow-auto alignc padding--lv3"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"approxMessage" class\x3d"absolute pos-b0 full-width bg-white padding--lv3 alignc hide"\x3e\n                \x3cp class\x3d"fwb dim-el !margin--lv0 small-meta full-width"\x3eThis is an approximation of how your design will appear on mobile. \x3ca href\x3d"http://kb.mailchimp.com/campaigns/design/edit-and-test-mobile-styles-in-a-campaign?#Preview-Mobile-Design" class\x3d"noborder" target\x3d"_blank" title\x3d"learn more about mobile preview accuracy"\x3eLearn more\x3c/a\x3e\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"viewcol preview-split--narrow preview-split--right"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"sidePane"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"editorPane" style\x3d"display:none;"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/previewer/templates/headerInfoPane.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3eHeader Info\x3c/h4\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll"\x3e\n        \x3cdiv class\x3d"padding--lv3 border-bottom selfclear"\x3e\n            \x3cp class\x3d"float-left fwb !margin--lv0"\x3eEnable live merge tag info\x3c/p\x3e\n            \x3cinput class\x3d"float-right" type\x3d"checkbox" data-dojo-attach-point\x3d"liveMergeSwitch" data-dojo-type\x3d"mojo/widgets/Switch" data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"/\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"padding--lv3 !padding-bottom--lv0 selfclear"\x3e\n            \x3cdiv class\x3d"float-right button-group regular !margin-bottom--lv3"\x3e\n                \x3cbutton class\x3d"button" data-dojo-attach-point\x3d"mergePrevBtn"\x3e\x3cspan class\x3d"freddicon menu-left"\x3e\x3c/span\x3e\x3c/button\x3e\n                \x3cbutton class\x3d"button" data-dojo-attach-point\x3d"mergeNextBtn"\x3e\x3cspan class\x3d"freddicon menu-right on-right"\x3e\x3c/span\x3e\x3c/button\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"float-left" data-dojo-attach-point\x3d"body"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"padding--lv3 border-top selfclear hide" data-dojo-attach-point\x3d"feedbackContainer"\x3e\n            \x3cp class\x3d"small-meta" data-dojo-attach-point\x3d"feedbackBody"\x3e\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientPane.html":'\x3cdiv class\x3d"inbox-preview-pane viewcol full-width"\x3e\n\n    \x3cdiv class\x3d"wizard-header border-bottom"\x3e\n        \x3cul class\x3d"flex full-height full-width"\x3e\n            \x3cli class\x3d"c-buttonGroupItem v-buttonGroupItemFlex height-inherit"\x3e\n                \x3cbutton data-dojo-attach-point\x3d"tokensBtn"\n                    class\x3d"c-buttonGroupButton\n                        v-buttonGroupBasic\n                        v-buttonGroupButtonFlex\n                        height-inherit"\x3e\n                    \x3cspan data-dojo-attach-point\x3d"tokensCount" class\x3d"hide-mobile"\x3e\x3c/span\x3e\x26nbsp;\n                    \x3cspan data-dojo-attach-point\x3d"tokensBtnText"\x3eTokens\x3c/span\x3e\n                \x3c/button\x3e\n            \x3c/li\x3e\n            \x3cli class\x3d"c-buttonGroupItem v-buttonGroupItemFlex height-inherit"\x3e\n                \x3cbutton data-dojo-attach-point\x3d"updateBtn"\n                    class\x3d"c-buttonGroupButton\n                    v-buttonGroupBasic\n                    v-buttonGroupButtonFlex\n                    height-inherit"\x3e\n                    \x3cspan class\x3d"padding--lv1 !padding-top-bottom--lv0 !padding-left--lv0"\x3e\n                        \x3cspan data-dojo-attach-point\x3d"updateBtnIcon" class\x3d"freddicon refresh hide-mobile" role\x3d"presentation"\x3e\x3c/span\x3e\n                    \x3c/span\x3e\n                    \x3cspan data-dojo-attach-point\x3d"updateBtnText"\x3eUpdate\x3c/span\x3e\x26nbsp;\n                    \x3cspan data-dojo-attach-point\x3d"updateCount" class\x3d"hide-mobile"\x3e\x3c/span\x3e\n                \x3c/button\x3e\n            \x3c/li\x3e\n            \x3cli class\x3d"c-buttonGroupItem v-buttonGroupItemFlex height-inherit"\x3e\n                \x3cbutton data-dojo-attach-point\x3d"addClientBtn"\n                    class\x3d"c-buttonGroupButton\n                        v-buttonGroupBasic\n                        v-buttonGroupButtonFlex\n                        height-inherit"\x3e\n                    \x3cspan class\x3d"freddicon add-circle padding--lv1 !padding-top-bottom--lv0 !padding-left--lv0 hide-mobile" role\x3d"presentation"\x3e\x3c/span\x3e\n                    Add Client\n                \x3c/button\x3e\n            \x3c/li\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"previewsErrorContainer" class\x3d"feedback-block error hide" style\x3d"border-radius:0;"\x3e\n        \x3cdiv class\x3d"lastUnit size1of1"\x3e\n            \x3cdiv class\x3d"media"\x3e\n                \x3cdiv class\x3d"media-image"\x3e\n                    \x3cspan class\x3d"freddicon not-allowed"\x3e\x3c/span\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"media-body"\x3e\n                    \x3ch4\x3eWe\'re having trouble running your previews\x3c/h4\x3e\n                    \x3cp data-dojo-attach-point\x3d"previewsErrorMsg"\x3e\x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\n    \x3cdiv class\x3d"lastUnit size1of1 padding--lv3 margin--lv6 !margin-left--lv0 !margin-right--lv0" data-dojo-attach-point\x3d"noDataContainer"\x3e\n        \x3cdiv class\x3d"c-noDataBlock text-align--center border-radius--lv2"\x3e\n            \x3cdiv class\x3d"c-noDataBlock_icon" style\x3d"background-image: url(/css/icons/no-data/empty-general.svg)"\x3e\x3c/div\x3e\n            \x3ch2 class\x3d"c-noDataBlock_title"\x3eInbox Preview\x3c/h2\x3e\n            \x3cp class\x3d"c-noDataBlock_message margin-bottom--lv2"\x3e\n                See how your campaign looks in different email clients, so you can feel extra confident before you send.\n            \x3c/p\x3e\n            \x3cdiv class\x3d"c-noDataBlock_action margin-bottom--lv2"\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"getStartedBtn" class\x3d"button p0 margin--lv0"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n            \x3cp class\x3d"c-noDataBlock_message margin-bottom--lv4"\x3e\n                \x3ca href\x3d"http://kb.mailchimp.com/campaigns/previews-and-tests/test-with-inbox-preview" target\x3d"_blank"\x3eLearn more about Inbox Previews\x3c/a\x3e,\n                \x3cbr\x3e\n                powered by Litmus\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"litmusHandoffContainer"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"overflow-auto full-height"\x3e\n        \x3c!-- REPEATING UNIT IN RIGHT PANEL --\x3e\n        \x3cdiv class\x3d"wizard-header-offset" data-dojo-attach-point\x3d"clientLists"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/previewer/inbox-preview/templates/clientPane/section.html":'\x3cdiv class\x3d"pane-row"\x3e\n    \x3ch4 class\x3d"inbox-preview-row-header p !margin--lv0 bg-gray full-width"\x3e${sectionName}\x3c/h4\x3e\n    \x3cul data-dojo-attach-point\x3d"rowContainer"\x3e\x3c/ul\x3e\n\x3c/div\x3e',"url:mojo/widgets/previewer/inbox-preview/templates/clientPane/row.html":'\x3cli class\x3d"inbox-preview-row media unread border-bottom selfclear"\x3e\n    \x3cdiv class\x3d"media-image"\x3e\n        \x3cinput id\x3d"${id}-select" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"selectedBox" class\x3d"!margin--lv0"/\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"loadingIndicator" class\x3d"hide" role\x3d"presentation" aria-hidden\x3d"true"\x3e\n            \x3cspan class\x3d"freddicon refresh-circle-large is-running"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cspan data-dojo-attach-point\x3d"failedIcon" class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"media-body"\x3e\n        \x3clabel for\x3d"${id}-select" class\x3d"!margin-bottom--lv1 !padding--lv0 inline"\x3e${client.name}\x3c/label\x3e\n\n        \x3cp class\x3d"small-meta !margin--lv0" data-dojo-attach-point\x3d"statusMessage"\x3e\x3c/p\x3e\n\n        \x3cdiv class\x3d"small-meta !margin--lv0" data-dojo-attach-point\x3d"actionsContainer"\x3e\n            \x3cspan data-dojo-attach-point\x3d"rerunContainer"\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"rerunLink" class\x3d"fwb"\x3e\x3c/a\x3e \x26middot;\n            \x3c/span\x3e\n\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"historyLink" class\x3d"fwb"\x3eView history\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/li\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/litmusHandoff.html":'\x3c% if (isUserMonthlyOrPro) {%\x3e\n    \x3cdiv class\x3d"lastUnit size1of1 padding--lv3 margin--lv6 !margin-left--lv0 !margin-right--lv0"\x3e\n        \x3cdiv class\x3d"c-noDataBlock text-align--center border-radius--lv2"\x3e\n            \x3cdiv class\x3d"c-noDataBlock_icon" style\x3d"background-image: url(/css/icons/no-data/empty-general.svg)"\x3e\x3c/div\x3e\n            \x3ch2 class\x3d"c-noDataBlock_title"\x3eOut of tokens\x3c/h2\x3e\n            \x3cp\x3e\n                You\u2019ve used all of your Inbox Preview tokens for the month. If you need more previews, sign up for a Litmus monthly plan. As a MailChimp customer, your first 30 days with Litmus are free.\n            \x3c/p\x3e\n            \x3cp class\x3d"c-noDataBlock_message"\x3e\n                \x3ca href\x3d"https://litmus.com/pricing/mailchimp?utm_source\x3dmailchimp\x26utm_content\x3dlimitreached" rel\x3d"noopener" target\x3d"_blank"\x3eGet Litmus\x3c/a\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c% } else { %\x3e\n    \x3cdiv class\x3d"lastUnit size1of1 padding--lv3 margin--lv6 !margin-left--lv0 !margin-right--lv0"\x3e\n        \x3cdiv class\x3d"text-align--left border-radius--lv2"\x3e\n            \x3ch2 class\x3d"margin-bottom--lv2"\x3eInbox Preview\x3c/h2\x3e\n            \x3cp class\x3d"margin-bottom--lv4"\x3e\n                See how your campaign looks in different email clients, so you can feel extra confident before you send.\n            \x3c/p\x3e\n            \x3cp class\x3d"margin-bottom--lv4"\x3e\n                Monthly users receive 25 Inbox Preview tokens each month. Pro users receive 100. \n            \x3c/p\x3e\n            \x3cp class\x3d"margin-bottom--lv4"\x3e\n                If you need more previews, \x3ca href\x3d"https://litmus.com/pricing/mailchimp?utm_source\x3dmailchimp\x26utm_content\x3dlimitreached" rel\x3d"noopener" target\x3d"_blank"\x3esign up for Litmus\x3c/a\x3e. As a MailChimp user your first 30 days with Litmus are free.\n            \x3c/p\x3e\n            \x3cp class\x3d"margin-bottom--lv3"\x3e\n                \x3ca href\x3d"https://kb.mailchimp.com/campaigns/previews-and-tests/test-with-inbox-preview" target\x3d"_blank"\x3eLearn more about Inbox Preview\x3c/a\x3e\n            \x3c/p\x3e\n            \x3ca href\x3d"/account/billing-plan" class\x3d"button p0"\x3eUpgrade your account\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c% } %\x3e\n',
"url:mojo/widgets/previewer/inbox-preview/templates/clientEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3eChoose clients\x3c/h4\x3e\n        \x3ca data-dojo-attach-point\x3d"backBtn" class\x3d"button-small drillback imgrpl-inline" href\x3d"#"\x3e\n            \x3cspan class\x3d"freddicon arrow-left" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3c/span\x3e\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll"\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"topClientsContainer" class\x3d"hide"\x3e\n            \x3cdiv class\x3d"padding--lv3"\x3e\n                \x3cp data-dojo-attach-point\x3d"preselectedClientsText" class\x3d"hide"\x3e\x3c/p\x3e\n                \x3ca data-dojo-attach-point\x3d"topClientsLink" href\x3d"#" class\x3d"disclosure-closed fwb hide" onclick\x3d"mojo.utils.disclosureElement(\'top-clients\', this, true); return false;"\x3eTop client usage from your list\x3c/a\x3e\n            \x3c/div\x3e\n            \x3cul id\x3d"top-clients" data-dojo-attach-point\x3d"topClients" class\x3d"top-clients" style\x3d"display: none"\x3e\x3c/ul\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"body"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" disabled\x3d"disabled" data-dojo-attach-point\x3d"addClientsBtn"\x3eAdd clients\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientEditor/section.html":'\x3cfieldset class\x3d"border-top"\x3e\n    \x3ch4 class\x3d"inbox-preview-row-header p !margin--lv0 bg-gray full-width"\x3e\n        ${sectionName}\n        \x3ca href\x3d"#" class\x3d"small-meta fwb float-right !padding-top-bottom--lv0 nolink underline" data-dojo-attach-point\x3d"selectionLink"\x3eSelect All\x3c/a\x3e\n    \x3c/h4\x3e\n\n    \x3cul data-dojo-attach-point\x3d"rowContainer"\x3e\x3c/ul\x3e\n\x3c/fieldset\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientEditor/row.html":'\x3cli class\x3d"inbox-preview-row media padding--lv3 !padding-top-bottom--lv0 selfclear"\x3e\n    \x3cdiv class\x3d"padding--lv2 !padding-left-right--lv0"\x3e\n        \x3cdiv class\x3d"media-image"\x3e\n            \x3cinput id\x3d"checkbox-${id}" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"checkBox" class\x3d"!margin--lv0"/\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"media-body"\x3e\n            \x3cspan class\x3d"!margin-bottom--lv1 fwb !padding--lv0"\x3e${client.name}\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientHistoryEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3e${client.name}\x3c/h4\x3e\n        \x3ca data-dojo-attach-point\x3d"backBtn" class\x3d"button-small drillback imgrpl-inline" href\x3d"#"\x3e\n            \x3cspan class\x3d"freddicon arrow-left" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3c/span\x3e\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll" data-dojo-attach-point\x3d"body"\x3e\n        \x3cul data-dojo-attach-point\x3d"rowContainer"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/previewer/inbox-preview/templates/clientHistoryEditor/row.html":'\x3cli class\x3d"inbox-preview-row border-bottom padding--lv3 selfclear"\x3e\n    \x3cp class\x3d"!margin--lv0"\x3e\n        Created on \x3cspan data-dojo-attach-point\x3d"formattedDate"\x3e\x3c/span\x3e\n    \x3c/p\x3e\n\x3c/li\x3e',"url:mojo/widgets/previewer/inbox-preview/templates/tokensEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3ePurchase Tokens\x3c/h4\x3e\n        \x3ca data-dojo-attach-point\x3d"backBtn" class\x3d"button-small drillback imgrpl-inline" href\x3d"#"\x3e\n            \x3cspan class\x3d"freddicon arrow-left" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3c/span\x3e\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll" data-dojo-attach-point\x3d"body"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"tokensStatusContainer" class\x3d"padding--lv3 border-bottom"\x3e\n            \x3cdiv class\x3d"media"\x3e\n                \x3cdiv class\x3d"media-image"\x3e\n                    \x3cimg data-dojo-attach-point\x3d"staticTokenImg" src\x3d"/images/campaigns/freddie-token-tilt.svg" width\x3d"60px"/\x3e\n                    \x3cimg data-dojo-attach-point\x3d"spinningTokenImg" src\x3d"/images/campaigns/freddie-token-spinning.gif" width\x3d"60px" class\x3d"hide"/\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"media-body"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"tokensStatusContainer"\x3e\n                        \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"tokenStatusMsg"\x3e\n                                \x3cp class\x3d"fwb !margin--lv0"\x3eYou have \x3cspan data-dojo-attach-point\x3d"tokensCount"\x3e\x3c/span\x3e tokens\x3c/p\x3e\n                            \x3c/div\x3e\n                            \x3cp data-dojo-attach-point\x3d"processingMsg" class\x3d"fwb !margin--lv0" style\x3d"display: none;"\x3e\n                                We\'re processing your order...\n                            \x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"padding--lv3"\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"purchaseErrorContainer" class\x3d"feedback-block error !margin-bottom--lv2 hide"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                            \x3cspan class\x3d"freddicon not-allowed"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                            \x3ch4\x3eThere\'s a problem with your purchase\x3c/h4\x3e\n                            \x3cp data-dojo-attach-point\x3d"purchaseErrorMsg"\x3e\x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"feedback-block warning !margin-bottom--lv2 hide" data-dojo-attach-point\x3d"noTokensContainer"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                            \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                            \x3ch4\x3ePurchase tokens to run a preview of the \x3cstrong data-dojo-attach-point\x3d"selectedClientsCount"\x3e\x3c/strong\x3e email clients you selected.\x3c/h4\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cp data-dojo-attach-point\x3d"purchasePrompt" class\x3d"fwb"\x3e\x3c/p\x3e\n\n            \x3cul class\x3d"radio-grid small-grid" data-dojo-attach-point\x3d"blockContainer"\x3e\x3c/ul\x3e\n\n            \x3cp class\x3d"small-meta hide" data-dojo-attach-point\x3d"numFreeMonthlyText"\x3eYour plan includes \x3cspan\x3e${numFreeMonthly}\x3c/span\x3e Inbox Preview tokens each month. These will expire at the end of the billing cycle.\x3c/p\x3e\n\n            \x3cp class\x3d"small-meta hide" data-dojo-attach-point\x3d"litmusUpsell"\x3e\n                If you need more previews, sign up for \x3ca href\x3d"https://litmus.com/pricing/mailchimp?utm_source\x3dmailchimp\x26utm_content\x3dlimitreached" target\x3d"_blank" rel\x3d"noopener"\x3eLitmus\x3c/a\x3e. As a MailChimp user, your first 30 days with Litmus are free.\n            \x3c/p\x3e \n            \n            \x3cp class\x3d"fwb" data-dojo-attach-point\x3d"billingHeader"\x3eBilling Information\x3c/p\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/BillingInfo" id\x3d"billingInfo"\x3e\x3c/div\x3e\n\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"actionButtonsPane" class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" disabled\x3d"disabled" data-dojo-attach-point\x3d"purchaseTokensBtn"\x3ePurchase Tokens\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/previewer/inbox-preview/templates/tokensEditor/block.html":'\x3cli\x3e\n    \x3cinput type\x3d"radio" id\x3d"block-${block.block_id}" name\x3d"block" value\x3d"100"\x3e\n    \x3clabel class\x3d"border-radius--lv1 alignc padding--lv4 cursor-pointer" for\x3d"block-${block.block_id}"\x3e\n        \x3cdiv class\x3d"fwn !margin-bottom--lv2"\x3e${block.tokens} tokens\x3c/div\x3e\n        \x3cdiv class\x3d"fwb"\x3e$${block.amount}\x3c/div\x3e\n    \x3c/label\x3e\n\x3c/li\x3e\n',"url:mojo/widgets/templates/FeedbackBlock.html":'\x3cdiv class\x3d"feedback-block section" role\x3d"status"\x3e\n  \x3cdiv class\x3d"lastUnit size1of1"\x3e\n    \x3cdiv class\x3d"c-media"\x3e\n      \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n        \x3cspan class\x3d"freddicon" data-dojo-attach-point\x3d"icon"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"c-mediaBody--centered" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/previewer/inbox-preview/templates/contentPane.html":'\x3cdiv class\x3d"relative"\x3e\n    \x3cdiv class\x3d"lastUnit size1of1 padding--lv3" data-dojo-attach-point\x3d"loadingContainer"\x3e\n        \x3cimg src\x3d"/images/inbox-preview/content-holder.svg" role\x3d"presentation" class\x3d"inbox-preview-nodata-icon"/\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"contentContainer"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"litmusMsgContainer" class\x3d"alignc !margin-bottom--lv8"\x3e\n        \x3cp class\x3d"full-width small-meta dim3 fwb !margin--lv0"\x3ePowered by\x3c/p\x3e\n        \x3ca href\x3d"https://litmus.com/partners/mailchimp" title\x3d"Learn more about Litmus" target\x3d"_blank"\x3e\n            \x3cimg src\x3d"/images/third-party-logos/litmuslogo.svg" alt\x3d"Litmus logo" width\x3d"80px" class\x3d"!margin-bottom--lv2"/\x3e\n        \x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/analytics/parts/templates/select.html":'\x3cdiv class\x3d"inline-block valign-top" style\x3d"display: none !important;"\x3e\n    \x3cspan class\x3d"sort-selector-label small-meta fwb valign-middle margin--lv1 !margin-top-bottom--lv0 !margin-left--lv0 hide-mobile"\x3e${label}\x3c/span\x3e\n    \x3cselect data-dojo-attach-point\x3d"select"\x3e\x3c/select\x3e\n\x3c/div\x3e\n',"url:dojox/widget/ColorPicker/ColorPicker.html":'\x3ctable class\x3d"dojoxColorPicker" dojoAttachEvent\x3d"onkeypress: _handleKey" cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\x3ctr\x3e\n\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerRightPad"\x3e\n\t\t\t\x3cdiv class\x3d"dojoxColorPickerBox"\x3e\n\t\t\t\t\x3c!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. --\x3e\n\t\t\t\t\x3cimg title\x3d"${saturationPickerTitle}" alt\x3d"${saturationPickerTitle}" class\x3d"dojoxColorPickerPoint" src\x3d"${_pickerPointer}" tabIndex\x3d"0" dojoAttachPoint\x3d"cursorNode" style\x3d"position: absolute; top: 0px; left: 0px;"\x3e\n\t\t\t\t\x3cimg role\x3d"presentation" alt\x3d"" dojoAttachPoint\x3d"colorUnderlay" dojoAttachEvent\x3d"onclick: _setPoint, onmousedown: _stopDrag" class\x3d"dojoxColorPickerUnderlay" src\x3d"${_underlay}" ondragstart\x3d"return false"\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerRightPad"\x3e\n\t\t\t\x3cdiv class\x3d"dojoxHuePicker"\x3e\n\t\t\t\t\x3c!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. --\x3e\n\t\t\t\t\x3cimg dojoAttachPoint\x3d"hueCursorNode" tabIndex\x3d"0" class\x3d"dojoxHuePickerPoint" title\x3d"${huePickerTitle}" alt\x3d"${huePickerTitle}" src\x3d"${_huePickerPointer}" style\x3d"position: absolute; top: 0px; left: 0px;"\x3e\n\t\t\t\t\x3cdiv class\x3d"dojoxHuePickerUnderlay" dojoAttachPoint\x3d"hueNode"\x3e\n\t\t\t\t    \x3cimg role\x3d"presentation" alt\x3d"" dojoAttachEvent\x3d"onclick: _setHuePoint, onmousedown: _stopDrag" src\x3d"${_hueUnderlay}"\x3e\n\t\t\t\t\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/td\x3e\n\t\t\x3ctd valign\x3d"top"\x3e\n\t\t\t\x3ctable cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerPreviewContainer"\x3e\n\t\t\t\t\t\t\x3ctable cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd valign\x3d"top" class\x3d"dojoxColorPickerRightPad"\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv dojoAttachPoint\x3d"previewNode" class\x3d"dojoxColorPickerPreview"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd valign\x3d"top"\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv dojoAttachPoint\x3d"safePreviewNode" class\x3d"dojoxColorPickerWebSafePreview"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\x3ctd valign\x3d"bottom"\x3e\n\t\t\t\t\t\t\x3ctable class\x3d"dojoxColorPickerOptional" cellpadding\x3d"0" cellspacing\x3d"0" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"dijitInline dojoxColorPickerRgb" dojoAttachPoint\x3d"rgbNode"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctable cellpadding\x3d"1" cellspacing\x3d"1" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_r"\x3e${redLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_r" dojoAttachPoint\x3d"Rval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_g"\x3e${greenLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_g" dojoAttachPoint\x3d"Gval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_b"\x3e${blueLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_b" dojoAttachPoint\x3d"Bval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\t\x3ctd\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"dijitInline dojoxColorPickerHsv" dojoAttachPoint\x3d"hsvNode"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctable cellpadding\x3d"1" cellspacing\x3d"1" role\x3d"presentation"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_h"\x3e${hueLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_h" dojoAttachPoint\x3d"Hval"size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${degLabel}\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_s"\x3e${saturationLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_s" dojoAttachPoint\x3d"Sval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${percentSign}\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3ctr\x3e\x3ctd\x3e\x3clabel for\x3d"${_uId}_v"\x3e${valueLabel}\x3c/label\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"${_uId}_v" dojoAttachPoint\x3d"Vval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${percentSign}\x3c/td\x3e\x3c/tr\x3e\n\t\t\t\t\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd colspan\x3d"2"\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"dojoxColorPickerHex" dojoAttachPoint\x3d"hexNode" aria-live\x3d"polite"\x3e\t\n\t\t\t\t\t\t\t\t\t\t\x3clabel for\x3d"${_uId}_hex"\x3e\x26nbsp;${hexLabel}\x26nbsp;\x3c/label\x3e\x3cinput id\x3d"${_uId}_hex" dojoAttachPoint\x3d"hexCode, focusNode, valueNode" size\x3d"6" class\x3d"dojoxColorPickerHexCode" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/table\x3e\n\t\t\x3c/td\x3e\n\t\x3c/tr\x3e\n\x3c/table\x3e\n\n',
"url:mojo/neapolitan/widgets/templates/ColorPicker.html":'\x3cdiv class\x3d"dojoxColorPicker" dojoAttachEvent\x3d"onkeypress: _handleKey" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\n    \x3cdiv class\x3d"dojoxColorPickers"\x3e\n        \x3cdiv class\x3d"dojoxColorPickerBox"\x3e\n            \x3c!-- Forcing absolute positioning in style attr due to dojo DND issue with not picking it up from the class. --\x3e\n            \x3cdiv role\x3d"status" title\x3d"${saturationPickerTitle}" alt\x3d"${saturationPickerTitle}" class\x3d"dojoxColorPickerPoint" tabIndex\x3d"0" dojoAttachPoint\x3d"cursorNode"  style\x3d"position: absolute; top: 0px; left: 0px;"\x3e\x3c/div\x3e\n            \x3cimg role\x3d"presentation" alt\x3d"" dojoAttachPoint\x3d"colorUnderlay" class\x3d"dojoxColorPickerUnderlay" src\x3d"${_underlay}" ondragstart\x3d"return false"\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"dojoxHuePicker"\x3e\n            \x3c!-- Forcing absolute positioning in style attr due to dojo DND issue with not picking it up from the class. --\x3e\n            \x3cdiv class\x3d"dojoxHuePickerPoint" dojoattachpoint\x3d"hueCursorNode" role\x3d"status" style\x3d"position: absolute; top: 65.15px; left: 0px;"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"dojoxHuePickerUnderlay" dojoattachpoint\x3d"hueNode" dojoattachevent\x3d"onclick: _setHuePoint, onmousedown: _stopDrag" role\x3d"presentation"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv dojoAttachPoint\x3d"previewNode" class\x3d"dojoxColorPickerPreview" style\x3d"display:none;"\x3e\x3c/div\x3e\n        \x3cdiv dojoAttachPoint\x3d"safePreviewNode" class\x3d"dojoxColorPickerWebSafePreview" style\x3d"display:none;"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"dojoxColorPickerOptional"\x3e\n        \x3clabel class\x3d"dojoxColorPickerControl dojoxColorPickerHex" aria-live\x3d"polite" dojoattachpoint\x3d"hexNode"\x3e\n            Hex\n            \x3cinput class\x3d"dojoxColorPickerHexCode" dojoAttachPoint\x3d"hexCode, focusNode, valueNode" type\x3d"text"  id\x3d"${_uId}_hex" placeholder\x3d"#000000" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e\n        \x3c/label\x3e\n        \x3cdiv class\x3d"dojoxColorPickerRgb" dojoAttachPoint\x3d"rgbNode"\x3e\n            \x3clabel class\x3d"dojoxColorPickerControl"\x3e\n                ${redLabel}\n                \x3cinput id\x3d"${_uId}_r" class\x3d"dojoxColorPickerRgbInput dojoxColorPickerRgbInput--left" dojoAttachPoint\x3d"Rval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange" type\x3d"number" placeholder\x3d"0"\x3e\n            \x3c/label\x3e\n            \x3clabel class\x3d"dojoxColorPickerControl"\x3e\n                ${greenLabel}\n                \x3cinput id\x3d"${_uId}_g" class\x3d"dojoxColorPickerRgbInput dojoxColorPickerRgbInput--middle" dojoAttachPoint\x3d"Gval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange" type\x3d"number" placeholder\x3d"0"\x3e\n            \x3c/label\x3e\n            \x3clabel class\x3d"dojoxColorPickerControl"\x3e\n                ${blueLabel}\n                \x3cinput id\x3d"${_uId}_b" class\x3d"dojoxColorPickerRgbInput dojoxColorPickerRgbInput--right"  dojoAttachPoint\x3d"Bval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange" type\x3d"number" placeholder\x3d"0"\x3e\n            \x3c/label\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"dojoxColorPickerHsv" dojoAttachPoint\x3d"hsvNode"\x3e\n            \x3clabel for\x3d"${_uId}_h"\x3e${hueLabel}\x3c/label\x3e\x3cinput id\x3d"${_uId}_h" dojoAttachPoint\x3d"Hval"size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${degLabel}\x3cbr/\x3e\n            \x3clabel for\x3d"${_uId}_s"\x3e${saturationLabel}\x3c/label\x3e\x3cinput id\x3d"${_uId}_s" dojoAttachPoint\x3d"Sval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${percentSign}\x3cbr /\x3e\n            \x3clabel for\x3d"${_uId}_v"\x3e${valueLabel}\x3c/label\x3e\x3cinput id\x3d"${_uId}_v" dojoAttachPoint\x3d"Vval" size\x3d"1" dojoAttachEvent\x3d"onchange: _colorInputChange"\x3e ${percentSign}\x3cbr /\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"mojoCustomColorContainer" data-dojo-attach-point\x3d"defaultColorNode"\x3e\n        \x3cul class\x3d"mojoCustomColors"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"mojoCustomColorContainer mojoCustomColorContainer--special" data-dojo-attach-point\x3d"noColorNode" style\x3d"display:none;"\x3e\n        \x3cul class\x3d"mojoCustomColors mojoCustomColors--special"\x3e\n            \x3cli class\x3d"mojoCustomColor mojoCustomColor--special"\x3eNo Color\x3c/li\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n\n    \x3c!-- If we have site colors --\x3e\n    \x3cdiv class\x3d"mojoCustomColorContainer" data-dojo-attach-point\x3d"siteColorNode"\x3e\n        \x3clabel class\x3d"mojoCustomColorLabel" title\x3d"Colors from http://www.yoursite.com"\x3eYour Site Colors \x3cspan\x3e(\x3ca href\x3d"#"\x3eSelect Site\x3c/a\x3e)\x3c/span\x3e\x3c/label\x3e\n        \x3cul class\x3d"mojoCustomColors"\x3e\x3cli style\x3d"background:#03050C" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#080A16" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#202035" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#070916" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#00010D" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#FFCCCC" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#18192A" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#FFFFFF" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#000000" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#501254" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3cli style\x3d"background:#090B17" class\x3d"mojoCustomColor"\x3e\x26nbsp;\x3c/li\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n    \x3c!-- If we don\'t have site colors --\x3e\n    \x3cdiv class\x3d"mojoCustomColorContainer" data-dojo-attach-point\x3d"siteColorForm"\x3e\n        \x3clabel class\x3d"mojoCustomColorLabel"\x3eGet Site Colors From\x3c/label\x3e\n        \x3cinput type\x3d"url" /\x3e\n        \x3ca href\x3d"#"\x3eGo\x3c/a\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dojoxColorPickerArrow" data-dojo-attach-point\x3d"arrow"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/content-manager/templates/ContentManager.html":'\x3cdiv data-dojo-attach-point\x3d"dropTarget" class\x3d"file-drop-target position--absolute bg-white full-height full-width"\x3e\n    \x3cdiv class\x3d"dead-center text-align--center position--absolute"\x3e\n        \x3cimg class\x3d"margin--lv2" src\x3d"/images/files/file-manager-add.svg" height\x3d"90" /\x3e\n        \x3cp\x3eYou can also drop files on this window to upload\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n\x3cdiv class\x3d"flex"\x3e\n    \x3cdiv class\x3d"flex flex-col c-fileMgrSidebarContainer padding--lv2 padding-top-bottom--lv0 display--none@tablet"\x3e\n        \x3cdiv class\x3d"full-width padding--lv3 padding-left-right--lv0" data-dojo-attach-point\x3d"sourceButtons"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"flex flex-col flex--1"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"listControls"\x3e\n            \x3cdiv class\x3d"line padding--lv3 padding-left-right--lv0 padding-bottom--lv0"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1 action-bar"\x3e\n                    \x3cdiv class\x3d"flex justify-content--space-between flex-direction--column@phone" data-dojo-attach-point\x3d"filtersSortsContentControls"\x3e\n                        \x3c!--Flex Item--\x3e\n                        \x3cdiv class\x3d""\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"filterFolderButtons"\x3e\n                                \x3cdiv class\x3d"width--100@phone display--inline-block margin-right--lv3 margin-right--lv0@phone" data-dojo-attach-point\x3d"filterButton"\x3e\x3c!--Filled via JS--\x3e\x3c/div\x3e\n                                \x3cdiv class\x3d"width--100@phone display--inline-block" data-dojo-attach-point\x3d"folderButton"\x3e\x3c!--Filled via JS--\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3c!--Flex Item--\x3e\n                        \x3cdiv class\x3d"flew-row flex-direction--column@phone"\x3e\n                            \x3cdiv class\x3d"margin-bottom--lv1 sort-selector display--inline-block vertical-align--top" data-dojo-attach-point\x3d"sortButton"\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"display--inline-block" data-dojo-type\x3d"mojo/widgets/content-manager/DisplayToggle" data-dojo-props\x3d"target: \'files-list\', displayGrid: true"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"line margin-bottom--lv3"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1" data-dojo-attach-point\x3d"filterMessage"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!--  files list --\x3e\n        \x3cdiv class\x3d"overflow--auto padding--lv3 padding-top-bottom--lv0" data-dojo-attach-point\x3d"listContainer" id\x3d"list-container"\x3e\n            \x3cdiv class\x3d"lastGroup size1of1"\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"filesListContainer"\x3e\n                    \x3cul class\x3d"flex flex-row" data-dojo-attach-point\x3d"fileList" data-dojo-type\x3d"mojo/widgets/content-manager/ContentList" id\x3d"files-list" data-dojo-props\x3d"\'lazy\': true, url:\'${rootUrl}content\', sort: \'created_at-desc\'"\x3e\x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n\n            \x3c!--Mobile view of select pane--\x3e\n            \x3cdiv class\x3d"show-mobile"\x3e\n                \x3cdiv data-dojo-type\x3d"mojo/analytics/parts/SelectPane"\n                     data-dojo-props\x3d"target: \'files-list\'"\n                     class\x3d"position--absolute zin-lv2 bottom--0 left-right--0 bg-white border-top padding--lv3 padding-left-right--lv0"\x3e\n\n                    \x3cdiv class\x3d"line"\x3e\n                        \x3cdiv class\x3d"lastUnit size1of2"\x3e\n                            \x3cdiv data-dojo-type\x3d"mojo/widgets/content-manager/DeselectAll" data-dojo-props\x3d"target: \'files-list\'"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv data-dojo-attach-point\x3d"paginationControls" class\x3d"fm-pagination bg-white position--absolute border-top padding--lv2 !padding-left-right--lv0 flex-row"\x3e\n    \x3cdiv class\x3d"unit flex-auto"\x3e\n        \x3cdiv data-dojo-type\x3d"mojo/analytics/parts/PageSizeSelect" data-dojo-props\x3d"target: \'files-list\'"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"lastUnit paging-controls flex-auto"\x3e\n        \x3cdiv data-dojo-type\x3d"mojo/analytics/parts/Paging" data-dojo-props\x3d"target: \'files-list\', container: \'list-container\'"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv data-dojo-type\x3d"mojo/widgets/content-manager/UploadProgressWindow"\x3e\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/ContentSourceButton.html":'\x3cli class\x3d"c-buttonGroupItem"\x3e\n    \x3cbutton\n        class\x3d"c-buttonGroupButton v-buttonGroupList v-buttonGroupList--animColor full-width text-align--left normal-meta height-inherit border-radius--lv1 padding--lv2"\n        data-mc-value\x3d"{value}" title\x3d"{title}"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"c-mediaImage v-imageThumb--animGrayscale"\x3e\n                \x3cimg src\x3d"/images/files/source-icon-{value}.svg" alt\x3d"{label} icon" class\x3d"v-contentSourceBtnImg"\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody--centered small-meta"\x3e{label}\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/content-manager/templates/SliderPaneWrapper.html":'\x3cdiv class\x3d"c-topSliderPane position--fixed top-bottom--0 left-right--0 bg-white overflow--hidden" style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"full-width textcolor zin-lv2 position--absolute top--0 selfclear"\x3e\n\n        \x3cdiv class\x3d"flex"\x3e\n            \x3cdiv class\x3d"c-fileMgrSidebarContainer display--none@xlphone"\x3e\n                \x3cp class\x3d"margin-bottom--lv0 padding--lv3 small-meta font-weight--bold"\x3eContent Manager\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"flex flex--1 position--relative"\x3e\n                \x3cdiv class\x3d"line full-width"\x3e\n                    \x3cdiv class\x3d"unit size1of2 padding--lv3"\x3e\n                        \x3cdiv class\x3d"full-width flex"\x3e\n                            \x3cdiv class\x3d"flex--1" data-dojo-attach-point\x3d"searchBox" data-dojo-type\x3d"mojo/analytics/parts/Search" data-dojo-props\x3d"target: \'files-list\', placeholder: \'Search files\'"\x3e\x3c/div\x3e\n                            \x3cbutton class\x3d"button p0 show-phone margin--lv2 margin-top-bottom--lv0 margin-right--lv0" data-dojo-attach-point\x3d"uploadButtonMobile"\x3eUpload\x3c/button\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"lastUnit size1of2 padding--lv0"\x3e\n                        \x3cdiv class\x3d"float--right"\x3e\n                            \x3cdiv class\x3d"float--left padding--lv3 padding-left-right--lv0 display--none@phone"\x3e\n                                \x3cdiv class\x3d"button p0" data-dojo-type\x3d"dijit/form/ComboButton" data-dojo-attach-point\x3d"uploadButton"\x3e\n                                    \x3cspan\x3e\x3ca href\x3d"#"\x3eUpload\x3c/a\x3e\x3c/span\x3e\n                                    \x3cdiv data-dojo-type\x3d"dijit/DropDownMenu"\x3e\n                                        \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"importUrlButton"\x3eImport from URL\x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-type\x3d"mojo/analytics/parts/SelectPane"\n                     data-dojo-props\x3d"target: \'files-list\'"\n                     class\x3d"position--absolute zin-lv2 top-bottom--0 left-right--0 bg-white"\x3e\n                    \x3cdiv class\x3d"padding--lv3 padding-right--lv0"\x3e\n                        \x3cdiv class\x3d"float--left display--none@tablet"\x3e\n                            \x3cdiv data-dojo-type\x3d"mojo/widgets/content-manager/DeselectAll" data-dojo-props\x3d"target: \'files-list\'" class\x3d"hide-phone"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n\n                        \x3cdiv class\x3d"float--right" data-dojo-attach-point\x3d"actionPane"\x3e\n                            \x3cdiv class\x3d"flex justify-content--flex-end"\x3e\n                                \x3cdiv class\x3d"flex--1"\x3e\n                                    \x3cdiv class\x3d"button" data-dojo-type\x3d"dijit/form/ComboButton" data-dojo-attach-point\x3d"viewDetailsButton"\x3e\n                                        \x3cspan\x3e\x3ca href\x3d"#0"\x3eView Details\x3c/a\x3e\x3c/span\x3e\n                                        \x3cdiv data-dojo-type\x3d"dijit/DropDownMenu"\x3e\n                                            \x3cdiv class\x3d"display--none@phone" data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"editButton"\x3eEdit Image\x3c/div\x3e\n                                            \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"copyUrlButton"\x3eCopy URL\x3c/div\x3e\n                                            \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"promoteToBrandButton"\x3eSet My Logo\x3c/div\x3e\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"display--none@phone"\x3e\n                                    \x3cdiv class\x3d"display--inline-block"\x3e\n                                        \x3cdiv data-dojo-attach-point\x3d"moveToFolderContainer"\x3e\n                                            \x3cdiv class\x3d"folders-btn" data-dojo-attach-point\x3d"moveToFolderButton"\x3e\x3c/div\x3e\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/div\x3e\n                                \x3cbutton class\x3d"button" type\x3d"button" data-dojo-attach-point\x3d"deleteButton"\x3e\n                                    \x3cspan class\x3d"hide-mobile"\x3eDelete\x3c/span\x3e\n                                    \x3cspan class\x3d"show-mobile hide-desktop freddicon trash !margin--lv0"\x3e\x3c/span\x3e\n                                \x3c/button\x3e\n                                \x3cbutton class\x3d"button p1" data-dojo-attach-point\x3d"insertButton"\x3eInsert\x3c/button\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"flex"\x3e\n                \x3cul class\x3d"linear-list small-meta selfclear" data-dojo-attach-point\x3d"topBarActions"\x3e\n                    \x3cli class\x3d"hover-item noborder"\x3e\n                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"closeLink" class\x3d"c-wizardLink--overlay nolink padding--lv3"\x3e\n                            \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                        \x3c/a\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-topSliderPane_content position--absolute left-right--0 bottom--0 full-width"\x3e{_content}\x3c/div\x3e\n    \x3cform\x3e\n        \x3cinput data-dojo-attach-point\x3d"fileBrowse" type\x3d"file" name\x3d"upload-file[]" multiple\x3d"multiple" style\x3d"display: none;"\x3e\n    \x3c/form\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/parts/templates/filterMenu.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/form/DropDownButton" data-dojo-attach-point\x3d"dropdown"\x3e\n        \x3cspan\x3eFilter\x3c/span\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/TooltipDialog" data-dojo-attach-point\x3d"filtersMenu" class\x3d"mc-dijitMenu"\x3e\n            \x3ch4 class\x3d"title show-phone alignc full-width !margin--lv0"\x3eFilter\x3c/h4\x3e\n            \x3cul class\x3d"cp-filter filter-list relative" data-dojo-attach-point\x3d"filterList"\x3e\x3c/ul\x3e\n            \x3cdiv\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"okBtn" class\x3d"inline-block-i button-small p0"\x3eApply\x3c/a\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"resetLink" class\x3d"inline-block-i fwn !padding-left--lv0"\x3eReset\x3c/a\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"close-popover show-phone cursor-pointer" data-dojo-attach-point\x3d"closeFilterMenu"\x3e\n                \x3cdiv class\x3d"freddicon cross-fill"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/parts/templates/filterMessage.html":'\x3cdiv class\x3d"feedback-block info margin--lv3 !margin-left-right--lv0 !margin-bottom--lv0"\x3e\n    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                \x3ca href\x3d"#" class\x3d"dim-el" data-dojo-attach-point\x3d"resetFilter"\x3e\x3cspan class\x3d"freddicon cross-fill margin--lv1 !margin-top-bottom--lv0"\x3e\x3c/span\x3e\x3c/a\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                \x3cp data-dojo-attach-point\x3d"message"\x3e\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/folder.html":'\x3cdiv class\x3d"folders-btn"\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/form/DropDownButton" data-dojo-attach-point\x3d"dropdown"\x3e\n        \x3cspan\x3e${buttonText}\x3c/span\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/TooltipDialog" data-dojo-attach-point\x3d"foldersMenu" class\x3d"mc-dijitMenu"\x3e\n            \x3ch4 class\x3d"title show-phone alignc full-width !margin--lv0"\x3eFolders\x3c/h4\x3e\n            \x3cul class\x3d"popup-list relative" data-dojo-attach-point\x3d"folderList"\x3e\n                \x3cli style\x3d"display:none;" data-dojo-attach-point\x3d"emptyMessage" class\x3d"empty-message"\x3eYou have no folders\x3c/li\x3e\n                \x3cli style\x3d"display:none;" data-dojo-attach-point\x3d"emptyMessageForFolder" class\x3d"empty-message"\x3eYou have no other folders\x3c/li\x3e\n                \x3cli data-folder-id\x3d"" data-dojo-attach-point\x3d"allOption"\x3eAll\x3c/li\x3e\n            \x3c/ul\x3e\n\n            \x3cdiv class\x3d"cp-footer" data-dojo-attach-point\x3d"actionsContainer"\x3e\n                \x3cdiv class\x3d"line"\x3e\n                    \x3cdiv class\x3d"${addBtnCss}"\x3e\n                        \x3ca class\x3d"button-small full-width full-height" href\x3d"javascript:" data-dojo-attach-point\x3d"addBtn"\x3eAdd Folder\x3c/a\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"${editBtnCss}"\x3e\n                        \x3ca class\x3d"button-small full-width full-height" href\x3d"javascript:" data-dojo-attach-point\x3d"editBtn"\x3e\x3cspan data-dojo-attach-point\x3d"editText"\x3eEdit Folder\x3c/span\x3e\x3c/a\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"${removeBtnCss}"\x3e\n                        \x3ca class\x3d"button-small full-width full-height" href\x3d"javascript:" data-dojo-attach-point\x3d"removeBtn"\x3eRemove From Folder\x3c/a\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"close-popover show-phone cursor-pointer" data-dojo-attach-point\x3d"closeFolderMenu"\x3e\n                \x3cdiv class\x3d"freddicon cross-fill"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/InlineEditBox.html":'\x3cspan data-dojo-attach-point\x3d"editNode" role\x3d"presentation" class\x3d"dijitReset dijitInline dijitOffScreen"\n\t\x3e\x3cspan data-dojo-attach-point\x3d"editorPlaceholder"\x3e\x3c/span\n\t\x3e\x3cspan data-dojo-attach-point\x3d"buttonContainer"\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button" data-dojo-props\x3d"label: \'${buttonSave}\', \'class\': \'saveButton\'"\n\t\t\tdata-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:save"\x3e\x3c/button\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button"  data-dojo-props\x3d"label: \'${buttonCancel}\', \'class\': \'cancelButton\'"\n\t\t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancel"\x3e\x3c/button\n\t\x3e\x3c/span\n\x3e\x3c/span\x3e\n',
"url:mojo/widgets/content-manager/templates/DeleteDialog.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cp class\x3d"!margin--lv0" data-dojo-attach-point\x3d"deleteText"\x3eAre you sure you want to delete ${pluralizedFile}? This will not affect draft or sent campaigns, or active automations that include or link to ${pluralizedFile}.\x3c/p\x3e\n        \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n            \x3cbutton data-dojo-attach-point\x3d"deleteButton" type\x3d"button" class\x3d"button p0"\x3eDelete\x3c/button\x3e\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelButton" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/BrandDeleteDialog.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cp class\x3d"!margin--lv0" data-dojo-attach-point\x3d"deleteText"\x3eYour image will revert to a placeholder in draft, ongoing, and archived campaigns. This includes automated emails and published landing pages.\x3c/p\x3e\n        \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n            \x3cbutton data-dojo-attach-point\x3d"deleteButton" type\x3d"button" class\x3d"button p0"\x3eDelete\x3c/button\x3e\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelButton" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/NoDataBlock.html":'\x3cdiv class\x3d"c-noDataBlock text-align--center border-gray border-radius--lv2"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n        \x3cdiv class\x3d"c-noDataBlock_icon" style\x3d"background-image: url(/css/icons/no-data/${!icon}.svg)" data-dojo-attach-point\x3d"noDataIcon"\x3e\x3c/div\x3e\n        \x3ch2 class\x3d"c-noDataBlock_title" data-dojo-attach-point\x3d"noDataTitle"\x3e${!title}\x3c/h2\x3e\n        \x3cp class\x3d"c-noDataBlock_message" data-dojo-attach-point\x3d"noDataMessage"\x3e${!message}\x3c/p\x3e\n        \x3ca href\x3d"${!buttonLink}" class\x3d"c-noDataBlock_action button p0 float--none" data-dojo-attach-point\x3d"noDataButton"\x3e${!buttonText}\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/ContentListItem.html":'\x3cli class\x3d"c-fileItem"\x3e\n    \x3clabel data-dojo-attach-point\x3d"itemLabel" class\x3d"padding--lv0 position--relative full-width full-height cursor--pointer"\x3e\n        \x3c!-- Checkbox --\x3e\n        \x3cinput data-dojo-attach-point\x3d"itemInput" class\x3d"u-hide@GridActive position--absolute top-0 left-right--0 margin--lv3" type\x3d"checkbox" data-dojo-type\x3d"mojo/analytics/parts/SelectCheckBox" value\x3d"${contentId}"\x3e\n\n        \x3c!-- Grid view --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"gridImage" class\x3d"c-fileGridItem u-hide@listActive c-fileTypeIcons--large full-height"\x3e\n            \x3cdiv class\x3d"c-fauxCheckmark c-fauxCheckmark--checked c-fileGridItemCheckmark position--absolute top-0 left-right--0 margin--lv2"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-fileGridItemImage full-height flex flex-direction--column justify-content--center align-items--center"\x3e\n                \x3cdiv class\x3d"flex-shrink--0 full-width text-align--center"\x3e\n                    \x3cimg src\x3d"${thumbnailUrl}" alt\x3d"${name}" data-dojo-attach-point\x3d"gridImageNode" class\x3d"c-fileGridItemImage_img"\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"position--absolute top-bottom--0 left-right--0 c-fileTypeIcons_icon ${contentType}"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"position--absolute top-bottom--0 left-right--0 c-fileGridItemImage_overlay bg-white"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cspan data-dojo-attach-point\x3d"gridBadge" class\x3d"badge v-textColorWhite v-versionsBadgeBackground position--absolute bottom--0 right--0 margin--lv2"\x3e${numVersions}\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3c!-- List view --\x3e\n        \x3cdiv class\x3d"u-hide@GridActive v-buttonGroupMenuItem border-radius--lv2 padding--lv2 c-fileTypeIcons--small"\x3e\n            \x3cdiv class\x3d"c-media margin--lv8 margin-top-bottom--lv0 margin-right--lv0 padding--lv2 padding-top-bottom--lv0 padding-left-right--lv0"\x3e\n                \x3cdiv class\x3d"c-mediaImage position--relative"\x3e\n                    \x3cdiv class\x3d"c-listViewImgThumbnail v-bg-gray-lightest border-gray position--relative"\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"listImageNode" class\x3d"position--absolute top-bottom--0 left-right--0 v-containedBackgroundImage" style\x3d"background-image: url(${thumbnailUrl});"\x3e\x3c/div\x3e\n                        \x3cdiv class\x3d"position--absolute top-bottom--0 left-right--0 c-fileTypeIcons_icon ${contentType}"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cspan data-dojo-attach-point\x3d"listBadge" class\x3d"badge c-listViewVersionBadge v-textColorWhite v-versionsBadgeBackground position--absolute bottom--0 right--0"\x3e${numVersions}\x3c/span\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                    \x3cp class\x3d"margin-bottom--lv0 small-meta word-wrap--break-all"\x3e${name}\x3c/p\x3e\n                    \x3cp class\x3d"margin-bottom--lv0 font-weight--normal small-meta"\x3e${meta}\x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/label\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/content-manager/templates/DetailsView.html":'\x3cdiv class\x3d"c-detailViewBackground position--fixed top-bottom--0 left-right--0 overflow-y--auto overflow-x--hidden dim2 selfclear" role\x3d"search" aria-hidden\x3d"true"\x3e\n    \x3cdiv class\x3d"c-detailViewContainer flex flex-wrap--wrap full-height"\x3e\n\n        \x3c!--Item Preview--\x3e\n        \x3cdiv class\x3d"c-detailViewItemPreview flex flex-direction--column"\x3e\n\n            \x3c!--Action bar--\x3e\n            \x3cdiv class\x3d"flex justify-content--space-between padding--lv2 full-width" data-dojo-attach-point\x3d"actionPane"\x3e\n\n                \x3c!-- Close Overlay --\x3e\n                \x3cbutton class\x3d"p0" data-dojo-attach-point\x3d"closeButton"\x3eBack\x3c/button\x3e\n\n                \x3c!--Flex item--\x3e\n                \x3cnav\x3e\n                    \x3cbutton class\x3d"button display--none@phone" data-dojo-attach-point\x3d"editImageBtn"\x3eEdit image\x3c/button\x3e\n                    \x3cbutton class\x3d"button" data-dojo-attach-point\x3d"copyUrlBtn"\x3eCopy URL\x3c/button\x3e\n                    \x3cbutton class\x3d"button p1 margin-right--lv0" data-dojo-attach-point\x3d"insertBtn"\x3eInsert\x3c/button\x3e\n                \x3c/nav\x3e\n            \x3c/div\x3e\n\n            \x3c!--Image Container--\x3e\n            \x3cdiv class\x3d"flex flex--1 flex-direction--column padding-top--lv2 padding-right--lv2 padding-left--lv2 padding-bottom--lv8"\x3e\n                \x3cdiv class\x3d"flex flex--1 position--relative full-height full-width"\x3e\n                    \x3cimg data-dojo-attach-point\x3d"imageNode" src\x3d"" class\x3d"position--absolute margin--auto max-height--100 max-width--100 top-bottom--0 left-right--0"/\x3e\n\n                    \x3cdiv data-dojo-attach-point\x3d"fileMetaContainer" class\x3d"flex align-items--center justify-content--center position--absolute margin--auto max-height--100 max-width--100 top-bottom--0 left-right--0"\x3e\n                        \x3cdiv class\x3d"text-align--center"\x3e\n                            \x3cimg data-dojo-attach-point\x3d"fileIcon" src\x3d"" class\x3d"c-fileTypeIcon--large margin-bottom--lv2"/\x3e\n                            \x3cp data-dojo-attach-point\x3d"fileDescription" class\x3d"v-textColorWhite large-meta font-weight--bold full-width word-wrap--break-all"\x3e\x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n\n        \x3c!--Item Details Pane--\x3e\n        \x3cdiv class\x3d"c-detailViewDetailPane flex flex-direction--column bg-white"\x3e\n            \x3cdiv class\x3d"border-bottom"\x3e\n                \x3cdiv class\x3d"margin--lv4 margin-left-right--lv0 padding--lv4 padding-top-bottom--lv0"\x3e\n                    \x3cp data-dojo-attach-point\x3d"nameNode" class\x3d"font-weight--bold word-wrap--break-all"\x3e\x3c/p\x3e\n\n                    \x3cnav data-dojo-attach-point\x3d"actionLinks" class\x3d"font-weight--bold small-meta"\x3e\n                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"renameLink"\x3eRename\x3c/a\x3e\n                        \x26middot;\n                        \x3ca href\x3d"#" download\x3d"" data-dojo-attach-point\x3d"downloadNode"\x3eDownload\x3c/a\x3e\n                        \x26middot;\n                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"deleteLink"\x3eDelete\x3c/a\x3e\n                    \x3c/nav\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"border-bottom"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"properties" class\x3d"margin--lv4 margin-left-right--lv0 padding--lv4 padding-top-bottom--lv0"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"revisionContainer" class\x3d"margin--lv4 margin-left-right--lv0 padding--lv3 padding-top-bottom--lv0 hide"\x3e\n                \x3cp data-dojo-attach-point\x3d"revisionLabel" class\x3d"font-weight--bold margin-bottom--lv3 padding--lv1 padding-top-bottom--lv0"\x3e\x3c/p\x3e\n                \x3cdiv data-dojo-attach-point\x3d"revisions"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/VersionButton.html":'\x3cli class\x3d"c-buttonGroupItem margin-bottom--lv1"\x3e\n    \x3cbutton data-mc-value\x3d"{value}" class\x3d"c-buttonGroupButton v-buttonGroupMenuItem full-width text-align--left height-inherit padding--lv1 border-radius--lv1 text-transform--none"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"c-mediaImage--centered"\x3e\n                \x3cdiv class\x3d"v-contentVariantBtnImg border-gray bg-white" style\x3d"background-image: url({thumbnailUrl});  background-position: 50% 50%; background-size: contain; background-repeat: no-repeat"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody"\x3e\n                \x3cp class\x3d"margin-bottom--lv0 small-meta"\x3e{createdAt}\x3c/p\x3e\n                \x3cp class\x3d"margin-bottom--lv0 font-weight--normal small-meta"\x3e{meta}\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/content-manager/templates/PropertyRow.html":'\x3cp class\x3d"small-meta margin-bottom--lv1 full-width"\x3e\n    ${label}\n    \x3cspan class\x3d"float--right font-weight--bold"\x3e${value}\x3c/span\x3e\n\x3c/p\x3e\n',"url:mojo/widgets/content-manager/templates/UrlImportDialog.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cinput type\x3d"hidden" id\x3d"image-url" name\x3d"image-url" value\x3d"{$image[\'url\']}"/\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel for\x3d"import"\x3eImport a file from a URL:\x3c/label\x3e\n            \x3cinput type\x3d"text" class\x3d"av-text !margin-bottom--lv0"  data-dojo-attach-point\x3d"importInput" id\x3d"import"\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n            \x3ca class\x3d"button p0" data-dojo-attach-point\x3d"importButton"\x3eImport\x3c/a\x3e\n            \x3ca class\x3d"small-meta fwb" href\x3d"javascript:;" data-dojo-attach-point\x3d"cancelLink"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/RenameDialog.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n\n        \x3cinput type\x3d"hidden" name\x3d"save-type" id\x3d"save-type" value\x3d"new" /\x3e\n        \x3clabel for\x3d"file-name"\x3eRename file to:\x3c/label\x3e\n        \x3cinput type\x3d"text" data-dojo-attach-point\x3d"nameInput" name\x3d"file-name" /\x3e\n\n        \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n            \x3ca class\x3d"button p0" data-dojo-attach-point\x3d"renameButton"\x3eRename\x3c/a\x3e\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelButton" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/UploadProgressWindow.html":'\x3cdiv class\x3d"file-upload bg-white hide"\x3e\n    \x3cdiv class\x3d"header-bar selfclear padding--lv2 small-meta fwb"\x3e\n        \x3cspan data-dojo-attach-point\x3d"title"\x3e\x3c/span\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"minimizeButton" style\x3d"display: none;"\x3e\x3cspan data-dojo-attach-point\x3d"minToggle" class\x3d"freddicon menu-down float-right"\x3e\x3c/span\x3e\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"closeButton"\x3e\x3cspan class\x3d"freddicon cross-fill float-right"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cul class\x3d"upload-list" data-dojo-attach-point\x3d"uploadList"\x3e\x3c/ul\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/UploadProgressItem.html":'\x3cli class\x3d"selfclear padding--lv2 border-bottom"\x3e\n    \x3cdiv class\x3d"group size2of3"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"thumbnail" class\x3d"thumbnail bg-gray border-gray float-left margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\x3c/div\x3e\n        \x3cp class\x3d"!margin--lv0" data-dojo-attach-point\x3d"fileName"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"lastGroup size1of3 alignr"\x3e\n        \x3cdiv class\x3d"group size2of3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"progressMeter" class\x3d"meter !margin-right--lv0"\x3e\n                \x3cspan class\x3d"border-radius--lv3" data-dojo-attach-point\x3d"progress" style\x3d"width:0%"\x3e\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"lastGroup"\x3e\n            \x3cp class\x3d"alignr !margin--lv0"\x3e\x3ca class\x3d"capitalize" data-dojo-attach-point\x3d"link" href\x3d"#"\x3e\x3c/a\x3e\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/content-manager/templates/ConfirmOverwriteBrandLogoDialog.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cp class\x3d"!margin--lv0"\x3eYou already have a default logo. Would you like to replace it?\x3c/p\x3e\n        \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n            \x3ca class\x3d"button p0" data-dojo-attach-point\x3d"confirmButton"\x3eReplace my logo\x3c/a\x3e\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelButton" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/CKContentForm.html":'\x3cdiv class\x3d"line main-section padding--lv3" style\x3d"overflow: auto;"\x3e\n    \x3cdiv class\x3d"header"\x3e\n        \x3ca data-dojo-attach-point\x3d"backToFilesBtn" class\x3d"!margin-bottom--lv3" href\x3d"#"\x3e\x3cspan class\x3d"freddicon menu-left"\x3e\x3c/span\x3eBack to files\x3c/a\x3e\n        \x3ch4 data-dojo-attach-point\x3d"imageTitle"\x3e\x3c/h4\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"unit size1of2 padding--lv0"\x3e\n        \x3ch4 class\x3d"!margin-bottom--lv2"\x3eEdit Image\x3c/h4\x3e\n        \x3cdiv class\x3d"selfclear !padding--lv0"\x3e\n            \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                \x3clabel\x3eWidth\x3c/label\x3e\n                \x3cinput class\x3d"!margin-bottom--lv0" type\x3d"text" data-dojo-attach-point\x3d"imageWidth" name\x3d"image-width" /\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                \x3clabel\x3eHeight\x3c/label\x3e\n                \x3cinput class\x3d"!margin-bottom--lv0" type\x3d"text" data-dojo-attach-point\x3d"imageHeight" name\x3d"image-height" /\x3e\n            \x3c/div\x3e\n\n            \x3cdiv\x3e\n            \x3clabel\x3e\x26nbsp;\x3c/label\x3e\n            \x3clabel class\x3d"lastUnit size2of4 checkbox-group padding--lv1 !margin-bottom--lv0"\x3e\n                \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"proportionCheckbox" type\x3d"checkbox" value\x3d"1" checked /\x3eKeep proportions\n            \x3c/label\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"!margin-bottom--lv4"\x3e\n                \x3ca href\x3d"#" class\x3d"small-meta" data-dojo-attach-point\x3d"resetImageDimensionsBtn"\x3eReset image dimensions\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"section clear !margin-bottom--lv2"\x3e\n            \x3cdiv\x3e\n                \x3clabel\x3e\n                    Link to URL\n                    \x3ca href\x3d"#" class\x3d"small-meta float-right" data-dojo-attach-point\x3d"linkToSelfBtn"\x3eUse image URL\x3c/a\x3e\n                \x3c/label\x3e\n                \x3cinput type\x3d"url" data-dojo-attach-point\x3d"ckImageLink" name\x3d"image-link" class\x3d"!margin-bottom--lv0" /\x3e\n            \x3c/div\x3e\n            \x3clabel class\x3d"checkbox-group margin--lv2 !margin-left-right--lv0 !margin-bottom--lv0"\x3e\n                \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"ckLinkTarget" name\x3d"image-target" data-dojo-type\x3d"dijit/form/CheckBox"/\x3eOpen in a new window\n            \x3c/label\x3e\n        \x3c/div\x3e\n\n\n        \x3cdiv class\x3d"section"\x3e\n            \x3ca href\x3d"#" class\x3d"section" data-dojo-attach-point\x3d"showMoreStylesBtn"\x3eshow image style options\x3c/a\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"moreImageStyles"\x3e\n            \x3cdiv class\x3d"section"\x3e\n                \x3clabel\x3eImage border\x3c/label\x3e\n                \x3cinput type\x3d"number" data-dojo-attach-point\x3d"ckBorderWidth" name\x3d"image-border-width"  maxlength\x3d"3" class\x3d"!margin-bottom--lv0" style\x3d"width:30px" /\x3e\n                \x3cspan class\x3d"small-meta" style\x3d"margin-right: 18px;"\x3epx\x3c/span\x3e\n                \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"ckBorderStyle" name\x3d"image-border-style" class\x3d"!margin-bottom--lv0" style\x3d"width:120px;"\x3e\n                    \x3coption value\x3d"none"\x3enone\x3c/option\x3e\n                    \x3coption value\x3d"solid"\x3esolid\x3c/option\x3e\n                    \x3coption value\x3d"dotted"\x3edotted\x3c/option\x3e\n                    \x3coption value\x3d"dashed"\x3edashed\x3c/option\x3e\n                    \x3coption value\x3d"double"\x3edouble\x3c/option\x3e\n                    \x3coption value\x3d"groove"\x3egroove\x3c/option\x3e\n                    \x3coption value\x3d"outset"\x3eoutset\x3c/option\x3e\n                    \x3coption value\x3d"inset"\x3einset\x3c/option\x3e\n                    \x3coption value\x3d"ridge"\x3eridge\x3c/option\x3e\n                \x3c/select\x3e\n                \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"ckBorderColor" name\x3d"image-border-color" class\x3d"size1of4 !margin-bottom--lv0 color-picker" style\x3d"width:100px" /\x3e\n                \x3cp class\x3d"small-meta"\x3e(border width, style \x26amp; color)\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"section"\x3e\n                \x3cdiv class\x3d"unit size1of3 clear !padding-left--lv0"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"ckImageAlign" data-dojo-type\x3d"dijit/form/Select" name\x3d"image-align"\x3e\n                        \x3coption value\x3d"none"\x3enone\x3c/option\x3e\n                        \x3coption value\x3d"left"\x3eleft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3ecenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eright\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"unit size1of3 !padding-left--lv0"\x3e\n                    \x3clabel\x3eAlt text\x3c/label\x3e\n                    \x3cdiv class\x3d"field-wrapper"\x3e\n                        \x3cinput data-dojo-attach-point\x3d"ckImageAlt" type\x3d"text" name\x3d"$image[\'alt\']" name\x3d"image-alt" /\x3e\n                        \x3cdiv class\x3d"field-help always-show"\x3eAlt text shows when images are disabled.\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"section size1of2"\x3e\n                \x3clabel\x3eMargin\x3c/label\x3e\n                \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                    \x3clabel  class\x3d"small-meta"\x3etop\x3c/label\x3e \n                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"ckMarginTop" class\x3d"!margin-bottom--lv0" name\x3d"image-margin-t" maxlength\x3d"3" size\x3d"3"/\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                    \x3clabel class\x3d"small-meta"\x3eright\x3c/label\x3e\n                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"ckMarginRight" class\x3d"!margin-bottom--lv0" name\x3d"image-margin-r" maxlength\x3d"3"/\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                    \x3clabel  class\x3d"small-meta"\x3ebottom\x3c/label\x3e\n                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"ckMarginBottom" class\x3d"!margin-bottom--lv0" name\x3d"image-margin-b" maxlength\x3d"3"/\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"unit size1of4 !padding-left--lv0"\x3e\n                    \x3clabel class\x3d"small-meta"\x3eleft\x3c/label\x3e\n                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"ckMarginLeft"  class\x3d"!margin-bottom--lv0" name\x3d"image-margin-l" maxlength\x3d"3"/\x3e\n                \x3c/div\x3e\n                \x3cp class\x3d"small-meta clear"\x3eValues should be numbers. Type 15 in the \'right\' box to add 15 pixels on the right.\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n\n        \x3cdiv class\x3d"clear"\x3e\n            \x3ca data-dojo-attach-point\x3d"saveBtn" class\x3d"button p0"\x3eSave \x26amp; Insert Image\x3c/a\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"lastUnit size1of2"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"ckImage" style\x3d"background-size: contain; background-color: #f1f1f1; width: 300px; height: 300px; border: 1px solid #e0e0e0; background-position: 50% 50%; background-repeat: no-repeat;"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n            \x3cbutton class\x3d"button-small" data-dojo-attach-point\x3d"editImageBtn"\x3eEdit with photo editor\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/CKContentFormWrapper.html":'\x3cdiv class\x3d"c-topSliderPane position--fixed top-bottom--0 left-right--0 bg-white overflow--hidden overflow--scroll" style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"full-width textcolor zin-lv2 position--absolute top--0 selfclear border-bottom bg-gray"\x3e\n\n        \x3cdiv class\x3d"flex"\x3e\n            \x3cdiv class\x3d"c-fileMgrSidebarContainer display--none@tablet"\x3e\n                \x3cp class\x3d"margin-bottom--lv0 padding--lv3 small-meta font-weight--bold"\x3eContent Manager\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"flex flex--1 position--relative"\x3e\n                \x3cdiv class\x3d"line full-width"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"flex"\x3e\n                \x3cul class\x3d"linear-list small-meta selfclear" data-dojo-attach-point\x3d"topBarActions"\x3e\n                    \x3cli class\x3d"hover-item noborder"\x3e\n                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"closeLink" class\x3d"c-wizardLink--overlay nolink padding--lv3"\x3e\n                            \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                        \x3c/a\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-topSliderPane_content position--absolute left-right--0 bottom--0 full-width"\x3e{_content}\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/ChatButtonZopim.html":'\x3cdiv data-dojo-attach-point\x3d"chatFormButtonContainer" style\x3d"display:inline-block"\x3e\n    \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"chatFormButton" class\x3d"button js-hide" target\x3d"_blank"\x3eChat With Us\x3c/a\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/templates/coachmark.html":'\x3cdiv class\x3d"coachmark-item"\x3e\n    \x3cdiv class\x3d"coachmark block"\x3e\n        \x3cdiv class\x3d"head alignc"\x3e\n            \x3ch4 class\x3d"!margin--lv0"\x3e{header}\x3c/h4\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"msg-wrap"\x3e\n            \x3cp class\x3d"msg h4 fwl !margin--lv0 full-width"\x3e{body}\x3c/p\x3e\n            \x3cp class\x3d"btn !margin--lv0 selfclear full-width"\x3e\n                \x3cbutton class\x3d"btn button !margin--lv0 next float-right next-button"\x3e{actionText}\x3c/button\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/CodeEditor.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"c-codeEditor full-width pos-lr0 zin-lv1" data-dojo-attach-point\x3d"codeEditor"\x3e\n        \x3ctextarea data-dojo-attach-point\x3d"editorTextarea" name\x3d"html" id\x3d"html"\x3e\x3c/textarea\x3e\n        \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n            \x3cbutton data-dojo-attach-point\x3d"saveButton" title\x3d"Save changes. Hit \'ctrl + s\' (or \'cmd + s\' on a Mac) to save." class\x3d"button p0 save-button"\x3eSave\x3c/button\x3e\n            \x3ca class\x3d"button !margin-right--lv0 hide-phone" data-dojo-attach-point\x3d"fileManagerButton"\x3eContent Manager\x3c/a\x3e\n            \x3cbutton class\x3d"button float-right margin--lv2 !margin-right--lv0" data-dojo-attach-point\x3d"fullScreenButton"\x3e\x3cspan class\x3d"freddicon maximize !margin-right--lv0"\x3e\x3c/span\x3e\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/confirmInput.html":'\x3cdiv\x3e\n    \x3c!-- Google\'s notranslate class is applied to prevent the required word from being translated to one that wont pass validation --\x3e\n    \x3clabel for\x3d"${id}-confirm-text"\x3eType \x3cspan class\x3d"notranslate"\x3e${confirm}\x3c/span\x3e to confirm\x3c/label\x3e\n    \x3cdiv class\x3d"field-wrapper"\x3e\n        \x3cinput type\x3d"text" class\x3d"!margin-bottom--lv0" name\x3d"confirm-text" id\x3d"${id}-confirm-text" value\x3d"" tabindex\x3d"1" data-dojo-attach-point\x3d"confirmInput"/\x3e\n        \x3cdiv class\x3d"field-help !margin--lv0"\x3e${helptip}\x3c/div\x3e\n        \x3cspan class\x3d"invalid-error !margin-top-bottom--lv0" style\x3d"display:none;" data-dojo-attach-point\x3d"confirmError"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/contact-support-form.html":'\x3cdiv class\x3d"!padding-left-right--lv0 !padding-bottom--lv0"\x3e\n    \x3cform data-dojo-attach-point\x3d"formNode" action\x3d"/kb/contact-form-post" method\x3d"post" enctype\x3d"multipart/form-data" novalidate\x3e\n\n        \x3c!-- Related to --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of2"\x3e\n                \x3cfieldset id \x3d"topicSelect"\x3e\n                    \x3clabel for\x3d"topic"\x3eWhat is your question related to?\x3c/label\x3e\n                    \x3cselect name\x3d"topic" id\x3d"topic" class\x3d"small-select size1of1" maxheight\x3d"-1" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d""\x3eSelect a topic\x3c/option\x3e\n                        \x3coption value\x3d"dashboard"\x3eMain MailChimp Dashboard\x3c/option\x3e\n                        \x3coption value\x3d"lists"\x3eList Imports/Management\x3c/option\x3e\n                        \x3coption value\x3d"gdpr"\x3eGDPR\x3c/option\x3e\n                        \x3coption value\x3d"signup-forms"\x3eSignup Forms\x3c/option\x3e\n                        \x3coption value\x3d"campaigns"\x3eCampaigns\x3c/option\x3e\n                        \x3coption value\x3d"templates"\x3eTemplates\x3c/option\x3e\n                        \x3coption value\x3d"reports"\x3eReports\x3c/option\x3e\n                        \x3coption value\x3d"accounts"\x3eAccounts\x3c/option\x3e\n                        \x3coption value\x3d"account-settings"\x3eAccount Settings\x3c/option\x3e\n                        \x3coption value\x3d"account-upgrades"\x3eAccount Upgrades\x3c/option\x3e\n                        \x3coption value\x3d"account-login"\x3eAccount login and recovery\x3c/option\x3e\n                        \x3coption value\x3d"automation-rss"\x3eAutomation and RSS\x3c/option\x3e\n                        \x3coption value\x3d"integrations"\x3eIntegrations\x3c/option\x3e\n                        \x3coption value\x3d"billing"\x3eBilling Assistance\x3c/option\x3e\n                        \x3coption value\x3d"compliance"\x3eCompliance\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Recommended articles data-element\x3d"recommended-articles" --\x3e\n        \x3cdiv class\x3d"line !margin-bottom--lv4 hide" id\x3d"recommended-articles" style\x3d"min-height: 120px;"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3clabel\x3eThese articles might be able to resolve your issue:\x3c/label\x3e\n                \x3c!--  Main MailChimp Dashboard --\x3e\n                \x3cul data-element\x3d"dashboard" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/account-setup/getting-started-with-mailchimp" target\x3d"_blank"\x3eGetting Started with MailChimp\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/signup-forms/create-signup-forms-and-response-emails" target\x3d"_blank"\x3eCreate Signup Forms and Response Emails\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/integrations/facebook/integrate-facebook-with-mailchimp" target\x3d"_blank"\x3eIntegrate Facebook with MailChimp\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/about-browser-cookies-and-cache" target\x3d"_blank"\x3eAbout Browser Cookies and Cache\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Lists Articles --\x3e\n                \x3cul data-element\x3d"lists" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/growth/getting-started-with-lists" target\x3d"_blank"\x3eGetting Started with Lists\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/growth/create-a-new-list" target\x3d"_blank"\x3eCreate a New List\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/growth/import-subscribers-to-a-list" target\x3d"_blank"\x3eImport Subscribers to a List\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/groups-and-segments/about-segments-and-groups" target\x3d"_blank"\x3eAbout Segments and Groups\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Signup forms --\x3e\n                \x3cul data-element\x3d"signup-forms" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/signup-forms/create-signup-forms-and-response-emails" target\x3d"_blank"\x3eCreate signup forms and response emails\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/signup-forms/share-your-signup-form" target\x3d"_blank"\x3eShare your signup form\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/signup-forms/add-a-signup-form-to-your-website" target\x3d"_blank"\x3eAdd a signup form to your website\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/signup-forms/my-embedded-signup-form-isnt-working" target\x3d"_blank"\x3eMy embedded signup form isn\'t working\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Campaigns --\x3e\n                \x3cul data-element\x3d"campaigns" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/ways-to-build/getting-started-with-campaigns" target\x3d"_blank"\x3eGetting Started with Campaigns\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/ways-to-build/create-a-campaign-with-campaign-builder" target\x3d"_blank"\x3eCreate a Campaign with Campaign Builder\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/design/design-a-campaign-in-mailchimp" target\x3d"_blank"\x3eDesign a Campaign in MailChimp\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/confirmation-and-sending/first-time-senders-checklist" target\x3d"_blank"\x3eFirst Time Senders Checklist\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Templates --\x3e\n                \x3cul data-element\x3d"templates" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/ways-to-build/templates-vs-campaigns" target\x3d"_blank"\x3eTemplates vs. Campaigns\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/templates/basic-and-themes/types-of-templates" target\x3d"_blank"\x3eTypes of Templates\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/templates/basic-and-themes/access-your-templates" target\x3d"_blank"\x3eAccess Your Templates\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/templates/basic-and-themes/options-for-creating-templates" target\x3d"_blank"\x3eOptions for Creating Templates\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Reports --\x3e\n                \x3cul data-element\x3d"reports" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/reports/statistics-in-campaign-reports" target\x3d"_blank"\x3eStatistics in Campaign Reports\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/reports/about-open-and-click-rates" target\x3d"_blank"\x3eAbout Open and Click Rates\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/reports/export-and-share-campaign-reports" target\x3d"_blank"\x3eExport and Share Campaign Reports\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/about-bounces" target\x3d"_blank"\x3eAbout Bounces\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Accounts --\x3e\n                \x3cul data-element\x3d"accounts" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/change-or-update-billing-details" target\x3d"_blank"\x3eChange or Update Billing Details\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/account-setup/how-can-i-set-my-account-defaults" target\x3d"_blank"\x3eHow to Set Account Defaults\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/general-compliance-tips" target\x3d"_blank"\x3eGeneral Compliance Tips\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/about-error-messages" target\x3d"_blank"\x3eAbout Error Messages\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Account settings --\x3e\n                \x3cul data-element\x3d"account-settings" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/account-has-been-compromised" target\x3d"_blank"\x3eI think my account has been compromised\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-reviews/my-account-was-deactivated" target\x3d"_blank"\x3eMy account was deactivated\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/account-setup/how-can-i-set-my-account-defaults" target\x3d"_blank"\x3eHow to set account defaults\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/manage-account-login-and-profile" target\x3d"_blank"\x3eManage account login and profile\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Account upgrades --\x3e\n                \x3cul data-element\x3d"account-upgrades" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/upgrade-your-account" target\x3d"_blank"\x3eUpgrade your account\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/change-or-update-billing-details" target\x3d"_blank"\x3eChange or update billing details\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/growth/view-your-list-import-results" target\x3d"_blank"\x3eView your list import results\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/quick-answers/accounts-answers/what-happens-if-im-on-the-forever-free-plan-and-i-purchase-credits" target\x3d"_blank"\x3eWhat happens if I\u2019m on the Forever Free plan and I purchase credits?\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Account login --\x3e\n                \x3cul data-element\x3d"account-login" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/i-cant-log-in" target\x3d"_blank"\x3eI can\'t log in\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/reset-your-username-or-password" target\x3d"_blank"\x3eReset your username or password\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/account-setup/best-practices-for-passwords" target\x3d"_blank"\x3eBest practices for passwords\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/management/account-has-been-compromised" target\x3d"_blank"\x3eI think my account has been compromised\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Automation RSS --\x3e\n                \x3cul data-element\x3d"automation-rss" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/automation/getting-started-with-automation" target\x3d"_blank"\x3eGetting Started With Automation\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/automation/create-an-automation-workflow" target\x3d"_blank"\x3eCreate an Automation Workflow\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/rss-in-campaigns/troubleshooting-rss-in-campaigns" target\x3d"_blank"\x3eTroubleshooting RSS in Campaigns\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/campaigns/rss-in-campaigns/create-an-rss-driven-campaign" target\x3d"_blank"\x3eCreate a RSS-Driven Campaign\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Integrations --\x3e\n                \x3cul data-element\x3d"integrations" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/integrations/other-integrations/disconnect-an-integration" target\x3d"_blank"\x3eDisconnect an integration\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/integrations/other-integrations/check-integration-status" target\x3d"_blank"\x3eCheck integration status\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/integrations/other-integrations/view-integration-options" target\x3d"_blank"\x3eView integration options\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/lists/managing-subscribers/find-your-list-id" target\x3d"_blank"\x3eFind your list ID\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Billing --\x3e\n                \x3cul data-element\x3d"billing" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/quick-answers/accounts-answers/what-happens-if-im-on-the-forever-free-plan-and-i-purchase-credits" target\x3d"_blank"\x3eWhat happens if I\u2019m on the Forever Free plan and I purchase credits?\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/credit-card-problems-rejection-errors" target\x3d"_blank"\x3eTroubleshooting credit card issues\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/upgrade-your-account" target\x3d"_blank"\x3eUpgrade your account\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/billing/pause-monthly-billing" target\x3d"_blank"\x3ePause monthly billing\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n                \x3c!-- Compliance --\x3e\n                \x3cul data-element\x3d"compliance" style\x3d"display:none;"\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/general-compliance-tips" target\x3d"_blank"\x3eGeneral compliance tips\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-reviews/about-list-suspension" target\x3d"_blank"\x3eAbout list suspension\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/about-warnings" target\x3d"_blank"\x3eAbout warnings\x3c/a\x3e\x3c/li\x3e\n                    \x3cli\x3e\x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-reviews/about-no-outside-unsubscribe-link-suspension" target\x3d"_blank"\x3eAbout no outside unsubscribe link suspension\x3c/a\x3e\x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Ticket open --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of2"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eDo you currently have a ticket open?\x3c/label\x3e\n                    \x3clabel class\x3d"radio inline-block margin--lv3 !margin-left--lv0 !margin-top-bottom--lv0"\x3e\n                        \x3cinput type\x3d"radio" value\x3d"yes" name\x3d"have-ticket" data-dojo-type\x3d"dijit/form/RadioButton"\x3eYes\n                    \x3c/label\x3e\n                    \x3clabel class\x3d"radio inline-block"\x3e\n                        \x3cinput type\x3d"radio" value\x3d"no" name\x3d"have-ticket" data-dojo-type\x3d"dijit/form/RadioButton" checked\x3eNo\n                    \x3c/label\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Name --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"unit size1of2"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eName\x3c/label\x3e\n                    \x3cinput name\x3d"name" id\x3d"name" type\x3d"text" class\x3d"full-width" placeholder\x3d""\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"lastUnit size1of2"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eUsername\x3c/label\x3e\n                    \x3cinput name\x3d"username" id\x3d"username" type\x3d"text" class\x3d"full-width" placeholder\x3d""\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Email --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eEmail address\x3c/label\x3e\n                    \x3cinput name\x3d"email" id\x3d"email" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Subject--\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-element\x3d"subject"\x3e\n                    \x3clabel\x3eSubject\x3c/label\x3e\n                    \x3cinput name\x3d"subject" id\x3d"subject" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Message --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eMessage\x3c/label\x3e\n                    \x3ctextarea name\x3d"message" id\x3d"message" class\x3d"full-width" cols\x3d"30" rows\x3d"10"\x3e\x3c/textarea\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- List name or ID --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["lists","signup-forms","other"]\'\x3e\n                    \x3clabel\x3eList name or ID\x3c/label\x3e\n                    \x3cinput name\x3d"list" id\x3d"list" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Affected subscribers domain --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["list-imports","campaigns","reports","automation-rss","other"]\'\x3e\n                    \x3clabel\x3eAffected subscribers or domains\x3c/label\x3e\n                    \x3cinput name\x3d"affected" id\x3d"affected" type\x3d"text" class\x3d"full-width" /\x3e\n                    \x3cdiv class\x3d"field-help always-show"\x3eComma separate multiple addresses.\x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Form Url --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["signup-forms"]\'\x3e\n                    \x3clabel\x3eForm Url\x3c/label\x3e\n                    \x3cinput name\x3d"form_url" id\x3d"form_url" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Campaign name or ID --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["campaigns","reports","automation-rss","other"]\'\x3e\n                    \x3clabel\x3eCampaign name or ID\x3c/label\x3e\n                    \x3cinput name\x3d"campaign" id\x3d"campaign" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Template name or ID --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["templates"]\'\x3e\n                    \x3clabel\x3eTemplate name or ID\x3c/label\x3e\n                    \x3cinput name\x3d"template" id\x3d"template" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n         \x3c!-- Website Url --\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset data-topics\x3d\'["other"]\'\x3e\n                    \x3clabel\x3eWebsite Url\x3c/label\x3e\n                    \x3cinput name\x3d"website" id\x3d"website" type\x3d"text" class\x3d"full-width" /\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Upload screenshot --\x3e\n        \x3cdiv id\x3d"screenshotDiv" class\x3d"line !margin-bottom--lv5"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cfieldset\x3e\n                    \x3clabel\x3eUpload a screenshot (.jpg, .png, .gif)\x3c/label\x3e\n                    \x3cdiv class\x3d"faux-file-field full-width" style\x3d"padding-bottom:15px;"\x3e\n                        \x3cdiv class\x3d"faux-file !margin-bottom--lv1"\x3e\n                            \x3cbutton class\x3d"button"\x3eBrowse\x3c/button\x3e\n                            \x3cinput type\x3d"file" value\x3d"" onchange\x3d"mojo.utils.setCleanFileName(this);" name\x3d"screenshot" id\x3d"screenshot" accept\x3d"image/*" /\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"faux-selected"\x3e\x26nbsp;\x3c/div\x3e\n                        \x3cdiv class\x3d"small-meta fwb"\x3e\n                            \x3ca target\x3d"_blank" href\x3d"http://kb.mailchimp.com/campaigns/previews-and-tests/if-you-need-to-send-a-screenshot-to-support"\x3eNeed help uploading a Screenshot?\x3c/a\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c!--Captcha--\x3e\n        \x3cdiv id\x3d"captcha-wrapper" class\x3d"line !margin-bottom--lv5 hide"\x3e\n            \x3cdiv id\x3d"captcha-container" class\x3d"lastUnit size1of1"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3c!--  Submit --\x3e\n        \x3cdiv class\x3d"line padding--lv5 !padding-left-right--lv0 !padding-top--lv0"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cbutton id\x3d"submit" class\x3d"button p0"\x3eSubmit Question\x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/form\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/DeliveryStatus.html":'\x3cdiv style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"line sub-section"\x3e\n        \x3cdiv class\x3d"lastUnit size1of1 alignc"\x3e\n            \x3cdiv class\x3d"delivery-insight border-radius--lv1 padding--lv6 bg-gray"\x3e\n                \x3cdiv class\x3d"progress !margin-bottom--lv1"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"progressMeterContainer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3ch4 data-dojo-attach-point\x3d"statusMessagePrimary" class\x3d"!margin-bottom--lv1"\x3e\x3c/h4\x3e\n                \x3cp data-dojo-attach-point\x3d"statusMessageSecondary" class\x3d"full-width" style\x3d"display:none;"\x3e\x3c/p\x3e\n                \x3cdiv data-dojo-attach-point\x3d"cancellationMessage" class\x3d"small-meta"\x3e\n                    \x3ca data-dojo-attach-point\x3d"cancelSendLink" style\x3d"outline:none;" href\x3d"javascript:;"\x3eNeed to stop this delivery?\x3c/a\x3e\n                    \x3cspan data-dojo-attach-point\x3d"whyNotCanCancelMessage"\x3e\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/ProgressCircle.html":'\x3cdiv class\x3d"line relative"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"progressCircle"\x3e\x3c/div\x3e\n    \x3cimg data-dojo-attach-point\x3d"successImage" src\x3d"/images/check.svg" alt\x3d"" width\x3d"${circleSize}" style\x3d"position: absolute; top: 0; left: 50%; margin-left: -36px; opacity: 0; transform: scale(0.3)"\x3e\n    \x3cimg data-dojo-attach-point\x3d"cancelImage" src\x3d"/images/cross.svg" alt\x3d"" width\x3d"${circleSize}" style\x3d"position: absolute; top: 0; left: 50%; margin-left: -36px; opacity: 0; transform: scale(0.3)"\x3e\n\x3c/div\x3e',
"url:mojo/app/templates/unpauseAutoresponderDialog.html":'\x3cdiv\x3e\n    \x3cp\x3e\n        Unpausing will send to {count} who signed up while the campaign was paused.\x3cbr/\x3e\n        Would you like to send to them also?\n    \x3c/p\x3e\n\n    \x3cdiv class\x3d"save-cancel-group"\x3e\n        \x3cbutton id\x3d"unpause-send" data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"button"\x3esend to {count}\x3c/button\x3e\n        \x3cbutton id\x3d"unpause-no-send" data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"button"\x3edon\'t send to {count}\x3c/button\x3e\n        \x3cbutton data-dojo-type\x3d"dijit/form/Button" type\x3d"button" class\x3d"button cancel-button"\x3ecancel\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/drillNav.html":'\x3cdiv\x3e\n    \x3cul data-dojo-attach-point\x3d"mainNav" class\x3d"drillnav block relative"\x3e\x3c/ul\x3e\n\x3c/div\x3e',"url:mojo/widgets/templates/EmojiPicker.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"fauxInput" class\x3d"faux-file" contenteditable style\x3d"padding-right:30px;"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"emojiDropDown" class\x3d"float-right emojibutton" data-dojo-type\x3d"dijit/form/DropDownButton" data-dojo-props\x3d\'dropDownPosition:["below-alt","above-alt","below","above"]\'\x3e\n        \x3cspan\x3e\x3ci class\x3d"esprite e-cat-icon e-mc-people"\x3e\x3c/i\x3e\x3c/span\x3e\n        \x3cdiv data-dojo-attach-point\x3d"emojiTooltip" data-dojo-type\x3d"dijit/TooltipDialog" position\x3d"[]" class\x3d"mc-dijitMenu emoji-pop"\x3e\n            \x3cdiv class\x3d"e-cat-nav" data-dojo-attach-point\x3d"catNavContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"emojiscroll" data-dojo-attach-point\x3d"catEmojiContainer"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/FilteredSearch.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"c-filteredSearch relative"\x3e\n        \x3cspan class\x3d"c-filteredSearch_icon freddicon search absolute dim3"\x3e\x3c/span\x3e\n        \x3clabel for\x3d"filtered-input-${id}" class\x3d"v-visuallyHidden"\x3e${placeholder}\x3c/label\x3e\n        \x3cinput id\x3d"filtered-input-${id}" type\x3d"search" name\x3d"filtered-search" data-dojo-attach-point\x3d"filteredInput" placeholder\x3d"${placeholder}" class\x3d"!margin-bottom--lv0"\x3e\n        \x3cimg class\x3d"c-filteredSearch_clear absolute hide" data-dojo-attach-point\x3d"filteredClear" src\x3d"/css/icons/clear-input-icon.svg" width\x3d"16" height\x3d"16" role\x3d"button"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/FixableWrapper.html":'\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/templates/HelpTip.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/form/DropDownButton" class\x3d"help help-tip margin--lv1 !margin-top-bottom--lv0 !margin-right--lv0"\x3e\n        \x3cdiv\x3e\n            \x3cspan class\x3d"freddicon info-circle margin--lv1 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\x3c/span\x3e\n            \x3cspan class\x3d"valign-top"\x3e${label}\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/TooltipDialog" class\x3d"help-tip-dialog" style\x3d"display:none;"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\n\trole\x3d"presentation"\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\n\t\t\t\t\t\x3e\x3c!-- attach-point for slider label--\x3e\x3cdiv data-dojo-attach-point\x3d"sliderComponents" class\x3d"dijitSliderMoveable dijitSliderMoveableH"\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\n\t\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3c/div\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\n\t\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\x3e\x3c/tr\n\t\x3e\x3ctr class\x3d"dijitReset"\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\n\t\x3e\x3c/tr\n\x3e\x3c/table\x3e\n',
"url:mojo/widgets/templates/ImportLoader.html":'\x3cdiv style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"!margin-bottom--lv5"\x3e\n        \x3cdiv class\x3d"alignc"\x3e\n            \x3cdiv class\x3d"delivery-insight border-radius--lv1 padding--lv6 bg-gray"\x3e\n                \x3cdiv class\x3d"progress !margin-bottom--lv1"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"progressMeterContainer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3ch4 data-dojo-attach-point\x3d"statusMessagePrimary" class\x3d"!margin-bottom--lv1"\x3e\x3c/h4\x3e\n                \x3cp data-dojo-attach-point\x3d"statusMessageSecondary" class\x3d"full-width" style\x3d"display:none;"\x3e\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/KbSearchContent.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"searchPanel"\x3e\n\n        \x3cform data-dojo-attach-point\x3d"searchForm" class\x3d"kb-search !margin-bottom--lv8" method\x3d"get"\x3e\n            \x3ch2 class\x3d"alignc !margin-bottom--lv4 fwb"\x3eSearch the Knowledge Base\x3c/h2\x3e\n\n            \x3c!-- BIG SEARCH CONTAINER --\x3e\n            \x3cdiv class\x3d"big-search-container relative !margin-bottom--lv3"\x3e\n                \x3c!-- BIG SEARCH FIELD --\x3e\n                \x3cinput data-dojo-attach-point\x3d"searchInput" name\x3d"kb-search" class\x3d"big-search-field !margin--lv0 full-width" type\x3d"search" tabIndex\x3d"0" autofocus\x3d"autofocus" placeholder\x3d"Search articles" /\x3e\n\n                \x3c!-- BIG SEARCH CONTROLS --\x3e\n                \x3cspan class\x3d"big-search-controls"\x3e\n                \x3cspan data-dojo-attach-point\x3d"clearIcon" class\x3d"freddicon cross clear-search hide cursor-pointer absolute"\x3e\x3c/span\x3e\n                \x3cbutton data-dojo-attach-point\x3d"searchIcon" type\x3d"submit" class\x3d"button freddicon solidsearch !margin--lv0"\x3e\x3c/button\x3e\n            \x3c/span\x3e\n\n                \x3c!-- LOADING SPINNER --\x3e\n                \x3cdiv class\x3d"loading-search hide padding--lv5 absolute" data-dojo-attach-point\x3d"searchLoader"\x3e\x3c/div\x3e\n            \x3c/div\x3e\x3c!-- /.big-search-container --\x3e\n        \x3c/form\x3e\n\n        \x3c!-- SEARCH FAILED --\x3e\n        \x3cdiv class\x3d"line section hide search-error"\x3e\n            \x3cdiv class\x3d"feedback-block error"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3cdiv class\x3d"media"\x3e\n                        \x3cdiv class\x3d"media-image"\x3e\n                            \x3cspan class\x3d"freddicon not-allowed"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"media-body"\x3e\n                            \x3ch4\x3eSomething went wrong.\x3c/h4\x3e\n                            \x3cp\x3eThere was an error processing the request.\x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- KB RESULTS --\x3e\n        \x3cdiv id\x3d"kb-results" class\x3d"line main-section" data-dojo-attach-point\x3d"resultsContainer"\x3e\n            \x3cdiv class\x3d"lastGroup size1of1 section"\x3e\n                \x3c!-- DIJIT TABS --\x3e\n                \x3cdiv class\x3d"line" data-dojo-attach-point\x3d"resultsList"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"contentPanel" class\x3d"global-search mc-small-content"\x3e\n        \x3ca class\x3d"p !margin-bottom--lv6" href\x3d"#" data-dojo-attach-point\x3d"backLink"\x3e\n            \x3cspan class\x3d"freddicon menu-left-on-left" role\x3d"presentation" aria-hidden\x3d"true"\x3e\x3c/span\x3eBack to Search\n        \x3c/a\x3e\n        \x3cdiv data-dojo-attach-point\x3d"contentContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/linkPicker.html":'\x3cfieldset\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n            \x3clabel\x3eLink to\x3c/label\x3e\n            \x3cselect class\x3d"!margin--lv0" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"linkType"\x3e\n                \x3coption value\x3d"regularLink"\x3eWeb address\x3c/option\x3e\n                \x3coption value\x3d"abandonCartLink"\x3eAbandoned cart page\x3c/option\x3e\n                \x3coption value\x3d"emailLink"\x3eEmail address\x3c/option\x3e\n                \x3coption value\x3d"anchorLink"\x3eAnchor link\x3c/option\x3e\n                \x3coption value\x3d"fileLink"\x3eFile\x3c/option\x3e\n                \x3coption value\x3d"landingPageLink"\x3eLanding page\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"linkType regularLink hide"\x3e\n            \x3clabel for\x3d"href_${id}"\x3eWeb address (URL)\x3c/label\x3e\n            \x3cinput type\x3d"url" data-dojo-attach-point\x3d"hrefInput" tabIndex\x3d"1" id\x3d"href_${id}" class\x3d"fullwidth full-width" /\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"linkType fileLink hide"\x3e\n            \x3clabel for\x3d"file_${id}"\x3eFile URL (\x3ca href\x3d"#" data-dojo-attach-point\x3d"changeFileLink"\x3eChange file\x3c/a\x3e)\x3c/label\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"fileUrlInput" id\x3d"file_${id}"/\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"linkType emailLink hide"\x3e\n            \x3clabel for\x3d"email_${id}"\x3eEmail address\x3c/label\x3e\n            \x3cinput type\x3d"email" data-dojo-attach-point\x3d"emailInput" id\x3d"email_${id}" class\x3d"fullwidth full-width" /\x3e\n            \x3clabel for\x3d"subject_${id}"\x3eMessage subject\x3c/label\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"subjectInput" id\x3d"subject_${id}" class\x3d"fullwidth full-width" /\x3e\n            \x3clabel for\x3d"emailBody_${id}"\x3eMessage body\x3c/label\x3e\n            \x3ctextarea style\x3d"height:50px;" data-dojo-attach-point\x3d"emailBodyInput" id\x3d"emailBody_${id}" class\x3d"fullwidth full-width"\x3e\x3c/textarea\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"linkType anchorLink hide"\x3e\n            \x3clabel for\x3d"anchorSelect_${id}"\x3eSelect an anchor to link to\x3c/label\x3e\n            \x3cselect data-dojo-attach-point\x3d"selectAnchor" id\x3d"anchorSelect_${id}" class\x3d"fullwidth full-width"\x3e\n                \x3coption value\x3d""\x3eYou have no anchors in your email\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"linkType landingPageLink hide"\x3e\n            \x3clabel for\x3d"landingPageSelect_${id}"\x3eSelect an Landing Page to link to\x3c/label\x3e\n            \x3cselect data-dojo-attach-point\x3d"selectLandingPage" data-dojo-type\x3d"dijit/form/Select" id\x3d"landingPageSelect_${id}" class\x3d"fullwidth full-width"\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n\n        \x3ca class\x3d"disclosure-closed inline-block-i normal-meta" data-dojo-attach-point\x3d"advancedToggle" href\x3d"#"\x3eAdvanced options\x3c/a\x3e\n\n        \x3cspan data-dojo-attach-point\x3d"removeLinkContainer"\x3e\n            \x3cspan class\x3d"normal-meta" style\x3d"padding:0 5px;"\x3e|\x3c/span\x3e\n            \x3ca href\x3d"#" class\x3d"normal-meta" data-dojo-attach-point\x3d"removeLink"\x3eRemove Link\x3c/a\x3e\n        \x3c/span\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"advancedOptions" class\x3d"padding--lv3 !padding-left-right--lv0" style\x3d"display:none"\x3e\n            \x3clabel class\x3d"checkbox" for\x3d"target_${id}"\x3e\n                \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"targetCheckbox" value\x3d"_blank" id\x3d"target_${id}" data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\n                Open in a new window\n             \x3c/label\x3e\n\n            \x3clabel for\x3d"title_${id}"\x3eTitle attribute\x3c/label\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"titleInput" id\x3d"title_${id}"\x3e\n\n            \x3clabel for\x3d"class_${id}"\x3eCSS class\x3c/label\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"linkClassInput" id\x3d"class_${id}"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar" data-dojo-attach-point\x3d"buttonGroup"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"saveBtn"\x3eInsert\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelBtn" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/fieldset\x3e\n',
"url:mojo/widgets/templates/MeterLarge.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"alignr !margin-bottom--lv1"\x3e\n        \x3cspan class\x3d"fwb small-meta float-left"\x3e${leftLabel}\x3c/span\x3e\n        \x3cspan class\x3d"fwb small-meta"\x3e${rightLabel}\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"meter meter--large !margin--lv0 !margin-bottom--lv1 overflow-visible" data-dojo-attach-point\x3d"meterBarNode"\x3e\n        \x3cdiv class\x3d"c-meterAverageRange absolute hide" style\x3d"left:65%; width:15%;" data-dojo-attach-point\x3d"meterAverage"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"meterFill c-meterToolTip overflow-visible" data-dojo-attach-point\x3d"meterFill" style\x3d"width: 0;"\x3e\n            \x3cdiv class\x3d"c-meterToolTip_bubble absolute v-bg-gray-dark border-radius--lv1 padding--lv2 !padding-top-bottom--lv0" data-dojo-attach-point\x3d"popover"\x3e\n                \x3cspan class\x3d"small-meta fwb valign-top v-textColorWhite v-textColorWhite--print"\x3e${label}\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/predicted-demographics/templates/predictedDemographics.html":'\x3cdiv class\x3d"border-gray border-radius--lv2 selfclear"\x3e\n    \x3cdiv class\x3d"line flex flex-stretch flex-col-tablet"\x3e\n        \x3cdiv class\x3d"unit size3of8 full-width-mobile border-bottom-tablet"\x3e\n            \x3cdiv class\x3d"line padding--lv5 !padding-left-right--lv0"\x3e\n                \x3c!-- Gender Widget --\x3e\n                \x3cdiv data-dojo-attach-point\x3d"genderChartContainer"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"lastUnit size5of8 full-width-mobile border-left noborder-tablet"\x3e\n            \x3cdiv class\x3d"line padding--lv5 !padding-left-right--lv0"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3c!-- Age Range Widget --\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"ageRangeChartContainer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/predicted-demographics/templates/genderChart.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"lastUnit size1of1 !margin-bottom--lv4"\x3e\n        \x3ch4 class\x3d"float-left !margin--lv0"\x3eGender\x3c/h4\x3e\n        \x3cdiv data-dojo-attach-point\x3d"metricToggler" class\x3d"float-right"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"lastUnit size1of1 !margin-bottom--lv4"\x3e\n        \x3cdiv id\x3d"genderChartContainer" data-dojo-attach-point\x3d"chartContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"lastUnit size7of8 size1of3@tablet size1of2@xlphone centered"\x3e\n        \x3cdiv id\x3d"genderLegendContainer" data-dojo-attach-point\x3d"chartLegend"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/predicted-demographics/templates/ageRangeChart.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"selfclear !margin-bottom--lv4"\x3e\n        \x3ch4 class\x3d"float-left !margin--lv0"\x3eAge Range\x3c/h4\x3e\n        \x3cdiv data-dojo-attach-point\x3d"metricToggler" class\x3d"float-right"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"chartContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mojo/widgets/predicted-demographics/templates/meterRow.html":'\x3cdiv class\x3d"flex c-inlineMeter !margin-bottom--lv2"\x3e\n    \x3cdiv class\x3d"flex c-inlineMeter_range"\x3e\n        \x3cp class\x3d"!margin--lv0 small-meta" data-dojo-attach-point\x3d"meterLabel"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"flex flex-auto padding--lv2 !padding-top-bottom--lv0"\x3e\n        \x3cdiv class\x3d"meter !margin-bottom--lv0 full-width"\x3e\n            \x3cdiv style\x3d"width:0%;" data-dojo-attach-point\x3d"meterContainer" class\x3d"flex full-height"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"flex c-inlineMeter_perc"\x3e\n        \x3cp class\x3d"!margin--lv0 fwb small-meta"\x3e\n            \x3cspan data-dojo-attach-point\x3d"meterValue"\x3e\x3c/span\x3e%\n        \x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/ProgressDots.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"text-align--center@tablet"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"progressContainer" class\x3d"c-progress overflow--visible inline-block"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/templates/segmentDial.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"segmentDial" class\x3d"full-width padding--lv3 !padding-left-right--lv0 border-bottom"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"mv-dial-info absolute full-width padding--lv6 !padding-left-right--lv0 fwb" style\x3d"top: 72px; left: 0"\x3e\n        \x3cspan data-dojo-attach-point\x3d"valueLabel" class\x3d"h1 block !margin--lv0"\x3e0\x3c/span\x3e\n        \x3cspan class\x3d"block !margin--lv0"\x3eCombinations\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"maxLabel" class\x3d"dim-el !margin--lv0 small-meta hide"\x3eMax\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"maxZeroLabel" class\x3d"dim-el !margin--lv0 small-meta"\x3eMax of ${maxValue}\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/segmentsDropdown.html":'\x3cdiv class\x3d"segment-block segment-field float-left"\x3e\n    \x3clabel for\x3d"segmentSelect" class\x3d"v-visuallyHidden"\x3eChoose a segment\x3c/label\x3e\n    \x3cselect data-dojo-attach-point\x3d"segmentSelect" id\x3d"segmentSelect" class\x3d"select-small !margin-bottom--lv0 hide"\x3e\x3c/select\x3e\n    \x3cp data-dojo-attach-point\x3d"noSegments" class\x3d"margin-bottom--lv0 hide"\x3eYou have no saved segments for this list. Would you like to \x3ca data-dojo-attach-point\x3d"createSegment" href\x3d"/lists/members?id\x3d{$list-\x3egetID()}\x26open_segment\x3d1"\x3ecreate one\x3c/a\x3e?\x3c/p\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/StatusBarActions.html":'\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"c-slatMeta_action flex flex-center flex-grow-none"\x3e\n    \x3c!-- Link - Finish later --\x3e\n    \x3cp data-dojo-attach-point\x3d"finishLater" class\x3d"hide c-slatButton alignc small-meta nowrap text-align--center white-space--nowrap"\x3e\n        \x3ca href\x3d"${rootUrl}campaigns"\x3eFinish later\x3c/a\x3e\n    \x3c/p\x3e\n\x3c/div\x3e',"url:mojo/widgets/templates/StatusBar.html":'\x3cdiv class\x3d"line border-bottom v-clearSafeAreaInset"\x3e\n    \x3cdiv class\x3d"c-statusBarContainer centered"\x3e\n        \x3cdiv class\x3d"c-slatMeta flex padding--lv2 !padding-left-right--lv0"\x3e\n            \x3cdiv class\x3d"c-slatMeta_info flex"\x3e\n                \x3cdiv class\x3d"c-slatInfoImage"\x3e\n                    \x3cdiv title\x3d"Editing" class\x3d"c-slatInfoIcon flex-self-center"\x3e\n                        \x3cdiv class\x3d"${icon.classes}"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-slatInfo flex"\x3e\n                    \x3cdiv class\x3d"c-slatInfoBody"\x3e\n                        \x3ch4 class\x3d"c-slatInfoStatus !margin--lv0 full-width font-weight--bold p"\x3e\n                            ${title}\n                            \x3cspan class\x3d"badge ${badge.type}"\x3e\n                                ${badge.label}\n                            \x3c/span\x3e\n                        \x3c/h4\x3e\n                        \x3cp class\x3d"c-slatInfoTitle !margin--lv0 small-meta dim-el"\x3e${label}\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"actionContainerDesktop" class\x3d"hide-phone c-slatMeta_action flex"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"actionsDesktop" class\x3d"flex flex-grow-none"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"actionContainerMobile" class\x3d"show-phone"\x3e\n                \x3cdiv class\x3d"border-top width--100 position--fixed bottom--0 left--0 zin-lv1 background-color--light"\x3e\n                    \x3cdiv class\x3d"padding--lv3 !padding-top-bottom--lv0"\x3e\n                        \x3cdiv class\x3d"c-slatMeta flex padding--lv2 !padding-left-right--lv0"\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"actionsMobile" class\x3d"c-slatMeta_action flex margin-top--lv0"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/SubscriberTableOverlay.html":'\x3cdiv class\x3d"subscriber-table-overlay-container c-baseOverlay selfclear" aria-hidden\x3d"true"\x3e\n\n    \x3c!-- CLOSE OVERLAY --\x3e\n    \x3cdiv title\x3d"Close menu" data-dojo-attach-point\x3d"closeButton" class\x3d"close-overlay close-right freddicon cross absolute cursor-pointer"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"subscriber-table-overlay-container selfclear visible opaque"\x3e\n\n        \x3cdiv class\x3d"padding--lv3"\x3e\n            \x3cdiv class\x3d"line"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3ch2 class\x3d"!margin-bottom--lv3" id\x3d"page-heading"\x3eSegmented Subscribers\x3c/h2\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"activity-t content"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"memberDescriptionContainer" class\x3d"lastUnit size1of1 margin-bottom--lv4"\x3e\n                \x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"memberGridContainer" id\x3d"member-grid"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/templates/listMembersTable.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"noData" class\x3d"hide"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dataTable" class\x3d"subscriber-table-wrap sub-section"\x3e\n        \x3cdiv class\x3d"subscriber-table full-width !margin-bottom--lv3"\x3e\n            \x3cdiv class\x3d"st fixed-header selfclear relative"\x3e\n                \x3cdiv class\x3d"full-width inner" data-dojo-attach-point\x3d"accessibleTableHeaderBody"\x3e\n                    \x3ctable class\x3d"table-header" role\x3d"presentation" data-dojo-attach-point\x3d"accessibleTableHeader"\x3e\x3c/table\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"st table-body selfclear relative"\x3e\n                \x3cdiv class\x3d"full-width inner" data-dojo-attach-point\x3d"accessibleTableBody"\x3e\n                    \x3ctable class\x3d"table-contents" data-dojo-attach-point\x3d"accessibleTable"\x3e\x3c/table\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"line overflow-visible table-pagination !margin-bottom--lv4 selfclear"\x3e\n            \x3cdiv class\x3d"unit size1of2 maintain-width nochange !margin-bottom--lv3"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"bottomPageSizeSelect"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"lastUnit size1of2 nochange alignr !margin-bottom--lv3"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"bottomPaging"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"subscriberTableOverlay" class\x3d"st-overlay"\x3e\n            \x3cdiv class\x3d"margin--lv8"\x3e\n                \x3cdiv class\x3d"alignc padding--lv6" data-dojo-attach-point\x3d"loaderDom"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/templates/table.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"line overflow-visible table-pagination"\x3e\n        \x3cdiv class\x3d"unit size1of2 maintain-width nochange !margin-bottom--lv3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"topPageSizeSelect"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"lastUnit size1of2 nochange alignr !margin-bottom--lv3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"topPaging"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3ctable class\x3d"mc-table !margin-bottom--lv3"\x3e\n            \x3cthead data-dojo-attach-point\x3d"header"\x3e\x3c/thead\x3e\n            \x3ctbody data-dojo-attach-point\x3d"body"\x3e\x3c/tbody\x3e\n        \x3c/table\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"line overflow-visible table-pagination"\x3e\n        \x3cdiv class\x3d"unit size1of2 maintain-width nochange !margin-bottom--lv3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"bottomPageSizeSelect"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"lastUnit size1of2 nochange alignr !margin-bottom--lv3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"bottomPaging"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/analytics/templates/noData.html":'\x3cdiv class\x3d"line section"\x3e\n    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3cdiv class\x3d"c-noDataBlock text-align--center border-gray border-radius--lv2"\x3e\n            \x3cdiv class\x3d"c-noDataBlock_icon" style\x3d"background-image: url(/css/icons/no-data/empty-general.svg)"\x3e\x3c/div\x3e\n            \x3ch2 class\x3d"c-noDataBlock_title"\x3eGoose egg\x3c/h2\x3e\n            \x3cp class\x3d"c-noDataBlock_message"\x3eNo subscribers match your selection.\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/parts/templates/paging.html":'\x3cdiv class\x3d"alignr selfclear"\x3e\n    \x3cdiv aria-label\x3d"Number of results" class\x3d"inline-block-i small-meta valign-middle padding--lv1 !padding-left-right--lv0 margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\n        \x3cspan class\x3d"fwb"\x3e\x3cspan data-dojo-attach-point\x3d"startLabel"\x3e1\x3c/span\x3e \x26ndash; \x3cspan data-dojo-attach-point\x3d"endLabel"\x3e1\x3c/span\x3e\x3c/span\x3e\n        \x3cspan\x3eof\x3c/span\x3e\n        \x3cspan class\x3d"fwb" data-dojo-attach-point\x3d"totalPagesLabel"\x3e1\x3c/span\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"float-right"\x3e\n        \x3cbutton aria-label\x3d"Previous results" data-dojo-attach-point\x3d"prevButton" class\x3d"button-small freddicon menu-left padding--lv1 !padding-top-bottom--lv0" title\x3d"Previous"\x3e\x3c/button\x3e\n        \x3cbutton aria-label\x3d"Next set of results" data-dojo-attach-point\x3d"nextButton" class\x3d"button-small freddicon menu-right !margin--lv0 padding--lv1 !padding-top-bottom--lv0" title\x3d"Next"\x3e\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/analytics/parts/templates/pageSizeSelect.html":'\x3cdiv\x3e\n    \x3cspan class\x3d"view-label small-meta hide-phone fwb margin--lv2 !margin-top-bottom--lv0 !margin-left--lv0"\x3eView\x3c/span\x3e\n    \x3cselect data-dojo-attach-point\x3d"pageOptions"\x3e\x3c/select\x3e\n\x3c/div\x3e',"url:mojo/analytics/parts/templates/visRowSelector.html":'\x3cdiv class\x3d"profile-select overflow-visible"\x3e\n    \x3cul class\x3d"hover-list click-to-open"\x3e\n        \x3cli\x3e\x3ca href\x3d"javascript:;"\x3e\x3c/a\x3e\n            \x3cul\x3e\n                \x3cli\x3e\n                    \x3ca href\x3d"#" id\x3d"bulk-action-selectall" data-dojo-attach-point\x3d"selectVisible" title\x3d"select all subscribers visible on this page"\x3eSelect Visible\x3c/a\x3e\n                \x3c/li\x3e\n                \x3cli\x3e\n                    \x3ca href\x3d"#" id\x3d"select-all-link" data-dojo-attach-point\x3d"selectAll" title\x3d"select all subscribers in all pages of this list or segment"\x3eSelect All\x3c/a\x3e\n                \x3c/li\x3e\n                \x3cli class\x3d"hide"\x3e\n                    \x3ca href\x3d"#" id\x3d"deselect-all-link" data-dojo-attach-point\x3d"deselectAll" \x3eDeselect All\x3c/a\x3e\n                \x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/Switch.html":'\x3cdiv class\x3d"${baseClass}" title\x3d"${title}"\x3e\n    \x3cdiv class\x3d"switch ${sizeClass}" data-dojo-attach-point\x3d"switchNode"\x3e\n        \x3cinput\n        ${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\n        class\x3d"dijitReset dijitCheckBoxInput"\n        data-dojo-attach-point\x3d"focusNode"\n        data-dojo-attach-event\x3d"ondijitclick:_onClick"\n        /\x3e\n        \x3clabel\x3e\x3cspan\x3e\x3c/span\x3e\x3c/label\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"switchDescription"\x3e\x3cp\x3e${description}\x3c/p\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/ThumbnailPreview.html":'\x3cdiv class\x3d"c-thumbnailPreview padding--lv1 v-textColorWhite border-gray border-radius--lv2 cursor-pointer position--relative overflow-hidden"\x3e\n  \x3cimg class\x3d"c-thumbnailPreview_image full-width" src\x3d"${imageUrl}" \x3e\n  \x3cdiv class\x3d"c-thumbnailPreview_overlay flex flex-center justify-content--center position--absolute top--0 left--0 full-width full-height zin-lv2"\x3e\n      \x3cdiv class\x3d"flex-grow-1 alignc" data-dojo-attach-point\x3d"containerNode"\x3e\n          \x3cspan class\x3d"freddicon search"\x3e\x3c/span\x3e\n          \x3cp class\x3d"!margin--lv0 small-meta flex-shrink flex-shrink-none"\x3e\x3cstrong\x3ePreview\x3c/strong\x3e\x3c/p\x3e\n      \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/variateDelayInput.html":'\x3cdiv\x3e\n    \x3cinput data-dojo-attach-point\x3d"valueInput" name\x3d"${name}" type\x3d"hidden" aria-hidden\x3d"true" value\x3d"${value}"\x3e\n\n    \x3cdiv class\x3d"selfclear"\x3e\n        \x3cdiv class\x3d"segment-block float-left"\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"delayInput" class\x3d"inline-block !margin--lv0" maxlength\x3d"3" style\x3d"width: 48px"\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"segment-block float-left"\x3e\n            \x3cselect data-dojo-attach-point\x3d"unitSelect" data-dojo-type\x3d"dijit/form/Select" class\x3d"select-small inline-block !margin--lv0"\x3e\n                \x3coption value\x3d"hour"\x3ehours\x3c/option\x3e\n                \x3coption value\x3d"day"\x3edays\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"inline-block hide" data-dojo-attach-point\x3d"errorContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n\n    \x3cdiv class\x3d"line selfclear field-help hide !margin-top--lv0" data-dojo-attach-point\x3d"delayMessage"\x3eWe recommend waiting at least 4 hours to gather all the results.\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/templates/variateSelector.html":'\x3cdiv class\x3d"flex-equal"\x3e\n    \x3cinput data-dojo-attach-point\x3d"variateName" name\x3d"${name}" type\x3d"hidden" aria-hidden\x3d"true" value\x3d"0"\x3e\n\n    \x3cdiv class\x3d"mv-option-select alignc padding--lv6 !padding-left-right--lv0 !padding-bottom--lv0 border-radius--lv2"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"variateSelect"\x3e\n            \x3cdiv\x3e\n                \x3cp class\x3d"freddicon add-circle !margin-bottom--lv1 !margin-right--lv0" role\x3d"presentation"\x3e\x3c/p\x3e\n                \x3cp class\x3d"fwb"\x3e${label}\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/a\x3e\n        \x3cp class\x3d"padding--lv3 !margin--lv0"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"variateControls" class\x3d"mv-option-control alignc padding--lv6 !padding-left-right--lv0 !padding-bottom--lv0 border-radius--lv2 bg-white absolute"\x3e\n        \x3cp data-dojo-attach-point\x3d"variateValue" class\x3d"mv-value fwb !margin-bottom--lv1"\x3e${minimum}\x3c/p\x3e\n\n        \x3cp class\x3d"fwb"\x3e${label}s\x3c/p\x3e\n\n        \x3cdiv class\x3d"mv-buttons line absolute full-width"\x3e\n            \x3cdiv class\x3d"flex"\x3e\n                \x3ca data-dojo-attach-point\x3d"variateMinus" href\x3d"#" class\x3d"mv-button mv-button--less flex-equal button border-radius--lv0 !margin--lv0 !padding--lv0" title\x3d"Decrease this variation count by one" aria-label\x3d"Click to decrease this variation count by one"\x3e\x3cspan class\x3d"freddicon minus-small !margin--lv0" role\x3d"presentation"\x3e\x3c/span\x3e\x3c/a\x3e\n                \x3ca data-dojo-attach-point\x3d"variatePlus" href\x3d"#" class\x3d"mv-button mv-button--more flex-equal button border-radius--lv0 !margin--lv0 !padding--lv0" title\x3d"Increase this variation count by one" aria-label\x3d"Click to increase this variation count by one"\x3e\x3cspan class\x3d"freddicon plus-small !margin--lv0" role\x3d"presentation"\x3e\x3c/span\x3e\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/variateWinner.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"selectionContainer" class\x3d"pick-final border-gray border-radius--lv2 alignc padding--lv4 !padding-left-right--lv0 hide"\x3e\n        \x3cp class\x3d"fwb full-width !margin--lv0 padding--lv6 !padding-left-right--lv0"\x3eWinning Combination\x3c/p\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"winnerContainer" class\x3d"test-winner border-top border-bottom padding--lv3 !padding-left-right--lv0 hide"\x3e\n        \x3cdiv class\x3d"media"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"screenshot" class\x3d"media-image border-gray" role\x3d"presentation" aria-hidden\x3d"true" style\x3d"width: 86px; height: 108px;"\x3e\x3c/div\x3e\n\n            \x3cdiv class\x3d"media-body"\x3e\n                \x3cdiv class\x3d"group size1of2"\x3e\n                    \x3ch4 class\x3d"!margin--lv0" data-dojo-attach-point\x3d"subject"\x3e\x3c/h4\x3e\n                    \x3cp class\x3d"!margin--lv0" data-dojo-attach-point\x3d"fromName"\x3e\x3c/p\x3e\n                    \x3cp class\x3d"fsi fwb small-meta dim-el" data-dojo-attach-point\x3d"contentDescription"\x3e\x3c/p\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"lastGroup size1of2 alignr left-on-small"\x3e\n                    \x3ca href\x3d"javascript:;" class\x3d"button p0 !margin--lv0" data-dojo-attach-point\x3d"sendBtn"\x3eSend to remaining recipients\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/callout.html":'\x3cdiv class\x3d"c-callout-card c-media card-content"\x3e\n    \x3cdiv class\x3d"c-mediaImage--centered v-isFreddicon margin--lv2 margin-top-bottom--lv0 margin-left--lv0"\x3e\n        \x3cspan class\x3d"freddicon ${icon} margin--lv1 margin-top-bottom--lv0"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"tipContainerNode" class\x3d"c-mediaBody--centered line-height--inherit"\x3e\n        \x3cp class\x3d"margin-bottom--lv0 small-meta link-underline"\x3e\n            \x3cspan class\x3d"fwb"\x3eTip:\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"containerNode"\x3e\x3c/span\x3e\n        \x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/tags/templates/tag-action-button.html":'\x3cli tabindex\x3d"1" data-dojo-attach-point\x3d"tagActionButton" class\x3d"keyable tag-action-button"\x3e\n    \x3cspan data-dojo-attach-point\x3d"hasIconContainer" class\x3d"icon-button hide"\x3e\n        \x3cspan data-dojo-attach-point\x3d"tagStateIconContainer" class\x3d"status-icon-container padding-right--lv1"\x3e\n            \x3cimg src\x3d"" data-dojo-attach-point\x3d"tagStateIcon" class\x3d"status-icon" /\x3e\n        \x3c/span\x3e\n        \x3cspan class\x3d"tag-text-container"\x3e${tagName}\x3c/span\x3e\n    \x3c/span\x3e\n    \x3cspan data-dojo-attach-point\x3d"noIconContainer" class\x3d"hide no-icon-button"\x3e\n        \x3cspan class\x3d"tag-text-container"\x3e${tagName}\x3c/span\x3e\n    \x3c/span\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/tags/templates/tag-badge.html":'\x3cli class\x3d"tag-badge c-tagList_item inline-block border-radius--lv1 valign-middle small-meta fwb" data-dojo-attach-point\x3d"tagButtonContainer"\x3e\n    \x3cdiv class\x3d"c-tagList_inner read-only-tag float-left padding--lv1 padding-top-bottom--lv0"\x3e\n        \x3cdiv class\x3d"c-tagList_label" data-dojo-attach-point\x3d"tagLabel"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cbutton class\x3d"c-tagList_remove float-left padding--lv1 padding-top-bottom--lv0 margin--lv0 hide" data-dojo-attach-point\x3d"deleteTagButton" tabindex\x3d"-1"\x3e\n        \x3cspan class\x3d"freddicon cross !margin-right--lv0"\x3e\x3c/span\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/tags/templates/tag-overlay.html":'\x3cdiv data-dojo-attach-point\x3d"overlayContainer" class\x3d"tag-overlay-container"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"taggingContainer"\x3e\n        \x3cdiv class\x3d"new-tag-input-container padding-left--lv3"\x3e\n            \x3cinput data-dojo-attach-point\x3d"tagInput" class\x3d"new-tag-input keyable" type\x3d"text" name\x3d"taginput" maxlength\x3d"100"\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"createNewContainer" class\x3d"hide padding--lv2 border-bottom"\x3e\n            \x3cp class\x3d"small-meta padding-left--lv2 !margin-bottom--lv0"\x3eCreate a New Tag:\x3c/p\x3e\n            \x3cp data-dojo-attach-point\x3d"newTagContainer" tabindex\x3d"1" class\x3d"tag-action-button keyable"\x3e\x3c/p\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"noTagsContainer" class\x3d"hide padding--lv2"\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/NoDataBlock" data-dojo-props\x3d"type: \'tags\'" class\x3d"noborder"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"noResultsContainer" class\x3d"hide padding--lv4"\x3e\n            \x3cp\x3eNo results to display\x3c/p\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"searchResultsContainer" class\x3d"hide padding--lv2"\x3e\n            \x3cdiv class\x3d"scrollable-tags-container"\x3e\n                \x3cp class\x3d"small-meta padding-left--lv2 !margin-bottom--lv0"\x3eChoose a Tag:\x3c/p\x3e\n                \x3cul data-dojo-attach-point\x3d"searchResultsList" tabindex\x3d"1" class\x3d"search-results-list padding-top--lv1"\x3e\x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"padding--lv2 !padding-left--lv4 border-top"\x3e\n            \x3ca class\x3d"keyable" data-dojo-attach-point\x3d"manageTagsButton" href\x3d"javascript:;"\x3eManage Tags\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"loadingContainer" class\x3d"hide padding--lv2"\x3e\n        \x3cdiv class\x3d"valign-middle loading-spinner" data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:25, strokeWidth:3"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/shareOverlay/templates/email-add-viewers.html":'\x3cdiv data-element\x3d"add-emails-container" style\x3d"display: block"\x3e\n\t\x3cp class\x3d"fwb !margin-bottom--lv1"\x3eAdd viewers\x3c/span\x3e\x3c/p\x3e\n\n    \x3cdiv class\x3d"!margin-bottom--lv1" data-dojo-attach-point\x3d"shareListContainer"\x3e\x3c/div\x3e\n\n    \x3cp class\x3d"small-meta fwb !margin-bottom--lv2"\x3e\n    \tEach viewer will receive an email with a secure link to this report.\n    \t\x3ca data-action\x3d"show-note" class\x3d"cursor-pointer"\x3eAdd Message (Optional)\x3c/a\x3e\n    \x3c/p\x3e\n    \n    \x3cfieldset data-element\x3d"email-note-text" style\x3d"display: none"\x3e\n        \x3clabel\x3eMessage\x3c/label\x3e\n        \x3ctextarea class\x3d"av-text !margin-bottom--lv1" name\x3d"share-note" data-dojo-attach-point\x3d"shareNote" placeholder\x3d"Check out this report from our MailChimp campaign."\x3e\x3c/textarea\x3e\n    \x3c/fieldset\x3e\n    \x3ca data-action\x3d"cancel-note" style\x3d"display: none" class\x3d"small-meta cursor-pointer fwb !margin-bottom--lv2"\x3eCancel Message\x3c/a\x3e\n\x3c/div\x3e',
"url:mojo/widgets/input/templates/shareList.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"field-wrapper condition-value"\x3e\n        \x3cdiv class\x3d"c-tagInput" tabindex\x3d"-1" data-dojo-attach-point\x3d"tagInputDom"\x3e\n            \x3cdiv class\x3d"c-tagListDropdown small-meta fwb textcolor absolute border-radius--lv0 padding--lv0" data-dojo-attach-point\x3d"operatorDom"\x3e\x3c/div\x3e\n            \x3cul class\x3d"c-tagList" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/ul\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"relative" data-dojo-attach-point\x3d"dropDownPopup" style\x3d"display: none;"\x3e\n        \x3cdiv class\x3d"absolute !margin-bottom--lv6 full-width zin-lv4 bg-white border-radius--lv2 border-gray popover-shadow" style\x3d"max-height: 300px; overflow-y: scroll"\x3e\n        \x3cul class\x3d"regular popover-shadow" data-dojo-attach-point\x3d"selectOptions"\x3e\x3c/ul\x3e\n\n            \x3cul data-dojo-attach-point\x3d\'getGoogleData\' class\x3d"media-list v-bg-base-gray padding--lv2 textcolor cursor-pointer" style\x3d"border-radius: 0px 0px 6px 6px; display: none"\x3e\n                \x3cli\x3e\n                    \x3ca data-dojo-attach-point\x3d\'googleAuthLink\' href\x3d"#" class\x3d"textcolor"\x3e\n                        \x3cdiv class\x3d"media"\x3e\n                            \x3cdiv class\x3d"media-image"\x3e\n                                \x3cimg height\x3d"48" width\x3d"48" src\x3d"/images/icons/Google_Contacts_logo.png"\x3e\n                            \x3c/div\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"googleText" class\x3d"media-body"\x3e\n                                \x3cspan class\x3d\'fwb block\'\x3eImport Google Contacts\x3c/span\x3e\n                                \x3cspan\x3eShare this with contacts from your Google account.\x3c/span\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/a\x3e\n                \x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cinput type\x3d"hidden" data-dojo-attach-point\x3d"emailListInput" name\x3d"emails" /\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/input/templates/shareListOption.html":'\x3cli\x3e\n    \x3ca data-dojo-attach-point\x3d"anchor" class\x3d"!margin--lv0" href\x3d"javascript:;" dropdown-option\x3d"true"\x3e\n        \x3cspan data-dojo-attach-point\x3d"boldText" class\x3d"fwb inline-block"\x3e\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"subText"\x3e\x3c/span\x3e\n    \x3c/a\x3e\n\x3c/li\x3e\n',"url:mojo/widgets/shareOverlay/templates/email-manage-viewers.html":'\n\x3cdiv class\x3d"!margin-bottom--lv3 full-width float-left"\x3e\n\t\x3cp class\x3d"fwb large-meta"\x3eYour report has been shared with:\x3c/p\x3e\n\n\t\x3chr class\x3d"!margin-bottom--lv2" /\x3e\n\n\t\x3cul class\x3d"!margin-bottom--lv1" data-dojo-attach-point\x3d"listOfViewers"\x3e\n\t    \x3c!-- filled with viewers by JS --\x3e\n\t\x3c/ul\x3e\n\n\t\x3chr class\x3d"full-width" /\x3e\n\x3c/div\x3e',
"url:mojo/widgets/shareOverlay/templates/email-viewer.html":'\x3cli class\x3d"full-width float-left"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"displayMode"\x3e\n\t\t\x3cdiv class\x3d"float-left display-inline-block"\x3e\n\t\t\t\x3cdiv class\x3d"block"\x3e\n\t\t\t\t\x3cstrong data-dojo-attach-point\x3d"boldText"\x3e\x3c/strong\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"lightText"\x3e\x3c/span\x3e\n\t\t\t\x3c/div\x3e\n\n\t\t\t\x3cdiv class\x3d"!margin-bottom--lv2 block small-meta"\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"statusFreddicon" class\x3d""\x3e\x3c/span\x3e\n\t\t\t\t\x3cspan data-dojo-attach-point\x3d"statusText"\x3e\x3c/span\x3e\n\t\t\t\t\x3ca data-dojo-attach-point\x3d"resendReportLink" data-action\x3d"resend-report" class\x3d"cursor-pointer" style\x3d"display: none"\x3eResend report.\x3c/a\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e\n\n\t\t\x3cdiv class\x3d"float-right display-inline-block"\x3e\n\t\t\t\x3ca data-action\x3d"revoke-share" data-dojo-attach-point\x3d"revokeAccessLink" class\x3d"underline cursor-pointer"\x3eRevoke Access\x3c/a\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\n\t\x3cdiv data-dojo-attach-point\x3d"revokeMode" style\x3d"display: none"\x3e\n\t\t\x3cp\x3eReport access for \x3cstrong data-dojo-attach-point\x3d"revokedEmail"\x3e\x3c/strong\x3e has been revoked.\x3c/p\x3e\n\t\x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/widgets/shareOverlay/templates/permissions-sharing.html":' \x3cdiv class\x3d"!margin-bottom--lv3"\x3e\n    \x3cdiv style\x3d"display: block;"\x3e\n        \x3cfieldset\x3e\n            \x3clabel class\x3d"fwb !margin-bottom--lv1 !padding--lv0 inline-block float-left"\x3eSet password\x3c/label\x3e\n\n            \x3cdiv class\x3d"float-right"\x3e\n                \x3ca data-action\x3d"toggle-password-visibility" class\x3d"c-showPassword c-showPassword--showIcon fwb !margin-bottom--lv1 inline-block relative cursor-pointer"\x3eShow\x3c/a\x3e\n            \x3c/div\x3e\n\n            \x3cinput data-dojo-attach-point\x3d"passwordInput" type\x3d"password" class\x3d"av-text !margin-bottom--lv1" placeholder\x3d"" /\x3e\n\n            \x3cdiv class\x3d"feedback-block warning section hide" role\x3d"status" data-dojo-attach-point\x3d"passChangeWarning"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                            \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                            \x3ch4\x3eAre you sure you want to change the report password?\x3c/h4\x3e\n                            \x3cp\x3eChanging the password will affect all previous shares. You will need to individually email previous viewers with the new password.\n                            \x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cp class\x3d"small-meta fwb"\x3eWe\'ll share the password when we send the report to your viewers.\x3c/p\x3e\n\n        \x3c/fieldset\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/shareOverlay/templates/social-sharing.html":'\x3cdiv\x3e\n    \x3cp class\x3d"fwb !margin-bottom--lv2"\x3eSocial Sharing\x3c/span\x3e\x3c/p\x3e\n\n    \x3cdiv\x3e\n        \x3ca class\x3d"button" href\x3d"" target\x3d"_blank" data-dojo-attach-point\x3d"shareFacebook"\x3eFacebook\x3c/a\x3e\n        \x3ca class\x3d"button" href\x3d"" target\x3d"_blank" data-dojo-attach-point\x3d"shareTwitter"\x3eTwitter\x3c/a\x3e\n        \x3ca class\x3d"button" href\x3d"" target\x3d"_blank" data-dojo-attach-point\x3d"sharePinterest"\x3ePintrest\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/shareOverlay/templates/share-overlay.html":'\x3cdiv data-element\x3d"share-overlay" class\x3d"c-baseOverlay selfclear" aria-hidden\x3d"true"\x3e\n\n    \x3c!-- CLOSE OVERLAY --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"closeButton" title\x3d"Close menu" class\x3d"close-overlay close-right freddicon cross absolute cursor-pointer"\x3e\x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"viewContainer" class\x3d"mc-small-content centered"\x3e\n\n        \x3c!-- Overlay header --\x3e\n        \x3cdiv\x3e\n            \x3ch1 class\x3d"alignc !margin-bottom--lv0 fwb capitalize"\x3e\n                Share \x3cspan data-document-type\x3d"unset"\x3eDocument\x3c/span\x3e\n            \x3c/h1\x3e\n            \x3cp class\x3d"alignc dim-el !margin-bottom--lv6"\x3e\n                \x3cspan class\x3d"fwb"\x3eCampaign: \x3c/span\x3e\x3cspan data-dojo-attach-point\x3d"title"\x3eDocument Title\x3c/span\x3e\n                \x3cbr /\x3e\n                \x3cspan class\x3d"fwb"\x3eSent on: \x3c/span\x3e\x3cspan data-dojo-attach-point\x3d"sendTime"\x3e\x3c/span\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n        \x3c!-- end header --\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"successBlock" class\x3d"feedback-block success section" style\x3d"display: none" role\x3d"status"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv class\x3d"c-media"\x3e\n                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                        \x3cspan class\x3d"freddicon tick-circle"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                        \x3ch4\x3eYour report has been sent!\x3c/h4\x3e\n                        \x3cp\x3eYou can manage or add viewers from this page.\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"errorBlock" class\x3d"feedback-block error section" style\x3d"display: none" role\x3d"status"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv class\x3d"c-media"\x3e\n                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                        \x3cspan class\x3d"freddicon not-allowed"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                        \x3ch4\x3eUh oh, something went wrong!\x3c/h4\x3e\n                        \x3cp data-dojo-attach-point\x3d"errorText"\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Dynamically loaded widgets based on resource type --\x3e\n        \x3cdiv data-mc-group\x3d"overlay-content"\x3e\n            \n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/shareOverlay/templates/share-overlay-caller.html":'\x3cspan data-dojo-attach-point\x3d"containerNode"\x3e\x3c/span\x3e',"url:mojo/widgets/input/templates/availableFieldInput.html":'\x3cdiv class\x3d"line field ${fieldDndClasses}" data-mc-container\x3d"field"\x3e\n    \x3cdiv class\x3d"group size2of3"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"dndHandle" class\x3d"dojoDndHandle move-handle freddicon vellip float--left" aria-label\x3d"Drag fields to change order in signup form." draggable\x3d"true"\x3e\x3c/div\x3e\n        \x3clabel class\x3d"checkbox inline-block"\x3e\n            \x3c!-- TODO: address field type\x3dgroup  --\x3e\n            \x3cinput name\x3d"fields[]" data-dojo-attach-point\x3d"selectCheckbox" data-mc-field-selector checked\x3d"${isSelected}" data-field-type\x3d"${fieldType}" data-field-key\x3d"${model._postKeyId}" type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" value\x3d"${model.name}"\x3e ${model.label} \x3cspan data-dojo-attach-point\x3d"groupLabel" class\x3d"block group-label"\x3eGroup\x3c/span\x3e\n        \x3c/label\x3e\n\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"requiredSwitch" class\x3d"lastGroup size1of3"\x3e\n        \x3cinput type\x3d"checkbox" checked\x3d"${model.required}" disabled\x3d"${isDisabled}" data-mc-required-selector data-dojo-type\x3d"mojo/widgets/Switch" data-dojo-props\x3d"sizeClass:\'switch-small\'"/\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"field-drop selfclear"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/input/templates/backgroundInput.html":'\x3cdiv class\x3d"line style-field"\x3e\n\n    \x3clabel\x3eBackground\x3c/label\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"noImageContainer"\x3e\n        \x3cp class\x3d"c-paneLabel--small"\x3e\n            Color\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"chooseImageLink" class\x3d"fwb noborder margin--lv2 margin-top-bottom--lv0 margin-right--lv0"\x3eAdd an image instead\x3c/a\x3e\n        \x3c/p\x3e\n\n        \x3cdiv data-dojo-type\x3d"mojo/widgets/input/Color"\n             data-dojo-attach-point\x3d"colorInput"\n             data-dojo-props\x3d"skipContainer:true, valueOnEmpty:\'transparent\', noColorEnabled: true"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"withImageContainer" class\x3d"hide"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"imageRowNode"\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/input/BackgroundImage"\n                 data-dojo-attach-point\x3d"imageInput"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"imageInputContainer" class\x3d"style-field"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"sizeNode" class\x3d"unit size1of3 padding-left--lv0"\x3e\n                \x3cp class\x3d"c-paneLabel--small"\x3eSize\x3c/p\x3e\n\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/input/BackgroundSize"\n                     data-dojo-attach-point\x3d"sizeInput"\n                     data-dojo-props\x3d"skipContainer:true, class:\'!margin--lv0\'"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"positionNode" class\x3d"unit size1of3 padding-left--lv0"\x3e\n                \x3cp class\x3d"c-paneLabel--small"\x3ePosition\x3c/p\x3e\n\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/input/BackgroundPosition"\n                     data-dojo-attach-point\x3d"positionInput"\n                     data-dojo-props\x3d"skipContainer:true, class:\'!margin--lv0\'"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"repeatNode" class\x3d"lastUnit size1of3 padding-left--lv0"\x3e\n                \x3cp class\x3d"c-paneLabel--small"\x3eRepeat\x3c/p\x3e\n\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/input/BackgroundRepeat"\n                     data-dojo-attach-point\x3d"repeatInput"\n                     data-dojo-props\x3d"skipContainer:true, class:\'!margin--lv0\'"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"fallbackColorNode" class\x3d"margin-bottom--lv1"\x3e\n            \x3cp class\x3d"c-paneLabel--small"\x3eFallback color\x3c/p\x3e\n\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/input/Color"\n                 data-dojo-attach-point\x3d"fallbackColorInput"\n                 data-dojo-props\x3d"skipContainer:true, valueOnEmpty:\'transparent\', noColorEnabled: true" class\x3d"margin-bottom--lv1"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"fallbackColorKB" class\x3d"field-help margin--lv0"\x3e\n                \x3cspan class\x3d"block"\x3eUsed if background images are \x3ca href\x3d"http://kb.mailchimp.com/campaigns/design/add-a-background-image-to-a-campaign#About-Background-Images" target\x3d"_blank"\x3enot supported\x3c/a\x3e.\x3c/span\x3e\n                \x3cspan class\x3d"block"\x3eChoose a color that will display your text properly.\x3c/span\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/input/templates/backgroundImageInput.html":'\x3cdiv class\x3d"style-field selfclear style-backgroundimage"\x3e\n    \x3cp class\x3d"c-paneLabel--small"\x3e\n        Image\n        \x3ca href\x3d"#" class\x3d"fwb noborder fwb noborder margin--lv2 margin-top-bottom--lv0 margin-right--lv0 hide" data-dojo-attach-point\x3d"removeLink"\x3eRemove image\x3c/a\x3e\n    \x3c/p\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"imageRowContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mojo/neapolitan/widgets/templates/imageRow.html":'\x3cdiv class\x3d"relative dojoDndItem" dndType\x3d"dndImageListItem"\x3e\n    \x3cdiv class\x3d"mojoImageItem"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"dndHandle" class\x3d"hide mojoItemListItemHandle dojoDndHandle padding--lv2 absolute hide-dnd-avatar" title\x3d"Drag to Sort"\x3e\n            \x3cspan class\x3d"freddicon vellip"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"c-media"\x3e\n\n            \x3cdiv class\x3d"c-mediaImage"\x3e\n                \x3cimg data-dojo-attach-point\x3d"imageNode" class\x3d"mojoImageItemIcon" src\x3d"/images/icons/empty-image.svg"\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"c-mediaBody"\x3e\n                \x3cp class\x3d"!margin-bottom--lv0 fwb overflow-ellipsis breakall wsnormal" data-dojo-attach-point\x3d"titleNode"\x3e\x3c/p\x3e\n                \x3cp class\x3d"!margin-bottom--lv0 small-meta overflow-ellipsis" data-dojo-attach-point\x3d"subtitleNode"\x3e\x3c/p\x3e\n                \x3cp class\x3d"!margin-bottom--lv0 small-meta overflow-ellipsis" data-dojo-attach-point\x3d"dimensionNode"\x3e\x3c/p\x3e\n\n                \x3cul data-dojo-attach-point\x3d"actionList" class\x3d"linear-list dots small-meta fwb selfclear hide-dnd-avatar"\x3e\x3c/ul\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"altTextContainer" class\x3d"imageAlt selfclear hide margin--lv2 !margin-left-right--lv0 hide-dnd-avatar"\x3e\n                    \x3clabel for\x3d"imagealt_${id}"\x3eImage Alt-Text \x3cspan class\x3d"small-meta"\x3e(\x3ca href\x3d"http://kb.mailchimp.com/article/what-is-alt-text" target\x3d"_blank"\x3eWhat\'s this?\x3c/a\x3e)\x3c/span\x3e\x3c/label\x3e\n\n                    \x3cinput data-dojo-attach-point\x3d"altTextInput" type\x3d"text" class\x3d"float-left altTextInput !margin-bottom--lv0" style\x3d"width:60%;" id\x3d"imagealt_${id}" value\x3d""\x3e\n\n                    \x3ca data-dojo-attach-point\x3d"altTextBtn" class\x3d"button float-left margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0" href\x3d"#"\x3eUpdate\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"feedbackContainer" class\x3d"feedback-block warning margin--lv2 !margin-left-right--lv0 hide-dnd-avatar hide" role\x3d"status"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv class\x3d"c-media"\x3e\n                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                        \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                        \x3cp data-dojo-attach-point\x3d"feedbackNode"\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"uploadOverlay" class\x3d"mojoImageListOverlay alignc absolute pos-tb0 pos-lr0 padding--lv5 !padding-left-right--lv0"\x3e\n        \x3cp class\x3d"!margin--lv0 full-width fwb dim-el"\x3eHang on, we\'re uploading here...\x3c/p\x3e\n        \x3cimg src\x3d"/images/loading_bar.gif" class\x3d"border-radius--lv1" /\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:mojo/neapolitan/widgets/templates/imageRowMobile.html":'\x3cdiv class\x3d"relative dojoDndItem mojoItems--mobile" dndType\x3d"dndImageListItem"\x3e\n    \x3cdiv class\x3d"mojoImageItem"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"flex-auto text-align--center"\x3e\n                \x3cimg data-dojo-attach-point\x3d"imageNode" class\x3d"max-width--50" src\x3d"/images/icons/empty-image.svg"\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"padding-top--lv2 text-align--center"\x3e\n            \x3cp class\x3d"full-width !margin-bottom--lv0 fwb overflow-ellipsis breakall wsnormal" data-dojo-attach-point\x3d"titleNode"\x3e\x3c/p\x3e\n            \x3cp class\x3d"full-width !margin-bottom--lv0 small-meta overflow-ellipsis" data-dojo-attach-point\x3d"subtitleNode"\x3e\x3c/p\x3e\n            \x3cp class\x3d"full-width !margin-bottom--lv0 small-meta overflow-ellipsis" data-dojo-attach-point\x3d"dimensionNode"\x3e\x3c/p\x3e\n\n\n            \x3cdiv data-dojo-attach-point\x3d"altTextContainer" class\x3d"imageAlt selfclear hide margin--lv2 !margin-left-right--lv0 hide-dnd-avatar text-align--left"\x3e\n                \x3clabel for\x3d"imagealt_${id}"\x3eImage Alt-Text\x3c/label\x3e\n\n                \x3cinput data-dojo-attach-point\x3d"altTextInput" type\x3d"text" class\x3d"float-left altTextInput !margin-bottom--lv0" style\x3d"width:60%;" id\x3d"imagealt_${id}" value\x3d""\x3e\n\n                \x3ca data-dojo-attach-point\x3d"altTextBtn" class\x3d"button float-left margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0" href\x3d"#"\x3eUpdate\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"actionList" class\x3d"flex-row flex-between padding-top--lv2"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"feedbackContainer" class\x3d"feedback-block warning margin--lv2 !margin-left-right--lv0 hide-dnd-avatar hide" role\x3d"status"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv class\x3d"c-media"\x3e\n                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                        \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                        \x3cp data-dojo-attach-point\x3d"feedbackNode"\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"uploadOverlay" class\x3d"mojoImageListOverlay alignc absolute pos-tb0 pos-lr0 padding--lv5 !padding-left-right--lv0"\x3e\n        \x3cp class\x3d"!margin--lv0 full-width fwb dim-el"\x3eHang on, we\'re uploading here...\x3c/p\x3e\n        \x3cimg src\x3d"/images/loading_bar.gif" class\x3d"border-radius--lv1" /\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:mojo/widgets/input/templates/dateTime.html":'\x3cdiv\x3e\n    \x3c!--True date value --\x3e\n    \x3cinput type\x3d"hidden" name\x3d"${name}" value\x3d"${value}" data-dojo-attach-point\x3d"formInput"\x3e\n\n    \x3cdiv class\x3d"inline-block margin--lv3 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\n        \x3clabel for\x3d"${id}_datebox"\x3e${label}\x3c/label\x3e\n        \x3cinput id\x3d"${id}_datebox" type\x3d"text" required\x3d"true" data-dojo-attach-point\x3d"dateInput"\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"inline-block"\x3e\n        \x3cdiv class\x3d"schedule-meta !padding--lv0"\x3e\n\n            \x3cselect data-dojo-attach-point\x3d"hourSelect" class\x3d"select-small" style\x3d"width:auto"\x3e\n                \x3coption value\x3d"1"\x3e1\x3c/option\x3e\n                \x3coption value\x3d"2"\x3e2\x3c/option\x3e\n                \x3coption value\x3d"3"\x3e3\x3c/option\x3e\n                \x3coption value\x3d"4"\x3e4\x3c/option\x3e\n                \x3coption value\x3d"5"\x3e5\x3c/option\x3e\n                \x3coption value\x3d"6"\x3e6\x3c/option\x3e\n                \x3coption value\x3d"7"\x3e7\x3c/option\x3e\n                \x3coption value\x3d"8"\x3e8\x3c/option\x3e\n                \x3coption value\x3d"9"\x3e9\x3c/option\x3e\n                \x3coption value\x3d"10"\x3e10\x3c/option\x3e\n                \x3coption value\x3d"11"\x3e11\x3c/option\x3e\n                \x3coption value\x3d"12"\x3e12\x3c/option\x3e\n            \x3c/select\x3e\n\n            \x3cspan class\x3d"p inline-block-i"\x3e:\x3c/span\x3e\n\n            \x3cselect data-dojo-attach-point\x3d"minuteSelect" class\x3d"select-small" style\x3d"width:auto"\x3e\x3c/select\x3e\n\n            \x3cselect data-dojo-attach-point\x3d"meridiemSelect" class\x3d"select-small" style\x3d"width:auto"\x3e\n                \x3coption value\x3d"AM"\x3eAM\x3c/option\x3e\n                \x3coption value\x3d"PM"\x3ePM\x3c/option\x3e\n            \x3c/select\x3e\n\n            \x3cspan style\x3d"display:inline-block; margin: 0"\x3e${tzLabel}\x3c/span\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dojox/form/resources/_CheckedMultiSelectMenuItem.html":'\x3ctr class\x3d"dijitReset dijitMenuItem" dojoAttachPoint\x3d"focusNode" role\x3d"menuitemcheckbox" tabIndex\x3d"-1"\n\tdojoAttachEvent\x3d"ondijitclick:_onClick"\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\n\t\t\x3e\x3cdiv src\x3d"${_blankGif}" alt\x3d"" class\x3d"dijitMenuItemIcon ${_iconClass}" dojoAttachPoint\x3d"iconNode"\n\t\t\t\x3e\x3cinput class\x3d"dojoxCheckedMultiSelectCheckBoxInput" dojoAttachPoint\x3d"inputNode" type\x3d"${_type.type}"\n\t\t/\x3e\x3c/div\x3e\x3c/td\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" dojoAttachPoint\x3d"containerNode,labelNode"\x3e\x3c/td\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" dojoAttachPoint\x3d"accelKeyNode"\x3e\x3c/td\n\t\x3e\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\x26nbsp;\x3c/td\n\x3e\x3c/tr\x3e',
"url:dojox/form/resources/_CheckedMultiSelectItem.html":'\x3cdiv class\x3d"dijitReset ${baseClass}"\n\t\x3e\x3cinput class\x3d"${baseClass}Box" data-dojo-type\x3d"dijit.form.CheckBox" data-dojo-attach-point\x3d"checkBox" \n\t\tdata-dojo-attach-event\x3d"_onClick:_changeBox" type\x3d"${_type.type}" data-dojo-props\x3d\'disabled:${disabled}, readOnly:${readOnly}\' baseClass\x3d"${_type.baseClass}"\n\t/\x3e\x3cdiv class\x3d"dijitInline ${baseClass}Label" data-dojo-attach-point\x3d"labelNode" data-dojo-attach-event\x3d"onclick:_onClick"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dojox/form/resources/CheckedMultiSelect.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}"\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"comboButtonNode"\n\t\x3e\x3c/div\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"selectNode" class\x3d"dijit dijitReset dijitInline ${baseClass}Wrapper" data-dojo-attach-event\x3d"onmousedown:_onMouseDown,onclick:focus"\n\t\t\x3e\x3cselect class\x3d"${baseClass}Select dojoxCheckedMultiSelectHidden" multiple\x3d"true" data-dojo-attach-point\x3d"containerNode,focusNode"\x3e\x3c/select\n\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"wrapperDiv"\x3e\x3c/div\n\t\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mojo/widgets/input/templates/fontInput.html":'\x3cdiv class\x3d"line mojoFontInput"\x3e\n    \x3cdiv class\x3d"flex flex-row hide" data-dojo-attach-point\x3d"familyContainer"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"flex flex-row hide" data-dojo-attach-point\x3d"sizeColorContainer"\x3e\n        \x3cdiv class\x3d"margin--lv3 margin-top-bottom--lv0 margin-left--lv0 hide" data-dojo-attach-point\x3d"sizeContainer"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"colorContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"flex flex-row hide" data-dojo-attach-point\x3d"styleAlignContainer"\x3e\n        \x3cdiv class\x3d"margin--lv3 margin-top-bottom--lv0 margin-left--lv0 hide" data-dojo-attach-point\x3d"styleContainer"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"alignContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"flex flex-row hide" data-dojo-attach-point\x3d"lineHeightSpacingContainer"\x3e\n        \x3cdiv class\x3d"flex-grow-1 margin--lv3 margin-top-bottom--lv0 margin-left--lv0 hide"\n             data-dojo-attach-point\x3d"lineHeightContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"flex-grow-1 margin--lv3 margin-top-bottom--lv0 margin-left--lv0 hide"\n            data-dojo-attach-point\x3d"spacingContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/widgets/input/templates/optGroupLabel.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n    \x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n        \x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n    \x3c/td\x3e\n    \x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n        \x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel padding--lv2 padding-left-right--lv0"\x3e\n            \x3cspan class\x3d"font-weight--bold small-meta dim6 padding--lv3 padding-top-bottom--lv0"\x3e${label}\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n    \x3c/td\x3e\n\x3c/tr\x3e\n',
"url:mojo/widgets/input/templates/fontSize.html":'\x3cdiv class\x3d"mojoFontSizeInput relative"\x3e\n    \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"textInput"/\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"_buttonNode" class\x3d"absolute button mojoFontSizeInput_button"\x3e\n        \x3cdiv class\x3d"freddicon menu-down !margin--lv0 valign-middle" role\x3d"presentation"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/input/templates/textAlignInput.html":'\x3cdiv class\x3d"lastGroup size1of1"\x3e\n\n    \x3cdiv class\x3d"flex"\x3e\n        \x3cinput type\x3d"radio" class\x3d"v-visuallyHidden v-buttonGroupControl" id\x3d"${id}_left" name\x3d"${name}" value\x3d"left"\x3e\n        \x3clabel for\x3d"${id}_left" class\x3d"v-buttonGroupLabel"\x3e\n            \x3cspan class\x3d"freddicon left-align" aria-label\x3d"Left align" role\x3d"img"\x3e\x3c/span\x3e\n        \x3c/label\x3e\n\n        \x3cinput type\x3d"radio" class\x3d"v-visuallyHidden v-buttonGroupControl" id\x3d"${id}_center" name\x3d"${name}" value\x3d"center"\x3e\n        \x3clabel for\x3d"${id}_center" class\x3d"v-buttonGroupLabel"\x3e\n            \x3cspan class\x3d"freddicon center-align" aria-label\x3d"Center align" role\x3d"img"\x3e\x3c/span\x3e\n        \x3c/label\x3e\n\n        \x3cinput type\x3d"radio" class\x3d"v-visuallyHidden v-buttonGroupControl" id\x3d"${id}_right" name\x3d"${name}" value\x3d"right"\x3e\n        \x3clabel for\x3d"${id}_right" class\x3d"v-buttonGroupLabel"\x3e\n            \x3cspan class\x3d"freddicon right-align" aria-label\x3d"Right align" role\x3d"img"\x3e\x3c/span\x3e\n        \x3c/label\x3e\n\n        \x3cinput type\x3d"radio" class\x3d"v-visuallyHidden v-buttonGroupControl" id\x3d"${id}_justify" name\x3d"${name}" value\x3d"justify"\x3e\n        \x3clabel for\x3d"${id}_justify" class\x3d"v-buttonGroupLabel"\x3e\n            \x3cspan class\x3d"freddicon justify" aria-label\x3d"Justify" role\x3d"img"\x3e\x3c/span\x3e\n        \x3c/label\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/input/templates/tagAutocomplete.html":'\x3cli class\x3d"c-tagList_item view-mode relative inline-block border-radius--lv1 valign-middle small-meta fwb textcolor selfclear" data-dojo-attach-point\x3d"tagDom"\x3e\n    \x3cdiv class\x3d"c-tagList_inner float-left padding--lv1 padding-top-bottom--lv0"\x3e\n        \x3cdiv class\x3d"c-tagList_label" data-dojo-attach-point\x3d"tagLabel"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"c-tagList_input small-meta fwb textcolor absolute pos-t0 pos-l0 pos-r0"\x3e\n            \x3cdiv data-dojo-type\x3d"dojo/store/Memory"\n                data-dojo-id\x3d"stateStore"\n                data-dojo-props\x3d"data: [{id: \'y\', name: \'yes\'}, {id: \'n\', name: \'no\'}]"\x3e\x3c/div\x3e\n            \x3cinput data-dojo-type\x3d"dijit/form/FilteringSelect"\n                   data-dojo-props\x3d"store:stateStore, searchAttr:\'name\'" data-dojo-attach-point\x3d"inputField"\n                   name\x3d"state" /\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n    \x3cbutton class\x3d"c-tagList_remove float-left padding--lv1 padding-top-bottom--lv0 margin--lv0" data-dojo-attach-point\x3d"removeBtn" tabindex\x3d"-1"\x3e\n        \x3cspan class\x3d"freddicon cross !margin-right--lv0"\x3e\x3c/span\x3e\x3cspan class\x3d"v-visuallyHidden"\x3eRemove tag\x3c/span\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/index/stats/templates/StatsContainer.html":'\x3cdiv class\x3d"padding--lv5"\x3e\n\n    \x3c!-- Header --\x3e\n    \x3cdiv class\x3d"line margin-bottom--lv4"\x3e\n        \x3cdiv class\x3d"size2of3 unit padding-left--lv0 padding--lv0@phone"\x3e\n            \x3ch2 class\x3d"margin-bottom--lv0"\x3ePerformance\x3c/h2\x3e\n            \x3cp\x3eA quick overview of how you\'re doing.\x3c/p\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"size1of3 lastUnit text-align--right padding-right--lv0 padding--lv0@phone"\x3e\n            \x3cselect maxheight\x3d"-1" class\x3d"!margin-right--lv0" data-dojo-type\x3d"dijit/form/Select"\x3e\n                \x3coption value\x3d"7"\x3ePast 7 days\x3c/option\x3e\n                \x3coption value\x3d"30"\x3ePast 30 days\x3c/option\x3e\n                \x3coption value\x3d"360"\x3ePast year\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Primary Stats --\x3e\n    \x3cdiv class\x3d"line margin-bottom--lv4 flex flex-row"\x3e\n        \x3cdiv class\x3d"padding-right--lv4"\x3e\n            \x3cdiv class\x3d"statPrimary margin-bottom--lv1"\x3e$531.20\x3c/div\x3e\n            \x3cdiv class\x3d"small-meta dim-el"\x3eRevenue from MailChimp\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"padding-left--lv4"\x3e\n            \x3cdiv class\x3d"statPrimary margin-bottom--lv1"\x3e12,596\x3c/div\x3e\n            \x3cdiv class\x3d"small-meta dim-el"\x3eTotal audience\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/index/resources/templates/ResourcesContainer.html":'\x3cdiv class\x3d"padding--lv5"\x3e\n\n    \x3c!-- Header --\x3e\n    \x3cdiv class\x3d"line margin-bottom--lv4"\x3e\n        \x3cdiv class\x3d"size2of3 lastUnit padding-left--lv0 padding--lv0@phone"\x3e\n            \x3ch2 class\x3d"margin-bottom--lv0"\x3eUseful links\x3c/h2\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Links --\x3e\n    \x3cdiv class\x3d"line margin-bottom--lv4"\x3e\n        \x3cul\x3e\n            \x3cli\x3e\n                \x3cp class\x3d"margin-bottom--lv0"\x3e\x3ca href\x3d"#0" rel\x3d"noopener noreferrer" target\x3d"_blank"\x3eLearning Resources\x3c/a\x3e\x3c/p\x3e\n                \x3cp class\x3d"small-meta dim-el"\x3eRead tips and case studies.\x3c/p\x3e\n            \x3c/li\x3e\n            \x3cli\x3e\n                \x3cp class\x3d"margin-bottom--lv0"\x3e\x3ca href\x3d"#0" rel\x3d"noopener noreferrer" target\x3d"_blank"\x3eBlog\x3c/a\x3e\x3c/p\x3e\n                \x3cp class\x3d"small-meta dim-el"\x3eRead the MailChimp blog.\x3c/p\x3e\n            \x3c/li\x3e\n            \x3cli\x3e\n                \x3cp class\x3d"margin-bottom--lv0"\x3e\x3ca href\x3d"#0" rel\x3d"noopener noreferrer" target\x3d"_blank"\x3eWhat\'s New\x3c/a\x3e\x3c/p\x3e\n                \x3cp class\x3d"small-meta dim-el"\x3eRead about our newest features\x3c/p\x3e\n            \x3c/li\x3e\n            \x3cli\x3e\n                \x3cp class\x3d"margin-bottom--lv0"\x3e\x3ca href\x3d"#0" rel\x3d"noopener noreferrer" target\x3d"_blank"\x3eSearch Support Articles\x3c/a\x3e\x3c/p\x3e\n                \x3cp class\x3d"small-meta dim-el"\x3eSearch for tutorials and troubleshooting guides\x3c/p\x3e\n            \x3c/li\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3c!-- Action Button --\x3e\n    \x3cdiv class\x3d"line"\x3e\n        \x3cdiv class\x3d"size1of1 lastGroup"\x3e\n            \x3ca href\x3d"#0" class\x3d"button"\x3eView more\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/intent-overlay/templates/IntentOverlay.html":'\x3c!-- Wrapper for intent cards --\x3e\n\x3cdiv class\x3d"width--100 white-space--nowrap"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"intentsIntroContainer" class\x3d"alignc vertical-align--top display--inline-block width--100 white-space--normal iosSafariMenuFix"\x3e\n            \x3c!-- Intro Title --\x3e\n            \x3ch1 class\x3d"c-frontDoorIntro_heading text-transform--none alignc margin--lv5"\x3eWhat do you want to create?\x3c/h1\x3e\n\n            \x3c!-- Intro Explore --\x3e\n            \x3cdiv class\x3d"c-frontDoorIntro_exploreContainer padding-bottom--lv5 margin-bottom--lv5 centered width--100"\x3e\n                \x3cimg src\x3d"/images/front-door/space-illo.svg" class\x3d"c-frontDoorIntro_explore-image margin-bottom--lv2"\x3e\n                \x3cp class\x3d"centered"\x3eWe know all the shortcuts because we live here!\x3cbr\x3eWe\'ll help you find and create the campaigns you need.\x3c/p\x3e\n                \x3cbutton data-event-category\x3d"Modal - Create Campaign" type\x3d"submit" tabindex\x3d"0" data-dojo-attach-point\x3d"exploreIntentsButton" class\x3d"button p1 margin-bottom--lv2 margin-left-right--lv0 display--block centered text-transform--none"\x3eLet us guide you\x3c/button\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Intro Shortcuts --\x3e\n            \x3cul class\x3d"c-frontDoorIntro_shortcut-container flex justify-content--center margin-bottom--lv4 centered width--100"\x3e\n                \x3ca data-event-category\x3d"Modal - Create Campaign" data-event-action\x3d"Clicked / Create an Email" tabindex\x3d"0" href\x3d"#/create-campaign/explore/emailCampaign" class\x3d"fwb display--block"\x3e\n                    \x3cli class\x3d"c-frontDoorIntro_shortcut position--relative c-choiceCard margin-top--lv0 margin-bottom--lv3 margin--lv6 padding--lv3 text-align--center"\x3e\n                        \x3cimg src\x3d"/images/front-door/email_large.svg" class\x3d"c-frontDoorIntro_shortcutImage"\x3e\n                        \x3cdiv\x3eCreate an Email\x3c/div\x3e\n                    \x3c/li\x3e\n                \x3c/a\x3e\n                \x3ca data-event-category\x3d"Modal - Create Campaign" data-event-action\x3d"Clicked / Create an Ad" tabindex\x3d"0" href\x3d"#/create-campaign/explore/adCampaign" class\x3d"fwb display--block"\x3e\n                    \x3cli class\x3d"c-frontDoorIntro_shortcut position--relative c-choiceCard margin-top--lv0 margin-bottom--lv3 margin--lv6 padding--lv3 text-align--center"\x3e\n                        \x3cimg src\x3d"/images/front-door/ads_large.svg" class\x3d"c-frontDoorIntro_shortcutImage"\x3e\n                        \x3cdiv\x3eCreate an Ad\x3c/div\x3e\n                    \x3c/li\x3e\n                \x3c/a\x3e\n                \x3ca data-event-category\x3d"Modal - Create Campaign" data-event-action\x3d"Clicked / Create a Landing Page" tabindex\x3d"0" href\x3d"#/create-campaign/explore/page" class\x3d"fwb display--block" data-dojo-attach-point\x3d"pageShortcut"\x3e\n                    \x3cli class\x3d"c-frontDoorIntro_shortcut position--relative c-choiceCard margin-top--lv0 margin-bottom--lv3 margin--lv6 padding--lv3 text-align--center"\x3e\n                        \x3cimg src\x3d"/images/front-door/landing_page_large.svg" class\x3d"c-frontDoorIntro_shortcutImage"\x3e\n                        \x3cdiv\x3eCreate a Landing Page\x3c/div\x3e\n                    \x3c/li\x3e\n                \x3c/a\x3e\n                \x3ca data-event-category\x3d"Modal - Create Campaign" data-event-action\x3d"Clicked / Create a Postcard" tabindex\x3d"0" href\x3d"#/create-campaign/explore/postcard" class\x3d"fwb display--block hide" data-dojo-attach-point\x3d"postcardShortcut"\x3e\n                    \x3cli class\x3d"c-frontDoorIntro_shortcut position--relative c-choiceCard margin-top--lv0 margin-bottom--lv3 margin--lv6 padding--lv3 text-align--center"\x3e\n                        \x3cimg src\x3d"/images/front-door/postcards_large.svg" class\x3d"c-frontDoorIntro_shortcutImage"\x3e\n                        \x3cdiv\x3eCreate a Postcard\x3c/div\x3e\n                        \x3cspan class\x3d"badge new"\x3eBeta\x3c/span\x3e\n                    \x3c/li\x3e\n                \x3c/a\x3e\n            \x3c/ul\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Intents search results containers --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"intentsSearchResultsContainer" style\x3d"display: none" class\x3d"vertical-align--top width--100 border-bottom white-space--normal iosSafariMenuFix"\x3e\n        \x3cdiv\n            class\x3d"noborder"\n            data-dojo-attach-point\x3d"noResults"\n            data-dojo-type\x3d"mojo/widgets/NoDataBlock"\n            data-dojo-props\x3d"message: \'We couldn\\\'t find any campaigns that match \x3cstrong\x3e\x3c/strong\x3e. Try broadening your search.\'"\n        \x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"c-blueprintCard_container_heading padding--lv8 hide" data-dojo-attach-point\x3d"resultsHeader"\x3e\n            \x3ch2 class\x3d"margin-bottom--lv0 text-align--center"\x3eWe found \x3cspan data-dojo-attach-point\x3d"intentsSearchCount"\x3e\x3c/span\x3e results based on \x26quot;\x3cspan data-dojo-attach-point\x3d"intentsSearchTerm"\x3e\x3c/span\x3e\x26quot;\x3c/h2\x3e\n        \x3c/div\x3e\n        \x3cdiv\x3e\n            \x3cul data-dojo-attach-point\x3d"intentSearchCards" class\x3d"c-blueprintCard_container flex flex-wrap--wrap justify-content--space-between centered margin-bottom--lv8"\x3e\x3c/ul\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Intents Container --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"intentsContainer" style\x3d"display: none;" class\x3d"vertical-align--top width--100 white-space--normal iosSafariMenuFix"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"pathwaysList"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Configuration Container --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"configurationViewContainer" style\x3d"display: none;" class\x3d"vertical-align--top width--100 white-space--normal iosSafariMenuFix padding-top--lv3"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"configurationView"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/intent-overlay/templates/SliderPaneWrapper.html":'\x3cdiv class\x3d"front-door c-interstitial position--relative" style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"flex justify-content--center position--fixed top-bottom--0 left-right--0 background-color--underlay align-items--flex-start"\x3e\n        \x3cdiv class\x3d"c-interstitial_popup c-interstitial_hybrid-height_container margin--lv8 bg-white overflow--hidden border-radius--lv1"\x3e\n            \x3cdiv class\x3d"full-width textcolor zin-lv2 position--static selfclear border-bottom" data-dojo-attach-point\x3d"topBarActions"\x3e\n                \x3cdiv class\x3d"flex flex-between"\x3e\n                    \x3cul class\x3d"linear-list small-meta selfclear float--left full-width flex align-items--center"\x3e\n                        \x3cli class\x3d"noborder"\x3e\n                            \x3ca href\x3d"javascript:" data-dojo-attach-point\x3d"backLink" class\x3d"c-interstitial_button nolink padding--lv4 invisible" tabindex\x3d"-1"\x3e\n                                \x3cspan class\x3d"freddicon arrow-left"\x3e\x3c/span\x3e\n                            \x3c/a\x3e\n                        \x3c/li\x3e\n                        \x3cli class\x3d"c-interstitial_search-container flex"\x3e\n                            \x3c!-- Search/Filter Container --\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"intentsSearchContainer" class\x3d"width--100 readable-max-width"\x3e\n                                \x3c!-- Filtered Search Widget container --\x3e\n                                \x3cdiv data-dojo-attach-point\x3d"intentsFilteredSearch"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/li\x3e\n                    \x3c/ul\x3e\n                    \x3cul class\x3d"linear-list small-meta selfclear float--right"\x3e\n                        \x3cli class\x3d"noborder"\x3e\n                            \x3ca href\x3d"javascript:" data-dojo-attach-point\x3d"closeLink" class\x3d"c-interstitial_button nolink padding--lv4" tabindex\x3d"0"\x3e\n                                \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                            \x3c/a\x3e\n                        \x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-interstitial_hybrid-height_content position--static flex justify-content--center overflow--auto margin--lv0"\x3e{_content}\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/intent-overlay/templates/PathwayCardList.html":'\x3cdiv tabindex\x3d"0" class\x3d"c-frontDoorIntro_pathway border-bottom position--relative"\x3e\n    \x3ch2 data-dojo-attach-point\x3d"detailsSummary" class\x3d"c-blueprintCard_container_meta disclosure-closed padding-top--lv6 padding-bottom--lv6 margin-bottom--lv0"\x3e\n        \x3cspan class\x3d"c-blueprintCard_container_heading"\x3e${title}\x3c/span\x3e\n        \x3cspan class\x3d"c-blueprintCard_container_count float--right normal-meta textcolor dim-el font-weight--normal"\x3e${blueprintCountText}\x3c/span\x3e\n    \x3c/h2\x3e\n    \x3cdiv data-dojo-attach-point\x3d"detailsContent" class\x3d"display--none padding-top--lv4"\x3e\n        \x3cp class\x3d"c-blueprintCard_container_description textcolor normal-meta full-width"\x3e${description}\x3c/p\x3e\n        \x3cul data-dojo-attach-point\x3d"list" class\x3d"c-blueprintCard_container flex flex-wrap--wrap centered"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/intent-overlay/templates/BlueprintCard.html":'\x3cli\x3e\n    \x3ca\n        data-dojo-attach-point\x3d"cardLink"\n        tabindex\x3d"0"\n        class\x3d"c-blueprintCard ${cardClass} c-choiceCard c-choiceCard--thick c-choiceCard_label nolink position--relative border-default border-radius--lv1"\n        href\x3d"#/create-campaign/explore/${blueprint.id}"\x3e\n        \x3cdiv\n            class\x3d"c-blueprintCard--icon"\n            data-dojo-type\x3d"mojo/intent-overlay/ChannelIcon"\n            data-dojo-props\x3d"channel: \'${channel}\'"\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"fwb margin-bottom--lv1"\x3e${title}\x3c/div\x3e\n        \x3cp class\x3d"fwn dim-el small-meta c-blueprintCard-description"\x3e${description}\x3c/p\x3e\n        \x3cdiv class\x3d"c-blueprintCard--automation dim-el display--none" data-dojo-attach-point\x3d"cardAutomation"\x3e\n            \x3cimg src\x3d"/images/front-door/automation-icon.svg" alt\x3d"" class\x3d"c-blueprintCard--automation_img"\x3e\n            Automation\n        \x3c/div\x3e\n    \x3c/a\x3e\n\x3c/li\x3e\n',
"url:mojo/intent-overlay/templates/ConfigOverlay.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"configView"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/intent-overlay/templates/ConfigurationView.html":'\x3cdiv class\x3d"readable-max-width centered c-frontDoorConfig padding-left--lv3 padding-right--lv3"\x3e\n    \x3cdiv class\x3d"padding-left--lv3 padding-right--lv3 margin-bottom--lv6 width--100"\x3e\n        \x3ch2 class\x3d"!margin-bottom--lv4 font-weight--bold flex align-items--center "\x3e\n            \x3cdiv\n                class\x3d"padding-right--lv2"\n                data-dojo-type\x3d"mojo/intent-overlay/ChannelIcon"\n                data-dojo-props\x3d"channel: \'${type}\'"\x3e\n            \x3c/div\x3e\n            ${title}\n        \x3c/h2\x3e\n        \x3cp class\x3d"margin-bottom--lv4"\x3e${description}\x3c/p\x3e\n\n        \x3cdiv data-dojo-type\x3d"mojo/intent-overlay/Blurbs" data-dojo-props\x3d"blurbs: this.blurbs"\x3e\x3c/div\x3e\n\n        \x3cform data-dojo-attach-point\x3d"form" data-dojo-attach-event\x3d"submit: handleSubmit"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"formInputs"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"text-align--center"\x3e\n                \x3cbutton data-event-category\x3d"Modal - Create Campaign" data-event-label\x3d"${type} - ${title}" tabindex\x3d"0" data-dojo-attach-point\x3d"formSubmit" type\x3d"submit" class\x3d"button p0"\x3eBegin\x3c/button\x3e\n                \x3ca tabindex\x3d"0" href\x3d"${connectYourStoreLink}" data-dojo-attach-point\x3d"connectButton" class\x3d"button p0 hide"\x3eConnect Your Site\x3c/a\x3e\n                \x3ca tabindex\x3d"0" href\x3d"${createLandingPageLink}" data-dojo-attach-point\x3d"createLpButton" class\x3d"button p0 hide"\x3eCreate Landing Page\x3c/a\x3e\n                \x3ca tabindex\x3d"0" href\x3d"javascript:" data-dojo-attach-point\x3d"cancelLink" class\x3d"cancel-button small-meta font-weight--bold"\x3eCancel\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/form\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/intent-overlay/templates/NoOptions.html":'\x3cdiv class\x3d"feedback-block info section" role\x3d"status"\x3e\n  \x3cdiv class\x3d"lastUnit size1of1"\x3e\n    \x3cdiv class\x3d"c-media"\x3e\n      \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n          \x3ch4\x3e${title}\x3c/h4\x3e\n          \x3cp\x3e${description}\x3c/p\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/intent-overlay/templates/TextInput.html":'\x3cfieldset\x3e\n    \x3clabel\x3e${label}\x3c/label\x3e\n    \x3cinput tabindex\x3d"0" data-dojo-attach-point\x3d"input" type\x3d"text" name\x3d"${name}" class\x3d"av-text" value\x3d"${value}"\x3e\n\x3c/fieldset\x3e\n',
"url:mojo/intent-overlay/templates/AutomationConfigurationView.html":'\x3cdiv class\x3d"centered c-frontDoorConfig padding-left--lv6 padding-right--lv6 flex flex-direction--column align-content--flex-start"\x3e\n    \x3cdiv class\x3d"padding-left--lv3 padding-right--lv3 margin-bottom--lv6 width--100"\x3e\n        \x3c% if (isCustom) { %\x3e\n            \x3cdiv\n                data-dojo-type\x3d"mojo/intent-overlay/ConfigurationView"\n                data-dojo-props\x3d"blueprint: this.blueprint, option: this.option, onCancel: this.toggleCustom.bind(this), createButtonLocation: this.createButtonLocation"\x3e\n            \x3c/div\x3e\n        \x3c% } else { %\x3e\n            \x3cheader class\x3d"flex justify-content--space-between"\x3e\n                \x3ch2 class\x3d"!margin-bottom--lv4 fwb"\x3eCreate an Automation Email\x3c/h2\x3e\n                \x3cbutton data-dojo-attach-event\x3d"click: toggleCustom"\x3eCustom\x3c/button\x3e\n            \x3c/header\x3e\n            \x3cdiv\x3e\n                \x3cdiv\n                    id\x3d"automationTabContainer"\n                    class\x3d"c-automatedGroupsTabs"\n                    data-dojo-type\x3d"dijit/layout/TabContainer"\n                    doLayout\x3d"false"\x3e\n                \x3c% for (key in this.groups) { %\x3e\n                    \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" name\x3d"${key}" title\x3d"${this.groups[key].title}"\x3e\n                        \x3cul\n                            class\x3d"c-blueprintCard_simple-container flex flex-wrap--wrap justify-content--space-around margin-bottom--lv8"\n                            data-dojo-attach-point\x3d"contentPane-${key}"\x3e\n                        \x3c/ul\x3e\n                    \x3c/div\x3e\n                \x3c% } %\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c% } %\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/index/recommendations/templates/RecommendationCard.html":'\x3cdiv class\x3d"c-bannerCard display--inline-block"\x3e\n\n    \x3c!-- Content --\x3e\n    \x3cdiv class\x3d"c-bannerCard_container full-height flex flex-col justify-content--space-between padding--lv4"\x3e\n        \x3c!-- Title --\x3e\n        \x3ch3 class\x3d"c-bannerCard_header order--1 flex-half margin-bottom--lv1"\x3e${!header}\x3c/h3\x3e\n\n        \x3c!-- Time to complete --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"notStartedLabel" class\x3d"c-bannerCard_status flex flex-row align-items--center margin-bottom--lv3"\x3e\n            \x3cspan class\x3d"freddicon time-circle v-textColorGray padding-right--lv1"\x3e\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"timeToComplete" class\x3d"small-meta dim-el font-weight--bold"\x3e${!timeLabel}\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3c!-- In progress --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"inProgressLabel" class\x3d"c-bannerCard_status flex flex-row align-items--center margin-bottom--lv3"\x3e\n            \x3cimg src\x3d"https://cdn-images.mailchimp.com/homepage/icon_inProgress.svg" role\x3d"presentation" class\x3d"padding-right--lv1"\x3e\x3c/img\x3e\n            \x3cspan data-dojo-attach-point\x3d"timeToComplete" class\x3d"small-meta dim-el font-weight--bold"\x3e${!inProgressLabel}\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Not started actions --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"notStartedBtn" class\x3d"order--1"\x3e\n            \x3cbutton data-dojo-attach-point\x3d"notStartedCta"\x3e${!ctaText}\x3c/button\x3e\n            \x3cp class\x3d"display--inline"\x3e\x3ca href\x3d"${!marketingLink}" data-dojo-attach-point\x3d"actionSecondary" class\x3d"small-meta font-weight--bold dim-el" target\x3d"_blank"\x3eLearn how\x3c/a\x3e\x3c/p\x3e\n        \x3c/div\x3e\n\n        \x3c!-- In Progress actions --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"inProgressBtn" class\x3d"order--1"\x3e\n            \x3ca href\x3d"${!ctaLink}" data-dojo-attach-point\x3d"inProgressCta" class\x3d"button"\x3e${!ctaText}\x3c/a\x3e\n            \x3cp class\x3d"display--inline"\x3e\x3ca href\x3d"${!kbLink}" data-dojo-attach-point\x3d"actionSecondary" class\x3d"small-meta font-weight--bold dim-el" target\x3d"_blank"\x3eTips as you go\x3c/a\x3e\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Dismiss button --\x3e\n    \x3cdiv class\x3d"c-bannerCard_dismiss"\x3e\n        \x3cbutton data-dojo-attach-point\x3d"dismissBtn" title\x3d"Dismiss" class\x3d"c-bannerControls"\x3e\n            \x3cspan class\x3d"freddicon cross dim6 !margin--lv0"\x3e\x3c/span\x3e\n        \x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/index/recommendations/templates/RecommendationFeature.html":'\x3cdiv class\x3d"c-bannerFeature lastUnit display--inline-block full-height margin--lv0@tablet padding--lv0@phone"\x3e\n    \x3cdiv class\x3d"c-bannerFeature_container flex-row align-items--center flex-flow--nowrap flex-col-phone"\x3e\n        \x3c!-- Content --\x3e\n        \x3cdiv class\x3d"c-bannerFeature_contentContainer full-height unit size5of8 flex-col justify-content--space-between padding--lv3 padding-left-right--lv0 padding--lv0@tablet"\x3e\n            \x3c!-- Title --\x3e\n            \x3cdiv class\x3d"c-bannerFeature_header order--1 flex-col flex-half"\x3e\n                \x3ch2 class\x3d"margin-bottom--lv2"\x3e${!header}\x3c/h2\x3e\n\n                \x3cp data-dojo-attach-point\x3d"messageContainer" class\x3d"margin-bottom--lv3"\x3e${!message}\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Time to complete / Status --\x3e\n            \x3cdiv class\x3d"c-bannerFeature_status flex-row margin-bottom--lv3 padding-top--lv3"\x3e\n                \x3cspan class\x3d"freddicon time-circle v-textColorGray padding-right--lv1"\x3e\x3c/span\x3e\n                \x3cspan data-dojo-attach-point\x3d"timeToComplete" class\x3d"small-meta dim-el font-weight--bold"\x3e${!timeLabel}\x3c/span\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Actions --\x3e\n            \x3cdiv class\x3d"c-bannerFeature_actions order--1 position--relative"\x3e\n                \x3cbutton data-dojo-attach-point\x3d"cta" class\x3d"button p1"\x3e${!ctaText}\x3c/button\x3e\n                \x3cp class\x3d"display--inline"\x3e\x3ca href\x3d"${!marketingLink}" class\x3d"small-meta font-weight--bold dim-el" target\x3d"_blank"\x3eLearn how\x3c/a\x3e\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Image --\x3e\n        \x3cdiv class\x3d"c-bannerFeature_imgContainer flex lastUnit size3of8 align-self--center justify-content--center"\x3e\n            \x3cimg class\x3d"c-bannerFeature_img padding--lv0@tablet" role\x3d"presentation" src\x3d"${!image}"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/index/recommendations/templates/RecommendationContainer.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"bannerContainer" class\x3d"c-bannerContainer flex justify-content--center position--relative margin-bottom--lv2"\x3e\n\n        \x3c!-- Background pattern in card view --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"bannerPattern" class\x3d"c-bannerPattern width--100 full-height flex position--absolute"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"c-bannerContainer_content"\x3e\n            \x3cdiv class\x3d"flex full-height position--relative"\x3e\n                \x3cdiv class\x3d"align-self--center width--100"\x3e\n                    \x3c!-- Header --\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"openHeader" class\x3d"line lastUnit margin-bottom--lv2"\x3e\n                        \x3cp class\x3d"padding--lv3 padding-left-right--lv0 margin-bottom--lv0"\x3e\n                            \x3cstrong data-dojo-attach-point\x3d"openHeaderMessage"\x3e\n                                What next? Try \x3cspan data-dojo-attach-point\x3d"headerPlural"\x3ethese\x3c/span\x3e\x3cspan data-dojo-attach-point\x3d"headerSingular" class\x3d"display--none"\x3ethis\x3c/span\x3e.\n                            \x3c/strong\x3e\n                        \x3c/p\x3e\n                    \x3c/div\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"closedHeader" class\x3d"line lastUnit padding-top--lv4 padding-bottom--lv4"\x3e\n                        \x3cp class\x3d"margin-bottom--lv0"\x3e\n                            \x3cspan data-dojo-attach-point\x3d"closedHeaderWithRecs"\x3eWondering what to do next? Open to see what we recommend for you.\x3c/span\x3e\n                            \x3cspan data-dojo-attach-point\x3d"closedHeaderEmpty" class\x3d"display--none"\x3eWe\u2019ll let you know when we have new things for you.\x3c/span\x3e\n                        \x3c/p\x3e\n                    \x3c/div\x3e\n\n                    \x3c!-- Only shows when section is open --\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"openContent"\x3e\n                        \x3cdiv class\x3d"line"\x3e\n\n                            \x3c!-- Displays recommendations --\x3e\n                            \x3c!-- Slots hide/show depending on screen size, data-max-cards determines how many cards a slot will display --\x3e\n                            \x3cdiv data-mc-group\x3d"slot-itemContainer" data-max-cards\x3d"3" class\x3d"width--100 hide-mobile"\x3e\n                                \x3cdiv data-dojo-attach-point\x3d"itemContainer" class\x3d"c-bannerContainer_itemContainer"\x3e\x3c/div\x3e\n                                \x3cdiv data-dojo-attach-point\x3d"emptyContainer" class\x3d"text-align--center display--none"\x3e\n                                    \x3ch3 class\x3d"padding--lv4 margin-bottom--lv0"\x3eSuperstar! You\'re all done for now. We\'ll let you know when we have more for you.\x3c/h3\x3e\n                                    \x3ca href\x3d"${!rootUrl}reports" class\x3d"button p1"\x3eSee How Things Are Doing\x3c/a\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                            \x3cdiv data-mc-group\x3d"slot-itemContainer" data-max-cards\x3d"2" class\x3d"width--100 hide-phone hide-desktop"\x3e\x3c/div\x3e\n                            \x3cdiv data-mc-group\x3d"slot-itemContainer" data-max-cards\x3d"1" class\x3d"width--100 show-phone padding--lv0@phone"\x3e\x3c/div\x3e\n\n                            \x3cul aria-label\x3d"Page controls" class\x3d"hide-phone"\x3e\n                                \x3c!-- Back button --\x3e\n                                \x3cli\x3e\n                                    \x3cbutton data-dojo-attach-point\x3d"prevBtn" title\x3d"Previous page" class\x3d"c-bannerControls c-bannerControls_prev position--absolute"\x3e\n                                        \x3cspan class\x3d"freddicon menu-left !margin--lv0"\x3e\x3c/span\x3e\n                                    \x3c/button\x3e\n                                \x3c/li\x3e\n                                \x3c!-- Next button --\x3e\n                                \x3cli\x3e\n                                    \x3cbutton data-dojo-attach-point\x3d"nextBtn" title\x3d"Next page" class\x3d"c-bannerControls c-bannerControls_next position--absolute"\x3e\n                                        \x3cspan class\x3d"freddicon menu-right !margin--lv0"\x3e\x3c/span\x3e\n                                    \x3c/button\x3e\n                                \x3c/li\x3e\n                                \x3c!-- Progress dots --\x3e\n                                \x3cli\x3e\n                                    \x3cdiv class\x3d"position--absolute c-bannerControls_progressDots width--100"\x3e\n                                        \x3cdiv data-dojo-attach-point\x3d"progressDots" class\x3d"text-align--center"\x3e\x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c/li\x3e\n                            \x3c/ul\x3e\n\n                            \x3c!-- Link to feedback survey --\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"surveyLink" class\x3d"line lastUnit display--inline-block position--relative"\x3e\n                                \x3cp\x3e\x3ca href\x3d"${!surveyLink}" target\x3d"_blank" class\x3d"small-meta"\x3eIs this helpful?\x3c/a\x3e\x3c/p\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3c!-- /Only shows when section is open --\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Dismiss button --\x3e\n            \x3cdiv class\x3d"c-bannerFeature_dismiss margin--lv0@phone"\x3e\n                \x3cbutton data-dojo-attach-point\x3d"featureDismissBtn" title\x3d"Dismiss recommendation" class\x3d"c-bannerControls !background--none"\x3e\n                    \x3cspan class\x3d"freddicon cross dim6 !margin--lv0"\x3e\x3c/span\x3e\n                \x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"text-align--center"\x3e\n        \x3c!-- Toggle section open/closed button --\x3e\n        \x3cbutton data-dojo-attach-point\x3d"toggleSectionBtn" title\x3d"Close" class\x3d"c-bannerControls margin-bottom--lv2@tablet"\x3e\n            \x3cspan data-dojo-attach-point\x3d"toggleSectionBtnIcon" class\x3d"freddicon menu-up !margin--lv0"\x3e\x3c/span\x3e\n        \x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/Slat.html":'\x3cli class\x3d"c-campaignManager_slat flex position--relative flex-between flex-justify--start padding--lv3 padding-left--lv1 padding-right--lv0"\x3e\n\n    \x3cdiv class\x3d"c-campaignManager_slat_checkbox padding-right--lv2 hide-mobile"\x3e\n        \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"node_selectCheckBox"\x3e\n    \x3c/div\x3e\n    \x3cdiv\n        class\x3d"c-campaignManager_slat_icon c-channelIcon position--relative"\n        data-dojo-attach-point\x3d"node_channelIcon"\n    \x3e\x3c/div\x3e\n    \x3cdiv class\x3d"c-campaignManager_slat_details"\x3e\n        \x3ch4 class\x3d"margin-bottom--lv0"\x3e\n            \x3ca data-event-category\x3d"Slat" data-event-action\x3d"Clicked / Campaign" class\x3d"c-campaignManager_slat_details_link normal-meta" title\x3d"${title}" data-dojo-attach-point\x3d"node_titleLink"\x3e${title}\x3c/a\x3e\n        \x3c/h4\x3e\n        \x3cp class\x3d"c-campaignManager_slat_details_listName margin-bottom--lv0 margin-bottom--lv1@tablet small-meta"\x3e\n            \x3cspan data-dojo-attach-point\x3d"node_typeName"\x3e\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"node_listName"\x3e\x3c/span\x3e\n        \x3c/p\x3e\n        \x3cp class\x3d"margin-bottom--lv0 small-meta overflow-ellipsis" data-dojo-attach-point\x3d"node_additionalMetaData_url"\x3e\x3c/p\x3e\n        \x3cp class\x3d"margin-bottom--lv0 small-meta" data-dojo-attach-point\x3d"node_additionalMetaData"\x3e\x3c/p\x3e\n        \x3cp class\x3d"margin-bottom--lv0 small-meta" data-dojo-attach-point\x3d"node_complianceMessage"\x3e\x3c/p\x3e\n        \x3cp class\x3d"margin-bottom--lv0 small-meta" data-dojo-attach-point\x3d"node_sendErrorMessage"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-campaignManager_slat_status"\x3e\n        \x3cspan data-dojo-attach-point\x3d"node_badge" class\x3d"badge"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"node_stats" class\x3d"c-campaignManager_slat_stats flex justify-content--center"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"c-campaignManager_slat_actions"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"node_actions"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_statWrapper" type\x3d"text/template"\x3e\n        \x3cdiv class\x3d\'c-campaignManager_slat_stat\'\x3e\x3c/div\x3e\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_typeIcon" type\x3d"text/template"\x3e\n        \x3cimg src\x3d"/images/front-door/automation-icon.svg" class\x3d"c-campaignManager_slat_typeIcon" /\x3e\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_listName"\x3e\n        \x3cb\x3e\x26middot;\x3c/b\x3e {listName}\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_statDetails" type\x3d"text/template"\x3e\n        \x3cdiv class\x3d"{type} padding-right--lv6"\x3e\n            \x3cp class\x3d"textcolor normal-meta font-weight--bold margin--lv0 full-width"\x3e{value}\x3c/p\x3e\n            \x3cp class\x3d"small-meta margin--lv0 full-width"\x3e{name}\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_complianceMessage" type\x3d"text/template"\x3e\n        \x3cspan class\x3d"freddicon warn-circle warn-circle-color padding-right--lv1"\x3e\x3c/span\x3e{message}\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_sendErrorMessage" type\x3d"text/template"\x3e\n        \x3cspan class\x3d"freddicon warn-circle warn-circle-color padding-right--lv1"\x3e\x3c/span\x3e{message}\n    \x3c/script\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/campaigns/templates/SlatCondensed.html":'\x3cli class\x3d"c-campaignManager_slat flex position--relative flex-between flex-justify--start padding--lv3 padding-left--lv1 padding-right--lv0"\x3e\n\n    \x3cdiv class\x3d"c-campaignManager_slat_details"\x3e\n        \x3ch4 class\x3d"margin-bottom--lv0"\x3e\n            \x3ca data-event-category\x3d"Slat" data-event-action\x3d"Clicked / Campaign" class\x3d"c-campaignManager_slat_details_link normal-meta" title\x3d"${title}" data-dojo-attach-point\x3d"node_titleLink"\x3e${title}\x3c/a\x3e\n        \x3c/h4\x3e\n        \x3cp class\x3d"c-campaignManager_slat_details_listName margin-bottom--lv0 margin-bottom--lv1@tablet small-meta"\x3e\n            \x3cspan data-dojo-attach-point\x3d"node_typeName"\x3e\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"node_listName"\x3e\x3c/span\x3e\n        \x3c/p\x3e\n        \x3cp class\x3d"margin-bottom--lv0 small-meta overflow-ellipsis" data-dojo-attach-point\x3d"node_additionalMetaData_url"\x3e\x3c/p\x3e\n        \x3cp class\x3d"margin-bottom--lv0 small-meta" data-dojo-attach-point\x3d"node_additionalMetaData"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"node_stats" class\x3d"c-campaignManager_slat_stats flex justify-content--center"\x3e\x3c/div\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_statWrapper" type\x3d"text/template"\x3e\n        \x3cdiv class\x3d\'c-campaignManager_slat_stat\'\x3e\x3c/div\x3e\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_listName"\x3e\n        \x3cb\x3e\x26middot;\x3c/b\x3e {listName}\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_statDetails" type\x3d"text/template"\x3e\n        \x3cdiv class\x3d"{type} padding-right--lv6"\x3e\n            \x3cp class\x3d"textcolor normal-meta font-weight--bold margin--lv0 full-width"\x3e{value}\x3c/p\x3e\n            \x3cp class\x3d"small-meta margin--lv0 full-width"\x3e{name}\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/script\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/checklist-editor/templates/_publish.html":'\x3cdiv data-dojo-type\x3d"dijit/Dialog" id\x3d"publishModal" data-dojo-id\x3d"publishModal" data-dojo-attach-point\x3d"publishModal" title\x3d"Prepare for launch"\x3e\n          \x3cdiv class\x3d"dijitDialogPaneContentArea !padding-top--lv0 !padding-bottom--lv0" style\x3d"max-height: none"\x3e\n\n              \x3cdiv class\x3d"margin-bottom--lv2 centered" style\x3d"width:300px; height:300px"\x3e\n                  \x3csvg width\x3d"300" height\x3d"300" id\x3d"freddie-send" style\x3d"margin: 0 auto;display: block;"\x3e\x3c/svg\x3e\n              \x3c/div\x3e\n              \x3c!-- /launch image --\x3e\n\n              \x3cdiv id\x3d"confirm-send-pre" data-dojo-attach-point\x3d"confirmSendPre" class\x3d"alignc"\x3e\n                  \x3cp class\x3d"full-width"\x3eYou\'re about to publish your landing page.\x3c/p\x3e\n                  \x3cp class\x3d"small-meta"\x3eThis is your moment of glory.\x3c/p\x3e\n              \x3c/div\x3e\n\n              \x3cdiv id\x3d"confirm-send-post" data-dojo-attach-point\x3d"confirmSendPost" style\x3d"display:none;" class\x3d"alignc"\x3e\n                  \x3cp class\x3d"full-width"\x3eUshering your landing page into the wild \x26hellip;\x3c/p\x3e\n                  \x3cimg src\x3d"/css/icons/pulse.gif" class\x3d"pulse"\x3e\n              \x3c/div\x3e\n          \x3c/div\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n      \x3cdiv id\x3d"confirm-send-action" data-dojo-attach-point\x3d"confirmSendAction" class\x3d"alignc"\x3e\n          \x3cinput type\x3d"button" class\x3d"button p0 confirm-send-button" data-dojo-attach-event\x3d"click: sendConfirmed" value\x3d"Publish" /\x3e\n          \x3ca class\x3d"font-weight--bold small-meta" href\x3d"javascript:;" onclick\x3d"dijit.byId(\'publishModal\').hide(); return false;"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/index/campaigns/templates/CampaignContainer.html":'\x3cdiv class\x3d"padding--lv5 padding-top--lv0"\x3e\n\n    \x3c!-- Header --\x3e\n    \x3cdiv class\x3d"line margin-bottom--lv4"\x3e\n        \x3cdiv class\x3d"size2of3 unit padding-left--lv0 padding--lv0@phone"\x3e\n            \x3ch2 class\x3d"margin-bottom--lv0"\x3eCampaigns\x3c/h2\x3e\n            \x3cp\x3eSee how your latest campaigns are performing.\x3c/p\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"size1of3 lastUnit text-align--right padding-right--lv0 padding--lv0@phone"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"filterTypeSelect"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Campaign slats --\x3e\n    \x3cdiv class\x3d"line margin-bottom--lv4 flex flex-row"\x3e\n        \x3cul data-dojo-attach-point\x3d"campaignList" class\x3d"width--100"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Action Button --\x3e\n    \x3cdiv class\x3d"line"\x3e\n        \x3cdiv class\x3d"size1of1 group"\x3e\n            \x3ca href\x3d"${rootUrl}reports" class\x3d"button"\x3eView Reports\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ecommerce/templates/productPicker.html":'\x3cfieldset\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0 padding-top--lv0" data-dojo-attach-point\x3d"storeContainer"\x3e\n            \x3clabel\x3eStore\x3c/label\x3e\n            \x3cselect class\x3d"!margin--lv0" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"storeSelect"\x3e\x3c/select\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0 padding-top--lv0" data-dojo-attach-point\x3d"productSearchContainer"\x3e\n            \x3clabel\x3eProduct\x3c/label\x3e\n            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"productSearchInput"/\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"dijitDialogPaneActionBar" data-dojo-attach-point\x3d"buttonGroup"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"saveBtn"\x3eInsert\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelBtn" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/fieldset\x3e',
"url:mojo/widgets/ecommerce/templates/productResultItem.html":'\x3cdiv class\x3d"c-media padding--lv1 padding-left-right--lv0"\x3e\n    \x3cdiv class\x3d"c-mediaImage"\x3e\n        \x3cdiv style\x3d"background: url({image_url}) no-repeat center/contain; width:48px; height:48px;" class\x3d"border-gray border-radius--lv1"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-mediaBody"\x3e\n        \x3cp class\x3d"font-weight--bold small-meta margin-bottom--lv0"\x3e{title}\x3c/p\x3e\n        \x3cp class\x3d"fwn small-meta margin-bottom--lv0"\x3e{price} \x26middot; SKU {sku}\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/templates/feedback-template/SliderPaneWrapper.html":'\x3cdiv class\x3d"c-topSliderPane position--fixed top-bottom--0 left-right--0 bg-white overflow--hidden"\n     style\x3d"display:none; overflow: scroll;"\x3e\n    \x3cdiv class\x3d"flex-auto flex-col"\x3e\n        \x3c!-- GRAY NAV --\x3e\n        \x3cdiv class\x3d"bg-gray selfclear border-bottom"\x3e\n            \x3cdiv class\x3d"wizard-header float--left selfclear"\x3e\n                \x3cdiv class\x3d"padding--lv3 !padding-top-bottom--lv0"\x3e\n                    \x3cul class\x3d"linear-list small-meta flex align-items--baseline"\x3e\n                        \x3cli class\x3d"textcolor"\x3e\n\n                            \x3cspan class\x3d"badge !margin-left--lv0"\x3eFeedback\x3c/span\x3e\n                        \x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cnav class\x3d"float--right selfclear"\x3e\n                \x3cul class\x3d"linear-list small-meta" data-dojo-attach-point\x3d"topBarActions"\x3e\n                    \x3cli class\x3d"hover-item noborder"\x3e\n                        \x3ca href\x3d"#0" data-dojo-attach-point\x3d"closeLink"\n                           class\x3d"c-wizardLink--overlay nolink padding--lv3" aria-label\x3d"Close this overlay"\x3e\n                            \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                        \x3c/a\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/nav\x3e\n        \x3c/div\x3e\n        \x3c!-- FEEDBACK FORM --\x3e\n        \x3cdiv id\x3d"main-content" class\x3d"main-content mc-content flex flex-col selfclear"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-previewContent overflow-y--auto will-change--transform"\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/content-manager/templates/DeselectAll.html":'\x3cdiv class\x3d"flex align-items--center"\x3e\n    \x3cp class\x3d"small-meta font-weight--bold margin--lv3 margin-top-bottom--lv0 margin-left--lv0 hide-mobile"\x3e\n        \x3cspan data-dojo-attach-point\x3d"desktopLabel"\x3eSomething\x3c/span\x3e selected\n    \x3c/p\x3e\n    \x3cbutton data-dojo-attach-point\x3d"deselectBtn"\x3e\n        \x3cspan class\x3d"hide-mobile"\x3eDeselect All\x3c/span\x3e\n        \x3cspan class\x3d"show-mobile"\x3e\n            Deselect \x3cspan data-dojo-attach-point\x3d"mobileLabel"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n    \x3c/button\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/parts/templates/displayToggle.html":'\x3cdiv\x3e\n    \x3cul class\x3d"flex"\x3e\n        \x3cli class\x3d"c-buttonGroupItem"\x3e\n            \x3cbutton\n                type\x3d"button"\n                data-dojo-attach-point\x3d"grid"\n                class\x3d"c-buttonGroupButton v-buttonGroupBordered"\n                title\x3d"Toggle grid view"\x3e\n                    \x3cspan class\x3d"freddicon grid-view inline-block !margin-right--lv0"\x3e\x3c/span\x3e\n            \x3c/button\x3e\n        \x3c/li\x3e\n        \x3cli class\x3d"c-buttonGroupItem"\x3e\n            \x3cbutton\n                type\x3d"button"\n                data-dojo-attach-point\x3d"list"\n                class\x3d"c-buttonGroupButton v-buttonGroupBordered"\n                title\x3d"Toggle list view"\x3e\n                    \x3cspan class\x3d"freddicon list-view inline-block !margin-right--lv0"\x3e\x3c/span\x3e\n            \x3c/button\x3e\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/contact-table/templates/filter-bar.html":'\x3cdiv class\x3d"selfclear filter-segment-bar filter"\x3e\n    \x3cbutton\x3eFilter by Tags\x3c/button\x3e\n    \x3cspan data-dojo-attach-point\x3d"closeButton" class\x3d"freddicon cross-circle float-right close-button"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:mojo/widgets/contact-table/templates/segmentation-bar.html":'\x3cdiv class\x3d"selfclear filter-segment-bar segment"\x3e\n    \x3cspan\x3eSegment Name\x3c/span\x3e\n    \x3cspan class\x3d"float-right"\x3e\n        \x3cspan data-dojo-attach-point\x3d"sendButton" class\x3d"freddicon conversation send-button padding-right--lv2"\x3e\x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"closeButton" class\x3d"freddicon cross-circle close-button"\x3e\x3c/span\x3e\n    \x3c/span\x3e\n\x3c/div\x3e',
"url:mojo/widgets/contact-table/templates/top-level-selection-bar.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"topLevelBarContainer" class\x3d"selfclear filter-segment-bar top-level"\x3e\n        \x3cspan\x3eFilter by: \x3c/span\x3e\n        \x3cbutton data-dojo-attach-point\x3d"filterButton"\x3eFilter\x3c/button\x3e\n        \x3cbutton data-dojo-attach-point\x3d"segmentButton"\x3eSegment\x3c/button\x3e\n        \x3cspan\x3eNew Segment\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"filterBarContainer" class\x3d"hide"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"segmentBarContainer" class\x3d"hide"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/contact-profile/templates/actions.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"actionsSelectContainer"\x3e\x3c/div\x3e\n\n    \x3c!-- Confirmation Dialogs --\x3e\n    \x3cdiv data-dojo-id\x3d"unsubscribeModal" data-dojo-attach-point\x3d"unsubscribeModal" data-dojo-type\x3d"dijit/Dialog" title\x3d"Are you sure?"\x3e\n        \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n            \x3cp\x3eAre you sure you want to unsubscribe this member?\x3c/p\x3e\n\n            \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" class\x3d"button p0" data-dojo-attach-event\x3d"click: unsubscribeMember"\x3eConfirm Unsubscribe\x3c/button\x3e\n                \x3ca href\x3d"#" onclick\x3d"unsubscribeModal.hide(); return false;"\x3eCancel\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-id\x3d"subscribeModal" data-dojo-attach-point\x3d"subscribeModal" data-dojo-type\x3d"dijit/Dialog" title\x3d"Are you sure?"\x3e\n        \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n            \x3cp\x3eAre you sure you want to subscribe this member?\x3c/p\x3e\n\n            \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" class\x3d"button p0" data-dojo-attach-event\x3d"click: subscribeMember"\x3eConfirm Subscribe\x3c/button\x3e\n                \x3ca href\x3d"#" onclick\x3d"subscribeModal.hide(); return false;"\x3eCancel\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-id\x3d"resendModal" data-dojo-attach-point\x3d"resendModal" data-dojo-type\x3d"dijit/Dialog" title\x3d"Are you sure?"\x3e\n        \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n            \x3cp\x3eAre you sure you want to resend this subscriber a confirmation email? This should only be done at the subscriber\'s request for an accidental unsubscribe.\x3c/p\x3e\n\n            \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" class\x3d"button p0" data-dojo-attach-event\x3d"click: resendMember"\x3eResend Confirmation Email\x3c/button\x3e\n                \x3ca href\x3d"#" onclick\x3d"resendModal.hide(); return false;"\x3eCancel\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-id\x3d"deleteModal" data-dojo-attach-point\x3d"deleteModal" data-dojo-type\x3d"dijit/Dialog" title\x3d"Are you sure?"\x3e\n        \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n            \x3cp\x3eYou\'re about to delete this contact.\x3c/p\x3e\n            \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" class\x3d"button p0" data-dojo-attach-event\x3d"click: deleteMember"\x3eDelete\x3c/button\x3e\n                \x3ca href\x3d"#" onclick\x3d"deleteModal.hide(); return false;"\x3eCancel\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Delete modal with 1 option, to hard-delete --\x3e\n    \x3cdiv data-dojo-id\x3d"gdprHardDeleteModal" data-dojo-attach-point\x3d"gdprHardDeleteModal" data-dojo-type\x3d"dijit/Dialog" title\x3d"Are you sure?" data-dojo-props\x3d"onHide:function(){gdprHardDeleteConfirm.clearInputField();}"\x3e\n        \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n            \x3cp\x3eYou\'re about to delete this contact.\x3c/p\x3e\n            \x3clabel class\x3d"margin-bottom--lv3"\x3e\n                \x3cinput type\x3d"radio" name\x3d"delete_contact" data-dojo-attach-point\x3d"gdprHardDeleteRadio" data-dojo-type\x3d"dijit/form/RadioButton" checked /\x3eDelete and remove\n                \x3cspan class\x3d"margin-left--lv6 display--block font-weight--normal"\x3eThe contact and their personal data will be permanently removed from your list. Their anonymous activity data will be included in your reports.\x3c/span\x3e\n            \x3c/label\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/ConfirmInput" data-dojo-props\x3d"confirm: \'DELETE\'" data-dojo-id\x3d"gdprHardDeleteConfirm" data-dojo-attach-point\x3d"gdprHardDeleteConfirm"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" class\x3d"button p0" data-dojo-attach-point\x3d"gdprHardDeleteBtn" data-dojo-attach-event\x3d"click: hardDeleteMember"\x3eDelete\x3c/button\x3e\n                \x3ca href\x3d"#" onclick\x3d"gdprHardDeleteModal.hide(); return false;"\x3eCancel\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Delete modal with 2 options --\x3e\n    \x3cdiv data-dojo-id\x3d"gdprDeleteModal" data-dojo-attach-point\x3d"gdprDeleteModal" data-dojo-type\x3d"dijit/Dialog" title\x3d"Are you sure?" data-dojo-props\x3d"onHide:function(){confirmDelete.clearInputField();}"\x3e\n        \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n            \x3cp\x3eYou\'re about to delete this contact.\x3c/p\x3e\n            \x3c!-- soft delete --\x3e\n            \x3clabel\x3e\n                \x3cinput type\x3d"radio" name\x3d"delete_contact" data-dojo-attach-point\x3d"softDeleteRadio" data-dojo-type\x3d"dijit/form/RadioButton" checked /\x3eDelete and archive\n                \x3cspan class\x3d"margin-left--lv6 display--block font-weight--normal"\x3eThe contact will be removed from your list, but their activity data will remain available in your campaign reports.\x3c/span\x3e\n            \x3c/label\x3e\n            \x3c!-- hard delete --\x3e\n            \x3clabel class\x3d"margin-bottom--lv3"\x3e\n                \x3cinput type\x3d"radio" name\x3d"delete_contact" data-dojo-attach-point\x3d"hardDeleteRadio" data-dojo-type\x3d"dijit/form/RadioButton" /\x3eDelete and remove\n                \x3cspan class\x3d"margin-left--lv6 display--block font-weight--normal"\x3eThe contact and their personal data will be permanently removed from your list. Their anonymous activity data will be included in your reports.\x3c/span\x3e\n            \x3c/label\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/ConfirmInput" data-dojo-props\x3d"confirm: \'DELETE\'" data-dojo-id\x3d"confirmDelete" data-dojo-attach-point\x3d"confirmDelete"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n                \x3cbutton data-dojo-type\x3d"dijit/form/Button" class\x3d"button p0" data-dojo-attach-point\x3d"deleteBtn" data-dojo-attach-event\x3d"click: deleteMember"\x3eDelete\x3c/button\x3e\n                \x3ca href\x3d"#" onclick\x3d"gdprDeleteModal.hide(); return false;"\x3eCancel\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/contact-profile/templates/activity-feed.html":'\x3cdiv class\x3d"line section" aria-label\x3d"Activity Feed"\x3e\n    \x3c!-- Filter activities --\x3e\n    \x3cselect aria-label\x3d"Activity Feed Filter" data-dojo-id\x3d"filter-activity-feed" data-dojo-attach-point\x3d"activityTypeFilter" class\x3d"float-right" name\x3d"filters" data-dojo-type\x3d"dijit/form/Select"\x3e\x3c/select\x3e\n\n    \x3cdiv class\x3d"size1of1 lastUnit nochange feed-container"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"feedListContainer" class\x3d"activity-feed"\x3e\x3c/div\x3e\n\n        \x3c!-- Empty block --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"emptyBlock" class\x3d"empty-feed hide"\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/NoDataBlock" data-dojo-props\x3d"type: \'contact-activity\'"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Show more activities --\x3e\n        \x3cbutton data-dojo-attach-point\x3d"showMoreActivitiesButton" class\x3d"button !margin-right--lv0 hide"\x3eView More\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/contact-profile/templates/activity-feed/activity-item-conversation.html":'\x3cli data-dojo-attach-point\x3d"conversationItemContainer" class\x3d"flex flex-direction--row !padding-top--lv2"\x3e\n\n    \x3cdiv class\x3d"feed-icon-container"\x3e\n        \x3cimg src\x3d"${data.avatar_url}" class\x3d"feed-icon" /\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"feed-content-container"\x3e\n        \x3cdiv\x3e\n            \x3cstrong\x3e${data.label}\x3c/strong\x3e\n            \x3cspan\x3e${data.message_text}\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv\x3e\n            \x3cspan class\x3d"dim-el small-meta margin-bottom--lv0 margin-right--lv1"\x3e${data.displayTime}\x3c/span\x3e\n            \x26bull;\n            \x3cspan class\x3d"margin-left--lv1"\x3e\x3ca href\x3d"${campaignConversationUrl}" target\x3d"_blank"\x3eView Conversation\x3c/a\x3e\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/li\x3e',
"url:mojo/widgets/contact-profile/templates/activity-feed/activity-item-ecomm-order-item.html":'\x3cdiv data-dojo-attach-point\x3d"orderItemContainer" class\x3d"flex flex-direction--row border-radius--lv2 order-item-container"\x3e\n    \x3cspan data-dojo-attach-point\x3d"quantityBadge" class\x3d"hide item-badge-count small-meta fwb"\x3e${item.quantity}\x3c/span\x3e\n    \x3cdiv class\x3d"order-item-image" data-dojo-attach-point\x3d"orderItemImage"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"order-item-info  padding-right--lv1 overflow-hidden"\x3e\n        \x3cp class\x3d"font-weight--bold small-meta order-item-text"\x3e${item.name}\x3c/p\x3e\n        \x3cp class\x3d"small-meta order-item-text"\x3e${item.cost}\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:mojo/widgets/contact-profile/templates/activity-feed/activity-item-ecomm-order.html":'\x3cli data-dojo-attach-point\x3d"ecommItemContainer" class\x3d"flex flex-direction--row width--100 !padding-top--lv2 !padding-bottom--lv1 quad-height"\x3e\n\n    \x3cdiv class\x3d"feed-icon-container"\x3e\n        \x3cimg src\x3d"${data.icon}" /\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"feed-content-container"\x3e\n        \x3cspan\x3e\n            \x3cstrong\x3e${data.label} \x3c/strong\x3e${purchaseCount} item(s) for a total of \x3cstrong\x3e${data.order_total}\x3c/strong\x3e.\n        \x3c/span\x3e\n        \x3cp class\x3d"dim-el margin-bottom--lv0"\x3e\n            \x3cspan class\x3d"small-meta dim-el"\x3e${data.displayTime}\x3c/span\x3e\n            \x26bull;\n            \x3cspan\x3e ${data.store_name} \x3c/span\x3e\n            \x3cspan\x3eorder \x3ca href\x3d"${data.order_url}" target\x3d"_blank"\x3e${data.order_id}\x3c/a\x3e\x3c/span\x3e\n        \x3c/p\x3e\n        \x3cul class\x3d"order-activity-container width--100 padding-top--lv2 overflow--hidden" data-dojo-attach-point\x3d"orderItemList"\x3e\n            \x3cli data-dojo-attach-point\x3d"leftItemContainer" class\x3d"order-item-list-item"\x3e\x3c/li\x3e\n            \x3cli data-dojo-attach-point\x3d"centerItemContainer" class\x3d"order-item-list-item"\x3e\x3c/li\x3e\n            \x3cli data-dojo-attach-point\x3d"rightItemContainer" class\x3d"order-item-list-item"\x3e\x3c/li\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n\n\x3c/li\x3e\n',
"url:mojo/widgets/contact-profile/templates/activity-feed/activity-item-email.html":'\x3cli data-dojo-attach-point\x3d"sendItemContainer" class\x3d"flex flex-direction--row !padding-top--lv2 single-height"\x3e\n\n    \x3cdiv class\x3d"feed-icon-container"\x3e\n        \x3cimg src\x3d"${data.icon}" /\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"feed-content-container"\x3e\n        \x3cspan\x3e\n            \x3cstrong\x3e${data.label} \x3c/strong\x3e\n            \x3cspan data-dojo-attach-point\x3d"linkClickedContainer"\x3e\x3c/span\x3e\n            the email \x3ca href\x3d"${campaignUrl}" target\x3d"_blank"\x3e${data.campaign_title}\x3c/a\x3e.\n        \x3c/span\x3e\n        \x3cp class\x3d"dim-el small-meta margin-bottom--lv0"\x3e${data.displayTime}\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/widgets/contact-profile/templates/activity-feed/activity-item-note.html":'\x3cli class\x3d"!padding-top--lv2 double-height"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"noteItemContainer" class\x3d"flex flex-direction--row"\x3e\n        \x3cdiv class\x3d"feed-icon-container"\x3e\n            \x3cimg src\x3d"${data.avatar_url}" class\x3d"feed-icon" /\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"feed-content-container"\x3e\n            \x3cdiv\x3e\n                \x3cstrong class\x3d"block"\x3e${data.created_by} wrote a note:\x3c/strong\x3e\n                \x3cdiv data-dojo-attach-point\x3d"noteTextContainer"\x3e${data.note_text}\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv\x3e\n                \x3cspan class\x3d"dim-el small-meta margin-bottom--lv0 margin-right--lv1"\x3e${data.displayTime}\x3c/span\x3e\n                \x26bull;\n                \x3ca class\x3d"margin-left--lv1 margin-right--lv1 small-meta" data-dojo-attach-event\x3d"click: showEditNoteUI" href\x3d"javascript:;"\x3eEdit\x3c/a\x3e\n                \x3ca class\x3d"small-meta" data-dojo-attach-event\x3d"click: showDeleteConfirmationUI" href\x3d"javascript:;"\x3eDelete\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"editNoteContainer"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"deleteNoteContainer" class\x3d"hide"\x3e\n        \x3cdiv class\x3d"feedback-block warning section" role\x3d"status"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv class\x3d"c-media"\x3e\n                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                        \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                        \x3ch4\x3eAre you sure?\n                        \x3c/h4\x3e\n                        \x3cspan\x3eYou are about to delete this note.\n                        \x3c/span\x3e\n                        \x3cbutton data-dojo-attach-event\x3d"click: deleteNote" class\x3d"button p0 margin-left--lv1"\x3eDelete\x3c/button\x3e\n                        \x3ca data-dojo-attach-event\x3d"click: hideDeleteConfirmationUI" href\x3d"javascript:;"\x3eCancel\x3c/a\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/widgets/contact-profile/templates/add-note.html":'\x3cdiv class\x3d"line section padding-top--lv4"\x3e\n    \x3cdiv class\x3d"size1of1 lastUnit"\x3e\n        \x3cdiv class\x3d"margin-bottom--lv1"\x3e\n            \x3clabel class\x3d"inline" data-dojo-attach-point\x3d"noteHeader"\x3e\x3c/label\x3e\n            \x3cspan class\x3d"small-meta char-count-container float-right"\x3e\n                \x3cspan class\x3d"char-count"\x3e\x3cspan data-dojo-attach-point\x3d"remainingCharsContainer"\x3e\x3c/span\x3e characters remaining\x3c/span\x3e\n            \x3c/span\x3e\n        \x3c/div\x3e\n        \x3ctextarea data-dojo-attach-point\x3d"noteTextarea" class\x3d"full-width !margin-bottom--lv3" rows\x3d"4" placeholder\x3d"Write an internal note here" \x3e\x3c/textarea\x3e\n        \x3cspan\x3e\n            \x3cbutton data-dojo-attach-point\x3d"saveNoteButton" class\x3d"button p0 float-left disabled"\x3eAdd Note\x3c/button\x3e\n            \x3ca data-dojo-attach-point\x3d"cancelNoteButton" class\x3d"hide" href\x3d"javascript:;"\x3eCancel\x3c/a\x3e\n        \x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/contact-profile/templates/activity-feed/activity-item-sub-unsub.html":'\x3cli data-dojo-attach-point\x3d"conversationItemContainer" class\x3d"flex flex-direction--row !padding-top--lv2 single-height"\x3e\n\n    \x3cdiv class\x3d"feed-icon-container"\x3e\n        \x3cimg src\x3d"${data.icon}" /\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"feed-content-container"\x3e\n        \x3cspan\x3e\n            \x3cstrong\x3e${data.label}\x3c/strong\x3e\n            via\n            \x3cspan data-dojo-attach-point\x3d"unsubContentContainer"\x3e\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"reasonTextContainer"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n        \x3cp class\x3d"dim-el small-meta margin-bottom--lv0"\x3e${data.displayTime}\x3c/p\x3e\n    \x3c/div\x3e\n\n\x3c/li\x3e',
"url:mojo/widgets/contact-profile/templates/fields-list-item-container.html":'\x3cli class\x3d"line" data-dojo-attach-point\x3d"listItemContainer"\x3e\n    \x3cdiv class\x3d"unit size3of8 padding-left--lv0 padding-right--lv0"\x3e\n        \x3cp data-dojo-attach-point\x3d"labelContainer" class\x3d"dim-el contact-field" title\x3d"${data.label}"\x3e${data.label}\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"valueContainer" class\x3d"lastUnit size5of8"\x3e\n    \x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/widgets/contact-profile/templates/fields-list.html":'\x3cdiv data-dojo-attach-point\x3d"listOuterContainer" class\x3d"padding-top--lv4 padding-bottom--lv4 border-top hide"\x3e\n    \x3cspan class\x3d"clear"\x3e\n        \x3ch4 class\x3d"inline" data-dojo-attach-point\x3d"listNameContainer"\x3e${listName}\x3c/h4\x3e\n        \x3ca data-dojo-attach-point\x3d"editLink" href\x3d"javascript:;" class\x3d"inline float-right hide"\x3eEdit\x3c/a\x3e\n    \x3c/span\x3e\n    \x3cul class\x3d"padding-top--lv2" data-dojo-attach-point\x3d"listContainer"\x3e\x3c/ul\x3e\n\x3c/div\x3e',
"url:mojo/widgets/contact-profile/templates/contact-fields.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"line section"\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"unit size1of2 nochange"\x3e\n                \x3ch4 class\x3d"!margin-bottom--lv0"\x3e\n                    ${openRate}%\n                \x3c/h4\x3e\n                \x3cp class\x3d"dim-el"\x3eOpen rate\x3c/p\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"lastUnit size1of2 nochange"\x3e\n                \x3ch4 class\x3d"!margin-bottom--lv0"\x3e\n                   ${clickRate}%\n                \x3c/h4\x3e\n                \x3cp class\x3d"dim-el"\x3eClick rate\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c!-- Only show this block for lists with the ecomm module --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"ecommEngagementContainer" class\x3d"line padding-top--lv4 hide"\x3e\n            \x3cdiv class\x3d"unit size1of2 nochange"\x3e\n                \x3ch4 class\x3d"!margin-bottom--lv0"\x3e\n                    ${currency_symbol}${ecomm_total}\n                \x3c/h4\x3e\n                \x3cp class\x3d"dim-el"\x3eTotal revenue\x3c/p\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"lastUnit size1of2 nochange"\x3e\n                \x3ch4 class\x3d"!margin-bottom--lv0"\x3e\n\n                    ${currency_symbol}${order_average}\n                \x3c/h4\x3e\n                \x3cp class\x3d"dim-el"\x3eAverage order value\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"nonEcommEngagementContainer" class\x3d"line padding-top--lv4 hide"\x3e\n            \x3cdiv class\x3d"unit size1of2 nochange"\x3e\n                \x3ch4 class\x3d"!margin-bottom--lv0"\x3e\x26mdash;\x3c/h4\x3e\n                \x3cp class\x3d"dim-el"\x3eTotal revenue\x3c/p\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"lastUnit size1of2 nochange"\x3e\n                \x3ch4 class\x3d"!margin-bottom--lv0"\x3e\x26mdash;\x3c/h4\x3e\n                \x3cp class\x3d"dim-el"\x3eAverage order value\x3c/p\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"lastUnit size1of1 padding-top--lv1"\x3e\n                \x3cspan class\x3d"small-meta dim-el fwb"\x3e\x3ca href\x3d"${connectStoreUrl}"\x3eConnect your store\x3c/a\x3e to get order data.\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"contactFieldsContainer"\x3e\x3c/div\x3e\n\n    \x3c!-- Only show this block for lists without the social profiles module --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"enhanceContainer" class\x3d"line section margin--lv2 border-radius--lv2 enhance-background hide"\x3e\n        \x3cdiv class\x3d"padding--lv2 !padding-top--lv4 !padding-bottom--lv4 border-radius--lv2 bg-white"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1 padding-bottom--lv4"\x3e\n                Learn more about contacts on your list using \x3ca href\x3d"https://kb.mailchimp.com/accounts/billing/use-social-profiles" target\x3d"_blank"\x3eSocial Profiles\x3c/a\x3e.\n            \x3c/div\x3e\n            \x3cspan class\x3d"lastUnit size1of1"\x3e\n            \x3ca href\x3d"${social_profile_buy_module}" data-dojo-attach-point\x3d"socialProfileLink" class\x3d"hide button"\x3eActivate Social Profiles\x3c/a\x3e\n        \x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/contact-profile/templates/star-rating.html":'\x3cul class\x3d"star-rating" data-dojo-attach-point\x3d"starListContainer"\x3e\x3c/ul\x3e',"url:mojo/widgets/contact-profile/templates/profile-overview.html":'\x3cdiv class\x3d"profile-overview hide" data-dojo-attach-point\x3d"profileOverviewContainer"\x3e\n    \x3cdiv class\x3d"flex flex-direction--row padding-bottom--lv2"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"avatarContainer" class\x3d"media-image padding-left--lv2"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"profile-overview-content padding-left--lv2"\x3e\n            \x3ch2 data-dojo-attach-point\x3d"nameContainer" class\x3d"!margin-bottom--lv1"\x3e\x3c/h2\x3e\n            \x3cp\x3eAdded via\n                \x3cspan data-dojo-attach-point\x3d"originatingSourceContainer"\x3e\x3c/span\x3e\n                \x3cspan data-dojo-attach-point\x3d"originatingTimestampContainer"\x3e\x3c/span\x3e\n            \x3c/p\x3e\n            \x3cspan data-dojo-attach-point\x3d"predictedDemoContainer" class\x3d"hide"\x3e\n                \x3cp\x3eGender \x3cspan data-dojo-attach-point\x3d"genderContainer"\x3e\x3c/span\x3e | Age \x3cspan data-dojo-attach-point\x3d"ageContainer"\x3e\x3c/span\x3e\x3c/p\x3e\n            \x3c/span\x3e\n\n            \x3cdiv class\x3d"flex flex-direction--row padding-top--lv1"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"starRatingContainer" class\x3d"display-inline padding-right--lv1"\x3e\x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"statusBadgeContainer" class\x3d"display-inline padding-right--lv1"\x3e\x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"vipBadge" class\x3d"hide display-inline"\x3e\n                    \x3cspan class\x3d"badge info"\x3eVIP\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"actionsContainer" class\x3d"actions-container padding-left--lv2"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Feedback Block --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"feedbackBlockContainer" class\x3d"padding-left--lv2"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/contact-profile/templates/tags.html":'\x3cdiv data-dojo-attach-point\x3d"tagsContainer" class\x3d"tags-container padding-bottom--lv2 margin-bottom--lv2 border-bottom"\x3e\n    \x3cspan class\x3d"clear"\x3e\n        \x3ch4 class\x3d"inline"\x3eTags\x3c/h4\x3e\n        \x3cspan data-dojo-attach-point\x3d"taggingButtonContainer" class\x3d"button-small float-right padding--lv0 !padding-right--lv1"\x3e\n             \x3ca data-dojo-attach-point\x3d"taggingButton" href\x3d"javascript:;"\x3e\x3c/a\x3e\n        \x3c/span\x3e\n    \x3c/span\x3e\n\n    \x3cul data-dojo-attach-point\x3d"contactTagsListContainer" class\x3d"padding-top--lv3 padding-bottom--lv1"\x3e\x3c/ul\x3e\n    \x3cp data-dojo-attach-point\x3d"noContactTags" class\x3d"hide"\x3eNo tags for this contact\x3c/p\x3e\n\x3c/div\x3e',
"url:mojo/widgets/checklist-editor/templates/item.html":'\x3cdiv class\x3d"${this.classNames.join(\' \')} ${isDisabled ? \'c-disabledSlat\' : ""}"\x3e\n    \x3cdiv class\x3d"c-slatMeta_info flex"\x3e\n        \x3cdiv class\x3d"c-slatInfoImage justify-content--center v-slatInfoImage--visible"\x3e\n            \x3cdiv class\x3d"c-slatInfoIcon"\x3e\n                \x3c% if (!isActive \x26\x26 this.isPending \x26\x26 this.isPending(this.model)) { %\x3e\n                    \x3cspan\n                        role\x3d"presentation"\n                        aria-hidden\x3d"true"\n                        data-dojo-type\x3d"mojo/widgets/CircularLoader"\n                        data-dojo-props\x3d"loaderSize:20, strokeWidth: 3"\x3e\n                    \x3c/span\x3e\n                \x3c% } else if (isActive || !this.isComplete(this.model)) { %\x3e\n                    \x3cspan class\x3d"freddicon tick-circle dim2"\x3e\x3c/span\x3e\n                \x3c% } else if (!this.isValid(this.model)) { %\x3e\n                    \x3cspan class\x3d"freddicon cross-fill v-textColorRedLight"\x3e\x3c/span\x3e\n                \x3c% } else { %\x3e\n                    \x3cspan class\x3d"freddicon tick-fill v-textColorGreenLight"\x3e\x3c/span\x3e\n                \x3c% } %\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"c-slatInfo flex"\x3e\n            \x3cdiv class\x3d"c-slatInfoBody min-width--lv0"\x3e\n                \x3ch4 class\x3d"c-slatInfoTitle !margin--lv0"\x3e${this.label}\x3c/h4\x3e\n                \x3cdiv data-dojo-attach-point\x3d"itemContent"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-slatMeta_action centered"\x3e\n        \x3c% if (this.actionLabel \x26\x26 !isActive \x26\x26 !isReadOnly) { %\x3e\n            \x3cbutton\n                ${isDisabled \x26\x26 \'disabled\'}\n                data-dojo-attach-event\x3d"click: activate"\n                class\x3d"c-slatButton button-small ${ !this.isComplete(this.model) || !this.isValid(this.model) ? \'p0\' : \'\'}"\x3e\n                \x3c% if (!this.isComplete(this.model)) { %\x3e\n                    ${this.actionLabel}\n                \x3c% } else if ((!this.isPending || !this.isPending(this.model)) \x26\x26 !this.isValid(this.model)) { %\x3e\n                    ${this.errorLabel}\n                \x3c% } else { %\x3e\n                    ${this.editLabel}\n                \x3c% } %\x3e\n            \x3c/button\x3e\n        \x3c% } %\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/templates/container.html":'\x3c!-- Used in Email, Landing Page, Postcards --\x3e\n\x3cdiv class\x3d"c-checklistEditor"\x3e\n    \x3cdiv class\x3d"flex flex-row"\x3e\n        \x3cdiv class\x3d"full-width" data-dojo-attach-point\x3d"headerContainer"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"full-width flex flex-col-tablet"\x3e\n            \x3cdiv class\x3d"c-checklistEditor_items margin--lv3 border-radius--lv2 border-gray flex-auto" data-dojo-attach-point\x3d"primaryItemsContainer"\x3e\x3c/div\x3e\n            \x3cdiv\n                data-dojo-attach-point\x3d"sidebarContainer"\n                class\x3d"c-checklistEditor_sidebar margin--lv3 margin-left--lv0 margin-right--lv0 flex-shrink-none size1of4 hide full-width-mobile margin--lv0@tablet"\n            \x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"margin--lv3 flex-grow-1 full-width" data-dojo-attach-point\x3d"secondaryItemsContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:mojo/widgets/checklist-editor/templates/_notify-senders.html":'\x3cform action\x3d"${this.notifyUrl}" method\x3d"POST" data-dojo-attach-event\x3d"submit: submit"\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cinput type\x3d"hidden" name\x3d"id" value\x3d"${campaignId}" /\x3e    \n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cp\x3eIs this campaign ready to go? Use this form to email someone who has access to send or schedule.\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Notify other people --\x3e\n        \x3cdiv class\x3d"line section"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3clabel for\x3d"notify"\x3eNotify\x3c/label\x3e\n                \x3cdiv class\x3d"checkbox-group display--inline-block margin-bottom--lv0"\x3e\n                    \x3cdiv class\x3d"field-wrapper"\x3e\n                        \x3cdiv class\x3d"checkbox-group inline"\x3e\n                            \x3c% if (admins \x26\x26 admins.length \x3e 0) { %\x3e\n                                \x3c% for (var i \x3d 0; i \x3c admins.length; i++) { %\x3e\n                                    \x3clabel for\x3d"notify_${admins[i].id}" class\x3d"checkbox"\x3e\n                                        \x3cinput \n                                            type\x3d"checkbox"\n                                            checked\x3d"checked" \n                                            data-dojo-type\x3d"dijit/form/CheckBox" \n                                            name\x3d"notify[]" \n                                            value\x3d"${admins[i].id}"\n                                            data-dojo-props\x3d"onChange: this.updateSelectedAdmins.bind(this, ${admins[i].id}), checked: ${selectedAdmins[admins[i].id]}"\n                                        /\x3e\n                                        ${admins[i].name}\n                                    \x3c/label\x3e\n                                \x3c% } %\x3e\n                            \x3c% } else if (admins) { %\x3e\n                                \x3cp\x3eThere are no admins to notify.\x3c/p\x3e\n                            \x3c% } else { %\x3e\n                                \x3cp\x3eLoading admins...\x3c/p\x3e\n                            \x3c% } %\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3c% if (errorMessage) { %\x3e\n                    \x3cp class\x3d"display--inline-block invalid-error full-width margin--lv0"\x3e${errorMessage}\x3c/p\x3e\n                \x3c% } %\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c!-- /Notify other people --\x3e\n\n        \x3c!-- Message --\x3e\n        \x3cdiv class\x3d"line section"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv class\x3d"field-wrapper"\x3e\n                    \x3clabel for\x3d"message"\x3eMessage\x3c/label\x3e\n                    \x3ctextarea name\x3d"message" id\x3d"message" data-dojo-attach-event\x3d"keyup: updateMessage"\x3e${message}\x3c/textarea\x3e\n                \x3c/div\x3e\n\n                \x3cp\x3eWe\'ll include a link back to this page after your message. Note that any HTML tags will be stripped out.\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n            \x3cbutton\n                ${admins \x26\x26 admins.length \x3e 0 ? "" : "disabled"}\n                class\x3d"button p0 ${isSaving ? "button-loading" : ""}"\n                data-dojo-type\x3d"dijit/form/Button"\n                type\x3d"submit"\n            \x3e\n                Send Notification\n            \x3c/button\x3e\n            \x3ca class\x3d"small-meta font-weight--bold" href\x3d"#" data-dojo-attach-event\x3d"click: cancel"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/form\x3e\n',
"url:mojo/widgets/checklist-editor/templates/presend-warning-row.html":'\x3cdiv class\x3d"c-media"\x3e\n    \x3cdiv class\x3d"c-mediaImage"\x3e\n        \x3cspan class\x3d"freddicon ${iconClasses.join(\' \')}"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-mediaBody"\x3e\n        \x3cp class\x3d"small-meta"\x3e${plaintextMessage}\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n',"url:mojo/widgets/checklist-editor/templates/_send-now.html":'\x3cdiv data-dojo-type\x3d"dijit/Dialog" id\x3d"sendNowModal" data-dojo-id\x3d"sendNowModal" data-dojo-attach-point\x3d"sendNowModal" title\x3d"Prepare for launch"\x3e\n          \x3cdiv class\x3d"dijitDialogPaneContentArea !padding-top--lv0 !padding-bottom--lv0" style\x3d"max-height: none"\x3e\n\n              \x3cdiv class\x3d"margin-bottom--lv2 centered" style\x3d"width:300px; height:300px"\x3e\n                  \x3csvg width\x3d"300" height\x3d"300" id\x3d"freddie-send" style\x3d"margin: 0 auto;display: block;"\x3e\x3c/svg\x3e\n              \x3c/div\x3e\n              \x3c!-- /launch image --\x3e\n\n              \x3cdiv id\x3d"confirm-send-pre" data-dojo-attach-point\x3d"confirmSendPre" class\x3d"alignc"\x3e\n                  \x3cp class\x3d"full-width"\x3eYou\'re about to send a campaign to: \x3cbr /\x3e\n                        \x3c% if (model.list) { %\x3e\n                            \x3cstrong\x3e\x3c%- model.list.name %\x3e\x3c/strong\x3e \x3cbr /\x3e\n                        \x3c% } %\x3e\n                        \x3cstrong\x3e${model.recipients.count} subscribers\x3c/strong\x3e\n                  \x3c/p\x3e\n                  \x3cp class\x3d"small-meta"\x3eThis is your moment of glory.\x3c/p\x3e\n              \x3c/div\x3e\n\n              \x3cdiv id\x3d"confirm-send-post" data-dojo-attach-point\x3d"confirmSendPost" style\x3d"display:none;" class\x3d"alignc"\x3e\n                  \x3cp class\x3d"full-width"\x3eUshering your email into the send queue \x26hellip;\x3c/p\x3e\n                  \x3cimg src\x3d"/css/icons/pulse.gif" class\x3d"pulse"\x3e\n              \x3c/div\x3e\n          \x3c/div\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n      \x3cdiv id\x3d"confirm-send-action" data-dojo-attach-point\x3d"confirmSendAction" class\x3d"alignc"\x3e\n          \x3cinput type\x3d"button" class\x3d"button p0 confirm-send-button" data-dojo-attach-event\x3d"click: sendConfirmed" value\x3d"Send Now" /\x3e\n          \x3ca class\x3d"font-weight--bold small-meta" href\x3d"javascript:;" onclick\x3d"dijit.byId(\'sendNowModal\').hide(); return false;"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/templates/_send-postcard.html":'\x3cdiv data-dojo-type\x3d"dijit/Dialog" id\x3d"sendPostcardModal" data-dojo-id\x3d"sendPostcardModal" data-dojo-attach-point\x3d"sendPostcardModal" title\x3d"Prepare for launch"\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea !padding-top--lv0 !padding-bottom--lv0" style\x3d"max-height: none"\x3e\n\n        \x3cdiv class\x3d"margin-bottom--lv2 centered" style\x3d"width:300px; height:300px"\x3e\n            \x3csvg width\x3d"300" height\x3d"300" id\x3d"freddie-send" style\x3d"margin: 0 auto;display: block;"\x3e\x3c/svg\x3e\n        \x3c/div\x3e\n        \x3c!-- /launch image --\x3e\n\n        \x3cdiv id\x3d"confirm-send-pre" data-dojo-attach-point\x3d"confirmSendPre" class\x3d"alignc"\x3e\n            \x3cp class\x3d"full-width"\x3e${this.getPrimaryPreSendMessage()}\x3c/p\x3e\n            \x3cp class\x3d"small-meta"\x3e${this.getSecondaryPreSendMessage()}\x3c/p\x3e\n        \x3c/div\x3e\n\n        \x3cdiv id\x3d"confirm-send-post" data-dojo-attach-point\x3d"confirmSendPost" style\x3d"display:none;" class\x3d"alignc"\x3e\n            \x3cp class\x3d"full-width"\x3eThe time for fear is past \x26hellip;\x3c/p\x3e\n            \x3cimg src\x3d"/css/icons/pulse.gif" class\x3d"pulse"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3cdiv id\x3d"confirm-send-action" data-dojo-attach-point\x3d"confirmSendAction" class\x3d"alignc"\x3e\n            \x3cform id\x3d"postcard-confirm-send" action\x3d"${this.formUrl}" method\x3d"POST"\x3e\n                \x3cinput type\x3d"hidden" name\x3d"cc-security" id\x3d"hidden-cc-security-input"/\x3e\n                \x3cinput type\x3d"hidden" name\x3d"skip_rrd" id\x3d"hidden-skip-rrd-input"/\x3e\n                \x3cinput type\x3d"hidden" name\x3d"skip_smithers" id\x3d"hidden-skip-smithers-input"/\x3e\n                \x3cinput type\x3d"hidden" name\x3d"id" value\x3d"${model.postcardId}"/\x3e\n                \x3cinput type\x3d"hidden" name\x3d"__csrf_token" value\x3d"${csrfToken}"/\x3e\n            \x3c/form\x3e\n            \x3cinput type\x3d"button" class\x3d"button p0 confirm-send-button" data-dojo-attach-event\x3d"click: sendConfirmed" value\x3d"Send Postcard"/\x3e\n            \x3cinput id\x3d"skip-smithers" type\x3d"button" class\x3d"button p0 confirm-send-button" data-dojo-attach-event\x3d"click: sendConfirmedSkipSmithers" value\x3d"Skip Smithers"/\x3e\n            \x3cinput id\x3d"skip-rrd" type\x3d"button" class\x3d"button p0 confirm-send-button" data-dojo-attach-event\x3d"click: sendConfirmedSkipRRD" value\x3d"Skip RRD"/\x3e\n            \x3cinput id\x3d"skip-rrd-smithers" type\x3d"button" class\x3d"button p0 confirm-send-button" data-dojo-attach-event\x3d"click: sendConfirmedSkipRRDAndSmithers" value\x3d"Skip RRD AND Smithers"/\x3e\n            \x3ca class\x3d"font-weight--bold small-meta" href\x3d"javascript:;" onclick\x3d"dijit.byId(\'sendPostcardModal\').hide(); return false;"\x3eCancel\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/status/templates/campaign-status.html":'\x3cdiv class\x3d"line border-bottom v-clearSafeAreaInset"\x3e\n    \x3cdiv class\x3d"c-statusBarContainer centered"\x3e\n        \x3cdiv class\x3d"c-slatMeta flex padding--lv2 !padding-left-right--lv0"\x3e\n                \x3cdiv class\x3d"c-slatMeta_info flex"\x3e\n                    \x3cdiv class\x3d"c-slatInfoImage"\x3e\n                        \x3cdiv title\x3d"Editing" class\x3d"c-slatInfoIcon flex-self-center"\x3e\n                            \x3cdiv\n                                class\x3d"${this.state.icon.classes}"\n                                \x3c% if (this.state.icon.otherAttrs) { %\x3e\n                                    ${this.state.icon.otherAttrs}\n                                \x3c% } %\x3e\n                            \x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-slatInfo flex"\x3e\n                        \x3cdiv class\x3d"c-slatInfoBody"\x3e\n                            \x3ch4 class\x3d"c-slatInfoStatus !margin--lv0 full-width font-weight--bold p"\x3e\n                                ${heading}\n                                \x3cspan class\x3d"badge ${this.campaignStatusBadge[this.campaignType][this.state.model.status].badge}"\x3e\n                                    ${this.campaignStatusBadge[this.campaignType][this.state.model.status].label}\n                                \x3c/span\x3e\n                            \x3c/h4\x3e\n                            \x3cp class\x3d"c-slatInfoTitle !margin--lv0 small-meta dim-el"\x3e\n                                ${subHeading}\n                            \x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-slatMeta_action flex flex-center flex-grow-none"\x3e\n                    \x3c% if (shouldShowFinishLaterLink) { %\x3e\n                        \x3cp class\x3d"padding-right--lv3 small-meta margin--lv0"\x3e\n                            \x3ca href\x3d"${this.finishLaterUrl}"\x3eFinish later\x3c/a\x3e\n                        \x3c/p\x3e\n                    \x3c% } %\x3e\n                    \x3c% for (i in this.state.buttons) { %\x3e\n                        \x3cbutton\n                            class\x3d"${this.state.buttons[i].classes} ${isItemActive ? \'disabled\' : \'\'}"\n                            \x3c% if (this.state.buttons[i].otherAttrs) { %\x3e\n                                ${this.state.buttons[i].otherAttrs}\n                            \x3c% } %\x3e\n                        \x3e${this.state.buttons[i].value}\x3c/button\x3e\n                    \x3c% } %\x3e\n                \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/status/templates/_send-later.html":'\x3cdiv data-dojo-type\x3d"dijit/Dialog" id\x3d"sendLaterModal" data-dojo-id\x3d"sendLaterModal" data-dojo-attach-point\x3d"sendLaterModal" title\x3d"Schedule Your Campaign"\x3e\n  \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n\n      \x3cdiv class\x3d"media"\x3e\n          \x3cdiv class\x3d"media-image"\x3e\n              \x3cdiv data-mc-el\x3d"scheduleClock"\x3e\x3c/div\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"media-body"\x3e\n              \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                  \x3ch3 class\x3d"!margin-bottom--lv2"\x3eSet up your schedule\x3c/h3\x3e\n                  \x3cdiv id\x3d"delivery-wrapper"\x3e\n                      \x3cdiv id\x3d"schedule-time"\x3e\n                          \x3cform action\x3d"${formAction}" method\x3d"POST" id\x3d"schedule-form" class\x3d"selfclear"\x3e\n                              \x3cinput type\x3d"hidden" name\x3d"id" value\x3d"${this.model.campaignId}" /\x3e\n                              \x3cdiv id\x3d"schedule-time-panel"\x3e\n                                  \x3cdiv id\x3d"delivery-datetime"\x3e\n                                      \x3c!-- SCHEDULE DATE --\x3e\n                                      \x3cdiv class\x3d"lastGroup size1of2"\x3e\n                                          \x3ch4 class\x3d"p font-weight--bold !margin-bottom--lv2"\x3eDelivery date\x3c/h4\x3e\n                                          \x3cinput class\x3d"!margin-bottom--lv4" type\x3d"text" data-dojo-type\x3d"dijit/form/DateTextBox" constraints\x3d"{ datePattern:\'MMMM d yyy\', min:\'${minimumScheduleTime}\' }" id\x3d"schedule-date" name\x3d"schedule-date" value\x3d"${scheduledDate}" required\x3d"true" /\x3e\n                                      \x3c/div\x3e\n                                  \x3c/div\x3e\n                                  \x3cdiv class\x3d"delivery-time section"\x3e\n                                      \x3ch4 class\x3d"p font-weight--bold !margin-bottom--lv2"\x3eDelivery time\x3c/h4\x3e\n                                      \x3cul class\x3d"schedule-list lastGroup size1of1"\x3e\n                                          \x3c!-- SCHEDULE TIME --\x3e\n                                          \x3cli\x3e\n                                              \x3clabel for\x3d"single-delivery" class\x3d"single-delivery radio full-width"\x3e\n                                                  \x3cinput name\x3d"schedule-options" id\x3d"single-delivery" type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton" checked value\x3d"singled" /\x3eSend at a specific time\n                                              \x3c/label\x3e\n                                              \x3cdiv class\x3d"schedule-meta"\x3e\n                                                  \x3c!-- SCHEDULE TIME --\x3e\n                                                  \x3cselect id\x3d"schedule-hour" class\x3d"select-small" name\x3d"schedule-hour" style\x3d"width:auto"\x3e\n                                                    \x3c% for (var i \x3d 1; i \x3c\x3d 12; i++) { %\x3e\n                                                        \x3coption value\x3d"${i}" ${i \x3d\x3d\x3d this.state.scheduledHour ? "selected\x3d\'selected\'" : ""}\x3e${i}\x3c/option\x3e\n                                                    \x3c% } %\x3e\n                                                  \x3c/select\x3e\n                                                  \x3cspan class\x3d"p inline-block-i"\x3e:\x3c/span\x3e\n                                                  \x3cselect id\x3d"schedule-minute" class\x3d"select-small" name\x3d"schedule-minute" style\x3d"width:auto"\x3e\n                                                    \x3c% for (var i \x3d 0; i \x3c 60; i +\x3d 15) { %\x3e\n                                                        \x3coption value\x3d"${i \x3d\x3d\x3d 0 ? "00" : i}" ${i \x3d\x3d\x3d this.state.scheduledMinute ? "selected\x3d\'selected\'" : ""}\x3e${i \x3d\x3d\x3d 0 ? "00" : i}\x3c/option\x3e\n                                                    \x3c% } %\x3e\n                                                  \x3c/select\x3e\n                                                  \x3cselect id\x3d"schedule-meridiem" class\x3d"select-small" name\x3d"schedule-meridiem" style\x3d"width:auto"\x3e\n                                                      \x3coption value\x3d"AM" ${this.state.scheduledAMPM \x3d\x3d\x3d "AM" ? "selected\x3d\'selected\'" : ""}\x3eAM\x3c/option\x3e\n                                                      \x3coption value\x3d"PM" ${this.state.scheduledAMPM \x3d\x3d\x3d "PM" ? "selected\x3d\'selected\'" : ""}\x3ePM\x3c/option\x3e\n                                                  \x3c/select\x3e\n                                                      \x3cspan id\x3d"schedule-timezone" style\x3d"display:inline-block; margin: 0"\x3e${timezoneLabel}\x3c/span\x3e\n                                                  \x3cdiv class\x3d"p inline-block-i"\x3e\n                                                      \x26middot;\n                                                      \x3ca href\x3d"/account/details"\x3eEdit\x3c/a\x3e\n                                                  \x3c/div\x3e\n                                              \x3c/div\x3e\n                                              \x3cdiv id\x3d"batch-options" class\x3d"batch-options schedule-meta"\x3e\n                                                  \x3c% if (!paidOrAgency) { %\x3e\n                                                      \x3ch4 class\x3d"p"\x3eBatch delivery\x3cspan class\x3d"badge inline success"\x3ePaid Feature\x3c/span\x3e\x3c/h4\x3e\n                                                  \x3c% } %\x3e\n\n                                                  \x3cp class\x3d"full-width !margin-bottom--lv3"\x3eDeliver your campaign to a large list in batches to prevent website-crushing click floods.\x3c/p\x3e\n                                                  \x3c% if (!paidOrAgency) { %\x3e\n                                                      \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" name\x3d"timewarp" value\x3d"batched" id\x3d"batch-delivery-on" disabled /\x3e\n                                                \x3c% } %\x3e\n\n                                                \x3c% if (paidOrAgency) { %\x3e\n                                                    \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" name\x3d"timewarp" value\x3d"batched" id\x3d"batch-delivery-on" /\x3e\n                                                \x3c% } %\x3e\n\n                                                  \x3cspan class\x3d"p inline-block-i font-weight--bold"\x3eSend in\x3c/span\x3e\n\n\n                                                \x3c% if (!paidOrAgency) { %\x3e\n                                                    \x3cselect id\x3d"batch-count" class\x3d"select-small" name\x3d"batch-count"style\x3d"width:auto" disabled\x3e\n                                                \x3c% } else { %\x3e\n                                                    \x3cselect id\x3d"batch-count" class\x3d"select-small" name\x3d"batch-count"style\x3d"width:auto"\x3e\n                                                \x3c% } %\x3e\n                                                      \x3coption value\x3d"2" selected\x3d"selected"\x3e2\x3c/option\x3e\n                                                      \x3coption value\x3d"3"\x3e3\x3c/option\x3e\n                                                      \x3coption value\x3d"4"\x3e4\x3c/option\x3e\n                                                      \x3coption value\x3d"5"\x3e5\x3c/option\x3e\n                                                      \x3coption value\x3d"6"\x3e6\x3c/option\x3e\n                                                      \x3coption value\x3d"7"\x3e7\x3c/option\x3e\n                                                      \x3coption value\x3d"8"\x3e8\x3c/option\x3e\n                                                      \x3coption value\x3d"9"\x3e9\x3c/option\x3e\n                                                      \x3coption value\x3d"10"\x3e10\x3c/option\x3e\n                                                      \x3coption value\x3d"11"\x3e11\x3c/option\x3e\n                                                      \x3coption value\x3d"12"\x3e12\x3c/option\x3e\n                                                      \x3coption value\x3d"13"\x3e13\x3c/option\x3e\n                                                      \x3coption value\x3d"14"\x3e14\x3c/option\x3e\n                                                      \x3coption value\x3d"15"\x3e15\x3c/option\x3e\n                                                      \x3coption value\x3d"16"\x3e16\x3c/option\x3e\n                                                      \x3coption value\x3d"17"\x3e17\x3c/option\x3e\n                                                      \x3coption value\x3d"18"\x3e18\x3c/option\x3e\n                                                      \x3coption value\x3d"19"\x3e19\x3c/option\x3e\n                                                      \x3coption value\x3d"20"\x3e20\x3c/option\x3e\n                                                      \x3coption value\x3d"21"\x3e21\x3c/option\x3e\n                                                      \x3coption value\x3d"22"\x3e22\x3c/option\x3e\n                                                      \x3coption value\x3d"23"\x3e23\x3c/option\x3e\n                                                      \x3coption value\x3d"24"\x3e24\x3c/option\x3e\n                                                      \x3coption value\x3d"25"\x3e25\x3c/option\x3e\n                                                      \x3coption value\x3d"26"\x3e26\x3c/option\x3e\n                                                  \x3c/select\x3e\n                                                  \x3cspan class\x3d"p inline-block-i font-weight--bold"\x3ebatches of \x3cspan data-mc-el\x3d"batchCountLabel" class\x3d"!margin--lv0"\x3e\x3c/span\x3e subscribers\x3c/span\x3e\n\n                                                \x3c% if (!paidOrAgency) { %\x3e\n                                                    \x3cselect id\x3d"batch-minutes" class\x3d"select-small" name\x3d"batch-minutes" style\x3d"width:auto" disabled\x3e\n                                                \x3c% } else { %\x3e\n                                                    \x3cselect id\x3d"batch-minutes" class\x3d"select-small" name\x3d"batch-minutes" style\x3d"width:auto"\x3e\n                                                \x3c% } %\x3e\n                                                      \x3coption value\x3d"5"\x3e5 minutes\x3c/option\x3e\n                                                      \x3coption value\x3d"10"\x3e10 minutes\x3c/option\x3e\n                                                      \x3coption value\x3d"15"\x3e15 minutes\x3c/option\x3e\n                                                      \x3coption value\x3d"20"\x3e20 minutes\x3c/option\x3e\n                                                      \x3coption value\x3d"25"\x3e25 minutes\x3c/option\x3e\n                                                      \x3coption value\x3d"30"\x3e30 minutes\x3c/option\x3e\n                                                      \x3coption value\x3d"60"\x3e1 hour\x3c/option\x3e\n                                                  \x3c/select\x3e\n                                                  \x3cspan class\x3d"p inline-block-i font-weight--bold"\x3eapart\x3c/span\x3e\n                                              \x3c/div\x3e\n                                          \x3c/li\x3e\n\n                                          \x3c!-- TIMEWARP --\x3e\n                                          \x3cli\x3e\n                                              \x3c% if (paidOrAgency \x26\x26 canTimewarp) { %\x3e\n                                                  \x3clabel for\x3d"timewarp-on" class\x3d"timewarp-on radio full-width margin-bottom--lv2"\x3e\n                                                      \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"schedule-options" value\x3d"timewarp" id\x3d"timewarp-on" /\x3eSend with Timewarp\n\n                                                    \x3c% if (!paidOrAgency) { %\x3e\n                                                          \x3cspan class\x3d"badge inline success"\x3ePaid Feature\x3c/span\x3e\n                                                    \x3c% } %\x3e\n\n                                                      \x3cdiv class\x3d"radio-description"\x3e\n                                                          \x3cp class\x3d"full-width !margin-bottom--lv2"\x3eDeliver your campaign according to the recipient\'s time zone.\x3c/p\x3e\n                                                      \x3c/div\x3e\n                                                  \x3c/label\x3e\n                                                  \x3cdiv class\x3d"schedule-meta margin--lv0 hide"\x3e\n                                                      \x3cdiv class\x3d"feedback-block warning margin-bottom--lv2"\x3e\n                                                          \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                                                              \x3cdiv class\x3d"media"\x3e\n                                                                  \x3cdiv class\x3d"media-image"\x3e\n                                                                      \x3cspan class\x3d"freddicon warn-circle-large"\x3e\x3c/span\x3e\n                                                                  \x3c/div\x3e\n                                                                  \x3cdiv class\x3d"media-body"\x3e\n                                                                      \x3ch4\x3eAbout editing Timewarp Campaigns and Time Travel\x3c/h4\x3e\n                                                                      \x3cp\x3eTimewarp Campaigns can\'t be edited when there\'s less than 24 hours until sending begins. It\'s a timezone thing, and we can\'t time travel yet.\x3c/p\x3e\n                                                                  \x3c/div\x3e\n                                                              \x3c/div\x3e\n                                                          \x3c/div\x3e\n                                                      \x3c/div\x3e\n\n                                                      \x3cp\x3eThis campaign will go out via Timewarp to \x3cstrong\x3e${sendCount} subscribers\x3c/strong\x3e\x3c% if (listName) { %\x3e on your \x3cstrong\x3e${listName}\x3c/strong\x3e list\x3c% } %\x3e.\x3c/p\x3e\n                                                      \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n                                                          \x3cbutton class\x3d"button" data-dojo-type\x3d"dijit/form/Button" type\x3d"submit"\x3eStart Timewarp\x3c/button\x3e\n                                                          \x3ca class\x3d"small-meta font-weight--bold" href\x3d"#" onclick\x3d"dijit.byId(\'confirm-timewarp\').hide(); return false;"\x3eCancel\x3c/a\x3e\n                                                      \x3c/div\x3e\n                                                  \x3c/div\x3e\n                                            \x3c% } %\x3e\n\n                                            \x3c% if (!paidOrAgency) { %\x3e\n                                                  \x3clabel for\x3d"timewarp-on" class\x3d"timewarp-on radio full-width"\x3e\n                                                      \x3cinput disabled\x3d"disabled" type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"schedule-options" value\x3d"timewarp" id\x3d"timewarp-on" /\x3eSend with Timewarp\n\n                                                      \x3c% if (!paidOrAgency) { %\x3e\n                                                          \x3cspan class\x3d"badge inline success"\x3ePaid Feature\x3c/span\x3e\n                                                      \x3c% } %\x3e\n\n                                                      \x3cdiv class\x3d"radio-description"\x3e\n                                                          \x3cp class\x3d"full-width !margin-bottom--lv3"\x3eDeliver your campaign according to the recipient\'s time zone.\x3c/p\x3e\n                                                          \x3ca class\x3d"p" href\x3d"/account/billing-plan"\x3eUpgrade\x3c/a\x3e\n                                                      \x3c/div\x3e\n                                                  \x3c/label\x3e\n                                            \x3c% } %\x3e\n\n                                            \x3c% if (paidOrAgency \x26\x26 canTimewarp) { %\x3e\n                                              \x3cdiv class\x3d"schedule-meta timewarp-options hide"\x3e\n                                                  \x3cselect id\x3d"schedule-hour-timewarp" class\x3d"select-small" name\x3d"schedule-hour-timewarp" style\x3d"width:auto"\x3e\n                                                      \x3coption value\x3d"1"\x3e1\x3c/option\x3e\n                                                      \x3coption value\x3d"2"\x3e2\x3c/option\x3e\n                                                      \x3coption value\x3d"3"\x3e3\x3c/option\x3e\n                                                      \x3coption value\x3d"4"\x3e4\x3c/option\x3e\n                                                      \x3coption value\x3d"5"\x3e5\x3c/option\x3e\n                                                      \x3coption value\x3d"6"\x3e6\x3c/option\x3e\n                                                      \x3coption value\x3d"7"\x3e7\x3c/option\x3e\n                                                      \x3coption value\x3d"8"\x3e8\x3c/option\x3e\n                                                      \x3coption value\x3d"9"\x3e9\x3c/option\x3e\n                                                      \x3coption value\x3d"10"\x3e10\x3c/option\x3e\n                                                      \x3coption value\x3d"11"\x3e11\x3c/option\x3e\n                                                      \x3coption value\x3d"12"\x3e12\x3c/option\x3e\n                                                  \x3c/select\x3e\n                                                  \x3cspan class\x3d"p inline-block-i"\x3e:\x3c/span\x3e\n                                                  \x3cselect id\x3d"schedule-minute-timewarp" class\x3d"select-small" name\x3d"schedule-minute-timewarp" style\x3d"width:auto"\x3e\n                                                      \x3coption value\x3d"00"\x3e00\x3c/option\x3e\n                                                      \x3coption value\x3d"15"\x3e15\x3c/option\x3e\n                                                      \x3coption value\x3d"30"\x3e30\x3c/option\x3e\n                                                      \x3coption value\x3d"45"\x3e45\x3c/option\x3e\n                                                  \x3c/select\x3e\n                                                  \x3cselect id\x3d"schedule-meridiem-timewarp" class\x3d"select-small" name\x3d"schedule-meridiem-timewarp" style\x3d"width:auto"\x3e\n                                                      \x3coption value\x3d"AM"\x3eAM\x3c/option\x3e\n                                                      \x3coption value\x3d"PM"\x3ePM\x3c/option\x3e\n                                                  \x3c/select\x3e\n                                                      \x3cspan id\x3d"schedule-timezone" style\x3d"display:inline-block; margin: 0"\x3eRecipient\'s time zone\x3c/span\x3e\n                                                  \x3cdiv class\x3d"p inline-block-i"\x3e\n                                                  \x3c/div\x3e\n                                              \x3c/div\x3e\n                                            \x3c% } %\x3e\n                                          \x3c/li\x3e\n\n                                          \x3cli\x3e\n                                              \x3c% if (paidOrAgency) { %\x3e\n                                                  \x3clabel for\x3d"optimize-on" class\x3d"optimize-on radio full-width"\x3e\n                                                      \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"schedule-options" value\x3d"optimize" id\x3d"optimize-on" /\x3eLet MailChimp optimize send time for maximum engagement\n                                                    \x3c% if (!paidOrAgency) { %\x3e\n                                                          \x3cspan class\x3d"badge inline success"\x3ePaid Feature\x3c/span\x3e\n                                                    \x3c% } %\x3e\n                                                  \x3c/label\x3e\n                                              \x3c% } %\x3e\n\n                                              \x3c% if (!paidOrAgency) { %\x3e\n                                                  \x3clabel for\x3d"optimize-on" class\x3d"optimize-on radio full-width"\x3e\n                                                      \x3cinput disabled\x3d"disabled" type\x3d"radio" data-dojo-type\x3d"dijit/form/RadioButton" name\x3d"schedule-options" value\x3d"optimize" id\x3d"optimize-on" /\x3eLet MailChimp optimize time for maximum engagement\n                                                    \x3c% if (!paidOrAgency) { %\x3e\n                                                          \x3cspan class\x3d"badge inline success"\x3ePaid Feature\x3c/span\x3e\n                                                    \x3c% } %\x3e\n                                                  \x3c/label\x3e\n                                              \x3c% } %\x3e\n\n\n                                              \x3cinput type\x3d"hidden" name\x3d"schedule-hour-optimized" id\x3d"schedule-hour-optimized"/\x3e\n                                              \x3cinput type\x3d"hidden" name\x3d"schedule-meridiem-optimized" id\x3d"schedule-meridiem-optimized"/\x3e\n\n                                              \x3cdiv class\x3d"optimize-option schedule-meta hide"\x3e\n                                                  \x3cp id\x3d"optimizing"\x3e\x3cimg src\x3d"/css/icons/pulse.gif" class\x3d"pulse margin--lv2 !margin-left--lv0 inline-block-i"\x3e Calculating optimal time\x26nbsp;\x26hellip;\x3c/p\x3e\n                                                  \x3cp id\x3d"optimized"\x3e\n                                                      \x3cspan class\x3d"freddicon tick-circle-large"\x3e\x3c/span\x3e\n                                                      The optimal time to send is \x3cspan id\x3d"optimized-hour" class\x3d"font-weight--bold !margin--lv0"\x3e\x3c/span\x3e.\n                                                      \x3ca href\x3d"http://kb.mailchimp.com/delivery/deliverability-research/find-your-best-sending-time" target\x3d"_blank"\x3eHow is this calculated?\x3c/a\x3e\n                                                  \x3c/p\x3e\n                                                  \x3cp id\x3d"optimized-error"\x3e\x3cspan class\x3d"freddicon cross-circle-large"\x3e\x3c/span\x3e \x3cspan class\x3d"message"\x3e\x3c/span\x3e\x3c/p\x3e\n                                              \x3c/div\x3e\n                                          \x3c/li\x3e\n                                      \x3c/ul\x3e\n                                  \x3c/div\x3e \x3c!-- /Delivery Time --\x3e\n                              \x3c/div\x3e\n                          \x3c/form\x3e\n                      \x3c/div\x3e\n                  \x3c/div\x3e\n              \x3c/div\x3e\n          \x3c/div\x3e\n      \x3c/div\x3e\n\n\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3cinput type\x3d"button" class\x3d"button p0 send-button" data-dojo-attach-event\x3d"click: doSchedule" value\x3d"Schedule Campaign" /\x3e\n        \x3ca href\x3d"#" onclick\x3d"dijit.byId(\'sendLaterModal\').hide(); return false;"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/plainTextForm.html":'\x3cdiv\x3e\n    \x3ctextarea class\x3d"full-width" data-dojo-attach-point\x3d"textInput"\x3e\x3c/textarea\x3e\n\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"saveBtn" class\x3d"button p0"\x3eSave\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelBtn" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"regenBtn" class\x3d"button float-right !margin-right--lv0"\x3eRegenerate from HTML\x3c/a\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/neapolitan/templates/socialShare.html":'\x3cdiv id\x3d"share-settings" class\x3d"slider-editor" style\x3d"visibility: hidden;"\x3e\n    \x3cdiv class\x3d"viewcol split-left padding--lv6"\x3e\n\n        \x3cdiv class\x3d"line section hide" data-dojo-attach-point\x3d"noData"\x3e\n            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/NoDataBlock" data-dojo-props\x3d"type: \'default\', title: \'No image found\', message: \'\'"\x3e\n                    \x3cp class\x3d"c-noDataBlock_message"\x3eYou\'ll need to add an image to this campaign to use Social Cards. \x3ca href\x3d"http://kb.mailchimp.com/campaigns/previews-and-tests/enable-and-customize-social-cards" target\x3d"_blank"\x3eLearn more\x3c/a\x3e\x3c/p\x3e\n                    \x3ca href\x3d"#0" data-dojo-attach-point\x3d"editCampaign" class\x3d"c-noDataBlock_action button p0"\x3eEdit Campaign\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"promotionPreview" style\x3d"margin: auto; max-width: 700px;"\x3e\n            \x3cul class\x3d"mini-tabs"\x3e\n                \x3cli\x3e\x3ca class\x3d"pr-preview-link active" href\x3d"#" data-tag\x3d"twitter"\x3eTwitter\x3c/a\x3e\x3c/li\x3e\n                \x3cli\x3e\x3ca class\x3d"pr-preview-link" href\x3d"#" data-tag\x3d"facebook"\x3eFacebook\x3c/a\x3e\x3c/li\x3e\n                \x3cli\x3e\x3ca class\x3d"pr-preview-link" href\x3d"#" data-tag\x3d"pinterest"\x3ePinterest\x3c/a\x3e\x3c/li\x3e\n            \x3c/ul\x3e\n            \x3cdiv class\x3d"promotion-preview"\x3e\n                \x3cdiv class\x3d"pr-preview" id\x3d"pr-twitter"\x3e\n                    \x3cdiv class\x3d"media margin--auto section"\x3e\n                        \x3cdiv class\x3d"media-image"\x3e\n                            \x3cimg class\x3d"pr-img" src\x3d"/images/blank.gif" /\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"media-body"\x3e\n                            \x3cdiv class\x3d"pr-title"\x3e\x26nbsp;\x3c/div\x3e\n                            \x3cdiv class\x3d"pr-desc"\x3e\x26nbsp;\x3c/div\x3e\n                            \x3ca href\x3d"#" class\x3d"pr-url"\x3eView on web\x3c/a\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cp class\x3d"text-align--center margin--auto small-meta dim-el"\x3eThis Twitter Card preview is just an approximation.\x3c/p\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"pr-preview" id\x3d"pr-facebook" style\x3d"display:none;"\x3e\n                    \x3cdiv id\x3d"pr-facebook-large"\x3e\n                        \x3cdiv class\x3d"media margin--auto section"\x3e\n                            \x3cdiv class\x3d"media-image pr-img-bg" style\x3d"background-image: url(\'/images/blank.gif\')"\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"media-body"\x3e\n                                \x3cdiv class\x3d"pr-title"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3cdiv class\x3d"pr-desc"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3cdiv class\x3d"pr-domain"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3ca href\x3d"#" class\x3d"pr-url"\x3e\x26nbsp;\x3c/a\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv id\x3d"pr-facebook-small"\x3e\n                        \x3cdiv class\x3d"media margin--auto section"\x3e\n                            \x3cdiv class\x3d"media-image pr-img-bg" style\x3d"background-image: url(\'/images/blank.gif\')"\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"media-body"\x3e\n                                \x3cdiv class\x3d"pr-title"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3cdiv class\x3d"pr-desc"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3cdiv class\x3d"pr-domain"\x3e\x26nbsp;\x3c/div\x3e\n                                \x3ca href\x3d"#" class\x3d"pr-url"\x3e\x26nbsp;\x3c/a\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cp class\x3d"text-align--center margin--auto small-meta dim-el"\x3eThe two possible Facebook formats above are just an approximation.\x3c/p\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"pr-preview" id\x3d"pr-pinterest" style\x3d"display:none;"\x3e\n                    \x3cdiv class\x3d"media margin--auto section"\x3e\n                        \x3cdiv class\x3d"media-image"\x3e\n                            \x3cimg class\x3d"pr-img" src\x3d"/images/blank.gif" /\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"media-body"\x3e\n                            \x3cdiv class\x3d"pr-domain-wrap"\x3eFound on \x3cspan class\x3d"pr-domain"\x3e\x26nbsp;\x3c/span\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"pr-title"\x3e\x26nbsp;\x3c/div\x3e\n                            \x3cdiv class\x3d"pr-favicon"\x3e\x3cspan class\x3d"pr-domain"\x3e\x26nbsp;\x3c/span\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"pr-desc"\x3e\x26nbsp;\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cp class\x3d"text-align--center margin--auto small-meta dim-el"\x3eThis Pinterest Rich Pin preview is just an approximation.\x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\n    \x3cdiv class\x3d"mobile-view viewcol split-right"\x3e\n        \x3cdiv class\x3d"colheader drillnavbar text-align--center border-bottom"\x3e\n            \x3ch4\x3eSocial Cards Settings\x3c/h4\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"colbody promotion-settings"\x3e\n            \x3cdiv class\x3d"unit size1of1"\x3e\n                \x3cdiv class\x3d"section border-bottom" style\x3d"padding: 18px 0;"\x3e\n                    \x3cdiv class\x3d"unit size2of3 !padding--lv0" style\x3d"vertical-align: middle; line-height:42px;"\x3eEnable Customized Social Cards\x3c/div\x3e\n                    \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"enableSwitch" data-dojo-type\x3d"mojo/widgets/Switch" class\x3d"alignr lastUnit size1of3 !padding--lv0 !margin-right--lv0"/\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"disabledView"\x3e\n                    \x3cp class\x3d"small-meta dim-el"\x3eChoose an image and text to display each time your campaign URL is shared on Facebook, Twitter, or Pinterest. Auto-posts with images will not include your Social Card.\x3c/p\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"settingsView"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"incompleteWarning" class\x3d"feedback-block warning section hide"\x3e\n                        \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                            \x3cdiv class\x3d"media"\x3e\n                                \x3cdiv class\x3d"media-image"\x3e\x3cspan class\x3d"freddicon warn-circle-large"\x3e\x3c/span\x3e\x3c/div\x3e\n                                \x3cdiv class\x3d"media-body"\x3e\n                                    \x3ch4\x3eIncomplete Social Card\x3c/h4\x3e\n                                    \x3cp\x3e\n                                        Facebook requires only an image, but a title and short description are required for Twitter cards.\n                                        \x3ca href\x3d"#" data-dojo-attach-point\x3d"saveAndCloseAnyway"\x3eSave \x26amp; Close Anyway\x3c/a\x3e\n                                    \x3c/p\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"media !margin-bottom--lv4"\x3e\n                        \x3cp class\x3d"fwb"\x3eFeatured Image\x3c/p\x3e\n                        \x3cdiv class\x3d"media-image pr-img-bg !margin-bottom--lv2"\x3e\x3c/div\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"imageDetails" class\x3d"!margin-bottom--lv4 hide"\x3e\n                            \x3cp class\x3d"fwb" data-dojo-attach-point\x3d"imageCount"\x3eImage \x3cspan data-dojo-attach-point\x3d"imageIndex"\x3e1\x3c/span\x3e of \x3cspan data-dojo-attach-point\x3d"totalImages"\x3e\x3c/span\x3e\x3c/p\x3e\n                            \x3cp class\x3d"fwb" data-dojo-attach-point\x3d"chooseCampaign"\x3eChoose a campaign image\x3c/p\x3e\n                            \x3ca href\x3d"#" data-dojo-attach-point\x3d"prevImage" class\x3d"button"\x3eBack\x3c/a\x3e\n                            \x3ca href\x3d"#" data-dojo-attach-point\x3d"nextImage" class\x3d"button p0"\x3eNext\x3c/a\x3e\n                        \x3c/div\x3e\n\n                        \x3cp class\x3d"small-meta upload-image clear" data-dojo-attach-point\x3d"uploadNoImages"\x3e\x3ca href\x3d"#"\x3eUpload an image\x3c/a\x3e\x3c/p\x3e\n                        \x3cp class\x3d"small-meta clear"  data-dojo-attach-point\x3d"uploadWithImages"\x3eor \x3ca href\x3d"#" class\x3d"upload-image"\x3eupload an image\x3c/a\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n\n                    \x3cfieldset\x3e\n                        \x3cdiv class\x3d"field-wrapper"\x3e\n                            \x3clabel for\x3d"promo-title"\x3eTitle\x3c/label\x3e\n                            \x3cinput type\x3d"text" name\x3d"promo-title" id\x3d"promo-title" data-dojo-attach-point\x3d"socialShareTitle" /\x3e\n                            \x3cdiv class\x3d"invalid-error hide" data-dojo-attach-point\x3d"invalidTitle"\x3e\n                                Please remove any merge tags from the title.\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/fieldset\x3e\n\n                    \x3cfieldset\x3e\n                        \x3cdiv class\x3d"field-wrapper"\x3e\n                            \x3clabel for\x3d"promo-desc"\x3eWrite a short description about this image.\x3c/label\x3e\n                            \x3ctextarea id\x3d"promo-desc" data-dojo-attach-point\x3d"socialShareDescription" spellcheck\x3d"true"\x3e\x3c/textarea\x3e\n                            \x3cdiv class\x3d"field-help always-show"\x3eA two to four sentence description is recommended to increase engagement.\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/fieldset\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n\n            \x3cdiv class\x3d"lastUnit size1of1" id\x3d"promote-nodata" style\x3d"display:none;"\x3e\n                \x3cdiv class\x3d"no-data text-align--center"\x3e\n                    \x3cdiv class\x3d"freddicon campaign"\x3e\n                    \x3c/div\x3e\n                    \x3ch2\x3e\n                        No promotion preview available\n                    \x3c/h2\x3e\n                    \x3cp\x3e\n                        Without adding meta information to your campaign, we have no control over how it will display in Twitter or Facebook.\n                    \x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"lastUnit size1of2" id\x3d"promote-preview"\x3e\n\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n        \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n            \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"saveAndClose"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\n\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/status/templates/page-status.html":'\x3cdiv class\x3d"line border-bottom v-clearSafeAreaInset"\x3e\n    \x3cdiv class\x3d"c-statusBarContainer centered"\x3e\n        \x3cdiv class\x3d"c-slatMeta flex padding--lv2 !padding-left-right--lv0"\x3e\n            \x3cdiv class\x3d"c-slatMeta_info flex"\x3e\n                \x3cdiv class\x3d"c-slatInfoImage${subHeading.length \x3d\x3d\x3d 0 ? \' !padding-bottom--lv0\' : \'\'}"\x3e\n                    \x3cdiv title\x3d"Editing" class\x3d"c-slatInfoIcon flex-self-center"\x3e\n                        \x3cdiv\n                            class\x3d"${this.state.icon.classes}"\n                        \x3c% if (this.state.icon.otherAttrs) { %\x3e\n                        ${this.state.icon.otherAttrs}\n                        \x3c% } %\x3e\n                        \x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-slatInfo flex flex-self-center"\x3e\n                \x3cdiv class\x3d"c-slatInfoBody flex flex-col"\x3e\n                    \x3ch4 class\x3d"c-slatInfoStatus !margin--lv0 full-width font-weight--bold p"\x3e\n                        ${heading}\n                                \x3cspan class\x3d"badge ${this.pageStatusBadge[this.state.model.status].badge}"\x3e\n                                    ${this.pageStatusBadge[this.state.model.status].label}\n                                \x3c/span\x3e\n                    \x3c/h4\x3e\n                    \x3cp class\x3d"c-slatInfoTitle !margin--lv0 small-meta dim-el"\x3e\n                        ${subHeading}\n                    \x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"c-slatMeta_action flex flex-center flex-grow-none"\x3e\n            \x3c% if (shouldShowFinishLaterLink) { %\x3e\n                \x3cp class\x3d"padding-right--lv3 small-meta margin--lv0"\x3e\n                    \x3ca href\x3d"${this.finishLaterUrl}"\x3eFinish later\x3c/a\x3e\n                \x3c/p\x3e\n            \x3c% } %\x3e\n            \x3c% for (i in this.state.buttons) { %\x3e\n            \x3cbutton\n                class\x3d"${this.state.buttons[i].classes} ${isItemActive \x26\x26 \'c-slatDisabled\'}"\n            \x3c% if (this.state.buttons[i].otherAttrs) { %\x3e\n            ${this.state.buttons[i].otherAttrs}\n            \x3c% } %\x3e\n            \x3e${this.state.buttons[i].value}\x3c/button\x3e\n            \x3c% } %\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/CampaignUrlErrorDialog.html":'\x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n    \x3cdiv class\x3d"feedback-block warning section" role\x3d"status"\x3e\n      \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n          \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n            \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n            \x3ch4\x3eCouldn\'t save campaign URL.\x3c/h4\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cp\x3e\n        We\'re having trouble saving your custom campaign URL. This issue could resolve in about 2 hours.\n    \x3c/p\x3e\n    \x3cp\x3e${saveInstructions}\x3c/p\x3e\n    \x3ccode class\x3d"full-width"\x3e\n        ${campaignUrl}\n    \x3c/code\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3cbutton data-dojo-attach-point\x3d"continueButton" class\x3d"button p0" tabindex\x3d"1"\x3e${continueButtonLabel}\x3c/button\x3e\n        \x3ca data-save-on-click data-dojo-attach-point\x3d"cancelButton" href\x3d"${saveAndExitUrl}" class\x3d"small-meta font-weight--bold"\x3e${cancelButtonLabel}\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/status/templates/postcard-status.html":'\x3cdiv class\x3d"line border-bottom v-clearSafeAreaInset"\x3e\n        \x3cdiv class\x3d"c-statusBarContainer centered"\x3e\n            \x3cdiv class\x3d"c-slatMeta flex padding--lv2 !padding-left-right--lv0"\x3e\n                    \x3cdiv class\x3d"c-slatMeta_info flex"\x3e\n                        \x3cdiv class\x3d"c-slatInfoImage"\x3e\n                            \x3cdiv title\x3d"Editing" class\x3d"c-slatInfoIcon flex-self-center"\x3e\n                                \x3cdiv\n                                    class\x3d"${this.state.icon.classes}"\n                                \x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-slatInfo flex"\x3e\n                            \x3cdiv class\x3d"c-slatInfoBody"\x3e\n                                \x3ch4 class\x3d"c-slatInfoStatus !margin--lv0 full-width font-weight--bold p"\x3e\n                                    ${this._getStatusText()}\n                                    \x3cspan class\x3d"badge ${this._getStatusBadgeClass()}"\x3e\n                                        ${this._getStatusBadgeLabel()}\n                                    \x3c/span\x3e\n                                \x3c/h4\x3e\n                                \x3cp class\x3d"c-slatInfoTitle !margin--lv0 small-meta dim-el"\x3e\n                                    Edited on ${this._getLastUpdatedDateString()}\n                                \x3c/p\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-slatMeta_action flex flex-center flex-grow-none"\x3e\n                        \x3c% if (model.status !\x3d\x3d this.POSTCARD_STATUS_DRAFT) { %\x3e\n                            \x3cbutton\n                                class\x3d"c-slatButton button"\n                                data-dojo-attach-event\x3d"click: _redirectToReport"\n                            \x3e\n                                View Report\n                            \x3c/button\x3e\n                        \x3c% } else if (model.status \x3d\x3d\x3d this.POSTCARD_STATUS_DRAFT) { %\x3e\n                            \x3cp class\x3d"padding-right--lv3 small-meta margin--lv0"\x3e\n                                \x3ca href\x3d"${this.finishLaterUrl}"\x3eFinish later\x3c/a\x3e\n                            \x3c/p\x3e\n                            \x3cbutton\n                                class\x3d"c-slatButton button p1 ${isItemActive ? \'disabled\' : \'\'}"\n                                \x3c%\x3d this._canBeSent() ? "data-dojo-attach-event\x3d\'click: send\'" : "disabled\x3d\'disabled\'" %\x3e\n                            \x3e\n                                Send\n                            \x3c/button\x3e\n                        \x3c% } %\x3e\n                    \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    ',
"url:mojo/widgets/checklist-editor/items/templates/postcard-billing-sidebar.html":"\x3c% if (this.state.content) { %\x3e\n    \x3c%\x3d this.state.content %\x3e\n\x3c% } else { %\x3e\n    Loading\n\x3c% } %\x3e\n","url:mojo/widgets/campaigns/templates/CampaignArchiveUrl.html":'\x3cdiv data-dojo-attach-point\x3d"campaignArchive" class\x3d"c-campaignArchiveUrl"\x3e\n    \x3cdiv class\x3d"flex flex-between"\x3e\n        \x3clabel data-dojo-attach-point\x3d"label" for\x3d"url_token"\x3e${label}\x3c/label\x3e\n        \x3cspan data-dojo-attach-point\x3d"urlTokenCharCount" class\x3d"small-meta char-count-container font-weight--bold"\x3e\n            \x3cspan class\x3d"char-count float-right"\x3e\n                \x3cspan data-dojo-attach-point\x3d"campaignTokenNum" id\x3d"campaign-token-num"\x3e150\x3c/span\x3e\n                characters remaining\n            \x3c/span\x3e\n        \x3c/span\x3e\n    \x3c/div\x3e\n    \x3cinput id\x3d"url_token" type\x3d"text" name\x3d"url_token" class\x3d"!margin-bottom--lv0" data-dojo-attach-point\x3d"urlTokenInput" /\x3e\n    \x3cdiv\x3e\n        \x3cspan data-dojo-attach-point\x3d"campaignUrlPreview" class\x3d"word-wrap--break-all white-space--normal"\x3e\n            \x3cspan data-dojo-attach-point\x3d"rootDomainTokenWrap"\x3ehttp://${rootDomain}/${brandToken}/\x3c/span\x3e\x3cspan data-dojo-attach-point\x3d"campaignTokenWrap" class\x3d"c-campaignArchiveUrl_token font-weight--bold"\x3e${campaignToken}\x3c/span\x3e\n        \x3c/span\x3e\n        \x3cspan data-dojo-attach-point\x3d"containerNode"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/accept-terms-dialog.html":'\x3cdiv class\x3d"dijitDialogPaneContentArea min-width--lv0 padding--lv6 padding-top-bottom--lv0"\x3e\n    \x3cp\x3eIf you still wish to proceed, MailChimp will slowly send to the list over a period of hours to monitor the bounce and\n        complaint rates. If the rates remain low, we\'ll complete sending to the remainder of the recipients. All existing\n        addresses previously sent to through the account, and any addresses collected through our double opt-in process will\n        be sent first.\x3c/p\x3e\n    \x3cp\x3ePlease be aware that the new list will be automatically deleted if bounce or complaint rates exceed thresholds. Only\n        the newly imported addresses will be deleted. Any email addresses in the list that you have previously sent to through\n        the account, and any addresses collected through our double opt-in process, will not be removed; you can continue\n        to send to them as usual.\x3c/p\x3e\n    \x3cp\x3eNoting this, we recommend you back up the list data before sending, as outlined in the following guide: \x3ca href\x3d"http://kb.mailchimp.com/lists/managing-subscribers/view-or-export-a-list"\n            target\x3d"_blank"\x3eHow can I view or export my list?\x3c/a\x3e\x3c/p\x3e\n    \x3cp\x3e\x3cstrong\x3eI understand that if my campaign exceeds industry abuse thresholds, MailChimp will delete the list data as described.\x3c/strong\x3e\x3c/p\x3e\n    \x3cfieldset\x3e\n        \x3cinput type\x3d"text" value\x3d"\x3c%- egpPrediction \x26\x26 egpPrediction.userSignedName ? egpPrediction.userSignedName : \'\' %\x3e" name\x3d"accept-terms-signature" id\x3d"accept-terms-signature" placeholder\x3d"Full name"/\x3e\n        \x3cdiv class\x3d"field-help always-show"\x3eEnter you full name to acknowledge the receipt of this warning.\x3c/div\x3e\n    \x3c/fieldset\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3ca class\x3d"button p0" data-dojo-attach-event\x3d"click: onSave"\x3eAccept\x3c/a\x3e\n        \x3ca href\x3d"#0" data-dojo-attach-event\x3d"click: closeDialog"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/bounce-warning-dialog.html":'\x3cdiv class\x3d"dijitDialogPaneContentArea min-width--lv0 padding--lv6 padding-top-bottom--lv0"\x3e\n\x3c% if (egpPrediction \x26\x26 egpPrediction.initialReason \x3d\x3d\x3d "public") { %\x3e\n    \x3cp\x3eTo resolve this issue, we strongly recommend reconfirming the list through double opt-in methods to ensure that all\n        subscribers on the list expect to receive the content you send. If you believe that you have permission to contact\n        these individuals on a one-to-one basis, then you may want to send a reconfirmation email outside of our service\n        so they can double opt-in.\x3c/p\x3e\n    \x3cp\x3eThis article explains how to send a reconfirmation email: \x3ca href\x3d"http://kb.mailchimp.com/lists/managing-subscribers/how-to-reconfirm-a-list"\n            target\x3d"_blank"\x3eHow to Reconfirm a List\x3c/a\x3e\x3c/p\x3e\n    \x3cp\x3eThere are a variety of laws that apply to email marketing, so we encourage you to reference those laws before sending\n        any emails.\x3c/p\x3e\n    \x3cp\x3eThis article has information about common laws: \x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/terms-of-use-and-anti-spam-requirements-for-campaigns"\n            target\x3d"_blank"\x3eWhat is required on my campaign to meet your Terms of Use and follow anti-spam laws?\x3c/a\x3e\x3c/p\x3e\n    \x3c% } else { %\x3e\n        \x3cp\x3eTo resolve this issue, we strongly recommend reconfirming the list through double opt-in methods to ensure that\n            all subscribers on the list expect to receive the content you send. If you believe that you have permission\n            to contact these individuals on a one-to-one basis, then you may want to send a reconfirmation email outside\n            of our service so they can double opt-in.\x3c/p\x3e\n        \x3cp\x3eThis article explains how to send a reconfirmation email: \x3ca href\x3d"http://kb.mailchimp.com/lists/managing-subscribers/how-to-reconfirm-a-list"\n                target\x3d"_blank"\x3eHow to Reconfirm a List\x3c/a\x3e\x3c/p\x3e\n        \x3cp\x3eThere are a variety of laws that apply to email marketing, so we encourage you to reference those laws before\n            sending any emails.\x3c/p\x3e\n        \x3cp\x3eThis article has information about common laws: \x3ca href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/terms-of-use-and-anti-spam-requirements-for-campaigns"\n                target\x3d"_blank"\x3eWhat is required on my campaign to meet your Terms of Use and follow anti-spam laws?\x3c/a\x3e\x3c/p\x3e\n    \x3c% } %\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3ca class\x3d"button p0" data-dojo-attach-event\x3d"click: openAcceptTermsDialog"\x3eSend To This List Anyway\x3c/a\x3e\n        \x3ca href\x3d"#0" data-dojo-attach-event\x3d"click: closeDialog"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/checklist-editor/items/templates/campaign-name.html":'\x3cdiv class\x3d"lastUnit size1of1 header header--checklist selfclear"\x3e\n    \x3c% if (!isActive) { %\x3e\n        \x3ch2 class\x3d"!margin--lv0"\x3e\x3c%- name || \'Untitled\' %\x3e\x3c/h2\x3e\n        \x3cspan class\x3d"${isDisabled ? \'c-disabledSlat\' : \'\'}"\x3e\n            \x3ca data-dojo-attach-event\x3d"click: edit" href\x3d"javascript:" class\x3d"${isDisabled ? \'c-disabledSlat\' : \'\'} margin--lv0 small-meta"\x3eEdit name\x3c/a\x3e\n        \x3c/span\x3e\n    \x3c% } else { %\x3e\n        \x3cform data-dojo-attach-event\x3d"submit: save"\x3e\n            \x3cinput\n                type\x3d"text"\n                id\x3d"name"\n                name\x3d"name"\n                value\x3d"\x3c%- name %\x3e"\n                data-dojo-attach-event\x3d"keyup: updateValue"\n                class\x3d"${error ? \'invalid\' : \'\'}"\n                ${this.isSaving ? \'disabled\' : \'\'} /\x3e\n            \x3cspan class\x3d\'invalid-error\'\x3e${error}\x3c/span\x3e\n            \x3cdiv\x3e\n                \x3cbutton type\x3d"submit" ${isSaving || error ? \'disabled\' : \'\'} class\x3d"button p0 ${isSaving ? \'button-loading\' : \'\'}"\x3e\n                    ${isSaving ? \'Please wait...\' : \'Save\'}\n                \x3c/button\x3e\n                \x3ca href\x3d"javascript:" data-dojo-attach-event\x3d"click: cancel"\x3eCancel\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/form\x3e\n\n    \x3c% } %\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/campaign-url-dialog.html":'\x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n    \x3c% if (isPage) { %\x3e\n          \x3cdiv\x3e\n            \x3cp class\x3d"padding-top-bottom--lv1"\x3e\n              \x3c% if (user.hasVerifiedCustomDomain \x26\x26 user.isActivelyPaying) { %\x3e\n                The default URL includes your verified domain and page title.\n              \x3c% } else if (user.isActivelyPaying) { %\x3e\n                \x3ca href\x3d"http://kb.mailchimp.com/accounts/email-authentication/verify-a-domain" target\x3d"_blank"\x3eVerify a domain\x3c/a\x3e\n                to include your brand in the URL.\n              \x3c% } else { %\x3e\n                Part of your URL is generated randomly. To brand it with a verified domain, upgrade to a paid account.\n              \x3c% } %\x3e\n            \x3c/p\x3e\n            \x3ca href\x3d"https://kb.mailchimp.com/campaigns/landing-pages/customize-landing-page-urls" target\x3d"_blank"\x3eLearn more about landing page URLs\x3c/a\x3e\n          \x3c/div\x3e\n        \x3c% } else { %\x3e\n            \x3cp\x3e\n                Your default \x3ca href\x3d"http://kb.mailchimp.com/campaigns/archives/customize-campaign-urls" target\x3d"_blank"\x3ecampaign URL\x3c/a\x3e includes a domain name and email subject line.\n            \x3c/p\x3e\n            \x3cp\x3e\n            \x3c% if (user.hasVerifiedCustomDomain \x26\x26 user.isActivelyPaying) { %\x3e\n                Choose from your verified domains to update the campaign URL for every campaign you send to this list.\n                You can also edit the email subject part of the URL path.\n            \x3c% } else if (user.isActivelyPaying) { %\x3e\n                \x3ca href\x3d"http://kb.mailchimp.com/accounts/email-authentication/verify-a-domain" target\x3d"_blank"\x3eVerify a domain\x3c/a\x3e\n                to update the campaign URL for every campaign you send to this list. You can also edit the email subject part of the URL path.\n            \x3c% } else { %\x3e\n                The domain name part of your campaign URL is generated randomly. You can edit the email subject part of the URL path here.\n            \x3c% } %\x3e\n            \x3c/p\x3e\n    \x3c% } %\x3e\n    \x3cdiv class\x3d"flex readable-max-width"\x3e\n        \x3cdiv class\x3d"padding--lv1 padding-left--lv0"\x3e\n            \x3clabel class\x3d"invisible small-meta padding-top-bottom--lv0"\x3eDomain\x3c/label\x3e\n            \x3cspan\x3ehttps://${rootDomain}\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv\x3e\n            \x3clabel\x3e\x26nbsp;\x3c/label\x3e\n            \x3cspan\x3e/\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"padding--lv1"\x3e\n            \x3clabel class\x3d"invisible small-meta padding-top-bottom--lv0"\x3eBrand Token\x3c/label\x3e\n            \x3c% if (list \x26\x26 user.hasVerifiedCustomDomain \x26\x26 user.isActivelyPaying) { %\x3e\n                \x3cselect\n                    data-dojo-type\x3d"mojo/widgets/input/InfoSelect"\n                    data-dojo-props\x3d"onChange: this.setValue.bind(this)"\n                    name\x3d"brandToken"\n                    class\x3d"!margin--lv0 flex"\x3e\n                    \x3coption value\x3d""\x3e[Generate Randomly]\x3c/option\x3e\n                    \x3c% for (var i in brands) { %\x3e\n                        \x3coption value\x3d"\x3c%- brands[i] %\x3e" \x3c%- brands[i] \x3d\x3d\x3d brandToken ? \'selected\x3d"selected"\' : \'\' %\x3e\x3e\n                            \x3c%- brands[i] %\x3e\n                        \x3c/option\x3e\n                    \x3c% } %\x3e\n                \x3c/select\x3e\n            \x3c% } else if ((!user.hasVerifiedCustomDomain \x26\x26 user.isActivelyPaying) || !user.isActivelyPaying) { %\x3e\n            \x3cdiv class\x3d"white-space--nowrap"\x3e\n                [Generate Randomly]\n            \x3c/div\x3e\n            \x3c% } else { %\x3e\n            \x3cdiv class\x3d"white-space--nowrap"\x3e\n                [xxxxxxxxxxxxxxxx]\n                \x3cbr\x3e\x3cspan class\x3d"small-meta invalid-error margin--lv0 max-width"\x3ePlease select a list.\x3c/span\x3e\n            \x3c/div\x3e\n            \x3c% } %\x3e\n        \x3c/div\x3e\n        \x3cdiv\x3e\n            \x3clabel\x3e\x26nbsp;\x3c/label\x3e\n            \x3cspan\x3e/\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"padding--lv1 full-width"\x3e\n            \x3cdiv class\x3d"float-right"\x3e\n                \x3cspan class\x3d"small-meta char-count-container font-weight--bold"\x3e\n                    \x3cspan class\x3d"char-count"\x3e\n                        \x3cspan data-dojo-type\x3d"mojo/widgets/CountRemainingCharacters"\n                              data-dojo-props\x3d"\'inputField\': \'campaignToken\', \'characters\': 150, defaultText: \'true\'"\n                              class\x3d"small-meta"\x3e\n                            ${150 - mojo.utils.getSymbolLength(campaignToken)} character${mojo.utils.getSymbolLength(campaignToken) !\x3d\x3d 149 ? \'s\' : \'\'} ${mojo.utils.getSymbolLength(campaignToken) \x3d\x3d\x3d 0 ? \'\' : \'remaining\'}\n                        \x3c/span\x3e\n                    \x3c/span\x3e\n                \x3c/span\x3e\n            \x3c/div\x3e\n            \x3cinput\n                type\x3d"text"\n                value\x3d"\x3c%- campaignToken %\x3e"\n                class\x3d"${errors.campaignToken \x26\x26 \'invalid\'}"\n                name\x3d"campaignToken"\n                data-dojo-attach-event\x3d"onBlur: setValue"\n                id\x3d"campaignToken" /\x3e\n            \x3cdiv class\x3d"invalid-error"\x3e${errors.campaignToken}\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3cbutton\n            ${isSaving \x26\x26 \'disabled\'}\n            data-dojo-type\x3d"dijit/form/Button"\n            data-dojo-props\x3d"onClick: this.save.bind(this)"\n            class\x3d"save-button button p0"\x3e\n            Save\n        \x3c/button\x3e\n        \x3ca href\x3d"javascript:;" data-dojo-attach-event\x3d"click: closeDialog" class\x3d"small-meta font-weight--bold"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/campaign-url.html":'\x3c% if (canCustomizeArchiveUrl) { %\x3e\n\x3cdiv class\x3d"c-slatMeta flex padding--lv6 padding-top--lv0 padding-bottom--lv0"\x3e\n\t\x3cdiv class\x3d"c-slatInfo flex"\x3e\n\t\t\x3cdiv class\x3d"c-slatInfoBody margin-bottom--lv2 min-width--lv0 ${isDisabled \x26\x26 \'c-disabledSlat\'}"\x3e\n\t\t\t\x3ch4 class\x3d"c-slatInfoTitle margin--lv2 margin-top--lv0 margin-bottom--lv0 margin-left--lv0 display--inline-block normal-meta"\x3e${this.label}\x3c/h4\x3e\n\t\t\t\x3cspan\x3ehttps://${rootDomain}/\x3c%- list \x26\x26 brandToken ? brandToken : \'[xxxxxx]\'%\x3e/\x3c%- campaignToken || \'[xxxxxx]\' %\x3e\x3c/span\x3e\n\t\t\t\x3c% if (!mostRecentArchiveMapping || (mostRecentArchiveMapping \x26\x26 mostRecentArchiveMappingCanEdit)) { %\x3e\n                \x3cp class\x3d"inline-block margin--lv0"\x3e\n                    \x3ca class\x3d"margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0 small-meta" href\x3d"javascript:;" data-dojo-attach-event\x3d"click: openDialog"\x3eEdit\x3c/a\x3e\n                \x3c/p\x3e\n            \x3c% } %\x3e\n\t\t\t\x3c% if (isDuplicateCampaignUrl) { %\x3e\n                \x3cp class\x3d"margin-top-bottom--lv0 margin-right--lv0 small-meta invalid-error"\x3eCampaign URL taken by another campaign. Please edit the campaign URL to send.\x3c/p\x3e\n            \x3c% } %\x3e\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n\x3c% } %\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/char-count.html":"\x3cspan id\x3d\"subject-char\" class\x3d\"${charCountRemaining \x3e\x3d 0 ? 'success-text dim6' : 'error-text'} small-meta char-count float-right\"\x3e\n    ${charCountRemaining} characters\n\x3c/span\x3e","url:mojo/widgets/checklist-editor/items/templates/_send-a-test.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3c% if (mode \x3d\x3d\x3d "form") { %\x3e\n            \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n                \x3cdiv id\x3d"test-limit-warning" class\x3d"feedback-block info section ${campaign.testsSent \x3c\x3d 10 \x26\x26 \'hide\'}"\x3e\n                    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                        \x3cdiv class\x3d"media"\x3e\n                            \x3cdiv class\x3d"media-image"\x3e\x3cspan class\x3d"freddicon info-circle"\x3e\x3c/span\x3e\x3c/div\x3e\n                            \x3cdiv class\x3d"media-body"\x3e\n                                \x3ch4\x3eSending a lot of tests?\x3c/h4\x3e\n                                \x3cp\x3eTesting your email is always a good idea, but there are some\n                                    limits on the number of tests that you can send.\n                                    \x3ca href\x3d"http://kb.mailchimp.com/campaigns/previews-and-tests/about-test-email-sending-limits" target\x3d"_blank"\x3eLearn more\x3c/a\x3e\n                                \x3c/p\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3clabel for\x3d"test-email"\x3eSend a test to\x3c/label\x3e\n                \x3cdiv class\x3d"field-wrapper"\x3e\n                    \x3cinput\n                        type\x3d"email"\n                        id\x3d"test-email"\n                        data-dojo-attach-event\x3d"keydown: _handleSendTestKeyPress"\n                        name\x3d"test-email"\n                        tabindex\x3d"1"\n                        value\x3d"\x3c%- campaign.lastTestSend.getDefaultTestEmails() %\x3e"\n                        placeholder\x3d"Ex: freddie@mailchimp.com, mannie@mandrill.com..." /\x3e\n                    \x3cspan class\x3d"field-help always-show"\x3eUse commas to separate multiple emails.\x3c/span\x3e\n                \x3c/div\x3e\n\n                \x3c% if (userLoginsInfo.length \x3e 1) { %\x3e\n                    \x3cdiv\x3e\n                        \x3clabel\n                            for\x3d"sendtest-users"\n                            class\x3d"disclosure-\x3c% if (this._shouldShowLoginsAsOption()) { %\x3eopen\x3c% } else { %\x3eclosed\x3c% } %\x3e !margin-bottom--lv2"\n                            data-dojo-attach-event\x3d"click: disclosureElementA"\n                            data-dojo-attach-point\x3d"disclosureElementLabelA"\x3e\n                            Also send to the following account users\n                        \x3c/label\x3e\n\n                         \x3cul id\x3d"sendtest-users" class\x3d"selfclear" \x3c% if (!this._shouldShowLoginsAsOption()) { %\x3estyle\x3d"display: none"\x3c% } %\x3e\x3e\n                            \x3c% for (var i\x3d0; i \x3c userLoginsInfo.length; i++) { %\x3e\n                                \x3cli class\x3d"unit size1of2 !margin-bottom--lv2"\x3e\n                                    \x3clabel class\x3d"checkbox !margin-bottom--lv0 overflow-ellipsis"\x3e\n                                        \x3cinput\n                                            type\x3d"checkbox"\n                                            data-dojo-type\x3d"dijit/form/CheckBox"\n                                            data-dojo-props\x3d"checked: ${Boolean(userLoginsInfo[i].login_last_test).toString()}"\n                                            name\x3d"send_test_login_\x3c%\x3d userLoginsInfo[i].login_id %\x3e"\n                                            value\x3d"\x3c%\x3d userLoginsInfo[i].login_id %\x3e"\n                                            checked\x3d"checked" /\x3e\n                                        \x3c%\x3d userLoginsInfo[i].login_name %\x3e\n                                        \x3cdiv class\x3d"checkbox-description overflow-ellipsis small-meta"\x3e\x3c%\x3d userLoginsInfo[i].login_email %\x3e\x3c/div\x3e\n                                    \x3c/label\x3e\n                                \x3c/li\x3e\n                            \x3c% } %\x3e\n                        \x3c/ul\x3e\n                    \x3c/div\x3e\n                \x3c% } %\x3e\n\n                \x3clabel\n                    for\x3d"test-message"\n                    class\x3d"disclosure-closed border-above !margin-bottom--lv2"\n                    data-dojo-attach-event\x3d"click: disclosureElementB"\n                    data-dojo-attach-point\x3d"disclosureElementLabelB"\x3e\n                    Include instructions and a personal message \x3cspan class\x3d"small-meta"\x3e(optional)\x3c/span\x3e\n                \x3c/label\x3e\n                \x3cdiv id\x3d"top-bar" class\x3d"padding--lv2 !padding-top-bottom--lv0 !padding-right--lv0" style\x3d"display:none;"\x3e\n                    \x3ctextarea\n                        type\x3d"text"\n                        id\x3d"test-message"\n                        class\x3d"!margin-bottom--lv2"\n                        name\x3d"test-message"\n                        tabindex\x3d"1"\n                        placeholder\x3d"Ex: Hi folks. Please make sure you are OK with the header image. Thanks!"\x3e\n                    \x3c/textarea\x3e\n                \x3c/div\x3e\n\n                \x3c% if (userLoginsInfo.length \x3e 1) { %\x3e\n                    \x3cdiv\x3e\n                        \x3clabel\n                            for\x3d"sendtest-notifications"\n                            class\x3d"disclosure-closed border-above !margin-bottom--lv2"\n                            data-dojo-attach-event\x3d"click: disclosureElementC"\n                            data-dojo-attach-point\x3d"disclosureElementLabelC"\x3e\n                            Who should be notified by email about new comments?\n                        \x3c/label\x3e\n                        \x3cul id\x3d"sendtest-notifications" class\x3d"selfclear" style\x3d"display:none"\x3e\n                            \x3c% for (var i\x3d0; i \x3c userLoginsInfo.length; i++) { %\x3e\n                                \x3cli class\x3d"unit size1of2 !margin-bottom--lv2"\x3e\n                                    \x3clabel class\x3d"checkbox !margin-bottom--lv0 overflow-ellipsis"\x3e\n                                        \x3cinput\n                                            type\x3d"checkbox"\n                                            data-dojo-type\x3d"dijit/form/CheckBox"\n                                            data-dojo-props\x3d"checked: ${Boolean(userLoginsInfo[i].in_notification_recipients).toString()}"\n                                            name\x3d"notify_login_\x3c%\x3d userLoginsInfo[i].login_id %\x3e"\n                                            value\x3d"\x3c%\x3d userLoginsInfo[i].login_id %\x3e" /\x3e\n                                        \x3c%\x3d userLoginsInfo[i].login_name %\x3e\n                                        \x3cdiv class\x3d"checkbox-description overflow-ellipsis small-meta"\x3e\x3c%\x3d userLoginsInfo[i].login_email %\x3e\x3c/div\x3e\n                                    \x3c/label\x3e\n                                \x3c/li\x3e\n                            \x3c% } %\x3e\n                        \x3c/ul\x3e\n                    \x3c/div\x3e\n                \x3c% } %\x3e\n\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n                \x3cdiv class\x3d"float-left"\x3e\n                    \x3cinput type\x3d"button" class\x3d"button p0 send-test-button" value\x3d"Send Test" data-dojo-attach-event\x3d"click: _sendTest" data-dojo-attach-point\x3d"sendTestInput" tabindex\x3d"2" /\x3e\n                    \x3ca data-dojo-attach-event\x3d"click: hide" href\x3d"#0" tabindex\x3d"4"\x3eCancel\x3c/a\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"float-right small-meta link-underline dim-el"\x3e\n                    \x3ca href\x3d"http://mailchimp.com/legal/privacy/" target\x3d"_blank" title\x3d"Privacy Policy" class\x3d"nolink"\x3ePrivacy\x3c/a\x3e and\n                    \x3ca href\x3d"http://mailchimp.com/legal/terms/" target\x3d"_blank" title\x3d"Terms of Use" class\x3d"nolink"\x3eTerms\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c% } else if (mode \x3d\x3d\x3d "success") { %\x3e\n            \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n                \x3cdiv class\x3d"feedback-block success section"\x3e\n                    \x3cdiv class\x3d"unit size1of1"\x3e\n                        \x3cdiv class\x3d"media"\x3e\n                            \x3cdiv class\x3d"media-image"\x3e\n                                \x3cspan class\x3d"freddicon tick-circle"\x3e\x3c/span\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"media-body"\x3e\n                                \x3ch4\x3eBon voyage, test email!\x3c/h4\x3e\n                                \x3cp\x3e\n                                    Your test email is on its way to the test recipients.\n                                    \x3ca\n                                        onclick\x3d"ga(\'send\', \'event\', window.location.pathname, \'help link\', \'list of things you might check\');"\n                                        href\x3d"http://kb.mailchimp.com/campaigns/previews-and-tests/email-campaign-testing-tips"\n                                        target\x3d"_blank"\x3e\n                                        email testing tips\n                                    \x3c/a\x3e\n                                \x3c/p\x3e\n                                \x3cp class\x3d"small-meta"\x3e\x3cstrong\x3eP.S.\x3c/strong\x3e Recipients can reply to your test emails. Their feedback will show up in the comments tab.\x3c/p\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv id\x3d"send-test-samedomain" class\x3d"feedback-block warning section" style\x3d"display: none;"\x3e\n                    \x3cdiv class\x3d"unit size1of1"\x3e\n                        \x3cdiv class\x3d"media"\x3e\n                            \x3cdiv class\x3d"media-body"\x3e\n                                \x3cp\x3e\n                                    \x3cstrong\x3eNote:\x3c/strong\x3e When you send to an email address using the same domain in the reply-to (\x3c%- campaign.fromDomain %\x3e), it can sometimes trigger Gmail and others to categorize it as spam. Check your junk mail if the test doesn\'t arrive in your inbox.\n                                \x3c/p\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n                \x3cbutton data-dojo-attach-event\x3d"click: hide" class\x3d"button p0 finish-tests"\x3eOk\x3c/button\x3e\n                \x3ca href\x3d"#" data-dojo-attach-event\x3d"click: resetSendTestDialog"\x3eSend another test email\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c% } else if (mode \x3d\x3d\x3d "error") { %\x3e\n            \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n                \x3cdiv class\x3d"feedback-block warning section"\x3e\n                    \x3cdiv class\x3d"unit size1of1"\x3e\n                        \x3cdiv class\x3d"media"\x3e\n                            \x3cdiv class\x3d"media-image"\x3e\n                                \x3cspan class\x3d"freddicon warn-circle-large"\x3e\x3c/span\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"media-body"\x3e\n                                \x3ch4\x3eWe were unable to complete all test sends\x3c/h4\x3e\n                                \x3cp\x3eView details below.\x3c/p\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv\x3e\x3c%- errorMessage %\x3e\x3c/div\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n              \x3cbutton data-dojo-attach-event\x3d"click: hide" class\x3d"button p0 finish-tests"\x3eOk\x3c/button\x3e\n              \x3ca href\x3d"#" data-dojo-attach-event\x3d"click: resetSendTestDialog"\x3eSend another test email\x3c/a\x3e\n          \x3c/div\x3e\n        \x3c% } %\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/content.html":'\x3cdiv\x3e\n    \x3c% if (!this.model.renderedHtml) { %\x3e\n        \x3cp class\x3d"c-slatInfoType !margin--lv0 full-width fsi dim-el"\x3e\n            ${this.description}\n        \x3c/p\x3e\n    \x3c% } %\x3e\n\n    \x3cdiv class\x3d"c-slatInfo flex"\x3e\n        \x3cdiv class\x3d"c-slatInfoBody min-width--lv0"\x3e\n\n            \x3c% if (this.actionLabel \x3d\x3d\x3d "Design Email") { %\x3e\n                \x3cdiv class\x3d"lastGroup size3of4 centered full-width-mobile"\x3e\n                    \x3cdiv class\x3d"lastGroup size1of3 centered"\x3e\n                        \x3cdiv class\x3d"border-gray border-radius--lv2 padding--lv2"\x3e\n                            \x3cimg src\x3d"https://cdn-images.mailchimp.com/template_icons_basic/svg/template-bg.svg" alt\x3d"Generic campaign screenshot"\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c% } else { %\x3e\n                \x3cdiv class\x3d"lastGroup size3of4 float-right full-width-mobile flex align-items--center"\x3e\n                    \x3cdiv class\x3d"unit size1of3 !padding-left--lv0 padding-bottom--lv1 text-align--center"\x3e\n                        \x3cdiv data-dojo-attach-event\x3d"click: previewContent"\x3e\n                            \x3cdiv data-dojo-type\x3d"mojo/widgets/ThumbnailPreview" data-dojo-props\x3d"imageUrl: \'${this.model.screenshotUrl}\', borderStyle: \'solid\'"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3c% if (this.model.renderedHtml) { %\x3e\n                            \x3ca class\x3d"font-weight--bold small-meta" href\x3d"#0" data-dojo-attach-event\x3d"click: openModal"\x3eSend a Test Email\x3c/a\x3e\n                        \x3c% } %\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"lastUnit size2of3 small-meta"\x3e\n\n                        \x3c% if (this.model.renderedHtml \x26\x26 !this.model.hasRewards \x26\x26 isLimitedTrial) { %\x3e\n                            \x3cdiv class\x3d"c-media"\x3e\n                                \x3cdiv class\x3d"c-mediaImage"\x3e\n                                    \x3cspan class\x3d"freddicon cross-circle-color"\x3e\x3c/span\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"c-mediaBody"\x3e\n                                    \x3cp class\x3d"small-meta"\x3eAll campaigns sent by free accounts must include a MonkeyRewards link.\x3c/p\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } else if (this.model.renderedHtml \x26\x26 this.model.hasRewards \x26\x26 isLimitedTrial) { %\x3e\n                            \x3cdiv class\x3d"c-media"\x3e\n                                \x3cdiv class\x3d"c-mediaImage"\x3e\n                                    \x3cspan class\x3d"freddicon warn-circle warn-circle-color"\x3e\x3c/span\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"c-mediaBody"\x3e\n                                    \x3cp class\x3d"small-meta"\x3eWe\'ll add the required MonkeyRewards badge to your footer.\x3c/p\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } %\x3e\n\n                        \x3c% if (this.model.useAutoFooter) { %\x3e\n                            \x3cdiv class\x3d"c-media"\x3e\n                                \x3cdiv class\x3d"c-mediaImage"\x3e\n                                    \x3cspan class\x3d"freddicon warn-circle warn-circle-color"\x3e\x3c/span\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"c-mediaBody"\x3e\n                                    \x3cp class\x3d"small-meta"\x3eWe\'ll insert a footer in compliance with our \x3ca href\x3d"https://mailchimp.com/legal/terms/"\x3eTerms of Use\x3c/a\x3e.\x3c/p\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } %\x3e\n\n                        \x3c% if (this.model.hasBrokenBlocks) { %\x3e\n                            \x3cdiv class\x3d"c-media"\x3e\n                                \x3cdiv class\x3d"c-mediaImage"\x3e\n                                    \x3cspan class\x3d"freddicon cross-circle-color"\x3e\x3c/span\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"c-mediaBody"\x3e\n                                    \x3cp class\x3d"small-meta"\x3eSome conditional blocks may be broken. See \x3cem\x3e${this.model.hasDefaultBlockContent}\x3c/em\x3e.\x3c/p\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } %\x3e\n\n                        \x3c% if (this.model.isHtmlNewerThanPlainText) { %\x3e\n                            \x3cdiv class\x3d"c-media"\x3e\n                                \x3cdiv class\x3d"c-mediaImage"\x3e\n                                    \x3cspan class\x3d"freddicon warn-circle warn-circle-color"\x3e\x3c/span\x3e\n                                \x3c/div\x3e\n\n                                \x3cdiv class\x3d"c-mediaBody"\x3e\n                                    \x3cp class\x3d"small-meta"\x3e\n                                        The plain-text version of your campaign may be outdated.\n                                        You made changes to the HTML version of your campaign after editing the plain-text version.\n                                        \x3c% if (this.model.status !\x3d\x3d "sending") { %\x3e\n                                            \x3ca href\x3d"javascript:;" data-dojo-attach-event\x3d"click: editPlainText"\x3eEdit plain-text\x3c/a\x3e\n                                        \x3c% } %\x3e\n                                    \x3c/p\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } else { %\x3e\n                            \x3cdiv class\x3d"c-media"\x3e\n                                \x3cdiv class\x3d"c-mediaImage"\x3e\n                                    \x3cspan class\x3d"freddicon tick-circle v-textColorGreen"\x3e\x3c/span\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"c-mediaBody"\x3e\n                                    \x3c% if (this.model.plainTextLastUpdatedAt) { %\x3e\n                                        \x3cp class\x3d"small-meta"\x3e\n                                            Your edited plain-text version of this email will be included.\n                                            \x3c% if (this.model.status !\x3d\x3d "sending") { %\x3e\n                                                \x3ca href\x3d"javascript:;" data-dojo-attach-event\x3d"click: editPlainText"\x3eEdit\x3c/a\x3e\n                                            \x3c% } %\x3e\n                                        \x3c/p\x3e\n                                    \x3c% } else { %\x3e\n                                        \x3cp class\x3d"small-meta"\x3e\n                                            A plain-text version of this email will be included automatically.\n                                            \x3c% if (this.model.status !\x3d\x3d "sending") { %\x3e\n                                                \x3ca href\x3d"javascript:;" data-dojo-attach-event\x3d"click: editPlainText"\x3eEdit\x3c/a\x3e\n                                            \x3c% } %\x3e\n                                        \x3c/p\x3e\n                                    \x3c% } %\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } %\x3e\n\n                        \x3c% if (this.model.renderedHtml \x26\x26 this.model.hasDefaultBlockContent) { %\x3e\n                            \x3cdiv class\x3d"c-media"\x3e\n                                \x3cdiv class\x3d"c-mediaImage"\x3e\n                                    \x3cspan class\x3d"freddicon cross-circle-color"\x3e\x3c/span\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"c-mediaBody"\x3e\n                                    \x3cp class\x3d"small-meta"\x3eUh oh. We detect default content in your email. You should remove any default text before sending.\x3c/p\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } else if (this.model.renderedHtml \x26\x26 this.model.presendChecks.hasCheckWithCode(PresendCheck.CODE_DEFAULT_IMAGE_CONTENT)) { %\x3e\n                            \x3cdiv data-dojo-type\x3d"mojo/widgets/checklist-editor/PresendWarningRow" data-dojo-props\x3d"presendCheck: this.model.presendChecks.getCheckWithCode(${PresendCheck.CODE_DEFAULT_IMAGE_CONTENT})"\x3e\x3c/div\x3e\n                        \x3c% } %\x3e\n\n                        \x3c% if (promotion \x26\x26 promotionIsComplete \x26\x26 promotionIsEnabled) { %\x3e\n                            \x3cdiv class\x3d"c-media"\x3e\n                                \x3cdiv class\x3d"c-mediaImage"\x3e\n                                    \x3cspan class\x3d"freddicon tick-circle v-textColorGreen"\x3e\x3c/span\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"c-mediaBody"\x3e\n                                    \x3ca class\x3d"small-meta" href\x3d"javascript:;" data-dojo-attach-event\x3d"click: showShareSettings"\x3eYou enabled Social Cards.\x3c/a\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } else if (!promotionIsEnabled) { %\x3e\n                            \x3cdiv class\x3d"c-media"\x3e\n                                \x3cdiv class\x3d"c-mediaBody"\x3e\n                                    \x3ca class\x3d"small-meta" href\x3d"javascript:;" data-dojo-attach-event\x3d"click: showShareSettings"\x3eEnable Social Cards\x3c/a\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } else if (promotionIsEnabled \x26\x26 !promotionIsComplete) { %\x3e\n                            \x3cdiv class\x3d"c-media"\x3e\n                                \x3cdiv class\x3d"c-mediaImage"\x3e\n                                    \x3cspan class\x3d"freddicon warn-circle warn-circle-color"\x3e\x3c/span\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"c-mediaBody"\x3e\n                                    \x3ca class\x3d"small-meta" href\x3d"javascript:;" data-dojo-attach-event\x3d"click: showShareSettings"\x3eYour Social Card is incomplete.\x3c/a\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } %\x3e\n\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c% } %\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/from.html":'\x3cdiv\x3e\n\x3c% if (this.isActive) { %\x3e\n    \x3cp class\x3d"c-slatInfoType"\x3e${this.description}\x3c/p\x3e\n    \x3cdiv class\x3d"flex flex-direction--column@tablet flex-between"\x3e\n        \x3cfieldset class\x3d"padding--lv1 padding-left--lv0 padding-right--lv0 flex-half"\x3e\n            \x3clabel for\x3d"fromName"\x3eName\n                \x3cspan class\x3d"small-meta char-count-container"\x3e\n                    \x3cspan id\x3d"from-char" class\x3d"char-count float-right dim6"\x3e\x3cspan id\x3d"from-char-num"\x3e${ this.FROM_NAME_MAX_LENGTH - fromName.length }\x3c/span\x3e characters\x3c/span\x3e\n                \x3c/span\x3e\n            \x3c/label\x3e\n            \x3cinput\n                data-dojo-attach-event\x3d"keyup: setValue"\n                data-dojo-attach-point\x3d"fromName"\n                type\x3d"text"\n                id\x3d"from_name"\n                name\x3d"fromName"\n                value\x3d"\x3c%- fromName %\x3e"\n                required\x3d"true"\n                onkeyup\x3d"mojo.utils.checkInputLength(this,\'from-char-num\', parseInt(${this.FROM_NAME_MAX_LENGTH}));"\n                maxlength\x3d"${this.FROM_NAME_MAX_LENGTH}"\n                class\x3d"\x3c%- errors.from_name \x26\x26 \'invalid\' %\x3e"\n                ${this.isSaving \x26\x26 \'disabled\'} /\x3e\n            \x3c% if (errors.from_name) { %\x3e\n                \x3cspan class\x3d"invalid-error ${(!(errors.from_name)) \x26\x26 \'hide\'}"\x3e\x3c%- errors.from_name.message %\x3e\x3c/span\x3e\n            \x3c% } %\x3e\n            \x3cdiv class\x3d"field-help always-show"\x3e\n                Use something subscribers will instantly recognize, like your company name.\n            \x3c/div\x3e\n        \x3c/fieldset\x3e\n        \x3cfieldset class\x3d"padding--lv1 padding-left--lv0 padding-right--lv0 flex-half"\x3e\n            \x3clabel for\x3d"fromEmail"\x3eEmail address\x3c/label\x3e\n            \x3cinput\n                data-dojo-attach-event\x3d"keyup: setValue"\n                data-dojo-attach-point\x3d"fromEmail"\n                type\x3d"text"\n                id\x3d"from_email"\n                name\x3d"fromEmail"\n                value\x3d"\x3c%- fromEmail %\x3e"\n                required\x3d"true"\n                class\x3d"\x3c%- errors.from_email \x26\x26 \'invalid\' %\x3e"\n                ${this.isSaving \x26\x26 \'disabled\'} /\x3e\n            \x3c% if (errors.from_email) { %\x3e\n                \x3cspan class\x3d"invalid-error"\x3e\x3c%- errors.from_email.message %\x3e\x3c/span\x3e\n            \x3c% } %\x3e\n            \x3c% if (!(errors.from_email) \x26\x26 this.isDMARC()) { %\x3e\n                \x3cdiv class\x3d"field-help always-show" data-dojo-attach-point\x3d"warningMessage"\x3e\n                    To \x3ca href\x3d"http://kb.mailchimp.com/delivery/deliverability-research/about-dmarc" class\x3d"nowrap" target\x3d"_blank"\x3eensure delivery\x3c/a\x3e, we\'ll change your from address to\n                    \x3cspan data-mc-el\x3d"addyChange"\x3e\x3c%- DMARCEmail %\x3e\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c% } else if ((fromEmail !\x3d\x3d "") \x26\x26 (this.validEmail() \x26\x26 (errors.from_email \x26\x26 errors.from_email.code \x3d\x3d\x3d this.VERIFY_EMAIL_ERROR) || this.isVerifiedEmail \x3d\x3d\x3d false)) { %\x3e\n                \x3c% if (this.userRole \x3d\x3d\x3d "author" || this.userRole \x3d\x3d\x3d "viewer") { %\x3e\n                    \x3cdiv class\x3d"invalid-error"\x3eA manager or admin must verify this email.\x3c/div\x3e\n                \x3c% } else { %\x3e\n                    \x3cdiv class\x3d"invalid-error" data-dojo-attach-point\x3d"verifyEmail"\x3e\n                        \x3cdiv class\x3d"padding--lv2 !padding-left-right--lv0"\x3e\n                            \x3ca href\x3d"#" data-dojo-attach-event\x3d"click: showVerifyModal" class\x3d"button p0"\x3eVerify Domain\x3c/a\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c% } %\x3e\n            \x3c% } %\x3e\n        \x3c/fieldset\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"fromItemButtonsContainer"\x3e\x3c/div\x3e\n\x3c% } else { %\x3e\n    \x3c% if (this.isComplete \x26\x26 this.isValid) { %\x3e\n        \x3cp class\x3d"c-slatInfoType !margin--lv0 linear-list"\x3e\x3c%- fromName %\x3e \u2022 \x3c%- fromEmail %\x3e\x3c/p\x3e\n    \x3c% } else if (!this.isComplete) { %\x3e\n        \x3cp class\x3d"c-slatInfoType !margin--lv0 full-width fsi dim-el"\x3e\n         ${this.description}\n        \x3c/p\x3e\n    \x3c% } else { %\x3e\n        \x3cp class\x3d"c-slatInfoType error-text fwb small-meta" \x3e${emailDomain} must be verified before you can send from ${fromEmail}\x3c/p\x3e\n    \x3c% } %\x3e\n\n\x3c% } %\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/item-buttons.html":"\x3cbutton\n    ${isSaving || !this.isValid ? 'disabled' : ''}\n    class\x3d\"button p0 ${isSaving ? 'button-loading' : ''}\"\n    data-dojo-id\x3d\"itemSubmitButton\"\n    data-dojo-attach-event\x3d\"click: save\"\x3e\n    ${isSaving ? 'Please wait...' : this.saveLabel}\n\x3c/button\x3e\n\x3ca href\x3d\"#\" data-dojo-attach-event\x3d\"click: cancel\"\x3e${this.cancelLabel}\x3c/a\x3e\n","url:mojo/widgets/checklist-editor/items/templates/_verify-domain.html":'\x3cdiv data-dojo-type\x3d"mojo/widgets/Dialog" style\x3d"width: 620px;" data-dojo-attach-point\x3d"verifyDomainModal" data-dojo-id\x3d"verifyDomain" id\x3d"mc-module-dialog" title\x3d"Verify Domain"\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/list.html":'\x3cdiv\x3e\n    \x3c% if (this.isActive) { %\x3e\n        \x3cp class\x3d"c-slatInfoType"\x3e ${this.description} \x3cstrong\x3e${listName}\x3c/strong\x3e\x3c/p\x3e\n        \x3cdiv class\x3d"flex-row flex-between flex-col-tablet"\x3e\n            \x3cdiv class\x3d"flex-half"\x3e\n                \x3cselect\n                    data-dojo-type\x3d"mojo/widgets/input/InfoSelect"\n                    data-dojo-props\x3d"onChange: this.onListChange.bind(this), options: this.getListTagOptions()"\n                    class\x3d"select-small !margin-bottom--lv4 !margin-right--lv0 full-width"\n                    name\x3d"list_id"\n                    maxHeight\x3d"-1"\x3e\n                \x3c/select\x3e\n                \x3cdiv data-dojo-attach-point\x3d"segmentExplanationContainer" class\x3d"margin-bottom--lv4"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c% if (changedList) { %\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/FeedbackBlock" data-dojo-props\x3d"type: \'info\'"\x3e\n                \x3cp\x3eChoosing a new list will change the signup form fields that are available in your landing page.\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c% } %\x3e\n        \x3cdiv data-dojo-attach-point\x3d"itemButtonsContainer"\x3e\x3c/div\x3e\n    \x3c% } else { %\x3e\n        \x3cp class\x3d"c-slatInfoType !margin--lv0 full-width"\x3e\n            ${this.description} \x3cstrong\x3e${listName}\x3c/strong\x3e\n        \x3c/p\x3e\n    \x3c% } %\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/page-content.html":'\x3cdiv\x3e\n    \x3cp class\x3d"c-slatInfoType !margin--lv0 full-width fsi dim-el"\x3e\n        ${this.description}\n    \x3c/p\x3e\n\n    \x3cdiv class\x3d"c-slatInfo flex"\x3e\n        \x3cdiv class\x3d"c-slatInfoBody min-width--lv0"\x3e\n\n            \x3c% if (!this.isComplete) { %\x3e\n            \x3cdiv class\x3d"lastGroup size3of4 centered full-width-mobile"\x3e\n                \x3cdiv class\x3d"lastGroup size1of3 centered"\x3e\n                    \x3cdiv class\x3d"border-gray border-dashed border-radius--lv2 padding--lv2"\x3e\n                        \x3cimg src\x3d"https://cdn-images.mailchimp.com/template_icons_basic/svg/template-bg.svg" alt\x3d"Generic campaign screenshot"\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3c% } else { %\x3e\n            \x3cdiv class\x3d"lastGroup size3of4 float-right full-width-mobile"\x3e\n                \x3cdiv class\x3d"unit size1of3 !padding-left--lv0"\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"lastUnit size2of3 small-meta"\x3e\n\n                    \x3c% if (this.model.hasBrokenBlocks) { %\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaImage"\x3e\n                            \x3cspan class\x3d"freddicon cross-circle-color"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-mediaBody"\x3e\n                            \x3cp class\x3d"small-meta"\x3eSome conditional blocks may be broken. See \x3cem\x3e${this.model.hasDefaultBlockContent}\x3c/em\x3e.\x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3c% } %\x3e\n\n                    \x3c% if (this.model.renderedHtml \x26\x26 this.model.hasDefaultBlockContent) { %\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaImage"\x3e\n                            \x3cspan class\x3d"freddicon cross-circle-color"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-mediaBody"\x3e\n                            \x3cp class\x3d"small-meta"\x3eUh oh. We detect default content in your landing page. You should remove any default text before publishing.\x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3c% } %\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3c% } %\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/page-settings.html":'\x3c% if (this.isTrackingFlagOn) { %\x3e\n\n    \x3cdiv class\x3d"line bg-gray padding--lv6 c-slatMeta flex"\x3e\n        \x3c!-- Settings --\x3e\n        \x3c% if (this.state \x3d\x3d\x3d "loading") { %\x3e\n        Loading...\n        \x3c% } else { %\x3e\n        \x3c% if (this.state.isActive) { %\x3e\n            \x3cdiv\n                data-dojo-type\x3d"mojo/widgets/checklist-editor/items/page-settings/ActiveSettingsView"\n                class\x3d"flex-direction--column@tablet flex flex-wrap--wrap"\n                data-dojo-props\x3d"\n                    state: this.state,\n                    onSave: this.onSave.bind(this),\n                    handleCancel: this.deactivate.bind(this),\n                    page: this.model,\n                    handleAcceptTerms: this.handleAcceptTerms.bind(this)\n                "\x3e\n                \x3c/div\x3e\n        \x3c% } else { %\x3e\n            \x3cdiv\n                data-dojo-type\x3d"mojo/widgets/checklist-editor/items/page-settings/InactiveSettingsView"\n                class\x3d"flex-direction--column@tablet flex flex-wrap--wrap"\n                data-dojo-props\x3d"\n                    state: this.state,\n                    onSave: this.onSave.bind(this),\n                    activate: this.activate.bind(this),\n            "\x3e\n        \x3c% } %\x3e\n        \x3c% } %\x3e\n    \x3c/div\x3e\n\n\x3c% } else { %\x3e\n\n    \x3cdiv class\x3d"line bg-gray padding--lv6 c-slatMeta flex"\x3e\n        \x3c!-- Settings --\x3e\n        \x3cdiv class\x3d"unit size1of2 padding-left--lv1"\x3e\n            \x3ch4 class\x3d"fwb margin-bottom--lv0 normal-meta"\x3eSettings\x3c/h4\x3e\n            \x3cp class\x3d"padding-top--lv2 small-meta"\x3e\n                \x3c% if (captchaEnabled) { %\x3e\n                    ReCAPTCHA \x3cstrong\x3e is enabled for this list.\x3c/strong\x3e\x3cbr/\x3e\n                \x3c% } else { %\x3e\n                    ReCAPTCHA \x3cstrong\x3e is not enabled for this list.\x3c/strong\x3e\x3cbr/\x3e\n                \x3c% } %\x3e\n                This helps prevent spambots from adding emails to your list.\n            \x3c/p\x3e\n            \x3cp class\x3d"small-meta"\x3e\n                You can change the reCAPTCHA default in \x3ca href\x3d"${captchaUrl}"\x3eyour list settings.\x3c/a\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c% } %\x3e\n\n\n',
"url:mojo/widgets/checklist-editor/items/templates/subjectDialog.html":'\x3cdiv class\x3d"dijitDialogPaneContentArea nobar"\x3e\n    \x3cp class\x3d"!margin-bottom--lv5"\x3eWhen it comes to email marketing, the best subject lines tell what\'s inside instead of sell what\'s inside.\x3cbr /\x3e\n        \x3ca href\x3d"http://kb.mailchimp.com/campaigns/previews-and-tests/best-practices-for-email-subject-lines" target\x3d"_blank"\x3eLearn More\x3c/a\x3e\n    \x3c/p\x3e\n    \x3clabel for\x3d"test-message" class\x3d"disclosure-closed !margin-bottom--lv2" onClick\x3d"mojo.utils.disclosureElement(\'subject-research\', this, true);"\x3e\n        Subject line researcher\n    \x3c/label\x3e\n    \x3cdiv id\x3d"subject-research" style\x3d"display:none"\x3e\n        \x3ciframe src\x3d"../campaigns/subject-research" width\x3d"550" height\x3d"450" class\x3d"full-width"\x3e\x3c/iframe\x3e\n    \x3c/div\x3e\n    \x3c% if (this.model.recentCampaigns.length \x3e 0) { %\x3e\n    \x3clabel for\x3d"test-message" class\x3d"disclosure-closed border-above !margin-bottom--lv2" onClick\x3d"mojo.utils.disclosureElement(\'subject-perf\', this, true);"\x3e\n        Recent subject line performance\n    \x3c/label\x3e\n    \x3cdiv id\x3d"subject-perf" class\x3d"padding--lv2 !padding-top-bottom--lv0 !padding-right--lv0" style\x3d"display:none;"\x3e\n        \x3cul\x3e\n            \x3c% for (var i \x3d 0; i \x3c this.model.recentCampaigns.length; i++) { %\x3e\n                \x3cli\x3e\n                    \x3cspan class\x3d"open-percent"\x3e${(this.model.recentCampaigns[i].open_rate*100).toFixed(1)}% opened\x3c/span\x3e\n                    \x3cspan class\x3d"campaign-subject"\x3e\x3c%- this.model.recentCampaigns[i].subject %\x3e\x3c/span\x3e\n                \x3c/li\x3e\n            \x3c% } %\x3e\n        \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3c% } %\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/validationErrors.html":"${errors}\n","url:mojo/widgets/checklist-editor/items/templates/emojiTooltip.html":"Emoji characters are well supported in many email clients\x3cbr /\x3e\n(especially on mobile) but they don't show up everywhere.\x3cbr /\x3e\nMake sure your message is conveyed without them.\x3cbr /\x3e\n\x3cbr /\x3e\nFor example, avoid replacing words like this:\x3cbr /\x3e\n50% off all \x3cimg class\x3d'emoji' src\x3d'/images/emoji/36/1f45a.png' /\x3e and \x3cimg class\x3d'emoji' src\x3d'/images/emoji/36/1f455.png' /\x3e\x3cbr /\x3e\n\x3cbr /\x3e\nInstead, you could do something like this:\x3cbr /\x3e\n\x3cimg class\x3d'emoji' src\x3d'/images/emoji/36/1f45a.png' /\x3e 50% off all Women's Tops \x3cimg class\x3d'emoji' src\x3d'/images/emoji/36/1f455.png' /\x3e\n",
"url:mojo/widgets/checklist-editor/items/templates/page-title.html":'\n\x3cdiv class\x3d"c-slatMeta flex padding-top--lv1 padding-bottom--lv0"\x3e\n    \x3cdiv class\x3d"c-slatInfo flex"\x3e\n            \x3cdiv class\x3d"c-slatInfoBody min-width--lv0"\x3e\n                \x3c% if (this.isActive) { %\x3e\n                    \x3cfieldset class\x3d"padding--lv1 padding-left--lv0 flex--1"\x3e\n                        \x3clabel for\x3d"pageTitle" class\x3d"c-slatInfoType !margin--lv2 fsi dim-el"\x3e\n                            \x3cspan class\x3d"small-meta char-count-container"\x3e\n                                \x3cspan data-dojo-attach-point\x3d"titleCharCountContainer" class\x3d"small-meta char-count-container"\x3e\x3c/span\x3e\n                            \x3c/span\x3e\n                        \x3c/label\x3e\n                        \x3cinput\n                            data-dojo-attach-event\x3d"keyup: setValue"\n                            data-dojo-attach-point\x3d"title"\n                            type\x3d"text"\n                            id\x3d"title"\n                            name\x3d"title"\n                            value\x3d"\x3c%- title %\x3e"\n                            maxlength\x3d"${this.TITLE_MAX_LENGTH}"\n                            class\x3d"\x3c%- errors.title \x26\x26 \'invalid\' %\x3e"\n                            ${this.isSaving \x26\x26 \'disabled\'} /\x3e\n                        \x3cdiv class\x3d"margin-bottom--lv2 field-help always-show"\x3e\n                            This will appear in the browser\'s title bar.\n                        \x3c/div\x3e\n                    \x3c/fieldset\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"itemButtonsContainer"\x3e\x3c/div\x3e\n                \x3c% } else { %\x3e\n                    \x3c% if (title.length \x3e 0) { %\x3e\n                        \x3cp class\x3d"margin-top--lv1 margin-bottom--lv1"\x3e${title}\x3c/p\x3e\n                    \x3c% } else { %\x3e\n                        \x3cp class\x3d"c-slatInfoType !margin--lv0 margin-top-lv1 margin-bottom-lv1 fsi dim-el"\x3e${this.description}\x3c/p\x3e\n                    \x3c% } %\x3e\n                \x3c% } %\x3e\n            \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:mojo/widgets/checklist-editor/items/templates/page-title-url.html":'\x3c% if (canCustomizeArchiveUrl) { %\x3e\n    \x3cdiv class\x3d"c-slatMeta flex padding-top--lv1 padding-bottom--lv0"\x3e\n        \x3cdiv class\x3d"c-slatInfo flex"\x3e\n                \x3cdiv class\x3d"c-slatInfoBody min-width--lv0"\x3e\n                    \x3c% if (this.isActive) { %\x3e\n                        \x3cfieldset class\x3d"padding--lv1 padding-left--lv0 flex--1"\x3e\n                            \x3clabel for\x3d"pageTitle" class\x3d"c-slatInfoType !margin--lv2 fsi dim-el"\x3e${this.description}\n                                \x3cspan class\x3d"small-meta char-count-container"\x3e\n                                    \x3cspan id\x3d"from-char" class\x3d"char-count float-right dim6"\x3e\x3cspan id\x3d"title-char-num"\x3e${ this.TITLE_MAX_LENGTH - title.length }\x3c/span\x3e characters\x3c/span\x3e\n                                \x3c/span\x3e\n                            \x3c/label\x3e\n                            \x3cinput\n                                data-dojo-attach-event\x3d"keyup: setValue"\n                                data-dojo-attach-point\x3d"title"\n                                type\x3d"text"\n                                id\x3d"title"\n                                name\x3d"title"\n                                value\x3d"\x3c%- title %\x3e"\n                                maxlength\x3d"${this.TITLE_MAX_LENGTH}"\n                                class\x3d"\x3c%- errors.title \x26\x26 \'invalid\' %\x3e"\n                                ${this.isSaving \x26\x26 \'disabled\'} /\x3e\n                            \x3c% if (errors.title) { %\x3e\n                                \x3cspan class\x3d"invalid-error ${(!(errors.title)) \x26\x26 \'hide\'}"\x3e\x3c%- errors.title %\x3e\x3c/span\x3e\n                            \x3c% } %\x3e\n                            \x3cdiv class\x3d"margin-bottom--lv2 field-help always-show"\x3e\n                                This will appear in the browser\'s title bar.\n                            \x3c/div\x3e\n                        \x3c/fieldset\x3e\n                    \x3c% } else { %\x3e\n                        \x3c% if (title.length \x3e 0) { %\x3e\n                            \x3cp class\x3d"margin-top--lv1 margin-bottom--lv1"\x3e\x3cstrong\x3e${title}\x3c/strong\x3e\x3c/p\x3e\n                        \x3c% } else { %\x3e\n                            \x3cp class\x3d"c-slatInfoType !margin--lv0 margin-top-lv1 margin-bottom-lv1 fsi dim-el"\x3e${this.description}\x3c/p\x3e\n                        \x3c% } %\x3e\n                    \x3c% } %\x3e\n\n                    \x3cdiv class\x3d"margin-bottom--lv1"\x3e\n                        \x3cp class\x3d"inline-block !margin-top-bottom--lv0 fsi dim-el"\x3ehttps://${campaignUrl.rootDomain}/\x3c%- list \x26\x26 campaignUrl.brandToken ? campaignUrl.brandToken : \'[xxxxxx]\'%\x3e/\x3c%- campaignUrl.campaignToken || \'[xxxxxx]\' %\x3e\x3c/p\x3e\n                        \x3c% if (this.isActive) { %\x3e\n                            \x3c% if (!mostRecentArchiveMapping || (mostRecentArchiveMapping \x26\x26 mostRecentArchiveMappingCanEdit)) { %\x3e\n                                \x3cp class\x3d"inline-block !margin-top-bottom--lv0"\x3e\n                                    \x3ca class\x3d"margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0 small-meta" href\x3d"javascript:;" data-dojo-attach-event\x3d"click: openDialog"\x3eEdit\x3c/a\x3e\n                                \x3c/p\x3e\n                            \x3c% } %\x3e\n                        \x3c% } %\x3e\n                    \x3c/div\x3e\n                    \x3c% if (this.isActive) { %\x3e\n                        \x3c% if (isDuplicateCampaignUrl) { %\x3e\n                            \x3cp class\x3d"margin-top--lv0 margin-bottom--lv2 margin-right--lv0 small-meta invalid-error"\x3ePage URL taken by another campaign. Please edit the page URL to send.\x3c/p\x3e\n                        \x3c% } %\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"itemButtonsContainer"\x3e\x3c/div\x3e\n                    \x3c% } %\x3e\n                \x3c/div\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c% } %\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/page-url.html":'\n\x3cdiv class\x3d"c-slatMeta flex padding-top--lv1 padding-bottom--lv0"\x3e\n    \x3cdiv class\x3d"c-slatInfo flex"\x3e\n            \x3cdiv class\x3d"c-slatInfoBody min-width--lv0"\x3e\n                \x3c% if (this.isActive) { %\x3e\n                    \x3cdiv\x3e\n                        \x3cp class\x3d"padding-top-bottom--lv1"\x3e\n                            \x3c% if (user.hasVerifiedCustomDomain \x26\x26 user.isActivelyPaying) { %\x3e\n                                Your default URL includes your \x3ca href\x3d"${this.verifiedDomainPath}" title\x3d"Your verified domains"\x3everified domain\x3c/a\x3e.\n                            \x3c% } else if (user.isActivelyPaying) { %\x3e\n                                Part of your URL is generated randomly. \x3ca href\x3d"${this.verifiedDomainPath}" title\x3d"Verify your domain"\x3eVerify your domain\x3c/a\x3e to personalize the randomly generated part of your URL.\n                            \x3c% } else { %\x3e\n                                Part of your URL is generated randomly. Upgrade your account to replace the randomly generated part of your URL with a verified domain.\n                            \x3c% } %\x3e\n                            \x3ca href\x3d"https://kb.mailchimp.com/campaigns/landing-pages/customize-landing-page-urls" target\x3d"_blank"\x3eLearn more about landing page URLs\x3c/a\x3e.\n                        \x3c/p\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"flex readable-max-width"\x3e\n                        \x3cdiv class\x3d"padding--lv1 padding-left--lv0"\x3e\n                            \x3clabel class\x3d"invisible small-meta padding-top-bottom--lv0"\x3eDomain\x3c/label\x3e\n                            \x3cspan\x3ehttps://${rootDomain}\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv\x3e\n                            \x3clabel\x3e\x26nbsp;\x3c/label\x3e\n                            \x3cspan\x3e/\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"padding--lv1"\x3e\n                            \x3clabel class\x3d"invisible small-meta padding-top-bottom--lv0"\x3eBrand Token\x3c/label\x3e\n                            \x3c% if (list \x26\x26 user.hasVerifiedCustomDomain \x26\x26 user.isActivelyPaying) { %\x3e\n                                \x3cselect\n                                    data-dojo-type\x3d"mojo/widgets/input/InfoSelect"\n                                    data-dojo-props\x3d"onChange: this.setValue.bind(this)"\n                                    name\x3d"brandToken"\n                                    class\x3d"!margin--lv0 flex"\x3e\n                                    \x3coption value\x3d""\x3e[Generate Randomly]\x3c/option\x3e\n                                    \x3c% for (var i in brands) { %\x3e\n                                        \x3coption value\x3d"\x3c%- brands[i] %\x3e" \x3c%- brands[i] \x3d\x3d\x3d brandToken ? \'selected\x3d"selected"\' : \'\' %\x3e\x3e\n                                            \x3c%- brands[i] %\x3e\n                                        \x3c/option\x3e\n                                    \x3c% } %\x3e\n                                \x3c/select\x3e\n                            \x3c% } else if ((!user.hasVerifiedCustomDomain \x26\x26 user.isActivelyPaying) || !user.isActivelyPaying) { %\x3e\n                            \x3cdiv class\x3d"white-space--nowrap"\x3e\n                                [Generate Randomly]\n                            \x3c/div\x3e\n                            \x3c% } else { %\x3e\n                            \x3cdiv class\x3d"white-space--nowrap"\x3e\n                                [xxxxxxxxxxxxxxxx]\n                                \x3cbr\x3e\x3cspan class\x3d"small-meta invalid-error margin--lv0 max-width"\x3ePlease select a list.\x3c/span\x3e\n                            \x3c/div\x3e\n                            \x3c% } %\x3e\n                        \x3c/div\x3e\n                        \x3cdiv\x3e\n                            \x3clabel\x3e\x26nbsp;\x3c/label\x3e\n                            \x3cspan\x3e/\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"padding--lv1 full-width"\x3e\n                            \x3cdiv class\x3d"float-right"\x3e\n                                \x3cspan class\x3d"small-meta char-count-container font-weight--bold"\x3e\n                                    \x3cspan class\x3d"char-count"\x3e\n                                        \x3cspan data-dojo-type\x3d"mojo/widgets/CountRemainingCharacters"\n                                                data-dojo-props\x3d"\'inputField\': \'campaignToken\', \'characters\': 150, defaultText: \'true\'"\n                                                class\x3d"small-meta"\x3e\n                                            ${150 - mojo.utils.getSymbolLength(campaignToken)} character${mojo.utils.getSymbolLength(campaignToken) !\x3d\x3d 149 ? \'s\' : \'\'} ${mojo.utils.getSymbolLength(campaignToken) \x3d\x3d\x3d 0 ? \'\' : \'remaining\'}\n                                        \x3c/span\x3e\n                                    \x3c/span\x3e\n                                \x3c/span\x3e\n                            \x3c/div\x3e\n                            \x3cinput\n                                type\x3d"text"\n                                value\x3d"\x3c%- campaignToken %\x3e"\n                                class\x3d"${errors.campaignToken \x26\x26 \'invalid\'}"\n                                name\x3d"campaignToken"\n                                data-dojo-attach-event\x3d"onKeyUp: setValue"\n                                id\x3d"campaignToken" /\x3e\n                            \x3cdiv class\x3d"invalid-error"\x3e${errors.campaignToken}\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3c% if (isDuplicateCampaignUrl) { %\x3e\n                        \x3cp class\x3d"margin-top--lv0 margin-bottom--lv2 margin-right--lv0 small-meta invalid-error"\x3ePage URL taken by another campaign. Please edit the page URL to send.\x3c/p\x3e\n                    \x3c% } %\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"itemButtonsContainer"\x3e\x3c/div\x3e\n                \x3c% } else { %\x3e\n                    \x3cp class\x3d"inline-block !margin-top-bottom--lv0 dim-el \x3c%- !campaignToken ? \'fsi\' : \'\'%\x3e"\x3ehttps://${campaignUrl.rootDomain}/\x3c%- list \x26\x26 brandToken ? brandToken : \'[xxxxxx]\'%\x3e/\x3c%- campaignToken || \'[xxxxxx]\' %\x3e\x3c/p\x3e\n                \x3c% } %\x3e\n            \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/_postcard-preview.html":'\x3cdiv class\x3d"c-postcardPreview c-thumbnailPreview overflow--hidden position--relative"\x3e\n    \x3c% if (this.previewContent) { %\x3e\n        \x3ciframe class\x3d"c-postcardPreview_content" data-dojo-attach-point\x3d"previewFrame"\x3e\x3c/iframe\x3e\n        \x3cdiv onClick\x3d"${this.modalId}.show();" class\x3d"c-thumbnailPreview_overlay flex flex-center justify-content--center position--absolute top--0 left--0 full-width full-height zin-lv2 v-textColorWhite cursor-pointer"\x3e\n            \x3cdiv class\x3d"flex-grow-1 alignc" data-dojo-attach-point\x3d"containerNode"\x3e\n                \x3cspan class\x3d"freddicon search"\x3e\x3c/span\x3e\n                \x3cp class\x3d"!margin--lv0 small-meta flex-shrink flex-shrink-none"\x3e\x3cstrong\x3eView Larger\x3c/strong\x3e\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c% } else if (this.isLoading) { %\x3e\n        \x3cdiv class\x3d"full-height flex align-items--center justify-content--center"\x3eLoading preview...\x3c/div\x3e\n    \x3c% } else { %\x3e\n        \x3cdiv class\x3d"full-height flex align-items--center justify-content--center"\x3e\n            \x3cimg class\x3d"size1of3" src\x3d"/images/icons/empty-image.svg" /\x3e\n        \x3c/div\x3e\n    \x3c% } %\x3e\n    \x3cdiv class\x3d"closeable-feature-dialog c-postcardPreview_dialog" data-dojo-type\x3d"dijit/Dialog" data-dojo-id\x3d"${this.modalId}" title\x3d"${this.modalTitle}"\x3e\n        \x3cdiv class\x3d"flex justify-content--center padding-top--lv2 c-postcardPreview_container"\x3e\n            \x3cdiv class\x3d"flex--3 c-postcardPreview_contentWithGuides overflow--scroll position--relative"\x3e\n                \x3cdiv class\x3d"c-postcardPreview_clippingGuide" data-dojo-attach-point\x3d"clippingGuide"\x3e\n                    \x3cdiv class\x3d"c-postcardPreview_clippingGuide_safeZone"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-postcardPreview_clippingOverlay" data-dojo-attach-point\x3d"clippingOverlay"\x3e\n                    \x3cdiv class\x3d"c-postcardPreview_clippingOverlay_inner border-default"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3ciframe data-dojo-attach-point\x3d"modalFrame" class\x3d"c-postcardPreview_content c-postcardPreview_content--full-size display--block"\x3e\x3c/iframe\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-postcardPreview_clippingGuideToggle padding--lv6 padding-top--lv2"\x3e\n                \x3cdiv class\x3d"line margin-bottom--lv3"\x3e\n                    \x3cdiv class\x3d"size1of1"\x3e\n                        \x3cspan class\x3d"av-checkbox font-weight--bold" data-dojo-attach-point\x3d"clippingGuideSwitch"\x3e\x3c/span\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-postcardPreview_clippingGuideToggle_legend" data-dojo-attach-point\x3d"clippingGuideLegend"\x3e\n                    \x3cdiv class\x3d"flex margin-bottom--lv3"\x3e\n                        \x3cdiv\x3e\n                            \x3cspan class\x3d"c-postcardPreview_clippingGuideToggle_legendSymbol--safe"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                         \x3cdiv class\x3d"margin-left--lv2"\x3e\n                            \x3ch4 class\x3d"!margin--lv0 small-meta"\x3eSafe area\x3c/h4\x3e\n                            \x3cp class\x3d"small-meta"\x3eMake sure text, logos, and other important details fit inside this line.\x3c/p\x3e\n                       \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"flex margin-bottom--lv3"\x3e\n                        \x3cdiv\x3e\n                            \x3cspan class\x3d"c-postcardPreview_clippingGuideToggle_legendSymbol--bleed"\x3e\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"margin-left--lv2"\x3e\n                            \x3ch4 class\x3d"!margin--lv0 small-meta"\x3eBleed area\x3c/h4\x3e\n                            \x3cp class\x3d"small-meta"\x3eWe\'ll cut this to prevent unprinted edges on your postcard.\x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/postcard-content.html":'\x3cdiv\x3e\n    \x3cp class\x3d"c-slatInfoType"\x3e${this.description}\x3c/p\x3e\n    \x3cdiv class\x3d""\x3e\n        \x3c% if (this.isActive) { %\x3e\n            \x3cdiv class\x3d"flex align-items--flex-start margin-bottom--lv6 padding-top--lv2 justify-content--space-between flex-direction--column@tablet"\x3e\n                \x3cdiv class\x3d"c-postcardEditor_form width--100@tablet margin-bottom--lv2@tablet"\x3e\n                    \x3cspan class\x3d"font-weight--bold padding-bottom--lv1 display--inline-block"\x3eFront\x3c/span\x3e\n                    \x3cdiv class\x3d"full-width border-dashed border-radius--lv2 border-gray padding--lv3 margin-bottom--lv6"\x3e\n                        \x3cspan class\x3d"font-weight--bold padding-bottom--lv1 display--inline-block"\x3e\n                            Main Image\n                        \x3c/span\x3e\n                        \x3cdiv\n                            class\x3d"c-imageUploader"\n                            data-dojo-attach-point\x3d"mainImageContainer"\n                        \x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cspan class\x3d"font-weight--bold padding-bottom--lv1 display--inline-block"\x3eBack\x3c/span\x3e\n                    \x3cdiv class\x3d"full-width border-dashed border-radius--lv2 border-gray padding--lv3"\x3e\n                        \x3clabel for\x3d"${this.id}_content-heading"\x3e\n                            Heading\n                        \x3c/label\x3e\n                        \x3cinput\n                            id\x3d"${this.id}_content-heading"\n                            type\x3d"text"\n                            value\x3d"${headingText}"\n                            name\x3d"headingText"\n                            data-dojo-attach-event\x3d"keyup: updateTextField, change: updateTextField, focus: focusTextField"\n                        /\x3e\n                        \x3clabel for\x3d"${this.id}_content-body"\x3e\n                            Body\n                        \x3c/label\x3e\n                        \x3ctextarea\n                            id\x3d"${this.id}_content-body"\n                            name\x3d"bodyText"\n                            rows\x3d"6"\n                            data-dojo-attach-point\x3d"bodyTextInput"\n                            data-dojo-attach-event\x3d"keyup: updateTextField, change: updateTextField, focus: focusTextField"\n                        \x3e${bodyText}\x3c/textarea\x3e\n                        \x3cdiv class\x3d"hide invalid-error" data-dojo-attach-point\x3d"bodyTextInvalidErrorMessage"\x3e\n                            Message must be ${this.BODY_TEXT_MAX_CHARACTERS} characters or less\n                        \x3c/div\x3e\n                        \x3c% if (this.isPromoCodeFlagEnabled \x26\x26 stores) { %\x3e\n                            \x3cdiv\x3e\n                                \x3clabel ${(stores.length \x3d\x3d\x3d 0) ? \'class\x3d"padding-bottom--lv0 dim-el"\' : \'\'}\x3e\n                                    \x3cinput\n                                        type\x3d"checkbox"\n                                        class\x3d"av-checkbox"\n                                        ${(stores.length \x3d\x3d\x3d 0) ? \'disabled\x3d"disabled"\' : ""}\n                                        data-dojo-props\x3d"\n                                            checked: this.state.isPromoCodeVisible,\n                                            onChange: this.togglePromoCode.bind(this)\n                                        "\n                                        data-dojo-type\x3d"dijit/form/CheckBox"\n                                    /\x3e\n                                    \x3cspan ${(stores.length \x3d\x3d\x3d 0) ? \'class\x3d"dim-el"\' : \'\'}\x3eInclude promo code\x3c/span\x3e\n                                \x3c/label\x3e\n                                \x3c% if (stores.length \x3d\x3d\x3d 0) { %\x3e\n                                    \x3cdiv class\x3d"margin--lv6 margin-top--lv0"\x3e\n                                        \x3cdiv class\x3d"font-weight--normal small-meta"\x3e\n                                            \x3ca href\x3d"${this.connectYourStoreLink}"\x3eConnect your store\x3c/a\x3e\n                                            to include a promo code and track purchases from this campaign.\n                                        \x3c/div\x3e\n                                    \x3c/div\x3e\n                                \x3c% } %\x3e\n                                \x3c% if (isPromoCodeVisible) { %\x3e\n                                    \x3cdiv class\x3d"flex-row flex-align-items--center flex-col-tablet c-postcardEditor_promoCodeSelector"\x3e\n                                        \x3c% if (isFetchingStores) { %\x3e\n                                            \x3cdiv\x3e\n                                                \x3cdiv\n                                                    data-dojo-type\x3d"mojo/widgets/CircularLoader"\n                                                    data-dojo-props\x3d"loaderSize:20, strokeWidth: 3,"\x3e\n                                                \x3c/div\x3e\n                                            \x3c/div\x3e\n                                        \x3c% } else if (stores \x26\x26 stores.length \x3e 0) { %\x3e\n                                            \x3clabel class\x3d"!padding--lv0"\x3e\n                                                \x3cspan class\x3d"small-meta display--block"\x3eStore\x3c/span\x3e\n                                                \x3cselect\n                                                    maxheight\x3d"-1"\n                                                    data-dojo-props\x3d"onChange: this.handleStoreChange.bind(this)"\n                                                    data-dojo-type\x3d"dijit/form/Select"\x3e\n                                                    \x3coption value\x3d""\x3eSelect a store\x3c/option\x3e\n                                                    \x3c% for (var i in stores) { %\x3e\n                                                        \x3coption\n                                                            \x3c%- promoStoreId \x3d\x3d stores[i].storeId ? \'selected\x3d"selected"\' : ""%\x3e\n                                                            value\x3d"\x3c%- stores[i].storeId %\x3e"\x3e\n                                                            \x3c%- stores[i].name %\x3e\n                                                        \x3c/option\x3e\n                                                    \x3c% } %\x3e\n                                                \x3c/select\x3e\n                                            \x3c/label\x3e\n                                        \x3c% } %\x3e\n                                        \x3c% if (isFetchingPromoCodes) { %\x3e\n                                            \x3cdiv\x3e\n                                                \x3cdiv\n                                                    data-dojo-type\x3d"mojo/widgets/CircularLoader"\n                                                    data-dojo-props\x3d"loaderSize:20, strokeWidth: 3,"\x3e\n                                                \x3c/div\x3e\n                                            \x3c/div\x3e\n                                        \x3c% } else if (promoStoreId !\x3d\x3d null \x26\x26 !isFetchingStores) { %\x3e\n                                            \x3clabel class\x3d"!padding--lv0"\x3e\n                                                \x3cspan class\x3d"small-meta display--block"\x3ePromo Code\x3c/span\x3e\n                                                \x3cselect\n                                                    maxheight\x3d"-1"\n                                                    data-dojo-props\x3d"\n                                                        onChange: this.handlePromoCodeChange.bind(this),\n                                                        disabled: this.state.promoCodes.length \x3d\x3d\x3d 0,\n                                                        required: false"\n                                                    data-dojo-type\x3d"dijit/form/FilteringSelect"\x3e\n                                                    \x3coption value\x3d""\x3eSelect a promo code\x3c/option\x3e\n                                                    \x3c% for (var i in promoCodes) { %\x3e\n                                                        \x3coption\n                                                            \x3c%- promoCodeId \x3d\x3d promoCodes[i].promoCodeId ? \'selected\x3d"selected"\' : ""%\x3e\n                                                            value\x3d"\x3c%- promoCodes[i].promoCodeId %\x3e"\x3e\n                                                            \x3c%- promoCodes[i].code %\x3e\n                                                        \x3c/option\x3e\n                                                    \x3c% } %\x3e\n                                                \x3c/select\x3e\n                                            \x3c/label\x3e\n                                        \x3c% } %\x3e\n                                    \x3c/div\x3e\n                                    \x3c%if (promoStoreId !\x3d\x3d null \x26\x26 !isFetchingStores \x26\x26 !isFetchingPromoCodes \x26\x26 promoCodes.length \x3d\x3d\x3d 0) { %\x3e\n                                        \x3cdiv class\x3d"feedback-block warning section" role\x3d"status"\x3e\n                                            \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                                                \x3cdiv class\x3d"c-media"\x3e\n                                                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                                                        \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                                                    \x3c/div\x3e\n                                                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                                                        \x3cp\x3ePlease verify that your store has active codes and your e-commerce integration is up to date.\x3c/p\x3e\n                                                    \x3c/div\x3e\n                                                \x3c/div\x3e\n                                            \x3c/div\x3e\n                                        \x3c/div\x3e\n                                    \x3c% } %\x3e\n                                \x3c% } %\x3e\n                            \x3c/div\x3e\n                        \x3c% } %\x3e\n                        \x3cspan class\x3d"font-weight--bold padding-bottom--lv1 display--inline-block"\x3e\n                            Logo (optional)\n                        \x3c/span\x3e\n                        \x3cdiv\n                            class\x3d"c-imageUploader  margin-bottom--lv3"\n                            data-dojo-attach-point\x3d"logoImageContainer"\n                        \x3e\n                        \x3c/div\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"clippedContentWarning" class\x3d"hide"\x3e\n                            \x3cdiv class\x3d"feedback-block warning section" role\x3d"status"\x3e\n                                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                                  \x3cdiv class\x3d"c-media"\x3e\n                                    \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\n                                      \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                                    \x3c/div\x3e\n                                    \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                                        \x3ch4\x3eUh oh, you\u2019re out of space.\x3c/h4\x3e\n                                        \x3cp\x3ePreview your content to make sure everything fits.\x3c/p\x3e\n                                    \x3c/div\x3e\n                                  \x3c/div\x3e\n                                \x3c/div\x3e\n                              \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-postcardEditor_preview width--100@tablet"\x3e\n                    \x3cdiv class\x3d"small-meta text-align--center text-align--left@tablet padding-bottom--lv1 width--100@tablet"\x3ePreview\x3c/div\x3e\n                    \x3cdiv\n                        class\x3d"border-gray margin-bottom--lv2"\n                        data-dojo-attach-point\x3d"frontPreviewContainer"\n                    \x3e\n                    \x3c/div\x3e\n                    \x3cdiv\n                        class\x3d"border-gray margin-bottom--lv2"\n                        data-dojo-attach-point\x3d"backPreviewContainer"\n                    \x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"flex justify-content--center display--none@tablet"\x3e\n                        \x3cinput\n                            type\x3d"radio"\n                            value\x3d"front"\n                            class\x3d"v-visuallyHidden v-buttonGroupControl"\n                            id\x3d"content-front"\n                            name\x3d"content-toggle"\n                            data-dojo-attach-point\x3d"frontToggleRadio"\n                            data-dojo-attach-event\x3d"onChange: togglePreviewSide"\n                        \x3e\n                        \x3clabel for\x3d"content-front" class\x3d"v-buttonGroupLabel"\x3eFront\x3c/label\x3e\n                        \x3cinput\n                            type\x3d"radio"\n                            value\x3d"back"\n                            class\x3d"v-visuallyHidden v-buttonGroupControl"\n                            id\x3d"content-back"\n                            name\x3d"content-toggle"\n                            data-dojo-attach-point\x3d"backToggleRadio"\n                            data-dojo-attach-event\x3d"onChange: togglePreviewSide"\n                        \x3e\n                        \x3clabel for\x3d"content-back" class\x3d"v-buttonGroupLabel"\x3eBack\x3c/label\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"itemButtonsContainer"\x3e\x3c/div\x3e\n        \x3c% } else { %\x3e\n            \x3cdiv class\x3d"flex flex-wrap--wrap margin-bottom--lv2"\x3e\n                \x3cdiv\n                    class\x3d"border-default border-radius--lv1 margin--lv3 margin-left--lv0 margin-top--lv0"\n                    data-dojo-attach-point\x3d"frontPreviewContainer"\n                \x3e\n                \x3c/div\x3e\n                \x3cdiv\n                    class\x3d"border-default border-radius--lv1 margin--lv3 margin-left--lv0 margin-top--lv0"\n                    data-dojo-attach-point\x3d"backPreviewContainer"\n                \x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c% } %\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/postcard-recipients.html":'\x3cdiv\x3e\n    \x3c% if (this.isActive) { %\x3e\n        \x3cp class\x3d"c-slatInfoType"\x3e${this.description}\x3c/p\x3e\n        \x3cdiv class\x3d"flex-row flex-between flex-col-tablet align-items--flex-start"\x3e\n            \x3cdiv class\x3d"size2of3 padding-right--lv4 margin-bottom--lv4 flex-row flex-between flex-col-tablet"\x3e\n                \x3c% if (this.audienceStrategies.length \x3e 1) { %\x3e\n                    \x3cdiv class\x3d"full-width margin--lv3 margin-bottom--lv2 margin-left-right--lv0"\x3e\n                        \x3cul class\x3d"line flex flex-wrap--wrap"\x3e\n                            \x3cli class\x3d"margin--lv4 margin-left--lv0 margin-top-bottom--lv0 full-width-mobile"\x3e\n                                \x3clabel class\x3d"radio"\x3e\n                                    \x3cinput\n                                        name\x3d"recipients"\n                                        type\x3d"radio"\n                                        data-dojo-type\x3d"dijit/form/RadioButton"\n                                        data-dojo-props\x3d"onChange: this.onToggleRecipientType.bind(this, this.AUDIENCE_STRATEGY_LOOKALIKE)"\n                                        class\x3d"av-radio"\n                                        value\x3d"${this.AUDIENCE_STRATEGY_LOOKALIKE}"\n                                        ${audienceStrategy \x3d\x3d\x3d this.AUDIENCE_STRATEGY_LOOKALIKE ? \'checked\x3d"checked"\' : ""}\n                                    /\x3e\n                                    People similar to my contacts\n                                \x3c/label\x3e\n                            \x3c/li\x3e\n                            \x3cli class\x3d"full-width-mobile"\x3e\n                                \x3clabel class\x3d"radio"\x3e\n                                    \x3cinput\n                                        name\x3d"recipients"\n                                        type\x3d"radio"\n                                        data-dojo-type\x3d"dijit/form/RadioButton"\n                                        data-dojo-props\x3d"onChange: this.onToggleRecipientType.bind(this, this.AUDIENCE_STRATEGY_CONTACTS)"\n                                        class\x3d"av-radio"\n                                        value\x3d"${this.AUDIENCE_STRATEGY_CONTACTS}"\n                                        ${audienceStrategy \x3d\x3d\x3d this.AUDIENCE_STRATEGY_CONTACTS ? \'checked\x3d"checked"\' : ""}\n                                    /\x3e\n                                    My contacts\n                                \x3c/label\x3e\n                            \x3c/li\x3e\n                        \x3c/ul\x3e\n                    \x3c/div\x3e\n                \x3c% } %\x3e\n                \x3c% if (audienceStrategy) { %\x3e\n                    \x3cdiv class\x3d"full-width flex flex-wrap--wrap margin-bottom--lv4"\x3e\n                        \x3clabel aria-hidden\x3d"true" class\x3d"full-width"\x3e${audienceStrategy \x3d\x3d\x3d this.AUDIENCE_STRATEGY_LOOKALIKE ? "Similar to" : "Send to"}\x3c/label\x3e\n                        \x3cdiv class\x3d"size1of2 padding-right--lv3 margin-bottom--lv1"\x3e\n                            \x3clabel for\x3d"listSelect" class\x3d"v-visuallyHidden"\x3eChoose a list\x3c/label\x3e\n                            \x3cselect\n                                data-dojo-type\x3d"mojo/widgets/input/InfoSelect"\n                                data-dojo-props\x3d"onChange: this.onListChange.bind(this)"\n                                class\x3d"select-small full-width !margin-bottom--lv0"\n                                name\x3d"listSelect"\n                                id\x3d"listSelect"\n                                maxHeight\x3d"-1"\x3e\n                                \x3coption value\x3d""\x3eChoose a list\x3c/option\x3e\n                                \x3c% var listOptions \x3d this.getListOptions(); %\x3e\n                                \x3c% for (var i in listOptions) { %\x3e\n                                    \x3coption\n                                        ${listOptions[i].listId \x3d\x3d\x3d listId \x26\x26 \'selected\'}\n                                        data-meta\x3d"${this.getOptionMeta(listOptions[i])}"\n                                        value\x3d"${listOptions[i].listId}"\n                                        ${listOptions[i].disabled ? "disabled\x3d\\"disabled\\"" : ""}\n                                    \x3e\n                                        \x3c%- listOptions[i].name %\x3e\n                                    \x3c/option\x3e\n                                \x3c% } %\x3e\n                            \x3c/select\x3e\n                        \x3c/div\x3e\n                        \x3c% if (listId) { %\x3e\n                            \x3cdiv\n                                class\x3d"size1of2 padding-right--lv0 !margin--lv0 padding-right--lv3"\n                                data-dojo-type\x3d"mojo/widgets/SegmentDropdown"\n                                data-dojo-props\x3d"\n                                    listId: ${listId},\n                                    selected: \'\x3c%- this.getSegmentOption(segment) %\x3e\',\n                                    onChange: this.onSegmentChange.bind(this),\n                                    sourceFunction: this.segmentSourceFunction\n                                "\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"size1of3 flex align-items--center hide"\x3e\n                                \x3c% if (listSegmentRecipientCount \x3d\x3d\x3d null) { %\x3e\n                                    \x3cdiv class\x3d"flex" data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:20, strokeWidth: 3,"\x3e\x3c/div\x3e\n                                \x3c% } %\x3e\n                                \x3cp class\x3d"small-meta font-weight--bold margin-bottom--lv0 padding-left--lv1 dim-el"\x3e\n                                    ${listSegmentRecipientCount \x3d\x3d\x3d null ? "Loading segment count" : this.numberFormat(listSegmentRecipientCount, 0, \'\', \',\') + (audienceStrategy \x3d\x3d\x3d this.AUDIENCE_STRATEGY_LOOKALIKE ? " contacts" :  " potential recipients")}\n                                \x3c/p\x3e\n                            \x3c/div\x3e\n                        \x3c% } %\x3e\n                        \x3c% if (audienceStrategy \x3d\x3d\x3d this.AUDIENCE_STRATEGY_LOOKALIKE) { %\x3e\n                            \x3cdiv\n                                class\x3d"full-width field-help margin--lv0"\n                                data-dojo-attach-point\x3d"listErrorLabel"\n                            \x3e\n                                Selection must have at least ${this.MINIMUM_LOOKALIKE_AUDIENCE_SIZE} contacts\n                            \x3c/div\x3e\n                        \x3c% } %\x3e\n                    \x3c/div\x3e\n                    \x3c% if (listId \x26\x26 audienceStrategy \x3d\x3d\x3d this.AUDIENCE_STRATEGY_LOOKALIKE) { %\x3e\n                        \x3cdiv class\x3d"full-width flex flex-wrap--wrap margin-bottom--lv4"\x3e\n                            \x3clabel class\x3d"full-width"\x3eLocation\x3c/label\x3e\n                            \x3c% if (selectedLocation) { %\x3e\n                                \x3cdiv\n                                    data-dojo-type\x3d"mojo/widgets/checklist-editor/items/_PostcardLocation"\n                                    data-dojo-props\x3d"\n                                        locationName: \'${selectedLocation.name}\',\n                                        locationRadius: \'${locationRadius}\',\n                                        onUpdateLocationRadius: \x3c%- selectedLocation.mustHaveRadius() ? \'this.onUpdateLocationRadius.bind(this)\' : \'null\' %\x3e,\n                                        maximumRadius: ${this.MAXIMUM_LOCATION_RADIUS},\n                                        onRemoveLocation: this.onRemoveLocation.bind(this)\n                                    "\n                                \x3e\n                                \x3c/div\x3e\n                            \x3c% } else { %\x3e\n                                \x3cdiv\n                                    class\x3d"size1of1 margin-bottom--lv1"\n                                    data-dojo-type\x3d"mojo/widgets/Autocomplete"\n                                    data-dojo-props\x3d"\n                                        placeholder: \'Country, State, City, Zip/Postal Code\',\n                                        shouldShowSearchDivider: false,\n                                        onSuggestionSelected: this.onSelectLocation.bind(this),\n                                        suggestionFetchingFunction: this.fetchLocationSuggestions\n                                "\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"full-width field-help margin--lv0"\x3eA location must be specified to generate an audience.\x3c/div\x3e\n                            \x3c% } %\x3e\n                        \x3c/div\x3e\n                    \x3c% } %\x3e\n                    \x3c% if (listId) { %\x3e\n                        \x3cdiv class\x3d"full-width"\x3e\n                            \x3clabel class\x3d"full-width" for\x3d"budget"\x3e\n                                Max Budget\n                                \x3ca\n                                    href\x3d"#0"\n                                    class\x3d"freddicon info-circle padding-left--lv1 !textcolor--gray4"\n                                    data-dojo-attach-event\x3d"click: onOpenTooltip"\n                                    data-tooltip\x3d"maxBudget"\n                                \x3e\x3c/a\x3e\n                            \x3c/label\x3e\n                            \x3cbutton\n                                class\x3d"freddicon remove-circle !textcolor--gray4 padding--lv0 !background--none margin--lv0 hide-phone"\n                                data-dojo-attach-event\x3d"click: onDecrementBudget"\n                            \x3e\n                            \x3c/button\x3e\n                            \x3cdiv class\x3d"size2of8 margin-top--lv0 margin--lv1 nomargin-small position--relative display--inline-block"\x3e\n                                \x3cspan class\x3d"position--absolute c-currencyInput--symbol"\x3e${this.currencySymbol}\x3c/span\x3e\n                                \x3cinput class\x3d"c-currencyInput !margin-bottom--lv0 ${this.getCurrencyInputClass() || \'\'}"\n                                    name\x3d"budget"\n                                    id\x3d"budget"\n                                    type\x3d"text"\n                                    value\x3d"${maxBudget || \'\'}"\n                                    data-dojo-attach-event\x3d"keyup: onUpdateMaxBudget, paste: onUpdateMaxBudget"\n                                \x3e\n                            \x3c/div\x3e\n                            \x3cbutton\n                                class\x3d"freddicon add-circle !textcolor--gray4 padding--lv0 !background--none margin--lv0 hide-phone"\n                                data-dojo-attach-event\x3d"click: onIncrementBudget"\n                            \x3e\n                            \x3c/button\x3e\n                            \x3ca\n                                href\x3d"#0"\n                                class\x3d"small-meta dim-el font-weight--bold hide-phone inline-block-i ${isPricingTableVisible ? \'disclosure-open\' : \'disclosure-closed\'}"\n                                data-dojo-attach-event\x3d"click: onTogglePricingTable"\n                            \x3e\n                                View postcard pricing\n                            \x3c/a\x3e\n\n                            \x3cdiv class\x3d"full-width field-help margin--lv0 error-text margin-bottom--lv2" data-dojo-attach-point\x3d"budgetErrorLabel" \x3e\x3c/div\x3e\n                            \x3c% if (isPricingTableVisible) { %\x3e\n                                \x3cdiv class\x3d"padding-top--lv2 full-width hide-phone"\x3e\n                                    \x3ctable class\x3d"mc-table margin-bottom--lv0 full-width small-meta"\x3e\n                                        \x3cthead\x3e\n                                            \x3ctr class\x3d"odd"\x3e\n                                                \x3cth\x3eQuantity\x3c/th\x3e\n                                                \x3cth class\x3d"size3of8"\x3ePostcard price\x3c/th\x3e\n                                                \x3cth class\x3d"size3of8"\x3e\n                                                    \x3cspan class\x3d"padding-right--lv1"\x3ePostage price\x3c/span\x3e\n                                                    \x3ca href\x3d"http://kb.mailchimp.com/postcards/create-postcards#Set-Audience-and-Budget" target\x3d"_blank" class\x3d"display--inline-block"\x3esee details\x3c/a\x3e\n                                                \x3c/th\x3e\n                                            \x3c/tr\x3e\n                                        \x3c/thead\x3e\n                                        \x3ctbody class\x3d"full-width"\x3e\n                                            \x3c% for (var i \x3d 0; i \x3c this.pricingData.length; i++) {\n                                                var tier \x3d this.pricingData[i];\n                                            %\x3e\n                                                \x3ctr\x3e\n                                                    \x3ctd class\x3d"font-weight--bold"\x3e${this.numberFormat(tier.range_min, 0, \'\', \',\')}${tier.range_max ? \' - \' + this.numberFormat(tier.range_max, 0, \'\', \',\'): \'+\'}\x3c/td\x3e\n                                                    \x3ctd\x3e${this.currencySymbol}${this.numberFormat(tier.per_card_cost, 2, \'.\', \',\')}\x3c/td\x3e\n                                                    \x3ctd\x3e${this.currencySymbol}${this.numberFormat(tier.lowest_postage_rate, 2, \'.\', \',\')} - ${this.currencySymbol}${this.numberFormat(tier.highest_postage_rate, 2, \'.\', \',\')}\x3c/td\x3e\n                                                \x3c/tr\x3e\n                                            \x3c%} %\x3e\n                                        \x3c/tbody\x3e\n                                    \x3c/table\x3e\n                                \x3c/div\x3e\n                            \x3c% } %\x3e\n                        \x3c/div\x3e\n                    \x3c% } %\x3e\n                \x3c% } %\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"size1of3 padding-left--lv4 margin-bottom--lv4 border-left noborder-tablet nopadding--tablet full-width-mobile"\x3e\n                \x3ch2 class\x3d"margin-bottom--lv0" data-dojo-attach-point\x3d"potentialRecipientsHeader"\x3e\x3c/h2\x3e\n                \x3cspan class\x3d"display--inline-block margin-bottom--lv2"\x3e\n                    Potential Recipients\n                    \x3ca\n                        href\x3d"#0"\n                        class\x3d"freddicon info-circle padding-left--lv1 !textcolor--gray4"\n                        data-dojo-attach-event\x3d"click: onOpenTooltip"\n                        data-tooltip\x3d"potentialRecipients"\n                    \x3e\x3c/a\x3e\n                \x3c/span\x3e\n                \x3cp class\x3d"small-meta"\x3e\n                    \x3cspan class\x3d"font-weight--bold full-width display--inline-block"\x3e\n                        ${audienceStrategy \x3d\x3d\x3d this.AUDIENCE_STRATEGY_CONTACTS ? \'Don\u2019t have physical addresses?\' : \'Grow your audience\'}\n                    \x3c/span\x3e\n                    ${audienceStrategy \x3d\x3d\x3d this.AUDIENCE_STRATEGY_CONTACTS ? \'No worries \u2013 we\u2019ll try to match your contacts with available data to help you reach them.\' : \'We\u2019ll help you reach new people who are likely to be interested in your business.\'}\n                \x3c/p\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"full-width margin-left-right--lv0 margin-bottom--lv0" data-dojo-attach-point\x3d"itemButtonsContainer"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c% } else { %\x3e\n        \x3c% if (this.isComplete) { %\x3e\n            \x3cdiv class\x3d"c-slatInfoType !margin--lv0 full-width"\x3e\n                \x3cdiv class\x3d"full-width flex flex-wrap--wrap"\x3e\n                    \x3c% if (this.isValid) { %\x3e\n                        \x3cdiv class\x3d"full-width margin-bottom--lv3"\x3e\n                            You\'re sending to people\n                            ${audienceStrategy \x3d\x3d\x3d this.AUDIENCE_STRATEGY_LOOKALIKE ? "similar to" : "on"}\n                            \x3cstrong\x3e${segmentName}\x3c/strong\x3e in the list \x3cstrong\x3e${listName}\x3c/strong\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"padding-right--lv6 margin-bottom--lv1"\x3e\n                            \x3cspan class\x3d"small-meta font-weight--bold"\x3eMax budget\x3c/span\x3e\x3cbr/\x3e\n                            \x3cspan\x3e${this.currencySymbol}${this.state.maxBudget}\x3c/span\x3e\n                        \x3c/div\x3e\n                        \x3c% if (selectedLocation) { %\x3e\n                            \x3cdiv\x3e\n                                \x3cspan class\x3d"small-meta font-weight--bold"\x3eLocation\x3c/span\x3e\x3cbr/\x3e\n                                \x3cspan\n                                    data-dojo-type\x3d"mojo/widgets/checklist-editor/items/_PostcardLocation"\n                                    data-dojo-props\x3d"\n                                        locationName: \'${selectedLocation.name}\',\n                                        locationRadius: \'${locationRadius}\'\n                                    "\n                                \x3e\n                                \x3c/span\x3e\n                            \x3c/div\x3e\n                        \x3c% } %\x3e\n                    \x3c% } else { %\x3e\n                        \x3cspan class\x3d"full-width error-text"\x3e\n                            ${audienceStrategy \x3d\x3d\x3d this.AUDIENCE_STRATEGY_LOOKALIKE ? "Uh-oh. We couldn\'t find any recipients for your campaign." : "Uh-oh. We couldn\'t find any addresses for your recipients."}\n                        \x3c/span\x3e\n                        \x3cspan class\x3d"full-width"\x3eEdit your selection, and we\'ll try again.\x3c/span\x3e\n                    \x3c% } %\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c% } else { %\x3e\n            \x3cp class\x3d"c-slatInfoType !margin--lv0 full-width fsi dim-el"\x3e\n                ${this.description}\n            \x3c/p\x3e\n        \x3c% } %\x3e\n    \x3c% } %\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/postcard-recurring-schedule.html":'\x3cdiv\x3e\n    \x3cdiv\x3e\n        \x3c% if (this.isActive) { %\x3e\n            \x3cp class\x3d"c-slatInfoType full-width"\x3e\n                ${this.description}\n            \x3c/p\x3e\n            \x3cdiv class\x3d"flex align-items--center margin-bottom--lv3"\x3e\n                \x3cselect\n                    class\x3d"flex--0 !margin--lv0"\n                    maxheight\x3d"-1"\n                    data-dojo-type\x3d"dijit/form/Select"\n                    data-dojo-props\x3d"\n                        onChange: this.handleIntervalChange.bind(this),\n                        required: false\n                    "\x3e\n                    \x3c% for (var i in this.intervals) { %\x3e\n                        \x3coption\n                            \x3c%- interval \x3d\x3d\x3d this.intervals[i].value ? \'selected\x3d"selected"\' : ""%\x3e\n                            value\x3d"\x3c%- this.intervals[i].value %\x3e"\x3e\n                            \x3c%- this.intervals[i].label %\x3e\n                        \x3c/option\x3e\n                    \x3c% } %\x3e\n\n                \x3c/select\x3e\n                \x3c% if (startDate) { %\x3e\n                    \x3cspan class\x3d"flex--0 text-align--center padding--lv1 padding-top-bottom--lv0"\x3e starting on \x3c/span\x3e\n                    \x3cspan class\x3d"flex--0"\x3e\n                        \x3cinput\n                            type\x3d"text"\n                            name\x3d"startDate"\n                            value\x3d"${startDate.toISOString()}"\n                            data-dojo-type\x3d"dijit/form/DateTextBox"\n                            data-dojo-props\x3d"\n                                onChange: this.handleStartDateChange.bind(this),\n                                constraints: { min: new Date() }\n                            "/\x3e\n                    \x3c/span\x3e\n                \x3c% } else { %\x3e\n                    \x3cspan class\x3d"flex--0 padding--lv1 padding-top-bottom--lv0"\x3e\n                        Starting \x3cstrong\x3e\x3c%- this.getFormattedStartDate(new Date()) %\x3e\x3c/strong\x3e\n                        \x3ca href\x3d"javascript:" class\x3d"small-meta" data-dojo-attach-event\x3d"click: enableStartDate"\x3eChoose specific date\x3c/a\x3e\n                    \x3c/span\x3e\n                \x3c% } %\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"itemButtonsContainer"\x3e\x3c/div\x3e\n        \x3c% } else { %\x3e\n            \x3c% if (this.isComplete) { %\x3e\n                \x3cdiv class\x3d"c-slatInfoType !margin--lv0 full-width"\x3e\n                    Sends \x3cstrong\x3e${this.getIntervalLabelByValue(interval)}\x3c/strong\x3e.\n                    Next send is \x3c%- this.getFormattedStartDate(new Date(startDate)) %\x3e.\n                \x3c/div\x3e\n            \x3c% } else { %\x3e\n            \x3cp class\x3d"c-slatInfoType !margin--lv0 full-width fsi dim-el"\x3e\n                ${this.description}\n            \x3c/p\x3e\n            \x3c% } %\x3e\n        \x3c% } %\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/reconfirm-dialog.html":'\x3cdiv class\x3d"dijitDialogPaneContentArea min-width--lv0 padding--lv6 padding-top-bottom--lv0"\x3e\n    \x3cp\x3eBefore you can send to your \x3c% if (this.model.list \x26\x26 this.model.list.name) { %\x3e\x3cb\x3e\x3c%- this.model.list.name %\x3e\x3c/b\x3e\x3c% } %\x3e list, the addresses that have never been sent to through our system will have to be reconfirmed.\x3c/p\x3e\n    \x3cp\x3eClicking the \x3cb\x3eReconfirm\x3c/b\x3e button below will temporarily remove these addresses from the list and allow you to send this campaign to any existing subscribers.\x3c/p\x3e\n    \x3c% if (!user.isLimitedTrial) { %\x3e\n        \x3cp\x3eYou may also contact our compliance team at \x3ca href\x3d"mailto:compliance@mailchimp.com" target\x3d"_blank"\x3ecompliance@mailchimp.com\x3c/a\x3e for further insight into what may be causing this detection.\x3c/p\x3e\n    \x3c% } %\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3c% if (errorState) { %\x3e\n            \x3ca class\x3d"button p0" href\x3d"${this.reconfirmURL}"\x3e\n                Reconfirm\n            \x3c/a\x3e\n        \x3c% } %\x3e\n        \x3ca href\x3d"#0" data-dojo-attach-event\x3d"click: closeDialog"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/recipients.html":'\x3cdiv\x3e\n    \x3c% if (this.isActive) { %\x3e\n        \x3cp class\x3d"c-slatInfoType"\x3e${this.description}\x3c/p\x3e\n        \x3cdiv class\x3d"flex-row flex-between flex-col-tablet"\x3e\n            \x3cdiv class\x3d"flex-half"\x3e\n                \x3clabel for\x3d"audience-list"\x3eList\x3c/label\x3e\n                \x3cselect\n                    data-dojo-type\x3d"mojo/widgets/input/InfoSelect"\n                    data-dojo-props\x3d"onChange: this.onListChange.bind(this)"\n                    class\x3d"select-small !margin-bottom--lv4 !margin-right--lv0 full-width"\n                    name\x3d"list_id"\n                    maxHeight\x3d"-1"\x3e\n                    \x3coption value\x3d""\x3eChoose a list\x3c/option\x3e\n                    \x3c% for (var i in listOptions) { %\x3e\n                        \x3coption\n                            ${listOptions[i].listId \x3d\x3d\x3d listId \x26\x26 \'selected\'}\n                            data-meta\x3d"${this.getOptionMeta(listOptions[i])}"\n                            value\x3d"${listOptions[i].listId}"\x3e\n                            \x3c%- listOptions[i].name %\x3e\n                        \x3c/option\x3e\n                    \x3c% } %\x3e\n                \x3c/select\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"flex-half"\x3e\n                \x3c% if (listId) { %\x3e\n                    \x3clabel\x3eSegment\x3c/label\x3e\n                    \x3cdiv\n                        class\x3d"!margin-bottom--lv4 !margin-right--lv0 full-width"\n                        data-dojo-type\x3d"mojo/widgets/SegmentDropdown"\n                        name\x3d"saved_segment_id"\n                        data-dojo-props\x3d"\n                            listId: ${listId},\n                            selected: \'\x3c%- getSegmentOptionForSegment(segment) %\x3e\',\n                            firstOption: \'All subscribers on list\',\n                            createSegmentOptionText:\'Group or new segment\',\n                            onChange: this.setSegmentOption.bind(this),\n                            createOption: true,\n                            sourceUrl: \'lists/segments/lists/saved-email\'\n                        "\x3e\n                    \x3c/div\x3e\n                \x3c% } %\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c% if (listErrorMessage) { %\x3e\n            \x3cdiv class\x3d"c-flashBlock margin-bottom--lv4"\x3e\n              \x3cdiv class\x3d"av-flash v-flashBlock--error padding-top--lv3 padding-bottom--lv1  border-radius--lv1 margin-top--lv0"\x3e\n                \x3cul class\x3d"padding--lv3 !padding-top-bottom--lv0"\x3e\n                  \x3cli\x3e\n                      \x3c% if (listErrorMessage.resolution.action.attr) { %\x3e\n                          \x3ca class\x3d"c-slatButton button p2 float--right \x3c% if (!listErrorMessage.resolution.canResolve) { %\x3e disabled\x3c% } %\x3e" ${listErrorMessage.resolution.action.attr}\x3e${listErrorMessage.resolution.action.title}\x3c/a\x3e\n                          \x3c% if (!listErrorMessage.resolution.canResolve) { %\x3e\n                              \x3cp class\x3d"line-height--buttonHeight"\x3e${listErrorMessage.resolution.cantResolveMessage}\x3c/p\x3e\n                          \x3c% } %\x3e\n                      \x3c% } %\x3e\n                      \x3c% for (var p in listErrorMessage.descriptionLong) { %\x3e\n                          \x3cp class\x3d"line-height--buttonHeight"\x3e${listErrorMessage.descriptionLong[p]}\x3c/p\x3e\n                      \x3c% } %\x3e\n                  \x3c/li\x3e\n                \x3c/ul\x3e\n              \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c% } %\x3e\n\n        \x3c% if (listId \x26\x26 this.isCustomSegment()) { %\x3e\n            \x3cdiv\n                class\x3d"margin-bottom--lv4 flex-equal"\n                data-dojo-props\x3d"campaignId: this.model.campaignId, listId: ${listId}, segment: this.state.segment"\n                data-dojo-type\x3d"mojo/widgets/checklist-editor/items/_CustomSegment"\n                data-dojo-attach-point\x3d"customSegmentContainer"\x3e\n            \x3c/div\x3e\n        \x3c% } %\x3e\n        \x3c% if (listId) { %\x3e\n            \x3c!-- Personalize the To field --\x3e\n            \x3cdiv \n                data-dojo-type\x3d"mojo/widgets/checklist-editor/items/_PersonalizedTo"\n                data-dojo-props\x3d"settings: this.state.settings, mergeFields: this.state.mergeFields"\n                data-dojo-attach-point\x3d"personalizedToContainer"\x3e\n            \x3c/div\x3e\n        \x3c% } %\x3e\n    \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"itemButtonsContainer"\x3e\x3c/div\x3e\n    \x3c% } else { %\x3e\n        \x3c% if (this.isPending) { %\x3e\n            \x3cp class\x3d"c-slatInfoType !margin--lv0 full-width"\x3e\n                Your segment for \x3cstrong\x3e\x3c%- listName %\x3e\x3c/strong\x3e is building...\n            \x3c/p\x3e\n        \x3c% } else if (this.isComplete) { %\x3e\n            \x3cp class\x3d"c-slatInfoType !margin--lv0 full-width"\x3e\n                Send to \x3cstrong\x3e\x3c%- (segment \x26\x26 segment.name) ? segment.name : \'all subscribed contacts\' %\x3e\x3c/strong\x3e\n                in the list \x3cstrong\x3e\x3c%- listName %\x3e\x3c/strong\x3e.\n                \x3c% if (userCanViewRecipientsIndividually) { %\x3e\n                    \x3ca class\x3d"font-weight--bold" href\x3d"javascript:" data-dojo-attach-event\x3d"click: openRecipientsPopup"\x3e${count.toLocaleString()} recipients\x3c/a\x3e\n                \x3c% } else { %\x3e\n                    \x3cspan\x3e${count.toLocaleString()} recipients\x3c/span\x3e\n                \x3c% } %\x3e\n            \x3c/p\x3e\n            \x3cp class\x3d"small-meta"\x3e\n                Your \'To\' field is \x3cstrong\x3e\x3c%- this.state.settings.personalizeTo \x26\x26 this.state.mergeFields ? \'\' : \'not\'%\x3e\x3c/strong\x3e personalized with  \n                \x3c% if (settings.personalizeToTag \x3d\x3d\x3d "") { %\x3e\n                    merge tags\n                \x3c% } else { %\x3e\n                    \x3cstrong\x3e\x3c%- settings.personalizeToTag %\x3e\x3c/strong\x3e\n                \x3c% } %\x3e.\n            \x3c/p\x3e\n        \x3c% } else { %\x3e\n            \x3cp class\x3d"c-slatInfoType !margin--lv0 full-width fsi dim-el"\x3e\n                ${this.description}\n            \x3c/p\x3e\n        \x3c% } %\x3e\n        \x3c% if (listErrorMessage) { %\x3e\n            \x3cp class\x3d"invalid-error !margin--lv0 full-width"\x3e\n                ${listErrorMessage.descriptionShort}\n            \x3c/p\x3e\n        \x3c% } %\x3e\n        \x3c% if (this.model.list \x26\x26 this.model.list.isDeleted) { %\x3e\n            \x3cp class\x3d"invalid-error !margin--lv0 full-width"\x3e\n                Whoops. You can\'t send to a deleted list.\n            \x3c/p\x3e\n        \x3c% } %\x3e\n    \x3c% } %\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/settings.html":'\x3cdiv class\x3d"line bg-gray padding-top--lv6 flex-direction--column@tablet flex"\x3e\n    \x3c% if (state \x3d\x3d\x3d "loading") { %\x3e\n        Loading...\n    \x3c% } else { %\x3e\n        \x3c% if (this.state.isActive) { %\x3e\n            \x3cdiv\n                data-dojo-type\x3d"mojo/widgets/checklist-editor/items/settings/ActiveSettingsView"\n                class\x3d"flex-direction--column@tablet flex flex-wrap--wrap"\n                data-dojo-props\x3d"\n                    state: this.state,\n                    onSave: this.onSave.bind(this),\n                    handleCancel: this.deactivate.bind(this),\n                    campaign: this.model\n            "\x3e\n            \x3c/div\x3e\n        \x3c% } else { %\x3e\n            \x3cdiv\n            data-dojo-type\x3d"mojo/widgets/checklist-editor/items/settings/InactiveSettingsView"\n            class\x3d"flex-direction--column@tablet flex flex-wrap--wrap"\n            data-dojo-props\x3d"\n                state: this.state,\n                onSave: this.onSave.bind(this),\n                activate: this.activate.bind(this),\n            "\x3e\n        \x3c% } %\x3e\n    \x3c% } %\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/social-posting-item.html":'\x3cdiv class\x3d"padding--lv6 padding-top--lv0 ${this.props.isDisabled ? \'c-disabledSlat\' : \'\'}"\x3e\n    \x3cdiv class\x3d"full-width border-radius--lv1 ${this.isEditMode() ? \'v-bg-gray-lightest border-gray-lightest\' : \'border-gray\'}"\x3e\n        \x3cdiv class\x3d"c-checklistEditor_socialPostingItem_header padding--lv2 flex flex-row justify-content--space-between ${this.isPreviewMode() \x26\x26 \'border-bottom\'}"\x3e\n            \x3cdiv class\x3d"flex align-items--center"\x3e\n                \x3cdiv class\x3d"align-self--center margin--lv2 margin-top-bottom--lv0 margin-left--lv0"\x3e\n                    \x3cimg src\x3d"${this.props.staticContent.icon}" width\x3d"35" role\x3d"presentation" /\x3e\n                \x3c/div\x3e\n                \x3c% if (this.isLoading()) { %\x3e\n                    \x3cp class\x3d"margin-bottom--lv0"\x3eLoading profile information...\x3c/p\x3e\n                \x3c% } else if (this.isEditMode() \x26\x26 !this.props.autoselectedProfile) { %\x3e\n                    \x3cdiv class\x3d"align-self--flex-center"\x3e\n                        \x3cselect\n                            dropdown\x3d"true"\n                            multiple\x3d"true"\n                            labeltext\x3d"${this.state.pendingPages.length \x3e 0 ? this.state.pendingPages.length + \' item(s) selected\' : \'Select pages\'}"\n                            data-dojo-type\x3d"dojox/form/CheckedMultiSelect"\n                            data-dojo-props\x3d"onChange: this.updatePendingPages.bind(this), options: this.getPageOptions(), _onBlur: this.pagesDropdownClose.bind(this)"\n                        \x3e\x3c/select\x3e\n                    \x3c/div\x3e\n                \x3c% } else if (!this.props.profileData.isConnected) { %\x3e\n                    \x3cp class\x3d"margin-bottom--lv0"\x3e\x3ca href\x3d"${this.props.urls.integration}"  class\x3d"align-self--center"\x3eConnect ${this.props.staticContent.name}\x3c/a\x3e\x3c/p\x3e\n                \x3c% } else if (this.props.profileData.canPublish \x3d\x3d\x3d false) { %\x3e\n                    \x3cdiv\x3e\n                        \x3ch4 class\x3d"small-meta margin--lv0"\x3eWe\x26rsquo;re not allowed to autopost\x3c/h4\x3e\n                        \x3cp class\x3d"small-meta margin--lv0"\x3eWhen you set up the ${this.props.staticContent.name} integration, it looks like you didn\x26rsquo;t give us permission to publish posts. \x3ca href\x3d"\x3c%- this.props.urls.addPublishPermission %\x3e"\x3eallow mailchimp to post to ${this.props.staticContent.name} for you\x3c/a\x3e.\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c% } else { %\x3e\n                    \x3cdiv\x3e\n                        \x3cp class\x3d"margin--lv0 small-meta font-weight--bold"\x3e${this.props.staticContent.postingLabel}\x3c/span\x3e\n                        \x3cp class\x3d"margin--lv0 font-weight--bold"\x3e${this.getPageString()}\x3c/span\x3e\n                    \x3c/div\x3e\n                \x3c% } %\x3e\n            \x3c/div\x3e\n            \x3c% if (!this.isLoading() \x26\x26 this.props.profileData.canPublish \x26\x26 this.props.profileData.isConnected) { %\x3e\n                \x3cdiv class\x3d"align-self--center"\x3e\n                    \x3c% if (!this.props.isDisabled) { %\x3e\n                        \x3cinput type\x3d"checkbox" class\x3d"av-checkbox" data-dojo-type\x3d"mojo/widgets/Switch" data-dojo-props\x3d"sizeClass: \'switch-small !margin-right--lv0\', onChangeAsync: this.toggleAutoPosting.bind(this)"  checked\x3d"${shouldAutopost}" name\x3d"enableSocial" /\x3e\n                    \x3c% } %\x3e\n                \x3c/div\x3e\n            \x3c% } %\x3e\n        \x3c/div\x3e\n        \x3c% if (!this.isLoading() \x26\x26 !this.props.isDisabled \x26\x26 this.props.profileData.isConnected \x26\x26 shouldAutopost) { %\x3e\n            \x3c% if (this.props.isActive) { %\x3e\n                \x3cdiv class\x3d"padding--lv2 padding-top--lv0 margin--lv8 nomargin-small margin-top-bottom--lv0 margin-right--lv0"\x3e\n                    \x3cdiv class\x3d"flex justify-content--flex-end"\x3e\n                        \x3cspan class\x3d"small-meta font-weight--bold align-self--flex-end"\x3e\n                            ${this.getRemainingCharacterCountLabel()}\n                        \x3c/span\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"margin-bottom--lv4 border-gray background-color--light flex-full"\x3e\n                        \x3cdiv class\x3d"padding-lv1"\x3e\n                            \x3cdiv class\x3d"padding--lv1"\x3e\n                                \x3ctextarea id\x3d"${\'postContentTextArea_\' + this.props.networkName}" class\x3d"noborder !margin--lv0" data-dojo-attach-event\x3d"keyup: updatePendingContent"\x3e${pendingContent}\x3c/textarea\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3c% if(this.socialPostingFlag) { %\x3e\n                            \x3c% var errorState \x3d this.validateImages(); %\x3e\n                        \x3c% } %\x3e\n\n                        \x3c% if (this.socialPostingFlag \x26\x26 this.canImagesBeUploaded) { %\x3e\n                            \x3cdiv class\x3d"background-color--light flex-full padding-lv1 border-top"\x3e\n                                \x3cdiv class\x3d"padding-left--lv2 padding-top--lv1 padding-bottom--lv1"\x3e\n                                    \x3c% if (pendingImages.length \x3e 0) { %\x3e\n                                        \n                                        \x3cdiv\n                                            data-dojo-type\x3d"mojo/widgets/checklist-editor/items/_SocialPostingImageStrip"\n                                            data-dojo-props\x3d"images: this.state.pendingImages, onRemove: this.removePendingImage.bind(this), onUpload: this.showImageUploader.bind(this), canAddMoreImages: (!this.props.imageLimit || this.state.pendingImages.length \x3c this.props.imageLimit) \x26\x26 ${errorState.errorMessages.length \x3d\x3d\x3d 0}"\n                                        \x3e\n                                        \x3c/div\x3e\n                                    \x3c% } else { %\x3e\n                                        \x3cbutton\n                                            class\x3d"small-meta font-weight--bold padding--lv0 !background--none height--inherit"\n                                            data-dojo-attach-event\x3d"click: showImageUploader"\n                                        \x3e\n                                            \x3cspan class\x3d"freddicon editor-pic margin--lv1 margin-left--lv0 margin-top--lv0 margin-bottom--lv0"\x3e\x3c/span\x3e\n                                            Add Photos\n                                        \x3c/button\x3e\n                                    \x3c% } %\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c% } %\x3e\n                    \x3c/div\x3e\n                    \x3c% if(this.socialPostingFlag) { %\x3e\n                        \x3c% if (errorState.errorMessages.length \x3e 0) { %\x3e\n                            \x3c%for (i \x3d 0; i \x3c errorState.errorMessages.length; i++) { %\x3e\n                                \x3cspan class\x3d"invalid-error"\x3e${errorState.errorMessages[i]}\x3c/span\x3e\n                            \x3c% } %\x3e\n                        \x3c% } %\x3e\n    \n                        \x3c% if (errorState.warningMessages \x26\x26 errorState.warningMessages.length \x3e 0) { %\x3e\n                            \x3c%for (i \x3d 0; i \x3c errorState.warningMessages.length; i++) { %\x3e\n                                \x3cdiv class\x3d"field-help always-show"\x3e${errorState.warningMessages[i]}\x3c/div\x3e\n                            \x3c% } %\x3e\n                        \x3c% } %\x3e\n                    \x3c% } %\x3e\n                    \x3cdiv\x3e\n\n                            \x3c% if(this.socialPostingFlag) { %\x3e\n                                \x3cbutton \n                                    class\x3d"p0 ${this.isValidMessage() \x26\x26 errorState.errorMessages.length \x3c\x3d 0 ? \'\' : \'disabled\'} ${isSaving ? \'button-loading disabled\' : \'\'}"\n                                    data-dojo-attach-event\x3d"click: saveContent"\n                                    \x3e\n                                    ${isSaving ? \'Please wait...\' : \'Save message\'}\n                                \x3c/button\x3e\n                            \x3c% } else { %\x3e\n                                \x3cbutton \n                                    class\x3d"p0 ${this.isValidMessage() ? \'\' : \'disabled\'} ${isSaving ? \'button-loading disabled\' : \'\'}"\n                                    data-dojo-attach-event\x3d"click: saveContent"\n                                    \x3e\n                                    ${isSaving ? \'Please wait...\' : \'Save message\'}\n                                \x3c/button\x3e\n                            \x3c% }%\x3e\n                   \n                        \x3c% if (!isSaving) { %\x3e\n                            \x3ca href\x3d"#0" data-dojo-attach-event\x3d"click: cancelEditing"\x3eCancel\x3c/a\x3e\n                        \x3c% } %\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c% } else { %\x3e\n                \x3cdiv class\x3d"padding--lv2 nomargin-small margin--lv8 margin-top--lv0 margin-bottom--lv0 margin-right--lv0"\x3e\n                    \x3c!-- placeholder text --\x3e\n                    \x3cp\x3e\x3c%\x3d this.generatePreviewContent() %\x3e\x3c/p\x3e\n                    \x3c% if (this.socialPostingFlag \x26\x26 this.canImagesBeUploaded \x26\x26 pendingImages.length \x3e 0) { %\x3e\n                        \x3cdiv\n                            data-dojo-type\x3d"mojo/widgets/checklist-editor/items/_SocialPostingImageStrip"\n                            data-dojo-props\x3d"images: this.getImages(), isCompact: true"\n                        \x3e\n                        \x3c/div\x3e\n                    \x3c% }%\x3e\n                    \x3cdiv class\x3d"flex justify-content--space-between"\x3e\n                        \x3cbutton class\x3d"align-self--flex-end !margin-right--lv0" data-dojo-attach-event\x3d"click: editContent"\x3eEdit Post\x3c/button\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c% } %\x3e\n        \x3c% } %\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/social-posting-wrapper.html":"\x3cdiv class\x3d\"flex flex-row\"\x3e\n    \x3cdiv\n        class\x3d\"c-checklistEditor_socialPostingItem\"\n        data-dojo-type\x3d\"mojo/widgets/checklist-editor/items/SocialPostingItem\"\n        data-dojo-props\x3d\"\n            profileData: this.state.facebookData,\n            postData: this.campaign.social.facebook,\n            imageValidationHandler: this.facebookImageValidation,\n            campaignSubject: this.campaign.content.subject,\n            urls: this.socialUrls.facebook,\n            staticContent: this.socialContent.facebook, \n            isDisabled: this.state.isDisabled || (this.state.activeNetwork \x26\x26 this.state.activeNetwork !\x3d\x3d 'facebook'),\n            networkName: 'facebook',\n            onSave: this.onSave,\n            onActivate: this.activate.bind(this, 'facebook'),\n            onDeactivate: this.deactivate.bind(this),\n            isActive: ${this.state.activeNetwork \x3d\x3d\x3d 'facebook'},\n            imageLimit: this.campaign.social.facebook.maxFiles,\n            canImagesBeUploaded: true\"\n    \x3e\x3c/div\x3e\n    \x3cdiv\n        class\x3d\"c-checklistEditor_socialPostingItem\"\n        data-dojo-type\x3d\"mojo/widgets/checklist-editor/items/SocialPostingItem\"\n        data-dojo-props\x3d\"\n            profileData: this.state.twitterData,\n            postData: this.campaign.social.twitter,\n            imageValidationHandler: this.twitterImageValidation,\n            campaignSubject: this.campaign.content.subject,\n            urls: this.socialUrls.twitter,\n            staticContent: this.socialContent.twitter, \n            isDisabled: this.state.isDisabled || (this.state.activeNetwork \x26\x26 this.state.activeNetwork !\x3d\x3d 'twitter'),\n            networkName: 'twitter',\n            onSave: this.onSave,\n            autoselectedProfile: this.state.autoselectedTwitterProfile,\n            onActivate: this.activate.bind(this, 'twitter'),\n            onDeactivate: this.deactivate.bind(this),\n            isActive: ${this.state.activeNetwork \x3d\x3d\x3d 'twitter'},\n            imageLimit: this.campaign.social.twitter.maxFiles,\n            canImagesBeUploaded: true\"\n    \x3e\x3c/div\x3e\n    \x3c% if (this.instagramFeatureFlag) { %\x3e\n    \x3cdiv\n        class\x3d\"c-checklistEditor_socialPostingItem\"\n        data-dojo-type\x3d\"mojo/widgets/checklist-editor/items/SocialPostingItem\"\n        data-dojo-props\x3d\"\n            profileData: this.state.instagramData,\n            postData: this.campaign.social.instagram,\n            imageValidationHandler: this.twitterImageValidation,\n            campaignSubject: this.campaign.content.subject,\n            urls: this.socialUrls.facebook,\n            staticContent: this.socialContent.instagram, \n            isDisabled: this.state.isDisabled || (this.state.activeNetwork \x26\x26 this.state.activeNetwork !\x3d\x3d 'instagram'),\n            networkName: 'instagram',\n            onSave: this.onSave,\n            autoselectedProfile: this.state.autoselectedInstagramProfile,\n            onActivate: this.activate.bind(this, 'instagram'),\n            onDeactivate: this.deactivate.bind(this),\n            isActive: ${this.state.activeNetwork \x3d\x3d\x3d 'instagram'},\n            imageLimit: this.campaign.social.twitter.maxFiles,\n            canImagesBeUploaded: true\"\n    \x3e\x3c/div\x3e\n    \x3c% } %\x3e\n\x3c/div\x3e\n",
"url:mojo/widgets/checklist-editor/items/templates/store.html":'\x3cdiv\x3e\n    \x3c% if (this.isActive) { %\x3e\n        \x3c% if (hasStores) { %\x3e\n            \x3cp class\x3d"c-slatInfoType full-width padding-top--lv1"\x3e\n                \x3c% if (this.hasSignupForm) { %\x3e\n                    \x3cspan class\x3d"small-meta dim-el"\x3e${this.description} ${listName}\x3c/span\x3e\n                \x3c% } %\x3e\n            \x3c/p\x3e\n            \x3cdiv class\x3d"flex-row flex-between flex-col-tablet"\x3e\n                \x3cdiv class\x3d"flex-half" data-dojo-attach-point\x3d"storeSelectContainer"\x3e\n                    \x3cselect\n                        data-dojo-type\x3d"mojo/widgets/input/InfoSelect"\n                        data-dojo-props\x3d"onChange: this.onStoreChange.bind(this), options: this.getStoreTagOptions()"\n                        class\x3d"select-small !margin-bottom--lv4 !margin-right--lv0 full-width"\n                        name\x3d"store_id"\n                        maxHeight\x3d"-1"\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n        \x3c% } else { %\x3e\n            \x3cp class\x3d"c-slatInfoType full-width"\x3e\n                \x3cdiv class\x3d"feedback-block info section" role\x3d"status"\x3e\n                    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                        \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                            \x3cp\x3e${this.noStoreMessage}\x3c/p\x3e\n                        \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/p\x3e\n        \x3c% } %\x3e\n        \x3c% if (changedStore) { %\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/FeedbackBlock" data-dojo-props\x3d"type: \'info\'"\x3e\n                \x3cp\x3eChoosing a new store will change the signup form fields that are available in your landing page.\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c% } %\x3e\n        \x3cdiv data-dojo-attach-point\x3d"itemButtonsContainer"\x3e\x3c/div\x3e\n    \x3c% } else { %\x3e\n        \x3c% if (hasStores) { %\x3e\n            \x3cp class\x3d"c-slatInfoType full-width padding-top--lv1"\x3e\n                \x3cstrong\x3e${storeName}\x3c/strong\x3e\x3cbr/\x3e\n                \x3c% if (this.hasSignupForm) { %\x3e\n                    \x3cspan class\x3d"small-meta dim-el"\x3e${this.description} ${listName}\x3c/span\x3e\n                \x3c% } %\x3e\n            \x3c/p\x3e\n        \x3c% } %\x3e\n    \x3c% } %\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/templates/subject.html":'\x3cdiv\x3e\n\x3c% if (this.isActive) { %\x3e\n    \x3cp class\x3d"c-slatInfoType"\x3e${this.description}\x3c/p\x3e\n    \x3cdiv class\x3d"flex flex-row flex-between flex-direction--column@tablet !margin-bottom--lv2"\x3e\n        \x3cfieldset class\x3d"padding--lv1 padding-left--lv0 padding-right--lv0 flex-half field-wrapper readable-max-width"\x3e\n            \x3clabel for\x3d"subject"\x3eSubject\n                \x3cspan data-dojo-attach-point\x3d"subjectCharCountContainer" class\x3d"small-meta char-count-container"\x3e\x3c/span\x3e\n            \x3c/label\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/EmojiPicker" data-dojo-id\x3d"subjectEmojiPicker" class\x3d"relative"\x3e\n                \x3cinput\n                    data-dojo-attach-event\x3d"keyup: setValue"\n                    type\x3d"text"\n                    id\x3d"subject"\n                    name\x3d"subject"\n                    value\x3d"\x3c%- subject %\x3e"\n                    ${this.isSaving \x26\x26 \'disabled\'} /\x3e\n                \x3cdiv class\x3d"field-help always-show" id\x3d"subject-dialog-container"\x3e\n                    \x3c!-- Subject Help Dialog --\x3e\n                    \x3ca href\x3d"javascript:" data-dojo-attach-event\x3d"click: showSubjectDialog"\x3eHow do I write a good subject line?\x3c/a\x3e\n                    \x3c!-- End Subject Help Dialog --\x3e\n                    \x26bull;\n                    \x3c!-- Emoji Help Tooltip --\x3e\n                    \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"emojiSupportLink" class\x3d"nowrap display--inline-block padding-bottom--lv1"\x3eEmoji support\x3c/a\x3e\n                    \x3c!-- End Emoji Help Tooltip --\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cspan class\x3d"invalid-error"\x3e\x3cspan data-dojo-attach-point\x3d"subjectValidationErrorsContainer"\x3e\x3c/span\x3e\x3c/span\x3e\n        \x3c/fieldset\x3e\n        \x3cfieldset class\x3d"padding--lv1 padding-left--lv0 padding-right--lv0 flex-half field-wrapper readable-max-width"\x3e\n            \x3clabel for\x3d"previewText-${this.id}"\x3ePreview text\n                \x3cspan data-dojo-attach-point\x3d"previewTextCharCountContainer" class\x3d"small-meta char-count-container"\x3e\x3c/span\x3e\n            \x3c/label\x3e\n            \x3cdiv data-dojo-type\x3d"mojo/widgets/EmojiPicker" data-dojo-id\x3d"previewTextEmojiPicker" class\x3d"relative"\x3e\n                \x3cinput\n                    data-dojo-attach-event\x3d"keyup: setValue"\n                    type\x3d"text"\n                    id\x3d"previewText-${this.id}"\n                    name\x3d"previewText"\n                    value\x3d"\x3c%- previewText %\x3e"\n                    placeholder\x3d"Optional"\n                    ${this.isSaving \x26\x26 \'disabled\'} /\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"field-help always-show"\x3e\n                This snippet will appear in the inbox after the subject line.\n            \x3c/div\x3e\n            \x3cspan class\x3d"invalid-error"\x3e\x3cspan data-dojo-attach-point\x3d"previewTextValidationErrorsContainer"\x3e\x3c/span\x3e\x3c/span\x3e\n        \x3c/fieldset\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"subjectItemButtonsContainer"\x3e\x3c/div\x3e\n\x3c% } else if (this.isValid \x26\x26 this.isComplete) { %\x3e\n    \x3cp class\x3d"c-slatInfoType full-width margin-bottom--lv0 ${previewText \x26\x26 \'margin--lv0\'}"\x3e\n        \x3c%- subject %\x3e\n    \x3c/p\x3e\n    \x3cp class\x3d"small-meta dim-el margin--lv0"\x3e\x3c% if (previewText) { %\x3ePreview Text: \x3c%- previewText %\x3e\x3c% } %\x3e\x3c/p\x3e\n\x3c% } else { %\x3e\n    \x3cp class\x3d"c-slatInfoType !margin--lv0 full-width fsi dim-el"\x3e\n        ${this.description}\n    \x3c/p\x3e\n\x3c% } %\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/settings/templates/active-settings-view.html":'\x3cdiv class\x3d"flex--1 padding--lv6 padding-top--lv0 padding-bottom--lv0 ${this.isDisabled ? \'c-disabledSlat\' : \'\'}"\x3e\n    \x3ch4 class\x3d"fwb margin-bottom--lv0 normal-meta"\x3e\n        Settings \x26 Tracking\n    \x3c/h4\x3e\n    \x3cdiv class\x3d"padding-top--lv2"\x3e\n        \x3c!--Conversations--\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3c% if (user.hasPaid) { %\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleUseConversation.bind(this), checked: ${Boolean(settings.useConversation).toString()}" /\x3e\n                \x3cspan class\x3d"small-meta"\x3eUse Conversations to manage replies\x3c/span\x3e\n            \x3c/label\x3e\n            \x3c% } else { %\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput type\x3d"checkbox" disabled\x3d"disabled" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\n                Use Conversations to manage replies\n                \x3cspan class\x3d"badge"\x3ePaid accounts only\x3c/span\x3e\n            \x3c/label\x3e\n            \x3c% } %\x3e\n\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                \x3cp\x3eWhen enabled, we\x26rsquo;ll generate a special reply-to address for your campaign.\n                    We\x26rsquo;ll filter \x26ldquo;out of office\x26rdquo; replies, then thread conversations into\n                    your subscribers\x26rsquo; profiles and display them in reports.\n                \x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!--Auto-Convert Video--\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleConvertVideo.bind(this), checked: ${Boolean(settings.convertVideo).toString()}" /\x3e\n                \x3cspan class\x3d"small-meta"\x3eAuto-convert video\x3c/span\x3e\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Turn this on, and we\x26rsquo;ll scan your content for embedded videos (which don\x26rsquo;t always render properly in email apps),\n                then auto-convert them to use our email-friendly \x3ca class\x3d"underline" href\x3d"http://kb.mailchimp.com/campaigns/images-videos-files/add-video-to-a-campaign#Video-Merge-Tags"\x3evideo merge tags\x3c/a\x3e instead.\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Opens --\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleTrackOpens.bind(this), checked: ${Boolean(tracking.trackOpens).toString()}" /\x3e\n                Track opens\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Discover who opens your campaigns by tracking the number of times an invisible\n                web beacon embedded in the campaign is downloaded. \x3ca class\x3d"underline" href\x3d"https://kb.mailchimp.com/reports/about-open-tracking"\x3eLearn more\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- HTML Clicks --\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3c% if (user.mustTrackLinks) { %\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" checked disabled /\x3eTrack clicks\n                \x3c% if (user.hasPaid) { %\x3e\n                \x3cspan class\x3d"badge"\x3eRequired for new users\x3c/span\x3e\n                \x3c% } else { %\x3e\n                \x3cspan class\x3d"badge"\x3eRequired on free accounts\x3c/span\x3e\n                \x3c% } %\x3e\n            \x3c/label\x3e\n            \x3c% } else { %\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleTrackClicksHtml.bind(this), checked: ${Boolean(tracking.trackClicksHTML).toString()}" /\x3e\n                Track clicks\n            \x3c/label\x3e\n            \x3c% } %\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Discover which campaign links were clicked, how many times they were clicked, and who did the clicking.\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Plain-Text Clicks --\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3c% if (user.mustTrackLinks) { %\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" checked disabled /\x3eTrack plain-text clicks\n                \x3c% if (user.hasPaid) { %\x3e\n                \x3cspan class\x3d"badge"\x3eRequired for new users\x3c/span\x3e\n                \x3c% } else { %\x3e\n                \x3cspan class\x3d"badge"\x3eRequired on free accounts\x3c/span\x3e\n                \x3c% } %\x3e\n            \x3c/label\x3e\n            \x3c% } else { %\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleTrackClicksText.bind(this), checked: ${Boolean(tracking.trackClicksText).toString()}" /\x3e\n                Track plain-text clicks\n            \x3c/label\x3e\n            \x3c% } %\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Track clicks in \x3cspan\x3ethe plain-text version of\x3c/span\x3e your email by replacing all links with tracking URLs.\n                \x3ca class\x3d"underline" href\x3d"http://kb.mailchimp.com/reports/about-click-tracking#Click-Tracking-in-Plain-Text-Campaigns"\x3eLearn more\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- E-commerce Link Tracking --\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleEcomm.bind(this), checked: ${Boolean(tracking.ecomm360).toString()}" /\x3e\n                E-commerce link tracking\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Track visitors to your website from your MailChimp campaigns, capture order\n                information, and pass that information back to MailChimp. Then you can view\n                purchase details, conversions, and total sales on the reports page. You can also set\n                up segments based on your subscribers\x26rsquo; purchase activity.\n                \x3ca class\x3d"underline" href\x3d"http://kb.mailchimp.com/integrations/e-commerce/how-to-use-mailchimp-for-e-commerce"\x3eLearn more\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv class\x3d"flex--1 padding--lv6 padding-top--lv0 padding-bottom--lv0 margin--lv4 margin-bottom--lv0 margin-right--lv0 margin-left--lv0 nomargin--tablet ${this.isDisabled ? \'c-disabledSlat\' : \'\'}"\x3e\n    \x3cdiv class\x3d"padding-top--lv2"\x3e\n        \n        \x3c!-- Goal Tracking --\x3e\n        \x3c% if (user.isGoalEnabled) { %\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleGooal.bind(this), checked: ${Boolean(tracking.gooal).toString()}" /\x3e\n                Goal tracking\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Track where subscribers go on your site, then trigger automations or segment\n                your list based on what pages they\x26rsquo;ve visited.\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c% } %\x3e\n\n        \x3c!-- Google Analytics Link Tracking --\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3c% if (googleEnabled) { %\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleGoogleAnalytics.bind(this), checked: ${Boolean(tracking.googleAnalytics).toString()}" /\x3e\n                Google Analytics link tracking\n            \x3c/label\x3e\n            \x3c% } else { %\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" disabled\x3d"disabled" /\x3eGoogle Analytics link tracking\n            \x3c/label\x3e\n            \x3c% } %\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Track clicks from your campaigns all the way to purchases on your website.\n                \x3c% if (!googleEnabled) { %\x3e\n                \x3cspan class\x3d"small-meta"\x3eRequires \x3ca class\x3d"underline" href\x3d"http://www.google.com/analytics/" target\x3d"_blank"\x3eGoogle Analytics\x3c/a\x3e on your website or \x3ca class\x3d"underline" href\x3d"https://apps.shopify.com/mailchimp/?ref\x3dmailchimp" target\x3d"_blank"\x3eShopify Integration\x3c/a\x3e.\x3c/span\x3e\n                \x3c% } %\x3e\n                \x3c% if (tracking.googleAnalytics) { %\x3e\n                \x3cdiv class\x3d"padding-top--lv2 small-meta"\x3e\n                    \x3clabel class\x3d"small-meta"\x3eTitle for campaign\n                        \x3cspan\n                            data-dojo-type\x3d"mojo/widgets/CountRemainingCharacters"\n                            data-dojo-props\x3d"inputField: \'google_analytics_tracking_tag_input\', characters: 45, shouldCountOnBoot: true"\n                            class\x3d"float-right"\x3e\n                        \x3c/span\x3e\n                    \x3c/label\x3e\n                    \x3cdiv class\x3d"field-wrapper"\x3e\n                        \x3cinput\n                            id\x3d"google_analytics_tracking_tag_input"\n                            type\x3d"text"\n                            data-dojo-attach-event\x3d"onblur: setGoogleAnalyticsTag"\n                            name\x3d"googleAnalyticsTag"\n                            value\x3d"\x3c%- tracking.googleAnalyticsTag %\x3e"\n                            maxlength\x3d"45"\n                        /\x3e\n                        \x3cspan class\x3d"field-help"\x3eYou\x26rsquo;ll see this in Google Analytics\x26trade;\x3c/span\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3c% } %\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- ClickTale Link Tracking --\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleClicktale.bind(this), checked: ${Boolean(tracking.clicktale).toString()}" /\x3e\n                ClickTale link tracking\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Gain insight to how subscribers interact with your email content.\n                \x3c% if (tracking.clicktale) { %\x3e\n                \x3cdiv class\x3d"padding-top--lv3"\x3e\n                    \x3clabel class\x3d"small-meta"\x3eClicktale Tag\n                        \x3cspan\n                            data-dojo-type\x3d"mojo/widgets/CountRemainingCharacters"\n                            data-dojo-props\x3d"inputField: \'clicktaleTag\', characters: 45, shouldCountOnBoot: true"\n                            class\x3d"float-right"\x3e\n                        \x3c/span\x3e\n                    \x3c/label\x3e\n                    \x3cdiv class\x3d"field-wrapper"\x3e\n                        \x3cinput\n                            id\x3d"clicktaleTag"\n                            type\x3d"text"\n                            data-dojo-attach-event\x3d"onblur: setClicktaleTag"\n                            name\x3d"clicktaleTag"\n                            value\x3d"\x3c%- tracking.clicktaleTag %\x3e"\n                            maxlength\x3d"45"\n                        /\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3c% } else { %\x3e\n                Requires \x3ca class\x3d"underline" href\x3d"http://clicktale.com" target\x3d"_blank"\x3eClickTale\x3c/a\x3e on your website.\n                \x3c% } %\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Salesforce, Highrise, Capsule Tracking--\x3e\n        \x3c% if (!crm.salesforceExists) { %\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" disabled/\x3eTrack stats in Salesforce\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                \x3cspan\x3eFirst, \x3ca class\x3d"underline" href\x3d"${urls.integrationsPage}"\x3eenable Salesforce\x3c/a\x3e in Account \x3e Integrations.\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c% } else { %\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleSalesforceCreateCampaign.bind(this), checked: ${Boolean(crm.salesforceCreateCampaign).toString()}" /\x3e\n                Salesforce: Track campaign stats\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                We\x26rsquo;ll create a \x3cstrong\x3ecampaign\x3c/strong\x3e and update it with campaign stats for 2 days after the campaign is sent if you have the \x3cstrong\x3eProfessional Edition\x3c/strong\x3e of Salesforce or higher.\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleSalesforceCreateNotes.bind(this), checked: ${Boolean(crm.salesforceCreateNotes).toString()}" /\x3e\n                Salesforce: Track member activity\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                We\x26rsquo;ll search for \x3cstrong\x3econtacts\x3c/strong\x3e by email, attach a \x3cstrong\x3enote\x3c/strong\x3e with campaign stats, and add them to the \x3cstrong\x3ecampaign\x3c/strong\x3e if you have the \x3cstrong\x3eProfessional Edition\x3c/strong\x3e of Salesforce or higher.\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c% } %\x3e\n        \x3c% if (!crm.javelinExists) { %\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" disabled/\x3eTrack member activity in Capsule\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                \x3cspan\x3eFirst, \x3ca class\x3d"underline" href\x3d"${urls.integrationsPage}"\x3eenable Capsule\x3c/a\x3e in Account \x3e Integrations.\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c% } else { %\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleJavelinCreateNotes.bind(this), checked: ${Boolean(crm.javelinCreateNotes).toString()}" /\x3e\n                Capsule: Track member activity\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                We\x26rsquo;ll search for \x3cstrong\x3econtacts\x3c/strong\x3e by email and attach a \x3cstrong\x3enote\x3c/strong\x3e with the campaign stats.\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c% } %\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv \n    class\x3d"width--100 padding--lv6 padding-top--lv1"\n    data-dojo-type\x3d"mojo/widgets/checklist-editor/items/ItemButtons"\n    data-dojo-props\x3d"getData: this.getData.bind(this), onSave: this.onSave, cancel: this.handleCancel, isValid: this.state.isValid"\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/settings/templates/inactive-settings-view.html":"\x3cdiv class\x3d\"flex--1 padding--lv6 padding-top--lv0 padding-bottom--lv0@tablet ${this.state.isDisabled ? 'c-disabledSlat' : ''}\"\x3e\n    \x3ch4 class\x3d\"fwb margin-bottom--lv0 normal-meta\"\x3e\n        Settings \x26 Tracking\n        \x3c% if (!this.state.isDisabled) { %\x3e\n            \x3ca class\x3d\"margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0 small-meta underline\" href\x3d\"javascript:;\" data-dojo-attach-event\x3d\"click: activate\"\x3eEdit\x3c/a\x3e\n        \x3c% } %\x3e\n    \x3c/h4\x3e\n    \x3cul class\x3d\"padding-top--lv2 disc small-meta\"\x3e\n        \x3cli\x3eYou're \x3cstrong\x3e${settings.useConversation ? '' : 'not'} using Conversations\x3c/strong\x3e to manage replies.\x3c/li\x3e\n        \x3c% if (settings.useConversation) { %\x3e\n            \x3cul class\x3d\"small-meta\"\x3e\n                \x3cli\x3e\n                    \x3cspan\x3e- \x3ca class\x3d\"underline font-weight--bold\" href\x3d\"#\" data-dojo-attach-event\x3d\"click: showConversationSettingsDialog\"\x3e \x3c%- settings.convoNotifierCount %\x3e ${settings.convoNotifierCount!\x3d 1 ? \"people\" : \"person\"}\x3c/a\x3e will receive a notification when a contact replies to your email.\x3c/span\x3e\n                \x3c/li\x3e\n            \x3c/ul\x3e\n        \x3c% } %\x3e\n        \x3cli\x3e\n            Your \x3cstrong\x3eembedded videos will ${settings.convertVideo ? '' : 'not'} auto-convert\x3c/strong\x3e into linked thumbnail images.\n        \x3c/li\x3e\n        \x3cli\x3e\n            \x3c% if (!tracking.trackOpens) { %\x3e\n                \x3cspan class\x3d\"freddicon warn-fill warn-circle-color freddicon--disc-offset\"\x3e\x3c/span\x3e\n            \x3c% } %\x3e\n            You're \x3cstrong\x3e${tracking.trackOpens ? '' : 'not'} tracking opens\x3c/strong\x3e.\n        \x3c/li\x3e\n        \x3cli\x3e\n            \x3c% if (!tracking.trackClicksHTML) { %\x3e\n                \x3cspan class\x3d\"freddicon warn-fill warn-circle-color freddicon--disc-offset\"\x3e\x3c/span\x3e\n            \x3c% } %\x3e\n            You're \x3cstrong\x3e${tracking.trackClicksHTML ? '' : 'not'} tracking clicks\x3c/strong\x3e.\n        \x3c/li\x3e\n        \x3cli\x3e\n            You're \x3cstrong\x3e${tracking.trackClicksText ? '' : 'not'} tracking plain-text clicks\x3c/strong\x3e.\n        \x3c/li\x3e\n        \x3cli\x3e\n            You're \x3cstrong\x3e${tracking.ecomm360 ? '' : 'not'} tracking e-commerce link activity\x3c/strong\x3e.\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e\n\x3cdiv class\x3d\"padding--lv6 padding-top--lv0 margin--lv4 margin-bottom--lv0 margin-right--lv0 margin-left--lv0 nomargin--tablet ${this.state.isDisabled ? 'c-disabledSlat' : ''}\"\x3e\n    \x3cul class\x3d\"padding-top--lv2 padding--lv0@tablet disc small-meta\"\x3e\n        \x3c% if (user.isGoalEnabled) { %\x3e\n            \x3cli\x3eYou're \x3cstrong\x3e${tracking.gooal ? '' : 'not'} tracking goals\x3c/strong\x3e.\x3c/li\x3e\n        \x3c% } %\x3e\n        \x3c% if (tracking.googleAnalytics) { %\x3e\n            \x3cli\x3eYour \x3cstrong\x3eGoogle Analytics\x3c/strong\x3e tracking tag is \x3cstrong\x3e\x3c%- tracking.googleAnalyticsTag %\x3e.\x3c/strong\x3e\x3c/li\x3e\n        \x3c% } %\x3e\n        \x3c% if (tracking.clicktale) { %\x3e\n            \x3cli\x3eYour \x3cstrong\x3eClickTale\x3c/strong\x3e tracking tag is \x3cstrong\x3e\x3c%- tracking.clicktaleTag %\x3e.\x3c/strong\x3e\x3c/li\x3e\n        \x3c% } %\x3e\n        \x3c% if (crm.salesforceExists || crm.javelinExists) { %\x3e\n            \x3c% if (crm.salesforceCreateCampaign) { %\x3e\n                \x3cli\x3e\n                    You're \x3cstrong\x3etracking campaign stats\x3c/strong\x3e in \x3cstrong\x3eSalesforce\x3c/strong\x3e.\n                \x3c/li\x3e\n            \x3c% } %\x3e\n            \x3c% if (crm.salesforceCreateNotes) { %\x3e\n                \x3cli\x3e\n                    You're \x3cstrong\x3etracking member activity\x3c/strong\x3e in \x3cstrong\x3eSalesforce.\x3c/strong\x3e\n                \x3c/li\x3e\n            \x3c% } %\x3e\n            \x3c% if (crm.javelinCreateNotes) { %\x3e\n                \x3cli\x3e\n                    You're \x3cstrong\x3etracking member activity\x3c/strong\x3e in \x3cstrong\x3eCapsule.\x3c/strong\x3e\n                \x3c/li\x3e\n            \x3c% } %\x3e\n        \x3c% } %\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e\n",
"url:mojo/widgets/checklist-editor/items/page-settings/templates/active-settings-view.html":'\x3cdiv class\x3d"flex--1 padding--lv3 padding-top--lv0 padding-bottom--lv0 ${this.isDisabled ? \'c-disabledSlat\' : \'\'}"\x3e\n    \x3ch4 class\x3d"fwb margin-bottom--lv0 normal-meta"\x3e\n        Settings \x26amp; Tracking\n    \x3c/h4\x3e\n    \x3cdiv class\x3d"padding-top--lv2"\x3e\n        \x3c!--Terms--\x3e\n        \x3c% if (!this.state.setting.acceptedTerms) { %\x3e\n        \x3cdiv class\x3d"small-meta" data-dojo-type\x3d"mojo/widgets/FeedbackBlock" data-dojo-props\x3d"type: \'info\'"\x3e\n            \x3cdiv class\x3d"flex"\x3e\n                \x3cdiv class\x3d"flex-three-fourths"\x3e\n                    To enable any tracking technology on your landing page\n                    (including cookie and pixel tracking), you must agree to our\n                    \x3ca href\x3d"https://mailchimp.com/legal/additional-terms/#landing-pages"\x3eadditional terms\x3c/a\x3e.\n                \x3c/div\x3e\n                \x3cbutton\n                    class\x3d"p0 margin-left--lv2 ${isSaving ? \'button-loading disabled\' : \'\'}"\n                    data-dojo-attach-event\x3d"click: handleAcceptTerms"\n                \x3e\n                    ${isSaving ? \'Please wait...\' : \'Accept\'}\n                \x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c% } else { %\x3e\n        \x3cdiv class\x3d"small-meta" data-dojo-type\x3d"mojo/widgets/FeedbackBlock" data-dojo-props\x3d"type: \'success\'"\x3e\n            \x3cdiv\x3e\n                Accepted \x3ca href\x3d"https://mailchimp.com/legal/additional-terms/#landing-pages"\x3eadditional terms\x3c/a\x3e.\n                Tip: You can let your site visitors know about any tracking with a\n                \x3ca href\x3d"https://kb.mailchimp.com/campaigns/landing-pages/use-notification-bars-on-landing-pages"\x3e\n                    notification bar\n                \x3c/a\x3e\n                (we\u2019ve included default text). You can\n                \x3ca href\x3d"https://kb.mailchimp.com/campaigns/landing-pages/landing-page-privacy#Turn-Off-The-Default-Privacy-\x26-Terms-Badge"\x3e\n                    replace our privacy policy and terms\n                \x3c/a\x3e\n                with your own.\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3c% } %\x3e\n        \x3c!--Track with Mailchimp--\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    ${!this.state.setting.acceptedTerms \x26\x26 \'disabled\'}\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleMailchimpTracking.bind(this), checked: ${Boolean(this.state.tracking.mailchimpTrackingEnabled).toString()}" /\x3e\n                Track with Mailchimp\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Use cookies to track unique visitors and calculate overall conversion rate.\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!--Track with Facebook Pixel--\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    ${!this.state.setting.acceptedTerms \x26\x26 \'disabled\'}\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.togglePixelTracking.bind(this), checked: ${Boolean(this.state.tracking.facebookPixelTrackingEnabled).toString()}" /\x3e\n                Track with Facebook Pixel\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Gather data to build Facebook ads more likely to convert and retarget your site visitors.\n                If you create a Facebook ad in MailChimp, we\u2019ll create a Pixel ID for you.\n                If you already use Facebook ads, you can input your own Pixel ID below.\n                \x3cdiv\x3e\n                    \x3clabel class\x3d"disclosure-closed checkbox-description small-meta text-decoration--underline !margin-left--lv0"\n                           onclick\x3d"mojo.utils.disclosureElement(\'disclose-pixel-id-input\', this, true); return false;"\x3e\n                        Use an existing Pixel ID\n                    \x3c/label\x3e\n                    \x3cdiv id\x3d"disclose-pixel-id-input" style\x3d"display:none;"\x3e\n                        \x3cfieldset\x3e\n                            \x3cdiv class\x3d"field-wrapper padding-top--lv0"\x3e\n                                \x3clabel class\x3d"small-meta"\x3eFacebook Pixel ID\x3c/label\x3e\n                                \x3cinput\n                                    id\x3d"facebook-pixel-input"\n                                    type\x3d"text"\n                                    ${!this.state.setting.acceptedTerms \x26\x26 \'disabled\'}\n                                    data-dojo-attach-event\x3d"onblur: setFacebookPixelId"\n                                    name\x3d"facebookPixelId"\n                                    value\x3d"\x3c%- tracking.facebookPixelId %\x3e"\n                                    style\x3d"max-width: 40%"\n                                /\x3e\n                                \x3cdiv class\x3d"field-help small-meta text-decoration--underline"\x3e\n                                    \x3ca href\x3d""\x3e\n                                        Where to find it\n                                    \x3c/a\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/fieldset\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!--Track with Google Analytics--\x3e\n        \x3cdiv class\x3d"field-wrapper"\x3e\n            \x3clabel class\x3d"checkbox small-meta"\x3e\n                \x3cinput\n                    type\x3d"checkbox"\n                    ${!this.state.setting.acceptedTerms \x26\x26 \'disabled\'}\n                    data-dojo-type\x3d"dijit/form/CheckBox"\n                    data-dojo-props\x3d"onChange: this.toggleGoogleAnalytics.bind(this), checked: ${Boolean(this.state.tracking.googleAnalyticsTrackingEnabled).toString()}" /\x3e\n                Track with Google Analytics\n            \x3c/label\x3e\n            \x3cdiv class\x3d"checkbox-description small-meta"\x3e\n                Better understand your visitors with more detailed Google analytics.\n                \x3cfieldset\x3e\n                    \x3cdiv class\x3d"field-wrapper padding-top--lv1"\x3e\n                        \x3clabel class\x3d"small-meta"\x3eGoogle Analytics ID\x3c/label\x3e\n                        \x3cinput\n                            id\x3d"google-analytics-tag-input"\n                            type\x3d"text"\n                            ${!this.state.setting.acceptedTerms \x26\x26 \'disabled\'}\n                            data-dojo-attach-event\x3d"onblur: setGoogleAnalyticsTag"\n                            name\x3d"googleAnalyticsTag"\n                            value\x3d"\x3c%- tracking.googleAnalyticsTag %\x3e"\n                            style\x3d"max-width: 40%"\n                            placeholder\x3d"UA-XXXXX-X"\n                        /\x3e\n                        \x3cdiv class\x3d"field-help small-meta text-decoration--underline"\x3e\n                            \x3ca href\x3d""\x3e\n                                Where to find it\n                            \x3c/a\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv class\x3d"flex--1 padding--lv2 padding-top--lv0 padding-bottom--lv0 margin--lv4 margin-bottom--lv0 margin-right--lv0 margin-left--lv0 nomargin--tablet ${this.isDisabled ? \'c-disabledSlat\' : \'\'}"\x3e\n    \x3cdiv class\x3d"margin-left--lv2 padding-top--lv2"\x3e\n        \x3c!--ReCAPTCHA--\x3e\n        \x3cp class\x3d"small-meta"\x3e\n            ReCAPTCHA \x3cstrong\x3e is ${captchaEnabled ? \'\' : \'not\'} enabled for this list.\x3c/strong\x3e\x3cbr/\x3e\n            This helps prevent spambots from adding emails to your list.\x3cbr/\x3e\n            You can change the reCAPTCHA default in \x3ca href\x3d"${captchaUrl}"\x3eyour list settings.\x3c/a\x3e\n        \x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv \n    class\x3d"width--100 padding--lv3 padding-top--lv1"\n    data-dojo-type\x3d"mojo/widgets/checklist-editor/items/ItemButtons"\n    data-dojo-props\x3d"getData: this.getData.bind(this), onSave: this.onSave, cancel: this.handleCancel, isValid: this.state.isValid"\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/checklist-editor/items/page-settings/templates/inactive-settings-view.html":"\x3cdiv class\x3d\"flex--1 padding-top--lv0 padding-bottom--lv0@tablet ${this.state.isDisabled ? 'c-disabledSlat' : ''}\"\x3e\n    \x3ch4 class\x3d\"fwb margin-bottom--lv0 normal-meta\"\x3e\n        Settings \x26amp;Tracking\n        \x3c% if (!this.state.isDisabled) { %\x3e\n        \x3ca class\x3d\"margin--lv2 !margin-top-bottom--lv0 !margin-right--lv0 small-meta underline\" href\x3d\"javascript:;\" data-dojo-attach-event\x3d\"click: activate\"\x3eEdit\x3c/a\x3e\n        \x3c% } %\x3e\n    \x3c/h4\x3e\n    \x3cul class\x3d\"padding-top--lv2 disc small-meta\"\x3e\n        \x3cli\x3e\n            You're \x3cstrong\x3e ${this.state.tracking.mailchimpTrackingEnabled ? '' : 'not'} tracking\x3c/strong\x3e with Maichimp.\x3cbr/\x3e\n        \x3c/li\x3e\n        \x3cli\x3e\n            You're \x3cstrong\x3e ${this.state.tracking.facebookPixelTrackingEnabled ? '' : 'not'} tracking\x3c/strong\x3e with Facebook Pixel.\x3cbr/\x3e\n        \x3c/li\x3e\n        \x3cli\x3e\n            You're \x3cstrong\x3e ${this.state.tracking.googleAnalyticsTrackingEnabled ? '' : 'not'} tracking\x3c/strong\x3e with Google Analytics.\x3cbr/\x3e\n        \x3c/li\x3e\n        \x3cli\x3e\n            ReCAPTCHA is \x3cstrong\x3e ${captchaEnabled ? '' : 'not'} enabled for this list.\x3c/strong\x3e\x3cbr/\x3e\n        \x3c/li\x3e\n    \x3c/ul\x3e\n\x3c/div\x3e\n",
"url:mojo/widgets/campaigns/templates/CampaignActions.html":'\x3cdiv class\x3d"c-campaignManager_selectActions padding-bottom--lv2" mc:role\x3d"author"\x3e\n    \x3cdiv\x3e\n        \x3cspan class\x3d"c-campaignManager_selectActions_selectionCount padding-right--lv2"\x3e\x3cspan data-dojo-attach-point\x3d"node_selectionCount"\x3e0 campaigns\x3c/span\x3e selected\x3c/span\x3e\n        \x3cbutton class\x3d"button" type\x3d"button" data-dojo-attach-point\x3d"node_deselectButton"\x3eDeselect All\x3c/button\x3e\n    \x3c/div\x3e\n    \x3cdiv\x3e\n        \x3cdiv mc:role\x3d"author" data-dojo-attach-point\x3d"node_folderMoveButton"\x3e\x3c/div\x3e\n        \x3cbutton class\x3d"button margin-right--lv0" type\x3d"button" data-dojo-attach-point\x3d"node_deleteCampaignButton"\x3e\x3cspan class\x3d"hide-mobile"\x3eDelete\x3c/span\x3e\x3cspan class\x3d"show-mobile hide-desktop freddicon trash !margin--lv0"\x3e\x3c/span\x3e\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/CampaignBreadCrumb.html":'\x3ca href\x3d"#0" class\x3d"display--block padding-top--lv4"\x3e\n    \x3cspan class\x3d"freddicon arrow-left"\x3e\x3c/span\x3e\n    Back to Ongoing\n\x3c/a\x3e\n',"url:mojo/widgets/campaigns/templates/SlatGroup.html":'\x3cdiv class\x3d"c-campaignManager_list_group margin--lv4 margin-bottom--lv0 margin-right--lv0 margin-left--lv0"\x3e\n    \x3ch6 class\x3d"c-campaignManager_list_group_heading small-meta padding--lv1 padding-top--lv0 border-bottom--lightest"\x3e\n        ${name}\n        \x3cspan data-dojo-attach-point\x3d"node_count"\x3e\x3c/span\x3e\n        \x3ca href\x3d"#0" class\x3d"float-right hide" data-dojo-attach-point\x3d"node_archiveLink" title\x3d"get code to show campaign archives on your site"\x3e\n            Get Archive Code\n        \x3c/a\x3e\n        \x3ca href\x3d"${completedDownloadLink}" class\x3d"float-right hide" data-dojo-attach-point\x3d"node_downloadLink" title\x3d"Download all sent campaigns and ads as zip"\x3e\n            Download Completed Campaigns\n        \x3c/a\x3e\n    \x3c/h6\x3e\n    \x3cul data-dojo-attach-point\x3d"node_list"\x3e\x3c/ul\x3e\n    \x3cdiv class\x3d"text-align--center"\x3e\n        \x3cbutton data-dojo-attach-point\x3d"node_loadButton"\x3e${loadButtonText}\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/CampaignNav.html":'\x3cdiv\x3e\n    \x3cul class\x3d"" data-dojo-attach-point\x3d"node_bucketList"\x3e\x3c/ul\x3e\n    \x3cdiv class\x3d"border-bottom-light c-campaignManager_sidebar_divider margin--lv2 margin-left--lv0 margin-right--lv0"\x3e\x3c/div\x3e\n    \x3ca \n        href\x3d"#0" \n        data-dojo-attach-point\x3d"node_createFolderLink"\n        class\x3d"display--block font-weight--bold padding--lv1 margin-bottom--lv1"\n    \x3e\n        \x3cspan class\x3d"freddicon add-circle padding-right--lv1"\x3e\x3c/span\x3eCreate Folder\n    \x3c/a\x3e\n    \x3cul class\x3d"c-campaignManager_sidebar_folderList overflow--hidden margin-bottom--lv1" data-dojo-attach-point\x3d"node_folderList"\x3e\x3c/ul\x3e\n    \x3ca \n        href\x3d"#0"\n        data-dojo-attach-point\x3d"node_showAllFoldersLink"\n        class\x3d"display--block font-weight--bold padding--lv1"\n    \x3eShow All Folders \x3cspan class\x3d"freddicon menu-down"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3ca \n        href\x3d"#0"\n        data-dojo-attach-point\x3d"node_hideFoldersLink"\n        class\x3d"display--block font-weight--bold padding--lv1"\n    \x3eShow Recent Only \x3cspan class\x3d"freddicon menu-up"\x3e\x3c/span\x3e\x3c/a\x3e\n    \n    \x3cscript data-dojo-attach-point\x3d"template_bucketFilter" type\x3d"text/template"\x3e\n        \x3cli\x3e\n            \x3ca data-mc-el\x3d\'bucket-link\' href\x3d"#0" class\x3d"c-campaignManager_sidebar_link padding--lv1 border-radius--lv1"\x3e\n                \x3cspan class\x3d"freddicon {icon} !textcolor--gray4 padding-right--lv2"\x3e\x3c/span\x3e{label}\n            \x3c/a\x3e\n        \x3c/li\x3e\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_folderFilter" type\x3d"text/template"\x3e\n        \x3cli\x3e\n            \x3cspan data-action\x3d"view" class\x3d"position--relative c-campaignManager_sidebar_link flex align-items--center padding--lv1 border-radius--lv1 cursor--pointer" title\x3d"{name}"\x3e\n                \x3cimg class\x3d"c-campaignManager_sidebar_link_icon padding-right--lv2" src\x3d"/images/campaigns/icon-folder.svg" role\x3d"presentation" /\x3e\n                \x3cspan class\x3d"overflow-ellipsis flex-grow-1"\x3e{name}\x3c/span\x3e\n                \x3cspan class\x3d"c-campaignManager_sidebar_badge"\x3e{count}\x3c/span\x3e\n                \x3ca href\x3d"#0" data-action\x3d"delete" class\x3d"freddicon cross c-campaignManager_sidebar_action position--absolute right--0 top--0 padding-top--lv1 padding-right--lv1 cursor--pointer zin-lv1"\x3e\x3c/a\x3e\n                \x3ca href\x3d"#0" data-action\x3d"edit" class\x3d"freddicon edit c-campaignManager_sidebar_action position--absolute right--0 top--0 padding-top--lv1 padding-right--lv5 cursor--pointer zin-0"\x3e\x3c/a\x3e\n            \x3c/span\x3e\n        \x3c/li\x3e\n    \x3c/script\x3e\n    \x3cscript data-dojo-attach-point\x3d"template_folderEdit" type\x3d"text/template"\x3e\n        \x3cinput type\x3d"text" class\x3d"c-campaignManager_sidebar_editInput display--inline-block" placeholder\x3d"Folder Name" value\x3d"{name}" /\x3e\n    \x3c/script\x3e\n\x3c/div\x3e\n\n',
"url:mojo/widgets/campaigns/templates/CampaignSearchCount.html":'\x3cdiv class\x3d"c-campaignManager_searchCount small-meta padding-top--lv1"\x3e\n    \x3cstrong data-dojo-attach-point\x3d"node_total"\x3e\x3c/strong\x3e \x3cspan data-dojo-attach-point\x3d"node_message"\x3e\x3c/span\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/campaigns/templates/CampaignSortDropdown.html":'\x3cdiv class\x3d"campaignManager_sortDropdown position--absolute top--0 right--0"\x3e\n    \x3cspan class\x3d"font-weight--bold small-meta padding-right--lv2"\x3eSort by\x3c/span\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/campaigns/templates/CreateButton.html":'\x3cbutton data-event-category\x3d"Primary" data-test-id\x3d"createCampaignButton" class\x3d"${buttonClass}"\x3e${buttonLabel}\x3c/button\x3e',"url:mojo/widgets/billing/templates/PaymentMethod.html":'\x3cdiv class\x3d"flex justify-content--space-between align-items--flex-start"\x3e\n    \x3c% if (this.payment_type \x3d\x3d\x3d "none") { %\x3e\n        \x3cp class\x3d"small-meta !margin--lv0"\x3eNo payment method on file\x3c/p\x3e\n    \x3c% } %\x3e\n\n    \x3c% if (this.payment_type \x3d\x3d\x3d "credit_card") { %\x3e\n        \x3cdiv\x3e\n            \x3cp class\x3d"small-meta !margin--lv0"\x3e\x3c%- this.card_type_description %\x3e ending in \x3cspan class\x3d"font-weight--bold"\x3e\x3c%- this.last_four_digits %\x3e\x3c/span\x3e\x3c/p\x3e\n            \x3cp class\x3d"small-meta !margin--lv0"\x3eExpires \x3c%- this.expiration %\x3e\x3c/p\x3e\n        \x3c/div\x3e\n\n        \x3cimg src\x3d"/images/icons/\x3c%- this.card_type %\x3e.png" alt\x3d"" role\x3d"presentation" title\x3d"\x3c%- this.card_type_description %\x3e ending in \x3c%- this.last_four_digits %\x3e"\x3e\n    \x3c% } %\x3e\n\n    \x3c% if (this.payment_type \x3d\x3d\x3d "paypal") { %\x3e\n        \x3cdiv\x3e\n            \x3cp class\x3d"small-meta !margin--lv0"\x3ePay with PayPal\x3c/p\x3e\n            \x3cp class\x3d"small-meta !margin--lv0"\x3e\x3c%- this.paypal_email %\x3e\x3c/p\x3e\n        \x3c/div\x3e\n\n        \x3cimg src\x3d"/images/icons/paypal.png" alt\x3d"" role\x3d"presentation" title\x3d"\x3c%- this.card_type_description %\x3e ending in \x3c%- this.last_four_digits %\x3e"\x3e\n    \x3c% } %\x3e\n\n    \x3c% if (this.payment_type \x3d\x3d\x3d "adyen") { %\x3e\n        \x3cp class\x3d"small-meta !margin--lv0"\x3ePay with \x3c%- this.adyen_type %\x3e\x3c/p\x3e\n\n        \x3cimg src\x3d"/images/icons/bank.png" alt\x3d"" role\x3d"presentation" title\x3d"\x3c%- this.card_type_description %\x3e ending in \x3c%- this.last_four_digits %\x3e"\x3e\n    \x3c% } %\x3e\n\n    \x3c% if (this.payment_type \x3d\x3d\x3d "bank") { %\x3e\n        \x3cp class\x3d"small-meta !margin--lv0"\x3eChecking account ending in \x3cspan class\x3d"font-weight--bold"\x3e\x3c%- this.last_four_digits %\x3e\x3c/span\x3e\x3c/p\x3e\n\n        \x3cimg src\x3d"/images/icons/bank.png" alt\x3d"" role\x3d"presentation" title\x3d"Checking account ending in \x3c%- this.last_four_digits %\x3e"\x3e\n    \x3c% } %\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/automation/transactional/templates/TxEmailItem.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"txEmailTitleWrapper" class\x3d"flex flex-between padding--lv2 padding-left-right--lv0 margin--lv3 margin-left-right--lv0 margin-top--lv0 border-bottom"\x3e\n        \x3cdiv class\x3d""\x3e\n            \x3cp data-dojo-attach-point\x3d"txEmailItemTitle" class\x3d"margin-bottom--lv0 font-weight--bold"\x3e\x3c/p\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"txOrderStatusSwitchWrapper"\x3e\n            \x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"orderStatusSwitch" data-mc-group\x3d"orderStatusSwitch" data-dojo-type\x3d"mojo/widgets/Switch" data-dojo-props\x3d"sizeClass:\'switch-small !margin--lv0\'" title\x3d"Order Status"/\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"line flex"\x3e\n        \x3c!-- Preview and Edit email action --\x3e\n        \x3cdiv class\x3d"size1of3"\x3e\n            \x3c!-- Thumbnail Image and overlay --\x3e\n            \x3cdiv class\x3d"margin-bottom--lv3"\x3e\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/ThumbnailPreview" data-dojo-attach-point\x3d"thumbnailPreview" data-dojo-props\x3d"imageUrl: \'${screenshotUrl}\'" data-dojo-attach-event\x3d"click: previewContent"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3c!-- Design Button --\x3e\n            \x3cdiv class\x3d"text-align--center"\x3e\n                \x3ca data-dojo-attach-point\x3d"editDesignBtn" class\x3d"size1of1 button disabled" href\x3d"javascript:;"\x3eEdit design\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Meta data order status email --\x3e\n        \x3cdiv class\x3d"size2of3 margin--lv3 margin-top--lv0 margin-right--lv0"\x3e\n            \x3c!-- Description Wrapper --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"txEmailDescriptionWrapper" class\x3d"padding--lv4 padding-left-right--lv0 padding-top--lv0"\x3e\n                \x3cp class\x3d"!margin--lv0 small-meta fwb"\x3eDescription\x3c/p\x3e\n                \x3cp data-dojo-attach-point\x3d"txEmailDescription"\x3e\n                    Transactional Email Description\n                \x3c/p\x3e\n            \x3c/div\x3e\n            \x3c!-- Subject Wrapper --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"txSubjectWrapper" class\x3d"hide"\x3e\n                \x3cp class\x3d"!margin--lv0 small-meta fwb"\x3e\n                    Subject\n                    \x3cspan data-dojo-attach-point\x3d"subjectCharCountWrapper" class\x3d"small-meta float-right dim-el hide"\x3e\n                        \x3cspan data-dojo-attach-point\x3d"subjectCharRemaining"\x3e0\x3c/span\x3e characters remaining\n                    \x3c/span\x3e\n                \x3c/p\x3e\n                \x3cp data-dojo-attach-point\x3d"txSubjectContainer"\x3e\n                    \x3cspan data-dojo-attach-point\x3d"txSubjectString"\x3e\x3c/span\x3e \x3ca data-dojo-attach-event\x3d"click: txEditSubject" class\x3d"small-meta margin--lv1 margin-top-bottom--lv0 margin-right--lv0" href\x3d"javascript:;"\x3eEdit\x3c/a\x3e\n                \x3c/p\x3e\n            \x3c/div\x3e\n            \x3c!-- Subject form --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"txSubjectFormWrapper" class\x3d"field-wrapper readable-max-width hide"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"txEmojiPicker" data-dojo-type\x3d"mojo/widgets/EmojiPicker" class\x3d"relative"\x3e\n                    \x3cinput data-dojo-attach-point\x3d"subjectData" data-dojo-attach-event\x3d"keyup: checkSubjectLength" type\x3d"text" spellcheck\x3d"true"/\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"line"\x3e\n                    \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"txSaveSubjectBtn" data-dojo-attach-event\x3d"click: txSaveSubject"\x3eSave Subject\x3c/button\x3e\n                    \x3ca href\x3d"javascript:;" data-dojo-attach-event\x3d"click: txCancelEditSubject"\x3eCancel\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3c!-- Order Status Validation --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"txOrderStatusValidationWrapper" class\x3d"hide"\x3e\n                \x3cul\x3e\n                    \x3cli class\x3d"small-meta small-meta padding--lv1 padding-left-right--lv0 padding-top--lv0"\x3e\n                        \x3cspan class\x3d"freddicon tick-circle v-textColorGreen padding--lv1 padding-top-bottom--lv0 padding-left--lv0"\x3e\x3c/span\x3e A plain-text version of this email will be included.\n                    \x3c/li\x3e\n                    \x3cli data-dojo-attach-point\x3d"txValidationHasPrex" class\x3d"small-meta small-meta padding--lv1 padding-left-right--lv0 padding-top--lv0 hide"\x3e\n                        \x3cspan class\x3d"freddicon info-circle-color padding--lv1 padding-top-bottom--lv0 padding-left--lv0"\x3e\x3c/span\x3e This email includes product recommendations.\n                    \x3c/li\x3e\n                    \x3cli data-dojo-attach-point\x3d"txValidationBadUrls" class\x3d"small-meta padding--lv1 padding-left-right--lv0 padding-top--lv0 hide"\x3e\n                        \x3cspan class\x3d"freddicon cross-circle v-textColorRedLight padding--lv1 padding-top-bottom--lv0 padding-left--lv0"\x3e\x3c/span\x3e Your content includes URLs or links to external sites.\n                    \x3c/li\x3e\n                    \x3cli data-dojo-attach-point\x3d"txValidationBadLength" class\x3d"small-meta padding--lv1 padding-left-right--lv0 padding-top--lv0 hide"\x3e\n                        \x3cspan class\x3d"freddicon cross-circle v-textColorRedLight padding--lv1 padding-top-bottom--lv0 padding-left--lv0"\x3e\x3c/span\x3e Your content exceeds the maximum character count.\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/templates/PreviewOverlayTemplate.html":'\x3cdiv class\x3d"c-adPreview padding--lv6 padding-left-right--lv0"\x3e\n    \x3cdiv class\x3d"mc-content"\x3e\n        \x3cp class\x3d"full-width text-align--center margin-bottom--lv5"\x3e\x3cstrong\x3eThese are sample previews.\x3c/strong\x3e For best placement on the web, each ad will be displayed in a variety of sizes.\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"mc-content c-ghostBrowser border-radius--lv2 border-gray position--relative"\x3e\n        \x3cdiv class\x3d"flex-row justify-content--space-between align-items--center margin--lv6 margin-left-right--lv0 padding--lv5 padding-bottom--lv0 border-top-light"\x3e\n            \x3cdiv class\x3d"flex--1"\x3e\n                \x3cimg src\x3d"/images/freddie/freddie-solid.svg" class\x3d"margin--lv1 margin-top-bottom--lv0 margin-left--lv0" role\x3d"presentation" width\x3d"50" height\x3d"50"/\x3e\n                \x3cspan\x3eSample Web Page\x3c/span\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"flex--1 flex-row"\x3e\n                \x3cdiv class\x3d"flex--1 bg-gray padding--lv1 margin--lv2"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"flex--1 bg-gray padding--lv1 margin--lv2"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"flex--1 bg-gray padding--lv1 margin--lv2"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"flex--1 bg-gray padding--lv1 margin--lv2"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"flex--1 bg-gray padding--lv1 margin--lv2 margin-right--lv0"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"flex-row justify-content--center padding--lv4 padding-top--lv0"\x3e\n            \x3cdiv class\x3d"c-adPreview--970x90 overflow--hidden border-gray"\x3e\n                \x3cdiv class\x3d"c-adProduct--970  display--table-cell vertical-align--middle overflow--hidden"\x3e\n                    \x3cdiv class\x3d"background-size--cover width--100 full-height" style\x3d"background-image: url(\'${product}\'); background-position: 50% 50%;"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-adHeadline--970 display--table-cell vertical-align--middle padding--lv2 padding-top-bottom--lv0 position--relative"\x3e\n                    ${headline}\n                    \x3cdiv class\x3d"c-adUrl--970 position--absolute"\x3e${url}\x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-adDescription--970 display--table-cell vertical-align--middle padding--lv5 padding-top-bottom--lv0"\x3e${description}\x3c/div\x3e\n                \x3cdiv class\x3d"c-adButton--970 display--table-cell vertical-align--middle"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"42" height\x3d"42"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"flex-row padding--lv4 padding-top-bottom--lv0"\x3e\n            \x3cdiv class\x3d"flex--1"\x3e\n                \x3cimg src\x3d"/images/ads/placeholder-panorama.svg" alt\x3d"" class\x3d"margin--lv3 margin-top--lv0 margin-left-right--lv0"\x3e\n                \x3cdiv class\x3d"flex-row"\x3e\n                    \x3cdiv class\x3d"c-adPreview--300x250 overflow--hidden border-gray display--inline-block vertical-align--top margin--lv3 margin-top-bottom--lv0 margin-left--lv0"\x3e\n                        \x3cdiv class\x3d"c-adProduct--300 overflow--hidden"\x3e\n                            \x3cdiv class\x3d"background-size--cover width--100 full-height" style\x3d"background-image: url(\'${product}\'); background-position: 50% 50%;"\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-adHeadline--300 padding--lv2 padding-top-bottom--lv0"\x3e${headline}\x3c/div\x3e\n                        \x3cdiv class\x3d"c-adDescription--300 margin--lv2 position--relative"\x3e\n                            ${description}\n\n                            \x3cdiv class\x3d"c-adButton--300 position--absolute pos-t0" style\x3d"right: -56px"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"39" height\x3d"39"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"c-adUrl--300 margin--lv2 margin-top-bottom--lv0"\x3e${url}\x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"flex--1 v-stripedBackground--gray" style\x3d"height: 270px"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"v-stripedBackground--gray" style\x3d"height: 210px"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-adPreview--160x600 overflow--hidden border-gray text-align--center margin--lv3 margin-top--lv0 margin-right--lv0"\x3e\n                \x3cdiv class\x3d"c-adProduct--160 overflow--hidden"\x3e\n                    \x3cdiv class\x3d"background-size--cover width--100 full-height" style\x3d"background-image: url(\'${product}\'); background-position: 50% 50%;"\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-adHeadline--160 padding--lv4 padding-top-bottom--lv0 flex align-items--center"\x3e${headline}\x3c/div\x3e\n                \x3cdiv class\x3d"c-adDescription--160 margin--lv3 margin-top-bottom--lv0 flex align-items--center"\x3e${description}\x3c/div\x3e\n                \x3cdiv class\x3d"c-adButton--160" style\x3d"height: 44px"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"44" height\x3d"44"\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"c-adUrl--160 margin--lv2 margin-top-bottom--lv0"\x3e${url}\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"flex-row justify-content--space-between padding--lv4 padding-top--lv0"\x3e\n            \x3cdiv class\x3d"flex--1"\x3e\n                \x3cdiv class\x3d"bg-gray full-height"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-adPreview--320x50 display--inline-block vertical-align--top margin--lv3 margin-top-bottom--lv0"\x3e\n                \x3cdiv class\x3d"display--table overflow--hidden border-gray full-width"\x3e\n                    \x3cdiv class\x3d"c-adProduct--320 overflow--hidden"\x3e\n                        \x3cdiv class\x3d"background-size--cover width--100 full-height" style\x3d"background-image: url(\'${product}\'); background-position: 50% 50%;"\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"c-adHeadline--320 display--table-cell vertical-align--middle padding--lv2 padding-top-bottom--lv0 position--relative"\x3e${headline}\x3c/div\x3e\n                    \x3cdiv class\x3d"c-adButton--320 display--table-cell vertical-align--middle text-align--center" style\x3d"width: 54px"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"30" height\x3d"30"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"flex--1"\x3e\n                \x3cdiv class\x3d"bg-gray full-height"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/templates/SliderPaneWrapper.html":'\x3cdiv class\x3d"c-topSliderPane position--fixed top-bottom--0 left-right--0 bg-white overflow--hidden" style\x3d"display:none;"\x3e\n    \x3cdiv class\x3d"flex-auto flex-col"\x3e\n        \x3c!-- GRAY NAV --\x3e\n        \x3cdiv class\x3d"bg-gray selfclear border-bottom"\x3e\n            \x3cdiv class\x3d"wizard-header float--left selfclear"\x3e\n                \x3cdiv class\x3d"padding--lv3 !padding-top-bottom--lv0"\x3e\n                    \x3cul class\x3d"linear-list small-meta flex align-items--baseline"\x3e\n                        \x3cli class\x3d"textcolor"\x3e\n                            \x3cspan class\x3d"badge !margin-left--lv0"\x3ePreview\x3c/span\x3e\n                        \x3c/li\x3e\n                        \x3cli class\x3d"textcolor"\x3eGoogle remarketing ad\x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cnav class\x3d"float--right selfclear"\x3e\n                \x3cul class\x3d"linear-list small-meta" data-dojo-attach-point\x3d"topBarActions"\x3e\n                    \x3cli class\x3d"hover-item noborder"\x3e\n                        \x3ca href\x3d"#0" data-dojo-attach-point\x3d"closeLink" class\x3d"c-wizardLink--overlay nolink padding--lv3" aria-label\x3d"Close this overlay"\x3e\n                            \x3cspan class\x3d"freddicon cross"\x3e\x3c/span\x3e\n                        \x3c/a\x3e\n                    \x3c/li\x3e\n                \x3c/ul\x3e\n            \x3c/nav\x3e\n        \x3c/div\x3e\n\n        \x3c!-- PREVIEW PAGER --\x3e\n        \x3cdiv class\x3d"flex-col border-bottom"\x3e\n            \x3cdiv class\x3d"line"\x3e\n                \x3cdiv class\x3d"size1of1 lastUnit centered"\x3e\n                    \x3cnav data-dojo-attach-point\x3d"previewPager" class\x3d"c-previewPager margin--lv2 margin-left-right--lv0"\x3e\n                        \x3cul class\x3d"flex flex-row justify-content--center"\x3e\n                            \x3cli data-dojo-attach-point\x3d"previewPagerPlaceholder"\x3e\x3c/li\x3e\n                        \x3c/ul\x3e\n                    \x3c/nav\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- PREVIEW --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"c-previewContent overflow-y--auto will-change--transform"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/mobile-checklist/templates/AndroidSimulator.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"margin-bottom--lv5 padding--lv3 v-bg-gray-lightest border-bottom text-align--center"\x3e\n        \x3ch1 class\x3d"margin--lv0 h4"\x3eAndroid Simulator\x3c/h1\x3e\n    \x3c/div\x3e\n\n\n    \x3c!--Approximation of the mobile UI--\x3e\n    \x3cdiv data-dojo-attach-point\x3d"mockUI" class\x3d"size1of3 size1of2@tablet centered border-gray"\x3e\n        \x3cdiv class\x3d"width--100 v-bg-base-gray padding--lv2 position--relative"\x3e\n            \x3cdiv class\x3d"v-bg-gray-lightest padding--lv3 border-radius--lv2 position--relative"\x3e\n                \x3cdiv class\x3d" centered margin-bottom--lv3 flex justify-content--space-between"\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-media someOtherClass"\x3e\n                            \x3cdiv class\x3d"c-mediaImage"\x3e\n                                \x3cdiv class\x3d"u-square--lv2 border-radius--lv2 bg-gray"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"c-mediaBody"\x3e\n                                \x3cdiv class\x3d"padding--lv2 border-radius--lv2 bg-gray margin-bottom--lv1" style\x3d"width: 120px"\x3e\x3c/div\x3e\n                                \x3cdiv class\x3d"padding--lv2 border-radius--lv2 bg-gray" style\x3d"width: 85px"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"u-square--lv1 border-radius--lv2 bg-gray"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"bg-gray border-radius--lv2 c-attachment_placeholder padding--lv3  centered alignc"\x3e\n                    \x3cimg src\x3d"/images/icons/empty-image.svg" alt\x3d"Placeholder image for a product or an ad" class\x3d"c-adPlaceholder dim6 margin--lv8" width\x3d"25%"\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cbutton data-dojo-attach-event\x3d"click: _openSlat"\n                    data-slat-name\x3d"content"\n                    class\x3d"position--absolute right--0 bottom--0 p0 margin--lv5"\x3eDesign\x3c/button\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"border-top border-bottom small-meta v-bg-gray-lightest padding--lv2 padding-top--lv1 padding-bottom--lv1"\x3e\n            CAMPAIGN INFORMATION\n        \x3c/div\x3e\n        \x3cdiv class\x3d"border-bottom padding--lv2 cursor--pointer flex justify-content--space-between"\n             data-dojo-attach-event\x3d"click: _openSlat"\n             data-slat-name\x3d"connect"\x3e\n            \x3cspan\x3eChannel\x3c/span\x3e\n            \x3cspan class\x3d"freddicon menu-up dim6"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"border-bottom padding--lv2 cursor--pointer flex justify-content--space-between"\n             data-dojo-attach-event\x3d"click: _openSlat"\n             data-slat-name\x3d"audience"\x3e\n            \x3cspan\x3eAudience\x3c/span\x3e\n            \x3cspan class\x3d"freddicon menu-up dim6"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"border-bottom padding--lv2 cursor--pointer flex justify-content--space-between"\n             data-dojo-attach-event\x3d"click: _openSlat"\n             data-slat-name\x3d"budget"\x3e\n            \x3cspan\x3eBudget\x3c/span\x3e\n            \x3cspan class\x3d"freddicon menu-up dim6"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"border-bottom padding--lv2 cursor--pointer flex justify-content--space-between margin-bottom--lv5"\n             data-dojo-attach-event\x3d"click: _openSlat"\n             data-slat-name\x3d"billing"\x3e\n            \x3cspan\x3eBilling\x3c/span\x3e\n            \x3cspan class\x3d"freddicon menu-up dim6"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"border-top border-bottom small-meta v-bg-gray-lightest padding--lv2 padding-top--lv1 padding-bottom--lv1"\x3e\n            PREFLIGHT\n        \x3c/div\x3e\n        \x3cdiv class\x3d"border-bottom padding--lv2 cursor--pointer flex justify-content--space-between"\n             data-dojo-attach-event\x3d"click: _openSlat"\n             data-slat-name\x3d"cvv"\x3e\n            \x3cspan\x3eCVV\x3c/span\x3e\n            \x3cspan class\x3d"freddicon menu-up dim6"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"border-bottom padding--lv2 cursor--pointer flex justify-content--space-between margin-bottom--lv5"\n             data-dojo-attach-event\x3d"click: _openSlat"\n             data-slat-name\x3d"tos"\x3e\n            \x3cspan\x3eTerms Of Service\x3c/span\x3e\n            \x3cspan class\x3d"freddicon menu-up dim6"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"buttonContainer"\n         class\x3d"hide size1of3 size1of2@tablet centered border-top border-left border-right flex justify-content--space-between padding--lv2 align-items--center"\x3e\n        \x3cdiv class\x3d"flex align-items--center"\x3e\n            \x3cspan data-dojo-attach-event\x3d"click: _handleCancel"\n                  data-dojo-attach-point\x3d"cancelBtn"\n                  class\x3d"freddicon cross margin--lv0 cursor--pointer"\x3e\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"slatLabel" class\x3d"margin-left--lv2 font-weight--bold"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n        \x3ca href\x3d"#0"\n           data-dojo-attach-event\x3d"click: _handleSave"\n           data-dojo-attach-point\x3d"saveBtn"\n           class\x3d"font-weight--bold"\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"actionBar" class\x3d"size1of3 size1of2@tablet centered margin-bottom--lv5"\x3e\n        \x3cdiv class\x3d"background-color--dark flex justify-content--space-between align-items--center padding--lv8 padding-top--lv2 padding-bottom--lv2 border-bottom border-left border-right"\x3e\n            \x3cspan data-dojo-attach-event\x3d"click: _handleBack"\n                  data-dojo-attach-point\x3d"backBtn"\n                  class\x3d"freddicon menu-left margin--lv0 v-textColorWhite cursor--pointer"\n                  style\x3d"transform: scale(2, 2);"\x3e\x3c/span\x3e\n            \x3cdiv class\x3d"padding--lv2 border-radius--rounded bg-white cursor--pointer"\n                onclick\x3d"window.location.reload(true)"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"padding--lv2 border-radius--lv2 bg-white dim6"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cp class\x3d"text-align--center full-width dim3 small-meta line-height--lv3 margin--lv8 margin-left-right--lv0"\x3e\n            This is just an approximation to test slat behaviors.\n        \x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/mobile-checklist/templates/EditPaymentMethod.html":'\x3cdiv\x3e\n    \x3ch4\x3eAdd a credit card\x3c/h4\x3e\n\n    \x3clabel for\x3d"\x3c%- this.id %\x3e_input" data-dojo-attach-point\x3d"ccLabel_node" class\x3d"small-meta"\x3eCredit Card Number\x3c/label\x3e\n    \x3cdiv class\x3d"field-wrapper"\x3e\n        \x3cinput id\x3d"\x3c%- this.id %\x3e_input" data-dojo-attach-point\x3d"ccInput" type\x3d"text" name\x3d"cc_num" value\x3d"" autocomplete\x3d"off"/\x3e\n    \x3c/div\x3e\n\n    \x3clabel aria-hidden\x3d"true" class\x3d"small-meta"\x3eExpiration\x3c/label\x3e\n\n    \x3cdiv class\x3d"flex"\x3e\n        \x3cdiv class\x3d"flex-half padding-right--lv4"\x3e\n            \x3clabel for\x3d"\x3c%- this.id %\x3e_month" class\x3d"v-visuallyHidden"\x3eExpiration Month\x3c/label\x3e\n            \x3cselect data-dojo-attach-point\x3d"monthInput" class\x3d"select-small margin-bottom--lv4" name\x3d"cc_exp_month" id\x3d"\x3c%- this.id %\x3e_month"\x3e\n                \x3coption value\x3d"01"\x3e01 (Jan)\x3c/option\x3e\n                \x3coption value\x3d"02"\x3e02 (Feb)\x3c/option\x3e\n                \x3coption value\x3d"03"\x3e03 (Mar)\x3c/option\x3e\n                \x3coption value\x3d"04"\x3e04 (Apr)\x3c/option\x3e\n                \x3coption value\x3d"05"\x3e05 (May)\x3c/option\x3e\n                \x3coption value\x3d"06"\x3e06 (Jun)\x3c/option\x3e\n                \x3coption value\x3d"07"\x3e07 (Jul)\x3c/option\x3e\n                \x3coption value\x3d"08"\x3e08 (Aug)\x3c/option\x3e\n                \x3coption value\x3d"09"\x3e09 (Sep)\x3c/option\x3e\n                \x3coption value\x3d"10"\x3e10 (Oct)\x3c/option\x3e\n                \x3coption value\x3d"11"\x3e11 (Nov)\x3c/option\x3e\n                \x3coption value\x3d"12"\x3e12 (Dec)\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"flex-half padding-right--lv2"\x3e\n            \x3clabel for\x3d"\x3c%- this.id %\x3e_year" class\x3d"v-visuallyHidden"\x3eExpiration year\x3c/label\x3e\n            \x3cselect data-dojo-attach-point\x3d"yearInput" class\x3d"select-small" name\x3d"cc_exp_year" id\x3d"\x3c%- this.id %\x3e_year"\x3e\n                \x3coption value\x3d"2018"\x3e2018\x3c/option\x3e\n                \x3coption value\x3d"2019"\x3e2019\x3c/option\x3e\n                \x3coption value\x3d"2020"\x3e2020\x3c/option\x3e\n                \x3coption value\x3d"2021"\x3e2021\x3c/option\x3e\n                \x3coption value\x3d"2022"\x3e2022\x3c/option\x3e\n                \x3coption value\x3d"2023"\x3e2023\x3c/option\x3e\n                \x3coption value\x3d"2024"\x3e2024\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/mobile-checklist/templates/BillingSlat.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"billingSummaryContainer" class\x3d""\x3e\n        \x3cdiv data-dojo-attach-point\x3d"summaryContainer" class\x3d"border-radius--lv2 border-gray hide"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"itemizedOrderContainer"\n                 class\x3d"padding--lv4 padding-left-right--lv0"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"paymentMethodContainer"\n                 class\x3d"hide border-top-dotted padding--lv4 padding-left--lv3 padding-right--lv3"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cp class\x3d"text-align--center margin--lv3 margin-left-right--lv0"\x3e\n            \x3ca href\x3d"#0"\n               data-dojo-attach-event\x3d"click: _handleEditPayment"\n               data-dojo-attach-point\x3d"editButton"\n            \x3e\x3c/a\x3e\n        \x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"editMethodContainer" class\x3d"hide"\x3e\x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"actionBar"\n         class\x3d"hide position--absolute v-bg-base-gray bottom--0 right--0 left--0"\x3e\n        \x3cdiv class\x3d"flex justify-content--space-between align-items--center padding--lv3 padding-top--lv2 padding-bottom--lv2"\x3e\n            \x3cbutton class\x3d"margin--lv0" data-dojo-attach-event\x3d"click: _exitEditor"\x3eExit\x3c/button\x3e\n            \x3cbutton class\x3d"margin--lv0 p1" data-dojo-attach-point\x3d"saveBtn" data-dojo-attach-event\x3d"click: _saveEditor"\x3eSave\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/mobile-checklist/templates/CVVSlat.html":'\x3cdiv class\x3d"border-radius--lv2 border-gray"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"summaryContainer"\n         class\x3d"border-bottom-dotted padding--lv2"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"inputContainer" class\x3d"padding--lv2 padding-bottom--lv0 hide"\x3e\n        \x3clabel for\x3d"${id}_cvv-input" data-dojo-attach-point\x3d"inputLabel"\x3e\x3c/label\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"unit size1of2 nochange padding--lv0"\x3e\n                \x3cdiv class\x3d"field-wrapper"\x3e\n                    \x3cinput\n                        data-dojo-attach-point\x3d"cvvInput"\n                        id\x3d"${id}_cvv-input"\n                        name\x3d"cc-security"\n                        type\x3d"number"\n                        pattern\x3d"^[0-9]+$"\n                        autocomplete\x3d"off" /\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"lastUnit size1of2 nochange padding--lv0"\x3e\n                \x3cspan class\x3d"disclosure-closed small-meta float--right dim-el font-weight--bold"\n                       data-dojo-attach-event\x3d"click: _toggleCVVPreview"\x3e\n                    What\'s this?\n                \x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv id\x3d"${id}_cvv-preview" class\x3d"margin-bottom--lv3" style\x3d"display: none;"\x3e\n            \x3cp class\x3d"margin-bottom--lv0"\x3eFor added security, we require your card\'s security code.\x3c/p\x3e\n            \x3cp class\x3d"!margin-bottom--lv3"\x3eHere\'s how to find the code for your card:\x3c/p\x3e\n\n            \x3cimg data-dojo-attach-point\x3d"amexPreview"\n                 src\x3d"/images/cvv-amex.png"\n                 alt\x3d"Security Code Location"\n                 class\x3d"hide" /\x3e\n            \x3cimg data-dojo-attach-point\x3d"otherPreview"\n                 src\x3d"/images/cvv-other.png"\n                 alt\x3d"Security Code Location"\n                 class\x3d"hide" /\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-connect/templates/PageInput.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"margin-bottom--lv3"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"dropDownAnchor"\x3e\n            \x3cimg role\x3d"presentation"\n                 src\x3d"/images/icons/fb_2x18.png"\n                 width\x3d"18"\n                 height\x3d"18"\n                 alt\x3d""\n                 class\x3d"margin--lv1 margin-top-bottom--lv0 margin-left--lv0"\x3e\n\n            \x3cspan class\x3d"normal-meta font-weight--bold padding-right--lv2" data-dojo-attach-point\x3d"label"\x3e\x3c/span\x3e\n            \x3ca href\x3d"#0" data-dojo-attach-point\x3d"editLink" class\x3d"noborder small-meta"\x3eChange page\n                \x3cspan class\x3d"freddicon menu-down"\x3e\x3c/span\x3e\n            \x3c/a\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"inputContainer" class\x3d"hide"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!--Error messaging attach point--\x3e\n    \x3cdiv data-mc-name\x3d"page_id"\x3e\x3c/div\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplLabelStandard"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"c-mediaImage"\x3e\n                \x3cimg src\x3d"{iconUrl}" alt\x3d"" /\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                \x3cp class\x3d"small-meta margin-bottom--lv0"\x3e{label}\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/script\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplLabelInstagram"\x3e\n        \x3cdiv class\x3d"c-media"\x3e\n            \x3cdiv class\x3d"c-mediaImage"\x3e\n                \x3cimg src\x3d"{iconUrl}" alt\x3d"" /\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                \x3cp class\x3d"small-meta margin-bottom--lv0"\x3e{label}\x3c/p\x3e\n                \x3cp class\x3d"small-meta margin-bottom--lv0 font-weight--normal"\x3eInstagram connected\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/script\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-connect/templates/PlacementInput.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"dropDownAnchor"\x3e\n        \x3cspan class\x3d"font-weight--bold padding-right--lv2"\x3e${label}\x3c/span\x3e\n        \x3ca href\x3d"#0" data-dojo-attach-point\x3d"editLink" class\x3d"noborder small-meta u-adsItem--hidden@summary"\x3eEdit \x3cspan class\x3d"freddicon menu-down"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3c/div\x3e\n    \x3cp data-dojo-attach-point\x3d"summary" class\x3d"margin-bottom--lv0 dim-el c-adsChannelItem_placementList"\x3e\x3c/p\x3e\n    \x3cdiv data-dojo-attach-point\x3d"inputContainer" class\x3d"hide"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"hiddenInputs" class\x3d"hide"\x3e\x3c/div\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplLabelStandard"\x3e\n        \x3cp class\x3d"small-meta margin-bottom--lv0"\x3e{label}\x3c/p\x3e\n        \x3cp class\x3d"small-meta margin-bottom--lv0 font-weight--normal"\x3e{description}\x3c/p\x3e\n    \x3c/script\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplLabelRequired"\x3e\n        \x3cp class\x3d"small-meta margin-bottom--lv0"\x3e{label}\n            \x3cspan class\x3d"font-weight--normal"\x3e(required)\x3c/span\x3e\n        \x3c/p\x3e\n        \x3cp class\x3d"small-meta margin-bottom--lv0 font-weight--normal"\x3e{description}\x3c/p\x3e\n    \x3c/script\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-connect/templates/ChannelItem.html":'\x3cdiv class\x3d"c-adsChannelItem margin-bottom--lv1"\x3e\n    \x3cdiv class\x3d"flex justify-content--space-between"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"detailContainer"\x3e\n            \x3cdiv class\x3d"media"\x3e\n                \x3cdiv class\x3d"media-image"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"icon"\x3e\n                        \x3cdiv class\x3d"v-channelAvatarThumbnail position--relative border-gray border-radius--lv1"\x3e\n                            \x3cdiv class\x3d"position--absolute top-bottom--0 left-right--0 v-containedBackgroundImage border-radius--lv1"\n                                 style\x3d"background-image: url(${data.iconUrl});"\x3e\n                            \x3c/div\x3e\n                            \x3cimg role\x3d"presentation"\n                                 src\x3d"/images/icons/${data.identifier}_2x18.png"\n                                 width\x3d"18"\n                                 height\x3d"18"\n                                 alt\x3d""\n                                 class\x3d"v-channelIndicator position--absolute border-radius--lv1"\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cimg role\x3d"presentation"\n                         src\x3d"/images/icons/${data.identifier}_2x36.png"\n                         data-dojo-attach-point\x3d"disabledIcon"\n                         width\x3d"36"\n                         height\x3d"36"\n                         alt\x3d""\n                         class\x3d"hide grayscale"\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"media-body"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"placements"\x3e\x3c/div\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"disabledContainer" class\x3d"dim-el hide"\x3e\n                        \x3cp class\x3d"small-meta font-weight--bold margin-bottom--lv0"\x3e${data.label}\x3c/p\x3e\n                        \x3cp data-dojo-attach-point\x3d"disabledMsg"\n                           class\x3d"small-meta margin-bottom--lv0 font-weight--normal c-adsChannelItem_placementList"\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"controlContainer" class\x3d"u-adsItem--hidden@summary"\x3e\n            \x3cinput type\x3d"checkbox"\n                   title\x3d"Run ad on ${data.label}"\n                   id\x3d"${data.identifier}_selected"\n                   name\x3d"${data.identifier}_selected"\n                   data-dojo-attach-point\x3d"switch"\n                   data-dojo-type\x3d"mojo/widgets/Switch"\n                   data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0 float--right\'"/\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/checklist/templates/EditSlatWrapper.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"content"\x3e{_content}\x3c/div\x3e\n\n    \x3c!--Action pane--\x3e\n    \x3cdiv data-dojo-attach-point\x3d"actionBar"\x3e\n        \x3cbutton data-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"click: handleSave" class\x3d"button p0"\x3eSave\x3c/button\x3e\n        \x3ca href\x3d"#0" data-dojo-attach-point\x3d"cancelButton" data-mc-action\x3d"view"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/ads/facebook/edit-connect/templates/EditConnectSlat.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"loadingState"\x3e\n        \x3cdiv class\x3d"c-media margin-bottom--lv3"\x3e\n            \x3cdiv class\x3d"c-mediaImage"\x3e\n                \x3cdiv data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:20, strokeWidth: 3,"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-mediaBody"\x3e\n                \x3cp class\x3d"small-meta font-weight--bold margin-bottom--lv0 dim-el"\x3eFetching your Facebook Pages\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"readyState" class\x3d"margin-bottom--lv1 hide"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"pageInput" class\x3d"size1of2 full-width-mobile"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"padding--lv3 padding-left-right--lv0 padding-bottom--lv1 border-top-dotted"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"channelItems" class\x3d"flex justify-content--space-between flex-col-tablet"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"errorAnchor"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-audience/templates/EditAudienceSlat.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"lastGroup size1of1 full-width-mobile overflow-visible"\x3e\n        \x3cul class\x3d"line flex flex-direction--column@tablet margin-bottom--lv5 margin-bottom--lv2@tablet"\x3e\n\n            \x3c!-- New audience (lookalike) --\x3e\n            \x3cli data-dojo-attach-point\x3d"lookalikeChoiceCard" class\x3d"c-choiceCard c-adsChoiceCard"\x3e\n                \x3cinput data-dojo-attach-point\x3d"lookalikeChoiceInput"\n                    data-dojo-attach-event\x3d"click: handleAudienceChoice"\n                    type\x3d"radio"\n                    id\x3d"audience-lookalike"\n                    class\x3d"c-choiceCard_input av-checkbox"\n                    name\x3d"audience-choice"\n                    data-audience-type\x3d"lookalike"\n                    value\x3d"lookalike"\x3e\n\n                \x3clabel data-dojo-attach-point\x3d"lookalikeChoiceLabel"\n                    for\x3d"audience-lookalike"\n                    class\x3d"c-adsChoiceCard_label c-choiceCard_label border-gray border-radius--lv1"\x3e\n                    \x3cspan class\x3d"small-meta margin-bottom--lv1"\x3eNew people\x3c/span\x3e\n                    \x3cspan class\x3d"c-adsChoiceCard_description font-weight--normal"\x3eFind people who are similar to your existing contacts\x3c/span\x3e\n                \x3c/label\x3e\n\n                \x3cdiv class\x3d"c-choiceCard_indicator position--absolute top--0 right--0 margin--lv1 freddicon tick"\x3e\x3c/div\x3e\n            \x3c/li\x3e\n\n            \x3c!-- Existing audience (list) --\x3e\n            \x3cli data-dojo-attach-point\x3d"listChoiceCard" class\x3d"c-choiceCard c-adsChoiceCard"\x3e\n                \x3cinput data-dojo-attach-point\x3d"listChoiceInput"\n                    data-dojo-attach-event\x3d"click: handleAudienceChoice"\n                    type\x3d"radio"\n                    id\x3d"audience-existing"\n                    class\x3d"c-choiceCard_input av-checkbox"\n                    name\x3d"audience-choice"\n                    data-audience-type\x3d"list"\n                    value\x3d"list"\x3e\n\n                \x3clabel data-dojo-attach-point\x3d"listChoiceLabel"\n                    for\x3d"audience-existing"\n                    class\x3d"c-adsChoiceCard_label c-choiceCard_label border-gray border-radius--lv1"\x3e\n                    \x3cspan class\x3d"small-meta margin-bottom--lv1"\x3eContacts\x3c/span\x3e\n                    \x3cspan class\x3d"c-adsChoiceCard_description font-weight--normal"\x3eReach people who\u2019ve already shown interest in your brand\x3c/span\x3e\n                \x3c/label\x3e\n\n                \x3cdiv class\x3d"c-choiceCard_indicator position--absolute top--0 right--0 margin--lv1 freddicon tick"\x3e\x3c/div\x3e\n            \x3c/li\x3e\n\n            \x3c!-- Custom audience (interests) --\x3e\n            \x3cli data-dojo-attach-point\x3d"interestsChoiceCard" class\x3d"c-choiceCard c-adsChoiceCard"\x3e\n                \x3cinput data-dojo-attach-point\x3d"interestsChoiceInput"\n                    data-dojo-attach-event\x3d"click: handleAudienceChoice"\n                    type\x3d"radio"\n                    id\x3d"audience-interests"\n                    class\x3d"c-choiceCard_input av-checkbox"\n                    name\x3d"audience-choice"\n                    data-audience-type\x3d"interests"\n                    value\x3d"interests"\x3e\n\n                \x3clabel data-dojo-attach-point\x3d"interestsChoiceLabel"\n                    for\x3d"audience-interests"\n                    class\x3d"c-adsChoiceCard_label c-choiceCard_label border-gray border-radius--lv1 margin--lv0"\x3e\n                    \x3cspan class\x3d"small-meta margin-bottom--lv1"\x3eCustom audience\x3c/span\x3e\n                    \x3cspan class\x3d"c-adsChoiceCard_description font-weight--normal"\x3eUse demographic and interest keywords to define your audience\x3c/span\x3e\n                \x3c/label\x3e\n\n                \x3cdiv class\x3d"c-choiceCard_indicator position--absolute top--0 right--0 margin--lv1 freddicon tick"\x3e\x3c/div\x3e\n            \x3c/li\x3e\n        \x3c/ul\x3e\n        \x3cp data-dojo-attach-point\x3d"audienceExclusionMessage" class\x3d"margin-bottom--lv5 hide"\x3eTo get more out of your budget, we won\u2019t show your ad to any of your email contacts.\x3c/p\x3e\n\n        \x3cdiv class\x3d"line"\x3e\n            \x3c!-- Target Audience --\x3e\n            \x3cdiv data-form-type\x3d"list lookalike" class\x3d"flex-row flex-between flex-col-tablet"\x3e\n\n                \x3cdiv class\x3d"flex-half margin-bottom--lv2"\x3e\n                    \x3clabel class\x3d"radio margin-bottom--lv0"\x3e\n                        \x3cinput data-dojo-attach-event\x3d"click: handleTargetToggle"\n                            data-dojo-type\x3d"dijit/form/RadioButton"\n                            data-dojo-attach-point\x3d"targetInputList"\n                            name\x3d"targetInput"\n                            type\x3d"radio"\n                            class\x3d"av-radio"\n                            value\x3d"targetList"\n                            checked\x3e\n\n                            \x3cspan data-form-type\x3d"lookalike"\x3eSimilar to your list\x3c/span\x3e\n                            \x3cspan data-form-type\x3d"list"\x3eYour list\x3c/span\x3e\n                    \x3c/label\x3e\n\n                    \x3cdiv data-dojo-attach-point\x3d"targetListContainer" class\x3d"padding-top--lv2 padding-left--lv7"\x3e\n                        \x3c!-- List --\x3e\n                        \x3clabel for\x3d"audience-list"\x3eList\x3c/label\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"listInput" data-dojo-attach-event\x3d"attrmodified-value: handleListUpdate"\x3e\x3c/div\x3e\n                        \x3cinput type\x3d"hidden" name\x3d"listError"\x3e\n\n                        \x3c!-- Segment --\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"segmentContainer" class\x3d"selfclear"\x3e\n                            \x3clabel\x3eSegment\x3c/label\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"segmentInput"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n\n                        \x3cdiv data-dojo-attach-point\x3d"includeListContainer" class\x3d"hide"\x3e\n                            \x3c!-- Include Subscribers --\x3e\n                            \x3clabel data-form-type\x3d"lookalike" class\x3d"checkbox"\x3e\n                                \x3cspan data-dojo-attach-point\x3d"includeListInput"\x3e\x3c/span\x3e\x3cspan class\x3d"font-weight--normal"\x3eInclude your list contacts as part of your audience\x3c/span\x3e\n                            \x3c/label\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n\n                    \x3c!-- Message displays if user doesn\u2019t have enough contacts --\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"targetListDisabledMessage" class\x3d"hide padding-left--lv7"\x3e\n                        \x3cdiv data-form-type\x3d"lookalike"\x3eYou can build an audience similar to your list once you have at least 500 contacts.\x3c/div\x3e\n                        \x3cdiv data-form-type\x3d"list" class\x3d"margin-bottom--lv2"\x3eYou can target your list with an ad once you have at least 100 contacts.\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"flex-half margin-bottom--lv2"\x3e\n                    \x3clabel class\x3d"radio margin-bottom--lv0"\x3e\n                        \x3cinput data-dojo-attach-event\x3d"click: handleTargetToggle"\n                            data-dojo-type\x3d"dijit/form/RadioButton"\n                            data-dojo-attach-point\x3d"targetInputLikes"\n                            name\x3d"targetInput"\n                            type\x3d"radio"\n                            class\x3d"av-radio"\n                            value\x3d"targetLikes"\x3e\n\n                        \x3cspan data-form-type\x3d"lookalike"\x3eSimilar to your Facebook Page likes\x3c/span\x3e\n                        \x3cspan data-form-type\x3d"list"\x3eYour Facebook Page likes\x3c/span\x3e\n                    \x3c/label\x3e\n\n                    \x3cdiv data-dojo-attach-point\x3d"targetLikesContainer" class\x3d"padding-top--lv2 padding-left--lv7"\x3e\n                        \x3c!-- Include page likes --\x3e\n                        \x3clabel data-form-type\x3d"lookalike" class\x3d"checkbox"\x3e\n                            \x3cspan data-dojo-attach-point\x3d"includeLikesInput"\x3e\x3c/span\x3e\x3cspan class\x3d"font-weight--normal"\x3eInclude your Facebook page likes as part of your audience\x3c/span\x3e\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Targeting Criteria --\x3e\n        \x3cdiv data-form-type\x3d"lookalike interests" class\x3d"line"\x3e\n            \x3cdiv class\x3d"border-top-dotted margin-bottom--lv4"\x3e\x3c/div\x3e\n\n            \x3c!-- Country --\x3e\n            \x3cdiv data-mc-el\x3d"countryInput" data-form-type\x3d"lookalike" class\x3d"line"\x3e\n                \x3clabel for\x3d"audience-country"\x3eCountry\x3c/label\x3e\n                \x3cselect data-dojo-attach-point\x3d"countryInput"\n                        data-dojo-attach-event\x3d"change: handleCountryUpdate"\n                        name\x3d"country"\n                        id\x3d"audience-country"\n                        data-mc-el\x3d"audienceCountry"\n                        class\x3d"select-small size1of2 margin-bottom--lv4"\n                        aria-describedby\x3d"countryDescription"\x3e\n                    \x3coption value\x3d"0"\x3eChoose one\x3c/option\x3e\n                \x3c/select\x3e\n                \x3cp class\x3d"field-help !margin-bottom--lv3" id\x3d"countryDescription"\x3eA single country is required by Facebook to find people similar to your list contacts.\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Location tag input (State/City/Zip/Postal) --\x3e\n            \x3cdiv class\x3d"line margin-bottom--lv1"\x3e\n                \x3clabel for\x3d"audience-locations"\x3e\n                    State, City, or Zip/Postal Code\n                \x3c/label\x3e\n\n                \x3cinput type\x3d"hidden" id\x3d"audience-locations" name\x3d"locations" /\x3e\n                \x3cdiv data-dojo-attach-point\x3d"locationTagListInput"\n                    class\x3d"c-locationsWrapper cursor--text margin-bottom--lv2"\n                    aria-describedby\x3d"locationLabel"\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"locationConflictMessage" data-mc-el\x3d"conflictMessage" class\x3d"hide readable-max-width"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Gender and Age range row --\x3e\n            \x3cdiv class\x3d"flex flex-wrap--wrap"\x3e\n                \x3c!-- Gender (flexItem)--\x3e\n                \x3cfieldset class\x3d"margin--lv3 margin-top--lv0 margin-left--lv0"\x3e\n                    \x3clegend class\x3d"margin-bottom--lv1"\x3eGender\x3c/legend\x3e\n                    \x3cdiv class\x3d"flex"\x3e\n                        \x3cinput data-dojo-attach-point\x3d"genderAllInput"\n                               type\x3d"radio"\n                               id\x3d"gender-all"\n                               class\x3d"v-visuallyHidden v-buttonGroupControl"\n                               value\x3d"0"\n                               name\x3d"gender"\x3e\n                        \x3clabel for\x3d"gender-all"\n                               class\x3d"v-buttonGroupLabel justify-content--center cursor--pointer"\n                               aria-label\x3d"Show this ad to everyone"\n                               title\x3d"Show this ad to everyone"\x3e\n                            All\n                        \x3c/label\x3e\n\n                        \x3cinput data-dojo-attach-point\x3d"genderWomenInput"\n                               type\x3d"radio"\n                               id\x3d"gender-women"\n                               class\x3d"v-visuallyHidden v-buttonGroupControl"\n                               name\x3d"gender"\n                               value\x3d"2"\x3e\n                        \x3clabel for\x3d"gender-women"\n                               class\x3d"v-buttonGroupLabel justify-content--center cursor--pointer"\n                               aria-label\x3d"Show this ad to women only"\n                               title\x3d"Show this ad to women only"\x3e\n                            Women\n                        \x3c/label\x3e\n\n                        \x3cinput data-dojo-attach-point\x3d"genderMenInput"\n                               type\x3d"radio"\n                               id\x3d"gender-men"\n                               class\x3d"v-visuallyHidden v-buttonGroupControl"\n                               name\x3d"gender"\n                               value\x3d"1"\x3e\n                        \x3clabel for\x3d"gender-men"\n                               class\x3d"v-buttonGroupLabel justify-content--center cursor--pointer"\n                               aria-label\x3d"Show this ad to men only"\n                               title\x3d"Show this ad to men only"\x3e\n                            Men\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n\n                \x3c!-- Age (flexItem)--\x3e\n                \x3cdiv class\x3d"flex--1"\x3e\n                    \x3clabel for\x3d"age_min" id\x3d"ageLabel"\x3eAge range\x3c/label\x3e\n\n                    \x3cdiv class\x3d"flex"\x3e\n                        \x3cp class\x3d"v-visuallyHidden" id\x3d"minAgeLabel"\x3e\n                            Select minimum age of your intended audience\n                        \x3c/p\x3e\n                        \x3cselect data-dojo-attach-point\x3d"ageMinInput"\n                                name\x3d"age_min"\n                                id\x3d"age_min"\n                                class\x3d"select-small margin-bottom--lv3 !width--auto"\n                                aria-labelledby\x3d"ageLabel"\n                                aria-describedby\x3d"minAgeLabel"\x3e\n                        \x3c/select\x3e\n\n                        \x3cp class\x3d"padding--lv2 padding-top-bottom--lv0 "\x3e\x26ndash;\x3c/p\x3e\n\n                        \x3cp class\x3d"v-visuallyHidden" id\x3d"maxAgeLabel"\x3e\n                            Select maximum age of your intended audience\n                        \x3c/p\x3e\n                        \x3cselect data-dojo-attach-point\x3d"ageMaxInput"\n                                name\x3d"age_max"\n                                id\x3d"age_max"\n                                class\x3d"select-small margin-bottom--lv3 !width--auto"\n                                aria-labelledby\x3d"ageLabel"\n                                aria-describedby\x3d"maxAgeLabel"\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                    \x3c!-- Error container - Necessary to not blow out container--\x3e\n                    \x3cdiv class\x3d"flex-direction--column"\x3e\n                        \x3cdiv data-mc-name\x3d"ageMinMaxError" class\x3d"unit size1of1"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Interest tags for lookalike + FB universe audiences --\x3e\n            \x3cdiv data-form-type\x3d"lookalike interests" class\x3d"line"\x3e\n                \x3cdiv class\x3d"margin-bottom--lv5"\x3e\n                    \x3clabel for\x3d"audience-interests-list"\x3e\n                        Interests\x3cspan class\x3d"small-meta dim6 float--right font-weight--normal"\x3eOptional\x3c/span\x3e\n                    \x3c/label\x3e\n\n                    \x3cinput type\x3d"hidden" id\x3d"audience-interests-list" name\x3d"interestsList" /\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"interestsTagListInput"\n                        class\x3d"margin-bottom--lv4 cursor--text"\n                        aria-describedby\x3d"interestsLabel"\x3e\n                    \x3c/div\x3e\n\n                    \x3cp id\x3d"interestsLabel" class\x3d"field-help"\x3eAdd keywords to refine your audience by likes, shares, and other activity.\x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-budget/DateTimeInput.html":'\x3cdiv class\x3d"flex flex-direction--column@phone"\x3e\n    \x3clabel for\x3d"${id}_date" class\x3d"v-visuallyHidden"\x3e${label} date\x3c/label\x3e\n\n    \x3c!--Flex item--\x3e\n    \x3cinput data-dojo-attach-point\x3d"dateInput"\n           id\x3d"${id}_date"\n           class\x3d"!margin-bottom--lv1 !width--auto"\n           data-dojo-type\x3d"dijit/form/DateTextBox"\n           constraints\x3d"{ datePattern:\'MMM d, yyyy\'}"\n           name\x3d"${id}_date"\x3e\n\n    \x3c!--Flex item--\x3e\n    \x3cdiv class\x3d"flex align-items--baseline margin-bottom--lv1"\x3e\n        \x3cspan class\x3d"margin--lv2 !margin-top-bottom--lv0 display--none@phone"\x3eat\x3c/span\x3e\n        \x3clabel for\x3d"${id}_hour" class\x3d"v-visuallyHidden"\x3e${label} hour\x3c/label\x3e\n        \x3cselect data-dojo-attach-point\x3d"hourInput"\n                id\x3d"${id}_hour"\n                name\x3d"${id}_hour"\n                class\x3d"select-small margin--lv3 margin-top-bottom--lv0 margin-left--lv0 !width--auto"\x3e\x3c/select\x3e\n\n        \x3cp class\x3d"v-visuallyHidden" id\x3d"${id}_meridianLabel"\x3eSelect A.M. or P.M.\x3c/p\x3e\n        \x3cdiv role\x3d"radiogroup" class\x3d"flex"\x3e\n            \x3cinput data-dojo-attach-point\x3d"amInput" type\x3d"radio"\n                   aria-labelledby\x3d"${id}_meridianLabel"\n                   name\x3d"${id}_meridian"\n                   id\x3d"${id}_am"\n                   value\x3d"am"\n                   class\x3d"v-visuallyHidden v-buttonGroupControl"\x3e\n            \x3clabel for\x3d"${id}_am" class\x3d"v-buttonGroupLabel"\x3eam\x3c/label\x3e\n            \x3cinput data-dojo-attach-point\x3d"pmInput" type\x3d"radio"\n                   aria-labelledby\x3d"${id}_meridianLabel"\n                   name\x3d"${id}_meridian"\n                   id\x3d"${id}_pm"\n                   value\x3d"pm"\n                   class\x3d"v-visuallyHidden v-buttonGroupControl"\x3e\n            \x3clabel for\x3d"${id}_pm" class\x3d"v-buttonGroupLabel"\x3epm\x3c/label\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-budget/DurationInput.html":'\x3cdiv\x3e\n    \x3cp data-dojo-attach-point\x3d"minMessaging"\n       class\x3d"small-meta font-weight--bold section dim-el hide"\x3e\n        The minimum budget is ${currencySymbol}${minDailyBudget}\n    \x3c/p\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"summaryContainer" class\x3d"flex section"\x3e\n        \x3cp data-dojo-attach-point\x3d"summary"\n           class\x3d"small-meta margin--lv0 padding-right--lv1"\x3e\x3c/p\x3e\n        \x3ca href\x3d"javascript:;"\n           data-dojo-attach-point\x3d"editLink"\n           data-dojo-attach-event\x3d"click: _handleEditLink"\n           class\x3d"small-meta"\x3eEdit \x3cspan class\x3d"freddicon menu-down"\x3e\x3c/span\x3e\n        \x3c/a\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"selectContainer" class\x3d"hide"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"customDurationContainer" class\x3d"section hide"\x3e\n        \x3cp class\x3d"font-weight--bold margin-bottom--lv0"\x3eStart\x3c/p\x3e\n        \x3cdiv data-dojo-attach-point\x3d"startDateTimeContainer" class\x3d"margin-bottom--lv1"\x3e\x3c/div\x3e\n\n        \x3cp class\x3d"font-weight--bold margin-bottom--lv0"\x3eEnd\x3c/p\x3e\n        \x3cdiv data-dojo-attach-point\x3d"endDateTimeContainer" class\x3d"margin-bottom--lv1"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplLabelWithMinimum"\x3e\n        \x3cp class\x3d"small-meta margin-bottom--lv0"\x3e{label}\x3c/p\x3e\n        \x3cp class\x3d"small-meta margin-bottom--lv0 font-weight--normal"\x3eMinimum budget is ${currencySymbol}{minimumBudget}\x3c/p\x3e\n    \x3c/script\x3e\n\x3c/div\x3e',
"url:mojo/widgets/ads/facebook/edit-budget/templates/EditBudgetSlat.html":'\x3cdiv class\x3d"line"\x3e\n    \x3cdiv class\x3d"group size1of3 size1of2@tablet"\x3e\n        \x3cdiv class\x3d"flex justify-content--space-between align-items--baseline readable-max-width line-height--lv3"\x3e\n            \x3clabel for\x3d"${id}_budget"\x3eTotal budget\x3c/label\x3e\n            \x3cspan data-dojo-attach-point\x3d"perDayLabel" class\x3d"small-meta dim-el"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"position--relative"\x3e\n            \x3cspan class\x3d"position--absolute c-currencyInput--symbol"\x3e${currencySymbol}\x3c/span\x3e\n            \x3cinput id\x3d"${id}_budget"\n                   data-dojo-attach-point\x3d"budgetInput"\n                   name\x3d"budget"\n                   type\x3d"number"\n                   min\x3d"0"\n                   pattern\x3d"^[0-9]+$"\n                   step\x3d"0.01"\n                   maxlength\x3d"9"\n                   class\x3d"c-currencyInput !margin-bottom--lv0"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"lastGroup size1of1"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"durationContainer"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"errorAnchor"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/ads/facebook/edit-content/templates/ImageBlock.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"c-attachment v-fbAttachment margin-bottom--lv3 border-radius--lv1 position--relative overflow--hidden bg-gray"\x3e\n        \x3cdiv class\x3d"bg-gray v-coveredBackgroundImage \x3c%- this.imageClass %\x3e"\n             style\x3d"background-image: \x3c%\x3d this.imageUrl \x3d\x3d\x3d "" ? "none" : "url(\'" + this.imageUrl + "\')" %\x3e"\n        \x3e\n\n            \x3c% if (this.imageUrl \x3d\x3d\x3d "") { %\x3e\n                \x3cdiv class\x3d"c-attachment_placeholder flex flex-col text-align--center align-items--center justify-content--center no-clicky position--absolute pos-tb0 pos-lr0"\x3e\n                    \x3cimg src\x3d"/images/icons/empty-image.svg"\n                         alt\x3d"Placeholder image for a product or an ad" class\x3d"c-adPlaceholder dim6 margin--lv2" width\x3d"20%"\x3e\n                    \x3cp class\x3d"small-meta font-weight--bold dim6 margin-bottom--lv0"\x3eInsert an image\x3c/p\x3e\n                    \x3cp class\x3d"small-meta font-style--italic dim6 margin-bottom--lv0"\x3eRecommended size\x3c/p\x3e\n                    \x3cp class\x3d"small-meta dim6 !margin--lv0"\x3eSingle image ad: 1200 px \x26times; 628 px\x3c/p\x3e\n                    \x3cp class\x3d"small-meta dim6 !margin--lv0"\x3eCarousel ad: 1080 px \x26times; 1080 px\x3c/p\x3e\n                \x3c/div\x3e\n            \x3c% } %\x3e\n\n            \x3cdiv class\x3d"c-attachment_overlay position--absolute flex justify-content--center align-items--center pos-tb0 pos-lr0 border-radius--lv1"\x3e\n                \x3c% if (this.imageUrl !\x3d\x3d "") { %\x3e\n                \x3cbutton type\x3d"button" data-dojo-attach-event\x3d"click: _handleEdit"\x3eEdit\x3c/button\x3e\n                \x3c% } %\x3e\n\n                \x3cbutton type\x3d"button"\n                        data-dojo-attach-event\x3d"click: _handleAdd"\n                        class\x3d\'\x3c%\x3d this.imageUrl !\x3d\x3d "" ? "" : "margin--lv0" %\x3e\'\n                \x3e\n                    \x3c%\x3d this.imageUrl !\x3d\x3d "" ? "Replace" : "Browse" %\x3e\n                \x3c/button\x3e\n\n                \x3c% if (this.imageUrl !\x3d\x3d "") { %\x3e\n                \x3cbutton type\x3d"button" data-dojo-attach-event\x3d"click: _handleRemove" class\x3d"margin--lv0"\x3eRemove\x3c/button\x3e\n                \x3c% } %\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!--Validation messaging target--\x3e\n    \x3cspan data-mc-name\x3d"image"\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-content/templates/InputWithLabel.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"flex justify-content--space-between align-items--flex-start"\x3e\n        \x3c!--Flex item--\x3e\n        \x3clabel for\x3d"\x3c%- this.id %\x3e_input"\x3e\x3c%- this.label %\x3e\x3c/label\x3e\n        \x3c!--Flex item--\x3e\n        \x3cdiv class\x3d"dim6 text-align--right"\x3e\n            \x3c% if (this.required) { %\x3e\n                \x3cspan data-dojo-attach-point\x3d"requiredIndicator" class\x3d"small-meta font-weight--bold"\x3eRequired\x3c/span\x3e\n            \x3c% } %\x3e\n            \x3cdiv data-dojo-attach-point\x3d"charCountContainer" style\x3d"display: none;"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\n        \x3cdiv data-dojo-attach-point\x3d"inputContainer" class\x3d"field-wrapper"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-content/templates/CarouselItem.html":'\x3cdiv class\x3d"margin--lv3 nomargin-small"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"imageBlockContainer"\x3e\x3c/div\x3e\n\n    \x3c% if (!this.lockUrl \x3d\x3d\x3d true) { %\x3e\n        \x3cdiv data-dojo-attach-point\x3d"linkContainer"\x3e\x3c/div\x3e\n    \x3c% } else { %\x3e\n        \x3cdiv class\x3d"margin-bottom--lv3"\x3e\n            \x3cp class\x3d"margin-bottom--lv1 font-weight--bold"\x3eAd Links to\x3c/p\x3e\n            \x3ca href\x3d"\x3c%- this.data.linkUrl %\x3e" class\x3d"overflow-ellipsis full-width" target\x3d"_blank"\x3e\x3c%- this.data.linkUrl %\x3e\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c% } %\x3e\n\n    \x3cdiv class\x3d"line"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"titleContainer" class\x3d"group size5of8"\x3e\x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"buttonContainer" class\x3d"lastUnit size3of8 padding-right--lv0 padding--lv0@phone"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"descriptionContainer"\x3e\x3c/div\x3e\n\n    \x3cscript data-dojo-attach-point\x3d"template_btnOptions" type\x3d"text/template"\x3e\n        \x3coption value\x3d""\x3eNo button\x3c/option\x3e\n        \x3coption value\x3d"SHOP_NOW"\x3eShop now\x3c/option\x3e\n        \x3coption value\x3d"BOOK_TRAVEL"\x3eBook now\x3c/option\x3e\n        \x3coption value\x3d"LEARN_MORE"\x3eLearn more\x3c/option\x3e\n        \x3coption value\x3d"GET_SHOWTIMES"\x3eGet showtimes\x3c/option\x3e\n        \x3coption value\x3d"SIGN_UP"\x3eSign up\x3c/option\x3e\n        \x3coption value\x3d"DOWNLOAD"\x3eDownload\x3c/option\x3e\n        \x3coption value\x3d"CONTACT_US"\x3eContact us\x3c/option\x3e\n        \x3coption value\x3d"APPLY_NOW"\x3eApply now\x3c/option\x3e\n        \x3coption value\x3d"DONATE_NOW"\x3eDonate now\x3c/option\x3e\n        \x3coption value\x3d"REQUEST_TIME"\x3eRequest time\x3c/option\x3e\n        \x3coption value\x3d"SEE_MENU"\x3eSee menu\x3c/option\x3e\n        \x3coption value\x3d"LISTEN_NOW"\x3eListen now\x3c/option\x3e\n    \x3c/script\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-content/templates/Carousel.html":'\x3cdiv class\x3d"flex readable-max-width flex-direction--column@phone"\x3e\n    \x3c% if (this.maxItems \x3e 1) { %\x3e\n        \x3cdiv data-dojo-attach-point\x3d"CarouselItemsContainer"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"flex order--1 order--unset@phone flex-direction--column flex-direction--unset@phone"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"buttonsContainer"\n                 class\x3d"flex flex-direction--column margin--lv3 margin-top-bottom--lv0 margin-right--lv0 nomargin-small flex-direction--unset@phone"\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"margin--lv3 margin-top-bottom--lv0 margin-right--lv0 nomargin-small"\x3e\n                \x3cbutton class\x3d"c-adThumbnail c-adThumbnail_add u-square--lv2 button--light padding--lv0 margin-right--lv0 border-radius--lv2"\n                        type\x3d"button"\n                        title\x3d"Add up to four additional product images and descriptions for your ad"\n                        data-dojo-attach-point\x3d"addButtonNode"\n                        data-dojo-attach-event\x3d"onClick:_onAddItemButtonPress"\n                \x3e\n                    \x3cimg src\x3d"/images/icons/add-icon.svg" alt\x3d"Click to add more images and descriptions in your Facebook ad"\x3e\n                    \x3cspan role\x3d"presentation" aria-hidden\x3d"true" class\x3d"display--block"\x3eCard\x3c/span\x3e\n                \x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c% } %\x3e\n\n    \x3cdiv class\x3d"flex-auto border-gray border-dashed border-radius--lv2 margin-bottom--lv6 border--0@phone overflow--hidden"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"switcherContainer" class\x3d"position--relative"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-content/templates/ButtonItem.html":'\x3cdiv class\x3d"v-adThumbnailItem margin-bottom--lv3 position--relative"\x3e\n    \x3cinput id\x3d"\x3c%- this.id %\x3e_input"\n           class\x3d"v-visuallyHidden c-adThumbnailControl"\n           type\x3d"radio"\n           name\x3d"selectedItem_{id}"\n           value\x3d"\x3c%- this.index %\x3e"\n           \x3c%\x3d this.selected \x3d\x3d\x3d true ? "checked" : "" %\x3e\n    \x3e\n\n    \x3clabel for\x3d"\x3c%- this.id %\x3e_input"\n           class\x3d"c-adThumbnail u-square--lv2 text-align--center padding--lv0 flex flex-center justify-content--center border-radius--lv2 position--relative bg-gray"\n           style\x3d"background-image: url(\'\x3c%- this.imageUrl %\x3e\');"\n           data-dojo-attach-event\x3d"click: _handleLabelPress"\x3e\n        \x3cspan class\x3d"flex justify-content--center flex-center padding--lv1 v-bg-gray-lightest u-circle--lv4"\x3e\x3c%- this.index + 1 %\x3e\x3c/span\x3e\n    \x3c/label\x3e\n\n    \x3cdiv class\x3d"c-adThumbnail_button position--absolute border-radius--rounded cursor--pointer"\n         data-mc-action\x3d"delete"\n         data-mc-index\x3d"\x3c%- this.index %\x3e"\n         data-dojo-attach-event\x3d"click: _handleDeletePress"\n         role\x3d"button"\x3e\n        \x3cspan class\x3d"freddicon cross-fill bg-white border-radius--rounded"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-content/templates/DeleteCarouselItemDialog.html":'\x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n    \x3cbutton data-dojo-attach-event\x3d"click: onConfirmDeletion"  class\x3d"button p2"\x3eDelete Card\x3c/button\x3e\n    \x3ca data-dojo-attach-event\x3d"click: onCancel" href\x3d"#"\x3eCancel\x3c/a\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/ads/facebook/edit-content/templates/EditContentSlatWrapper.html":'\x3cdiv class\x3d"size3of4 centered width--100@tablet"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"content" class\x3d"margin-bottom--lv5"\x3e{_content}\x3c/div\x3e\n\n    \x3c!--Action pane--\x3e\n    \x3cdiv data-dojo-attach-point\x3d"actionBar" class\x3d"text-align--center"\x3e\n        \x3cbutton data-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"click: handleSave" class\x3d"button p0"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3ca href\x3d"#0" data-dojo-attach-point\x3d"cancelButton" data-mc-action\x3d"view" class\x3d"hide"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/ads/facebook/edit-content/templates/EditContentSlat.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"messageContainer" class\x3d"margin-bottom--lv3"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"carouselContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/ads/facebook/view-content/templates/PreviewSwitcher.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"buttons" class\x3d"flex justify-content--center justify-content--unset@phone"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"childButtons" class\x3d"flex justify-content--center hide-phone"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"flex flex-direction--column flex-direction--unset@phone"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/view-content/templates/ButtonItemBordered.html":'\x3cli class\x3d"c-buttonGroupItem"\x3e\n    \x3cbutton type\x3d"button"\n            data-mc-value\x3d"{value}"\n            title\x3d"{title}"\n            class\x3d"c-buttonGroupButton v-buttonGroupBordered flex align-items--center"\x3e\n        \x3cimg role\x3d"presentation"\n             src\x3d"/images/icons/{value}_2x18.png"\n             width\x3d"18"\n             height\x3d"18"\n             alt\x3d""\n             class\x3d"margin--lv2 margin-left--lv0 margin-top-bottom--lv0"\x3e\n        \x3cspan\x3e{label}\x3c/span\x3e\n    \x3c/button\x3e\n\x3c/li\x3e\n',
"url:mojo/widgets/ads/facebook/view-content/templates/ButtonItemUnderlined.html":'\x3cli class\x3d"c-buttonGroupItem"\x3e\n    \x3cbutton type\x3d"button"\n            data-mc-value\x3d"{value}"\n            title\x3d"{title}"\n            class\x3d"c-buttonGroupButton v-buttonGroupUnderlined"\x3e\n        {label}\n    \x3c/button\x3e\n\x3c/li\x3e\n',"url:mojo/widgets/ads/facebook/view-content/templates/ViewContentSlat.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"buttons" class\x3d"flex justify-content--center justify-content--unset@phone"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"childButtons" class\x3d"flex justify-content--center hide-phone"\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"previewContainer"\x3e\n        \x3cdiv data-preview-label\x3d"Facebook" data-dojo-attach-point\x3d"fbPreviewContainer" class\x3d"text-align--left"\x3e\x3c/div\x3e\n        \x3cdiv data-preview-label\x3d"Instagram" data-dojo-attach-point\x3d"igPreviewContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n',
"url:mojo/widgets/ads/facebook/view-content/templates/FacebookPreviewDesktop.html":'\x3cdiv data-preview-style\x3d"Desktop" class\x3d"margin--auto !margin-bottom--lv2 hide-phone"\x3e\n    \x3cdiv class\x3d"c-fbAdContainer overflow--hidden"\x3e\n        \x3cdiv class\x3d"flex align-items--flex-start margin-bottom--lv1"\x3e\n            \x3cdiv class\x3d"c-fbPage flex align-content--start"\x3e\n                \x3cimg class\x3d"c-fbPage_avatar"\n                     src\x3d"${page.iconUrl}"\n                     alt\x3d"" aria-label\x3d"${page.name}"\n                     role\x3d"img"\x3e\n                \x3cdiv class\x3d"c-fbPageContainer flex flex-direction--column align-items--flex-start"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"pageName" class\x3d"display--inline-block line-height--inherit"\x3e\x3c/div\x3e\n                    \x3cspan class\x3d"c-fbContentMeta flex align-items--baseline"\x3eSponsored \x26#8226; \x3cspan class\x3d"c-fbAdIcon c-fbAdIcon--globe"\x3e\x3c/span\x3e\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-fbAdButton margin-left--auto margin-right--lv3 flex align-items--center"\x3e\x3ci class\x3d"c-fbAdIcon c-fbAdIcon--thumbup margin-right--lv1"\x3e\x3c/i\x3e Like Page\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cp class\x3d"c-fbAdMessage"\x3e${message}\x3c/p\x3e\n        \x3cdiv class\x3d"c-fbAdContainerParent c-fbAdContent"\x3e\n            \x3cdiv class\x3d"position--relative"\x3e\n                \x3cul data-dojo-attach-point\x3d"contentContainer" class\x3d"c-fbContent_container flex"\x3e\x3c/ul\x3e\n                \x3cdiv data-dojo-attach-point\x3d"carouselActions" class\x3d"c-fbAdCarousel_actions flex hide full-width align-items--center"\x3e\n                    \x3cdiv role\x3d"button" class\x3d"c-fbAdCarousel_button c-fbAdCarousel_button--prev hide" data-dojo-attach-point\x3d"previousButton" data-dojo-attach-event\x3d"onmouseenter: _handleButtonMouseEnter, onmouseleave: _handleButtonMouseLeave, click: _shiftCarouselBack"\x3e\n                        \x3ca role\x3d"button" href\x3d"#" class\x3d"c-fbAdCarousel_action"\x3e\x3ci class\x3d"c-fbAdIcon c-fbAdIcon--carousel c-fbAdIcon--chevronLeft"\x3e\x3c/i\x3e\x3c/a\x3e\n                    \x3c/div\x3e\n                    \x3cdiv role\x3d"button" class\x3d"c-fbAdCarousel_button c-fbAdCarousel_button--next c-fbAdCarousel_button--large margin-left--auto justify-content--flex-end" data-dojo-attach-point\x3d"nextButton" data-dojo-attach-event\x3d"onmouseenter: _handleButtonMouseEnter, onmouseleave: _handleButtonMouseLeave, click: _shiftCarouselForward"\x3e\n                        \x3ca role\x3d"button" href\x3d"#" class\x3d"c-fbAdCarousel_action"\x3e\x3ci class\x3d"c-fbAdIcon c-fbAdIcon--carousel c-fbAdIcon--chevronRight"\x3e\x3c/i\x3e\x3c/a\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"actionIconBar" class\x3d"c-fbIconActions"\x3e\n            \x3cdiv class\x3d"flex justify-content--space-between"\x3e\n                \x3cspan class\x3d"c-fbIconAction"\x3e\x3ci class\x3d"c-fbAdIcon c-fbAdIcon--like margin-right--lv1"\x3e\x3c/i\x3eLike\x3c/span\x3e\n                \x3cspan class\x3d"c-fbIconAction"\x3e\x3ci class\x3d"c-fbAdIcon c-fbAdIcon--comment margin-right--lv1"\x3e\x3c/i\x3eComment\x3c/span\x3e\n                \x3cspan class\x3d"c-fbIconAction"\x3e\x3ci class\x3d"c-fbAdIcon c-fbAdIcon--share margin-right--lv1"\x3e\x3c/i\x3eShare\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Content for Single Item Facebook Ads on Desktop--\x3e\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplSingleAd"\x3e\n        \x3cli class\x3d"c-fbAdContent_item c-fbAdContent_item--default"\x3e\n            \x3cdiv class\x3d"c-fbAdContent_img c-fbAdContent_img--default" style\x3d"background-image: url({imageUrl})"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-fbAdContent_details c-fbAdContent_details--default"\x3e\n                \x3cdiv class\x3d"c-fbAdContent_title c-fbAdContent_title--default"\x3e{title}\x3c/div\x3e\n                \x3cp class\x3d"c-fbAdContent_desc margin-bottom--lv0"\x3e{description}\x3c/p\x3e\n                \x3cdiv class\x3d"flex align-items--flex-end padding-top--lv1"\x3e\n                    \x3cdiv class\x3d"c-fbContentMeta c-fbContentMeta--small text-transform--uppercase"\x3e{linkUrl}\x3c/div\x3e\n                    \x3cdiv class\x3d"c-fbAdButton c-fbAdCta margin-left--auto display--inline-block"\x3e{callToActionButton}\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/li\x3e\n    \x3c/script\x3e\n\n    \x3c!-- Content for Carousel Ad Items Desktop --\x3e\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplCarouselAd"\x3e\n        \x3cli class\x3d"c-fbAdContent_item c-fbAdContent_item--carousel" data-ad-item\x3d"{adIndex}"\x3e\n            \x3cdiv class\x3d"c-fbAdContent_img c-fbAdContent_img--carousel" style\x3d"background-image: url({imageUrl})"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-fbAdContent_details c-fbAdContent_details--carousel selfclear"\x3e\n                \x3cdiv class\x3d"c-fbAdButton c-fbAdCta c-fbAdCta--carousel float--right display--inline-block position--relative"\x3e{callToActionButton}\x3c/div\x3e\n                \x3cdiv\x3e\n                    \x3cdiv class\x3d"c-fbAdContent_title c-fbAdContent_title--carousel overflow--hidden"\x3e{title}\x3c/div\x3e\n                    \x3cp class\x3d"c-fbAdContent_desc margin-top-bottom--lv0 overflow-ellipsis"\x3e{description}\x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/li\x3e\n    \x3c/script\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplSeeMore"\x3e\n        \x3cli class\x3d"c-fbAdContent_item c-fbAdContent_item--carousel" data-ad-item\x3e\n            \x3cdiv class\x3d"c-fbAdContent_img c-fbAdContent_img--carousel flex align-items--center justify-content--center"\x3e\n                \x3cimg src\x3d"{pageAvatar}" alt\x3d"{pageName}" width\x3d"180" height\x3d"180"\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-fbAdContent_details c-fbAdContent_details--carousel flex align-items--center"\x3e\n                \x3cb class\x3d"c-fbAdSeeMore full-width text-align--center"\x3eSee More at\x3c/br\x3e\n                    \x3cspan class\x3d"c-fbAdSeeMore_link text-transform--uppercase"\x3e{seeMoreLink}\x3c/span\x3e\n                \x3c/b\x3e\n            \x3c/div\x3e\n        \x3c/li\x3e\n    \x3c/script\x3e\n\x3c/div\x3e\n\n\n\n\n',
"url:mojo/widgets/ads/facebook/view-content/templates/FacebookPreviewMobile.html":'\x3cdiv data-preview-style\x3d"Mobile" class\x3d"margin--auto !margin-bottom--lv2 margin--lv0@phone hide-phone"\x3e\n    \x3cdiv class\x3d"c-fbAdContainer c-fbAdContainer--mobile"\x3e\n        \x3cheader class\x3d"c-fbAdHeader flex align-items--center margin-bottom--lv2"\x3e\n            \x3cdiv class\x3d"flex align-items--flex-start"\x3e\n                \x3cimg class\x3d"c-fbPage_avatar"\n                     src\x3d"${page.iconUrl}"\n                     alt\x3d"${page.name}"\n                     aria-label\x3d"${page.name}"\n                     role\x3d"img"\x3e\n                \x3cdiv class\x3d"c-fbPageContainer c-fbPageContainer--mobile flex flex-direction--column align-items--flex-start"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"pageName" class\x3d"display--inline-block line-height--inherit"\x3e\x3c/div\x3e\n                    \x3cspan class\x3d"c-fbContentMeta flex align-items--baseline"\x3eSponsored \x26#8226; \x3cspan class\x3d"c-fbAdIcon c-fbAdIcon--globe"\x3e\x3c/span\x3e\x3c/span\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"flex align-content--start margin-left--auto"\x3e\n                \x3ci class\x3d"c-fbAdIcon c-fbAdIcon--thumbupMobile"\x3e\x3c/i\x3e\n                \x3ci class\x3d"c-fbAdIcon c-fbAdIcon--ellispse margin-left--lv2"\x3e\x3c/i\x3e\n            \x3c/div\x3e\n\n        \x3c/header\x3e\n        \x3cp class\x3d"c-fbAdMessage c-fbAdMessage--mobile"\x3e${message}\x3c/p\x3e\n        \x3cdiv class\x3d"c-fbAdContainerParent"\x3e\n            \x3cul data-dojo-attach-point\x3d"contentContainer" class\x3d"c-fbContent_container flex overflow--hidden"\x3e\x3c/ul\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-attach-point\x3d"actionIconBar" class\x3d"c-fbIconActions c-fbIconActions--mobile"\x3e\n            \x3cdiv class\x3d"flex justify-content--space-between"\x3e\n                \x3cspan class\x3d"c-fbIconAction"\x3e\x3ci class\x3d"c-fbAdIcon c-fbAdIcon--like margin-right--lv1"\x3e\x3c/i\x3eLike\x3c/span\x3e\n                \x3cspan class\x3d"c-fbIconAction"\x3e\x3ci class\x3d"c-fbAdIcon c-fbAdIcon--comment margin-right--lv1"\x3e\x3c/i\x3eComment\x3c/span\x3e\n                \x3cspan class\x3d"c-fbIconAction"\x3e\x3ci class\x3d"c-fbAdIcon c-fbAdIcon--share margin-right--lv1"\x3e\x3c/i\x3eShare\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Content for Single Item Facebook Ads on Desktop--\x3e\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplSingleAd"\x3e\n        \x3cli class\x3d"c-fbAdContent_item c-fbAdContent_item--default c-fbAdContent_item--mobile"\x3e\n            \x3cdiv class\x3d"c-fbAdContent_img c-fbAdContent_img--defaultMobile" style\x3d"background-image: url({imageUrl})"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-fbAdContent_section c-fbAdContent_section--mobile"\x3e\n                \x3cdiv class\x3d"flex align-items--center"\x3e\n                    \x3cdiv class\x3d"overflow--hidden"\x3e\n                        \x3cdiv class\x3d"c-fbContentMeta c-fbContentMeta--mobile" style\x3d"line-height: 16px"\x3e{linkUrl}\x3c/div\x3e\n                        \x3csection class\x3d"overflow--hidden" style\x3d"max-height: 36px;"\x3e\n                            \x3cdiv class\x3d"c-fbAdContent_title c-fbAdContent_title--mobile !margin-bottom--lv0"\x3e{title}\x3c/div\x3e\n                            \x3cp class\x3d"c-fbAdContent_desc overflow-ellipsis !margin-bottom--lv0"\x3e{description}\x3c/p\x3e\n                        \x3c/section\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"margin-left--auto"\x3e\n                        \x3cdiv class\x3d"c-fbAdButton c-fbAdButton--mobile c-fbAdCta display--inline-block margin-left--lv1"\x3e{callToActionButton}\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/li\x3e\n    \x3c/script\x3e\n\n    \x3c!-- Content for Carousel Ad Items Desktop --\x3e\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplCarouselAd"\x3e\n        \x3cli class\x3d"c-fbAdContent_item c-fbAdContent_item--carouselMobile"\x3e\n            \x3cdiv class\x3d"c-fbAdContent_img c-fbAdContent_img--carouselMobile" style\x3d"background-image: url({imageUrl})"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-fbAdContent_details c-fbAdContent_details--carouselMobile flex align-items--center"\x3e\n                \x3csection style\x3d"flex: 1; width: 0"\x3e\n                    \x3cdiv class\x3d"c-fbAdContent_title c-fbAdContent_title--carousel c-fbAdContent_title--carouselMobile overflow--hidden"\x3e{title}\x3c/div\x3e\n                    \x3cp class\x3d"c-fbAdContent_desc margin-top-bottom--lv0 overflow-ellipsis"\x3e{description}\x3c/p\x3e\n                \x3c/section\x3e\n                \x3cdiv class\x3d"c-fbAdButton c-fbAdButton--mobile c-fbAdCta c-fbAdCta--carouselMobile display--inline-block position--relative"\x3e{callToActionButton}\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/li\x3e\n    \x3c/script\x3e\n\x3c/div\x3e\n\n\n\n',
"url:mojo/widgets/ads/facebook/view-content/templates/InstagramPreview.html":'\x3cdiv class\x3d"margin--auto !margin-bottom--lv2 margin--lv0@phone"\x3e\n    \x3cdiv class\x3d"c-igAdContent"\x3e\n        \x3cheader\x3e\n            \x3csection class\x3d"c-igBrand_header"\x3e\x3c/section\x3e\n            \x3csection class\x3d"flex align-items--center padding--lv1"\x3e\n                \x3cdiv class\x3d"flex"\x3e\n                    \x3cdiv class\x3d"flex align-content--start"\x3e\n                        \x3cimg class\x3d"c-igPage_avatar"\n                             src\x3d"${page.instagramIconUrl}"\n                             alt\x3d"" aria-label\x3d"${page.instagramHandle}" role\x3d"img"\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"flex"\x3e\n                        \x3cdiv class\x3d"flex flex-direction--column text-align--left c-igPageHandleContainer"\x3e\n                            \x3cspan class\x3d"c-igPage_handleName margin--lv0"\x3e${page.instagramHandle}\x3c/span\x3e\n                            \x3cspan class\x3d"c-igContentMeta"\x3eSponsored\x3c/span\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cspan class\x3d"flex margin-left--auto"\x3e\n                    \x3cspan class\x3d"c-igBrand_icon--dot"\x3e\x3c/span\x3e\n                    \x3cspan class\x3d"c-igBrand_icon--dot"\x3e\x3c/span\x3e\n                    \x3cspan class\x3d"c-igBrand_icon--dot"\x3e\x3c/span\x3e\n                \x3c/span\x3e\n            \x3c/section\x3e\n        \x3c/header\x3e\n        \x3cmain data-dojo-attach-point\x3d"contentContainer" class\x3d"overflow--hidden"\x3e\n            \x3cdiv class\x3d"position--relative overflow--hidden"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"carouselActions" class\x3d"c-igAdCarousel_actions flex hide"\x3e\n                    \x3cspan class\x3d"c-igAdCarousel_action" data-button-action\x3d"previous"\x3e\x3c/span\x3e\n                    \x3cspan class\x3d"c-igAdCarousel_action margin-left--auto" data-button-action\x3d"next"\x3e\x3c/span\x3e\n                \x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"contentImages" class\x3d"c-igAdImageContainer position--relative flex"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3csection class\x3d"c-igButtonContainer"\x3e\n                \x3cdiv class\x3d"c-igAdCta flex align-items--center"\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"contentButtons"\x3e\x3c/div\x3e\n                    \x3ci class\x3d"c-igBrand_icon c-igBrand_icon--chevron-right margin-left--auto"\x3e\x3c/i\x3e\n                \x3c/div\x3e\n            \x3c/section\x3e\n            \x3csection class\x3d"c-igAdIconActions"\x3e\n                \x3cdiv class\x3d"flex align-items--center position--relative"\x3e\n                    \x3cdiv class\x3d"flex"\x3e\n                        \x3ci class\x3d"c-igBrand_icon c-igBrand_icon--heart c-igBrand_icon--action"\x3e\x3c/i\x3e\n                        \x3ci class\x3d"c-igBrand_icon c-igBrand_icon--bubble c-igBrand_icon--action"\x3e\x3c/i\x3e\n                        \x3ci class\x3d"c-igBrand_icon c-igBrand_icon--send c-igBrand_icon--action"\x3e\x3c/i\x3e\n                    \x3c/div\x3e\n                    \x3ci class\x3d"c-igBrand_icon c-igBrand_icon--bookmark margin-left--auto"\x3e\x3c/i\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"carouselBullets" class\x3d"c-igAdCarousel_bullets flex"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/section\x3e\n            \x3csection class\x3d"c-igAdContents"\x3e\n                \x3cdiv class\x3d"c-igAdMessage"\x3e\n                    \x3cb class\x3d"c-igPage_handleName--secondary" data-dojo-attach-point\x3d"contentMessages"\x3e${page.instagramHandle}\x3c/b\x3e\n                    ${message}\n                \x3c/div\x3e\n            \x3c/section\x3e\n        \x3c/main\x3e\n    \x3c/div\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplImageContent"\x3e\n        \x3cdiv data-attachment-index\x3d"{index}" class\x3d"c-igAdAttachment_img" style\x3d"background-image: url({data.imageUrl})"\x3e\x3c/div\x3e\n    \x3c/script\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplImageSingle"\x3e\n        \x3cimg class\x3d"c-igAdAttachment_singleImg" src\x3d"{imageUrl}" alt\x3d"{name}"\x3e\n    \x3c/script\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplButtonContent"\x3e\n        \x3cdiv data-button-node\x3d"{index}" data-attachment-index\x3d"{index}" class\x3d"c-igAdButton {hiddenClass}"\x3e{callToActionButton}\x3c/div\x3e\n    \x3c/script\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplBulletNode"\x3e\n        \x3cspan data-bullet-node\x3d"{index}" class\x3d"c-igAdCarousel_bullet {selectedClass}"\x3e\x3c/span\x3e\n    \x3c/script\x3e\n\n    \x3cscript type\x3d"text/template" data-dojo-attach-point\x3d"tplTitleContent"\x3e\n        \x3cspan data-title-node\x3d"{index}" class\x3d"{hiddenClass}"\x3e{data.name} \x3cbr/\x3e\x3c/span\x3e\n    \x3c/script\x3e\n\x3c/div\x3e\n\n',
"url:mojo/widgets/ads/facebook/mobile-content/templates/MobileContentSlat.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"viewModeContainer" class\x3d"c-contentPreviewContainer text-align--center"\x3e\n        \x3cbutton data-dojo-attach-point\x3d"editActionButton" data-dojo-attach-event\x3d"click: _handleEditButtonPress" class\x3d"hide p1"\x3eEdit Content\x3c/button\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"editModeContainer"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"editContentContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"editActionBar" class\x3d"hide position--fixed bottom--0 right--0 left--0"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"toastContainer" class\x3d"position--relative zin-0 c-actionBarToaster padding--lv2" style\x3d"display: none"\x3eYour last changes were saved.\x3c/div\x3e\n        \x3cdiv class\x3d"border-top-light v-bg-base-gray position--relative zin-1"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"actionToolbarExit" class\x3d"selfclear padding--lv3 padding-top--lv2 padding-bottom--lv2"\x3e\n                \x3cbutton data-dojo-attach-event\x3d"click: _handleExitButtonPress" class\x3d"margin--lv0 p0 float--right"\x3eExit\x3c/button\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"actionToolbarSaveExit" class\x3d"selfclear padding--lv3 padding-top--lv2 padding-bottom--lv2" style\x3d"display: none"\x3e\n                \x3cbutton data-dojo-attach-event\x3d"click: _handleExitConfirmButtonPress" class\x3d"margin--lv0"\x3eExit\x3c/button\x3e\n                \x3cbutton data-dojo-attach-point\x3d"saveBtn" data-dojo-attach-event\x3d"click: _handleSaveButtonPress" class\x3d"margin--lv0 p1 float--right"\x3eSave\x3c/button\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/mobile-content/templates/UnsavedChangesDialog.html":'\x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n    \x3cbutton data-dojo-attach-event\x3d"click: _handleConfirmExitButtonPress"  class\x3d"button p2"\x3eExit and lose changes\x3c/button\x3e\n    \x3ca data-dojo-attach-event\x3d"click: onCancel" href\x3d"#"\x3eCancel\x3c/a\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/ads/mobile-checklist/templates/TermsOfServiceSlat.html":'\x3cdiv\x3e\n    \x3ch2 class\x3d"margin-bottom--lv2"\x3eAd Campaign Terms of Use\x3c/h2\x3e\n    \x3cdiv data-dojo-attach-point\x3d"tosContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-budget/templates/ExtendBudgetSlat.html":'\x3cdiv\x3e\n    \x3c!-- Additional budget heading + input --\x3e\n    \x3cdiv class\x3d"flex flex-direction--column@tablet margin-bottom--lv2"\x3e\n\n        \x3c!--Flex Item--\x3e\n        \x3cdiv class\x3d"padding-right--lv3 padding--lv0@tablet"\x3e\n            \x3clabel for\x3d"${id}_budget"\x3eAdditional budget\x3c/label\x3e\n            \x3cdiv class\x3d"position--relative"\x3e\n                \x3cspan class\x3d"position--absolute c-currencyInput--symbol"\x3e${currencySymbol}\x3c/span\x3e\n                \x3cinput id\x3d"${id}_budget"\n                       data-dojo-attach-point\x3d"budget"\n                       name\x3d"budget"\n                       type\x3d"number"\n                       pattern\x3d"\\d*"\n                       maxlength\x3d"9"\n                       class\x3d"!width--auto c-currencyInput"\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3c!-- Extend duration heading + dropdown --\x3e\n        \x3c!--Flex Item--\x3e\n        \x3cdiv\x3e\n            \x3clabel for\x3d"${id}_duration"\x3eExtend duration\x3c/label\x3e\n            \x3cdiv class\x3d"flex"\x3e\n                \x3cselect data-dojo-attach-point\x3d"duration"\n                        name\x3d"duration"\n                        id\x3d"${id}_duration"\n                        class\x3d"!width--auto margin-bottom--lv2"\x3e\n                    \x3coption value\x3d""\x3eDon\'t extend\x3c/option\x3e\n                    \x3coption value\x3d"one_week"\x3eOne week\x3c/option\x3e\n                    \x3coption value\x3d"two_weeks"\x3eTwo weeks\x3c/option\x3e\n                    \x3coption value\x3d"one_month"\x3eOne month\x3c/option\x3e\n                    \x3coption value\x3d"date"\x3eSpecific end date\x3c/option\x3e\n                \x3c/select\x3e\n                \x3cp data-dojo-attach-point\x3d"projectedTime" class\x3d"small-meta white-space--nowrap margin--lv3 margin-top-bottom--lv0"\x3e\x3c/p\x3e\n            \x3c/div\x3e\n            \x3cdiv data-mc-name\x3d"end_date_chooser" data-dojo-attach-point\x3d"dateChooser" class\x3d"hide flex align-items--center margin-bottom--lv2"\x3e\n                \x3clabel for\x3d"${id}_end_date" class\x3d"v-visuallyHidden"\x3eEnd date\x3c/label\x3e\n                \x3cinput data-dojo-attach-point\x3d"endDatePicker"\n                       id\x3d"${id}_end_date"\n                       class\x3d"!margin-bottom--lv0 !width--auto"\n                       type\x3d"text"\n                       data-dojo-type\x3d"dijit/form/DateTextBox"\n                       constraints\x3d"{ datePattern:\'MMM d, yyyy\'}"\n                       name\x3d"${id}_end_date"\x3e\n                \x3cspan class\x3d"inline-block margin--lv2 !margin-top-bottom--lv0"\x3eat\x3c/span\x3e\n\n                \x3clabel for\x3d"${id}_end_hour" class\x3d"v-visuallyHidden"\x3eEnd hour\x3c/label\x3e\n                \x3cselect data-dojo-attach-point\x3d"endHour"\n                        id\x3d"${id}_end_hour"\n                        name\x3d"${id}_end_time"\n                        class\x3d"select-small margin--lv3 !margin-top-bottom--lv0 !margin-left--lv0 !width--auto"\x3e\x3c/select\x3e\n\n                \x3cp class\x3d"v-visuallyHidden" id\x3d"${id}_meridianLabel"\x3eSelect A.M. or P.M.\x3c/p\x3e\n                \x3cdiv role\x3d"radiogroup" class\x3d"flex"\x3e\n                    \x3cinput data-dojo-attach-point\x3d"endAM" type\x3d"radio"\n                           aria-labelledby\x3d"${id}_meridianLabel"\n                           name\x3d"${id}_end_time_meridian"\n                           id\x3d"${id}_end_am"\n                           value\x3d"am"\n                           class\x3d"v-visuallyHidden v-buttonGroupControl"\x3e\n                    \x3clabel for\x3d"${id}_end_am" class\x3d"v-buttonGroupLabel"\x3eam\x3c/label\x3e\n                    \x3cinput data-dojo-attach-point\x3d"endPM" type\x3d"radio"\n                           aria-labelledby\x3d"${id}_meridianLabel"\n                           name\x3d"${id}_end_time_meridian"\n                           id\x3d"${id}_end_pm"\n                           value\x3d"pm"\n                           class\x3d"v-visuallyHidden v-buttonGroupControl"\x3e\n                    \x3clabel for\x3d"${id}_end_pm" class\x3d"v-buttonGroupLabel"\x3epm\x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!--Error container--\x3e\n    \x3cdiv data-dojo-attach-point\x3d"errorMessage"\x3e\x3c/div\x3e\n\n    \x3c!--Action pane--\x3e\n    \x3cbutton data-dojo-attach-point\x3d"continue" class\x3d"button p0"\x3eContinue\x3c/button\x3e\n    \x3ca href\x3d"#0" data-mc-action\x3d"view" data-mc-slat\x3d"budget"\x3eCancel\x3c/a\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/ads/facebook/edit-connect/templates/ViewConnectSlat.html":'\x3cdiv\x3e\n    \x3cp data-dojo-attach-point\x3d"description" class\x3d"margin-bottom--lv4"\x3e\x3c/p\x3e\n    \x3cdiv data-dojo-attach-point\x3d"channelItems" class\x3d"flex justify-content--space-between flex-col-tablet"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/widgets/ads/checklist/status-bar/templates/AdStatusBarActions.html":'\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"flex flex-center flex-grow-1 justify-content--space-between"\x3e\n    \x3c!-- Link - Finish later --\x3e\n    \x3cp data-dojo-attach-point\x3d"finishLater" class\x3d"hide small-meta nowrap text-align--center white-space--nowrap flex-grow-none margin--lv3 margin-top-bottom--lv0 margin-left--lv0 nomargin-small"\x3e\n        \x3ca href\x3d"${rootUrl}campaigns"\x3eFinish later\x3c/a\x3e\n    \x3c/p\x3e\n\n    \x3c!-- Link - Replicate ad --\x3e\n    \x3ca data-dojo-attach-point\x3d"replicateAd" href\x3d"${ad.replicateLink}" class\x3d"hide button flex-grow-none margin--lv0@phone" title\x3d"Replicate Ad"\x3eReplicate Ad\x3c/a\x3e\n\n    \x3c!-- Button - Combo --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"combo" class\x3d"hide display--table"\x3e\n        \x3cdiv class\x3d"button-small margin--lv0@phone" data-dojo-type\x3d"dijit/form/ComboButton"\x3e\n            \x3cspan\x3e\x3ca data-dojo-attach-point\x3d"comboPauseAd" href\x3d"#" data-mc-el\x3d"pauseAd" title\x3d"Pause Ad${isPlural}"\x3ePause Ad${isPlural}\x3c/a\x3e\x3c/span\x3e\n            \x3cdiv class\x3d"mc-dropdown" data-dojo-type\x3d"dijit/DropDownMenu"\x3e\n                \x3cdiv\x3e\n                    \x3ca data-dojo-attach-point\x3d"comboEndAd" href\x3d"#" data-mc-el\x3d"cancelAd" title\x3d"End Ad"\x3eEnd Ad\x3c/a\x3e\n                \x3c/div\x3e\n                \x3cdiv\x3e\n                    \x3ca data-dojo-attach-point\x3d"comboReplicateAd" href\x3d"${ad.replicateLink}" title\x3d"Replicate Ad"\x3eReplicate Ad\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- Button - Submit/Resubmit ad/s --\x3e\n    \x3cbutton data-dojo-attach-point\x3d"submitAd" data-mc-el\x3d"submitAd" class\x3d"hide button p1 flex-grow-none margin-left--auto !margin-right--lv0" title\x3d"Submit Ad"\x3eSubmit Ad\x3c/button\x3e\n\n    \x3c!-- Button - Resume ad/s --\x3e\n    \x3cbutton data-dojo-attach-point\x3d"resumeAd" data-mc-el\x3d"resumeAd" class\x3d"hide button p1 flex-grow-none margin-left--auto !margin-right--lv0" title\x3d"Resume Ad"\x3eResume Ad\x3c/button\x3e\n\n    \x3c!-- Button - End ad/s --\x3e\n    \x3cbutton data-dojo-attach-point\x3d"endAd" data-mc-el\x3d"cancelAd" class\x3d"hide button p2 flex-grow-none margin-left--auto !margin-right--lv0" title\x3d"End Ad"\x3eEnd Ad\x3c/button\x3e\n\n    \x3c!-- Button - View report --\x3e\n    \x3ca data-dojo-attach-point\x3d"viewReport" href\x3d"${rootUrl}reports/ads/summary?id\x3d${ad.uniqueId}" class\x3d"hide button p0 flex-grow-none margin-left--auto !margin-right--lv0" title\x3d"View Report"\x3eView Report\x3c/a\x3e\n\x3c/div\x3e',
"url:mojo/widgets/account/connected-sites/templates/MCJsTermsDialog.html":'\x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n    \x3cp\x3eWe\u2019ve updated our \x3ca href\x3d"https://mailchimp.com/legal/additional-terms/" target\x3d"_blank"\x3eterms of use\x3c/a\x3e for Connected Sites. To keep using Google remarketing ads, product retargeting emails, or pop-up forms on your connected site, please accept these additional terms by May 16.\x3c/p\x3e\n    \x3cp\x3eIf you click \u201cDon\u2019t accept terms,\u201d any Google remarketing ads or product retargeting emails will be paused and any pop-up forms on your connected site will be removed.\x3c/p\x3e\n    \x3cp\x3eIf you do nothing by May 16, any Google remarketing ads or product retargeting emails will be paused until you accept. You may continue using pop-up forms after May 16, but you\u2019ll still need to reactivate any paused Google remarketing ads or product retargeting emails.\x3c/p\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-type\x3d"dijit/form/Button" type\x3d"button" data-dojo-attach-point\x3d"acceptButton"\x3eAccept Terms\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"declineButton"\x3eDon\u2019t accept terms\x3c/a\x3e\n        \x3cp class\x3d"inline-block small-meta"\x3e(This option will pause any applicable features.)\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/account/connected-sites/templates/MCJsPausedPopups.html":'\x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n    \x3cp\x3eWe\u2019ve updated our \x3ca href\x3d"https://mailchimp.com/legal/additional-terms/" target\x3d"_blank"\x3eterms of use\x3c/a\x3e for Connected Sites. Our records indicate that your connected site has a pop-up form installed, but you haven\u2019t accepted our new terms yet.\x3c/p\x3e\n    \x3cp\x3eThe new terms are now in effect, so your continued use of MailChimp pop-up forms is now subject to the terms. You can \x3ca href\x3d"https://kb.mailchimp.com/lists/signup-forms/add-a-pop-up-signup-form-to-your-website#Remove-the-Form" target\x3d"_blank"\x3eremove pop-up forms\x3c/a\x3e from your site at anytime.\x3c/p\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-type\x3d"dijit/form/Button" type\x3d"button" data-dojo-attach-point\x3d"acceptButton"\x3eAccept Terms\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/account/connected-sites/templates/PlatformsList.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"select-platform-grid" data-dojo-attach-point\x3d"sectionContainerNode"\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"hide display--none width--100 no-results" data-dojo-attach-point\x3d"noResultsContainerNode"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"noDataBlockNode"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',"url:mojo/widgets/account/connected-sites/templates/PlatformsListItem.html":'\x3cdiv class\x3d"select-platform-grid-item padding-left--lv1 padding-right--lv1"\x3e\n    \x3cimg class\x3d"margin-bottom--lv1" data-dojo-attach-point\x3d"platformImage" /\x3e\n    \x3cspan data-dojo-attach-point\x3d"platformName"\x3e\x3c/span\x3e\n\x3c/div\x3e',
"url:mojo/widgets/account/connected-sites/templates/StoreSelectionManager.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"lastUnit size1of1 header"\x3e\n        \x3ch1\x3eConnected Sites\x3c/h1\x3e\n        \x3cp\x3e\n            Connect MailChimp to an e-commerce store or website platform to access more advanced marketing tools.\n        \x3c/p\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"line"\x3e\n        \x3cdiv class\x3d"unit size1of3"\x3e\n            \x3cdiv class\x3d"margin-bottom--lv4"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"filteredSearchNode" class\x3d"margin-bottom--lv2"\x3e\x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"filterListNode"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"unit size2of3"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"platformsListNode"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/account/connected-sites/instructions/templates/BeforeYouStart.html":'\x3cdiv class\x3d"margin-bottom--lv6"\x3e\n    \x3ch5 class\x3d"margin-bottom--lv1"\x3eBefore you start\x3c/h5\x3e\n    \x3cul class\x3d"disc margin-bottom--lv1 instructions-list" data-dojo-attach-point\x3d"beforeListNode"\x3e\x3c/ul\x3e\n    \x3ca class\x3d"fwb display--none" href\x3d"javascript:;" data-dojo-attach-point\x3d"toggleMoreNode"\x3eMore\n        \x3cspan class\x3d"freddicon menu-down"\x3e\x3c/span\x3e\n    \x3c/a\x3e\n\x3c/div\x3e',
"url:mojo/widgets/account/connected-sites/instructions/templates/FeaturesList.html":'\x3cdiv class\x3d"margin-bottom--lv6"\x3e\n  \x3ch5 class\x3d"margin-bottom--lv1"\x3eFeatures\x3c/h5\x3e\n  \x3cul data-dojo-attach-point\x3d"featuresListNode"\x3e\x3c/ul\x3e\n\x3c/div\x3e',"url:mojo/widgets/account/connected-sites/instructions/templates/HelpLinks.html":'\x3cdiv class\x3d"margin-bottom--lv6"\x3e\n  \x3ch5 class\x3d"margin-bottom--lv1"\x3eNeed help?\x3c/h5\x3e\n  \x3cul data-dojo-attach-point\x3d"helpLinksNode"\x3e\x3c/ul\x3e\n\x3c/div\x3e',
"url:mojo/widgets/account/connected-sites/instructions/templates/ConnectionDetails.html":'\x3cdiv class\x3d"instructions-page-title-section margin-bottom--lv6"\x3e\n  \x3cdiv class\x3d"logo border-gray"\x3e\n    \x3cimg data-dojo-attach-point\x3d"logoNode" src\x3d"" alt\x3d"" /\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"text-section"\x3e\n    \x3cdiv class\x3d"title"\x3e\n      \x3ch2 class\x3d"margin-bottom--lv1 margin-right--lv3" data-dojo-attach-point\x3d"titleNode"\x3e\x3c/h2\x3e\n      \x3cspan data-dojo-attach-point\x3d"inProgressNode" class\x3d"badge display--none"\x3eIn-progress\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cp data-dojo-attach-point\x3d"descriptionNode"\x3e\x3c/p\x3e\n    \x3cp class\x3d"margin-bottom--lv3" data-dojo-attach-point\x3d"termsNode"\x3eBy clicking Connect, you agree to our\n      \x3ca href\x3d"https://mailchimp.com/legal/additional-terms" target\x3d"_blank"\x3eadditional terms\x3c/a\x3e.\x3c/p\x3e\n\n    \x3ca data-dojo-attach-point\x3d"connectButtonNode" href\x3d"" target\x3d"_blank" class\x3d"button p1" role\x3d"button"\x3eConnect\x3c/a\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/account/connected-sites/instructions/templates/InstallationSteps.html":'\x3cdiv class\x3d"margin-bottom--lv6"\x3e\n    \x3ch5 class\x3d"margin-bottom--lv1"\x3eInstallation steps\x3c/h5\x3e\n    \x3cul class\x3d"disc margin-bottom--lv1 instructions-list" data-dojo-attach-point\x3d"stepsListNode"\x3e\x3c/ul\x3e\n    \x3ca class\x3d"fwb display--none" href\x3d"javascript:;" data-dojo-attach-point\x3d"toggleMoreNode"\x3eMore\n        \x3cspan class\x3d"freddicon menu-down"\x3e\x3c/span\x3e\n    \x3c/a\x3e\n\x3c/div\x3e',
"url:mojo/widgets/account/connected-sites/instructions/templates/InstallDifficulty.html":'\x3cdiv class\x3d"margin-bottom--lv6"\x3e\n    \x3ch5 class\x3d"margin-bottom--lv1"\x3e\n        Level of difficulty -\n        \x3cspan data-dojo-attach-point\x3d"levelNode"\x3e\x3c/span\x3e\n    \x3c/h5\x3e\n    \x3cp data-dojo-attach-point\x3d"descriptionNode"\x3e\x3c/p\x3e\n\x3c/div\x3e',"url:mojo/widgets/account/connected-sites/instructions/templates/InstallationImages.html":'\x3cdiv class\x3d"margin-bottom--lv6 instructions-install-images"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"largeImageConainterNode" class\x3d"large-install-image"\x3e\n        \x3cimg data-dojo-attach-point\x3d\'largeImageNode\' alt\x3d"" /\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"thumbnailContainerNode" class\x3d"install-thumbnail-container"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/widgets/account/connected-sites/instructions/templates/ManualConnection.html":'\x3cdiv\x3e\n    \x3ch4 class\x3d"margin-bottom--lv2"\x3eGet custom website code\x3c/h4\x3e\n    \x3cdiv data-dojo-attach-point\x3d"getCodeFormNode"\x3e\n        \x3cform class\x3d"margin-bottom--lv4"\x3e\n            \x3cfieldset\x3e\n                \x3cdiv class\x3d"field-wrapper"\x3e\n                    \x3clabel\x3eEnter site URL\x3c/label\x3e\n                    \x3cinput type\x3d"text" placeholder\x3d"Site URL" class\x3d"av-text" data-dojo-attach-point\x3d"urlInputNode"\x3e\n                    \x3cdiv class\x3d"field-help always-show" data-dojo-attach-point\x3d"urlFeedbackNode"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cfieldset\x3e\n\n                \x3cdiv class\x3d"field-wrapper form-inline"\x3e\n                    \x3clabel\x3eSelect list to connect\x3c/label\x3e\n                    \x3cp class\x3d"display--none" data-dojo-attach-point\x3d"createListNode"\x3e\n                        \x3ca href\x3d"/lists/"\x3eCreate a list\x3c/a\x3e\n                    \x3c/p\x3e\n                \x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"listSelectNode"\x3e\x3c/div\x3e\n            \x3c/fieldset\x3e\n\n            \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"getCodeNode"\x3eGet code\x3c/button\x3e\n        \x3c/form\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"displayCodeNode" class\x3d"display--none margin-bottom--lv4"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"copyCodeNode" class\x3d"instructions-manual-code-snippet"\x3e\n            \x3cpre data-dojo-attach-point\x3d"codeSectionNode" class\x3d"full-width word-wrap--break-all padding--lv0"\x3e\x3c/pre\x3e\n            \x3cspan class\x3d"instructions-manual-code-copy fwb small-meta"\x3e\x3cspan class\x3d"freddicon copy margin-right--lv1"\x3e\x3c/span\x3eCopy\x3c/span\x3e\n        \x3c/div\x3e\n        \x3cp class\x3d"margin-bottom--lv5"\x3eCopy the code and paste it in your website\'s HTML. By pasting our code to your site, you agree to our\n            \x3ca href\x3d"https://mailchimp.com/legal/additional-terms" target\x3d"_blank"\x3eadditional terms\x3c/a\x3e.\x3c/p\x3e\n        \x3cbutton data-dojo-attach-point\x3d"checkConnectionNode" class\x3d"button p0"\x3eCheck Connection\x3c/button\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"errorMessageNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/widgets/account/connected-sites/instructions/templates/AppInstructionsManager.html":'\x3cdiv\x3e\n  \x3cdiv class\x3d"lastUnit size1of1 header"\x3e\n    \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"backLinkNode"\x3e\n      \x3cspan class\x3d"freddicon menu-left"\x3e\x3c/span\x3e\x26nbsp;Connected Sites\x3c/a\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"unit size2of3" data-dojo-attach-point\x3d"leftContainerNode"\x3e\x3c/div\x3e\n  \x3cdiv class\x3d"unit size1of3" data-dojo-attach-point\x3d"rightContainerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/app/templates/avatar.html":'\x3cdiv class\x3d"line section"\x3e\n    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3ch3\x3eProfile photo\x3c/h3\x3e\n        \x3cdiv class\x3d"media"\x3e\n            \x3cfieldset class\x3d"media-image margin--lv3 !margin-top-bottom--lv0 !margin-left--lv0"\x3e\n                \x3cdiv class\x3d"img-overlay inline-block-i" data-dojo-attach-point\x3d"avatar"\x3e\n                    \x3ca title\x3d"Edit Photo" class\x3d"edit-img" href\x3d"javascript:;" data-dojo-attach-point\x3d"editBtn" data-dojo-attach-event\x3d"onclick:_loadAviary"\x3e\x3cspan class\x3d"freddicon edit"\x3e\x3c/span\x3e\x3c/a\x3e\n                    \x3cdiv id\x3d"uploader-status" class\x3d"loader hide" data-dojo-attach-point\x3d"uploadingStatus"\x3e\n                        \x3cimg class\x3d"pulse" src\x3d"/css/icons/pulse.gif"\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cdiv class\x3d"media-body"\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eUpload your photo \x26hellip;\x3c/h4\x3e\n                \x3cp\x3e\n                    Photo should be at least 300px \x26times; 300px \n                    \x3cspan data-dojo-attach-point\x3d"removePhotoContainer" class\x3d"hide"\x3e \x26bull; \x3ca data-dojo-attach-point\x3d"removePhoto" href\x3d"#"\x3eRemove current photo\x3c/a\x3e\x3c/span\x3e\n                \x3c/p\x3e\n                \x3cform method\x3d"post" data-dojo-attach-point\x3d"avatarForm" enctype\x3d"multipart/form-data" \x3e\n                    \x3cinput class\x3d"button button-small p0 !margin-bottom--lv2" name\x3d"avatar" multiple\x3d"false" type\x3d"file" data-dojo-type\x3d"dojox/form/Uploader" label\x3d"Upload Photo" id\x3d"uploader" uploadOnSelect\x3d"true" data-dojo-attach-point\x3d"uploader"/\x3e\n                    \x3cbutton data-dojo-attach-point\x3d"takePictureButton" class\x3d"button button-small hide !margin-bottom--lv2"\x3eTake a Photo!\x3c/button\x3e\n                \x3c/form\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"cameraContainer" class\x3d"take-picture-modal relative hide"\x3e\n        \x3cdiv class\x3d"video-container line"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"loadingContainer" class\x3d"alignc" style\x3d"height:480px;width:480px;"\x3e\n                \x3ch2 class\x3d"section"\x3eWaiting for permission to access your webcam...\x3c/h2\x3e\n                \x3cimg class\x3d"pulse section" src\x3d"/css/icons/pulse-dark.gif"\x3e\n                \x3cp\x3eYou \x3cem\x3edo\x3c/em\x3e have a webcam, right?\x3c/p\x3e\n            \x3c/div\x3e\n            \x3cvideo data-dojo-attach-point\x3d"video" width\x3d"640" height\x3d"480" autoplay\x3e\x3c/video\x3e\n            \x3ccanvas data-dojo-attach-point\x3d"canvas" width\x3d"480" height\x3d"480" class\x3d"hide"\x3e\x3c/canvas\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"save-cancel-group absolute alignc"\x3e\n            \x3cbutton class\x3d"button p0 hide" data-dojo-attach-point\x3d"savePicture"\x3eSave\x3c/button\x3e\n            \x3cbutton class\x3d"button hide" data-dojo-attach-point\x3d"retakePicture"\x3eRetake\x3c/button\x3e\n            \x3cbutton class\x3d"button p0 hide" data-dojo-attach-point\x3d"snap"\x3eSnap!\x3c/button\x3e\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelPicture"\x3eCancel\x3c/a\x3e\n            \x3ch4 data-dojo-attach-point\x3d"savingIndicator" class\x3d"hide"\x3eLookin\' good! Saving...\n                \x3cimg class\x3d"pulse" src\x3d"/css/icons/pulse-dark.gif"\x3e\n            \x3c/h4\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n\n',
"url:mojo/app/mvt/templates/contentLinkStats.html":'\x3cdiv\x3e\n    \x3ch4 class\x3d"!margin--lv0 selfclear" data-dojo-attach-point\x3d"header"\x3e\x3c/h4\x3e\n    \x3cp class\x3d"selfclear"\x3e\n        \x3cspan data-dojo-attach-point\x3d"leftDetails" class\x3d"overflow-ellipsis dim-el small-meta float-left" style\x3d"width: 65%"\x3e\x3c/span\x3e\n\n        \x3cspan class\x3d"small-meta float-right"\x3e\n            \x3cspan data-dojo-attach-point\x3d"rightDetails" class\x3d"fwb"\x3e\x3c/span\x3e\n            \x3cspan class\x3d"dim-el"\x3eAverage click rate\x3c/span\x3e\n        \x3c/span\x3e\n    \x3c/p\x3e\n    \x3cul class\x3d"dotted-list topborder" data-dojo-attach-point\x3d"comboList"\x3e\x3c/ul\x3e\n\x3c/div\x3e',
"url:mojo/analytics/templates/noDataCT.html":'\x3cdiv class\x3d"line section"\x3e\n    \x3cdiv class\x3d"lastUnit size1of1"\x3e\n        \x3cdiv class\x3d"c-noDataBlock text-align--center border-gray border-radius--lv2"\x3e\n            \x3cdiv class\x3d"c-noDataBlock_icon" style\x3d"background-image: url(/css/icons/no-data/empty-general.svg)"\x3e\x3c/div\x3e\n            \x3ch2 class\x3d"c-noDataBlock_title"\x3eGoose egg\x3c/h2\x3e\n            \x3cp class\x3d"c-noDataBlock_message"\x3eNo contacts match your selection.\x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/app/lists/templates/segmentBar.html":'\x3cdiv class\x3d"st-segment-bar selfclear"\x3e\n    \x3cdiv class\x3d"left-nav float-left nofloat-small selfclear" data-dojo-attach-point\x3d"leftNavContainer"\x3e\n        \x3cdiv class\x3d"bar-button padding--lv3 float-left" data-dojo-attach-point\x3d"segmentsBtn"\x3e\n            View Saved Segments\n            \x3cspan class\x3d"freddicon menu-down"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"btnContainer" class\x3d"float-left"\x3e\n            \x3cdiv class\x3d"bar-button secondary float-left selfclear hide" aria-label\x3d"Filter subscriber table" data-dojo-attach-point\x3d"subscriberFilterContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"float-left bar-button padding--lv3" data-dojo-attach-point\x3d"createAction"\x3eCreate A Segment\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"status-container float-left fwb padding--lv3"\x3e\n        \x3cspan class\x3d"bar-status"\x3e\n            \x3cspan class\x3d"circular-loader hide" data-dojo-attach-point\x3d"loadIcon" data-dojo-type\x3d"mojo/widgets/CircularLoader"\n                  data-dojo-props\x3d"loaderSize:18, strokeWidth: 3, color:\'#6dc5dc\', bgColor:\'#484848\'"\x3e\x3c/span\x3e\n\n            \x3cspan data-dojo-attach-point\x3d"errorIcon" class\x3d"freddicon not-allowed-color margin--lv1 !margin-top-bottom--lv0 !margin-left--lv0 hide"\x3e\x3c/span\x3e\n            \x3cspan data-dojo-attach-point\x3d"successIcon" class\x3d"freddicon tick-circle-color margin--lv1 !margin-top-bottom--lv0 !margin-left--lv0 hide"\x3e\x3c/span\x3e\n        \x3c/span\x3e\n\n        \x3cspan data-dojo-attach-point\x3d"statusMessage"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"right-nav float-right selfclear flex align-items--center"\x3e\n\n        \x3cdiv class\x3d"bar-button padding--lv3 hide" data-dojo-attach-point\x3d"viewAction"\x3eView Subscribers\x3c/div\x3e\n\n        \x3cdiv class\x3d"bar-button padding--lv3 hide" data-dojo-attach-point\x3d"saveAction"\x3eSave as segment\x3c/div\x3e\n\n        \x3cdiv class\x3d"bar-button padding--lv3 hide" data-dojo-attach-point\x3d"rerunAction"\x3eRerun\x3c/div\x3e\n\n        \x3cdiv class\x3d"bar-button padding--lv3 hide" data-dojo-attach-point\x3d"editAction"\x3eEdit\x3c/div\x3e\n\n        \x3cdiv class\x3d" bar-button" data-dojo-type\x3d"dijit/form/DropDownButton" data-dojo-attach-point\x3d"moreActions"\x3e\n            \x3cspan\x3eSend\x3c/span\x3e\n\n            \x3cdiv data-dojo-type\x3d"dijit/DropDownMenu"\x3e\n                \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"emailAction" data-dojo-attach-event\x3d"onClick:onSendAction"\x3eAn email campaign\x3c/div\x3e\n                \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"adAction" data-dojo-attach-event\x3d"onClick:onAdAction"\x3eA Facebook / Instagram ad\x3c/div\x3e\n                \x3cdiv data-dojo-type\x3d"dijit/MenuItem" data-dojo-attach-point\x3d"lookalikeAction" data-dojo-attach-event\x3d"onClick:onLookalikeAction"\x3eA Facebook / Instagram ad to similar contacts\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"float-right bar-button padding--lv3 hide" data-dojo-attach-point\x3d"closeAction"\x3e\n            \x3cspan class\x3d"freddicon cross-fill"\x3e\x3c/span\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',
"url:mojo/app/lists/templates/segmentDropDown.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/form/DropDownButton" data-dojo-attach-point\x3d"dropdown"\x3e\n        \x3cspan\x3eSegments\x3c/span\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/TooltipDialog" data-dojo-attach-point\x3d"segmentsMenu" class\x3d"mc-dijitMenu"\x3e\n            \x3ch4 class\x3d"title show-phone alignc full-width !margin--lv0"\x3eSegments\x3c/h4\x3e\n            \x3cul tabindex\x3d"0" class\x3d"popup-list height-normal relative" data-dojo-attach-point\x3d"segmentsList"\x3e\n                \x3cli data-dojo-attach-point\x3d"emptyMessage" class\x3d"empty-message noborder"\x3e\n                    \x3cdiv class\x3d"no-data alignc"\x3e\n                        \x3cimg class\x3d"icon" src\x3d"/css/icons/no-data/no-segment.svg" role\x3d"presentation"\x3e\n                        \x3ch4 class\x3d"!margin-bottom--lv0"\x3eYou have no saved segments.\x3c/h4\x3e\n                        \x3cp class\x3d"fwn"\x3eCreate segments to target subscribers by location, engagement, activity and more.\x3c/p\x3e\n                        \x3cp\x3e\x3ca href\x3d"http://kb.mailchimp.com/article/can-i-save-a-segment-of-my-list-in-the-list-area" target\x3d"_blank" class\x3d"!padding--lv0 inline-i"\x3eLearn more.\x3c/a\x3e\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/li\x3e\n            \x3c/ul\x3e\n\n            \x3cdiv class\x3d"cp-footer" data-dojo-attach-point\x3d"actionsContainer"\x3e\n                \x3cdiv class\x3d"line"\x3e\n                    \x3cdiv\x3e\n                        \x3ca tabindex\x3d"0" class\x3d"button-small p0 full-width full-height" href\x3d"#" data-dojo-attach-point\x3d"newBtn"\x3eNew Segment\x3c/a\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"close-popover show-phone cursor-pointer" data-dojo-attach-point\x3d"closeSegmentMenu"\x3e\n                \x3cdiv class\x3d"freddicon cross-fill"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/app/lists/templates/segmentListOverlay.html":'\x3cdiv class\x3d"border-gray full-height padding--lv2 !padding-left-right--lv0 !padding-bottom--lv0 overflow-auto hide"\x3e\n\n    \x3cdiv class\x3d"margin--lv4 !margin-top--lv0 !margin-bottom--lv5" data-dojo-attach-point\x3d"tabsContainer"\x3e\x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"tabSections"\x3e\x3c/div\x3e\n\x3c/div\x3e',"url:mojo/app/lists/templates/segmentListOverlay/pane.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"lastUnit size1of1 !padding--lv0 slats with-hover"\x3e\n\n        \x3cul data-dojo-attach-point\x3d"segmentList" class\x3d"!padding--lv0"\x3e\x3c/ul\x3e\n\n        \x3cdiv class\x3d"lastUnit size1of1 hide" data-dojo-attach-point\x3d"advancedNotPro"\x3e\n            \x3cdiv class\x3d"alignc padding--lv6 !margin-bottom--lv8"\x3e\n                \x3cimg src\x3d"/images/pro/freddie_pro.svg" alt\x3d"MailChimp logo" height\x3d"40" class\x3d"!margin-bottom--lv2"\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eAdvanced Segmentation\x3c/h4\x3e\n                \x3cp class\x3d"full-width"\x3eAdvanced Segmentation helps you send more effective campaigns \x3cbr\x3ethan ever before by creating highly targeted segments. \x3c/p\x3e\n\n                \x3ca mc:role\x3d"admin" class\x3d"button p0" href\x3d"/account/buy-mailchimp-pro"\x3eUpgrade To Pro\x3c/a\x3e\n                \x3ca href\x3d"http://kb.mailchimp.com/segments/about-advanced-segmentation" target\x3d"_blank"\x3eLearn more\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"lastUnit size1of1 hide" data-dojo-attach-point\x3d"advancedNoData"\x3e\n            \x3cdiv class\x3d"alignc padding--lv6 !margin-bottom--lv8" data-dojo-attach-point\x3d"advancedDataLoadingComplete"\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eYou haven\'t created any Advanced Segments.\x3c/h4\x3e\n                \x3cp class\x3d"full-width !margin--lv0"\x3eBuild a more complex segment for targeting subscribers\x3c/p\x3e\n                \x3cp class\x3d"full-width !margin-bottom--lv3"\x3e\x3ca href\x3d"http://kb.mailchimp.com/segments/about-advanced-segmentation" target\x3d"_blank"\x3eLearn more about Advanced Segmentation\x3c/a\x3e\x3c/p\x3e\n\n                \x3ca href\x3d"#" class\x3d"button p0" data-dojo-attach-event\x3d"onClick:createNewSegment"\x3eCreate An Advanced Segment\x3c/a\x3e\n            \x3c/div\x3e\n\n            \x3c!-- User import not complete --\x3e\n            \x3cdiv class\x3d"alignc padding--lv6 !margin-bottom--lv8" data-dojo-attach-point\x3d"advancedDataLoading"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"advancedDataLoadingLoader"\x3e\x3c/div\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eAdvanced Segments\x3c/h4\x3e\n                \x3cp class\x3d"full-width !margin--lv0"\x3eWe\'re currently importing your data. This could take a while for accounts with a lot of subscribers or campaigns. We\'ll send an email when that process is complete.\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"lastUnit size1of1 hide" data-dojo-attach-point\x3d"savedNoData"\x3e\n            \x3cdiv class\x3d"alignc padding--lv6 !margin-bottom--lv8"\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eYou haven\'t created any segments.\x3c/h4\x3e\n                \x3cp class\x3d"full-width !margin--lv0"\x3eCreate segments to target contacts by location, engagement, activity, and more.\x3c/p\x3e\n                \x3cp class\x3d"full-width !margin-bottom--lv3"\x3e\x3ca href\x3d"http://kb.mailchimp.com/segments/how-to-use-groups-and-segments" target\x3d"_blank"\x3eLearn more about segmentation\x3c/a\x3e\x3c/p\x3e\n\n                \x3ca href\x3d"#" class\x3d"button p0" data-dojo-attach-event\x3d"onClick:createNewSegment"\x3eCreate A Segment\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"lastUnit size1of1 hide" data-dojo-attach-point\x3d"staticNoData"\x3e\n            \x3cdiv class\x3d"alignc padding--lv6 !margin-bottom--lv8"\x3e\n                \x3ch4 class\x3d"!margin--lv0"\x3eYou haven\'t created any static segments.\x3c/h4\x3e\n                \x3cp class\x3d"full-width !margin-bottom--lv3"\x3e\x3ca href\x3d"#" data-mc-group\x3d"addStaticSegment" target\x3d"_blank"\x3eUpload a CSV or paste in a list of emails.\x3c/a\x3e\x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/app/lists/templates/segmentListOverlay/row.html":'\x3cli class\x3d"selfclear no-last-border"\x3e\n    \x3cdiv class\x3d"padding--lv4 !padding-top-bottom--lv0 no-unit-padding"\x3e\n        \x3cdiv class\x3d"unit size3of4"\x3e\n            \x3ch4 class\x3d"p fwb !margin--lv0"\x3e${segment.name}${segment.whitelist_name}\x3c/h4\x3e\n            \x3cp class\x3d"!margin--lv0 small-meta" data-dojo-attach-point\x3d"infoContainer"\x3e\x3c/p\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"meta-actions report lastUnit size1of4 alignr" data-dojo-attach-point\x3d"actionsContainer"\x3e\n            \x3ca href\x3d"#" class\x3d"button" data-dojo-attach-point\x3d"deleteAction"\x3eDelete\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/app/campaigns/templates/recipientCountBar.html":'\x3cdiv class\x3d"c-recipientCountBar margin-bottom--lv3 valign-middle"\x3e\n    \x3cspan data-dojo-attach-point\x3d"loadingNode" class\x3d"c-recipientCountBar_circularLoader hide inline-block valign-middle padding--lv1 padding-top--lv0 padding-bottom--lv0 padding-left--lv0" data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:20, strokeWidth: 3,"\x3e\x3c/span\x3e\n\n    \x3cspan data-dojo-attach-point\x3d"countNode" class\x3d"fwb valign-middle"\x3e0\x3c/span\x3e\n\n    \x3cspan data-dojo-attach-point\x3d"copyNode" class\x3d"valign-middle margin--lv3 margin-top-bottom--lv0 margin-left--lv0"\x3erecipients. Everyone in your list will receive this email.\x3c/span\x3e\n    \x3cbutton data-dojo-attach-point\x3d"updateBtn" type\x3d"button"\x3eUpdate Recipient Count\x3c/button\x3e\n\x3c/div\x3e\n',
"url:mojo/app/campaigns/templates/fixedRecipientCountBar.html":'\x3cdiv class\x3d"c-contextualScrollRow c-recipientCountBar fixed zin-lv2 pos-lr0 bg-white border-bottom-light invisible valign-middle"\x3e\n    \x3cspan data-dojo-attach-point\x3d"loadingNode" class\x3d"c-recipientCountBar_circularLoader hide inline-block valign-middle padding--lv1 padding-top--lv0 padding-bottom--lv0 padding-left--lv0" data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:20, strokeWidth: 3,"\x3e\x3c/span\x3e\n\n    \x3cspan data-dojo-attach-point\x3d"countNode" class\x3d"fwb valign-middle"\x3e0\x3c/span\x3e\n\n    \x3cspan data-dojo-attach-point\x3d"copyNode" class\x3d"valign-middle margin--lv3 margin-top-bottom--lv0 margin-left--lv0"\x3erecipients. Everyone in your list will receive this email.\x3c/span\x3e\n    \x3cbutton data-dojo-attach-point\x3d"updateBtn" type\x3d"button"\x3eUpdate Recipient Count\x3c/button\x3e\n\x3c/div\x3e\n',
"url:mojo/views/reports/postcards/summary/StatusTimeline.html":'\x3cdiv class\x3d"c-statusTimeline" data-dojo-attach-point\x3d"timelineContainer"\x3e\x3c/div\x3e',"url:mojo/views/reports/postcards/summary/StatusTimelineItem.html":'\x3cdiv class\x3d"c-statusTimelineNode{classes}"\x3e\n    \x3cdiv class\x3d"c-statusTimelineNode_ordinal"\x3e{ordinal}\x3c/div\x3e\n    \x3cdiv class\x3d"c-statusTimelineNode_title"\x3e{title}\x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/segmentation/templates/segment.html":'\x3cdiv class\x3d"adv-segmentation"\x3e\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"loaderContainer"\x3e\n        \x3cdiv class\x3d"margin--lv8"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"loaderDom" class\x3d"alignc padding--lv6"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"hide" data-dojo-attach-point\x3d"segmentContainer"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"mainGroupDom"\x3e\x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"subGroupsContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"action-row fwb border-top-light"\x3e\n            \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"addSubGroupBtn"\x3e\n                \x3cspan class\x3d"freddicon add-circle"\x3e\x3c/span\x3e Add group\n            \x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/segmentation/templates/group.html":'\x3cdiv class\x3d"edit-mode"\x3e\n\n    \x3cdiv class\x3d"padding--lv3 !padding-bottom--lv0"\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"unit size3of4 !padding-left--lv0"\x3e\n\n                Find subscribers that match\n\n                \x3cdiv class\x3d"inline-block padding--lv1 !padding-top-bottom--lv0 valign-middle"\x3e\n                    \x3cselect maxHeight\x3d"-1" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"matchOpSelect" class\x3d"match-op-input !margin--lv0"\x3e\n                        \x3coption value\x3d"any"\x3eany\x3c/option\x3e\n                        \x3coption selected value\x3d"all"\x3eall\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                of the following conditions:\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"lastUnit size1of4 alignr !padding-right--lv0 hide" data-dojo-attach-point\x3d"removeAllContainer"\x3e\n                \x3cp class\x3d"small-meta fwb"\x3e\n                    \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"removeAllBtn"\x3eRemove all\x3c/a\x3e\n                \x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"conditionList"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"action-row fwb"\x3e\n        \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"addConditionBtn"\x3e\n            \x3cspan class\x3d"freddicon add-circle"\x3e\x3c/span\x3e Add\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/segmentation/templates/nestedConditionRow.html":'\x3cli\x3e\n    \x3cdiv data-dojo-attach-point\x3d"editContainer" class\x3d"flex-container full-width"\x3e\n        \x3cdiv class\x3d"condition-block segment-field"\x3e\n            \x3cdiv class\x3d"view-mode-label condition-value"\x3e${fieldConfig.label}\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"condition-block segment-op" data-dojo-attach-point\x3d"opSelectContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"condition-block segment-value !margin-right--lv0" data-dojo-attach-point\x3d"valueContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"viewContainer" class\x3d"flex-container full-width"\x3e\n\n        \x3cdiv class\x3d"condition-block segment-field"\x3e\n            \x3cdiv class\x3d"view-mode-label"\x3e${fieldConfig.label}\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"condition-block segment-op"\x3e\n            \x3cdiv class\x3d"view-mode-label" data-dojo-attach-point\x3d"opLabel"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"condition-block segment-value !margin-right--lv0" data-dojo-attach-point\x3d"valueLabelContainer"\x3e\n            \x3cdiv class\x3d"view-mode-label full-width wordwrap" data-dojo-attach-point\x3d"valueLabel"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/segmentation/templates/conditionRow.html":'\x3cdiv class\x3d"condition-row"\x3e\n\n    \x3cdiv class\x3d"relative"\x3e\n        \x3cdiv class\x3d"remove-row"\x3e\n            \x3ca href\x3d"#" data-dojo-attach-point\x3d"removeBtn" title\x3d"Remove row"\x3e\x3cspan class\x3d"freddicon remove-circle"\x3e\x3c/span\x3e\x3c/a\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"full-width padding--lv5 !padding-top-bottom--lv0 !padding-right--lv0"\x3e\n            \x3cdiv class\x3d"flex-container selfclear hide" data-dojo-attach-point\x3d"editContainer"\x3e\n                \x3cdiv class\x3d"condition-block segment-field" data-dojo-attach-point\x3d"fieldSelectContainer"\x3e\x3c/div\x3e\n\n                \x3cdiv class\x3d"condition-block segment-op" data-dojo-attach-point\x3d"opSelectContainer"\x3e\x3c/div\x3e\n\n                \x3cdiv class\x3d"condition-block segment-value !margin-right--lv0" data-dojo-attach-point\x3d"valueContainer" data-mojo-container\x3d"regular"\x3e\x3c/div\x3e\n\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"flex-container selfclear hide" data-dojo-attach-point\x3d"viewContainer"\x3e\n                \x3cdiv class\x3d"condition-block segment-field"\x3e\n                    \x3cdiv class\x3d"view-mode-label" data-dojo-attach-point\x3d"fieldLabel"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"condition-block segment-op"\x3e\n                    \x3cdiv class\x3d"view-mode-label" data-dojo-attach-point\x3d"opLabel"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"condition-block segment-value !margin-right--lv0" data-dojo-attach-point\x3d"valueLabelContainer" data-mojo-container\x3d"regular"\x3e\n                    \x3cdiv class\x3d"view-mode-label full-width wordwrap" data-dojo-attach-point\x3d"valueLabel"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cul class\x3d"nested-conditions selfclear padding--lv5 !padding-top-bottom--lv0 !padding-right--lv0" data-dojo-attach-point\x3d"nestedConditionsContainer"\x3e\x3c/ul\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/segmentation/templates/subgroup.html":'\x3cdiv class\x3d"nested-group edit-mode"\x3e\n\n    \x3cdiv class\x3d"padding--lv3 !padding-bottom--lv0"\x3e\n        \x3cdiv class\x3d"line"\x3e\n            \x3cdiv class\x3d"unit size3of4 !padding-left--lv0"\x3e\n                \x3cdiv class\x3d"inline-block padding--lv1 !padding-top-bottom--lv0 !padding-left--lv0 valign-middle"\x3e\n                    \x3cselect maxHeight\x3d"-1" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"matchOpSelect" class\x3d"match-op-input !margin--lv0"\x3e\n                        \x3coption value\x3d"any"\x3eany\x3c/option\x3e\n                        \x3coption selected value\x3d"all"\x3eall\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                of the following conditions:\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"lastUnit size1of4 alignr !padding-right--lv0" data-dojo-attach-point\x3d"removeAllContainer"\x3e\n                \x3cp class\x3d"small-meta fwb"\x3e\n                    \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"removeAllBtn"\x3eRemove group\x3c/a\x3e\n                \x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"conditionList"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"action-row fwb"\x3e\n        \x3ca href\x3d"javascript:;" data-dojo-attach-point\x3d"addConditionBtn"\x3e\n            \x3cspan class\x3d"freddicon add-circle"\x3e\x3c/span\x3e Add to group\n        \x3c/a\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e',
"url:mojo/views/peaches2/tools/adwords/templates/summary.html":'\x3cdiv style\x3d"border-bottom: 1px solid #e0e0e0;" class\x3d"padding--lv2"\x3e\n    \x3cdiv class\x3d"c-adPreview line"\x3e\n        \x3cdiv class\x3d"unit padding--lv0"\x3e\n            \x3cdiv class\x3d"c-adPreview--300x250 overflow--hidden border-gray display--inline-block vertical-align--top"\x3e\n                \x3cdiv class\x3d"c-adProduct--300 overflow--hidden"\x3e\n                    \x3cdiv class\x3d"background-size--cover width--100 full-height" style\x3d"background-image: url(\'${image_url}\'); background-position: 50% 50%;"\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-adHeadline--300 text-align--left padding--lv2 padding-top-bottom--lv0"\x3e${short_headline}\x3c/div\x3e\n                \x3cdiv class\x3d"c-adDescription--300 text-align--left margin--lv2 position--relative"\x3e\n                    ${description}\n                    \x3cdiv class\x3d"c-adButton--300 position--absolute pos-t0" style\x3d"right: -56px"\x3e\x3cimg src\x3d"/images/ads/google-preview-button.svg" alt\x3d"" width\x3d"39" height\x3d"39"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"c-adUrl--300 text-align--left margin--lv2 margin-top-bottom--lv0"\x3e${url}\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"lastUnit"\x3e\n            \x3cp\x3e\n                \x3cstrong\x3eBusiness Name: \x3c/strong\x3e ${business_name}\x3cbr /\x3e\n                \x3cstrong\x3eShort Headline:\x3c/strong\x3e ${short_headline}\x3cbr /\x3e\n                \x3cstrong\x3eLong Headline:\x3c/strong\x3e ${long_headline}\x3cbr /\x3e\n                \x3cstrong\x3eDescription:\x3c/strong\x3e ${description}\x3cbr /\x3e\n                \x3cstrong\x3eURL: \x3c/strong\x3e \x3ca target\x3d"_blank" href\x3d"http://unfurlr.com/?url\x3d${url}"\x3e${url}\x3c/a\x3e\x3cbr /\x3e\n            \x3c/p\x3e\n            \x3cp\x3e\n                \x3cstrong\x3ePolicy Summary: \x3c/strong\x3e${policy_summary}\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/signup-forms/templates/form.html":'\x3cdiv class\x3d"modalContent"\x3e\n    \x3cdiv class\x3d"flash-block" data-dojo-attach-point\x3d"formResponseMessages"\x3e\x3c/div\x3e\n    \x3cdiv class\x3d"modalContent__content" data-dojo-attach-point\x3d"formContentContainer"\x3e\n        \n        \x3c!-- Title \x26 Description - Holds HTML from CK editor --\x3e\n        \x3cdiv class\x3d"content__titleDescription" data-dojo-attach-point\x3d"descriptionContainer"\x3e\x3c/div\x3e\n\n        \x3c!-- Form Fields --\x3e\n\t\t\x3cform action\x3d"${subscribeUrl}" accept-charset\x3d"UTF-8" method\x3d"post" enctype\x3d"multipart/form-data" data-dojo-attach-point\x3d"formNode" novalidate\x3e\n\t\t\t\x3cdiv class\x3d"content__formFields" data-dojo-attach-point\x3d"formFieldsContainer"\x3e\x3c/div\x3e\n\t\t    \x3cdiv class\x3d"content__button"\x3e\n\t\t        \x3cinput class\x3d"button" type\x3d"submit" value\x3d"${buttonLabel}" data-dojo-attach-point\x3d"submitButton"/\x3e\n\t\t    \x3c/div\x3e\n\t\t\x3c/form\x3e\n\n        \x3c!-- Footer - Holds HTML from CK editor --\x3e\n        \x3cdiv class\x3d"content__footer" data-dojo-attach-point\x3d"footerContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"modalContent__image" data-dojo-attach-point\x3d"formImageContainer"\x3e\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/templates/gdprBlock.html":'\x3cdiv class\x3d"content__gdprBlock"\x3e\n    \x3cdiv class\x3d"content__gdpr"\x3e\n        \x3clabel\x3e${gdprLabel}\x3c/label\x3e\n        \x3cp\x3e${gdprDescription}\x3c/p\x3e\n        \x3cul class\x3d"content__gdprFields radioCheckboxContainer" data-dojo-attach-point\x3d"gdprFieldsContainer"\x3e\x3c/ul\x3e\n        \x3cp\x3e${gdprLegal}\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"content__gdprLegal"\x3e\n        \x3ca href\x3d"https://www.mailchimp.com/gdpr" target\x3d"_blank"\x3e\x3cimg src\x3d"https://cdn-images.mailchimp.com/icons/mailchimp-gdpr.svg" alt\x3d"GDPR" /\x3e\x3c/a\x3e\n        \x3cp data-dojo-attach-point\x3d"gdprMcLegalContainer"\x3e\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/signup-forms/inputs/templates/Text.html":'\x3cdiv class\x3d"field-wrapper"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cinput type\x3d"text" name\x3d"${name}" value\x3d"" id\x3d"mc-${name}" /\x3e\n\x3c/div\x3e',"url:mojo/signup-forms/inputs/templates/Address.html":'\x3cdiv class\x3d"field-wrapper address"\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-addr1"\x3e${label}\x3c/label\x3e\n\t\t\x3cinput class\x3d"address1" type\x3d"text" name\x3d"${name}[addr1]" value\x3d"" id\x3d"mc-${name}-addr1" data-dojo-attach-point\x3d"address1Node" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-addr2"\x3eAddress Line 2\x3c/label\x3e\n\t\t\x3cinput class\x3d"address2" type\x3d"text" name\x3d"${name}[addr2]" value\x3d"" id\x3d"mc-${name}-addr2" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-city"\x3eCity\x3c/label\x3e\n\t\t\x3cinput class\x3d"city" type\x3d"text" name\x3d"${name}[city]" value\x3d"" id\x3d"mc-${name}-city" data-dojo-attach-point\x3d"cityNode" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-state"\x3eState/Province/Region\x3c/label\x3e\n\t\t\x3cinput class\x3d"state" type\x3d"text" name\x3d"${name}[state]" value\x3d"" id\x3d"mc-${name}-state" data-dojo-attach-point\x3d"stateNode" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-zip"\x3ePostal / Zip Code\x3c/label\x3e\n\t\t\x3cinput class\x3d"zip" type\x3d"text" name\x3d"${name}[zip]" value\x3d"" id\x3d"mc-${name}-zip" data-dojo-attach-point\x3d"zipNode" /\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t    \x3clabel for\x3d"mc-${name}-country"\x3eCountry\x3c/label\x3e\n\t    \x3c!-- TODO: Is there a formatting option for which country should be top of the list? --\x3e\n\t\t\x3cselect class\x3d"country" name\x3d"${name}[country]" id\x3d"mc-${name}-country" data-dojo-attach-point\x3d"countrySelectNode"\x3e\n\t\t    \x3coption value\x3d"" selected\x3e\x3c/option\x3e\n\t\t    \x3coption value\x3d"164"\x3eUSA\x3c/option\x3e\n\t\t\x3c/select\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/Email.html":'\x3cdiv class\x3d"field-wrapper"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cinput type\x3d"email" name\x3d"${name}" value\x3d"" id\x3d"mc-${name}" /\x3e\n\x3c/div\x3e',"url:mojo/signup-forms/inputs/templates/Birthday.html":'\x3cdiv class\x3d"field-wrapper birthday"\x3e\n\t\x3clabel for\x3d"mc-${name}-month"\x3e${label}\x3c/label\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"inputsContainer"\x3e \n        \x3cinput class\x3d"birthday-month" type\x3d"text" placeholder\x3d"MM" maxlength\x3d"2" name\x3d"${name}[month]" value\x3d"" id\x3d"mc-${name}-month" data-dojo-attach-point\x3d"monthNode" /\x3e\n        \x3cinput class\x3d"birthday-day" type\x3d"text" placeholder\x3d"DD" maxlength\x3d"2" name\x3d"${name}[day]" value\x3d"" id\x3d"mc-${name}-day" data-dojo-attach-point\x3d"dayNode" /\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/Date.html":'\x3cdiv class\x3d"field-wrapper date"\x3e\n\t\x3clabel for\x3d"mc-${name}-month"\x3e${label}\x3c/label\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"inputsContainer"\x3e\n\t\t\x3cinput class\x3d"date-year" type\x3d"text" maxlength\x3d"4" placeholder\x3d"YYYY" name\x3d"${name}[year]" value\x3d"" id\x3d"mc-${name}-year" data-dojo-attach-point\x3d"yearNode" /\x3e\n\t\t\x3cinput class\x3d"date-month" type\x3d"text" maxlength\x3d"2" placeholder\x3d"MM" name\x3d"${name}[month]" value\x3d"" id\x3d"mc-${name}-month" data-dojo-attach-point\x3d"monthNode" /\x3e\n\t\t\x3cinput class\x3d"date-day" type\x3d"text" maxlength\x3d"2" placeholder\x3d"DD" name\x3d"${name}[day]" value\x3d"" id\x3d"mc-${name}-day" data-dojo-attach-point\x3d"dayNode" /\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/Phone.html":'\x3cdiv class\x3d"field-wrapper phone"\x3e\n\t\x3clabel for\x3d"mc-${name}-area"\x3e${label}\x3c/label\x3e\n    \x3cdiv\x3e\n        \x3cinput class\x3d"phone-area" type\x3d"text" maxlength\x3d"3" placeholder\x3d"###" name\x3d"${name}[area]" value\x3d"" id\x3d"mc-${name}-area" data-dojo-attach-point\x3d"phoneAreaNode" /\x3e\n        \x3cinput class\x3d"phone-detail1" type\x3d"text" maxlength\x3d"3" placeholder\x3d"###" name\x3d"${name}[detail1]" value\x3d"" id\x3d"mc-${name}-detail1" data-dojo-attach-point\x3d"phoneDetail1Node" /\x3e\n       \t\x3cinput class\x3d"phone-detail2" type\x3d"text" maxlength\x3d"4" placeholder\x3d"####" name\x3d"${name}[detail2]" value\x3d"" id\x3d"mc-${name}-detail2" data-dojo-attach-point\x3d"phoneDetail2Node" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/Number.html":'\x3cdiv class\x3d"field-wrapper"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cinput type\x3d"text" name\x3d"${name}" value\x3d"" id\x3d"mc-${name}" /\x3e\n\x3c/div\x3e',"url:mojo/signup-forms/inputs/templates/Url.html":'\x3cdiv class\x3d"field-wrapper"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cinput type\x3d"text" placeholder\x3d"http://" name\x3d"${name}" value\x3d"" id\x3d"mc-${name}" /\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/inputs/templates/RadioCheckbox.html":'\x3cdiv class\x3d"field-wrapper radio-group"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cul class\x3d"radioCheckboxContainer" data-dojo-attach-point\x3d"choicesContainer"\x3e\x3c/ul\x3e\n\x3c/div\x3e',"url:mojo/signup-forms/inputs/templates/GdprCheckbox.html":'\x3cli class\x3d"field-wrapper !margin-bottom--lv2"\x3e\n\t\x3clabel class\x3d"checkbox" for\x3d"gdpr-${marketing_preference_id}"\x3e\n\t\t\t\x3cinput type\x3d"checkbox" id\x3d"gdpr-${marketing_preference_id}" name\x3d"${name}" data-dojo-attach-point\x3d"choicesContainer" /\x3e\n\t\t\t\x3cspan\x3e${label}\x3c/span\x3e\n\t\x3c/label\x3e\n\x3c/li\x3e\n',
"url:mojo/signup-forms/inputs/templates/Select.html":'\x3cdiv class\x3d"field-wrapper"\x3e\n\t\x3clabel for\x3d"mc-${name}"\x3e${label}\x3c/label\x3e\n\t\x3cselect name\x3d"${name}" id\x3d"mc-${name}" data-dojo-attach-point\x3d"choicesContainer"\x3e\x3c/select\x3e\n\x3c/div\x3e',"url:mojo/signup-forms/templates/banner.html":'\x3cdiv class\x3d"bannerContent" data-dojo-attach-point\x3d"bannerContainer"\x3e\n    \x3c!-- Banner close button --\x3e\n    \x3cdiv class\x3d"bannerContent__closeButton" data-dojo-attach-point\x3d"modalOpen"\x3e\x3c/div\x3e\n    \x3c!-- Description text from CK editor --\x3e\n    \x3cdiv class\x3d"bannerContent__description" data-dojo-attach-point\x3d"bannerDescription"\x3e${description}\x3c/div\x3e\n    \x3c!-- Banner open full modal --\x3e\n    \x3cdiv class\x3d"bannerContent__buttonContainer"\x3e\n        \x3cbutton class\x3d"button bannerContent__subscribeButton" data-dojo-attach-point\x3d"bannerClose"\x3e${subscribeLabel}\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/signup-forms/templates/modal.html":'\x3cdiv\x3e\n    \x3c!-- MC BANNER --\x3e\n    \x3cdiv class\x3d"mc-banner" data-dojo-attach-point\x3d"bannerContainer"\x3e\n        \x3cdiv class\x3d"mc-layout__bannerContent"\x3e\n            \x3ciframe src\x3d"about:blank" frameborder\x3d"0" marginwidth\x3d"0" marginheight\x3d"0" scrolling\x3d"no" src\x3d"about:blank" style\x3d"width:100%;" data-dojo-attach-point\x3d"iframeBannerContainer"\x3e\x3c/iframe\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- MC MODAL --\x3e\n    \x3cdiv class\x3d"mc-modal" data-dojo-attach-point\x3d"modalContainer"\x3e\n        \x3cdiv class\x3d"mc-closeModal" data-action\x3d"close-mc-modal" data-dojo-attach-point\x3d"modalClose"\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"mc-layout__modalContent"\x3e\n            \x3ciframe src\x3d"about:blank" frameborder\x3d"0" marginwidth\x3d"0" marginheight\x3d"0" src\x3d"about:blank" style\x3d"width:100%;" data-dojo-attach-point\x3d"iframeModalContainer"\x3e\x3c/iframe\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3c!-- MC MODAL OVERLAY --\x3e\n    \x3cdiv class\x3d"mc-modal-bg" data-dojo-attach-point\x3d"modalOverlay"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/templates/blockStyleEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"styleForm" class\x3d"colbody padding-bottom--lv4"\x3e\n    \t\x3cfieldset data-dojo-attach-point\x3d"styleKbLinkWrap" class\x3d"hide hide-on-mobile-editor"\x3e\x3ca data-dojo-attach-point\x3d"styleKbLink" target\x3d"_blank" href\x3d"#" class\x3d"inline-block padding--lv2 !padding-left-right--lv0 small-meta"\x3eLearn more about using ${type} content blocks.\x3c/a\x3e\x3c/fieldset\x3e\n        \x3c!-- Dynamic --\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"absolute pos-lr0 pos-b0 v-bg-gray-lightest border-top padding--lv3 !padding-top-bottom--lv0"\x3e\n        \x3cdiv class\x3d"flex padding--lv2 !padding-left-right--lv0"\x3e\n            \x3cdiv class\x3d"flex flex-two-thirds flex-center"\x3e\n                \x3clabel for\x3d"mcApplyAll${id}" class\x3d"checkbox margin-bottom--lv0 !padding-bottom--lv0 font-weight--normal small-meta"\x3e\n                    \x3cinput type\x3d"checkbox" id\x3d"mcApplyAll${id}" data-dojo-attach-point\x3d"applyCheckbox" data-dojo-type\x3d"dijit/form/CheckBox"\x3eApply to all existing ${type} blocks\n                \x3c/label\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"flex flex-third"\x3e\n                \x3cdiv class\x3d"full-width"\x3e\n                    \x3cbutton class\x3d"button !margin--lv0 float-right opacity-0 no-clicky" data-dojo-attach-point\x3d"revertBtn"\x3eUndo\x3c/button\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/templates/styleEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3e${title} Design\x3c/h4\x3e\n        \x3ca data-dojo-attach-point\x3d"backBtn" class\x3d"button-small drillback imgrpl-inline" href\x3d"#"\x3e\x3cspan class\x3d"freddicon arrow-left"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll" data-dojo-attach-point\x3d"styleForm"\x3e\n        \x3c!-- Dynamic --\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"save-cancel-group"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"saveBtn"\x3eSave\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelBtn" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/neapolitan/editors/templates/styleSection.html":'\x3cfieldset data-section-name\x3d"${sectionName}"\x3e\n    \x3ch5 class\x3d"c-paneSectionHeader cursor-pointer" title\x3d"Click to highlight in preview." data-js-el\x3d"styleHeader" data-dojo-attach-point\x3d"headerNode"\x3e${sectionName}\x3c/h5\x3e\n\x3c/fieldset\x3e\n',"url:mojo/neapolitan/editors/blocks/templates/TextEditor/editor.html":'\x3cdiv class\x3d"mojoTextEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainer" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"columnSelector" class\x3d"c-editortabs"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3"\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"switchContentBtn" class\x3d"button !margin-right--lv0" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eText block settings\x3c/h5\x3e\n                \x3clabel\x3eNumber of columns\x3c/label\x3e\n                \x3cselect data-dojo-attach-point\x3d"columnSelectInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                    \x3coption value\x3d"1"\x3e1 column\x3c/option\x3e\n                    \x3coption value\x3d"2"\x3e2 columns\x3c/option\x3e\n                \x3c/select\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset data-dojo-attach-point\x3d"splitSelectorSection"\x3e\n                \x3clabel\x3eColumn split\x3c/label\x3e\n                \x3cul class\x3d"mojoImageGroupLayoutList" data-dojo-attach-point\x3d"splitSelector"\x3e\x3c/ul\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3cspan class\x3d"small-meta" data-dojo-attach-point\x3d"timestampContainer"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/TextEditor/splitIcons.html":'{% for split in splits %}\n\x3cli class\x3d"mojoTextSplitLayout float-left with{{split|length}} {% ifequal selected forloop.counter0 %}selected{% endifequal %}" data-split-option\x3d"{{forloop.counter0}}"\x3e\n    {% for percent in split %}\n        \x3cdiv class\x3d"mojoTextSplitColumn with{{percent}} {%if forloop.last %}last{% endif %}"\x3e\x3c/div\x3e\n    {% endfor %}\n\x3c/li\x3e\n{% endfor %}',"url:mojo/neapolitan/widgets/templates/editorContainer.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"drillnavbar alignc"\x3e\n        \x3ch4\x3e${header}\x3c/h4\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"colbody"\x3e\n        \x3cul class\x3d"editorsection panel-button-nav flex !margin-bottom--lv3" data-dojo-attach-point\x3d"sectionList"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/widgets/templates/editorContainerMobile.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"colbody mobileContainerColbody position--static@editorActive"\x3e\n        \x3cul class\x3d"editorsection panel-button-nav flex !margin-bottom--lv3" data-dojo-attach-point\x3d"sectionList"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-attach-point\x3d"actionPane"\x3e\n    \x3c/div\x3e\n\n\x3c/div\x3e\n',"url:mojo/neapolitan/editors/blocks/templates/TextEditor/editorMobile.html":'\x3cdiv class\x3d"mojoTextEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainerMobile" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInnerFull position--static@editorActive"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody position--static@editorActive" data-mojo-section\x3d"content" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv2 !margin-left--lv0" data-dojo-attach-point\x3d"sectionHeader"\x3eText\x3c/h5\x3e\n            \x3cdiv data-dojo-attach-point\x3d"columnSelector" class\x3d"c-editortabs"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3" data-dojo-attach-point\x3d"recoverContentWarning"\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"switchContentBtn" class\x3d"button !margin-right--lv0" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eText block settings\x3c/h5\x3e\n                \x3clabel\x3eNumber of columns\x3c/label\x3e\n                \x3cselect data-dojo-attach-point\x3d"columnSelectInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                    \x3coption value\x3d"1"\x3e1 column\x3c/option\x3e\n                    \x3coption value\x3d"2"\x3e2 columns\x3c/option\x3e\n                \x3c/select\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset data-dojo-attach-point\x3d"splitSelectorSection"\x3e\n                \x3clabel\x3eColumn split\x3c/label\x3e\n                \x3cul class\x3d"mojoImageGroupLayoutList" data-dojo-attach-point\x3d"splitSelector"\x3e\x3c/ul\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/DividerEditor/editor.html":'\x3cdiv class\x3d"mojoDividerEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainer" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer" data-mojo-selected\x3d"true"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/DividerEditor/editorMobile.html":'\x3cdiv class\x3d"mojoDividerEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainerMobile" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInnerFull"\x3e\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer" data-mojo-selected\x3d"true"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/neapolitan/editors/blocks/templates/ImageEditor/editor.html":'\x3cdiv class\x3d"mojoImageEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header: \'Image\'" class\x3d"colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"imageRow" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageRow" data-dojo-props\x3d"renderingType: this.block._campaignRenderingType"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eMargins\x3c/label\x3e\n                    \x3clabel class\x3d"checkbox" for\x3d"edgeToEdgeToggle_${id}"\x3e\x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"edgeToEdgeToggle" value\x3d"true" id\x3d"edgeToEdgeToggle_${id}"\x3eEdge to edge\x3c/label\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eRetina image support\x3c/label\x3e\n                    \x3clabel class\x3d"checkbox" for\x3d"retinaToggle_${id}"\x3e\x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"retinaToggle" id\x3d"retinaToggle_${id}" value\x3d""\x3eConstrain image dimensions by 50% for high-resolution displays\x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageEditor/editorMobile.html":'\x3cdiv class\x3d"mojoImageEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainerMobile" data-dojo-props\x3d"header: \'Image\'" class\x3d"colbody colbodyInnerFull"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv3 !margin-left--lv0" data-dojo-attach-point\x3d"sectionHeader"\x3eImage\x3c/h5\x3e\n            \x3cdiv data-dojo-attach-point\x3d"imageRow" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageRow" data-dojo-props\x3d"isMobile: true"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eMargins\x3c/label\x3e\n                    \x3clabel class\x3d"checkbox" for\x3d"edgeToEdgeToggle_${id}"\x3e\x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"edgeToEdgeToggle" value\x3d"true" id\x3d"edgeToEdgeToggle_${id}"\x3eEdge to edge\x3c/label\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eRetina image support\x3c/label\x3e\n                    \x3clabel class\x3d"checkbox" for\x3d"retinaToggle_${id}"\x3e\x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"retinaToggle" id\x3d"retinaToggle_${id}" value\x3d""\x3eConstrain image dimensions by 50% for high-resolution displays\x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageCardEditor/editor.html":'\x3cdiv class\x3d"mojoImageWithCaptionEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header:this.block._name" class\x3d"colbody colbodyInner"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cul data-dojo-attach-point\x3d"imageRow" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageRow" data-dojo-props\x3d"renderingType: this.block._campaignRenderingType"\x3e\x3c/ul\x3e\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3"\x3e\n                \x3ca href\x3d"#" class\x3d"button !margin-right--lv0" data-dojo-attach-point\x3d"switchContentBtn" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage + Caption settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eCaption position\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionPositionInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"top"\x3eTop\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                        \x3coption value\x3d"bottom"\x3eBottom\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left" data-dojo-attach-point\x3d"alignInputContainer"\x3e\n                    \x3clabel\x3eImage alignment\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"captionWidthInputContainer" style\x3d"display:none;" class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3e\x3cspan data-dojo-attach-point\x3d"captionSide"\x3e\x3c/span\x3eCaption width\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"one-third"\x3eOne-third\x3c/option\x3e\n                        \x3coption value\x3d"half"\x3eHalf\x3c/option\x3e\n                        \x3coption value\x3d"two-third"\x3eTwo-thirds\x3c/option\x3e\n                        \x3coption value\x3d"three-quarter"\x3eThree-quarters\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eMargins\x3c/label\x3e\n                    \x3clabel class\x3d"checkbox" for\x3d"edgeToEdgeToggle_${id}"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"edgeToEdgeToggle" data-dojo-type\x3d"dijit/form/CheckBox" id\x3d"edgeToEdgeToggle_${id}"\x3eEdge to edge\x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3cspan class\x3d"small-meta" data-dojo-attach-point\x3d"timestampContainer"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageCardEditor/editorMobile.html":'\x3cdiv class\x3d"mojoImageWithCaptionEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainerMobile" data-dojo-props\x3d"header:this.block._name" class\x3d"colbody colbodyInnerFull position--static@editorActive"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody position--static@editorActive" data-mojo-section\x3d"content" data-mojo-selected\x3d"true" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv3 !margin-left--lv0" data-dojo-attach-point\x3d"sectionHeader"\x3eImage Card\x3c/h5\x3e\n            \x3cdiv data-dojo-attach-point\x3d"imageSet" \x3e\n                \x3cul data-dojo-attach-point\x3d"imageRow" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageRow" data-dojo-props\x3d"isMobile: true"\x3e\x3c/ul\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3" data-dojo-attach-point\x3d"recoverContentWarning"\x3e\n                \x3ca href\x3d"#" class\x3d"button !margin-right--lv0" data-dojo-attach-point\x3d"switchContentBtn" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage + Caption settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eCaption position\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionPositionInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"top"\x3eTop\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                        \x3coption value\x3d"bottom"\x3eBottom\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left" data-dojo-attach-point\x3d"alignInputContainer"\x3e\n                    \x3clabel\x3eImage alignment\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"captionWidthInputContainer" style\x3d"display:none;" class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3e\x3cspan data-dojo-attach-point\x3d"captionSide"\x3e\x3c/span\x3eCaption width\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"one-third"\x3eOne-third\x3c/option\x3e\n                        \x3coption value\x3d"half"\x3eHalf\x3c/option\x3e\n                        \x3coption value\x3d"two-third"\x3eTwo-thirds\x3c/option\x3e\n                        \x3coption value\x3d"three-quarter"\x3eThree-quarters\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eMargins\x3c/label\x3e\n                    \x3clabel class\x3d"checkbox" for\x3d"edgeToEdgeToggle_${id}"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"edgeToEdgeToggle" data-dojo-type\x3d"dijit/form/CheckBox" id\x3d"edgeToEdgeToggle_${id}"\x3eEdge to edge\x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageGroupEditor/editor.html":'\x3cdiv class\x3d"mojoImageGroupEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header: \'Image Group\'" class\x3d"colbody colbodyInner"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content"\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"imageList" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageList" data-dojo-props\x3d"renderingType: this.block._campaignRenderingType, minImages: 2, maxImages: this.groupLayouts.length"\x3e\x3c/div\x3e\n\n            \x3cdiv class\x3d"padding--lv3 alignc"\x3e\n                \x3cspan class\x3d"small-meta"\x3eYou can add up to 5 images per image group.\x3cbr /\x3eChoose a layout in the Settings tab.\x3c/span\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage Group settings\x3c/h5\x3e\n                \x3clabel\x3eLayout\x3c/label\x3e\n                \x3cul class\x3d"mojoImageGroupLayoutList" data-dojo-attach-point\x3d"layoutSelector"\x3e\x3c/ul\x3e\n                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageGroupEditor/groupIcons.html":'{% for layout in layouts %}\n    \x3cli class\x3d"mojoImageGroupLayout float-left {% if layout.selected %}selected{% endif %}" data-layout\x3d"{{forloop.counter0}}"\x3e\n        {% for row in layout.layout %}\n            \x3cdiv class\x3d"mojoImageGroupLayoutRow with{{row|length}}"\x3e\n            {% for icon in row %}\n                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n            {% endfor %}\n            \x3c/div\x3e\n        {% endfor %}\n    \x3c/li\x3e\n{% endfor %}',
"url:mojo/neapolitan/widgets/templates/imageList.html":'\x3cdiv class\x3d"relative"\x3e\n\n    \x3cdiv class\x3d\'mojoImageList\' data-dojo-attach-point\x3d"imageList"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"margin--lv4 margin-top-bottom--lv0" data-dojo-attach-point\x3d"addBtn"\x3e\n        \x3cdiv class\x3d"margin--lv2 !margin-left-right--lv0 alignc"\x3e\n            \x3cbutton class\x3d"button"\x3eAdd Another Image\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"uploadOverlay" class\x3d"mojoImageListOverlay alignc absolute pos-tb0 pos-lr0 padding--lv5 !padding-left-right--lv0"\x3e\n        \x3cp class\x3d"!margin--lv0 full-width fwb dim-el"\x3eHang on, we\'re uploading here...\x3c/p\x3e\n        \x3cimg src\x3d"/images/loading_bar.gif" class\x3d"border-radius--lv1" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/widgets/templates/imageListMobile.html":'\x3cdiv class\x3d"relative"\x3e\n\n    \x3cdiv class\x3d\'mojoImageList mojoItems--mobile\' data-dojo-attach-point\x3d"imageList"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"margin--lv4 margin-top-bottom--lv0" data-dojo-attach-point\x3d"addBtn"\x3e\n        \x3cdiv class\x3d"margin--lv2 !margin-left-right--lv0 alignc"\x3e\n            \x3cbutton class\x3d"button"\x3eAdd Another Image\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"uploadOverlay" class\x3d"mojoImageListOverlay alignc absolute pos-tb0 pos-lr0 padding--lv5 !padding-left-right--lv0"\x3e\n        \x3cp class\x3d"!margin--lv0 full-width fwb dim-el"\x3eHang on, we\'re uploading here...\x3c/p\x3e\n        \x3cimg src\x3d"/images/loading_bar.gif" class\x3d"border-radius--lv1" /\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageGroupEditor/editorMobile.html":'\x3cdiv class\x3d"mojoImageGroupEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainerMobile" data-dojo-props\x3d"header: \'Image Group\'" class\x3d"colbody colbodyInnerFull"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv3 !margin-left--lv0"\x3eImage Group\x3c/h5\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"imageList" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageList" data-dojo-props\x3d"minImages: 2, maxImages: this.groupLayouts.length, isMobile: true"\x3e\x3c/div\x3e\n\n            \x3cdiv class\x3d"padding--lv3 alignc"\x3e\n                \x3cspan class\x3d"small-meta"\x3eYou can add up to 5 images per image group.\x3cbr /\x3eChoose a layout in the Settings tab.\x3c/span\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage Group settings\x3c/h5\x3e\n                \x3clabel\x3eLayout\x3c/label\x3e\n                \x3cul class\x3d"mojoImageGroupLayoutList" data-dojo-attach-point\x3d"layoutSelector"\x3e\x3c/ul\x3e\n                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageWithCaptionEditor/editor.html":'\x3cdiv class\x3d"mojoImageWithCaptionEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header:this.block._name" class\x3d"colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"captionSelector" class\x3d"c-editortabs"\x3e\x3c/div\x3e\n\n            \x3cul data-dojo-attach-point\x3d"imageRow" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageRow" data-dojo-props\x3d"renderingType: this.block._campaignRenderingType"\x3e\x3c/ul\x3e\n\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3"\x3e\n                \x3ca href\x3d"#" class\x3d"button !margin-right--lv0" data-dojo-attach-point\x3d"switchContentBtn" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage + Caption settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eCaption position\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionPositionInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"top"\x3eTop\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                        \x3coption value\x3d"bottom"\x3eBottom\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left" data-dojo-attach-point\x3d"alignInputContainer"\x3e\n                    \x3clabel\x3eImage alignment\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"captionWidthInputContainer" style\x3d"display:none;" class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3e\x3cspan data-dojo-attach-point\x3d"captionSide"\x3e\x3c/span\x3eCaption width\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"one-third"\x3eOne-third\x3c/option\x3e\n                        \x3coption value\x3d"half"\x3eHalf\x3c/option\x3e\n                        \x3coption value\x3d"two-third"\x3eTwo-thirds\x3c/option\x3e\n                        \x3coption value\x3d"three-quarter"\x3eThree-quarters\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eNumber of images\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"numberOfCaptionsInputEmail" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"1"\x3e1\x3c/option\x3e\n                        \x3coption value\x3d"2"\x3e2\x3c/option\x3e\n                    \x3c/select\x3e\n                    \x3cselect data-dojo-attach-point\x3d"numberOfCaptionsInputPages" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"1"\x3e1\x3c/option\x3e\n                        \x3coption value\x3d"2"\x3e2\x3c/option\x3e\n                        \x3coption value\x3d"3"\x3e3\x3c/option\x3e\n                        \x3coption value\x3d"4"\x3e4\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3cspan class\x3d"small-meta" data-dojo-attach-point\x3d"timestampContainer"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageWithCaptionEditor/editorMobile.html":'\x3cdiv class\x3d"mojoImageWithCaptionEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainerMobile" data-dojo-props\x3d"header:this.block._name" class\x3d"colbody colbodyInnerFull position--static@editorActive"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody position--static@editorActive" data-mojo-section\x3d"content" data-mojo-selected\x3d"true" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv3 !margin-left--lv0" data-dojo-attach-point\x3d"sectionHeader"\x3eImage + Caption\x3c/h5\x3e\n            \x3cdiv data-dojo-attach-point\x3d"captionSelector" class\x3d"c-editortabs"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"imageSet"\x3e\n                \x3cul data-dojo-attach-point\x3d"imageRow" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageRow" data-dojo-props\x3d"isMobile: true"\x3e\x3c/ul\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3" data-dojo-attach-point\x3d"recoverContentWarning"\x3e\n                \x3ca href\x3d"#" class\x3d"button !margin-right--lv0" data-dojo-attach-point\x3d"switchContentBtn" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage + Caption settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eCaption position\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionPositionInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"top"\x3eTop\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                        \x3coption value\x3d"bottom"\x3eBottom\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left" data-dojo-attach-point\x3d"alignInputContainer"\x3e\n                    \x3clabel\x3eImage alignment\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"captionWidthInputContainer" style\x3d"display:none;" class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3e\x3cspan data-dojo-attach-point\x3d"captionSide"\x3e\x3c/span\x3eCaption width\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"one-third"\x3eOne-third\x3c/option\x3e\n                        \x3coption value\x3d"half"\x3eHalf\x3c/option\x3e\n                        \x3coption value\x3d"two-third"\x3eTwo-thirds\x3c/option\x3e\n                        \x3coption value\x3d"three-quarter"\x3eThree-quarters\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eNumber of images\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"numberOfCaptionsInputEmail" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"1"\x3e1\x3c/option\x3e\n                        \x3coption value\x3d"2"\x3e2\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialShareEditor/editor.html":'\x3cdiv class\x3d"mojoSocialShareEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainer" data-dojo-props\x3d"header: \'Social Share\'" class\x3d"colbody colbodyInner"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content"\x3e\n            \x3cfieldset class\x3d"border-bottom"\x3e\n                \x3clabel\x3eContent to share\x3c/label\x3e\n                \x3cselect data-dojo-attach-point\x3d"shareContentSourceInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                    \x3coption value\x3d"campaign"\x3eCampaign page URL\x3c/option\x3e\n                    \x3coption value\x3d"custom"\x3eCustom URL\x3c/option\x3e\n                \x3c/select\x3e\n                \x3cdiv data-dojo-attach-point\x3d"customUrlInputContainer"\x3e\n                    \x3cdiv class\x3d"style-field"\x3e\n                        \x3clabel\x3eCustom URL to share\x3c/label\x3e\n                        \x3cinput type\x3d"url" data-dojo-attach-point\x3d"customUrlInput" data-dojo-type\x3d"dijit.form.TextBox"\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"style-field"\x3e\n                        \x3clabel\x3eShort description\x3c/label\x3e\n                        \x3cinput type\x3d"text" data-dojo-attach-point\x3d"customDescriptionInput" data-dojo-type\x3d"dijit.form.TextBox"\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cdiv data-dojo-attach-point\x3d"itemList"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"padding--lv3 alignc"\x3e\n                \x3cspan class\x3d"small-meta "\x3eChoose a layout in the Settings tab.\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eSocial Share settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"adjustableWidthInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d""\x3eFit to size\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\n                \x3clabel\x3eLayout\x3c/label\x3e\n                \x3cdiv class\x3d"mojoSocialLayoutList selfclear !margin-bottom--lv4" data-dojo-attach-point\x3d"layoutSelector"\x3e\n                    \x3cul class\x3d"layoutFilter iconAndText"\x3e\n                        \x3cli class\x3d"inlineVertical" data-itemArrangement\x3d"inline" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-it-iv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineHorizontal" data-itemArrangement\x3d"inline" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-it-ih-r.png" /\x3e\x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\n                \x3cdiv class\x3d"iconStyleContainer margin-bottom--lv3"\x3e\n                    \x3clabel\x3eIcon style\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"iconTypeInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"solid"\x3eSolid\x3c/option\x3e\n                        \x3coption value\x3d"outline"\x3eOutlined\x3c/option\x3e\n                    \x3c/select\x3e\n                    \x3cdiv class\x3d"c-iconStyleSelector" data-dojo-attach-point\x3d"iconStyleSelector"\x3e\n                        \x3cdiv class\x3d"iconType solid" data-dojo-attach-point\x3d"solidTypeContainer"\x3e\n                            \x3cdiv class\x3d"iconStyle color" data-iconStyle\x3d"color"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle dark" data-iconStyle\x3d"dark"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle light" data-iconStyle\x3d"light"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle" data-iconStyle\x3d"gray"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"iconType outline" data-dojo-attach-point\x3d"outlineTypeContainer"\x3e\n                            \x3cdiv class\x3d"iconStyle color" data-iconStyle\x3d"color"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle dark" data-iconStyle\x3d"dark"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle light" data-iconStyle\x3d"light"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle" data-iconStyle\x3d"gray"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/widgets/templates/itemList.html":'\x3cdiv\x3e\n    \x3cul class\x3d\'mojoImageList\' data-dojo-attach-point\x3d"itemList"\x3e\x3c/ul\x3e\n\n    \x3cdiv class\x3d"margin--lv4 margin-top-bottom--lv0" data-dojo-attach-point\x3d"addBtn" \x3e\n        \x3cdiv class\x3d"margin--lv2 margin-left-right--lv0 alignc"\x3e\n            \x3cbutton class\x3d"button"\x3e${addButtonText}\x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/neapolitan/widgets/templates/socialFollow.html":'\x3cli class\x3d"mojoItemListItem dojoDndItem" dndType\x3d"dndItemListItem"\x3e\n    \x3ca class\x3d"removeLink float-right" data-dojo-attach-point\x3d"removeLink" href\x3d"#"\x3e\x3cspan class\x3d"freddicon remove-circle"\x3e\x3cspan\x3eremove\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3cimg src\x3d"${baseIconUrl}/${data.iconPath}" class\x3d"float-left typeSelectIcon" /\x3e\n    \x3cdiv data-dojo-attach-point\x3d"typeSelectContainer" class\x3d"typeSelectContainer"\x3e\x3c/div\x3e\n    \x3clabel\x3e${data.followTitle}\x3c/label\x3e\n    \x3cinput data-dojo-attach-point\x3d"linkInput" type\x3d"${data.linkInputType}" value\x3d"${data.link}"\x3e\n    \x3clabel\x3e${data.followLabel}\x3c/label\x3e\n    \x3cinput data-dojo-attach-point\x3d"textInput" type\x3d"text" value\x3d"${data.text}"\x3e\n\x3c/li\x3e\n',
"url:mojo/neapolitan/widgets/templates/socialShare.html":'\x3cli class\x3d"mojoItemListItem dojoDndItem" dndType\x3d"dndItemListItem" \x3e\n    \x3ca class\x3d"removeLink float-right" data-dojo-attach-point\x3d"removeLink" href\x3d"#"\x3e\x3cspan class\x3d"freddicon remove-circle"\x3e\x3cspan\x3eremove\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3cimg src\x3d"${baseIconUrl}/${data.iconPath}" class\x3d"float-left typeSelectIcon" /\x3e\n    \x3cdiv data-dojo-attach-point\x3d"typeSelectContainer" class\x3d"typeSelectContainer"\x3e\x3c/div\x3e\n    \x3clabel\x3eLink text\x3c/label\x3e\n    \x3cinput data-dojo-attach-point\x3d"textInput" type\x3d"text" value\x3d"${data.text}"\x3e\n\x3c/li\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialShareEditor/editorMobile.html":'\x3cdiv class\x3d"mojoSocialShareEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainerMobile" data-dojo-props\x3d"header: \'Social Share\'" class\x3d"colbody colbodyInnerFull"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-left--lv0"\x3eSocial Share\x3c/h5\x3e\n            \x3cfieldset class\x3d"border-bottom"\x3e\n                \x3clabel\x3eContent to share\x3c/label\x3e\n                \x3cselect data-dojo-attach-point\x3d"shareContentSourceInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                    \x3coption value\x3d"campaign"\x3eCampaign page URL\x3c/option\x3e\n                    \x3coption value\x3d"custom"\x3eCustom URL\x3c/option\x3e\n                \x3c/select\x3e\n                \x3cdiv data-dojo-attach-point\x3d"customUrlInputContainer"\x3e\n                    \x3cdiv class\x3d"style-field"\x3e\n                        \x3clabel\x3eCustom URL to share\x3c/label\x3e\n                        \x3cinput type\x3d"url" data-dojo-attach-point\x3d"customUrlInput" data-dojo-type\x3d"dijit.form.TextBox"\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"style-field"\x3e\n                        \x3clabel\x3eShort description\x3c/label\x3e\n                        \x3cinput type\x3d"text" data-dojo-attach-point\x3d"customDescriptionInput" data-dojo-type\x3d"dijit.form.TextBox"\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cdiv data-dojo-attach-point\x3d"itemList" class\x3d"mojoItems--mobile"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"padding--lv3 alignc"\x3e\n                \x3cspan class\x3d"small-meta "\x3eChoose a layout in the Settings tab.\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eSocial Share settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"adjustableWidthInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d""\x3eFit to size\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\n                \x3clabel\x3eLayout\x3c/label\x3e\n                \x3cdiv class\x3d"mojoSocialLayoutList selfclear !margin-bottom--lv4" data-dojo-attach-point\x3d"layoutSelector"\x3e\n                    \x3cul class\x3d"layoutFilter iconAndText"\x3e\n                        \x3cli class\x3d"inlineVertical" data-itemArrangement\x3d"inline" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-it-iv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineHorizontal" data-itemArrangement\x3d"inline" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-it-ih-r.png" /\x3e\x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\n                \x3cdiv class\x3d"iconStyleContainer margin-bottom--lv3"\x3e\n                    \x3clabel\x3eIcon style\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"iconTypeInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"solid"\x3eSolid\x3c/option\x3e\n                        \x3coption value\x3d"outline"\x3eOutlined\x3c/option\x3e\n                    \x3c/select\x3e\n                    \x3cdiv class\x3d"c-iconStyleSelector" data-dojo-attach-point\x3d"iconStyleSelector"\x3e\n                        \x3cdiv class\x3d"iconType solid" data-dojo-attach-point\x3d"solidTypeContainer"\x3e\n                            \x3cdiv class\x3d"iconStyle color" data-iconStyle\x3d"color"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle dark" data-iconStyle\x3d"dark"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle light" data-iconStyle\x3d"light"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle" data-iconStyle\x3d"gray"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"iconType outline" data-dojo-attach-point\x3d"outlineTypeContainer"\x3e\n                            \x3cdiv class\x3d"iconStyle color" data-iconStyle\x3d"color"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle dark" data-iconStyle\x3d"dark"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle light" data-iconStyle\x3d"light"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle" data-iconStyle\x3d"gray"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-facebook-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-twitter-96.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-forwardtofriend-96.png" /\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialFollowEditor/editor.html":'\x3cdiv class\x3d"mojoSocialFollowEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainer" data-dojo-props\x3d"header: \'Social Follow\'" class\x3d"colbody colbodyInner"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"itemList"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"above-below15 padding--lv3 alignc"\x3e\n                \x3cspan class\x3d"small-meta"\x3eAdd up to 10 services in each block.\x3cbr /\x3eChoose a layout in the Settings tab.\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eSocial Follow settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eDisplay\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"displayInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"icon"\x3eIcon only\x3c/option\x3e\n                        \x3coption value\x3d"text"\x3eText only\x3c/option\x3e\n                        \x3coption value\x3d"both"\x3eBoth icon and text\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"adjustableWidthInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d""\x3eFit to size\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\n                \x3clabel\x3eLayout\x3c/label\x3e\n                \x3cdiv class\x3d"mojoSocialLayoutList selfclear !margin-bottom--lv4" data-dojo-attach-point\x3d"layoutSelector"\x3e\n                    \x3cul class\x3d"layoutFilter iconAndText"\x3e\n                        \x3cli class\x3d"stackedVertical" data-itemArrangement\x3d"stacked" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-it-sv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineVertical" data-itemArrangement\x3d"inline" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-it-iv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineHorizontal" data-itemArrangement\x3d"inline" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-it-ih-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"stackedHorizontal" data-itemArrangement\x3d"stacked" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-it-sh-r.png" /\x3e\x3c/li\x3e\n                    \x3c/ul\x3e\n                    \x3cul class\x3d"layoutFilter iconOnly"\x3e\n                        \x3cli class\x3d"stackedVertical" data-itemArrangement\x3d"stacked" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-i-sv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineVertical" data-itemArrangement\x3d"inline" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-i-iv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineHorizontal" data-itemArrangement\x3d"inline" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-i-ih-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"stackedHorizontal" data-itemArrangement\x3d"stacked" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-i-sh-r.png" /\x3e\x3c/li\x3e\n                    \x3c/ul\x3e\n                    \x3cul class\x3d"layoutFilter textOnly"\x3e\n                        \x3cli class\x3d"inlineVertical" data-itemArrangement\x3d"inline" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-t-iv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineHorizontal" data-itemArrangement\x3d"inline" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-t-ih-r.png" /\x3e\x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\n                \x3cdiv class\x3d"iconStyleContainer margin-bottom--lv3"\x3e\n                    \x3clabel\x3eIcon style\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"iconTypeInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"solid"\x3eSolid\x3c/option\x3e\n                        \x3coption value\x3d"outline"\x3eOutlined\x3c/option\x3e\n                    \x3c/select\x3e\n                    \x3cdiv class\x3d"c-iconStyleSelector" data-dojo-attach-point\x3d"iconStyleSelector"\x3e\n                        \x3cdiv class\x3d"iconType solid" data-dojo-attach-point\x3d"solidTypeContainer"\x3e\n                            \x3cdiv class\x3d"iconStyle color" data-iconStyle\x3d"color"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle dark" data-iconStyle\x3d"dark"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle light" data-iconStyle\x3d"light"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle" data-iconStyle\x3d"gray"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"iconType outline" data-dojo-attach-point\x3d"outlineTypeContainer"\x3e\n                            \x3cdiv class\x3d"iconStyle color" data-iconStyle\x3d"color"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle dark" data-iconStyle\x3d"dark"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle light" data-iconStyle\x3d"light"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle" data-iconStyle\x3d"gray"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialFollowEditor/editorMobile.html":'\x3cdiv class\x3d"mojoSocialFollowEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainerMobile" data-dojo-props\x3d"header: \'Social Follow\'" class\x3d"colbody colbodyInnerFull"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv3 !margin-left--lv0"\x3eSocial Follow\x3c/h5\x3e\n            \x3cdiv data-dojo-attach-point\x3d"itemList" class\x3d"mojoItems--mobile"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"above-below15 padding--lv3 alignc"\x3e\n                \x3cspan class\x3d"small-meta"\x3eAdd up to 10 services in each block.\x3cbr /\x3eChoose a layout in the Settings tab.\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eSocial Follow settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eDisplay\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"displayInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"icon"\x3eIcon only\x3c/option\x3e\n                        \x3coption value\x3d"text"\x3eText only\x3c/option\x3e\n                        \x3coption value\x3d"both"\x3eBoth icon and text\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"adjustableWidthInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d""\x3eFit to size\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\n                \x3clabel\x3eLayout\x3c/label\x3e\n                \x3cdiv class\x3d"mojoSocialLayoutList selfclear !margin-bottom--lv4" data-dojo-attach-point\x3d"layoutSelector"\x3e\n                    \x3cul class\x3d"layoutFilter iconAndText"\x3e\n                        \x3cli class\x3d"stackedVertical" data-itemArrangement\x3d"stacked" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-it-sv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineVertical" data-itemArrangement\x3d"inline" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-it-iv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineHorizontal" data-itemArrangement\x3d"inline" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-it-ih-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"stackedHorizontal" data-itemArrangement\x3d"stacked" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-it-sh-r.png" /\x3e\x3c/li\x3e\n                    \x3c/ul\x3e\n                    \x3cul class\x3d"layoutFilter iconOnly"\x3e\n                        \x3cli class\x3d"stackedVertical" data-itemArrangement\x3d"stacked" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-i-sv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineVertical" data-itemArrangement\x3d"inline" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-i-iv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineHorizontal" data-itemArrangement\x3d"inline" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-i-ih-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"stackedHorizontal" data-itemArrangement\x3d"stacked" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-i-sh-r.png" /\x3e\x3c/li\x3e\n                    \x3c/ul\x3e\n                    \x3cul class\x3d"layoutFilter textOnly"\x3e\n                        \x3cli class\x3d"inlineVertical" data-itemArrangement\x3d"inline" data-blockLayout\x3d"vertical"\x3e\x3cimg src\x3d"/images/social-t-iv-r.png" /\x3e\x3c/li\x3e\n                        \x3cli class\x3d"inlineHorizontal" data-itemArrangement\x3d"inline" data-blockLayout\x3d"horizontal"\x3e\x3cimg src\x3d"/images/social-t-ih-r.png" /\x3e\x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e\n\n                \x3cdiv class\x3d"iconStyleContainer margin-bottom--lv3"\x3e\n                    \x3clabel\x3eIcon style\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"iconTypeInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"solid"\x3eSolid\x3c/option\x3e\n                        \x3coption value\x3d"outline"\x3eOutlined\x3c/option\x3e\n                    \x3c/select\x3e\n                    \x3cdiv class\x3d"c-iconStyleSelector" data-dojo-attach-point\x3d"iconStyleSelector"\x3e\n                        \x3cdiv class\x3d"iconType solid" data-dojo-attach-point\x3d"solidTypeContainer"\x3e\n                            \x3cdiv class\x3d"iconStyle color" data-iconStyle\x3d"color"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/color-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle dark" data-iconStyle\x3d"dark"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/dark-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle light" data-iconStyle\x3d"light"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/light-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle" data-iconStyle\x3d"gray"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/gray-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                        \x3cdiv class\x3d"iconType outline" data-dojo-attach-point\x3d"outlineTypeContainer"\x3e\n                            \x3cdiv class\x3d"iconStyle color" data-iconStyle\x3d"color"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-color-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle dark" data-iconStyle\x3d"dark"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-dark-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle light" data-iconStyle\x3d"light"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-light-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"iconStyle" data-iconStyle\x3d"gray"\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-facebook-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-twitter-128.png" /\x3e\n                                \x3cimg src\x3d"${iconBaseUrl}/outline-gray-instagram-128.png" /\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ButtonEditor/editor.html":'\x3cdiv class\x3d"mojoButtonEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainer" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInner"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"content" data-dojo-attach-point\x3d"contentEditorContainer" data-mojo-selected\x3d"true"\x3e\n            \x3cfieldset\x3e\n                \x3clabel\x3eButton text\x3c/label\x3e\n                \x3cdiv class\x3d"padright"\x3e\n                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"buttonTextInput" data-dojo-type\x3d"dijit.form.TextBox" class\x3d"fullwidth" /\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cdiv data-dojo-attach-point\x3d"linkForm"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"settings" data-dojo-attach-point\x3d"settingsEditorContainer"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonAlignInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonWidthInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d""\x3eFit to text\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:_save"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ButtonEditor/editorMobile.html":'\x3cdiv class\x3d"mojoButtonEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainerMobile" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInnerFull"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"content" data-dojo-attach-point\x3d"contentEditorContainer" data-mojo-selected\x3d"true"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-left--lv0"\x3eButton\x3c/h5\x3e\n            \x3cfieldset\x3e\n                \x3clabel\x3eButton text\x3c/label\x3e\n                \x3cdiv class\x3d"padright"\x3e\n                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"buttonTextInput" data-dojo-type\x3d"dijit.form.TextBox" class\x3d"fullwidth" /\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cdiv data-dojo-attach-point\x3d"linkForm"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"settings" data-dojo-attach-point\x3d"settingsEditorContainer"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonAlignInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonWidthInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                        \x3coption value\x3d""\x3eFit to text\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/FooterEditor/editor.html":'\x3cdiv class\x3d"mojoTextEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainer" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cdiv class\x3d"padding--lv3 !padding-top--lv0" data-dojo-attach-point\x3d"footerContactInfo"\x3e\n                \x3cp class\x3d"small-meta"\x3e\n                    We may automatically add your contact info into the Footer Block.\n                    Contact information is required in all campaigns to comply with the\n                    \x3ca onclick\x3d"ga(\'send\', \'event\', window.location.pathname, \'help link\', \'CAN-SPAM ACT\');" href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/terms-of-use-and-anti-spam-requirements-for-campaigns" target\x3d"_blank"\x3eCAN-SPAM Act and international spam law\x3c/a\x3e.\n                \x3c/p\x3e\n                \x3ca class\x3d"button" style\x3d"display:none" data-dojo-attach-point\x3d"editContactInfo" href\x3d"#"\x3eedit contact info\x3c/a\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"columnSelector" class\x3d"c-editortabs"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3"\x3e\n                \x3ca href\x3d"#" class\x3d"button !margin-right--lv0" data-dojo-attach-point\x3d"switchContentBtn" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eFooter block settings\x3c/h5\x3e\n                \x3clabel\x3eNumber of columns\x3c/label\x3e\n                \x3cselect data-dojo-attach-point\x3d"columnSelectInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                    \x3coption value\x3d"1"\x3e1 column\x3c/option\x3e\n                    \x3coption value\x3d"2"\x3e2 columns\x3c/option\x3e\n                \x3c/select\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset data-dojo-attach-point\x3d"splitSelectorSection"\x3e\n                \x3clabel\x3eColumn split\x3c/label\x3e\n                \x3cul class\x3d"mojoImageGroupLayoutList" data-dojo-attach-point\x3d"splitSelector"\x3e\x3c/ul\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3cspan class\x3d"small-meta" data-dojo-attach-point\x3d"timestampContainer"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/FooterEditor/editorMobile.html":'\x3cdiv class\x3d"mojoTextEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainerMobile" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInnerFull position--static@editorActive"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody position--static@editorActive" data-mojo-section\x3d"content" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv3 !margin-left--lv0" data-dojo-attach-point\x3d"sectionHeader"\x3eFooter\x3c/h5\x3e\n            \x3cdiv class\x3d"padding--lv3 !padding-top--lv0" data-dojo-attach-point\x3d"footerContactInfo"\x3e\n                \x3cp class\x3d"small-meta"\x3e\n                    We may automatically add your contact info into the Footer Block.\n                    Contact information is required in all campaigns to comply with the\n                    \x3ca onclick\x3d"ga(\'send\', \'event\', window.location.pathname, \'help link\', \'CAN-SPAM ACT\');" href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/terms-of-use-and-anti-spam-requirements-for-campaigns" target\x3d"_blank"\x3eCAN-SPAM Act and international spam law\x3c/a\x3e.\n                \x3c/p\x3e\n                \x3ca class\x3d"button" style\x3d"display:none" data-dojo-attach-point\x3d"editContactInfo" href\x3d"#"\x3eedit contact info\x3c/a\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"c-editortabs" data-dojo-attach-point\x3d"columnSelector"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3" data-dojo-attach-point\x3d"recoverContentWarning"\x3e\n                \x3ca href\x3d"#" class\x3d"button !margin-right--lv0" data-dojo-attach-point\x3d"switchContentBtn" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eFooter block settings\x3c/h5\x3e\n                \x3clabel\x3eNumber of columns\x3c/label\x3e\n                \x3cselect data-dojo-attach-point\x3d"columnSelectInput" data-dojo-type\x3d"dijit.form.Select"\x3e\n                    \x3coption value\x3d"1"\x3e1 column\x3c/option\x3e\n                    \x3coption value\x3d"2"\x3e2 columns\x3c/option\x3e\n                \x3c/select\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset data-dojo-attach-point\x3d"splitSelectorSection"\x3e\n                \x3clabel\x3eColumn split\x3c/label\x3e\n                \x3cul class\x3d"mojoImageGroupLayoutList" data-dojo-attach-point\x3d"splitSelector"\x3e\x3c/ul\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/CodeEditor/editor.html":'\x3cdiv class\x3d"mojoCodeEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainer" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"columnSelector" class\x3d"c-editortabs"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"editorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"codeDisclaimer"\x3e\n                \x3cp\x3e\n                    \x3cstrong\x3eCaution:\x3c/strong\x3e This block type is for HTML experts only.\n                    \x3cspan data-dojo-attach-point\x3d"emailHTMLCodeWarning"\x3eWe recommend brushing up on \x3ca href\x3d"http://templates.mailchimp.com/getting-started/html-email-basics/" target\x3d"_blank"\x3eHTML Email Basics\x3c/a\x3e.\x3c/span\x3e\n\n                \x3c/p\x3e\n\n                \x3cp\x3e\n                    \x3cstrong\x3eUseful Classes:\x3c/strong\x3e\x3cbr /\x3e\n                    \x3ccode\x3emcnTextContent\x3c/code\x3e - Add to any container (e.g. \x3cspan class\x3d"code"\x3e\x26lt;div\x26gt;\x3c/span\x3e, \x3cspan class\x3d"code"\x3e\x26lt;span\x26gt;\x3c/span\x3e, or \x3cspan class\x3d"code"\x3e\x26lt;td\x26gt;\x3c/span\x3e) to inherit all text styles you\'ve set in the Design tab.\x3cbr /\x3e\n                    \x3ccode\x3emcnImage\x3c/code\x3e - Add to \x3cspan class\x3d"code"\x3e\x26lt;img\x26gt;\x3c/span\x3e tags to get rid of the space below images and make them fluid in mobile email clients that support media queries.\n                \x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"alignr padding--lv3"\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"switchContentBtn" class\x3d"button !margin-right--lv0" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3cspan class\x3d"small-meta" data-dojo-attach-point\x3d"timestampContainer"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/RssItemsEditor/editor.html":'\x3cdiv class\x3d"mojoTextEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainer" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader cursor-pointer !margin-top--lv0" title\x3d"Click to highlight in preview."\x3e${presetsLabel}\x3c/h5\x3e\n                \x3cdiv data-dojo-attach-point\x3d"presetContainer"\x3e\x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"mergeTagPreviewToggle"\x3e\n                    \x3ca href\x3d"#" class\x3d"disclosure-closed" onclick\x3d"mojo.utils.disclosureElement(\'merge-tag-preview\', this, true); return false;"\x3eshow the markup\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cdiv style\x3d"display:none;" class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv id\x3d"merge-tag-preview" data-dojo-attach-point\x3d"mergeTagPreview" class\x3d"code padding--lv3 border-bottom" style\x3d"display:none"\x3e\x3c/div\x3e\n\n            \x3cdiv class\x3d"padding--lv3"\x3e\n                \x3cp class\x3d"small-meta"\x3eLearn more about the code used above:\x3cbr /\x3e\n                    \x3ca href\x3d"http://kb.mailchimp.com/merge-tags/rss-blog/rss-channel-tags" target\x3d"_blank"\x3eRSS Merge Tags\x3c/a\x3e\n                \x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3cspan class\x3d"small-meta" data-dojo-attach-point\x3d"timestampContainer"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/neapolitan/editors/blocks/templates/RssItemsEditor/excerptsContent.html":'Excerpts:\n*|RSSITEMS:|*\n\x3ch2 class\x3d"mc-toc-title"\x3e\x3ca href\x3d"*|RSSITEM:URL|*" target\x3d"_blank"\x3e*|RSSITEM:TITLE|*\x3c/a\x3e\x3c/h2\x3e\n*|RSSITEM:CONTENT|*\n\x3cbr /\x3e\n\x3ca href\x3d"*|RSSITEM:URL|*" target\x3d"_blank"\x3eRead on \x26raquo;\x3c/a\x3e\x3cbr /\x3e\n\x3cbr /\x3e\n*|END:RSSITEMS|*\n',"url:mojo/neapolitan/editors/blocks/templates/RssItemsEditor/titlesContent.html":'\x3cul\x3e\n*|RSSITEMS:|*\n\x3cli\x3e\x3ca href\x3d"*|RSSITEM:URL|*" target\x3d"_blank"\x3e*|RSSITEM:TITLE|*\x3c/a\x3e\x3c/li\x3e\n*|END:RSSITEMS|*\n\x3c/ul\x3e',
"url:mojo/neapolitan/editors/blocks/templates/RssItemsEditor/fullContent.html":'*|RSSITEMS:|*\n\x3ch2 class\x3d"mc-toc-title"\x3e\x3ca href\x3d"*|RSSITEM:URL|*" target\x3d"_blank"\x3e*|RSSITEM:TITLE|*\x3c/a\x3e\x3c/h2\x3e\n\x3cem\x3eBy *|RSSITEM:AUTHOR|* on *|RSSITEM:DATE|*\x3c/em\x3e\x3cbr /\x3e\n*|RSSITEM:CONTENT_FULL|*\x3cbr /\x3e\n\x3ca href\x3d"*|RSSITEM:URL|*" target\x3d"_blank"\x3eRead in browser \x26raquo;\x3c/a\x3e\x3cbr /\x3e\n*|RSSITEM:TWITTER|* *|RSSITEM:LIKE|*\x3cbr /\x3e\n\x3cbr /\x3e\n*|END:RSSITEMS|*\x3cbr /\x3e\n\x3cbr /\x3e\n\x3cbr /\x3e\n\x3ch3 class\x3d"h3"\x3eRecent Articles:\x3c/h3\x3e\n*|RSS:RECENT|*\n',
"url:mojo/neapolitan/editors/blocks/templates/RssHeaderEditor/basicContent.html":'\x3ch1 class\x3d"h1"\x3e*|RSSFEED:TITLE|*\x3c/h1\x3e\n*|RSSFEED:DESCRIPTION|*\x3cbr /\x3e\n\x3cbr /\x3e',"url:mojo/neapolitan/editors/blocks/templates/RssHeaderEditor/intermediateContent.html":'\x3ch1 class\x3d"h1"\x3e*|RSSFEED:TITLE|*\x3c/h1\x3e\nLatest posts from *|RSSFEED:URL|* on *|RSSFEED:DATE|*\x3cbr /\x3e\n\x3cbr /\x3e\n',"url:mojo/neapolitan/editors/blocks/templates/RssHeaderEditor/advancedContent.html":"Updates from *|RSSFEED:URL|*\n\x3ch1\x3e*|RSSFEED:TITLE|*\x3c/h1\x3e\n\x3cstrong\x3e*|RSSFEED:DESCRIPTION|*\x3c/strong\x3e\x3cbr /\x3e\n\x3cbr /\x3e\n\x3cstrong\x3eIn the *|RSSFEED:DATE|* edition:\x3c/strong\x3e\x3cbr /\x3e\n*|MC:TOC|*\x3cbr /\x3e",
"url:mojo/neapolitan/editors/blocks/templates/RssItemsEditor/editorMobile.html":'\x3cdiv class\x3d"mojoTextEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainerMobile" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInnerFull"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader cursor-pointer !margin-top--lv0" title\x3d"Click to highlight in preview."\x3e${presetsLabel}\x3c/h5\x3e\n                \x3cdiv data-dojo-attach-point\x3d"presetContainer"\x3e\x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"mergeTagPreviewToggle"\x3e\n                    \x3ca href\x3d"#" class\x3d"disclosure-closed" onclick\x3d"mojo.utils.disclosureElement(\'merge-tag-preview\', this, true); return false;"\x3eshow the markup\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cdiv style\x3d"display:none;" class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv id\x3d"merge-tag-preview" data-dojo-attach-point\x3d"mergeTagPreview" class\x3d"code padding--lv3 border-bottom" style\x3d"display:none"\x3e\x3c/div\x3e\n\n            \x3cdiv class\x3d"padding--lv3"\x3e\n                \x3cp class\x3d"small-meta"\x3eLearn more about the code used above:\x3cbr /\x3e\n                    \x3ca href\x3d"http://kb.mailchimp.com/merge-tags/rss-blog/rss-channel-tags" target\x3d"_blank"\x3eRSS Merge Tags\x3c/a\x3e\n                \x3c/p\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/VideoEditor/editor.html":'\x3cdiv class\x3d"mojoImageWithCaptionEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header:this.block._name" class\x3d"colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"videoUrlRow"\x3e\n                \x3cfieldset class\x3d"editordivider"\x3e\n                    \x3cdiv class\x3d"style-field float-left"\x3e\n                        \x3clabel\x3eVideo URL\x3c/label\x3e\n                        \x3cinput data-dojo-attach-point\x3d"videoUrlInput" type\x3d"url" value\x3d""\x3e\n                        \x3cdiv class\x3d"field-help"\x3eYour video preview image will link to this URL. Preview images are generated automatically for \x3ca href\x3d"http://youtube.com" target\x3d"_blank"\x3eYouTube\x3c/a\x3e and \x3ca href\x3d"http://vimeo.com" target\x3d"_blank"\x3eVimeo\x3c/a\x3e URLs.\x3c/div\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"thumbnailError" class\x3d"invalid-error" style\x3d"display:none;"\x3eSorry, we can\'t generate a preview image for that URL. Please upload an image.\x3c/div\x3e\n\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"imageRowContainer" style\x3d"display:none;"\x3e\n                \x3cul data-dojo-attach-point\x3d"imageRow" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageRow" data-dojo-props\x3d"canAddLink: false"\x3e\x3c/ul\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3"\x3e\n                \x3ca href\x3d"#" class\x3d"button !margin-right--lv0" data-dojo-attach-point\x3d"switchContentBtn" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eVideo settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eCaption position\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionPositionInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"top"\x3eTop\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                        \x3coption value\x3d"bottom"\x3eBottom\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left" data-dojo-attach-point\x3d"alignInputContainer"\x3e\n                    \x3clabel\x3eImage alignment\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"captionWidthInputContainer" style\x3d"display:none;" class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3e\x3cspan data-dojo-attach-point\x3d"captionSide"\x3e\x3c/span\x3eCaption width\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"one-third"\x3eOne-third\x3c/option\x3e\n                        \x3coption value\x3d"half"\x3eHalf\x3c/option\x3e\n                        \x3coption value\x3d"two-third"\x3eTwo-thirds\x3c/option\x3e\n                        \x3coption value\x3d"three-quarter"\x3eThree-quarters\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eMargins\x3c/label\x3e\n                    \x3clabel class\x3d"checkbox" for\x3d"edgeToEdgeToggle_${id}"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"edgeToEdgeToggle" data-dojo-type\x3d"dijit/form/CheckBox" id\x3d"edgeToEdgeToggle_${id}"\x3eEdge to edge\x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3cspan class\x3d"small-meta" data-dojo-attach-point\x3d"timestampContainer"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/VideoEditor/editorMobile.html":'\x3cdiv class\x3d"mojoImageWithCaptionEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainerMobile" data-dojo-props\x3d"header:this.block._name" class\x3d"colbody colbodyInnerFull position--static@editorActive"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody position--static@editorActive" data-mojo-section\x3d"content" data-mojo-selected\x3d"true" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv3 !margin-left--lv0" data-dojo-attach-point\x3d"sectionHeader"\x3eVideo\x3c/h5\x3e\n            \x3cdiv data-dojo-attach-point\x3d"videoUrlRow" class\x3d"v-paneFieldsetWrapper"\x3e\n                \x3cfieldset class\x3d"editordivider"\x3e\n                    \x3cdiv class\x3d"style-field float-left "\x3e\n                        \x3clabel\x3eVideo URL\x3c/label\x3e\n                        \x3cinput data-dojo-attach-point\x3d"videoUrlInput" type\x3d"url" value\x3d""\x3e\n                        \x3cdiv class\x3d"field-help"\x3eYour video preview image will link to this URL. Preview images are generated automatically for \x3ca href\x3d"http://youtube.com" target\x3d"_blank"\x3eYouTube\x3c/a\x3e and \x3ca href\x3d"http://vimeo.com" target\x3d"_blank"\x3eVimeo\x3c/a\x3e URLs.\x3c/div\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"thumbnailError" class\x3d"invalid-error" style\x3d"display:none;"\x3eSorry, we can\'t generate a preview image for that URL. Please upload an image.\x3c/div\x3e\n\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"imageRowContainer" style\x3d"display:none;"\x3e\n                \x3cul data-dojo-attach-point\x3d"imageRow" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageRow" data-dojo-props\x3d"canAddLink: false, isMobile: true"\x3e\x3c/ul\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3" data-dojo-attach-point\x3d"recoverContentWarning"\x3e\n                \x3ca href\x3d"#" class\x3d"button !margin-right--lv0" data-dojo-attach-point\x3d"switchContentBtn" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eVideo settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eCaption position\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionPositionInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"top"\x3eTop\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                        \x3coption value\x3d"bottom"\x3eBottom\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left" data-dojo-attach-point\x3d"alignInputContainer"\x3e\n                    \x3clabel\x3eImage alignment\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"captionWidthInputContainer" style\x3d"display:none;" class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3e\x3cspan data-dojo-attach-point\x3d"captionSide"\x3e\x3c/span\x3eCaption width\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"one-third"\x3eOne-third\x3c/option\x3e\n                        \x3coption value\x3d"half"\x3eHalf\x3c/option\x3e\n                        \x3coption value\x3d"two-third"\x3eTwo-thirds\x3c/option\x3e\n                        \x3coption value\x3d"three-quarter"\x3eThree-quarters\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eMargins\x3c/label\x3e\n                    \x3clabel class\x3d"checkbox" for\x3d"edgeToEdgeToggle_${id}"\x3e\x3cinput type\x3d"checkbox" data-dojo-attach-point\x3d"edgeToEdgeToggle" data-dojo-type\x3d"dijit/form/CheckBox" id\x3d"edgeToEdgeToggle_${id}"\x3eEdge to edge\x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ApiEditor/editor.html":'\x3cdiv class\x3d"mojoCodeEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainer" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"columnSelector" class\x3d"c-editortabs"\x3e\x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"editorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"codeDisclaimer"\x3e\n                \x3cp\x3e\x3c!-- Description here --\x3e\x3c/p\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"alignr padding--lv3"\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"switchContentBtn" class\x3d"button !margin-right--lv0" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3cspan class\x3d"small-meta" data-dojo-attach-point\x3d"timestampContainer"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/EcommBlock/storeMismatch.html":"Your \x3cb\x3e\x3c%- storeName %\x3e\x3c/b\x3e store isn\u2019t connected to your \x3cb\x3e\x3c%- campaignListName %\x3e\x3c/b\x3e list. \x3cb\x3e\x3c%- storeName %\x3e\x3c/b\x3e store purchase data from this campaign will be synced to your \x3cb\x3e\x3c%- storesListName %\x3e\x3c/b\x3e list. You can switch lists or continue with your current setup.","url:mojo/neapolitan/editors/blocks/templates/EcommBlock/storeMismatchTitle.html":"We noticed you\u2019re sending to your \x3c%-campaignListName %\x3e list.",
"url:mojo/neapolitan/editors/blocks/templates/EcommBlock/pRexStoreMismatch.html":"We noticed you're sending to your \x3cb\x3e\x3c%- campaignListName %\x3e\x3c/b\x3e list, which isn't connected to your \x3cb\x3e\x3c%- storeName %\x3e\x3c/b\x3e store. These product recommendations won't display unless you switch to a connected list.","url:mojo/neapolitan/editors/blocks/templates/EcommBlock/pRexStoreMismatchTitle.html":"Product recommendations require a connected list.","url:mojo/neapolitan/editors/blocks/templates/ProductRecEditor/editor.html":'\x3cdiv class\x3d"mojoProductRecEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header: \'Product Recommendation\'" class\x3d"colbody colbodyInner" data-dojo-attach-point\x3d"EditorContainer"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n\n            \x3c!-- Single Store --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"oneStoreLabel" class\x3d"border-top--dotted padding--lv3 !padding-top-bottom--lv0 hide"\x3e\n                \x3cdiv class\x3d"padding--lv2 !padding-left-right--lv0 small-meta"\x3e\n                    Products will be recommended from your\n                    \x3cspan data-dojo-attach-point\x3d"storeNameLabel" class\x3d"fwb"\x3e\x3c/span\x3e\n                    store.\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Multiple Stores --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"storeSelectContainer" class\x3d"border-top--dotted padding--lv3"\x3e\n                \x3cfieldset class\x3d"!padding--lv0"\x3e\n                    \x3clabel class\x3d"!padding--lv0"\x3e\n                        \x3cspan class\x3d"block !margin-bottom--lv2"\x3eRecommend products from\x3c/span\x3e\n                        \x3cselect data-dojo-attach-point\x3d"storeSelectDropdown" data-dojo-type\x3d"dijit/form/Select" class\x3d"!margin--lv0"\x3e\x3c/select\x3e\n                    \x3c/label\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"storeInfo" class\x3d"hide margin--lv3 margin-top--lv0"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"configurationFields"\x3e\n                \x3cfieldset class\x3d"border-top--dotted"\x3e\n                    \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n                        \x3clabel class\x3d"!padding--lv0"\x3e\n                            \x3cspan class\x3d"block !margin-bottom--lv2"\x3eNumber of recommendations\x3c/span\x3e\n                            \x3cselect data-dojo-attach-point\x3d"numProductsSelectInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                                \x3coption value\x3d"1"\x3e1 product\x3c/option\x3e\n                                \x3coption value\x3d"2"\x3e2 products\x3c/option\x3e\n                                \x3coption value\x3d"3"\x3e3 products\x3c/option\x3e\n                                \x3coption value\x3d"4"\x3e4 products\x3c/option\x3e\n                            \x3c/select\x3e\n                        \x3c/label\x3e\n\n                        \x3clabel class\x3d"!padding--lv0"\x3e\n                            \x3cspan class\x3d"block !margin-bottom--lv2"\x3eRange to display\x3c/span\x3e\n                            \x3cselect data-dojo-attach-point\x3d"startIndexSelectInput" data-dojo-type\x3d"dijit/form/Select" class\x3d"!margin--lv0"\x3e\x3c/select\x3e\n                            \x3cspan class\x3d"field-help"\x3eTo avoid duplicate products with multiple Product Recommendation blocks, adjust the range.\x3c/span\x3e\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n\n                \x3cfieldset\x3e\n                    \x3ch5 class\x3d"c-paneSectionHeader"\x3eOptional details\x3c/h5\x3e\n\n                    \x3clabel for\x3d"title_enabled_${id}"\x3e\n                        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"titleToggle" value\x3d"true" id\x3d"title_enabled_${id}"\x3eTitle\n                    \x3c/label\x3e\n\n                    \x3clabel for\x3d"price_enabled_${id}" class\x3d""\x3e\n                        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"priceToggle" value\x3d"true" id\x3d"price_enabled_${id}"\x3ePrice\n                    \x3c/label\x3e\n                    \x3cdiv class\x3d"field-wrapper"\x3e\n                        \x3clabel for\x3d"button_enabled_${id}" class\x3d"checkbox"\x3e\n                            \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"buttonToggle" value\x3d"true" id\x3d"button_enabled_${id}"\x3eButton\n                            \x3cdiv class\x3d"checkbox-description hide" data-dojo-attach-point\x3d"noLinkOptionLabel"\x3eLinks to the product page\x3c/div\x3e\n\n                            \x3cdiv data-dojo-attach-point\x3d"buttonSettingsContainer" class\x3d"checkbox-description margin--lv3 !margin-left-right--lv0 !margin-bottom--lv0 hide"\x3e\n                                \x3clabel class\x3d"!padding--lv0 hide" data-dojo-attach-point\x3d"buttonLinkContainer"\x3e\n                                    \x3cspan class\x3d"block !margin-bottom--lv2"\x3eLink to\x3c/span\x3e\n                                    \x3cselect data-dojo-attach-point\x3d"buttonLinkTypeSelectInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                                        \x3coption value\x3d"product"\x3eProduct page\x3c/option\x3e\n                                        \x3coption value\x3d"cart"\x3eProduct in cart\x3c/option\x3e\n                                    \x3c/select\x3e\n                                \x3c/label\x3e\n\n                                \x3clabel class\x3d"!padding--lv0"\x3e\n                                    \x3cspan class\x3d"block !margin-bottom--lv2"\x3eButton text\x3c/span\x3e\n                                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"buttonTextInput" data-dojo-type\x3d"dijit/form/TextBox"/\x3e\n                                \x3c/label\x3e\n                            \x3c/div\x3e\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field selfclear"\x3e\n                    \x3clabel\x3eLayout\x3c/label\x3e\n\n                    \x3cul data-dojo-attach-point\x3d"layoutSelectList"\x3e\n\n                        \x3cli class\x3d"mojoImageGroupLayout float-left" data-layout\x3d"vertical"\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with2"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/li\x3e\n\n                        \x3cli class\x3d"mojoImageGroupLayout float-left" data-layout\x3d"horizontal"\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with1"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with1"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonAlignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d""\x3eFit to text\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"ConnectAStore" class\x3d"hide colbody colbodyInner display--flex justify-content--center align-items--center text-align--center"\x3e\n        \x3cdiv class\x3d"flex--1 margin--lv8"\x3e\n            \x3cimg src\x3d"/images/campaigns/content-blocks/${type}.svg" class\x3d"max-width--50" data-dojo-attach-point\x3d"ConnectAStoreImage"/\x3e\n            \x3cp class\x3d"margin-bottom--lv4"\x3e\n                Connect your store to use product recommendations and other powerful features that can help you sell more stuff.\n            \x3c/p\x3e\n            \x3cp\x3e\n                \x3ca href\x3d"${connectAStoreUrl}" class\x3d"button p0" data-dojo-attach-point\x3d"connectAStoreButton"\x3eConnect\x3c/a\x3e\n                \x3cbutton data-dojo-attach-event\x3d"onclick:saveAndHide" class\x3d"button" data-dojo-attach-point\x3d"connectAStoreCancelButton"\x3eCancel\x3c/button\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane" data-dojo-attach-point\x3d"ActionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ProductRecEditor/editorMobile.html":'\x3cdiv class\x3d"mojoProductRecEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainerMobile" data-dojo-props\x3d"header: \'Product Recommendation\'" class\x3d"colbody colbodyInnerFull" data-dojo-attach-point\x3d"EditorContainer"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv0 !margin-left--lv0"\x3eProduct Recommendation\x3c/h5\x3e\n\n            \x3c!-- Single Store --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"oneStoreLabel" class\x3d"padding--lv3 !padding-top-bottom--lv0 hide"\x3e\n                \x3cdiv class\x3d"padding--lv2 !padding-left-right--lv0 small-meta"\x3e\n                    Products will be recommended from your\n                    \x3cspan data-dojo-attach-point\x3d"storeNameLabel" class\x3d"fwb"\x3e\x3c/span\x3e\n                    store.\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Multiple Stores --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"storeSelectContainer" class\x3d"border-top--dotted padding--lv3"\x3e\n                \x3cfieldset class\x3d"!padding--lv0"\x3e\n                    \x3clabel class\x3d"!padding--lv0"\x3e\n                        \x3cspan class\x3d"block !margin-bottom--lv2"\x3eRecommend products from\x3c/span\x3e\n                        \x3cselect data-dojo-attach-point\x3d"storeSelectDropdown" data-dojo-type\x3d"dijit/form/Select" class\x3d"!margin--lv0"\x3e\x3c/select\x3e\n                    \x3c/label\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"storeInfo" class\x3d"hide margin--lv3 margin-top--lv0"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"configurationFields"\x3e\n                \x3cfieldset class\x3d"border-top--dotted"\x3e\n                    \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n                        \x3clabel class\x3d"!padding--lv0"\x3e\n                            \x3cspan class\x3d"block !margin-bottom--lv2"\x3eNumber of recommendations\x3c/span\x3e\n                            \x3cselect data-dojo-attach-point\x3d"numProductsSelectInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                                \x3coption value\x3d"1"\x3e1 product\x3c/option\x3e\n                                \x3coption value\x3d"2"\x3e2 products\x3c/option\x3e\n                                \x3coption value\x3d"3"\x3e3 products\x3c/option\x3e\n                                \x3coption value\x3d"4"\x3e4 products\x3c/option\x3e\n                            \x3c/select\x3e\n                        \x3c/label\x3e\n\n                        \x3clabel class\x3d"!padding--lv0"\x3e\n                            \x3cspan class\x3d"block !margin-bottom--lv2"\x3eRange to display\x3c/span\x3e\n                            \x3cselect data-dojo-attach-point\x3d"startIndexSelectInput" data-dojo-type\x3d"dijit/form/Select" class\x3d"!margin--lv0"\x3e\x3c/select\x3e\n                            \x3cspan class\x3d"field-help"\x3eTo avoid duplicate products with multiple Product Recommendation blocks, adjust the range.\x3c/span\x3e\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n\n                \x3cfieldset\x3e\n                    \x3ch5 class\x3d"c-paneSectionHeader"\x3eOptional details\x3c/h5\x3e\n\n                    \x3clabel for\x3d"title_enabled_${id}"\x3e\n                        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"titleToggle" value\x3d"true" id\x3d"title_enabled_${id}"\x3eTitle\n                    \x3c/label\x3e\n\n                    \x3clabel for\x3d"price_enabled_${id}" class\x3d""\x3e\n                        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"priceToggle" value\x3d"true" id\x3d"price_enabled_${id}"\x3ePrice\n                    \x3c/label\x3e\n                    \x3cdiv class\x3d"field-wrapper"\x3e\n                        \x3clabel for\x3d"button_enabled_${id}" class\x3d"checkbox"\x3e\n                            \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"buttonToggle" value\x3d"true" id\x3d"button_enabled_${id}"\x3eButton\n                            \x3cdiv class\x3d"checkbox-description hide" data-dojo-attach-point\x3d"noLinkOptionLabel"\x3eLinks to the product page\x3c/div\x3e\n\n                            \x3cdiv data-dojo-attach-point\x3d"buttonSettingsContainer" class\x3d"checkbox-description margin--lv3 !margin-left-right--lv0 !margin-bottom--lv0 hide"\x3e\n                                \x3clabel class\x3d"!padding--lv0 hide" data-dojo-attach-point\x3d"buttonLinkContainer"\x3e\n                                    \x3cspan class\x3d"block !margin-bottom--lv2"\x3eLink to\x3c/span\x3e\n                                    \x3cselect data-dojo-attach-point\x3d"buttonLinkTypeSelectInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                                        \x3coption value\x3d"product"\x3eProduct page\x3c/option\x3e\n                                        \x3coption value\x3d"cart"\x3eProduct in cart\x3c/option\x3e\n                                    \x3c/select\x3e\n                                \x3c/label\x3e\n\n                                \x3clabel class\x3d"!padding--lv0"\x3e\n                                    \x3cspan class\x3d"block !margin-bottom--lv2"\x3eButton text\x3c/span\x3e\n                                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"buttonTextInput" data-dojo-type\x3d"dijit/form/TextBox"/\x3e\n                                \x3c/label\x3e\n                            \x3c/div\x3e\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field selfclear"\x3e\n                    \x3clabel\x3eLayout\x3c/label\x3e\n\n                    \x3cul data-dojo-attach-point\x3d"layoutSelectList"\x3e\n\n                        \x3cli class\x3d"mojoImageGroupLayout float-left" data-layout\x3d"vertical"\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with2"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/li\x3e\n\n                        \x3cli class\x3d"mojoImageGroupLayout float-left" data-layout\x3d"horizontal"\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with1"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with1"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonAlignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d""\x3eFit to text\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"ConnectAStore" class\x3d"hide colbody colbodyInner display--flex justify-content--center align-items--center text-align--center"\x3e\n        \x3cdiv class\x3d"flex--1 margin--lv8"\x3e\n            \x3cimg src\x3d"/images/campaigns/content-blocks/${type}.svg" class\x3d"max-width--50" data-dojo-attach-point\x3d"ConnectAStoreImage" /\x3e\n            \x3cp class\x3d"margin-bottom--lv4 full-width"\x3eTo use product recommendations and other powerful e-commerce features, open MailChimp.com in a web browser and connect your store.\x3c/p\x3e\n            \x3cp class\x3d"full-width"\x3e\n                \x3cbutton data-dojo-attach-event\x3d"onclick:saveAndHide" class\x3d"button margin-right--lv0"\x3eCancel\x3c/button\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ProductEditor/editor.html":'\x3cdiv class\x3d"mojoProductEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header: \'Product\'" class\x3d"colbody colbodyInner" data-dojo-attach-point\x3d"EditorContainer"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n\n            \x3c!-- Single Store --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"oneStoreLabel" class\x3d"border-top--dotted padding--lv3 !padding-top-bottom--lv0 hide"\x3e\n                \x3cdiv class\x3d"padding--lv2 !padding-left-right--lv0 small-meta"\x3e\n                    Add products from your\n                    \x3cspan data-dojo-attach-point\x3d"storeNameLabel" class\x3d"fwb"\x3e\x3c/span\x3e\n                    store.\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Multiple Stores --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"storeSelectContainer" class\x3d"hide border-top--dotted padding--lv3"\x3e\n                \x3cfieldset class\x3d"!padding--lv0"\x3e\n                    \x3clabel class\x3d"!padding--lv0"\x3e\n                        \x3cspan class\x3d"block !margin-bottom--lv2"\x3eAdd products from\x3c/span\x3e\n                        \x3cselect data-dojo-attach-point\x3d"storeSelectDropdown" data-dojo-type\x3d"dijit/form/Select" class\x3d"!margin--lv0"\x3e\x3c/select\x3e\n                    \x3c/label\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"storeInfo" class\x3d"hide margin--lv3 margin-top--lv0"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"configurationFields"\x3e\n                \x3cfieldset data-dojo-attach-point\x3d"noProductContainer" class\x3d"alignc"\x3e\n                    \x3cimg src\x3d"/images/campaigns/content-blocks/product.svg" style\x3d"max-width: 200px"\x3e\n                    \x3cdiv\x3e\n                        \x3cp class\x3d"small-meta font-weight--bold margin-bottom--lv3"\x3eAdd products from your store\x3c/p\x3e\n                        \x3cbutton class\x3d"button" data-dojo-attach-point\x3d"bestSellerBtn"\x3eUse Best Sellers\x3c/button\x3e\n                        \x3cbutton class\x3d"button margin-right--lv0" data-dojo-attach-point\x3d"insertProductBtn"\x3eBrowse All\x3c/button\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"productDetailsContainer"\x3e\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper"\x3e\n                        \x3cdiv class\x3d"flex padding--lv3 padding-left-right--lv0"\x3e\n                            \x3cdiv class\x3d"c-contentSwitcher flex" data-dojo-attach-point\x3d"thumbnailContainer"\x3e\x3c/div\x3e\n                            \x3cbutton class\x3d"c-adThumbnail v-contentNew u-square--lv2 padding--lv0 border-radius--lv2"\n                                    data-dojo-attach-point\x3d"addProductThumbBtn"\x3e\n                                \x3cimg src\x3d"/images/icons/add-icon.svg" alt\x3d"Click to add a product"\x3e\n                                \x3cdiv role\x3d"presentation" aria-hidden\x3d"true"\x3eAdd\x3c/div\x3e\n                            \x3c/button\x3e\n                        \x3c/div\x3e\n\n                        \x3ch5 class\x3d"c-paneSectionHeader"\x3e\n                            Product details\n                            \x3ca data-dojo-attach-point\x3d"changeProductLink" href\x3d"#" class\x3d"float-right small-meta font-weight--bold"\x3eChange\x3c/a\x3e\n                        \x3c/h5\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper border-bottom-dotted"\x3e\n                        \x3cdiv class\x3d"flex flex-row"\x3e\n                            \x3cdiv class\x3d"flex-half padding--lv3 padding-top-bottom--lv0 padding-left--lv0"\x3e\n                                \x3clabel for\x3d"title_input_${id}"\x3eTitle\x3c/label\x3e\n                                \x3cinput type\x3d"text" data-dojo-attach-point\x3d"titleInput" id\x3d"title_input_${id}" value\x3d""\x3e\n                            \x3c/div\x3e\n\n                            \x3cdiv class\x3d"flex-half"\x3e\n                                \x3clabel for\x3d"price_input_${id}"\x3ePrice\x3c/label\x3e\n                                \x3cinput type\x3d"text" data-dojo-attach-point\x3d"priceInput" id\x3d"price_input_${id}" value\x3d""\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper border-bottom-dotted"\x3e\n                        \x3cdiv class\x3d"flex margin--lv2 margin-left-right--lv0"\x3e\n                            \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eCustom description\x3c/label\x3e\n                            \x3cinput type\x3d"checkbox"\n                                data-dojo-attach-point\x3d"descriptionSwitch"\n                                data-dojo-type\x3d"mojo/widgets/Switch"\n                                data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                                title\x3d"Enable custom description"/\x3e\n                        \x3c/div\x3e\n\n                        \x3cdiv data-dojo-attach-point\x3d"descriptionEditorContainer" class\x3d"margin--lv2 margin-top--lv0 margin-left-right--lv0 hide"\x3e\n                            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n\n\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper border-bottom-dotted"\x3e\n\n                        \x3cdiv class\x3d"flex margin--lv2 margin-left-right--lv0"\x3e\n                            \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eButton\x3c/label\x3e\n                            \x3cinput type\x3d"checkbox"\n                                data-dojo-attach-point\x3d"buttonSwitch"\n                                data-dojo-type\x3d"mojo/widgets/Switch"\n                                data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                                title\x3d"Enable button"/\x3e\n                        \x3c/div\x3e\n\n                        \x3cdiv data-dojo-attach-point\x3d"buttonEditorContainer" class\x3d"margin--lv2 margin-top--lv0 margin-left-right--lv0"\x3e\n                            \x3cdiv class\x3d"flex flex-row"\x3e\n                                \x3cdiv class\x3d"flex-half padding--lv3 padding-top-bottom--lv0 padding-left--lv0"\x3e\n                                    \x3clabel for\x3d"button_link_${id}" class\x3d"c-paneLabel--small font-weight--normal padding--lv0"\x3eLink to\x3c/label\x3e\n                                    \x3cselect data-dojo-attach-point\x3d"buttonLinkTypeSelectInput" id\x3d"button_link_${id}" data-dojo-type\x3d"dijit/form/Select" class\x3d"!margin--lv0"\x3e\n                                        \x3coption value\x3d"product"\x3eProduct page\x3c/option\x3e\n                                        \x3coption value\x3d"cart"\x3eProduct in cart\x3c/option\x3e\n                                    \x3c/select\x3e\n                                \x3c/div\x3e\n\n                                \x3cdiv class\x3d"flex-half"\x3e\n                                    \x3clabel for\x3d"button_txt_${id}" class\x3d"c-paneLabel--small font-weight--normal padding--lv0"\x3eButton text\x3c/label\x3e\n                                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"buttonTextInput" id\x3d"button_txt_${id}" value\x3d"" class\x3d"!margin--lv0"\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper"\x3e\n                        \x3cp class\x3d"font-style--italic small-meta margin--lv2 margin-left-right--lv0"\x3eThe image will link to the product\'s page\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field selfclear"\x3e\n                    \x3clabel\x3eLayout\x3c/label\x3e\n\n                    \x3cul data-dojo-attach-point\x3d"layoutSelectList"\x3e\n\n                        \x3cli class\x3d"mojoImageGroupLayout float-left" data-layout\x3d"vertical"\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with2"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/li\x3e\n\n                        \x3cli class\x3d"mojoImageGroupLayout float-left" data-layout\x3d"horizontal"\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with1"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with1"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonAlignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d""\x3eFit to text\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"ConnectAStore" class\x3d"hide colbody colbodyInner display--flex justify-content--center align-items--center text-align--center"\x3e\n        \x3cdiv class\x3d"flex--1 margin--lv8"\x3e\n            \x3cimg src\x3d"/images/campaigns/content-blocks/${type}.svg" class\x3d"max-width--50" data-dojo-attach-point\x3d"ConnectAStoreImage" /\x3e\n            \x3cp class\x3d"margin-bottom--lv4"\x3e\n                Connect your store to add products and use powerful features that can help you sell more stuff.\n            \x3c/p\x3e\n            \x3cp\x3e\n                \x3ca href\x3d"${connectAStoreUrl}" class\x3d"button p0" data-dojo-attach-point\x3d"connectAStoreButton"\x3eConnect\x3c/a\x3e\n                \x3cbutton data-dojo-attach-event\x3d"onclick:saveAndHide" class\x3d"button" data-dojo-attach-point\x3d"connectAStoreCancelButton"\x3eCancel\x3c/button\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane" data-dojo-attach-point\x3d"ActionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ProductEditor/_product_thumb.html":'\x3cdiv class\x3d"position--relative margin--lv3 margin-top-bottom--lv0 margin-left--lv0"\x3e\n    \x3cinput id\x3d"selected-product-{id}-{index}"\n           class\x3d"v-visuallyHidden c-adThumbnailControl"\n           type\x3d"radio"\n           name\x3d"selectedProduct_{id}"\n           value\x3d"{index}"\x3e\n\n    \x3clabel for\x3d"selected-product-{id}-{index}"\n           class\x3d"c-adThumbnail u-square--lv2 padding--lv0 border-radius--lv2 position--relative bg-gray"\n           style\x3d"background-image: url(\'{imageUrl}\');"\n    \x3e\x3c/label\x3e\n\n    \x3cdiv class\x3d"c-adThumbnail_button position--absolute border-radius--rounded cursor--pointer" data-mc-action\x3d"delete" data-mc-index\x3d"{index}" role\x3d"button"\x3e\n        \x3cspan class\x3d"freddicon cross-fill bg-white border-radius--rounded"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ProductEditor/editorMobile.html":'\x3cdiv class\x3d"mojoProductEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainerMobile" data-dojo-props\x3d"header: \'Product\'" class\x3d"colbody colbodyInnerFull position--static@editorActive" data-dojo-attach-point\x3d"EditorContainer"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody position--static@editorActive" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n\n            \x3c!-- Single Store --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"oneStoreLabel" class\x3d"border-top--dotted padding--lv3 !padding-top-bottom--lv0 hide"\x3e\n                \x3cdiv class\x3d"padding--lv2 !padding-left-right--lv0 small-meta"\x3e\n                    Add products from your\n                    \x3cspan data-dojo-attach-point\x3d"storeNameLabel" class\x3d"fwb"\x3e\x3c/span\x3e\n                    store.\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3c!-- Multiple Stores --\x3e\n            \x3cdiv data-dojo-attach-point\x3d"storeSelectContainer" class\x3d"hide border-top--dotted padding--lv3"\x3e\n                \x3cfieldset class\x3d"!padding--lv0"\x3e\n                    \x3clabel class\x3d"!padding--lv0"\x3e\n                        \x3cspan class\x3d"block !margin-bottom--lv2"\x3eAdd products from\x3c/span\x3e\n                        \x3cselect data-dojo-attach-point\x3d"storeSelectDropdown" data-dojo-type\x3d"dijit/form/Select" class\x3d"!margin--lv0"\x3e\x3c/select\x3e\n                    \x3c/label\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"storeInfo" class\x3d"hide margin--lv3 margin-top--lv0"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"configurationFields"\x3e\n                \x3cfieldset data-dojo-attach-point\x3d"noProductContainer" class\x3d"alignc"\x3e\n                    \x3cimg src\x3d"/images/campaigns/content-blocks/product.svg" style\x3d"max-width: 200px"\x3e\n                    \x3cdiv\x3e\n                        \x3cp class\x3d"small-meta font-weight--bold margin-bottom--lv3"\x3eAdd products from your store\x3c/p\x3e\n                        \x3cbutton class\x3d"button" data-dojo-attach-point\x3d"bestSellerBtn"\x3eUse Best Sellers\x3c/button\x3e\n                        \x3cbutton class\x3d"button margin-right--lv0" data-dojo-attach-point\x3d"insertProductBtn"\x3eBrowse All\x3c/button\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"productDetailsContainer"\x3e\n                    \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv0 !margin-left--lv0" data-dojo-attach-point\x3d"sectionHeader"\x3eProduct\x3c/h5\x3e\n                    \x3cfieldset data-dojo-attach-point\x3d"productDetailsImagesAndTitle"\x3e\n                        \x3cdiv class\x3d"flex padding--lv3 padding-left-right--lv0"\x3e\n                            \x3cdiv class\x3d"c-contentSwitcher flex" data-dojo-attach-point\x3d"thumbnailContainer"\x3e\x3c/div\x3e\n                            \x3cbutton class\x3d"c-adThumbnail v-contentNew u-square--lv2 padding--lv0 border-radius--lv2"\n                                    data-dojo-attach-point\x3d"addProductThumbBtn"\x3e\n                                \x3cimg src\x3d"/images/icons/add-icon.svg" alt\x3d"Click to add a product"\x3e\n                                \x3cdiv role\x3d"presentation" aria-hidden\x3d"true"\x3eAdd\x3c/div\x3e\n                            \x3c/button\x3e\n                        \x3c/div\x3e\n\n                        \x3ch5 class\x3d"c-paneSectionHeader"\x3e\n                            Product details\n                            \x3ca data-dojo-attach-point\x3d"changeProductLink" href\x3d"#" class\x3d"float-right small-meta font-weight--bold"\x3eChange\x3c/a\x3e\n                        \x3c/h5\x3e\n                    \x3c/fieldset\x3e\n\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper border-bottom-dotted" data-dojo-attach-point\x3d"productDetailsTitlePrice"\x3e\n                        \x3cdiv class\x3d"flex flex-row"\x3e\n                            \x3cdiv class\x3d"flex-half padding--lv3 padding-top-bottom--lv0 padding-left--lv0"\x3e\n                                \x3clabel for\x3d"title_input_${id}"\x3eTitle\x3c/label\x3e\n                                \x3cinput type\x3d"text" data-dojo-attach-point\x3d"titleInput" id\x3d"title_input_${id}" value\x3d""\x3e\n                            \x3c/div\x3e\n\n                            \x3cdiv class\x3d"flex-half"\x3e\n                                \x3clabel for\x3d"price_input_${id}"\x3ePrice\x3c/label\x3e\n                                \x3cinput type\x3d"text" data-dojo-attach-point\x3d"priceInput" id\x3d"price_input_${id}" value\x3d""\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper"\x3e\n                        \x3cdiv class\x3d"flex margin--lv2 margin-left-right--lv0"  data-dojo-attach-point\x3d"productDetailsCustomDescButton"\x3e\n                            \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eCustom description\x3c/label\x3e\n                            \x3cinput type\x3d"checkbox"\n                                data-dojo-attach-point\x3d"descriptionSwitch"\n                                data-dojo-type\x3d"mojo/widgets/Switch"\n                                data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                                title\x3d"Enable custom description"/\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"border-bottom-dotted"\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"descriptionEditorContainer" class\x3d"margin--lv2 margin-top--lv0 margin-left-right--lv0 hide"\x3e\n                            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n\n\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper border-bottom-dotted" data-dojo-attach-point\x3d"productDetailsButtonDetails"\x3e\n\n                        \x3cdiv class\x3d"flex margin--lv2 margin-left-right--lv0"\x3e\n                            \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eButton\x3c/label\x3e\n                            \x3cinput type\x3d"checkbox"\n                                data-dojo-attach-point\x3d"buttonSwitch"\n                                data-dojo-type\x3d"mojo/widgets/Switch"\n                                data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                                title\x3d"Enable button"/\x3e\n                        \x3c/div\x3e\n\n                        \x3cdiv data-dojo-attach-point\x3d"buttonEditorContainer" class\x3d"margin--lv2 margin-top--lv0 margin-left-right--lv0"\x3e\n                            \x3cdiv class\x3d"flex flex-row"\x3e\n                                \x3cdiv class\x3d"flex-half padding--lv3 padding-top-bottom--lv0 padding-left--lv0"\x3e\n                                    \x3clabel for\x3d"button_link_${id}" class\x3d"c-paneLabel--small font-weight--normal padding--lv0"\x3eLink to\x3c/label\x3e\n                                    \x3cselect data-dojo-attach-point\x3d"buttonLinkTypeSelectInput" id\x3d"button_link_${id}" data-dojo-type\x3d"dijit/form/Select" class\x3d"!margin--lv0"\x3e\n                                        \x3coption value\x3d"product"\x3eProduct page\x3c/option\x3e\n                                        \x3coption value\x3d"cart"\x3eProduct in cart\x3c/option\x3e\n                                    \x3c/select\x3e\n                                \x3c/div\x3e\n\n                                \x3cdiv class\x3d"flex-half"\x3e\n                                    \x3clabel for\x3d"button_txt_${id}" class\x3d"c-paneLabel--small font-weight--normal padding--lv0"\x3eButton text\x3c/label\x3e\n                                    \x3cinput type\x3d"text" data-dojo-attach-point\x3d"buttonTextInput" id\x3d"button_txt_${id}" value\x3d"" class\x3d"!margin--lv0"\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper" data-dojo-attach-point\x3d"productDetailsLinkText"\x3e\n                        \x3cp class\x3d"font-style--italic small-meta margin--lv2 margin-left-right--lv0"\x3eThe image will link to the product\'s page\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field selfclear"\x3e\n                    \x3clabel\x3eLayout\x3c/label\x3e\n\n                    \x3cul data-dojo-attach-point\x3d"layoutSelectList"\x3e\n\n                        \x3cli class\x3d"mojoImageGroupLayout float-left" data-layout\x3d"vertical"\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with2"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/li\x3e\n\n                        \x3cli class\x3d"mojoImageGroupLayout float-left" data-layout\x3d"horizontal"\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with1"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                            \x3cdiv class\x3d"mojoImageGroupLayoutRow with1"\x3e\n                                \x3cdiv class\x3d"mojoImageGroupImageIcon"\x3e\x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/li\x3e\n                    \x3c/ul\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonAlignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d""\x3eFit to text\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"ConnectAStore" class\x3d"hide colbody colbodyInner display--flex justify-content--center align-items--center text-align--center"\x3e\n        \x3cdiv class\x3d"flex--1 margin--lv8"\x3e\n            \x3cimg src\x3d"/images/campaigns/content-blocks/${type}.svg" class\x3d"max-width--50" data-dojo-attach-point\x3d"ConnectAStoreImage" /\x3e\n            \x3cp class\x3d"margin-bottom--lv4 full-width"\x3eTo add products and use powerful e-commerce features, open MailChimp.com in a web browser and connect your store.\x3c/p\x3e\n            \x3cp class\x3d"full-width"\x3e\n                \x3cbutton data-dojo-attach-event\x3d"onclick:saveAndHide" class\x3d"button margin-right--lv0"\x3eCancel\x3c/button\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/AbandonedCartEditor/editor.html":'\x3cdiv class\x3d"mojoAbandonedCart"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header: \'Abandoned Cart\'" class\x3d"colbody colbodyInner"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n            \x3cfieldset class\x3d"border-top--dotted"\x3e\n                \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n                    \x3clabel class\x3d"!padding--lv0"\x3e\n                        \x3cspan class\x3d"block !margin-bottom--lv2"\x3eMaximum number of products in email\x3c/span\x3e\n                        \x3cselect data-dojo-attach-point\x3d"numProductsSelectInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                            \x3coption value\x3d"1"\x3e1 product\x3c/option\x3e\n                            \x3coption value\x3d"2"\x3e2 products\x3c/option\x3e\n                            \x3coption value\x3d"3"\x3e3 products\x3c/option\x3e\n                        \x3c/select\x3e\n                        \x3cspan class\x3d"field-help"\x3eImages will link to the user\'s abandoned cart\x3c/span\x3e\n                    \x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset\x3e\n                \x3clabel for\x3d"price_enabled_${id}"\x3e\n                    \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"priceToggle" value\x3d"true" id\x3d"price_enabled_${id}"\x3ePrice\n                \x3c/label\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/AbandonedCartEditor/editorMobile.html":'\x3cdiv class\x3d"mojoAbandonedCart"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainerMobile" data-dojo-props\x3d"header: \'Abandoned Cart\'" class\x3d"colbody colbodyInnerFull"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n          \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv0 !margin-left--lv0"\x3eAbandoned Cart\x3c/h5\x3e\n            \x3cfieldset class\x3d"border-top--dotted"\x3e\n                \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n                    \x3clabel class\x3d"!padding--lv0"\x3e\n                        \x3cspan class\x3d"block !margin-bottom--lv2"\x3eMaximum number of products in email\x3c/span\x3e\n                        \x3cselect data-dojo-attach-point\x3d"numProductsSelectInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                            \x3coption value\x3d"1"\x3e1 product\x3c/option\x3e\n                            \x3coption value\x3d"2"\x3e2 products\x3c/option\x3e\n                            \x3coption value\x3d"3"\x3e3 products\x3c/option\x3e\n                        \x3c/select\x3e\n                        \x3cspan class\x3d"field-help"\x3eImages will link to the user\'s abandoned cart\x3c/span\x3e\n                    \x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset\x3e\n                \x3clabel for\x3d"price_enabled_${id}"\x3e\n                    \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"priceToggle" value\x3d"true" id\x3d"price_enabled_${id}"\x3ePrice\n                \x3c/label\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/AbandonedBrowseEditor/editor.html":'\x3cdiv class\x3d"mojoAbandonedCart"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header: \'Product Retargeting\'" class\x3d"colbody colbodyInner"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n            \x3cfieldset class\x3d"border-top--dotted"\x3e\n                \x3cdiv class\x3d"padding--lv3 !padding-left-right--lv0"\x3e\n                    \x3clabel class\x3d"!padding--lv0"\x3e\n                        \x3cspan class\x3d"field-help"\x3eImage links to a product the recipient viewed on your site but didn\'t purchase.\x3c/span\x3e\n                    \x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset\x3e\n                \x3clabel for\x3d"price_enabled_${id}"\x3e\n                    \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"priceToggle" value\x3d"true" id\x3d"price_enabled_${id}"\x3ePrice\n                \x3c/label\x3e\n                \x3cdiv class\x3d"field-wrapper"\x3e\n                    \x3clabel for\x3d"button_enabled_${id}" class\x3d"checkbox"\x3e\n                        \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"buttonToggle" value\x3d"true" id\x3d"button_enabled_${id}"\x3eButton\n                        \x3cdiv class\x3d"checkbox-description inline" data-dojo-attach-point\x3d"noLinkOptionLabel"\x3e(Links to the product page)\x3c/div\x3e\n\n                        \x3cdiv data-dojo-attach-point\x3d"buttonSettingsContainer" class\x3d"checkbox-description margin--lv3 !margin-left-right--lv0 !margin-bottom--lv0 hide"\x3e\n                            \x3clabel class\x3d"!padding--lv0 hide" data-dojo-attach-point\x3d"buttonLinkContainer"\x3e\n                                \x3cspan class\x3d"block !margin-bottom--lv2"\x3eLink to\x3c/span\x3e\n                                \x3cselect data-dojo-attach-point\x3d"buttonLinkTypeSelectInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                                    \x3coption value\x3d"product"\x3eProduct page\x3c/option\x3e\n                                    \x3coption value\x3d"cart"\x3eProduct in cart\x3c/option\x3e\n                                \x3c/select\x3e\n                            \x3c/label\x3e\n\n                            \x3clabel class\x3d"!padding--lv0"\x3e\n                                \x3cspan class\x3d"block !margin-bottom--lv2"\x3eButton text\x3c/span\x3e\n                                \x3cinput type\x3d"text" data-dojo-attach-point\x3d"buttonTextInput" data-dojo-type\x3d"dijit/form/TextBox"/\x3e\n                            \x3c/label\x3e\n                        \x3c/div\x3e\n                    \x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonAlignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d""\x3eFit to text\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/PromoCodeEditor/editor.html":'\x3cdiv class\x3d"mojoPromoCodeEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header: \'Promo Code\'" class\x3d"colbody colbodyInner"  data-dojo-attach-point\x3d"EditorContainer"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n\n\n            \x3cdiv class\x3d"border-top-light padding--lv3"\x3e\n                \x3c!-- Feedback Block --\x3e\n                \x3cdiv data-dojo-attach-point\x3d"promoFeedbackBlock"\x3e\x3c/div\x3e\n\n                \x3c!-- Single Store --\x3e\n                \x3cdiv data-dojo-attach-point\x3d"oneStoreLabel" class\x3d"small-meta hide"\x3e\n                    Add a promo code from your\n                    \x3cspan data-dojo-attach-point\x3d"storeNameLabel" class\x3d"font-weight--bold"\x3e\x3c/span\x3e\n                    store.\n                \x3c/div\x3e\n\n                \x3c!-- Multiple Stores --\x3e\n                \x3cdiv data-dojo-attach-point\x3d"storeSelectContainer"\x3e\n                    \x3cfieldset class\x3d"!padding--lv0"\x3e\n                        \x3clabel class\x3d"!padding--lv0"\x3e\n                            \x3cspan class\x3d"block !margin-bottom--lv2"\x3eStore\x3c/span\x3e\n                            \x3cselect data-dojo-attach-point\x3d"storeSelectDropdown" data-dojo-type\x3d"dijit/form/Select" class\x3d"!margin--lv0"\x3e\x3c/select\x3e\n                        \x3c/label\x3e\n                    \x3c/fieldset\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"storeInfo" class\x3d"hide margin--lv3 margin-top--lv0"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"configurationFields"\x3e\n                \x3cfieldset class\x3d"v-paneFieldsetWrapper border-top-light"\x3e\n                    \x3c!-- Description --\x3e\n                    \x3cdiv class\x3d"flex margin--lv2 margin-left-right--lv0 margin-bottom--lv1"\x3e\n                        \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eDescription\x3c/label\x3e\n                        \x3cinput type\x3d"checkbox"\n                            data-dojo-attach-point\x3d"descriptionSwitch"\n                            data-dojo-type\x3d"mojo/widgets/Switch"\n                            data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                            title\x3d"Enable custom description"/\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv data-dojo-attach-point\x3d"descriptionEditor" class\x3d"border-bottom--dotted margin--lv2 margin-top--lv0 margin-left-right--lv0 hide"\x3e\n                        \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n\n                    \x3c!-- Promo Code --\x3e\n                    \x3cdiv class\x3d"padding--lv3 padding-left-right--lv0 padding-bottom--lv0"\x3e\n                        \x3clabel class\x3d"!padding--lv0"\x3e\n                            \x3cspan class\x3d"block !margin-bottom--lv2"\x3ePromo code\x3c/span\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"promoCodeSelectContainer" class\x3d"hide"\x3e\x3c/div\x3e\n                        \x3c/label\x3e\n                        \x3cdiv class\x3d"padding--lv1 !padding-left-right--lv0 small-meta"\x3e\n                            \x3cdiv class\x3d"flex hide" data-dojo-attach-point\x3d"syncingPromoText"\x3e\n                                \x3cspan data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:21, strokeWidth: 3, color: \'#72c1b0\'" class\x3d"flex align-items--center padding-right--lv2"\x3e\x3c/span\x3e\n                                \x3cstrong\x3eRefreshing...\x3c/strong\x3e\n                            \x3c/div\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"refreshPromoText"\x3e\n                                \x3ca href\x3d"#0"\x3eRefresh promo codes\x3c/a\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n\n                \x3cdiv class\x3d"border-bottom-light padding--lv3 !padding-top-bottom--lv0"\x3e\n                    \x3cdiv class\x3d"padding--lv2 !padding-left-right--lv0 small-meta"\x3e\n                        \x3cdiv class\x3d"flex"\x3e\n                            \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eExpiration date\x3c/label\x3e\n                            \x3cinput type\x3d"checkbox"\n                                data-dojo-attach-point\x3d"expirationSwitch"\n                                data-dojo-type\x3d"mojo/widgets/Switch"\n                                data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                                title\x3d"Enable expiration"/\x3e\n                        \x3c/div\x3e\n                        \x3cp data-dojo-attach-point\x3d"expirationDate" class\x3d"hide"\x3eNo expiration date\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"v-paneFieldsetWrapper flex margin--lv2 margin-left-right--lv0"\x3e\n                    \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eButton\x3c/label\x3e\n                    \x3cinput type\x3d"checkbox"\n                        data-dojo-attach-point\x3d"buttonSwitch"\n                        data-dojo-type\x3d"mojo/widgets/Switch"\n                        data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                        title\x3d"Enable button"/\x3e\n                \x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"promoButton" class\x3d"hide margin-bottom--lv6"\x3e\n                    \x3cfieldset\x3e\n                        \x3c!-- Button Input--\x3e\n                        \x3cdiv class\x3d"padding-top--lv1"\x3e\n                            \x3clabel for\x3d"promo_button_txt_${id}" class\x3d"c-paneLabel--small font-weight--normal padding--lv0"\x3eButton text style\x3c/label\x3e\n                            \x3cinput type\x3d"text" data-dojo-attach-point\x3d"buttonTextInput" tabindex\x3d"0" id\x3d"promo_button_txt_${id}" data-dojo-type\x3d"dijit.form.TextBox" class\x3d"full-width" /\x3e\n                        \x3c/div\x3e\n                        \x3c!-- Url Input--\x3e\n                        \x3cdiv class\x3d"padding-top--lv2"\x3e\n                            \x3clabel for\x3d"promo_button_url_${id}" class\x3d"c-paneLabel--small font-weight--normal padding--lv0"\x3eShop address (URL)\x3c/label\x3e\n                            \x3cinput type\x3d"url" data-dojo-attach-point\x3d"buttonUrl" tabindex\x3d"1" id\x3d"promo_button_url_${id}" data-dojo-type\x3d"dijit.form.TextBox" class\x3d"full-width"\x3e\n                        \x3c/div\x3e\n                    \x3c/fieldset\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings" data-dojo-attach-point\x3d"settingsEditorContainer"\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eLayout\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eContent alignment\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float--left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d""\x3eFit to text\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"ConnectAStore" class\x3d"hide colbody colbodyInner display--flex justify-content--center align-items--center text-align--center"\x3e\n        \x3cdiv class\x3d"flex--1 margin--lv8"\x3e\n            \x3cimg src\x3d"/images/campaigns/content-blocks/${type}.svg" class\x3d"max-width--50" data-dojo-attach-point\x3d"ConnectAStoreImage" /\x3e\n            \x3cp class\x3d"margin-bottom--lv4"\x3e\n                Connect your store to use promo codes and other powerful features that can help you sell more stuff.\n            \x3c/p\x3e\n            \x3cp\x3e\n                \x3ca href\x3d"${connectAStoreUrl}" class\x3d"button p0" data-dojo-attach-point\x3d"connectAStoreButton"\x3eConnect\x3c/a\x3e\n                \x3cbutton data-dojo-attach-event\x3d"onclick:saveAndHide" class\x3d"button" data-dojo-attach-point\x3d"connectAStoreCancelButton"\x3eCancel\x3c/button\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane" data-dojo-attach-point\x3d"ActionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/PromoCodeEditor/_promo-description.html":'\x3cdiv style\x3d"text-align: center; color: #555555;" class\x3d"mcnTextContent"\x3e\n    \x3cspan style\x3d"font-size:18px"\x3e\n       {{description|safe}}\n    \x3c/span\x3e\n\x3c/div\x3e',"url:mojo/neapolitan/editors/blocks/templates/PromoCodeEditor/editorMobile.html":'\x3cdiv class\x3d"mojoPromoCodeEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainerMobile" data-dojo-props\x3d"header: \'Promo Code\'" class\x3d"colbody colbodyInnerFull position--static@editorActive" data-dojo-attach-point\x3d"EditorContainer"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody position--static@editorActive" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv0 !margin-left--lv0" data-dojo-attach-point\x3d"sectionHeader"\x3ePromo Code\x3c/h5\x3e\n\n            \x3cdiv class\x3d"padding--lv3" data-dojo-attach-point\x3d"promoCodeFeedbackandStore"\x3e\n                \x3c!-- Feedback Block --\x3e\n                \x3cdiv data-dojo-attach-point\x3d"promoFeedbackBlock"\x3e\x3c/div\x3e\n\n                \x3c!-- Single Store --\x3e\n                \x3cdiv data-dojo-attach-point\x3d"oneStoreLabel" class\x3d"small-meta hide"\x3e\n                    Add a promo code from your\n                    \x3cspan data-dojo-attach-point\x3d"storeNameLabel" class\x3d"font-weight--bold"\x3e\x3c/span\x3e\n                    store.\n                \x3c/div\x3e\n\n                \x3c!-- Multiple Stores --\x3e\n                \x3cdiv data-dojo-attach-point\x3d"storeSelectContainer"\x3e\n                    \x3cfieldset class\x3d"!padding--lv0"\x3e\n                        \x3clabel class\x3d"!padding--lv0"\x3e\n                            \x3cspan class\x3d"block !margin-bottom--lv2"\x3eStore\x3c/span\x3e\n                            \x3cselect data-dojo-attach-point\x3d"storeSelectDropdown" data-dojo-type\x3d"dijit/form/Select" class\x3d"!margin--lv0"\x3e\x3c/select\x3e\n                        \x3c/label\x3e\n                    \x3c/fieldset\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"storeInfo" class\x3d"hide margin--lv3 margin-top--lv0"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"configurationFields"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"promoCodeDescriptionTitle"\x3e\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper"\x3e\n                        \x3c!-- Description --\x3e\n                        \x3cdiv class\x3d"flex margin--lv2 margin-left-right--lv0 margin-bottom--lv1"\x3e\n                            \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eDescription\x3c/label\x3e\n                            \x3cinput type\x3d"checkbox"\n                                data-dojo-attach-point\x3d"descriptionSwitch"\n                                data-dojo-type\x3d"mojo/widgets/Switch"\n                                data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                                title\x3d"Enable custom description"/\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"descriptionEditor" class\x3d"border-bottom--dotted margin--lv2 margin-top--lv0 margin-left-right--lv0 hide"\x3e\n                    \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"promoCodeSelectContainer"\x3e\n                    \x3c!-- Promo Code --\x3e\n                    \x3cdiv class\x3d"padding--lv3 padding-bottom--lv0"\x3e\n                        \x3clabel class\x3d"!padding--lv0"\x3e\n                            \x3cspan class\x3d"block !margin-bottom--lv2"\x3ePromo code\x3c/span\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"promoCodeSelectContainer" class\x3d"hide"\x3e\x3c/div\x3e\n                        \x3c/label\x3e\n                        \x3cdiv class\x3d"padding--lv1 !padding-left-right--lv0 small-meta"\x3e\n                            \x3cdiv class\x3d"flex hide" data-dojo-attach-point\x3d"syncingPromoText"\x3e\n                                \x3cspan data-dojo-type\x3d"mojo/widgets/CircularLoader" data-dojo-props\x3d"loaderSize:21, strokeWidth: 3, color: \'#72c1b0\'" class\x3d"flex align-items--center padding-right--lv2"\x3e\x3c/span\x3e\n                                \x3cstrong\x3eRefreshing...\x3c/strong\x3e\n                            \x3c/div\x3e\n                            \x3cdiv data-dojo-attach-point\x3d"refreshPromoText"\x3e\n                                \x3ca href\x3d"#0"\x3eRefresh promo codes\x3c/a\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"border-bottom-light padding--lv3 !padding-top-bottom--lv0" data-dojo-attach-point\x3d"promoCodeExpirationToggle"\x3e\n                    \x3cdiv class\x3d"padding--lv2 !padding-left-right--lv0 small-meta"\x3e\n                        \x3cdiv class\x3d"flex"\x3e\n                            \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eExpiration date\x3c/label\x3e\n                            \x3cinput type\x3d"checkbox"\n                                data-dojo-attach-point\x3d"expirationSwitch"\n                                data-dojo-type\x3d"mojo/widgets/Switch"\n                                data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                                title\x3d"Enable expiration"/\x3e\n                        \x3c/div\x3e\n                        \x3cp data-dojo-attach-point\x3d"expirationDate" class\x3d"hide"\x3eNo expiration date\x3c/p\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"promoCodeButtonInput"\x3e\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper flex margin--lv2 margin-left-right--lv0"\x3e\n                        \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eButton\x3c/label\x3e\n                        \x3cinput type\x3d"checkbox"\n                            data-dojo-attach-point\x3d"buttonSwitch"\n                            data-dojo-type\x3d"mojo/widgets/Switch"\n                            data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                            title\x3d"Enable button"/\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"v-paneFieldsetWrapper"\x3e\n                        \x3cdiv class\x3d"hide margin-bottom--lv6" data-dojo-attach-point\x3d"promoButton"\x3e\n                            \x3c!-- Button Input--\x3e\n                            \x3cdiv class\x3d"padding-top--lv1"\x3e\n                                \x3clabel for\x3d"promo_button_txt_${id}" class\x3d"c-paneLabel--small font-weight--normal padding--lv0"\x3eButton text style\x3c/label\x3e\n                                \x3cinput type\x3d"text" data-dojo-attach-point\x3d"buttonTextInput" tabindex\x3d"0" id\x3d"promo_button_txt_${id}" data-dojo-type\x3d"dijit.form.TextBox" class\x3d"full-width" /\x3e\n                            \x3c/div\x3e\n                            \x3c!-- Url Input--\x3e\n                            \x3cdiv class\x3d"padding-top--lv2"\x3e\n                                \x3clabel for\x3d"promo_button_url_${id}" class\x3d"c-paneLabel--small font-weight--normal padding--lv0"\x3eShop address (URL)\x3c/label\x3e\n                                \x3cinput type\x3d"url" data-dojo-attach-point\x3d"buttonUrl" tabindex\x3d"1" id\x3d"promo_button_url_${id}" data-dojo-type\x3d"dijit.form.TextBox" class\x3d"full-width"\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings" data-dojo-attach-point\x3d"settingsEditorContainer"\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eLayout\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eContent alignment\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float--left"\x3e\n                    \x3clabel\x3eWidth\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"buttonWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d""\x3eFit to text\x3c/option\x3e\n                        \x3coption value\x3d"100%"\x3eFull width\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \n    \x3cdiv data-dojo-attach-point\x3d"ConnectAStore" class\x3d"hide colbody colbodyInner display--flex justify-content--center align-items--center text-align--center"\x3e\n        \x3cdiv class\x3d"flex--1 margin--lv8"\x3e\n            \x3cimg src\x3d"/images/campaigns/content-blocks/${type}.svg" class\x3d"max-width--50" data-dojo-attach-point\x3d"ConnectAStoreImage" /\x3e\n            \x3cp class\x3d"margin-bottom--lv4 full-width"\x3eTo use promo codes and other powerful e-commerce features, open MailChimp.com in a web browser and connect your store.\x3c/p\x3e\n            \x3cp class\x3d"full-width"\x3e\n                \x3cbutton data-dojo-attach-event\x3d"onclick:saveAndHide" class\x3d"button margin-right--lv0"\x3eCancel\x3c/button\x3e\n            \x3c/p\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/UnsupportedBlock/blockMobile.html":'\x3cdiv class\x3d"mojoDividerEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo.neapolitan.widgets.EditorContainerMobile" data-dojo-props\x3d"header: this.block._name" class\x3d"colbody colbodyInnerFull"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv0"\x3eUnsupported\x3c/h5\x3e\n                \x3ch6 class\x3d"padding-top--lv3" data-dojo-attach-point\x3d"unsupportType"\x3eblock isn\'t editable on mobile.\x3c/h6\x3e\n                \x3cspan class\x3d"small-meta"\x3eTo edit this kind of block, open this campaign on MailChimp.com from a desktop.\x3c/span\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SignUpFormEditor/editor.html":'\x3cdiv class\x3d"mojoSignupFormdEditor"\x3e\n\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header: \'Signup Form\'" class\x3d"colbody colbodyInner"\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n            \x3c!-- Fields --\x3e\n            \x3c!-- use flag within JS as attach point --\x3e\n            \x3cfieldset data-dojo-attach-point\x3d"signupFormBuilderText" class\x3d"hide border-top"\x3e\n                \x3cdiv class\x3d"small-meta padding-top--lv2"\x3eManage available form fields in your list\'s \x3ca data-dojo-attach-point\x3d"signupFormBuilderLink" href\x3d"" class\x3d"inline-block !padding-left-right--lv0 small-meta"\x3esignup form builder\x3c/a\x3e\x3c/p\x3e\n            \x3c/fieldset\x3e\n            \x3cfieldset data-dojo-attach-point\x3d"selectFormFieldFieldset" id\x3d"fields-pane"\x3e\n                \x3c!-- Headings: Available Fields, required: no legends for 2 cols inside fieldset available so I had to do this treachery :( --\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader size2of3 float--left"\x3eAvailable fields\x3c/h5\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3e\x3cspan style\x3d"margin-left: 32px;"\x3eRequired\x3c/span\x3e\x3c/h5\x3e\n\n\n            \x3c/fieldset\x3e\n            \x3c!-- end of flag --\x3e\n\n            \x3cfieldset\x3e\n                \x3ch5 title\x3d"Button styling" class\x3d"c-paneSectionHeader"\x3eButton\x3c/h5\x3e\n\n                \x3c!-- Button Text --\x3e\n                \x3cdiv class\x3d"line popup-button !margin-bottom--lv4"\x3e\n                    \x3clabel for\x3d"buttonLabel"\x3eButton text\x3c/label\x3e\n                    \x3cdiv class\x3d"field-wrapper"\x3e\n                        \x3cinput type\x3d"text" data-dojo-attach-point\x3d"buttonLabelInput" data-dojo-type\x3d"dijit/form/TextBox"\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"style"\x3e\n            \x3cfieldset data-dojo-attach-point\x3d"styleKbLinkContainer" class\x3d"border-top-light"\x3e\x3ca data-dojo-attach-point\x3d"styleKbLink" target\x3d"_blank" href\x3d"#" class\x3d"inline-block padding--lv2 !padding-left-right--lv0 small-meta"\x3e\x3c/a\x3e\x3c/fieldset\x3e\n\n            \x3cfieldset\x3e\n                \x3c!-- Form Label Styling --\x3e\n                \x3ch5 title\x3d"Form labels" class\x3d"c-paneSectionHeader"\x3eForm label style\x3c/h5\x3e\n                \x3cdiv class\x3d"field-wrapper !margin-bottom--lv4"\x3e\n                    \x3cselect data-dojo-type\x3d"mojo/widgets/input/FontFamily" data-dojo-props\x3d"label: \'Font\', webfont_enable: true, useExtendedWebFonts: true" data-dojo-attach-point\x3d"formLabelFontInput"\x3e\x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"field-wrapper"\x3e\n                    \x3cinput data-dojo-type\x3d"mojo/widgets/input/Color" data-dojo-props\x3d"label: \'Text color\'" data-dojo-attach-point\x3d"formLabelTextColorInput"/\x3e\n                \x3c/div\x3e\n\n                \x3c!-- Button Container Styling --\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton container style\x3c/h5\x3e\n                \x3cdiv class\x3d"field-wrapper !margin-bottom--lv3"\x3e\n                    \x3cinput data-dojo-type\x3d"mojo/widgets/input/Color" data-dojo-props\x3d"label: \'Background color\'" data-dojo-attach-point\x3d"buttonBackgroundColorInput"\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"field-wrapper !margin-bottom--lv3"\x3e\n                    \x3cinput data-dojo-type\x3d"mojo/widgets/input/Color" data-dojo-props\x3d"label: \'Hover color\'" data-dojo-attach-point\x3d"buttonHoverColorInput"/\x3e\n                \x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"buttonNewFields"\x3e\n                    \x3cdiv class\x3d"field-wrapper !margin-bottom--lv3"\x3e\n                        \x3cdiv data-dojo-type\x3d"mojo/widgets/input/Border" data-dojo-props\x3d"label: \'Border\'" data-dojo-attach-point\x3d"buttonBorderInput"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"style-field selfclear style-borderradius"\x3e\n                        \x3clabel\x3eBorder radius\x3c/label\x3e\n                        \x3cdiv class\x3d"mojoMeasurementInput" data-dojo-attach-point\x3d"borderRadiusContainer"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"style-field selfclear style-padding"\x3e\n                        \x3clabel\x3ePadding\x3c/label\x3e\n                        \x3cdiv class\x3d"mojoMeasurementInput" data-dojo-attach-point\x3d"paddingContainer"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"line !margin-bottom--lv4"\x3e\n                    \x3cdiv class\x3d"field-wrapper"\x3e\n                        \x3clabel for\x3d"button-alignment"\x3eAlignment\x3c/label\x3e\n                        \x3cselect data-dojo-attach-point\x3d"buttonAlignInput" class\x3d"inline-block !margin-bottom--lv2" maxheight\x3d"-1" data-dojo-type\x3d"dijit/form/Select"\x3e\n                            \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                            \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                            \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                        \x3c/select\x3e\n\n                        \x3clabel class\x3d"checkbox inline-block"\x3e\n                            \x3cinput type\x3d"checkbox" value\x3d"full" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"buttonStyleInput"/\x3eFull width\n                        \x3c/label\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3c!-- Button Text Styling--\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eButton text style\x3c/h5\x3e\n                \x3cdiv data-dojo-attach-point\x3d"buttonTextNewFields"\x3e\n                    \x3cdiv class\x3d"field-wrapper !margin-bottom--lv4"\x3e\n                        \x3cselect data-dojo-type\x3d"mojo/widgets/input/FontFamily" data-dojo-props\x3d"label: \'Font\', webfont_enable: true, useExtendedWebFonts: true" data-dojo-attach-point\x3d"buttonTextFontInput"\x3e\x3c/select\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"field-wrapper"\x3e\n                        \x3cinput data-dojo-type\x3d"mojo/widgets/input/FontSize" data-dojo-props\x3d"label: \'Font Size\'" data-dojo-attach-point\x3d"buttonTextFontSizeInput"/\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"field-wrapper !margin-bottom--lv3" data-dojo-attach-point\x3d"buttonTextFontStyleContainer"\x3e\n                        \x3clabel\x3eFont Style\x3c/label\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"field-wrapper !margin-bottom--lv3"\x3e\n                        \x3cinput data-dojo-type\x3d"mojo/widgets/input/LetterSpacing" data-dojo-props\x3d"label: \'Letter Spacing\'" data-dojo-attach-point\x3d"buttonTextLetterSpacingInput" /\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"field-wrapper !margin-bottom--lv3"\x3e\n                    \x3cinput data-dojo-type\x3d"mojo/widgets/input/Color" data-dojo-props\x3d"label: \'Text Color\'" data-dojo-attach-point\x3d"buttonTextColorInput" /\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"confirmation"\x3e\n            \x3c!-- Footer --\x3e\n\n            \x3cfieldset data-dojo-attach-point\x3d"canEditDoubleOptinNotice"\x3e\n                    \x3ch5 title\x3d"Form labels" class\x3d"margin-bottom--lv2"\x3eDouble opt-in is turned on.\x3c/h5\x3e\n                    \x3cp\x3eNew subscribers will need to check their email to confirm their subscription.\x3c/p\x3e\n                    \x3cp\x3eTo add subscribers to your list immediately and customize the confirmation message, \x3ca href\x3d"${listSettingsUrl}"\x3evisit your list settings\x3c/a\x3e and switch to single opt-in.\x3c/p\x3e\n            \x3c/fieldset\x3e\n\n            \x3cfieldset data-dojo-attach-point\x3d"lockedDoubleOptinNotice"\x3e\n                    \x3ch5 title\x3d"Form labels" class\x3d"margin-bottom--lv2"\x3eDouble opt-in is required.\x3c/h5\x3e\n                    \x3cp\x3eDue to recent compliance issues, double opt-in is required for this list. New subscribers will need to check their email to confirm their subscription.\x3c/p\x3e\n                    \x3cp\x3e You can edit messaging for the double opt-in process in the \x3ca href\x3d"${formBuilderUrl}"\x3eform builder\x3c/a\x3e.\x3c/p\x3e\n            \x3c/fieldset\x3e\n\n            \x3cdiv class\x3d"border-bottom-light padding--lv3 !padding-top-bottom--lv0"\x3e\n                \x3cdiv class\x3d"padding--lv2 !padding-left-right--lv0 small-meta"\x3e\n                    \x3cdiv class\x3d"flex"\x3e\n                        \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3ePreview confirmation state\x3c/label\x3e\n                        \x3cinput type\x3d"checkbox"\n                                data-dojo-attach-point\x3d"alertSwitch"\n                                data-dojo-type\x3d"mojo/widgets/Switch"\n                                data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                                title\x3d"Enable Alert View"/\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3cfieldset data-dojo-attach-point\x3d"confirmationMessage"\x3e\n                \x3ch5 title\x3d"Footer" class\x3d"c-paneSectionHeader"\x3eConfirmation message\x3c/h5\x3e\n                \x3cdiv class\x3d"field-wrapper ck_field_wrapper"\x3e\n                    \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/widgets/templates/availableFormFieldManager.html":'\x3cdiv class\x3d"field-wrapper !margin-bottom--lv5"\x3e\n    \x3c!-- Fields --\x3e\n    \x3c!-- Static Email Field  --\x3e\n    \x3cdiv class\x3d"line field selected"\x3e\n        \x3cdiv class\x3d"group size2of3"\x3e\n            \x3clabel class\x3d"checkbox" \x3e\x3cinput type\x3d"checkbox" data-dojo-type\x3d"dijit/form/CheckBox" checked disabled\x3e\x3cspan data-dojo-attach-point\x3d"emailFieldLabel"\x3e${emailLabel}\x3c/span\x3e\x3c/label\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"lastGroup size1of3"\x3e\n            \x3cinput type\x3d"checkbox" data-dojo-type\x3d"mojo/widgets/Switch" disabled checked data-dojo-props\x3d"sizeClass: \'switch-small\'"/\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3c!-- Fields get moved from these containers. --\x3e\n    \x3cdiv data-dojo-attach-point\x3d"selectedListContainer"\x3e\n    \x3c/div\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"availableListContainer"\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv data-dojo-attach-point\x3d"gdprContainer"\x3e\n    \x3ch5 class\x3d"c-paneSectionHeader"\x3eGDPR fields\x3c/h5\x3e\n    \x3cdiv class\x3d"field-wrapper !margin-bottom--lv5"\x3e\n        \x3c!-- Fields get moved from these containers. --\x3e\n        \x3cdiv data-dojo-attach-point\x3d"selectedGdprContainer"\x3e\n        \x3c/div\x3e\n\n        \x3cdiv data-dojo-attach-point\x3d"availableGdprContainer"\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/WebVideoEditor/editor.html":'\x3cdiv class\x3d"mojoImageWithCaptionEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header:this.block._name" class\x3d"colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"videoUrlRow"\x3e\n                \x3cfieldset\x3e\n                    \x3cdiv class\x3d"style-field float-left"\x3e\n                        \x3clabel\x3eVideo URL\x3c/label\x3e\n                        \x3cinput data-dojo-attach-point\x3d"videoUrlInput" type\x3d"url" value\x3d""\x3e\n                        \x3cdiv class\x3d"field-help"\x3eWe currently only support videos from \x3ca href\x3d"http://youtube.com" target\x3d"_blank"\x3eYouTube\x3c/a\x3e and \x3ca href\x3d"http://vimeo.com" target\x3d"_blank"\x3eVimeo\x3c/a\x3e.\x3c/div\x3e\n                        \x3cdiv data-dojo-attach-point\x3d"linkError" class\x3d"invalid-error hide"\x3ePlease insert a valid link.\x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/fieldset\x3e\n            \x3c/div\x3e\n\n            \x3cdiv class\x3d"v-paneFieldsetWrapper border-bottom-light"\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eVideo caption\x3c/h5\x3e\n                \x3cdiv class\x3d"flex margin--lv2 margin-left-right--lv0"\x3e\n                    \x3clabel class\x3d"padding-bottom--lv0 flex-self-center flex-grow-1"\x3eCaption\x3c/label\x3e\n                    \x3cinput type\x3d"checkbox"\n                           data-dojo-attach-point\x3d"captionSwitch"\n                           data-dojo-type\x3d"mojo/widgets/Switch"\n                           data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\'"\n                           title\x3d"Enable video caption"/\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"captionEditorContainer" class\x3d"margin-top--lv0 margin-left-right--lv0 hide border-bottom-dotted"\x3e\n                \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection" data-mojo-section\x3d"style" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eVideo settings\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left" data-dojo-attach-point\x3d"captionPositionInputContainer"\x3e\n                    \x3clabel\x3eCaption position\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionPositionInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"top"\x3eTop\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                        \x3coption value\x3d"bottom"\x3eBottom\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv data-dojo-attach-point\x3d"captionWidthInputContainer" style\x3d"display:none;" class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3e\x3cspan data-dojo-attach-point\x3d"captionSide"\x3e\x3c/span\x3eCaption width\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"captionWidthInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"one-third"\x3eOne-third\x3c/option\x3e\n                        \x3coption value\x3d"half"\x3eHalf\x3c/option\x3e\n                        \x3coption value\x3d"two-third"\x3eTwo-thirds\x3c/option\x3e\n                        \x3coption value\x3d"three-quarter"\x3eThree-quarters\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"settingsDisabled hide" data-dojo-attach-point\x3d"enableCaptionMessage"\x3e\n                    Enable the caption on the Content tab to access additional settings.\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3cspan class\x3d"small-meta" data-dojo-attach-point\x3d"timestampContainer"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/TextEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnTextBlock" style\x3d"min-width:100%;"\x3e\n    \x3ctbody class\x3d"mcnTextBlockOuter"\x3e\n        \x3ctr\x3e\n            \x3ctd valign\x3d"top" class\x3d"mcnTextBlockInner" style\x3d"padding-top:9px;"\x3e\n              \t\x3c!--[if mso]\x3e\n\t\t\t\t\x3ctable align\x3d"left" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" width\x3d"100%" style\x3d"width:100%;"\x3e\n\t\t\t\t\x3ctr\x3e\n\t\t\t\t\x3c![endif]--\x3e\n\t\t\t    {% for column in columns %}\n\t\t\t\t\x3c!--[if mso]\x3e\n\t\t\t\t\x3ctd valign\x3d"top" width\x3d"{{column.width}}" style\x3d"width:{{column.width}}px;"\x3e\n\t\t\t\t\x3c![endif]--\x3e\n                \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" {% ifequal columnCount 2 %}style\x3d"max-width:{{column.width}}px;"{% else %} style\x3d"max-width:100%; min-width:100%;"{% endifequal %} width\x3d"100%" class\x3d"mcnTextContentContainer"\x3e\n                    \x3ctr\x3e\n                        {% ifequal columnCount 2 %}\n                        \x3ctd valign\x3d"top" class\x3d"mcnTextContent" style\x3d"padding-top:0; padding-left:18px; padding-bottom:9px; padding-right:18px;"\x3e\n                        {% else %}\n                        \x3ctd valign\x3d"top" class\x3d"mcnTextContent" style\x3d"padding-top:0; padding-right:18px; padding-bottom:9px; padding-left:18px;"\x3e\n                        {% endifequal %}\n                            {{column.content|safe}}\n                        \x3c/td\x3e\n                    \x3c/tr\x3e\n                \x3c/table\x3e\n\t\t\t\t\x3c!--[if mso]\x3e\n\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c![endif]--\x3e\n                {% endfor %}\n\t\t\t\t\x3c!--[if mso]\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3c/table\x3e\n\t\t\t\t\x3c![endif]--\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/BoxedTextEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnBoxedTextBlock" style\x3d"min-width:100%;"\x3e\n    \x3c!--[if gte mso 9]\x3e\n\t\x3ctable align\x3d"center" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" width\x3d"100%"\x3e\n\t\x3c![endif]--\x3e\n\t\x3ctbody class\x3d"mcnBoxedTextBlockOuter"\x3e\n        \x3ctr\x3e\n            \x3ctd valign\x3d"top" class\x3d"mcnBoxedTextBlockInner"\x3e\n                {% for column in columns %}\n\t\t\t\t\x3c!--[if gte mso 9]\x3e\n\t\t\t\t\x3ctd align\x3d"center" valign\x3d"top" {% ifequal columnCount 2 %}width\x3d"{{column.width}}{% endifequal %}"\x3e\n\t\t\t\t\x3c![endif]--\x3e\n                \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d{% ifequal columnCount 2 %}"{{column.width}}"{% else %}"100%" style\x3d"min-width:100%;"{% endifequal %} class\x3d"mcnBoxedTextContentContainer"\x3e\n                    \x3ctr\x3e\n                        {% ifequal columnCount 2 %}\n                        \x3ctd class\x3d"mcnBoxedTextContentColumn" style\x3d"padding-top:9px; padding-right:18px; padding-bottom:9px; padding-left:18px;"\x3e\n                        {% else %}\n                        \x3ctd style\x3d"padding-top:9px; padding-left:18px; padding-bottom:9px; padding-right:18px;"\x3e\n                        {% endifequal %}\n                            \x3ctable border\x3d"0" cellspacing\x3d"0" class\x3d"mcnTextContentContainer" width\x3d"100%" style\x3d"min-width:100% !important;"\x3e\n                                \x3ctr\x3e\n                                    \x3ctd valign\x3d"top" class\x3d"mcnTextContent" style\x3d"padding:18px;"\x3e\n                                        {{column.content|safe}}\n                                    \x3c/td\x3e\n                                \x3c/tr\x3e\n                            \x3c/table\x3e\n                        \x3c/td\x3e\n                    \x3c/tr\x3e\n                \x3c/table\x3e\n\t\t\t\t\x3c!--[if gte mso 9]\x3e\n\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c![endif]--\x3e\n                {% endfor %}\n\t\t\t\t\x3c!--[if gte mso 9]\x3e\n                \x3c/tr\x3e\n                \x3c/table\x3e\n\t\t\t\t\x3c![endif]--\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ButtonEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnButtonBlock" style\x3d"min-width:100%;"\x3e\n    \x3ctbody class\x3d"mcnButtonBlockOuter"\x3e\n        \x3ctr\x3e\n            \x3ctd style\x3d"padding-top:0; padding-right:18px; padding-bottom:18px; padding-left:18px;" valign\x3d"top" align\x3d"{{align|default:\'center\'}}" class\x3d"mcnButtonBlockInner"\x3e\n                \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" {% if buttonWidth %}width\x3d"{{buttonWidth}}"{% endif %} class\x3d"mcnButtonContentContainer" style\x3d"border-collapse:separate !important;"\x3e\n                    \x3ctbody\x3e\n                        \x3ctr\x3e\n                            \x3ctd align\x3d"center" valign\x3d"middle" class\x3d"mcnButtonContent"\x3e\n                                \x3ca class\x3d"mcnButton {{linkClasses|default:\'\'}}" title\x3d"{{title|default:\'\'}}" href\x3d"{{href|safe}}" target\x3d"{{target|default:\'_self\'}}" style\x3d"font-weight:bold; letter-spacing:-.5px; line-height:100%; text-align:center; text-decoration: none;"\x3e{{buttonText}}\x3c/a\x3e\n                            \x3c/td\x3e\n                        \x3c/tr\x3e\n                    \x3c/tbody\x3e\n                \x3c/table\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/DividerEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnDividerBlock" style\x3d"min-width:100%;"\x3e\n    \x3ctbody class\x3d"mcnDividerBlockOuter"\x3e\n        \x3ctr\x3e\n            \x3ctd class\x3d"mcnDividerBlockInner" style\x3d"min-width:100%; padding:{{totalPadding}}px;"\x3e\n                \x3ctable class\x3d"mcnDividerContent" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" style\x3d"min-width:100%;"\x3e\n                    \x3ctr\x3e\n                        \x3ctd\x3e\n                            \x3cspan\x3e\x3c/span\x3e\n                        \x3c/td\x3e\n                    \x3c/tr\x3e\n                \x3c/table\x3e\n\x3c!--            \n                \x3ctd class\x3d"mcnDividerBlockInner" style\x3d"padding: {{totalPadding}}px;"\x3e\n                \x3chr class\x3d"mcnDividerContent" style\x3d"border-bottom-color:none; border-left-color:none; border-right-color:none; border-bottom-width:0; border-left-width:0; border-right-width:0; margin-top:0; margin-right:0; margin-bottom:0; margin-left:0;" /\x3e\n--\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/ImageCardEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnImageCardBlock"\x3e\n    \x3ctbody class\x3d"mcnImageCardBlockOuter"\x3e\n        \x3ctr\x3e\n            \x3ctd class\x3d"mcnImageCardBlockInner" valign\x3d"top" style\x3d"padding-top:{{innerPadding}}px; padding-right:{{totalPadding}}px; padding-bottom:{{innerPadding}}px; padding-left:{{totalPadding}}px;"\x3e\n                {{blockHtml|safe}}\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageCardEditor/_horizontal.html":'{% ifequal position "left" %}\n\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnImageCardLeftContentOuter" width\x3d"100%"\x3e\n    \x3ctr\x3e\n        \x3ctd align\x3d"center" valign\x3d"top" class\x3d"mcnImageCardLeftContentInner" style\x3d"padding:0;"\x3e\n            \x3ctable align\x3d"right" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnImageCardLeftImageContentContainer" width\x3d"{{widths.container}}"\x3e\n                \x3ctr\x3e\n                    \x3ctd class\x3d"mcnImageCardLeftImageContent{% if widths.edgeToEdge %}E2E {% endif %}" align\x3d"{{align}}" valign\x3d"top" style\x3d"padding-top:{{widths.imagePadding}}px; padding-right:{{widths.imagePadding}}px; padding-bottom:{{widths.imagePadding}}px; padding-left:0;"\x3e\n                    {% if caption.image %}\n                        {% if caption.image.link %}{% if caption.image.link.href %}\n                        \x3ca href\x3d"{{caption.image.link.href|safe}}" title\x3d"{{caption.image.link.attrs.title|default:\'\'}}" class\x3d"{{caption.image.link.attrs.class|default:\'\'}}" target\x3d"{{caption.image.link.attrs.target|default:\'\'}}"\x3e\n                        {% endif %}{% endif %}\n                        \x3cimg alt\x3d"{{caption.image.alt|default:\'\'}}" src\x3d"{{caption.image.src}}" width\x3d"{{caption.image.calculatedWidth}}" style\x3d"max-width:{{caption.image.width}}px;" class\x3d"mcnImage"/\x3e\n                        {% if caption.image.link %}{% if caption.image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n                    {% else %}\n                        \x3ctable style\x3d"width: 100%;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{forloop.counter0}}"\x3e\x3c/table\x3e\n                    {% endif %}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n            \x3ctable class\x3d"mcnImageCardLeftTextContentContainer" align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"{{widths.caption}}"\x3e\n                \x3ctr\x3e\n                    \x3ctd valign\x3d"top" class\x3d"mcnTextContent" style\x3d"padding-left:{{totalPadding}}px; padding-top:{{totalPadding}}px; padding-bottom:{{totalPadding}}px;"\x3e\n                        {{caption.text|safe}}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n{% endifequal %}\n\n{% ifequal position "right" %}\n\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnImageCardRightContentOuter" width\x3d"100%"\x3e\n    \x3ctr\x3e\n        \x3ctd align\x3d"center" valign\x3d"top" class\x3d"mcnImageCardRightContentInner" style\x3d"padding:0;"\x3e\n            \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnImageCardRightImageContentContainer" width\x3d"{{widths.container}}"\x3e\n                \x3ctr\x3e\n                    \x3ctd class\x3d"mcnImageCardRightImageContent{% if widths.edgeToEdge %}E2E {% endif %}" align\x3d"{{align}}" valign\x3d"top" style\x3d"padding-top:{{widths.imagePadding}}px; padding-right:0; padding-bottom:{{widths.imagePadding}}px; padding-left:{{widths.imagePadding}}px;"\x3e\n                    {% if caption.image %}\n                        {% if caption.image.link %}{% if caption.image.link.href %}\n                        \x3ca href\x3d"{{caption.image.link.href|safe}}" title\x3d"{{caption.image.link.attrs.title|default:\'\'}}" class\x3d"{{caption.image.link.attrs.class|default:\'\'}}" target\x3d"{{caption.image.link.attrs.target|default:\'\'}}"\x3e\n                        {% endif %}{% endif %}\n\n                        \x3cimg alt\x3d"{{caption.image.alt|default:\'\'}}" src\x3d"{{caption.image.src}}" width\x3d"{{caption.image.calculatedWidth}}" style\x3d"max-width:{{caption.image.width}}px;" class\x3d"mcnImage"/\x3e\n                        {% if caption.image.link %}{% if caption.image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n\n                    {% else %}\n                        \x3ctable style\x3d"width: 100%;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{forloop.counter0}}"\x3e\x3c/table\x3e\n                    {% endif %}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n            \x3ctable class\x3d"mcnImageCardRightTextContentContainer" align\x3d"right" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"{{widths.caption}}"\x3e\n                \x3ctr\x3e\n                    \x3ctd valign\x3d"top" class\x3d"mcnTextContent" style\x3d"padding-right:{{totalPadding}}px; padding-top:{{totalPadding}}px; padding-bottom:{{totalPadding}}px;"\x3e\n                        {{caption.text|safe}}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n{% endifequal %}\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageCardEditor/_vertical.html":'{% ifequal position "bottom" %}\n\x3ctable align\x3d"{% cycle \'left\' \'right\' %}" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnImageCardBottomContent" width\x3d"100%"\x3e\n    \x3ctr\x3e\n        \x3ctd class\x3d"mcnImageCardBottomImageContent" align\x3d"{{align}}" valign\x3d"top" style\x3d"padding-top:{{widths.imagePadding}}px; padding-right:{{widths.imagePadding}}px; padding-bottom:0; padding-left:{{widths.imagePadding}}px;"\x3e\n        {% if caption.image %}\n            {% if caption.image.link %}{% if caption.image.link.href %}\n            \x3ca href\x3d"{{caption.image.link.href|safe}}" title\x3d"{{caption.image.link.attrs.title|default:\'\'}}" class\x3d"{{caption.image.link.attrs.class|default:\'\'}}" target\x3d"{{caption.image.link.attrs.target|default:\'\'}}"\x3e\n            {% endif %}{% endif %}\n\n            \x3cimg alt\x3d"{{caption.image.alt|default:\'\'}}" src\x3d"{{caption.image.src}}" width\x3d"{{caption.image.calculatedWidth}}" style\x3d"max-width:{{caption.image.width}}px;" class\x3d"mcnImage"/\x3e\n            {% if caption.image.link %}{% if caption.image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n        {% else %}\n            \x3ctable style\x3d"width: {{widths.image}}px;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{forloop.counter0}}"\x3e\x3c/table\x3e\n        {% endif %}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n    \x3ctr\x3e\n        \x3ctd class\x3d"mcnTextContent" valign\x3d"top" style\x3d"padding-top:{{innerPadding}}px; padding-right:{{totalPadding}}px; padding-bottom:{{innerPadding}}px; padding-left:{{totalPadding}}px;" width\x3d"{{widths.caption}}"\x3e\n            {{caption.text|safe}}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n{% endifequal %}\n\n{% ifequal position "top" %}\n\x3ctable align\x3d"{% cycle \'left\' \'right\' %}" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnImageCardTopContent" width\x3d"100%"\x3e\n    \x3ctr\x3e\n        \x3ctd class\x3d"mcnTextContent" valign\x3d"top" style\x3d"padding-top:{{totalPadding}}px; padding-right:{{totalPadding}}px; padding-bottom:0; padding-left:{{totalPadding}}px;" width\x3d"{{widths.caption}}"\x3e\n            {{caption.text|safe}}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n    \x3ctr\x3e\n        \x3ctd class\x3d"mcnImageCardTopImageContent" align\x3d"{{align}}" valign\x3d"top" style\x3d"padding-top:{{outerPadding}}px; padding-right:{{widths.imagePadding}}px; padding-bottom:{{widths.imagePadding}}px; padding-left:{{widths.imagePadding}}px;"\x3e\n        {% if caption.image %}\n            {% if caption.image.link %}{% if caption.image.link.href %}\n            \x3ca href\x3d"{{caption.image.link.href|safe}}" title\x3d"{{caption.image.link.attrs.title|default:\'\'}}" class\x3d"{{caption.image.link.attrs.class|default:\'\'}}" target\x3d"{{caption.image.link.attrs.target|default:\'\'}}"\x3e\n            {% endif %}{% endif %}\n\n            \x3cimg alt\x3d"{{caption.image.alt|default:\'\'}}" src\x3d"{{caption.image.src}}" width\x3d"{{caption.image.calculatedWidth}}" style\x3d"max-width:{{caption.image.width}}px;" class\x3d"mcnImage"/\x3e\n\n            {% if caption.image.link %}{% if caption.image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n        {% else %}\n            \x3ctable style\x3d"width: {{widths.image}}px;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{forloop.counter0}}"\x3e\x3c/table\x3e\n        {% endif %}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n{% endifequal %}\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnImageBlock" style\x3d"min-width:100%;"\x3e\n    \x3ctbody class\x3d"mcnImageBlockOuter"\x3e\n            \x3ctr\x3e\n                \x3ctd valign\x3d"top" style\x3d"padding:{{outerPadding}}px" class\x3d"mcnImageBlockInner"\x3e\n                    \x3ctable align\x3d"left" width\x3d"100%" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnImageContentContainer" style\x3d"min-width:100%;"\x3e\n                        \x3ctr\x3e\n                            \x3ctd class\x3d"mcnImageContent" valign\x3d"top" style\x3d"padding-right: {{innerPadding}}px; padding-left: {{innerPadding}}px; padding-top: 0; padding-bottom: 0;{% ifequal align \'center\' %} text-align:{{align}};{% endifequal %}"\x3e\n                                {% if src %}\n                                    {% if link %}{% if link.href %}\x3ca href\x3d"{{link.href|safe}}" title\x3d"{{link.attrs.title|default:\'\'}}" class\x3d"{{link.attrs.class|default:\'\'}}" target\x3d"{{link.attrs.target|default:\'\'}}"\x3e{% endif %}{% endif %}\n                                        \x3cimg align\x3d"{% if align \x3d\x3d \'left\' or align \x3d\x3d\'right\' %}{{align}}{% endif %}" alt\x3d"{{alt|default:\'\'}}" src\x3d\'{{src|safe}}\' width\x3d"{{calculatedWidth}}" style\x3d\'max-width:{{width|safe}}px; padding-bottom: 0; display: inline !important; vertical-align: bottom;\' class\x3d"{{imageClass}}"/\x3e\n                                    {% if link %}{% if link.href %}\x3c/a\x3e{% endif %}{% endif %}\n                                {% else %}\n                                \x3ctable style\x3d"width:100%;" class\x3d"mcpreview-image-uploader"\x3e\x3c/table\x3e\n                                {% endif %}\n                            \x3c/td\x3e\n                        \x3c/tr\x3e\n                    \x3c/table\x3e\n                \x3c/td\x3e\n            \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageGroupEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnImageGroupBlock"\x3e\n    \x3ctbody class\x3d"mcnImageGroupBlockOuter"\x3e\n        {% for group in images %}\n            \x3ctr\x3e\n                \x3ctd valign\x3d"top" style\x3d"padding:{{outerPadding}}px" class\x3d"mcnImageGroupBlockInner"\x3e\n                    {% for image in group %}\n                    \x3ctable align\x3d"{% cycle \'left\' \'right\' %}" width\x3d"{{image.columnWidth}}" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnImageGroupContentContainer"\x3e\n                            \x3ctr\x3e\n                                \x3ctd class\x3d"mcnImageGroupContent" valign\x3d"top" style\x3d"padding-{% cycle \'left\' \'right\' %}: {{innerPadding}}px; padding-top: 0; padding-bottom: 0;"\x3e\n                                {% if image.src %}\n                                    {% if image.link %}{% if image.link.href %}\x3ca href\x3d"{{image.link.href|safe}}" title\x3d"{{image.link.attrs.title|default:\'\'}}" class\x3d"{{image.link.attrs.class|default:\'\'}}" target\x3d"{{image.link.attrs.target|default:\'\'}}"\x3e{% endif %}{% endif %}\n                                        \x3cimg alt\x3d\'{{image.alt|default:""}}\' src\x3d\'{{image.src|safe}}\' width\x3d"{{image.calculatedWidth}}" style\x3d\'max-width:100%; padding-bottom: 0;\' class\x3d"mcnImage"/\x3e\n                                    {% if image.link %}{% if image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n                                {% else %}\n                                    \x3ctable style\x3d"width:{{image.calculatedWidth}}px;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{image.index}}"\x3e\x3c/table\x3e\n                                {% endif %}\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                    {% endfor %}\n                \x3c/td\x3e\n            \x3c/tr\x3e\n        {% endfor %}\n    \x3c/tbody\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/ImageWithCaptionEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnCaptionBlock"\x3e\n    \x3ctbody class\x3d"mcnCaptionBlockOuter"\x3e\n        \x3ctr\x3e\n            \x3ctd class\x3d"mcnCaptionBlockInner" valign\x3d"top" style\x3d"padding:{{outerPadding}}px;"\x3e\n                {{blockHtml|safe}}\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e\n',"url:mojo/neapolitan/editors/blocks/templates/ImageWithCaptionEditor/_horizontal.html":'{% ifequal position "left" %}\n{% for caption in captions %}\n\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnCaptionLeftContentOuter" width\x3d"100%"\x3e\n    \x3ctr\x3e\n        \x3ctd valign\x3d"top" class\x3d"mcnCaptionLeftContentInner" style\x3d"padding:{% if forloop.first and forloop.last %}{{singlePadding}}{% else %}{% cycle firstPadding lastPadding %}{% endif %};"\x3e\n            \x3ctable align\x3d"right" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnCaptionLeftImageContentContainer" width\x3d"{{widths.container}}"\x3e\n                \x3ctr\x3e\n                    \x3ctd class\x3d"mcnCaptionLeftImageContent" align\x3d"{{align}}" valign\x3d"top"\x3e\n                    {% if caption.image %}\n                        {% if caption.image.link %}{% if caption.image.link.href %}\n                        \x3ca href\x3d"{{caption.image.link.href|safe}}" title\x3d"{{caption.image.link.attrs.title|default:\'\'}}" class\x3d"{{caption.image.link.attrs.class|default:\'\'}}" target\x3d"{{caption.image.link.attrs.target|default:\'\'}}"\x3e\n                        {% endif %}{% endif %}\n                        \x3cimg alt\x3d"{{caption.image.alt|default:\'\'}}" src\x3d"{{caption.image.src}}" width\x3d"{{caption.image.calculatedWidth}}" style\x3d"max-width:{{caption.image.width}}px;" class\x3d"mcnImage"/\x3e\n                        {% if caption.image.link %}{% if caption.image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n                    {% else %}\n                        \x3ctable style\x3d"width: 100%;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{forloop.counter0}}"\x3e\x3c/table\x3e\n                    {% endif %}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n            \x3ctable class\x3d"mcnCaptionLeftTextContentContainer" align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"{{widths.caption}}"\x3e\n                \x3ctr\x3e\n                    \x3ctd valign\x3d"top" class\x3d"mcnTextContent"\x3e\n                        {{caption.text|safe}}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n{% endfor %}\n{% endifequal %}\n\n{% ifequal position "right" %}\n{% for caption in captions %}\n\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnCaptionRightContentOuter" width\x3d"100%"\x3e\n    \x3ctr\x3e\n        \x3ctd valign\x3d"top" class\x3d"mcnCaptionRightContentInner" style\x3d"padding:{% if forloop.first and forloop.last %}{{singlePadding}}{% else %}{% cycle firstPadding lastPadding %}{% endif %};"\x3e\n            \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnCaptionRightImageContentContainer" width\x3d"{{widths.container}}"\x3e\n                \x3ctr\x3e\n                    \x3ctd class\x3d"mcnCaptionRightImageContent" align\x3d"{{align}}" valign\x3d"top"\x3e\n                    {% if caption.image %}\n                        {% if caption.image.link %}{% if caption.image.link.href %}\n                        \x3ca href\x3d"{{caption.image.link.href|safe}}" title\x3d"{{caption.image.link.attrs.title|default:\'\'}}" class\x3d"{{caption.image.link.attrs.class|default:\'\'}}" target\x3d"{{caption.image.link.attrs.target|default:\'\'}}"\x3e\n                        {% endif %}{% endif %}\n\n                        \x3cimg alt\x3d"{{caption.image.alt|default:\'\'}}" src\x3d"{{caption.image.src}}" width\x3d"{{caption.image.calculatedWidth}}" style\x3d"max-width:{{caption.image.width}}px;" class\x3d"mcnImage"/\x3e\n                        {% if caption.image.link %}{% if caption.image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n\n                    {% else %}\n                        \x3ctable style\x3d"width: 100%;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{forloop.counter0}}"\x3e\x3c/table\x3e\n                    {% endif %}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n            \x3ctable class\x3d"mcnCaptionRightTextContentContainer" align\x3d"right" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"{{widths.caption}}"\x3e\n                \x3ctr\x3e\n                    \x3ctd valign\x3d"top" class\x3d"mcnTextContent"\x3e\n                        {{caption.text|safe}}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n{% endfor %}\n\n{% endifequal %}\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageWithCaptionEditor/_vertical.html":'{% ifequal position "bottom" %}\n{% for caption in captions %}\n\x3ctable align\x3d"{% cycle \'left\' \'right\' %}" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnCaptionBottomContent" {% ifequal captionCount 2 %}width\x3d"{{widths.caption}}"{% endifequal %}\x3e\n    \x3ctr\x3e\n        \x3ctd class\x3d"mcnCaptionBottomImageContent" align\x3d"{{align}}" valign\x3d"top" style\x3d"padding:0 {{innerPadding}}px {{innerPadding}}px {{innerPadding}}px;"\x3e\n        {% if caption.image %}\n            {% if caption.image.link %}{% if caption.image.link.href %}\n            \x3ca href\x3d"{{caption.image.link.href|safe}}" title\x3d"{{caption.image.link.attrs.title|default:\'\'}}" class\x3d"{{caption.image.link.attrs.class|default:\'\'}}" target\x3d"{{caption.image.link.attrs.target|default:\'\'}}"\x3e\n            {% endif %}{% endif %}\n\n            \x3cimg alt\x3d"{{caption.image.alt|default:\'\'}}" src\x3d"{{caption.image.src}}" width\x3d"{{caption.image.calculatedWidth}}" style\x3d"max-width:{{caption.image.width}}px;" class\x3d"mcnImage"/\x3e\n            {% if caption.image.link %}{% if caption.image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n        {% else %}\n            \x3ctable style\x3d"width: {{widths.image}}px;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{forloop.counter0}}"\x3e\x3c/table\x3e\n        {% endif %}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n    \x3ctr\x3e\n        \x3ctd class\x3d"mcnTextContent" valign\x3d"top" style\x3d"padding:0 {{innerPadding}}px 0 {{innerPadding}}px;" width\x3d"{{widths.caption}}"\x3e\n            {{caption.text|safe}}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n{% endfor %}\n{% endifequal %}\n\n{% ifequal position "top" %}\n{% for caption in captions %}\n\x3ctable align\x3d"{% cycle \'left\' \'right\' %}" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnCaptionTopContent" {% ifequal captionCount 2 %}width\x3d"{{widths.caption}}"{% endifequal %}\x3e\n    \x3ctr\x3e\n        \x3ctd class\x3d"mcnTextContent" valign\x3d"top" style\x3d"padding:0 {{innerPadding}}px 0 {{innerPadding}}px;" width\x3d"{{widths.caption}}"\x3e\n            {{caption.text|safe}}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n    \x3ctr\x3e\n        \x3ctd class\x3d"mcnCaptionTopImageContent" align\x3d"{{align}}" valign\x3d"top" style\x3d"padding:{{innerPadding}}px {{innerPadding}}px 0 {{innerPadding}}px;"\x3e\n        {% if caption.image %}\n            {% if caption.image.link %}{% if caption.image.link.href %}\n            \x3ca href\x3d"{{caption.image.link.href|safe}}" title\x3d"{{caption.image.link.attrs.title|default:\'\'}}" class\x3d"{{caption.image.link.attrs.class|default:\'\'}}" target\x3d"{{caption.image.link.attrs.target|default:\'\'}}"\x3e\n            {% endif %}{% endif %}\n\n            \x3cimg alt\x3d"{{caption.image.alt|default:\'\'}}" src\x3d"{{caption.image.src}}" width\x3d"{{caption.image.calculatedWidth}}" style\x3d"max-width:{{caption.image.width}}px;" class\x3d"mcnImage"/\x3e\n\n            {% if caption.image.link %}{% if caption.image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n        {% else %}\n            \x3ctable style\x3d"width: {{widths.image}}px;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{forloop.counter0}}"\x3e\x3c/table\x3e\n        {% endif %}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n{% endfor %}\n{% endifequal %}\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialFollowEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnFollowBlock" style\x3d"min-width:100%;"\x3e\n    \x3ctbody class\x3d"mcnFollowBlockOuter"\x3e\n        \x3ctr\x3e\n            \x3ctd align\x3d"center" valign\x3d"top" style\x3d"padding:{{outerPadding}}px" class\x3d"mcnFollowBlockInner"\x3e\n                {{blockHtml|safe}}\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialFollowEditor/_horizontal.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnFollowContentContainer" style\x3d"min-width:100%;"\x3e\n    \x3ctr\x3e\n        \x3ctd align\x3d"{{align}}" style\x3d"padding-left:{{innerPadding}}px;padding-right:{{innerPadding}}px;"\x3e\n            \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" {% if adjustableWidth %}width\x3d"{{adjustableWidth}}" style\x3d"min-width:100%;"{% endif %} class\x3d"mcnFollowContent"\x3e\n                \x3ctr\x3e\n                    \x3ctd align\x3d"{{align}}" valign\x3d"top" style\x3d"padding-top:9px; padding-right:9px; padding-left:9px;"\x3e\n                        \x3ctable align\x3d"{{align}}" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\n                            \x3ctr\x3e\n                                \x3ctd align\x3d"{{align}}" valign\x3d"top"\x3e\n                                    \x3c!--[if mso]\x3e\n                                    \x3ctable align\x3d"{{align}}" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0"\x3e\n                                    \x3ctr\x3e\n                                    \x3c![endif]--\x3e\n                                    {% for item in items %}\n                                        \x3c!--[if mso]\x3e\n                                        \x3ctd align\x3d"center" valign\x3d"top"\x3e\n                                        \x3c![endif]--\x3e\n                                        {% ifequal itemArrangement \'stacked\' %}\n                                            \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnFollowStacked" style\x3d"display:inline;"\x3e\n                                                 {% if displayIcon %}\n                                                \x3ctr\x3e\n                                                    \x3ctd align\x3d"center" valign\x3d"top" class\x3d"mcnFollowIconContent" style\x3d"padding-right:{% if forloop.last %}0{% else %}10px{% endif %}; padding-bottom:{% if displayText %}5px{% else %}9px{% endif %};"\x3e\n                                                        \x3ca href\x3d"{{item.link}}" target\x3d"_blank"\x3e\x3cimg src\x3d"{{item.iconUrl}}" alt\x3d"{{item.text|default:\'\'}}" class\x3d"mcnFollowBlockIcon" width\x3d"48" style\x3d"width:48px; max-width:48px; display:block;" /\x3e\x3c/a\x3e\n                                                    \x3c/td\x3e\n                                                \x3c/tr\x3e\n                                                {% endif %}\n                                                {% if displayText %}\n                                                \x3ctr\x3e\n                                                    \x3ctd align\x3d"center" valign\x3d"top" class\x3d"mcnFollowTextContent" style\x3d"padding-right:{% if forloop.last %}0{% else %}10px{% endif %}; padding-bottom:9px;"\x3e\n                                                        \x3ca href\x3d"{{item.link}}" target\x3d"_blank"\x3e{{item.text}}\x3c/a\x3e\n                                                    \x3c/td\x3e\n                                                \x3c/tr\x3e\n                                                {% endif %}\n                                            \x3c/table\x3e\n                                        {% endifequal %}\n                                        {% ifequal itemArrangement \'inline\' %}\n                                            \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" style\x3d"display:inline;"\x3e\n                                                \x3ctr\x3e\n                                                    \x3ctd valign\x3d"top" style\x3d"padding-right:{% if forloop.last %}0{% else %}10px{% endif %}; padding-bottom:9px;" class\x3d"mcnFollowContentItemContainer"\x3e\n                                                        \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnFollowContentItem"\x3e\n                                                            \x3ctr\x3e\n                                                                \x3ctd align\x3d"left" valign\x3d"middle" style\x3d"padding-top:5px; padding-right:10px; padding-bottom:5px; padding-left:9px;"\x3e\n                                                                    \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d""\x3e\n                                                                        \x3ctr\x3e\n                                                                            {% if displayIcon %}\n                                                                                \x3ctd align\x3d"center" valign\x3d"middle" width\x3d"24" class\x3d"mcnFollowIconContent"\x3e\n                                                                                    \x3ca href\x3d"{{item.link|safe}}" target\x3d"_blank"\x3e\x3cimg src\x3d"{{item.iconUrl}}" style\x3d"display:block;" height\x3d"24" width\x3d"24" class\x3d"" /\x3e\x3c/a\x3e\n                                                                                \x3c/td\x3e\n                                                                            {% endif %}\n                                                                            {% if displayText %}\n                                                                                \x3ctd align\x3d"left" valign\x3d"middle" class\x3d"mcnFollowTextContent" style\x3d"padding-left:5px;"\x3e\n                                                                                    \x3ca href\x3d"{{item.link|safe}}" target\x3d"" style\x3d"font-family:Helvetica; font-size:12px; text-decoration:none;"\x3e{{item.text}}\x3c/a\x3e\n                                                                                \x3c/td\x3e\n                                                                            {% endif %}\n                                                                        \x3c/tr\x3e\n                                                                    \x3c/table\x3e\n                                                                \x3c/td\x3e\n                                                            \x3c/tr\x3e\n                                                        \x3c/table\x3e\n                                                    \x3c/td\x3e\n                                                \x3c/tr\x3e\n                                            \x3c/table\x3e\n                                        {% endifequal %}\n                                        \x3c!--[if mso]\x3e\n                                        \x3c/td\x3e\n                                        \x3c![endif]--\x3e\n                                    {% endfor %}\n                                    \x3c!--[if mso]\x3e\n                                    \x3c/tr\x3e\n                                    \x3c/table\x3e\n                                    \x3c![endif]--\x3e\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialFollowEditor/_vertical.html":'\x3ctable width\x3d"100%" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" style\x3d"min-width:100%;"\x3e\n    \x3ctr\x3e\n        \x3ctd align\x3d"{{ align }}" style\x3d"padding-left:{{innerPadding}}px; padding-right:{{innerPadding}}px;"\x3e\n            \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" {% if adjustableWidth %}width\x3d"{{adjustableWidth}}" style\x3d"min-width:100%;"{% endif %} class\x3d"mcnFollowContentContainer"\x3e\n                \x3ctr\x3e\n                    \x3ctd align\x3d"{{ align }}" valign\x3d"top" style\x3d"padding:10px;" class\x3d"mcnFollowContent"\x3e\n\t\t\t\t\t\t\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd align\x3d"left" valign\x3d"top"\x3e\n\t\t\t                        {% for item in items %}\n\t\t\t                            \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnFollowContentItem"\x3e\n\t\t\t                                {% ifequal itemArrangement \'inline\' %}\n\t\t\t                                    \x3ctr\x3e\n\t\t\t                                        {% if displayIcon %}\n\t\t\t                                        \x3ctd align\x3d"left" valign\x3d"top" width\x3d"24" style\x3d"padding-right:{% if displayText %}5px{% else%}0{% endif %}; padding-left:0; padding-bottom:{% if forloop.last %}0{% else %}10px{% endif %};" class\x3d"mcnFollowIconContent"\x3e\n\t\t\t                                            \x3ca href\x3d"{{item.link}}" target\x3d"_blank"\x3e\x3cimg src\x3d"{{item.iconUrl}}" height\x3d"24" width\x3d"24" style\x3d"display:block;"\x3e\x3c/a\x3e\n\t\t\t                                        \x3c/td\x3e\n\t\t\t                                        {% endif %}\n\t\t\t                                        {% if displayText %}\n\t\t\t                                        \x3ctd valign\x3d"middle" class\x3d"mcnFollowTextContent" style\x3d"padding-left:0; padding-bottom:{% if forloop.last %}0{% else %}10px{% endif %};"\x3e\n\t\t\t                                            \x3ca href\x3d"{{item.link}}" target\x3d"_blank"\x3e{{item.text}}\x3c/a\x3e\n\t\t\t                                        \x3c/td\x3e\n\t\t\t                                        {% endif %}\n\t\t\t                                    \x3c/tr\x3e\n\t\t\t                                {% endifequal %}\n\t\t\t                                {% ifequal itemArrangement \'stacked\' %}\n\t\t\t                                    {% if displayIcon %}\n\t\t\t                                        \x3ctr\x3e\n\t\t\t                                            \x3ctd align\x3d"center" valign\x3d"top" style\x3d"padding-left:0; padding-bottom:5px;" class\x3d"mcnFollowIconContent"\x3e\n\t\t\t                                                \x3ca href\x3d"{{item.link}}" target\x3d"_blank"\x3e\x3cimg src\x3d"{{item.iconUrl}}" height\x3d"48" width\x3d"48" style\x3d"vertical-align:bottom;"\x3e\x3c/a\x3e\n\t\t\t                                            \x3c/td\x3e\n\t\t\t                                        \x3c/tr\x3e\n\t\t\t                                    {% endif %}\n\t\t\t                                    {% if displayText %}\n\t\t\t                                        \x3ctr\x3e\n\t\t\t                                            \x3ctd valign\x3d"middle" align\x3d"left" class\x3d"mcnFollowTextContent" style\x3d"padding-left:0; padding-bottom:{% if forloop.last %}0{% else %}10px{% endif %}; text-align:center;"\x3e\n\t\t\t                                                \x3ca href\x3d"{{item.link}}" target\x3d"_blank"\x3e{{item.text}}\x3c/a\x3e\n\t\t\t                                            \x3c/td\x3e\n\t\t\t                                        \x3c/tr\x3e\n\t\t\t                                    {% endif %}\n\t\t\t                                {% endifequal %}\n\t\t\t                            \x3c/table\x3e\n\t\t\t                        {% endfor %}\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\x3c/table\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialShareEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnShareBlock" style\x3d"min-width:100%;"\x3e\n    \x3ctbody class\x3d"mcnShareBlockOuter"\x3e\n            \x3ctr\x3e\n                \x3ctd valign\x3d"top" style\x3d"padding:{{outerPadding}}px" class\x3d"mcnShareBlockInner"\x3e\n                    {{blockHtml|safe}}\n                \x3c/td\x3e\n            \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialShareEditor/_horizontal.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnShareContentContainer" style\x3d"min-width:100%;"\x3e\n    \x3ctr\x3e\n        \x3ctd align\x3d"{{align}}" style\x3d"padding-top:0; padding-left:9px; padding-bottom:0; padding-right:9px;"\x3e\n            \x3ctable align\x3d"{{align}}" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" {% if adjustableWidth %}width\x3d"{{adjustableWidth}}" style\x3d"min-width:100%;"{% endif %} class\x3d"mcnShareContent"\x3e\n                \x3ctr\x3e\n                    \x3ctd align\x3d"{{align}}" valign\x3d"top" class\x3d"mcnShareContentItemContainer" style\x3d"padding-top:9px; padding-right:9px; padding-left:9px;"\x3e\n                        \x3ctable align\x3d"{{align}}" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\n                            \x3ctr\x3e\n                                \x3ctd align\x3d"left" valign\x3d"top"\x3e\n                                    \x3c!--[if mso]\x3e\n                                    \x3ctable align\x3d"{{align}}" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0"\x3e\n                                    \x3ctr\x3e\n                                    \x3c![endif]--\x3e\n                                    {% for item in items %}\n                                        \x3c!--[if mso]\x3e\n                                        \x3ctd align\x3d"center" valign\x3d"top"\x3e\n                                        \x3c![endif]--\x3e\n                                        \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\n                                            \x3ctr\x3e\n                                                \x3ctd valign\x3d"top" style\x3d"padding-right:{% if forloop.last %}0{% else %}9px{% endif %}; padding-bottom:9px;" class\x3d"mcnShareContentItemContainer"\x3e\n                                                    \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"" class\x3d"mcnShareContentItem" style\x3d"border-collapse:separate;"\x3e\n                                                        \x3ctr\x3e\n                                                            \x3ctd align\x3d"left" valign\x3d"middle" style\x3d"padding-top:5px; padding-right:9px; padding-bottom:5px; padding-left:9px;"\x3e\n                                                                \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d""\x3e\n                                                                    \x3ctr\x3e\n                                                                        \x3ctd align\x3d"center" valign\x3d"middle" width\x3d"24" class\x3d"mcnShareIconContent"\x3e\n                                                                            \x3ca href\x3d"{{item.link|safe}}" target\x3d"_blank"\x3e\x3cimg src\x3d"{{item.iconUrl}}" style\x3d"display:block;" height\x3d"24" width\x3d"24" class\x3d"" /\x3e\x3c/a\x3e\n                                                                        \x3c/td\x3e\n                                                                        \x3ctd align\x3d"left" valign\x3d"middle" class\x3d"mcnShareTextContent" style\x3d"padding-left:5px;"\x3e\n                                                                            \x3ca href\x3d"{{item.link|safe}}" target\x3d""\x3e{{item.text}}\x3c/a\x3e\n                                                                        \x3c/td\x3e\n                                                                    \x3c/tr\x3e\n                                                                \x3c/table\x3e\n                                                            \x3c/td\x3e\n                                                        \x3c/tr\x3e\n                                                    \x3c/table\x3e\n                                                \x3c/td\x3e\n                                            \x3c/tr\x3e\n                                        \x3c/table\x3e\n                                        \x3c!--[if mso]\x3e\n                                        \x3c/td\x3e\n                                        \x3c![endif]--\x3e\n                                    {% endfor %}\n                                    \x3c!--[if mso]\x3e\n                                    \x3c/tr\x3e\n                                    \x3c/table\x3e\n                                    \x3c![endif]--\x3e\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialShareEditor/_vertical.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnShareContentContainer" style\x3d"min-width:100%;"\x3e\n    \x3ctr\x3e\n        \x3ctd align\x3d"{{align}}" style\x3d"padding-top:0; padding-left:9px; padding-bottom:0; padding-right:9px;"\x3e\n            \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" {% if adjustableWidth %}width\x3d"{{adjustableWidth}}" style\x3d"min-width:100%;"{% endif %} class\x3d"mcnShareContent"\x3e\n                \x3ctr\x3e\n                    \x3ctd align\x3d"{{align}}" valign\x3d"top" class\x3d"mcnShareContentItemContainer" style\x3d"padding-top:9px; padding-right:9px; padding-left:9px;"\x3e\n\t\t\t\t\t\t\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\n\t\t\t\t\t\t\t\x3ctr\x3e\n\t\t\t\t\t\t\t\t\x3ctd align\x3d"left" valign\x3d"top"\x3e\n\t\t\t\t\t\t            {% for item in items %}\n\t\t\t\t\t\t                \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" class\x3d"mcnShareContentItemContainer"\x3e\n\t\t\t\t\t\t                    \x3ctr\x3e\n\t\t\t\t\t\t                        \x3ctd valign\x3d"top" style\x3d"padding-bottom:10px;"\x3e\n\t\t\t\t\t\t                            \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"" class\x3d"mcnShareContentItem" style\x3d"border-collapse:separate;"\x3e\n\t\t\t\t\t\t                                \x3ctr\x3e\n\t\t\t\t\t\t                                    \x3ctd align\x3d"left" valign\x3d"middle" style\x3d"padding-top:5px; padding-right:10px; padding-bottom:5px; padding-left:9px;"\x3e\n\t\t\t\t\t\t                                        \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d""\x3e\n\t\t\t\t\t\t                                            \x3ctr\x3e\n\t\t\t\t\t\t                                                \x3ctd align\x3d"center" valign\x3d"middle" width\x3d"24" class\x3d"mcnShareIconContent"\x3e\n\t\t\t\t\t\t                                                    \x3ca href\x3d"{{item.link|safe}}" target\x3d"_blank"\x3e\x3cimg src\x3d"{{item.iconUrl}}" style\x3d"display:block;" height\x3d"24" width\x3d"24" class\x3d"" /\x3e\x3c/a\x3e\n\t\t\t\t\t\t                                                \x3c/td\x3e\n\t\t\t\t\t\t                                                \x3ctd align\x3d"left" valign\x3d"middle" class\x3d"mcnShareTextContent" style\x3d"padding-left:5px;"\x3e\n\t\t\t\t\t\t                                                    \x3ca href\x3d"{{item.link|safe}}" target\x3d""\x3e{{item.text}}\x3c/a\x3e\n\t\t\t\t\t\t                                                \x3c/td\x3e\n\t\t\t\t\t\t                                            \x3c/tr\x3e\n\t\t\t\t\t\t                                        \x3c/table\x3e\n\t\t\t\t\t\t                                    \x3c/td\x3e\n\t\t\t\t\t\t                                \x3c/tr\x3e\n\t\t\t\t\t\t                            \x3c/table\x3e\n\t\t\t\t\t\t                        \x3c/td\x3e\n\t\t\t\t\t\t                    \x3c/tr\x3e\n\t\t\t\t\t\t                \x3c/table\x3e\n\t\t\t\t\t\t            {% endfor %}\n\t\t\t\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\t\t\x3c/table\x3e\n\t\t\t\t\t\x3c/td\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/CodeEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnCodeBlock"\x3e\n    \x3ctbody class\x3d"mcnTextBlockOuter"\x3e\n        \x3ctr\x3e\n            \x3ctd valign\x3d"top" class\x3d"mcnTextBlockInner"\x3e\n                {{html|safe}}\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e',"url:mojo/neapolitan/editors/blocks/templates/ApiEditor/output.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnCodeBlock"\x3e\n    \x3ctbody class\x3d"mcnTextBlockOuter"\x3e\n        \x3ctr\x3e\n            \x3ctd valign\x3d"top" class\x3d"mcnTextBlockInner"\x3e\n                {{html|safe}}\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/ProductRecEditor/vertical.html":'\x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnProductList mcnProductRec"\x3e\n    \x3ctr\x3e\n        \x3ctd align\x3d"left" valign\x3d"top"\x3e\n            \x3c!--[if mso]\x3e\n            \x3ctable align\x3d"center" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" width\x3d"100%" style\x3d"width:100%;"\x3e\n            \x3ctr\x3e\n            \x3c![endif]--\x3e\n\n            {{precMergeTagOpen}}\n            \x3c!--[if mso]\x3e\n            \x3ctd align\x3d"center" valign\x3d"top" width\x3d"{{columnWidth}}" style\x3d"width:{{columnWidth}}px;"\x3e\n            \x3c![endif]--\x3e\n            \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnRecContentContainer" style\x3d"max-width:{{columnWidth}}px;"\x3e\n                \x3ctr\x3e\n                    \x3ctd align\x3d"left" valign\x3d"top"\x3e\n                        \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" style\x3d"max-width:100%;"\x3e\n                            \x3ctr\x3e\n                                \x3ctd align\x3d"left" valign\x3d"top" style\x3d"font-size:0; padding-bottom:9px;"\x3e\n                                    \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n                                        \x3ctr\x3e\n                                            \x3ctd align\x3d"center" valign\x3d"top" class\x3d"mcnImageContent" style\x3d"padding-top:9px; padding-right:18px; padding-left:18px;"\x3e\n                                                \x3ca href\x3d"*|PRODUCT:URL|*" title\x3d"*|PRODUCT:TITLE|*" target\x3d"_blank"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\x3cimg alt\x3d"*|PRODUCT:TITLE|*" src\x3d"*|PRODUCT:IMAGE_URL|*" width\x3d"{{imageWidth}}" style\x3d"max-width:100%;" class\x3d"mcnImage" /\x3e\n                                                \x3c/a\x3e\n                                            \x3c/td\x3e\n                                        \x3c/tr\x3e\n                                        \x3ctr\x3e\n                                            \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnTextContent" style\x3d"padding-top:9px;"\x3e\n                                                {{contentHTML|safe}}\n                                            \x3c/td\x3e\n                                        \x3c/tr\x3e\n                                    \x3c/table\x3e\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n\n            \x3c!--[if mso]\x3e\n            \x3c/td\x3e\n            \x3c![endif]--\x3e\n            {{precMergeTagClose}}\n\n            \x3c!--[if mso]\x3e\n            \x3c/tr\x3e\n            \x3c/table\x3e\n            \x3c![endif]--\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/ProductRecEditor/horizontal.html":'\x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnProductList mcnProductRec"\x3e\n    \x3ctr\x3e\n        \x3ctd align\x3d"left" valign\x3d"top"\x3e\n            {{precMergeTagOpen}}\n            \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" style\x3d"max-width:100%;"\x3e\n                \x3ctr\x3e\n                    \x3ctd align\x3d"left" valign\x3d"top" style\x3d"font-size:0; padding-bottom:9px;"\x3e\n                        \x3c!--[if mso]\x3e\n                        \x3ctable align\x3d"left" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" width\x3d"100%" style\x3d"width:100%;"\x3e\n                        \x3ctr\x3e\n                        \x3ctd align\x3d"left" valign\x3d"top" width\x3d"{{columnWidth}}" style\x3d"width:{{columnWidth}}px;"\x3e\n                        \x3c![endif]--\x3e\n                        \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnRecContentContainer" style\x3d"max-width:{{columnWidth}}px;"\x3e\n                            \x3ctr\x3e\n                                \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnImageContent" style\x3d"padding-top:9px; padding-right:18px; padding-left:18px;"\x3e\n                                    \x3ca href\x3d"*|PRODUCT:URL|*"  title\x3d"*|PRODUCT:TITLE|*" target\x3d"_blank"\x3e\n                                        \x3cimg alt\x3d"*|PRODUCT:TITLE|*" src\x3d"*|PRODUCT:IMAGE_URL|*" width\x3d"{{imageWidth}}" style\x3d"max-width:100%;" class\x3d"mcnImage" /\x3e\n                                    \x3c/a\x3e\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                        \x3c!--[if mso]\x3e\n                        \x3c/td\x3e\n                        \x3ctd align\x3d"left" valign\x3d"top" width\x3d"{{columnWidth}}" style\x3d"width:{{columnWidth}}px;"\x3e\n                        \x3c![endif]--\x3e\n                        \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnRecContentContainer" style\x3d"max-width:{{columnWidth}}px;"\x3e\n                            \x3ctr\x3e\n                                \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnTextContent" style\x3d"padding-top:9px;"\x3e\n                                    {{contentHTML|safe}}\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                        \x3c!--[if mso]\x3e\n                        \x3c/td\x3e\n                        \x3c/tr\x3e\n                        \x3c/table\x3e\n                        \x3c![endif]--\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n            {{precMergeTagClose}}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/ProductRecEditor/_product-content.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n    {% for row in rows %}\n    \x3ctr\x3e\n        \x3ctd valign\x3d"top" class\x3d"{{row.className}}" {% if row.styles %}style\x3d"{{row.styles}}"{% endif %}\x3e\n            {{row.html|safe}}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n    {% endfor %}\n\x3c/table\x3e',"url:mojo/neapolitan/editors/blocks/templates/ProductEditor/vertical.html":'\x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnProductList mcnProductRec"\x3e\n    \x3ctr\x3e\n        \x3ctd align\x3d"left" valign\x3d"top"\x3e\n            \x3c!--[if mso]\x3e\n            \x3ctable align\x3d"center" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" width\x3d"100%" style\x3d"width:100%;"\x3e\n                \x3ctr\x3e\n            \x3c![endif]--\x3e\n\n            {% for data in productsData %}\n            \x3c!--[if mso]\x3e\n            \x3ctd align\x3d"center" valign\x3d"top" width\x3d"{{columnWidth}}" style\x3d"width:{{columnWidth}}px;"\x3e\n            \x3c![endif]--\x3e\n            \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnRecContentContainer" style\x3d"max-width:{{columnWidth}}px;"\x3e\n                \x3ctr\x3e\n                    \x3ctd align\x3d"left" valign\x3d"top"\x3e\n                        \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" style\x3d"max-width:100%;"\x3e\n                            \x3ctr\x3e\n                                \x3ctd align\x3d"left" valign\x3d"top" style\x3d"font-size:0; padding-bottom:9px;"\x3e\n                                    \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n                                        \x3ctr\x3e\n                                            \x3ctd align\x3d"center" valign\x3d"top" class\x3d"mcnImageContent" style\x3d"padding-top:9px; padding-right:18px; padding-left:18px;"\x3e\n                                                \x3ca href\x3d"{{data.product.productUrl|safe}}" title\x3d"{{data.product.title|safe}}" target\x3d"_blank"\x3e\n                                                    \x3cimg alt\x3d"{{data.product.title|safe}}" src\x3d"{{data.product.imageUrl|safe}}" width\x3d"{{imageWidth}}" style\x3d"max-width:100%;" class\x3d"mcnImage" /\x3e\n                                                \x3c/a\x3e\n                                            \x3c/td\x3e\n                                        \x3c/tr\x3e\n                                        \x3ctr\x3e\n                                            \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnTextContent" style\x3d"padding-top:9px;"\x3e\n                                                {{data.body|safe}}\n                                            \x3c/td\x3e\n                                        \x3c/tr\x3e\n                                    \x3c/table\x3e\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n\n            \x3c!--[if mso]\x3e\n            \x3c/td\x3e\n            \x3c![endif]--\x3e\n            {% endfor %}\n\n\n            \x3c!--[if mso]\x3e\n            \x3c/tr\x3e\n            \x3c/table\x3e\n            \x3c![endif]--\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/ProductEditor/horizontal.html":'\x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnProductList mcnProductRec"\x3e\n    \x3ctr\x3e\n        \x3ctd align\x3d"left" valign\x3d"top"\x3e\n            {% for data in productsData %}\n            \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" style\x3d"max-width:100%;"\x3e\n                \x3ctr\x3e\n                    \x3ctd align\x3d"left" valign\x3d"top" style\x3d"font-size:0; padding-bottom:9px;"\x3e\n                        \x3c!--[if mso]\x3e\n                        \x3ctable align\x3d"left" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" width\x3d"100%" style\x3d"width:100%;"\x3e\n                            \x3ctr\x3e\n                                \x3ctd align\x3d"left" valign\x3d"top" width\x3d"{{columnWidth}}" style\x3d"width:{{columnWidth}}px;"\x3e\n                        \x3c![endif]--\x3e\n                        \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnRecContentContainer" style\x3d"max-width:{{columnWidth}}px;"\x3e\n                            \x3ctr\x3e\n                                \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnImageContent" style\x3d"padding-top:9px; padding-right:18px; padding-left:18px;"\x3e\n                                    \x3ca href\x3d"{{data.product.productUrl|safe}}"  title\x3d"{{data.product.title|safe}}" target\x3d"_blank"\x3e\n                                        \x3cimg alt\x3d"{{data.product.title|safe}}" src\x3d"{{data.product.imageUrl|safe}}" width\x3d"{{imageWidth}}" style\x3d"max-width:100%;" class\x3d"mcnImage" /\x3e\n                                    \x3c/a\x3e\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                        \x3c!--[if mso]\x3e\n                        \x3c/td\x3e\n                        \x3ctd align\x3d"left" valign\x3d"top" width\x3d"{{columnWidth}}" style\x3d"width:{{columnWidth}}px;"\x3e\n                        \x3c![endif]--\x3e\n                        \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnRecContentContainer" style\x3d"max-width:{{columnWidth}}px;"\x3e\n                            \x3ctr\x3e\n                                \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnTextContent" style\x3d"padding-top:9px;"\x3e\n                                    {{data.body|safe}}\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                        \x3c!--[if mso]\x3e\n                        \x3c/td\x3e\n                        \x3c/tr\x3e\n                        \x3c/table\x3e\n                        \x3c![endif]--\x3e\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n            {% endfor %}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/ProductEditor/_product-content.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n    {% for row in rows %}\n    \x3ctr\x3e\n        \x3ctd valign\x3d"top" class\x3d"{{row.className}}" {% if row.styles %}style\x3d"{{row.styles}}"{% endif %}\x3e\n            {{row.html|safe}}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n    {% endfor %}\n\x3c/table\x3e',"url:mojo/neapolitan/editors/blocks/templates/AbandonedCartEditor/output.html":'\x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnCart"\x3e\n    \x3ctr\x3e\n        \x3ctd valign\x3d"top" class\x3d"mcnCartContentOuter" style\x3d"padding-top:9px; padding-bottom: 9px; padding-left: 18px; padding-right: 18px;"\x3e\n            \x3ctable align\x3d"center" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n                \x3ctr\x3e\n                    \x3ctd valign\x3d"top"\x3e\n                        {{mergeTagOpen}}\n                        \x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n                            \x3ctr\x3e\n                                \x3ctd valign\x3d"top" style\x3d"padding-top:9px; padding-bottom:9px;"\x3e\n                                    \x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n                                        \x3ctr\x3e\n                                            \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnCartImageContent" width\x3d"128"\x3e\n                                                \x3ca href\x3d"*|CART:URL|*" title\x3d"*|PRODUCT:TITLE|*" target\x3d"_blank"\x3e\n                                                    \x3cimg src\x3d"*|PRODUCT:IMAGE_URL|*" width\x3d"128" height\x3d"auto" style\x3d"height:auto; max-width:100%;" class\x3d"mcnImage" /\x3e\n                                                \x3c/a\x3e\n                                            \x3c/td\x3e\n            \n                                            {% if titleOnly %}\n                                            \x3ctd align\x3d"left" valign\x3d"top"\x3e\n                                                \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnCartContainer"\x3e\n                                                    \x3ctr\x3e\n                                                        \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnProductTitle" style\x3d"padding-bottom:18px; padding-left:18px;"\x3e\n                                                            *|PRODUCT:TITLE|*\n                                                        \x3c/td\x3e\n                                                    \x3c/tr\x3e\n                                                \x3c/table\x3e\n                                            \x3c/td\x3e\n                                            {% else %}\n                                            \x3ctd align\x3d"left" valign\x3d"top"\x3e\n                                                \x3c!--[if mso]\x3e\n                                                \x3ctable align\x3d"center" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" width\x3d"100%" style\x3d"width:100%;"\x3e\n                                                \x3ctr\x3e\n                                                \x3ctd align\x3d"left" valign\x3d"top" width\x3d"302" style\x3d"width:302px;"\x3e\n                                                \x3c![endif]--\x3e\n            \n                                                \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnCartContainer" style\x3d"max-width:302px;"\x3e\n                                                    \x3ctr\x3e\n                                                        \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnProductTitle" style\x3d"padding-bottom:18px; padding-left:18px;"\x3e\n                                                            *|PRODUCT:TITLE|*\n                                                        \x3c/td\x3e\n                                                    \x3c/tr\x3e\n                                                \x3c/table\x3e\n            \n                                                \x3c!--[if mso]\x3e\n                                                \x3c/td\x3e\n                                                \x3ctd align\x3d"left" valign\x3d"top" width\x3d"130" style\x3d"width:130px;"\x3e\n                                                \x3c![endif]--\x3e\n            \n                                                \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnCartContainer" style\x3d"max-width:130px;"\x3e\n                                                    \x3ctr\x3e\n                                                        \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnTextContent mcnProductPrice" style\x3d"padding-bottom:18px; padding-left:18px;"\x3e\n                                                            *|PRODUCT:PRICE|*\n                                                        \x3c/td\x3e\n                                                    \x3c/tr\x3e\n                                                \x3c/table\x3e\n                                                \x3c!--[if mso]\x3e\n                                                \x3c/td\x3e\n                                                \x3c/tr\x3e\n                                                \x3c/table\x3e\n                                                \x3c![endif]--\x3e\n                                            \x3c/td\x3e\n                                            {% endif %}\n                                        \x3c/tr\x3e\n            \n                                    \x3c/table\x3e\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                        {{mergeTagClose}}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/AbandonedBrowseEditor/output.html":'\x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnCart"\x3e\n    \x3ctr\x3e\n        \x3ctd valign\x3d"top" class\x3d"mcnCartContentOuter" style\x3d"padding-top:9px; padding-bottom: 9px; padding-left: 18px; padding-right: 18px;"\x3e\n            \x3ctable align\x3d"center" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n                \x3ctr\x3e\n                    \x3ctd valign\x3d"top"\x3e\n                        {{mergeTagOpen}}\n                        \x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n                            \x3ctr\x3e\n                                \x3ctd valign\x3d"top" style\x3d"padding-top:9px; padding-bottom:9px;"\x3e\n                                    \x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n                                        \x3ctr\x3e\n                                            \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnCartImageContent" width\x3d"264"\x3e\n                                                \x3ca href\x3d"*|PRODUCT:URL|*" title\x3d"*|PRODUCT:TITLE|*" target\x3d"_blank"\x3e\n                                                    \x3cimg src\x3d"*|PRODUCT:IMAGE_URL|*" width\x3d"264" height\x3d"auto" style\x3d"height:auto; max-width:100%;" class\x3d"mcnImage" /\x3e\n                                                \x3c/a\x3e\n                                            \x3c/td\x3e\n\n                                            \x3ctd align\x3d"left" valign\x3d"top"\x3e\n                                                \x3c!--[if mso]\x3e\n                                                \x3ctable align\x3d"center" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" width\x3d"100%" style\x3d"width:100%;"\x3e\n                                                \x3ctr\x3e\n                                                \x3ctd align\x3d"left" valign\x3d"top" width\x3d"302" style\x3d"width:302px;"\x3e\n                                                \x3c![endif]--\x3e\n\n                                                \x3ctable align\x3d"left" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnCartContainer" style\x3d"max-width:302px;"\x3e\n                                                    \x3ctr\x3e\n                                                        \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnProductTitle" style\x3d"padding-left:18px;"\x3e\n                                                            *|PRODUCT:TITLE|*\n                                                        \x3c/td\x3e\n                                                    \x3c/tr\x3e\n\n                                                    {% if priceEnabled %}\n                                                    \x3ctr\x3e\n                                                        \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnTextContent mcnProductPrice" style\x3d"padding-left:18px;"\x3e\n                                                            *|PRODUCT:PRICE|*\n                                                        \x3c/td\x3e\n                                                    \x3c/tr\x3e\n                                                    {% endif %}\n\n                                                    {% if buttonEnabled %}\n                                                    \x3ctr\x3e\n                                                        \x3ctd align\x3d"left" valign\x3d"top" class\x3d"mcnProductButton" style\x3d"padding-top: 9px;"\x3e\n                                                            {{buttonHtml|safe}}\n                                                        \x3c/td\x3e\n                                                    \x3c/tr\x3e\n                                                    {% endif %}\n                                                \x3c/table\x3e\n\n                                                \x3c!--[if mso]\x3e\n                                                \x3c/td\x3e\n                                                \x3c/tr\x3e\n                                                \x3c/table\x3e\n                                                \x3c![endif]--\x3e\n                                            \x3c/td\x3e\n                                        \x3c/tr\x3e\n\n                                    \x3c/table\x3e\n                                \x3c/td\x3e\n                            \x3c/tr\x3e\n                        \x3c/table\x3e\n                        {{mergeTagClose}}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/PromoCodeEditor/basicTemplate.html":'\x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnPromoBlock" style\x3d"min-width:100%;"\x3e\n    \x3ctr\x3e\n        \x3ctd style\x3d"padding-top: 9px; padding-right: 18px; padding-bottom: 9px; padding-left: 18px;" valign\x3d"top"\x3e\n            \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" style\x3d"max-width:100%;"\x3e\n                \x3ctr\x3e\n                    \x3ctd valign\x3d"top" class\x3d"mcnPromoCodeContentContainer"\x3e\n                        {{promoBody|safe}}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/PromoCodeEditor/_promo-content.html":'\x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnPromoCodeContainer"\x3e\n    \x3ctr\x3e\n        \x3ctd valign\x3d"top" style\x3d"padding-top:27px; padding-right:18px; padding-left: 18px;"\x3e\n            \x3ctable align\x3d"center" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%"\x3e\n                {% for row in rows %}\n                \x3ctr\x3e\n                    \x3ctd class\x3d"{{row.className}}" align\x3d"{{row.align|default:\'center\'}}" valign\x3d"middle" {% if row.styles %}style\x3d"{{row.styles}}"{% endif %}\x3e\n                        {{row.html|safe}}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n                {% endfor %}\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e',
"url:mojo/neapolitan/editors/blocks/templates/SignUpFormEditor/_form-fields-content.html":'\x3cdiv class\x3d"content__formFields" data-dojo-attach-point\x3d"formFieldsContainer"\x3e\n    {{formFields}}\n\x3c/div\x3e\n',"url:mojo/neapolitan/editors/blocks/templates/SignUpFormEditor/outputWeb.html":'\x3cdiv style\x3d"display:flex; align-items:center; justify-content:center; overflow: hidden;"\x3e\n    \x3cdiv class\x3d"mcnSignUpFormContentContainer" style\x3d"flex:auto; align-items:center; justify-content:center; padding-top:27px; padding-right:18px; padding-bottom:9px; padding-left:18px;"\x3e\n        \x3cdiv class\x3d"mcnTextContent" data-dojo-attach-point\x3d"formContentContainer"\x3e\n            \x3c!-- Form Fields --\x3e\n            {{signUpFormBody|safe}}\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/TextEditor/outputWeb.html":'\x3cdiv width\x3d"100%" class\x3d"mcnTextBlock"\x3e\n    \x3cdiv class\x3d"mcnTextBlockInner" style\x3d"display:flex; padding:9px;"\x3e\n        {% for column in columns %}\n        \x3cdiv style\x3d"{% ifequal columnCount 2 %}{{column.flexStyle}}{% else %}width:100%;{% endifequal %}"\x3e\n            \x3cdiv class\x3d"mcnTextContent" style\x3d"padding-top:0; padding-right:9px; padding-bottom:9px; padding-left:9px;"\x3e\n                {{column.content|safe}}\n            \x3c/div\x3e\n        \x3c/div\x3e\n        {% endfor %}\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/BoxedTextEditor/outputWeb.html":'\x3cdiv width\x3d"100%" class\x3d"mcnBoxedTextBlock"\x3e\n    \x3cdiv class\x3d"mcnBoxedTextBlockInner" style\x3d"display:flex;"\x3e\n        {% for column in columns %}\n        \x3cdiv class\x3d"mcnBoxedTextBlockColumn" style\x3d"width:100%; padding:9px 18px;{% ifequal columnCount 2 %} {{column.flexStyle}} {% endifequal %}"\x3e\n            \x3cdiv class\x3d"mcnTextContentContainer mcnTextContent" style\x3d"padding:18px;"\x3e\n                {{column.content|safe}}\n            \x3c/div\x3e\n        \x3c/div\x3e\n        {% endfor %}\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/DividerEditor/outputWeb.html":'\x3cdiv class\x3d"mcnDividerBlock"\x3e\n    \x3cdiv class\x3d"mcnDividerBlockInner" style\x3d"padding:{{totalPadding}}px;"\x3e\n        \x3cdiv class\x3d"mcnDividerContent"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n\n',"url:mojo/neapolitan/editors/blocks/templates/CodeEditor/outputWeb.html":'\x3cdiv class\x3d"mcnCodeBlock"\x3e{{html|safe}}\x3c/div\x3e\n',"url:mojo/neapolitan/editors/blocks/templates/ImageEditor/outputWeb.html":'\x3cdiv class\x3d"mcnImageBlock mcnImageBlockInner" style\x3d"padding:{{outerPadding}}px;"\x3e\n    \x3cdiv class\x3d"mcnImageContent" style\x3d"display:flex; padding-right: {{innerPadding}}px; padding-left: {{innerPadding}}px; padding-top: 0; padding-bottom: 0; justify-content:{% ifequal align \'center\' %}center{% endifequal %}{% ifequal align \'left\' %}flex-start{% endifequal %}{% ifequal align \'right\' %}flex-end{% endifequal %};"\x3e\n        {% if src %}\n        {% if link %}{% if link.href %}\x3ca href\x3d"{{link.href|safe}}" title\x3d"{{link.attrs.title|default:\'\'}}" class\x3d"{{link.attrs.class|default:\'\'}}" target\x3d"{{link.attrs.target|default:\'\'}}"\x3e{% endif %}{% endif %}\n        \x3cimg alt\x3d"{{alt|default:\'\'}}" src\x3d"{{src|safe}}" style\x3d"max-width: {{maxWidth}}; align-self: center; flex: 0 0 auto;" class\x3d"{{imageClass}}"/\x3e\n        {% if link %}{% if link.href %}\x3c/a\x3e{% endif %}{% endif %}\n        {% else %}\n        \x3ctable style\x3d"width:100%;" class\x3d"mcpreview-image-uploader"\x3e\x3c/table\x3e\n        {% endif %}\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageCardEditor/outputWeb.html":'\x3cdiv class\x3d"mcnImageCardBlock"\x3e\n    \x3cdiv class\x3d"mcnImageCardBlockInner" style\x3d"padding:9px 18px;"\x3e\n        \x3cdiv class\x3d"{{imageContentClassNames}}" style\x3d"display:flex; flex-direction:{{styleFlexDirection}};"\x3e\n            \x3cdiv style\x3d"{{cardImageContentStyle}}"\x3e\n                \x3cdiv class\x3d"{{cardImageContentClassName}}" style\x3d"{{totalImagePadding}} {{captionAlign}} display:flex; flex-display:row; flex:1 1 100%;"\x3e\n                    {% if caption.image %}\n                    {% if caption.image.link %}{% if caption.image.link.href %}\n                    \x3ca href\x3d"{{caption.image.link.href|safe}}" title\x3d"{{caption.image.link.attrs.title|default:\'\'}}" class\x3d"{{caption.image.link.attrs.class|default:\'\'}}" target\x3d"{{caption.image.link.attrs.target|default:\'\'}}"\x3e\n                        {% endif %}{% endif %}\n\n                        \x3cimg alt\x3d"{{caption.image.alt|default:\'\'}}" src\x3d"{{caption.image.src}}" width\x3d"{{caption.image.width}}" style\x3d"align-self: center; max-width:100%;" class\x3d"mcnImage"/\x3e\n                        {% if caption.image.link %}{% if caption.image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n                    {% else %}\n                    \x3ctable style\x3d"width:100%;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{forloop.counter0}}" cellspacing\x3d"0" cellpadding\x3d"0"\x3e\x3c/table\x3e\n                    {% endif %}\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv style\x3d"{{captionContentStyle}};"\x3e\n                \x3cdiv class\x3d"mcnTextContent" style\x3d"flex-display:row; flex:1 1 100%; padding: 18px;"\x3e\n                    {{caption.text|safe}}\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ButtonEditor/outputWeb.html":'\x3cdiv class\x3d"mcnButtonBlock mcnButtonBlockInner" style\x3d"display: flex; justify-content:{{align}}; padding-top:0; padding-right:18px; padding-bottom:18px; padding-left:18px;"\x3e\n    \x3cdiv {% if buttonWidth %}style\x3d"flex:auto;"{% endif %}\x3e\n        \x3ca class\x3d"mcnButtonContentContainer mcnButton {{linkClasses|default:\'\'}}" title\x3d"{{title|default:\'\'}}" href\x3d"{{href|safe}}" target\x3d"{{target|default:\'_self\'}}" style\x3d"font-weight:bold; letter-spacing:-.5px; line-height:100%; text-align:center; text-decoration: none;"\x3e{{buttonText}}\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ProductEditor/outputWeb.html":'\x3cdiv class\x3d"mcnProductList mcnProductRec" style\x3d"display: flex; flex-wrap: {{flexWrap}}; flex-direction:{{flexDirection}};"\x3e\n    {% for data in productsData %}\n    \x3cdiv class\x3d"{{containerClasses}}" style\x3d"{{containerStyles}}"\x3e\n        \x3cdiv class\x3d"mcnImageContent" style\x3d"{{imageContentStyles}}"\x3e\n            \x3ca href\x3d"{{data.product.productUrl|safe}}" title\x3d"{{data.product.title|safe}}" target\x3d"_blank"\x3e\n                \x3cimg alt\x3d"{{data.product.title|safe}}" src\x3d"{{data.product.imageUrl|safe}}" style\x3d"max-width:100%;" class\x3d"mcnImage" /\x3e\n            \x3c/a\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mcnTextContent" style\x3d"{{textContentStyles}}"\x3e\n            {% for row in data.body %}\n            \x3cdiv class\x3d"{{row.className}}" {% if row.styles %}style\x3d"{{row.styles}}"{% endif %}\x3e\n                {{row.html|safe}}\n            \x3c/div\x3e\n            {% endfor %}\n        \x3c/div\x3e\n    \x3c/div\x3e\n    {% endfor %}\n\x3c/div\x3e\n\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageWithCaptionEditor/outputWeb.html":'\x3cdiv class\x3d"{{containerClasses}}" style\x3d"display:flex;"\x3e\n    {% for caption in captions %}\n    \x3cdiv class\x3d"mcnCaptionBlockInner" style\x3d"padding:9px; width:100%;"\x3e\n        \x3cdiv class\x3d"{{innerClass}}" style\x3d"display:flex; flex-direction:{{styleFlexDirection}};"\x3e\n            \x3cdiv style\x3d"{{captionImageContentStyle}}"\x3e\n                \x3cdiv class\x3d"{{imageContentClassNames}}" style\x3d"{{totalImagePadding}} justify-content:{{captionAlign}}; display:flex; flex:1 1 100%; align-self:flex-start;"\x3e\n                    {% if caption.image %}\n                    {% if caption.image.link %}{% if caption.image.link.href %}\n                    \x3ca href\x3d"{{caption.image.link.href|safe}}" title\x3d"{{caption.image.link.attrs.title|default:\'\'}}" class\x3d"{{caption.image.link.attrs.class|default:\'\'}}" target\x3d"{{caption.image.link.attrs.target|default:\'\'}}"\x3e\n                        {% endif %}{% endif %}\n\n                        \x3cimg alt\x3d"{{caption.image.alt|default:\'\'}}" src\x3d"{{caption.image.src}}" width\x3d"{{caption.image.width}}" style\x3d"align-self:{{captionAlign}}; max-width:100%;" class\x3d"mcnImage"/\x3e\n                        {% if caption.image.link %}{% if caption.image.link.href %}\x3c/a\x3e{% endif %}{% endif %}\n                    {% else %}\n                    \x3ctable style\x3d"width:100%;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{forloop.counter0}}" cellspacing\x3d"0" cellpadding\x3d"0"\x3e\x3c/table\x3e\n                    {% endif %}\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv style\x3d"{{captionContentStyle}}"\x3e\n                \x3cdiv class\x3d"mcnTextContent" style\x3d"flex-display:row; flex:1 1 100%; padding:0 9px 0 9px;"\x3e\n                    {{caption.text|safe}}\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    {% endfor %}\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialFollowEditor/outputWeb.html":'\x3cdiv class\x3d"mcnFollowBlockInner" style\x3d"padding:{{outerPadding}}px"\x3e\n    \x3cdiv style\x3d"display:flex;flex-direction:row;justify-content:{{align}};padding-left:{{innerPadding}}px;padding-right:{{innerPadding}}px;"\x3e\n        {{blockHtml|safe}}\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/neapolitan/editors/blocks/templates/SocialFollowEditor/_verticalWeb.html":'\x3cdiv class\x3d"mcnFollowContent" style\x3d"display:flex;flex:{{adjustableWidth}};justify-content:{{align}};padding:{{innerPadding}}px;"\x3e\n    \x3cdiv style\x3d"display:flex;flex-direction:column;justify-content:{{align}};"\x3e\n        {% for item in items %}\n            {{item.template|safe}}\n        {% endfor %}\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialFollowEditor/_horizontalWeb.html":'\x3cdiv class\x3d"mcnFollowContent" style\x3d"display:flex;flex-direction:row;justify-content:{{align}};flex:{{adjustableWidth}};flex-wrap:wrap; padding-top:{{innerPadding}}px; padding-left:{{innerPadding}}px;padding-right:{{innerPadding}}px;padding-bottom:5px;"\x3e\n    {% for item in items %}\n        {{item.template|safe}}\n    {% endfor %}\n\x3c/div\x3e\n\n',"url:mojo/neapolitan/editors/blocks/templates/SocialFollowEditor/_itemWeb.html":'\x3cdiv style\x3d"display:flex;align-items:center;flex-direction:{{itemArrangement}};padding:{{item.margins}};"\x3e\n    {% if displayIcon %}\n        \x3cdiv class\x3d"mcnFollowIconContent" style\x3d"width:{{iconWidth}}; padding:{{iconMargin}};"\x3e\n            \x3ca href\x3d"{{item.link}}" target\x3d"_blank"\x3e\n                \x3cimg src\x3d"{{item.iconUrl}}" alt\x3d"{{item.text|default:\'\'}}" class\x3d"mcnFollowBlockIcon" width\x3d"100%" style\x3d"max-width:48px; display:block;" /\x3e\n            \x3c/a\x3e\n        \x3c/div\x3e\n    {% endif %}\n    {% if displayText %}\n        \x3cdiv class\x3d"mcnFollowTextContent" style\x3d"padding-left:{{textIconMargin}};"\x3e\n            \x3ca href\x3d"{{item.link}}" target\x3d"_blank"\x3e{{item.text}}\x3c/a\x3e\n        \x3c/div\x3e\n    {% endif %}\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/ImageGroupEditor/outputWeb.html":'\x3cdiv class\x3d"mcnImageGroupBlock"\x3e\n    {% for group in images %}\n        \x3cdiv class\x3d"mcnImageGroupBlockInner" style\x3d"display:flex; justify-content:center; padding:9px;"\x3e\n            {% for image in group %}\n            \x3cdiv class\x3d"mcnImageGroupContentContainer" style\x3d"display:flex; flex:{% if image.flexStyle %}{{image.flexStyle}}{% else %}auto{% endif %};"\x3e\n                \x3cdiv class\x3d"mcnImageGroupContent" style\x3d"padding:0 9px; width:100%;"\x3e\n                    {% if image.src %}\n                        {% if image.link %}\n                            {% if image.link.href %}\n                                \x3ca href\x3d"{{image.link.href|safe}}" title\x3d"{{image.link.attrs.title|default:\'\'}}" class\x3d"{{image.link.attrs.class|default:\'\'}}" target\x3d"{{image.link.attrs.target|default:\'\'}}"\x3e\n                            {% endif %}\n                        {% endif %}\n                        \x3cimg alt\x3d\'{{image.alt|default:""}}\' src\x3d\'{{image.src|safe}}\' width\x3d"{{image.width|safe}}" style\x3d"max-width:100%; align-self:center;" class\x3d"mcnImage"/\x3e\n                        {% if image.link %}\n                            {% if image.link.href %}\n                            \x3c/a\x3e\n                            {% endif %}\n                        {% endif %}\n                    {% else %}\n                    \x3ctable style\x3d"width:100%;" class\x3d"mcpreview-image-uploader" data-mc-id\x3d"{{image.index}}"\x3e\x3c/table\x3e\n                    {% endif %}\n                \x3c/div\x3e\n            \x3c/div\x3e\n            {% endfor %}\n        \x3c/div\x3e\n    {% endfor %}\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/PromoCodeEditor/outputWeb.html":'\x3cdiv class\x3d"mcnPromoBlock"\x3e\n    \x3cdiv style\x3d"padding-top: 9px; padding-right: 18px; padding-bottom: 9px; padding-left: 18px;"\x3e\n        \x3cdiv class\x3d"mcnPromoCodeContentContainer"\x3e\n            \x3cdiv style\x3d"padding-top:27px;"\x3e\n                {% for row in rows %}\n                \x3cdiv class\x3d"{{row.className}}" {% if row.styles %}style\x3d"{{row.styles}}"{% endif %}\x3e\n                    {{row.html|safe}}\n                \x3c/div\x3e\n                {% endfor %}\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/SocialShareEditor/outputWeb.html":'\x3cdiv class\x3d"mcnShareBlockInner"\x3e\n    \x3cdiv style\x3d"display:flex; padding:9px 18px; {{blockAlign}}"\x3e\n        \x3cdiv class\x3d"mcnShareContent" style\x3d"display:flex; flex:{{containerWidth}}; flex-wrap:wrap; flex-direction:{{flexStyle}}; {{blockAlign}} padding:9px 0 0 9px;"\x3e\n            {% for item in items %}\n            \x3cdiv style\x3d"display:flex; padding-right:9px; padding-bottom:9px; {{blockAlign}}"\x3e\n                \x3cdiv class\x3d"mcnShareContentItem" style\x3d"display:flex; align-items:center; padding:5px 9px;"\x3e\n                    \x3cdiv class\x3d"mcnShareIconContent"\x3e\n                        \x3ca href\x3d"{{item.link|safe}}" target\x3d"_blank"\x3e\n                            \x3cimg src\x3d"{{item.iconUrl}}" alt\x3d"{{item.text|default:\'\'}}" class\x3d"mcnShareBlockIcon" width\x3d"100%" style\x3d"max-width:24px; height:auto;" /\x3e\n                        \x3c/a\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"mcnShareTextContent" style\x3d"padding-left:5px;"\x3e\n                        \x3ca href\x3d"{{item.link|safe}}" target\x3d"_blank"\x3e{{item.text}}\x3c/a\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            {% endfor %}\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/WebVideoEditor/outputWeb.html":'\x3cdiv class\x3d"mcnVideoBlock"\x3e\n    \x3cdiv class\x3d"mcnVideoBlockInner" style\x3d"padding:9px 18px;"\x3e\n        \x3cdiv class\x3d"{{imageContentClassNames}} mcnVideoContainer" style\x3d"display:flex; flex-direction:{{styleFlexDirection}}; margin:0 auto;"\x3e\n            \x3cdiv style\x3d"{{cardImageContentStyle}}"\x3e\n                {% if video %}\n                    \x3ctable width\x3d"100%" height\x3d"100%" cellspacing\x3d"0" cellpadding\x3d"0"\x3e\n                        \x3ctr\x3e\n                            \x3ctd\x3e\n                                \x3cdiv class\x3d"cardVideoContainer" style\x3d"{{videoContainerStyles}}"\x3e\n                                    {{video.mergeString}}\n                                \x3c/div\x3e\n                            \x3c/td\x3e\n                        \x3c/tr\x3e\n                    \x3c/table\x3e\n                {% else %}\n                    \x3cdiv class\x3d"cardVideoContainer" style\x3d"display:flex; flex-direction:row; flex:1 1 100%; {{videoContainerStyles}}"\x3e\n                        \x3cdiv class\x3d"mcpreview-video-placeholder mojoImageUploader" style\x3d"display:flex; flex:1 1 100%; justify-content:center;"\x3e\x3c/div\x3e\n                    \x3c/div\x3e\n                {% endif %}\n            \x3c/div\x3e\n            {% if caption %}\n                \x3cdiv class\x3d"mcnVideoCaption" style\x3d"{{captionContentStyle}};"\x3e\n                    \x3cdiv class\x3d"mcnTextContent" style\x3d"flex:1 1 100%; padding: 18px;"\x3e\n                        {{caption.text|safe}}\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            {% endif %}\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/block-renderers/email/templates/TextBlockOutput.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"{{blockClassName}}" style\x3d"min-width:100%;"\x3e\n    \x3ctbody class\x3d"{{outerBlockClassName}}"\x3e\n        \x3ctr\x3e\n            \x3ctd valign\x3d"top" class\x3d"{{innerBlockClassName}}" style\x3d"padding-top:9px;"\x3e\n              \t\x3c!--[if mso]\x3e\n\t\t\t\t\x3ctable align\x3d"left" border\x3d"0" cellspacing\x3d"0" cellpadding\x3d"0" width\x3d"100%" style\x3d"width:100%;"\x3e\n\t\t\t\t\x3ctr\x3e\n                \x3c![endif]--\x3e\n                {{textColumns|safe}}\n\t\t\t\t\x3c!--[if mso]\x3e\n\t\t\t\t\x3c/tr\x3e\n\t\t\t\t\x3c/table\x3e\n\t\t\t\t\x3c![endif]--\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/block-renderers/email/templates/_textBlockColumn.html":'\x3c!--[if mso]\x3e\n\x3ctd valign\x3d"top" width\x3d"{{width}}" style\x3d"width:{{width}}px;"\x3e\n\x3c![endif]--\x3e\n\x3ctable align\x3d"left" style\x3d"{{tableStyle}}" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"mcnTextContentContainer"\x3e\n    \x3ctr\x3e\n        \x3ctd valign\x3d"top" class\x3d"mcnTextContent" style\x3d"{{cellStyle}}"\x3e\n            {{content|safe}}\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n\x3c!--[if mso]\x3e\n\x3c/td\x3e\n\x3c![endif]--\x3e\n',
"url:mojo/neapolitan/block-renderers/email/templates/_boxedTextBlockColumn.html":'\x3c!--[if mso]\x3e\n\x3ctd valign\x3d"top" width\x3d"{{width}}" style\x3d"width:{{width}}px;"\x3e\n\x3c![endif]--\x3e\n\x3ctable align\x3d"left" style\x3d"{{tableStyle}}" border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"{{tableWidth}}" class\x3d"mcnBoxedTextContentContainer"\x3e\n    \x3ctr\x3e\n        \x3ctd valign\x3d"top" class\x3d"{{boxContentColumnClassNames}}" style\x3d"{{cellStyle}}"\x3e\n            \x3ctable border\x3d"0" cellspacing\x3d"0" class\x3d"mcnTextContentContainer" width\x3d"100%" style\x3d"min-width:100% !important;"\x3e\n                \x3ctr\x3e\n                    \x3ctd valign\x3d"top" class\x3d"mcnTextContent" style\x3d"{{boxedCellStyle}}"\x3e\n                        {{content|safe}}\n                    \x3c/td\x3e\n                \x3c/tr\x3e\n            \x3c/table\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/table\x3e\n\x3c!--[if mso]\x3e\n\x3c/td\x3e\n\x3c![endif]--\x3e\n',
"url:mojo/neapolitan/block-renderers/web/templates/TextBlockOutput.html":'\x3cdiv width\x3d"100%" class\x3d"{{blockClassName}}"\x3e\n    \x3cdiv class\x3d"{{innerBlockClassNames}}" style\x3d"{{innerBlockStyle}}"\x3e\n        {{textColumns|safe}}\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/neapolitan/block-renderers/web/templates/_textBlockColumn.html":'\x3cdiv class\x3d"{{columnContainerClassNames}}" style\x3d"{{containerStyle}}"\x3e\n    \x3cdiv class\x3d"{{columnContentClassNames}}" style\x3d"{{itemStyle}}"\x3e\n        {{content|safe}}\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/block-renderers/email/templates/ButtonBlockOutput.html":'\x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" width\x3d"100%" class\x3d"{{blockClassName}}" style\x3d{{blockStyle}}\x3e\n    \x3ctbody class\x3d"{{outerBlockClassName}}"\x3e\n        \x3ctr\x3e\n            \x3ctd style\x3d"{{innerBlockStyle}}" valign\x3d"top" align\x3d"{{align|default:\'center\'}}" class\x3d"{{innerBlockClassName}}"\x3e\n                \x3ctable border\x3d"0" cellpadding\x3d"0" cellspacing\x3d"0" {% if buttonWidth %}width\x3d"{{buttonWidth}}"{% endif %} class\x3d"{{contentContainerClassName}}" style\x3d"{{contentContainerStyle}}"\x3e\n                    \x3ctbody\x3e\n                        \x3ctr\x3e\n                            \x3ctd align\x3d"center" valign\x3d"middle" class\x3d"{{contentClassName}}"\x3e\n                                {{buttonContent|safe}}\n                            \x3c/td\x3e\n                        \x3c/tr\x3e\n                    \x3c/tbody\x3e\n                \x3c/table\x3e\n            \x3c/td\x3e\n        \x3c/tr\x3e\n    \x3c/tbody\x3e\n\x3c/table\x3e\n',
"url:mojo/neapolitan/block-renderers/common/templates/partials/ButtonContentOutput.html":'\x3ca class\x3d"{{contentClasses}}" title\x3d"{{title}}" href\x3d"{{href|safe}}" target\x3d"{{target}}" style\x3d"{{contentStyle}}"\x3e{{buttonText}}\x3c/a\x3e\n',"url:mojo/neapolitan/block-renderers/web/templates/ButtonBlockOutput.html":'\x3cdiv class\x3d"{{blockClassName}} {{innerBlockClassName}}" style\x3d"{{blockStyle}} justify-content:{{align}};"\x3e\n    \x3cdiv {% if buttonWidth %}style\x3d"flex:auto;"{% endif %}\x3e\n        {{buttonContent|safe}}\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/blocks/templates/FooterEditor/footerContent.html":'\x3cem\x3eCopyright \x26copy; *|CURRENT_YEAR|* *|LIST:COMPANY|*, All rights reserved.\x3c/em\x3e\n\x3cbr /\x3e\n*|IFNOT:ARCHIVE_PAGE|*\n    *|LIST:DESCRIPTION|*\n    \x3cbr /\x3e\n    \x3cbr /\x3e\n    \x3cstrong\x3eOur mailing address is:\x3c/strong\x3e\n    \x3cbr /\x3e\n    *|HTML:LIST_ADDRESS_HTML|* *|END:IF|*\n    \x3cbr /\x3e\n    \x3cbr /\x3e\n\tWant to change how you receive these emails?\x3cbr /\x3e\n    You can \x3ca href\x3d"*|UPDATE_PROFILE|*"\x3eupdate your preferences\x3c/a\x3e or \x3ca href\x3d"*|UNSUB|*"\x3eunsubscribe from this list\x3c/a\x3e.\n    \x3cbr /\x3e\n    \x3cbr /\x3e\n    *|IF:REWARDS|* *|HTML:REWARDS|*\n*|END:IF|*\n',
"url:mojo/neapolitan/editors/mcedit/templates/text.html":'\x3cdiv class\x3d"mojo-editable-text"\x3e\n    \x3cdiv class\x3d"mojoEditorContainer colbody colbodyInner"\x3e\n        \x3cdiv class\x3d"drillnavbar alignc"\x3e\n            \x3ch4\x3eEditable Region\x3c/h4\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"colbody mojoEditableTextSection border-top" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3"\x3e\n                \x3ca href\x3d"#" class\x3d"button !margin-right--lv0" data-dojo-attach-point\x3d"switchContentBtn" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-attach-point\x3d"footerContactInfo"\x3e\n                \x3cdiv class\x3d"small-meta padding--lv3"\x3e\n                    \x3cspan class\x3d"fwb"\x3eNote:\x3c/span\x3e\n                    We may automatically add your contact info into the Footer Block.\n                    Contact information is required in all campaigns to comply with the \x3ca onclick\x3d"ga(\'send\', \'event\', window.location.pathname, \'help link\', \'CAN-SPAM ACT\');" href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/how-legitimate-marketers-can-prevent-spam-complaints" target\x3d"_blank"\x3eCAN-SPAM Act and international spam law\x3c/a\x3e.\n                    \x3ca href\x3d"#" data-dojo-attach-point\x3d"contactEditLink" style\x3d"display:none;"\x3eEdit your contact info.\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"save-cancel-group"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:_onDone"\x3eSave \x26amp; Close\x3c/button\x3e\n        \x3cspan data-dojo-attach-point\x3d"timestampContainer"\x3eWe\'ll autosave every ${autosaveInSecs} seconds\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/mcedit/templates/textMobile.html":'\x3cdiv class\x3d"mojo-editable-text"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainerMobile" data-dojo-props\x3d"header: \'Text\'" class\x3d"colbody colbodyInnerFull position--static@editorActive" data-dojo-attach-point\x3d"editorContainer"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody position--static@editorActive" data-mojo-section\x3d"content" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv2 !margin-left--lv0" data-dojo-attach-point\x3d"sectionHeader"\x3eText\x3c/h5\x3e\n            \x3cdiv data-dojo-attach-point\x3d"columnSelector" class\x3d"c-editortabs"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3" data-dojo-attach-point\x3d"recoverContentWarning"\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"switchContentBtn" class\x3d"button !margin-right--lv0" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"footerContactInfo"\x3e\n                \x3cdiv class\x3d"small-meta padding--lv3"\x3e\n                    \x3cspan class\x3d"fwb"\x3eNote:\x3c/span\x3e\n                    We may automatically add your contact info into the Footer Block.\n                    Contact information is required in all campaigns to comply with the \x3ca onclick\x3d"ga(\'send\', \'event\', window.location.pathname, \'help link\', \'CAN-SPAM ACT\');" href\x3d"http://kb.mailchimp.com/accounts/compliance-tips/how-legitimate-marketers-can-prevent-spam-complaints" target\x3d"_blank"\x3eCAN-SPAM Act and international spam law\x3c/a\x3e.\n                    \x3ca href\x3d"#" data-dojo-attach-point\x3d"contactEditLink" style\x3d"display:none;"\x3eEdit your contact info.\x3c/a\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"alignr padding--lv3"\x3e\n                \x3ca href\x3d"#" class\x3d"button !margin-right--lv0" data-dojo-attach-point\x3d"switchContentBtn" style\x3d"display:none;"\x3eRecovered Content\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/mcedit/templates/image.html":'\x3cdiv class\x3d"mojoImageEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainer" data-dojo-props\x3d"header: \'Image\'" class\x3d"colbody colbodyInner" data-dojo-attach-point\x3d"editorContainer"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n            \x3cul data-dojo-attach-point\x3d"imageRow" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageRow"\x3e\x3c/ul\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage size\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3c!-- Don\'t switch these to dijit inputs. It will break proportion feature. --\x3e\n                    \x3cdiv class\x3d"!padding-left--lv0 unit size1of2"\x3e\n                        \x3clabel\x3eWidth\x3c/label\x3e\n                        \x3cinput class\x3d"!margin-bottom--lv0" type\x3d"text" data-dojo-attach-point\x3d"widthInput"/\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"!padding-left--lv0 unit size1of2"\x3e\n                        \x3clabel\x3eHeight\x3c/label\x3e\n                        \x3cinput class\x3d"!margin-bottom--lv0" type\x3d"text" data-dojo-attach-point\x3d"heightInput"/\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"line clear section"\x3e\n                    \x3clabel for\x3d"image-proportion-${id}"\x3e\n                        \x3cinput data-dojo-attach-point\x3d"proportionCheckbox" data-dojo-type\x3d"dijit/form/CheckBox" type\x3d"checkbox" id\x3d"image-proportion-${id}" value\x3d"true" checked /\x3eKeep proportions\n                    \x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"none"\x3eNot specified\x3c/option\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eBorder\x3c/label\x3e\n                    \x3cdiv class\x3d"unit size1of2 !padding-left--lv0"\x3e\n                        \x3cselect class\x3d"!margin-bottom--lv0 full-width" data-dojo-attach-point\x3d"borderStyleInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                            \x3coption value\x3d"none"\x3eNone\x3c/option\x3e\n                            \x3coption value\x3d"solid"\x3eSolid\x3c/option\x3e\n                            \x3coption value\x3d"dotted"\x3eDotted\x3c/option\x3e\n                            \x3coption value\x3d"dashed"\x3eDashed\x3c/option\x3e\n                            \x3coption value\x3d"double"\x3eDouble\x3c/option\x3e\n                            \x3coption value\x3d"groove"\x3eGroove\x3c/option\x3e\n                            \x3coption value\x3d"outset"\x3eOutset\x3c/option\x3e\n                            \x3coption value\x3d"inset"\x3eInset\x3c/option\x3e\n                            \x3coption value\x3d"ridge"\x3eRidge\x3c/option\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"lastUnit size1of2 !padding-left--lv0"\x3e\n                        \x3cinput type\x3d"text" maxlength\x3d"2" class\x3d"!margin-bottom--lv0 inline-block" style\x3d"width:40px" data-dojo-attach-point\x3d"borderWidthInput" data-dojo-type\x3d"dijit/form/TextBox"/\x3e\n                        \x3cspan class\x3d"small-meta inline-block" style\x3d"width:24px"\x3epx\x3c/span\x3e\n                        \x3cinput placeholder\x3d"#ffffff" class\x3d"!margin-bottom--lv0 inline-block" style\x3d"width:80px" type\x3d"text" data-dojo-attach-point\x3d"borderColorInput" data-dojo-type\x3d"dijit/form/TextBox"/\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"save-cancel-group"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:saveAndHide"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/mcedit/templates/imageMobile.html":'\x3cdiv class\x3d"mojoImageEditor"\x3e\n    \x3cdiv data-dojo-type\x3d"mojo/neapolitan/widgets/EditorContainerMobile" data-dojo-props\x3d"header: \'Image\'" class\x3d"colbody colbodyInnerFull" data-dojo-attach-point\x3d"editorContainer"\x3e\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"content" data-mojo-selected\x3d"true"\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader !margin-bottom--lv3 !margin-left--lv0"\x3eImage\x3c/h5\x3e\n            \x3cdiv data-dojo-attach-point\x3d"imageRow" data-dojo-type\x3d"mojo/neapolitan/widgets/ImageRow" data-dojo-props\x3d"isMobile: true"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n\n        \x3cdiv class\x3d"mojoEditorSection colbody" data-mojo-section\x3d"settings"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage size\x3c/h5\x3e\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3c!-- Don\'t switch these to dijit inputs. It will break proportion feature. --\x3e\n                    \x3cdiv class\x3d"!padding-left--lv0 unit size1of2"\x3e\n                        \x3clabel\x3eWidth\x3c/label\x3e\n                        \x3cinput class\x3d"!margin-bottom--lv0" type\x3d"text" data-dojo-attach-point\x3d"widthInput"/\x3e\n                    \x3c/div\x3e\n\n                    \x3cdiv class\x3d"!padding-left--lv0 unit size1of2"\x3e\n                        \x3clabel\x3eHeight\x3c/label\x3e\n                        \x3cinput class\x3d"!margin-bottom--lv0" type\x3d"text" data-dojo-attach-point\x3d"heightInput"/\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"line clear section"\x3e\n                    \x3clabel for\x3d"image-proportion-${id}"\x3e\n                        \x3cinput data-dojo-attach-point\x3d"proportionCheckbox" data-dojo-type\x3d"dijit/form/CheckBox" type\x3d"checkbox" id\x3d"image-proportion-${id}" value\x3d"true" checked /\x3eKeep proportions\n                    \x3c/label\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eImage settings\x3c/h5\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eAlign\x3c/label\x3e\n                    \x3cselect data-dojo-attach-point\x3d"alignInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                        \x3coption value\x3d"none"\x3eNot specified\x3c/option\x3e\n                        \x3coption value\x3d"left"\x3eLeft\x3c/option\x3e\n                        \x3coption value\x3d"center"\x3eCenter\x3c/option\x3e\n                        \x3coption value\x3d"right"\x3eRight\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/div\x3e\n\n                \x3cdiv class\x3d"style-field float-left"\x3e\n                    \x3clabel\x3eBorder\x3c/label\x3e\n                    \x3cdiv class\x3d"unit size1of2 !padding-left--lv0 padding-bottom--lv2"\x3e\n                        \x3cselect class\x3d"!margin-bottom--lv0 full-width" data-dojo-attach-point\x3d"borderStyleInput" data-dojo-type\x3d"dijit/form/Select"\x3e\n                            \x3coption value\x3d"none"\x3eNone\x3c/option\x3e\n                            \x3coption value\x3d"solid"\x3eSolid\x3c/option\x3e\n                            \x3coption value\x3d"dotted"\x3eDotted\x3c/option\x3e\n                            \x3coption value\x3d"dashed"\x3eDashed\x3c/option\x3e\n                            \x3coption value\x3d"double"\x3eDouble\x3c/option\x3e\n                            \x3coption value\x3d"groove"\x3eGroove\x3c/option\x3e\n                            \x3coption value\x3d"outset"\x3eOutset\x3c/option\x3e\n                            \x3coption value\x3d"inset"\x3eInset\x3c/option\x3e\n                            \x3coption value\x3d"ridge"\x3eRidge\x3c/option\x3e\n                        \x3c/select\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"lastUnit size1of2 !padding-left--lv0"\x3e\n                        \x3cinput type\x3d"text" maxlength\x3d"2" class\x3d"!margin-bottom--lv0 inline-block" style\x3d"width:40px" data-dojo-attach-point\x3d"borderWidthInput" data-dojo-type\x3d"dijit/form/TextBox"/\x3e\n                        \x3cspan class\x3d"small-meta inline-block" style\x3d"width:24px"\x3epx\x3c/span\x3e\n                        \x3cinput placeholder\x3d"#ffffff" class\x3d"!margin-bottom--lv0 inline-block" style\x3d"width:80px" type\x3d"text" data-dojo-attach-point\x3d"borderColorInput" data-dojo-type\x3d"dijit/form/TextBox"/\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/dnd/templates/blockTemplate.html":'\x3cli class\x3d"mojoBlockSourceItem float-left alignc selfclear " title\x3d"${description}"\x3e\n    \x3cimg src\x3d"/images/campaigns/content-blocks/${editorType}.svg"\x3e\n    \x3cdiv class\x3d"small-meta fwb"\x3e${name}\x3c/div\x3e\n\x3c/li\x3e',"url:mojo/neapolitan/templates/linkCheckerPane.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"colheader drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3e\x3cspan data-dojo-attach-point\x3d"numChecked"\x3e0\x3c/span\x3e of \x3cspan data-dojo-attach-point\x3d"numLinks"\x3e\x3c/span\x3e links checked\x3c/h4\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"colbody"\x3e\n        \x3cul data-dojo-attach-point\x3d"linkList" class\x3d"drillnav block relative"\x3e\x3c/ul\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/neapolitan/templates/linkCheckerPaneItem.html":'\x3cli class\x3d"media" data-mc-link-id\x3d"{linkId}"\x3e\n    \x3cdiv\x3e\n        \x3cdiv class\x3d"selfclear"\x3e\n            \x3cdiv class\x3d"media-image c-linkCheckImage v-bg-base-gray relative"\x3e\x3c/div\x3e\n            \x3cdiv class\x3d"media-body"\x3e\n                \x3cstrong class\x3d"block overflow-ellipsis"\x3e{label}\x3c/strong\x3e\n                \x3cdiv class\x3d"wordwrap"\x3e{href}\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/li\x3e',
"url:mojo/neapolitan/editors/templates/linkCheckerEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc bottom-border"\x3e\n        \x3ch4\x3eLink Details\x3c/h4\x3e\n        \x3ca class\x3d"button-small drillback imgrpl-inline" href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3cspan class\x3d"freddicon arrow-left"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll"\x3e\n        \x3cdiv class\x3d"media padding--lv3" data-mc-link-id\x3d"{linkId}"\x3e\n            \x3cdiv class\x3d"media-image c-linkCheckImage v-bg-base-gray relative " data-dojo-attach-point\x3d"linkIconContainer"\x3e\n                \x3cimg src\x3d"" class\x3d"absolute pos-tb0 pos-lr0" data-dojo-attach-point\x3d"linkIcon" /\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"media-body"\x3e\n                \x3cstrong class\x3d"block overflow-ellipsis" data-dojo-attach-point\x3d"label"\x3e{label}\x3c/strong\x3e\n                \x3ca href\x3d"" title\x3d"Open link in new window" class\x3d"wordwrap breakall block" data-dojo-attach-point\x3d"href" target\x3d"_blank"\x3e{href}\x3c/a\x3e\n                \x3ca href\x3d"#" class\x3d"small-meta" data-dojo-attach-point\x3d"editLink"\x3eEdit link\x3c/a\x3e\n                \x3cspan class\x3d"small-meta dim-el" data-dojo-attach-point\x3d"notEditableMsg" style\x3d"display:none;"\x3e(This link is part of a template or block that is not editable.)\x3c/span\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cfieldset\x3e\n            \x3cdiv data-dojo-attach-point\x3d"linkForm" style\x3d"display:none;" class\x3d"padding--lv4 !padding-top--lv0 !padding-left--lv0"\x3e\n                \x3cinput type\x3d"text" value\x3d"" data-dojo-attach-point\x3d"linkInput" class\x3d"full-width"\x3e\n                \x3cbutton class\x3d"button p0" data-dojo-attach-point\x3d"saveBtn"\x3eSave\x3c/button\x3e\n                \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelLink"\x3eCancel\x3c/a\x3e\n            \x3c/div\x3e\n        \x3c/fieldset\x3e\n        \x3cfieldset\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader"\x3eLink Destination Preview\x3c/h5\x3e\n\n            \x3c!-- show while loading --\x3e\n            \x3cdiv class\x3d"alignc padding--lv3" data-dojo-attach-point\x3d"imageLoader" style\x3d"display:none;"\x3e\n                \x3cimg src\x3d"/css/icons/pulse.gif" class\x3d"pulse" /\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"screenshotContainer" style\x3d"display:none;"\x3e\x3c/div\x3e\n\n            \x3c!-- If we can\'t get a preview image, show warning feedback-block. --\x3e\n            \x3cdiv class\x3d"feedback-block warning section" data-dojo-attach-point\x3d"noScreenshotMsg" style\x3d"display:none;"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\x3c/div\x3e\n                        \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                            \x3ch4\x3eThis link may be broken\x3c/h4\x3e\n                            \x3cp\x3eWe weren\'t able to get a screenshot, so you should make sure it works by clicking below.\x3c/p\x3e\n                            \x3ca href\x3d"#" class\x3d"button p0" target\x3d"_blank" data-dojo-attach-point\x3d"visitLink"\x3eVisit Link\x3c/a\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3c!-- If we can\'t get a preview image, show info feedback-block. --\x3e\n            \x3cdiv class\x3d"feedback-block info section" role\x3d"status" data-dojo-attach-point\x3d"noPreviewMsg" style\x3d"display:none;"\x3e\n                \x3cdiv class\x3d"lastUnit size1of1"\x3e\n                    \x3cdiv class\x3d"c-media"\x3e\n                        \x3cdiv class\x3d"c-mediaImage v-isFreddicon"\x3e\x3cspan class\x3d"freddicon info-circle"\x3e\x3c/span\x3e\x3c/div\x3e\n                        \x3cdiv class\x3d"c-mediaBody--centered"\x3e\n                            \x3ch4\x3eNo preview available\x3c/h4\x3e\n                            \x3cp\x3eThis link contains a mergetag, anchor, mailto or some other destination that our website photographer refuses to visit.\x3c/p\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/fieldset\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane alignr"\x3e\n        \x3cspan class\x3d"small-meta margin--lv2 !margin-top-bottom--lv0"\x3e\x3cstrong\x3eLink \x3cspan data-dojo-attach-point\x3d"currentPos"\x3e\x3c/span\x3e\x3c/strong\x3e of \x3cstrong data-dojo-attach-point\x3d"totalCount"\x3e\x3c/strong\x3e\x3c/span\x3e\n        \x3cbutton class\x3d"button margin--lv1 !margin-top-bottom--lv0" data-dojo-attach-point\x3d"prevBtn"\x3eBack\x3c/button\x3e\n        \x3cbutton class\x3d"button p0 !margin--lv0" data-dojo-attach-point\x3d"nextBtn"\x3eNext\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/templates/linkCheckerSlider.html":'\x3cdiv class\x3d"viewcol split-left" data-dojo-attach-point\x3d"previewContainer"\x3e\n    \x3cdiv class\x3d"iframe-loading-message"\x3e\n        \x3cdiv class\x3d"loadingbar alignc"\x3e\x3cimg src\x3d"/css/icons/pulse.gif" class\x3d"pulse margin--lv2"\x3e\x3cbr /\x3e\x3cstrong\x3ePlease wait, loading...\x3c/strong\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3ciframe data-dojo-attach-point\x3d"previewFrame" class\x3d"preview-frame" style\x3d"width: 100%;" src\x3d""\x3e\x3c/iframe\x3e\n\x3c/div\x3e\n\n\x3cdiv class\x3d"mobile-view viewcol split-right"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"linkCheckerPane"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/templates/monkeyRewardsEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom"\x3e\n        \x3ch4\x3eMonkeyRewards\x3c/h4\x3e\n        \x3ca class\x3d"button drillback imgrpl-inline" href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3cspan class\x3d"freddicon arrow-left"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll"\x3e\n        \x3cdiv class\x3d"padding--lv3"\x3e\n            \x3cdiv class\x3d"bannerContainer margin--lv3 !margin-left-right--lv0" data-dojo-attach-point\x3d"bannerContainer"\x3e\x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"freeAccount" class\x3d"small-meta" style\x3d"display:none;"\x3e\n                MonkeyRewards badge required in free accounts. \x3ca href\x3d"/account/billing-plan"\x3eUpgrade \x26raquo;\x3c/a\x3e\x3cbr /\x3e\n            \x3c/div\x3e\n\n            \x3cdiv data-dojo-attach-point\x3d"paidAccount" style\x3d"display:none;"\x3e\n                \x3clabel class\x3d"!padding--lv0"\x3e\x3cspan class\x3d"block !margin-bottom--lv2"\x3eRewards Badge\x3c/span\x3e\n                    \x3cselect data-dojo-attach-point\x3d"toggleRewards"\x3e\n                        \x3coption value\x3d"Y"\x3eOn\x3c/option\x3e\n                        \x3coption value\x3d"N"\x3eOff\x3c/option\x3e\n                    \x3c/select\x3e\n                \x3c/label\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cfieldset\x3e\n            \x3ch5 class\x3d"c-paneSectionHeader"\x3eSelect a different badge\x3c/h5\x3e\n            \x3cul data-dojo-attach-point\x3d"bannerSelector"\x3e\x3c/ul\x3e\n        \x3c/fieldset\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:_onDone"\x3eSave \x26amp; Close\x3c/button\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/templates/privacyBadgeEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom "\x3e\n        \x3ch4\x3ePrivacy Badge Design\x3c/h4\x3e\n        \x3ca class\x3d"button drillback imgrpl-inline" href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3cspan class\x3d"freddicon arrow-left"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll"\x3e\n        \x3cdiv class\x3d"mojoEditorSection padding-top--lv2" data-mojo-section\x3d"visibility"\x3e\n            \x3cfieldset\x3e\n                \x3cdiv class\x3d"line section"\x3e\n                    \x3cdiv class\x3d"size1of2 group"\x3e\n                        \x3cp class\x3d"float-left fwb !margin--lv0"\x3ePrivacy and Terms\x3c/p\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"size1of2 group"\x3e\n                        \x3cinput\n                            class\x3d"float-right"\n                            type\x3d"checkbox"\n                            data-dojo-attach-point\x3d"privacyBadgeEnabledSwitch"\n                            data-dojo-type\x3d"mojo/widgets/Switch"\n                            data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\', onChange: this.onTogglePrivacyEnabled.bind(this)"\n                        /\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv\x3e\n                    \x3cp data-dojo-attach-point\x3d"privacyDescription"\x3e\n                        We include links to our privacy policy and terms of use on all landing pages.\n                    \x3c/p\x3e\n                    \x3cdiv class\x3d"feedback-block warning section" data-dojo-attach-point\x3d"privacyWarning"\x3e\n                        \x3cdiv class\x3d"unit size1of1"\x3e\n                            \x3cdiv class\x3d"media"\x3e\n                                \x3cdiv class\x3d"media-image"\x3e\n                                    \x3cspan class\x3d"freddicon warn-circle"\x3e\x3c/span\x3e\n                                \x3c/div\x3e\n                                \x3cdiv class\x3d"media-body"\x3e\n                                    \x3cp\x3eThese links help visitors understand their use of your landing page and are required in some regions. If you remove our links from your page, you must provide links to your own privacy policy and terms of use.\x3c/p\x3e\n                                    \x3cp\x3e\x3ca href\x3d"https://kb.mailchimp.com/campaigns/landing-pages/landing-page-privacy" target\x3d"_blank" title\x3d"Privacy and Terms knowledge"\x3eLearn more about privacy and terms\x3c/a\x3e\x3c/p\x3e\n                                \x3c/div\x3e\n                            \x3c/div\x3e\n                        \x3c/div\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n\n            \x3c/fieldset\x3e\n            \x3cfieldset data-dojo-attach-point\x3d"themeStyleSection"\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eStyle\x3c/h5\x3e\n                \x3clabel class\x3d"radio"\x3e\n                    \x3cinput\n                        name\x3d"privacyBadgeTheme"\n                        value\x3d"light"\n                        type\x3d"radio"\n                        data-dojo-type\x3d"dijit/form/RadioButton"\n                        data-dojo-attach-point\x3d"privacyBadgeLight"\n                        data-dojo-props\x3d"onChange: this.onThemeChange.bind(this, this.THEME_LIGHT)"\n                        class\x3d"av-radio"\n                    /\x3e\n                    \x3cdiv class\x3d"c-privacyBadgeIcon c-privacyBadgeIcon--light"\x3ePrivacy \x3cspan style\x3d"opacity:0.5"\x3e|\x3c/span\x3e Terms\x3c/div\x3e\n                \x3c/label\x3e\n                \x3clabel class\x3d"radio"\x3e\n                    \x3cinput\n                        name\x3d"privacyBadgeTheme"\n                        value\x3d"dark"\n                        type\x3d"radio"\n                        data-dojo-type\x3d"dijit/form/RadioButton"\n                        data-dojo-attach-point\x3d"privacyBadgeDark"\n                        data-dojo-props\x3d"onChange: this.onThemeChange.bind(this, this.THEME_DARK)"\n                        class\x3d"av-radio"\n                    /\x3e\n                    \x3cdiv class\x3d"c-privacyBadgeIcon c-privacyBadgeIcon--dark"\x3ePrivacy \x3cspan style\x3d"opacity:0.5"\x3e|\x3c/span\x3e Terms\x3c/div\x3e\n                \x3c/label\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n\n\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:_onDone"\x3eSave\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onclick:_onCancel"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/editors/templates/globalElementStyleEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"styleForm" class\x3d"padding-bottom--lv4"\x3e\n        \x3c!-- Dynamic --\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',"url:mojo/neapolitan/editors/templates/pageBannerEditor.html":'\x3cdiv class\x3d"mojoStyleEditor"\x3e\n    \x3cdiv class\x3d"drillnavbar alignc border-bottom "\x3e\n        \x3ch4\x3eNotification Bar Design\x3c/h4\x3e\n        \x3ca class\x3d"button drillback imgrpl-inline" href\x3d"#" data-dojo-attach-event\x3d"onclick:_onDone"\x3e\x3cspan class\x3d"freddicon arrow-left"\x3e\x3c/span\x3e\x3c/a\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"editorscroll"\x3e\n        \x3cdiv class\x3d"mojoEditorSection padding-top--lv2" data-mojo-section\x3d"visibility"\x3e\n            \x3cfieldset\x3e\n                \x3cdiv class\x3d"line section"\x3e\n                    \x3cdiv class\x3d"size1of2 group"\x3e\n                        \x3cp class\x3d"float-left fwb !margin--lv0"\x3eNotification Bar\x3c/p\x3e\n                    \x3c/div\x3e\n                    \x3cdiv class\x3d"size1of2 group"\x3e\n                        \x3cinput\n                            class\x3d"float-right"\n                            type\x3d"checkbox"\n                            data-dojo-attach-point\x3d"pageBannerEnabledSwitch"\n                            data-dojo-type\x3d"mojo/widgets/Switch"\n                            data-dojo-props\x3d"sizeClass:\'switch-small !margin-right--lv0\', onChange: this.onToggleEnabled.bind(this)"\n                        /\x3e\n                    \x3c/div\x3e\n                \x3c/div\x3e\n                \x3cdiv data-dojo-attach-point\x3d"pageBannerWarning"\x3e\n                    \x3cp\x3eThis horizontal bar at the top of your landing page overlays your other content and calls attention to important messages, such as a limited time offer or onsite tracking (cookies).\x3c/p\x3e\n                    \x3cp\x3e\x3ca href\x3d"#" data-dojo-attach-point\x3d"kbLink" target\x3d"_blank" title\x3d"KB Link for Page Banner"\x3eLearn more about notification bars\x3c/a\x3e\x3c/p\x3e\n                \x3c/div\x3e\n            \x3c/fieldset\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"mojoEditorSection border-top-light" data-dojo-attach-point\x3d"styleEditorContainer"\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"border-top-light" data-dojo-attach-point\x3d"contentSection" data-mojo-ck-scroll\x3d"true"\x3e\n            \x3cfieldset\x3e\n                \x3ch5 class\x3d"c-paneSectionHeader"\x3eText\x3c/h5\x3e\n            \x3c/fieldset\x3e\n            \x3cdiv class\x3d"c-ckeditorContainer" data-dojo-attach-point\x3d"ckeditorContainer"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\n    \x3cdiv class\x3d"c-actionButtonsPane"\x3e\n        \x3cbutton class\x3d"button p0" data-dojo-attach-event\x3d"onclick:_onDone"\x3eSave\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onclick:_onCancel"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/neapolitan/widgets/templates/preservedContentDialog.html":'\x3cdiv style\x3d"max-width:500px;"\x3e\n    \x3cdiv class\x3d"dijitDialogPaneContentArea"\x3e\n        \x3cdiv class\x3d"section"\x3e\n            \x3cdiv class\x3d"float-right button-group dark margin--lv2 !margin-top--lv0 !margin-right--lv0"\x3e\n                \x3ca href\x3d"#" class\x3d"button-small p0" data-dojo-attach-point\x3d"prevBtn"\x3e\x3cspan class\x3d"freddicon menu-left"\x3e\x3c/span\x3e\x3c/a\x3e\n                \x3ca href\x3d"#" class\x3d"button-small p0" data-dojo-attach-point\x3d"nextBtn"\x3e\x3cspan class\x3d"freddicon menu-right on-right"\x3e\x3c/span\x3e\x3c/a\x3e\n            \x3c/div\x3e\n            \x3cp\x3eChoose content from a previous template that isn\'t currently being used.\x3c/p\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"contentPaneContainer"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"dijitDialogPaneActionBar"\x3e\n        \x3cbutton data-dojo-attach-point\x3d"useBtn" data-dojo-type\x3d"dijit/form/Button" class\x3d"button p0"\x3eUse This\x3c/button\x3e\n        \x3ca href\x3d"#" data-dojo-attach-point\x3d"cancelBtn" class\x3d"small-meta fwb"\x3eCancel\x3c/a\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:mojo/views/account/clients/templates/FilteringSelectUser.html":'\x3cdiv class\x3d"c-media padding--lv1 padding-left-right--lv0"\x3e\n    \x3cdiv class\x3d"c-mediaImage"\x3e\n        \x3cdiv style\x3d"background: url({avatar}) no-repeat center/contain; width:48px; height:48px;" class\x3d"border-gray border-radius--lv1"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"c-mediaBody"\x3e\n        \x3cp class\x3d"font-weight--bold small-meta margin-bottom--lv0"\x3e{fname} {lname}\x3c/p\x3e\n        \x3cp class\x3d"font-weight--normal small-meta margin-bottom--lv0"\x3e{contact_email} \x26middot; {username}\x3c/p\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:mojo/analytics/parts/templates/listMemberPagingTotal.html":'\x3cdiv class\x3d"member-count border-radius--rounded float-right alignr"\x3e\n    \x3cspan data-dojo-attach-point\x3d"totalCount"\x3e\x3c/span\x3e\n    \x3cspan data-dojo-attach-point\x3d"displayTxt" id\x3d"member-count-type"\x3e\x3c/span\x3e\n\x3c/div\x3e\n',"url:mojo/analytics/parts/templates/search.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"size1of1 lastUnit !padding--lv0"\x3e\n        \x3cdiv class\x3d"relative form-inline with-button"\x3e\n            \x3cinput data-dojo-attach-point\x3d"search" type\x3d"search" name\x3d"search" placeholder\x3d"" class\x3d"!margin--lv0"\x3e\n            \x3c!-- when not using freddicon, remove aria-label, remove the span and replace with button text --\x3e\n            \x3ca class\x3d"button-small" aria-label\x3d"Search button" data-dojo-attach-point\x3d"submit"\x3e\x3cspan class\x3d"freddicon search !margin--lv0" role\x3d"presentation"\x3e\x3c/span\x3e\x3c/a\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e',
"url:dojox/form/resources/TriStateCheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dojoxTriStateCheckBoxInner" dojoAttachPoint\x3d"stateLabelNode"\x3e\x3c/div\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" dojoAttachPoint\x3d"focusNode"\n\tclass\x3d"dijitReset dojoxTriStateCheckBoxInput" dojoAttachEvent\x3d"onclick:_onClick"\n/\x3e\x3c/div\x3e\n',"*now":function(l){l(['dojo/i18n!*preload*dojo/nls/mccommon*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});
define("dojo/mccommon",[],1);